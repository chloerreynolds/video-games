"use strict";
/*! BEGIN BrowserSupport */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BrowserSupport=t():e.BrowserSupport=t()}(window,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){"use strict";return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=0)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(2),i=n(3),u=!1,c="fonts"in document,s=!1,a=!1,d="transform",f="transition",l=!1,p=!1,m=!1,h=!1,y=!1,v=!1,b=!1,g=!1,w=0,S=0,I=0,x=0,O=0,P=!1,E=!1,T=!1,M=!1,C=!1,D=!1,j=!1,k=!1,F=!1,U=!1,_=!1,A=!1,R=1,L=1,B=!1,G=!1,z=!1,H=!1,V=!1,N=!1,W=!1,J=0,K={isMobile:function(){return!1}},q=function(){function e(){}return e.setConfig=function(e){K=e},e.GetComputedStyle=function(){return"getComputedStyle"in window},e.AddEventListener=function(){return"addEventListener"in document},e.SelectStart=function(){return u},e.IsTouch=function(){return U},e.FontLoader=function(){return c},e.Promise=function(){return"Promise"in window},e.PostMessage=function(){return s},e.HistoryApi=function(){return a},e.IsMobile=function(){return j||D},e.IsIos=function(){return D},e.IsAndroid=function(){return j},e.IsChrome=function(){return h},e.IsMac=function(){return!D&&k},e.IsIE=function(){return y},e.IsEdge=function(){return v},e.IsLegacyEdge=function(){return v},e.IsChrEdge=function(){return b},e.IsEdgeIos=function(){return g},e.IsChromium=function(){return h||b},e.IsFF=function(){return P},e.IsOpera=function(){return E},e.IsSafari=function(){return m},e.IsWindows=function(){return F},e.IsHighDpi=function(){return window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches},e.IsTableau=function(){return _},e.IsMobileBrowser=function(){return A},e.BrowserVersion=function(){return w},e.ChrEdgeVersion=function(){return S},e.SafariVersion=function(){return x},e.GoogleChromeVersion=function(){return I},e.IosVersion=function(){return e.IsIOSDeviceInDesktopMode()?e.SafariVersion():O},e.RaisesEventOnImageReassignment=function(){return!m},e.ImageLoadIsSynchronous=function(){return y},e.UseAlternateHitStrategy=function(){return l},e.CssTransformName=function(){return d},e.CssTransitionName=function(){return f},e.BackingStoragePixelRatio=function(){return L},e.DevicePixelRatio=function(){return R},e.CanvasLinePattern=function(){return p},e.DateInput=function(){return B},e.DateTimeInput=function(){return G},e.DateTimeLocalInput=function(){return z},e.TimeInput=function(){return H},e.SetSelectionRange=function(){return V},e.MouseWheelEvent=function(){return"onwheel"in window.document.documentElement?"wheel":"onmousewheel"in window.document.documentElement?"mousewheel":"MozMousePixelScroll"},e.MouseCapture=function(){return"releaseCapture"in document},e.OrientationChange=function(){return"onorientationchange"in window},e.ProxyObjectSupport=function(){return"Proxy"in window},e.IsGeolocationSupported=function(){return null!==window.navigator.geolocation||void 0!==window.navigator.geolocation},e.SupportsFormData=function(){return void 0!==window.FormData},e.SupportsFileReader=function(){return void 0!==window.FileReader},e.SupportsDragAndDropEvents=function(){return N},e.SupportsSvgElements=function(){return W},e.ScrollbarWidth=function(){return J},e.IsIpad=function(){return-1!==e.GetUserAgent().indexOf("iPad")||e.IsIOSDeviceInDesktopMode()},e.IsIOSDeviceInDesktopMode=function(){return-1!==e.GetUserAgent().indexOf("Macintosh")&&e.IsTouch()&&!e.IsTableau()},e.IsTouchAndNonMobile=function(){return i.TouchScreenUtil.HasUserTouchedScreen&&!K.isMobile()},e.IsTouchScreen=function(){return i.TouchScreenUtil.HasUserTouchedScreen},e.IsTouchEventSupported=function(){return"undefined"!=typeof TouchEvent},e.GetUserAgent=function(){return window.navigator.userAgent},e.GetOrigin=function(e){var t=e.origin;return null==t&&(t=e.protocol+"//"+e.host),t},e.DetectBrowserSupport=function(){var e,t=document.body,n=document.createElement("div");t.appendChild(n),u="onselectstart"in n,t.removeChild(n).style.display="none",s="postMessage"in window,a="function"==typeof window.history.pushState&&"function"==typeof window.history.replaceState,Q(),f=Y({transition:"transition",webkitTransition:"-webkit-transition",msTransition:"-ms-transition",mozTransition:"-moz-transition",oTransition:"-o-transition"})||f,d=Y({transform:"transform",webkitTransform:"-webkit-transform",msTransform:"-ms-transform",mozTransform:"-moz-transform",oTransform:"-o-transform"})||d,X(),R=window.self.devicePixelRatio||1,function(){var e=document.createElement("canvas");if(null==e)return void(L=1);var t=null;"getContext"in e&&"function"==typeof e.getContext&&(t=e.getContext("2d"));if(null==t)return void(L=1);var n=t;L=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||1}(),B=Z("date"),G=Z("datetime"),z=Z("datetime-local"),H=Z("time"),function(){var e=document.createElement("canvas");if(null==e)return;var t=null;"getContext"in e&&"function"==typeof e.getContext&&(t=e.getContext("2d"));if(null==t)return;p="function"==typeof t.setLineDash||"mozDash"in t||"webkitLineDash"in t}(),e=document.createElement("input"),V="function"==typeof e.setSelectionRange,function(){var e=document.documentElement;N="ondragstart"in e&&"ondrop"in e}(),W=!!("createElementNS"in document&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.position="absolute",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.clientWidth,n=e.offsetWidth;e.parentNode&&e.parentNode.removeChild(e);J=n-t}()},e}();function X(){var e=window.document.body;if(M&&q.IsMobile()){var t=document.createElement("div");t.style.setProperty("position","absolute"),t.style.setProperty("top","300px"),t.style.setProperty("left","300px"),t.style.setProperty("width","25px"),t.style.setProperty("height","25px"),t.style.setProperty("z-index","10000");try{e.appendChild(t),l=document.elementFromPoint(310,310)!==t}catch(e){}finally{t.remove()}}}function Q(){var e,t=q.GetUserAgent();(T=t.indexOf("Konqueror")>=0,M=t.indexOf("WebKit")>=0,h=t.indexOf("Chrome")>=0||t.indexOf("CriOS")>=0,g=t.indexOf("EdgiOS")>=0,m=t.indexOf("Safari")>=0&&!h,E=t.indexOf("Opera")>=0,m)&&(null!==(e=t.match(/\bVersion\/(\d+\.\d+)/))&&(x=parseFloat(e[1])));h&&(null!==(e=t.match(/\bChrome\/(\d+\.\d+)/))&&(I=parseFloat(e[1])));w=0,y=!1;var n=t.match(/\bMSIE (\d+\.\d+)/);if(null!==n&&(y=!0,w=parseFloat(n[1])),!y&&!E&&(t.indexOf("Trident")>=0||t.indexOf("Edge/")>=0||t.indexOf("Edg/")>=0)){var o=t.match(/\brv:(\d+\.\d+)/),r=t.match(/Edge\/(\d+\.\d+)/),i=t.match(/Edg\/(\d+\.\d+)/);null!==o?(y=!0,v=!1,w=parseFloat(o[1])):null!==r?(y=!0,v=!0,h=!1,m=!1,w=parseFloat(r[1])):null!==i&&(b=!0,h=!1,m=!1,S=parseFloat(i[1]))}C=!T&&!M&&!y&&t.indexOf("Gecko")>=0,P=C||t.indexOf("Firefox")>=0||t.indexOf("Minefield")>=0;if(D=/iPhone|iPod|iPad/.test(t)||q.IsIOSDeviceInDesktopMode()){var u=t.match(/\bOS ([\d+_?]+) like Mac OS X/);null!==u&&(O=parseFloat(u[1].replace(/_/,".").replace(/_/g,"")))}j=t.indexOf("Android")>=0&&!y,k=t.indexOf("Mac")>=0,F=t.indexOf("Windows")>=0,U=function(){var e;try{e="ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch}catch(t){e=!1}return e}(),_=t.indexOf("Tableau")>=0,A=function(){var e=q.GetUserAgent(),t=q.IsIos()&&(q.IsSafari()||q.IsChrome()),n=q.IsChrome()&&q.IsAndroid(),o=/Version\/[0-9]+\.[0-9]+/i.test(e)||/wv/i.test(e),r=n&&!o;return q.IsMobile()&&(t||q.IsFF()||r)}()}function Y(e){for(var t=Object.keys(e),n=0;n<t.length;++n){var o=t[n];if(o in document.body.style)return e[o]}return null}function Z(e){var t=document.createElement("input");t.setAttribute("type",e),t.style.setProperty("position","absolute"),t.style.setProperty("visibility","hidden"),document.body.appendChild(t);var n=t.getAttribute("type");t.value="@inva/1d:)";var o=n===e&&"@inva/1d:)"!==t.value;return document.body.removeChild(t),o}function $(e,t){e in window||(window[e]=t)}t.BrowserSupport=q,function(){K={isMobile:function(){return!1}},Q();var e=function(){i.TouchScreenUtil.Init(),q.DetectBrowserSupport()};"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?e():document.addEventListener("DOMContentLoaded",e),$("Set",(function(){return new r.JsSetPolyfillImpl})),$("Map",(function(){return new o.JsMapPolyfillImpl}))}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.store={}}return Object.defineProperty(e.prototype,"size",{get:function(){return Object.keys(this.store).length},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){return this.store[e]=t,this},e.prototype.get=function(e){return this.store[e]},e.prototype.delete=function(e){var t=this.has(e);return delete this.store[e],t},e.prototype.clear=function(){this.store={}},e.prototype.has=function(e){return this.store.propertyIsEnumerable(e)},e.prototype.forEach=function(e){var t=this;Object.keys(this.store).forEach((function(n){e(t.store[n],n)}))},e}();t.JsMapPolyfillImpl=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.store={}}return Object.defineProperty(e.prototype,"size",{get:function(){return Object.keys(this.store).length},enumerable:!0,configurable:!0}),e.prototype.add=function(e){return this.store[e]=e,this},e.prototype.delete=function(e){var t=this.has(e);return delete this.store[e],t},e.prototype.clear=function(){this.store={}},e.prototype.has=function(e){return this.store.propertyIsEnumerable(e)},e.prototype.forEach=function(e){var t=this;Object.keys(this.store).forEach((function(n){e(t.store[n])}))},e}();t.JsSetPolyfillImpl=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return Object.defineProperty(e,"HasUserTouchedScreen",{get:function(){return e.hasUserTouchedScreen},enumerable:!0,configurable:!0}),e.Init=function(){null!==document.body&&void 0!==document.body&&document.body.addEventListener("touchstart",e.HandleTouchStart,!1)},e.HandleTouchStart=function(t){e.hasUserTouchedScreen||(e.hasUserTouchedScreen=!0,document.body.removeEventListener("touchstart",e.HandleTouchStart,!1))},e.hasUserTouchedScreen=!1,e}();t.TouchScreenUtil=o}])}));(function(){(function(){'dont use strict';var a={};ss.initAssembly(a,'vqlbrowsersupport')})()}());;
/*! BEGIN FileDropResponder */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@tableau/browser-support")):"function"==typeof define&&define.amd?define(["@tableau/browser-support"],t):"object"==typeof exports?exports.FileDropResponderModule=t(require("@tableau/browser-support")):e.FileDropResponderModule=t(e.BrowserSupport)}(window,(function(e){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){"use strict";return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=0)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var o=r(1);var n=function(){function e(){this.Counter=0,this.AllowMulti=!1,this.DropAttached=!1,this.SpecialHandleDragLeaveOnFF=!1}return e.prototype.isFF=function(){return o.BrowserSupport.IsFF()},e.prototype.setOnDropInvited=function(e){this.OnDropInvited=e},e.prototype.setOnUploadFiles=function(e){this.OnUploadFiles=e},e.prototype.setSpecialHandleDragLeaveOnFF=function(e){this.SpecialHandleDragLeaveOnFF=e},e.prototype.setupDropZone=function(e){this.dropZoneObj=e},e.prototype.handleDefaultBrowserDragDropEvents=function(){window.addEventListener("dragover",this.DefaultDragDropHandler,!0),window.addEventListener("drop",this.DefaultDragDropHandler,!0),o.BrowserSupport.IsEdge()&&(this.defaultErrorHandler=window.window.onerror,window.window.onerror=this.CatchBrowserError)},e.prototype.detachDefaultBrowserDragDropEvents=function(){window.removeEventListener("dragover",this.DefaultDragDropHandler),window.removeEventListener("drop",this.DefaultDragDropHandler),o.BrowserSupport.IsEdge()&&(window.window.onerror=this.defaultErrorHandler)},e.prototype.enableFileDrop=function(e,t){void 0===t&&(t=!0),this.Counter=0;var r=this.DropAttached;r&&!e?this.DetachFileDrop():!r&&e&&this.AttachFileDrop(),this.AllowMulti=t},e.prototype.AttachFileDrop=function(){var e=this;this.Counter=0,this.dropZoneObj&&(this.DropAttached=!0,this.dropZoneObj.ondragenter=function(t){e.StopEvent(t),e.Counter++,1===e.Counter&&e.OnDragEnter(t)},this.dropZoneObj.ondragleave=function(t){e.Counter--;var r=0===e.Counter;if(!r&&e.SpecialHandleDragLeaveOnFF&&o.BrowserSupport.IsFF()&&t){var n=t.currentTarget;if(n)n===e.dropZoneObj&&(r=!0)}r&&(e.Counter=0,e.DropInvite(!1))},this.dropZoneObj.ondrop=function(t){e.StopEvent(t),e.OnFileDrop(t),e.Counter=0})},e.prototype.DetachFileDrop=function(){this.Counter=0,this.DropAttached=!1,this.dropZoneObj&&(this.dropZoneObj.ondragenter=this.dropZoneObj.ondragleave=this.dropZoneObj.ondrop=null)},e.prototype.IsFileDropInvited=function(){return!!this.dropZoneObj&&this.dropZoneObj.classList.contains(e.ClassFileDropInvited)},e.prototype.OnFileDrop=function(t){if(this.IsFileDropInvited()){var r=null;try{r=e.GetDragFileList(t)}catch(e){if(this.OnUploadFiles){this.OnUploadFiles(null)}}r&&r.length>0&&(this.AllowMulti||r.length,this.Upload(r)),this.DropInvite(!1)}},e.prototype.OnDragEnter=function(t){var r=!0,o=null;try{o=e.GetDragItemList(t)}catch(e){return void this.DropInvite(!0)}if(o){for(var n=!0,i=0;i<o.length;++i){var a=o[i];if(!e.IsDataTransferItemFile(a)){n=!1;break}}r=(this.AllowMulti||1===o.length)&&n}r?this.DropInvite(!0):(t.dataTransfer&&(t.dataTransfer.dropEffect="move"),this.DropInvite(!1))},e.prototype.DropInvite=function(t){t&&this.IsFileDropInvited()||!t&&!this.IsFileDropInvited()||t&&!this.OnUploadFiles||this.dropZoneObj&&(this.OnDropInvited&&this.OnDropInvited(t),t?this.dropZoneObj.classList.add(e.ClassFileDropInvited):this.dropZoneObj.classList.remove(e.ClassFileDropInvited))},e.prototype.Upload=function(e){(this.OnUploadFiles||e.length>0)&&this.OnUploadFiles(e)},e.prototype.CatchBrowserError=function(e,t,r,o,n){var i=e.toString();if("Access is denied"===i.substr(0,"Access is denied".length)){if(this.OnUploadFiles){this.OnUploadFiles(null)}return!0}return!!this.defaultErrorHandler&&(this.defaultErrorHandler(i,t,r,o,n),!0)},e.prototype.DefaultDragDropHandler=function(t){if(t){t.preventDefault();var r=t;if(r&&r.dataTransfer){var o=t.target;if(o){var n=null!=function(e,t){if(e.closest)return e.closest(t);var r=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;if(!r)return null;for(var o=e;o;){if(r.call(o,t))return o;o=o.parentElement}return null}(o,"."+e.ClassFileDropInvited);r.dataTransfer.dropEffect=n?"copy":"none"}}}},e.GetDragItemList=function(e){return e&&e.dataTransfer&&e.dataTransfer.items&&0!==e.dataTransfer.items.length?e.dataTransfer.items:null},e.IsDataTransferItemFile=function(e){return"file"===e.kind},e.prototype.StopEvent=function(e){e.stopPropagation(),e.preventDefault()},e.GetDragFileList=function(e){return e&&e.dataTransfer&&e.dataTransfer.files&&0!==e.dataTransfer.files.length?e.dataTransfer.files:null},e.ClassFileDropInvited="fileDropInvited",e}();t.FileDropResponder=n},function(t,r){t.exports=e}])}));(function(){(function(){'dont use strict';var a={};ss.initAssembly(a,'vqlfiledropresponder')})()}());;
/*! BEGIN Core */
/*! BEGIN Underscore */
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.6.0";var A=j.each=j.forEach=function(n,t,e){if(null==n)return n;if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return;return n};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var O="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},j.find=j.detect=function(n,t,r){var e;return k(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var k=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:k(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,j.property(t))},j.where=function(n,t){return j.filter(n,j.matches(t))},j.findWhere=function(n,t){return j.find(n,j.matches(t))},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-1/0,u=-1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;o>u&&(e=n,u=o)}),e},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,u=1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;u>o&&(e=n,u=o)}),e},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=j.values(n)),n[j.random(n.length-1)]):j.shuffle(n).slice(0,Math.max(0,t))};var E=function(n){return null==n?j.identity:j.isFunction(n)?n:j.property(n)};j.sortBy=function(n,t,r){return t=E(t),j.pluck(j.map(n,function(n,e,u){return{value:n,index:e,criteria:t.call(r,n,e,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=E(r),A(t,function(i,a){var o=r.call(e,i,a,t);n(u,o,i)}),u}};j.groupBy=F(function(n,t,r){j.has(n,t)?n[t].push(r):n[t]=[r]}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=E(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.partition=function(n,t){var r=[],e=[];return A(n,function(n){(t(n)?r:e).push(n)}),[r,e]},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.contains(t,n)})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===j&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:j.now(),a=null,i=n.apply(e,u),e=u=null};return function(){var l=j.now();o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u),e=u=null):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o,c=function(){var l=j.now()-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u),i=u=null))};return function(){i=this,u=arguments,a=j.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u),i=u=null),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return j.partial(t,n)},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=function(n){if(!j.isObject(n))return[];if(w)return w(n);var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.constant=function(n){return function(){return n}},j.property=function(n){return function(t){return t[n]}},j.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},j.now=Date.now||function(){return(new Date).getTime()};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};T.unescape=j.invert(T.escape);var I={escape:new RegExp("["+j.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(T.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(I[n],function(t){return T[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return j})}).call(this);(function(){
/*! BEGIN CoreSlim */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'tabcoreslim');var b=global.tab.BaseLogAppender=ss.mkType(a,'tab.BaseLogAppender',function(){this.$0=null;this.$0=[]},{clearFilters:function(){ss.clear(this.$0)},addFilter:function(n){this.$0.push(n)},removeFilter:function(n){ss.remove(this.$0,n)},log:function(n,o,p,q){},logInternal:null,formatMessage:function(n,o){if(ss.isNullOrUndefined(o)||o.length===0){return n}var p=new ss.StringBuilder;var q=0;var r=false;for(var s=0;s<n.length;s++){var t=n.charCodeAt(s);if(t===37){if(r){p.append('%');r=false}else{r=true}}else{if(r){switch(t){case 98:case 115:case 100:case 110:case 111:{p.append(((o.length>q)?o[q]:''));q++;break}}}else{p.appendChar(t)}r=false}}return p.toString()}});var c=global.tab.ConsoleLogAppender=ss.mkType(a,'tab.ConsoleLogAppender',function(){this.$2=null;b.call(this)},{logInternal:function(n,o,p,q){if(typeof(window.console)!=='object'){return}p=n.get_name()+': '+p;var r=[];var s=r.concat(p);r=s.concat.apply(s,q);try{Function.prototype.apply.call(this.$1(o),window.console,r)}catch(t){}},$1:function(n){var o=window.self['console'];if(ss.isNullOrUndefined(this.$2)){this.$2={};this.$2[(1).toString()]=o.log;this.$2[(4).toString()]=o.error;this.$2[(2).toString()]=o.info;this.$2[(3).toString()]=o.warn}var p=this.$2[n.toString()];if(ss.isNullOrUndefined(p)){p=o.log}return p}});var d=global.tab.CookieHelper=ss.mkType(a,'tab.CookieHelper',null,null,{getValueForCookie:function(n){var o=e.getCookie().match(new RegExp('(?:^|;) ?'+n+'=([^;]*)(?:;|$)'));if(ss.isNullOrUndefined(o)||o.length<2){return null}return o[1]},setCookie:function(n,o,p,q){var r=n+'='+o+';path='+p+';';if(!ss.staticEquals(q,null)){r+='expires='+q.toUTCString()}e.setCookie(r)},deleteCookie:function(n,o){var p=new Date(0);e.setCookie(n+'=;path='+o+';expires='+p.toUTCString())}});var e=global.tab.DocumentHelper=ss.mkType(a,'tab.DocumentHelper',null,null,{get_documentClientWidth:function(){return document.documentElement.clientWidth},get_documentClientHeight:function(){return document.documentElement.clientHeight},getCookie:function(){return document.cookie},setCookie:function(n){document.cookie=n}});var f=global.tab.EscapingUtil=ss.mkType(a,'tab.EscapingUtil',null,null,{escapeHtml:function(n){var o=ss.coalesce(n,'');o=o.replace(new RegExp('&','g'),'&amp;');o=o.replace(new RegExp('<','g'),'&lt;');o=o.replace(new RegExp('>','g'),'&gt;');o=o.replace(new RegExp('"','g'),'&quot;');o=o.replace(new RegExp("'",'g'),'&#39;');o=o.replace(new RegExp('/','g'),'&#47;');if((new RegExp('^ +$')).test(o)){o=o.replace(new RegExp(' ','g'),'&nbsp;')}return o}});var g=global.tab.Log=ss.mkType(a,'tab.Log',function(){},null,{get:function(n){return i.lazyGetLogger(ss.getInstanceType(n))},get$1:function(n){return i.lazyGetLogger(n)}});var h=global.tab.LogAppenderInstance=ss.mkType(a,'tab.LogAppenderInstance',function(n){this.$0=null;this.$1$1=null;this.$0=n},{get_instance:function(){return this.$1$1},set_instance:function(n){this.$1$1=n},enableLogging:function(n){if(ss.isNullOrUndefined(this.get_instance())){this.set_instance(this.$0());i.addAppender(this.get_instance())}else if(!i.hasAppender(this.get_instance())){i.addAppender(this.get_instance())}this.get_instance().addFilter(ss.coalesce(n,function(o,p){return true}))},disableLogging:function(){if(ss.isNullOrUndefined(this.get_instance())){return}i.removeAppender(this.get_instance());this.set_instance(null)}});var i=global.tab.Logger=ss.mkType(a,'tab.Logger',function(n){this.$1=null;this.$1=n},{get_name:function(){return this.$1},debug:function(n,o){},info:function(n,o){},warn:function(n,o){},error:function(n,o){},log:function(n,o,p){},$0:function(n,o,p){try{for(var q=0;q<i.$3.length;q++){var r=i.$3[q];r.log(this,n,o,p)}}catch(s){}}},{get_globalLog:function(){return i.global},clearFilters:function(){for(var n=0;n<i.$3.length;n++){var o=i.$3[n];o.clearFilters()}i.$4.splice(0,i.$4.length)},filterByLogger:function(n,o){o=o||0;i.$0(function(p,q){return ss.referenceEquals(p,n)&&q>=o})},filterByType:function(n,o){o=o||0;i.$0(function(p,q){return q>=o&&ss.referenceEquals(p.get_name(),ss.getTypeName(n))})},filterByName:function(n,o){o=o||0;var p=new RegExp(n,'i');i.$0(function(q,r){return r>=o&&ss.isValue(q.get_name().match(p))})},clearAppenders:function(){i.$3.splice(0,i.$4.length)},hasAppender:function(n){return i.$3.indexOf(n)>-1},addAppender:function(n){for(var o=0;o<i.$4.length;o++){var p=i.$4[o];n.addFilter(p)}i.$3.push(n)},removeAppender:function(n){var o=i.$3.indexOf(n);if(o>-1){i.$3.splice(o,1)}},lazyGetLogger:function(n){var o='_logger';var p=n[o];if(ss.isNullOrUndefined(p)){p=i.getLogger(n,null);n[o]=p}return p},getLogger:function(n,o){var p=i.getLoggerWithName(ss.getTypeName(n));if(ss.isValue(o)){}return p},getLoggerWithName:function(n){return i.$6},$1:function(){var n=l.getUriQueryParameters(window.self.location.search);if(!ss.keyExists(n,':log')){return}var o=n[':log'];if(o.length===0){}for(var p=0;p<o.length;p++){var q=o[p];var r=q.split(String.fromCharCode(58));var s=1;if(r.length>0&&ss.isValue(r[1])){var t=r[1].toLowerCase();var u=i.loggerLevelNames.indexOf(t);if(u>=0){s=u}}}},$0:function(n){i.$4.push(n);for(var o=0;o<i.$3.length;o++){var p=i.$3[o];p.addFilter(n)}}});var j=global.tab.LoggerLevel=ss.mkEnum(a,'tab.LoggerLevel',{all:0,debug:1,info:2,warn:3,error:4,off:5});var k=global.tab.ScriptEx=ss.mkType(a,'tab.ScriptEx');var l=global.tab.UriExtensions=ss.mkType(a,'tab.UriExtensions',null,null,{getUriQueryParameters:function(n){var o={};if(ss.isNullOrUndefined(n)){return o}var p=n.indexOf('?');if(p<0){return o}var q=n.substr(p+1);var r=q.indexOf('#');if(r>=0){q=q.substr(0,r)}if(ss.isNullOrEmptyString(q)){return o}var s=q.split('&');for(var t=0;t<s.length;t++){var u=s[t];var v=u.split('=');var w=decodeURIComponent(v[0]);var x;if(ss.keyExists(o,w)){x=o[w]}else{x=[];o[w]=x}if(v.length>1){x.push(decodeURIComponent(v[1]))}}return o}});var m=global.tab.WindowHelper=ss.mkType(a,'tab.WindowHelper',function(n){this.$0=null;this.$0=n},{get_pageXOffset:function(){return m.$9(this.$0)},get_pageYOffset:function(){return m.$a(this.$0)},get_clientWidth:function(){return m.$4(this.$0)},get_clientHeight:function(){return m.$3(this.$0)},get_innerWidth:function(){return m.$6(this.$0)},get_outerWidth:function(){return m.$8(this.$0)},get_innerHeight:function(){return m.$5(this.$0)},get_outerHeight:function(){return m.$7(this.$0)},get_screenLeft:function(){return m.$b(this.$0)},get_screenTop:function(){return m.$c(this.$0)},isQuirksMode:function(){return document.compatMode==='BackCompat'}},{get_windowSelf:function(){return window.self},get_windowParent:function(){return window.parent},get_selection:function(){if(typeof(window['getSelection'])==='function'){return window.getSelection()}if(typeof(document['getSelection'])==='function'){return document.getSelection()}return null},close:function(n){n.close()},getOpener:function(n){return n.opener},getLocation:function(n){return n.location},getPathAndSearch:function(n){return n.location.pathname+n.location.search},setLocationHref:function(n,o){n.location.href=o},locationReplace:function(n,o){n.location.replace(o)},open:function(n,o,p){return window.open(n,o,p)},reload:function(n,o){n.location.reload(o)},requestAnimationFrame:function(n){return m.$d(n)},cancelAnimationFrame:function(n){if(ss.isValue(n)){m.$2(n)}},setTimeout:function(n,o){return window.setTimeout(n,o)},setInterval:function(n,o){return window.setInterval(n,o)},addListener:function(n,o,p){if('addEventListener'in n){n.addEventListener(o,p,false)}else{n.attachEvent('on'+o,p)}},removeListener:function(n,o,p){if('removeEventListener'in n){n.removeEventListener(o,p,false)}else{n.detachEvent('on'+o,p)}},$0:function(){var n=0;m.$d=function(o){var p=(new Date).getTime();var q=Math.max(0,16-(p-n));n=p+q;var r=window.setTimeout(o,q);return r}},clearSelection:function(){var n=m.get_selection();if(ss.isValue(n)){if(typeof(n['removeAllRanges'])==='function'){n.removeAllRanges()}else if(typeof(n['empty'])==='function'){n['empty']()}}}});ss.initClass(b);ss.initClass(c,b);ss.initClass(d);ss.initClass(e);ss.initClass(f);ss.initClass(g);ss.initClass(h);ss.initClass(i);ss.initClass(k);ss.initClass(l);ss.initClass(m);(function(){i.global=i.getLoggerWithName('global');i.loggerLevelNames=[];i.$5=':log';i.$3=[];i.$4=[];i.$6=new i('');i.loggerLevelNames[0]='all';i.loggerLevelNames[1]='debug';i.loggerLevelNames[2]='info';i.loggerLevelNames[3]='warn';i.loggerLevelNames[4]='error';i.loggerLevelNames[5]='off'})();(function(){c.globalAppender=new h(function(){return new c})})();(function(){m.blank='_blank';m.$6=null;m.$5=null;m.$4=null;m.$3=null;m.$9=null;m.$a=null;m.$b=null;m.$c=null;m.$8=null;m.$7=null;m.$d=null;m.$2=null;if('innerWidth'in window){m.$6=function(v){"use strict";return v.innerWidth}}else{m.$6=function(v){"use strict";return v.document.documentElement.offsetWidth}}if('outerWidth'in window){m.$8=function(v){"use strict";return v.outerWidth}}else{m.$8=m.$6}if('innerHeight'in window){m.$5=function(v){"use strict";return v.innerHeight}}else{m.$5=function(v){"use strict";return v.document.documentElement.offsetHeight}}if('outerHeight'in window){m.$7=function(v){"use strict";return v.outerHeight}}else{m.$7=m.$5}if('clientWidth'in window){m.$4=function(v){"use strict";return v['clientWidth']}}else{m.$4=function(v){"use strict";return v.document.documentElement.clientWidth}}if('clientHeight'in window){m.$3=function(v){"use strict";return v['clientHeight']}}else{m.$3=function(v){"use strict";return v.document.documentElement.clientHeight}}if(ss.isValue(window.self.pageXOffset)){m.$9=function(v){"use strict";return v.pageXOffset}}else{m.$9=function(v){"use strict";return v.document.documentElement.scrollLeft}}if(ss.isValue(window.self.pageYOffset)){m.$a=function(v){"use strict";return v.pageYOffset}}else{m.$a=function(v){"use strict";return v.document.documentElement.scrollTop}}if('screenLeft'in window){m.$b=function(v){"use strict";return v.screenLeft}}else{m.$b=function(v){"use strict";return v.screenX}}if('screenTop'in window){m.$c=function(v){"use strict";return v.screenTop}}else{m.$c=function(v){"use strict";return v.screenY}}{var n='requestAnimationFrame';var o='cancelAnimationFrame';var p=['ms','moz','webkit','o'];var q=null;var r=null;if(n in window){q=n}if(o in window){r=o}for(var s=0;s<p.length&&(ss.isNullOrUndefined(q)||ss.isNullOrUndefined(r));++s){var t=p[s];var u=t+'RequestAnimationFrame';if(ss.isNullOrUndefined(q)&&u in window){q=u}if(ss.isNullOrUndefined(r)){u=t+'CancelAnimationFrame';if(u in window){r=u}u=t+'CancelRequestAnimationFrame';if(u in window){r=u}}}if(ss.isValue(q)){m.$d=function(v){"use strict";return window[q](v)}}else{m.$0()}if(ss.isValue(r)){m.$2=function(v){"use strict";window[r](v)}}else{m.$2=window.clearTimeout}}})()})();(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};global.tableau.types=global.tableau.types||{};global.tableau.util=global.tableau.util||{};ss.initAssembly(a,'vqlcore');var b=global.ColumnClass=ss.mkEnum(a,'ColumnClass',{CLASS_METADATA:0,CLASS_DATABASE:1,CLASS_NUMERICBIN:2,CLASS_CATEGORICALBIN:3,CLASS_INSTANCE:4,CLASS_MDXCALC:5,CLASS_USERCALC:6,CLASS_DANGLING:7,CLASS_LOCALDATA:8});var c=global.DrillState=ss.mkEnum(a,'DrillState',{DRILLNONE:0,DRILLDOWN:1,DRILLUP:2,DRILLBOTH:3});$.fn.focusDelayed=function(e,dm){this.each(function(dn,dp){window.setTimeout(function(){$(dp).focus();if(ss.isValue(dm)){dm.call(dp)}},e)})};$.fn.getTouchEvent=function(e){return e['originalEvent']};$.expr.pseudos.focusable=function(e){return B.$0(e,!isNaN(parseInt($(e).attr('tabindex'),10)))};$.expr.pseudos.tabbable=function(e){var dm=parseInt($(e).attr('tabindex'),10);var dn=isNaN(dm);return(dn||dm>=0)&&B.$0(e,!dn)};var d=ss.mkType(a,'tab.$0',null,null,{$0:function(e,dm){var dn=d.$5(e);var dp=new cL('stack',d.$1(e),e.name,dn,dm);return dp},$1:function(e){var dm=e.get_message();if(ss.isValue(e.get_innerException())){dm+=' inner: '+e.get_innerException().get_message()}return dm},$5:function(e){var dm;if(ss.isValue(e.get_innerException())){dm=e.get_innerException().error}else{dm=e._error}return d.$2(dm)},$2:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.stack)){return null}if(ss.isValue(e.stack.match(d.$8))){return d.$4(e)}return d.$6(e)},$4:function(e){var dm=e.stack.split(String.fromCharCode(10)).filter(function(dn){return ss.isValue(dn.match(d.$8))});return dm.map(function(dn){if(dn.indexOf('(eval ')>-1){dn=ss.replaceAllString(dn,'eval code','eval').replace(d.$c,'')}var dp=dn.replace(new RegExp('^\\s+'),'').replace(new RegExp('\\(eval code'),'(').split(new RegExp('\\s+')).slice(1);var dq=d.$3(dp.pop());var dr=ss.coalesce(dp.join(' '),'undefined');var ds=((ss.indexOf(['eval','<anonymous>'],dq[0])>-1)?'undefined':dq[0]);var dt=parseInt(dq[1]);var du=parseInt(dq[2]);return new cK(ds,dt,du,dn,dr)})},$6:function(e){var dm=e.stack.split(String.fromCharCode(10)).filter(function(dn){return ss.isNullOrUndefined(dn.match(d.$b))});return dm.map(function(dn){if(dn.indexOf(' > eval')>-1){dn=dn.replace(new RegExp(' line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+','g'),':$1')}if(dn.indexOf('@')===-1&&dn.indexOf(':')===-1){return new cK(dn,0,0,'',null)}else{var dp=dn.split('@');var dq=d.$3(dp.pop());var dr=ss.coalesce(dp.join('@'),'undefined');var ds=dq[0];var dt=parseInt(dq[1]);var du=parseInt(dq[2]);var dv=new cK(ds,dt,du,dn,dr);return dv}})},$3:function(e){if(e.indexOf(String.fromCharCode(58))===-1){return[e]}var dm=d.$9.exec(e.replace(d.$a,''));return[dm[1],ss.coalesce(dm[2],'undefined'),ss.coalesce(dm[3],'undefined')]}});var f=ss.mkType(a,'tab.$1',function(){});var g=ss.mkType(a,'tab.$10',function(){this.$2$1=null},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}},{$0:function(e){this.$2$1=null;this.$1(e)}});var h=ss.mkType(a,'tab.$11',function(e){h.$0.call(this,e,false)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e},$2:function(){return this.$2$2},$3:function(e){this.$2$2=e}},{$0:function(e,dm){this.$2$1=null;this.$2$2=false;this.$1(e);this.$3(dm)}});var i=ss.mkType(a,'tab.$12',function(){i.$0.call(this,true)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}},{$0:function(e){this.$2$1=false;this.$1(e)}});var j=ss.mkType(a,'tab.$13',function(){});var k=ss.mkType(a,'tab.$14',function(e){this.$2$1=null;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var l=ss.mkType(a,'tab.$15',function(){l.$2.call(this,7,1)},{$2:function(){return this.$2$1},$3:function(e){this.$2$1=e},$0:function(){return this.$2$2},$1:function(e){this.$2$2=e}},{$0:function(e){l.$2.call(this,e,1)},$1:function(e){l.$2.call(this,7,e)},$2:function(e,dm){this.$2$1=0;this.$2$2=0;this.$3(e);this.$1(dm)}});var m=ss.mkType(a,'tab.$16',function(){m.$2.call(this,7,1)},{$2:function(){return this.$2$1},$3:function(e){this.$2$1=e},$0:function(){return this.$2$2},$1:function(e){this.$2$2=e}},{$0:function(e){m.$2.call(this,e,1)},$1:function(e){m.$2.call(this,7,e)},$2:function(e,dm){this.$2$1=0;this.$2$2=0;this.$3(e);this.$1(dm)}});var n=ss.mkEnum(a,'tab.$17',{$2:7,$0:1,$1:2,$4:4,$3:8});var o=ss.mkEnum(a,'tab.$18',{$0:1,$1:1,$2:2,$3:3});var p=ss.mkType(a,'tab.$19',function(){this.$2$1=null},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}},{$0:function(e){this.$2$1=null;this.$1(e)}});var q=ss.mkType(a,'tab.$2',function(){this.$2=0;this.$0=0;this.$1=0},{getHashCode:function(){var e=this.$2;e=e*397^this.$0;e=e*397^this.$1;return e},equals:function(e){if(!ss.isInstanceOfType(e,q)){return false}return this.$2===e.$2&&this.$0===e.$0&&this.$1===e.$1}},{$0:function(e,dm,dn){this.$2=0;this.$0=0;this.$1=0;this.$2=e;this.$0=dm;this.$1=dn}});var r=ss.mkType(a,'tab.$20',function(){});var s=ss.mkType(a,'tab.$21',function(){});var t=ss.mkType(a,'tab.$22',function(){this.$2$1=null},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}},{$0:function(e){this.$2$1=null;this.$1(e)}});var u=ss.mkType(a,'tab.$23',function(){});var v=ss.mkType(a,'tab.$24',function(){this.$2$1=null},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}},{$0:function(e){this.$2$1=null;this.$1(e)}});var w=ss.mkType(a,'tab.$25',function(){});var x=ss.mkType(a,'tab.$26',function(){this.$2$1=null;this.$2$2=0;this.$2$3=null},{$2:function(){return this.$2$1},$3:function(e){this.$2$1=e},$0:function(){return this.$2$2},$1:function(e){this.$2$2=e},$4:function(){return this.$2$3},$5:function(e){this.$2$3=e}});var y=ss.mkType(a,'tab.$27',function(e){this.$2$1=null;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var z=ss.mkType(a,'tab.$28',function(e){this.$2$1=null;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var A=ss.mkType(a,'tab.$29',function(e){this.$2$1=null;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var B=ss.mkType(a,'tab.$3',null,null,{$0:function(e,dm){var dn=e.nodeName.toLowerCase();if(dn==='area'){return false}var dp=dm;var dq=new RegExp('input|select|textarea|button|object');if(dq.test(dn)){dp=!e.disabled}else if(dn==='a'){dp=!ss.isNullOrEmptyString(e.href)||dm}return dp&&B.$1(e)},$1:function(e){for(var dm='';ss.isValue(e);e=e.parentElement){if(e.style.display==='none'){return false}else if(dm==='visible'){continue}else if(dm.length===0||dm==='inherit'){dm=e.style.visibility}if(dm==='hidden'){return false}}return true}});var C=ss.mkType(a,'tab.$30',function(e){this.$2$1=null;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var D=ss.mkType(a,'tab.$31',function(e){this.$2$1=null;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var E=ss.mkType(a,'tab.$32',function(e){this.$2$1=null;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var F=ss.mkType(a,'tab.$33',function(){this.$2$1=null},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}},{$0:function(e){this.$2$1=null;this.$1(e)}});var G=ss.mkType(a,'tab.$34',function(){this.$2$1=null},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}},{$0:function(e){this.$2$1=null;this.$1(e)}});var H=ss.mkType(a,'tab.$35',function(){this.$2$1=null},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}},{$0:function(e){this.$2$1=null;this.$1(e)}});var I=ss.mkType(a,'tab.$36',function(){});var J=ss.mkType(a,'tab.$37',function(){});var K=ss.mkType(a,'tab.$38',function(){});var L=ss.mkType(a,'tab.$39',function(){});var M=ss.mkType(a,'tab.$4',function(){});var N=ss.mkType(a,'tab.$40',function(){});var O=ss.mkType(a,'tab.$41',function(){});var P=ss.mkType(a,'tab.$42',function(){});var Q=ss.mkType(a,'tab.$43',function(){});var R=ss.mkType(a,'tab.$44',function(){});var S=ss.mkType(a,'tab.$45',function(){});var T=ss.mkType(a,'tab.$46',function(){});var U=ss.mkType(a,'tab.$47',function(){this.$2$1=null},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}},{$0:function(e){this.$2$1=null;this.$1(e)}});var V=ss.mkType(a,'tab.$48',function(e){this.$2$1=null;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var W=ss.mkType(a,'tab.$49',function(){});var X=ss.mkType(a,'tab.$5',function(){});var Y=ss.mkType(a,'tab.$50',function(e){this.$2$1=0;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var Z=ss.mkEnum(a,'tab.$51',{$1:0,$2:1,$0:2,$3:6});var ba=ss.mkType(a,'tab.$52',function(){});var bb=ss.mkType(a,'tab.$53',function(e){this.$2$1=0;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var bc=ss.mkEnum(a,'tab.$54',{$3:0,$0:1,$2:2,$1:3});var bd=ss.mkType(a,'tab.$55',function(){});var be=ss.mkType(a,'tab.$56',function(){});var bf=ss.mkType(a,'tab.$57',function(){});var bg=ss.mkType(a,'tab.$58',function(){});var bh=ss.mkType(a,'tab.$59',function(){});var bi=ss.mkType(a,'tab.$6',function(){});var bj=ss.mkType(a,'tab.$60',function(){});var bk=ss.mkType(a,'tab.$61',function(){});var bl=ss.mkType(a,'tab.$62',function(e,dm){this.$2$1=null;this.$2$2=null;this.$3(e);this.$1(dm)},{$2:function(){return this.$2$1},$3:function(e){this.$2$1=e},$0:function(){return this.$2$2},$1:function(e){this.$2$2=e}});var bm=ss.mkType(a,'tab.$63',function(){});var bn=ss.mkType(a,'tab.$64',function(){});var bo=ss.mkType(a,'tab.$65',function(){});var bp=ss.mkType(a,'tab.$66',function(e){this.$2$1=null;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var bq=ss.mkType(a,'tab.$67',function(e){this.$2$1=false;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var br=ss.mkType(a,'tab.$68',function(e){this.$2$1=null;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var bs=ss.mkType(a,'tab.$69',function(e,dm){this.$2$1=null;this.$2$2=null;this.$3(e);this.$1(dm)},{$2:function(){return this.$2$1},$3:function(e){this.$2$1=e},$0:function(){return this.$2$2},$1:function(e){this.$2$2=e}});var bt=ss.mkType(a,'tab.$7',function(e){this.$2$1=null;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var bu=ss.mkType(a,'tab.$70',function(e){this.$2$1=null;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var bv=ss.mkType(a,'tab.$71',function(e){this.$2$1=null;this.$2$2=null;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e},$2:function(){return this.$2$2},$3:function(e){this.$2$2=e}},{$0:function(e,dm){this.$2$1=null;this.$2$2=null;this.$1(e);this.$3(dm)}});var bw=ss.mkType(a,'tab.$72',function(){});var bx=ss.mkType(a,'tab.$73',function(){});var by=ss.mkType(a,'tab.$74',function(){});var bz=ss.mkType(a,'tab.$75',function(){});var bA=ss.mkType(a,'tab.$76',function(){});var bB=ss.mkType(a,'tab.$8',function(e){this.$2$1=null;this.$1(e)},{$0:function(){return this.$2$1},$1:function(e){this.$2$1=e}});var bC=ss.mkType(a,'tab.$9',function(){});var bD=global.tab.AbstractEnumerator$1=ss.mkType(a,'tab.AbstractEnumerator$1',function(e){var dm=ss.registerGenericClassInstance(bD,[e],function(){},{current:null,reset:null,moveNext:null,dispose:function(){}},null,null,function(){return[ss.IEnumerator,ss.IDisposable,ss.IEnumerator]});return dm});ss.initGenericClass(bD,1);var bE=global.tab.CalendarOptions=ss.mkType(a,'tab.CalendarOptions',function(){this.startOfWeek=1;this.fiscalYearStart=1;this.minDaysInFirstWeek=1;this.brokenWeeks=true;this.forceIso8601Calendar=false});var bF=global.tab.CallOnDispose=ss.mkType(a,'tab.CallOnDispose',function(e){this.$0=null;this.$0=e},{dispose:function(){if(ss.isNullOrUndefined(this.$0)){return}this.$0();this.$0=null}});var bG=global.tab.CanBeNullAttribute=ss.mkType(a,'tab.CanBeNullAttribute',function(){});var bH=global.tab.CircleUtil=ss.mkType(a,'tab.CircleUtil',null,null,{isEmpty:function(e){return bQ.isApproximatelyZero(e.radius)},isEqual:function(e,dm){return bQ.isApproximatelyEqual(e.radius,dm.radius)&&bH.hasTheSameCenter(e,dm)},hasTheSameCenter:function(e,dm){return bQ.isApproximatelyEqual(e.center.x,dm.center.x)&&bQ.isApproximatelyEqual(e.center.y,dm.center.y)},intersectsWith:function(e,dm){var dn=Math.pow(e.center.x-dm.center.x,2)+Math.pow(e.center.y-dm.center.y,2);return Math.pow(e.radius+dm.radius,2)>dn},offsetCircle:function(e,dm){var dn={x:e.center.x+dm.x,y:e.center.y+dm.y};return{center:dn,radius:e.radius}},clone:function(e){return{center:{x:e.center.x,y:e.center.y},radius:e.radius}},boundingBox:function(e){var dm=Math.ceil(e.radius);var dn=Math.floor(e.center.x-dm);var dp=Math.ceil(e.center.x+dm);var dq=Math.floor(e.center.y-dm);var dr=Math.ceil(e.center.y+dm);return{x:dn,y:dq,w:dp-dn,h:dr-dq}},containmentBox:function(e){var dm=Math.abs(ss.round(e.center.x)-e.center.x);var dn=Math.abs(ss.round(e.center.y)-e.center.y);var dp=Math.sqrt(2)/2*e.radius-Math.max(dm,dn);var dq=Math.ceil(e.center.x-dp);var dr=Math.ceil(e.center.y-dp);var ds=Math.floor(e.center.x+dp);var dt=Math.floor(e.center.y+dp);return{x:dq,y:dr,w:ds-dq,h:dt-dr}},getChangedRects:function(e,dm){if(!bH.hasTheSameCenter(e,dm)){return[]}var dn=((e.radius>dm.radius)?bH.boundingBox(e):bH.boundingBox(dm));var dp=((e.radius>dm.radius)?bH.containmentBox(dm):bH.containmentBox(e));var dq=new Array(4);var dr=ss.idiv(dn.h-dp.h,2);var ds=ss.idiv(dn.w-dp.w,2);dq[0]={x:dn.x,y:dn.y,w:dn.w,h:dr};dq[1]={x:dn.x,y:dn.y+dr+dp.h,w:dn.w,h:dr};dq[2]={x:dn.x,y:dn.y+dr,w:ds,h:dp.h};dq[3]={x:dn.x+ds+dp.w,y:dn.y+dr,w:ds,h:dp.h};return dq}});var bI=global.tab.DashboardRegionZIndexConstants=ss.mkType(a,'tab.DashboardRegionZIndexConstants');var bJ=global.tab.DataSourceConnectionAttemptErrorResponse=ss.mkType(a,'tab.DataSourceConnectionAttemptErrorResponse',function(){this.ErrorType=null;this.RedirectUrl=null;this.ErrorMessage=null;this.ConnectionClass=null;this.ConnectionName=null;this.DataSourceCaption=null},null,{$ctor1:function(e){this.ErrorType=null;this.RedirectUrl=null;this.ErrorMessage=null;this.ConnectionClass=null;this.ConnectionName=null;this.DataSourceCaption=null;if(ss.isNullOrUndefined(e)){return}this.ErrorType=e.exceptionType;this.ErrorMessage=e.exceptionMessage;this.ConnectionName=e.connectionFullName;this.DataSourceCaption=e.datasourceCaption;this.ConnectionClass=(ss.isNullOrUndefined(e.exceptionAttrs)?'':e.exceptionAttrs['class'])},tryDeserialize$1:function(e){try{var dm=JSON.parse(e);return dm}catch(dn){return null}},tryDeserialize:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrEmptyString(e.get_message())){return null}var dm=Math.max(e.get_message().indexOf('{'),0);var dn=e.get_message().lastIndexOf('}')+1;return bJ.tryDeserialize$1(e.get_message().substring(dm,((dn===-1)?e.get_message().length:dn)))}});var bK=global.tab.DateTimeAutoFormatMode=ss.mkEnum(a,'tab.DateTimeAutoFormatMode',{showDateOnly:0,showTimeOnly:1,showFullDateTime:2});var bL=global.tab.DateUtil=ss.mkType(a,'tab.DateUtil',null,null,{$9:function(){return tab.Logger.lazyGetLogger(bL)},get_nowAsTime:function(){return(new Date).getTime()},adjustDateByPeriod:function(e,dm,dn){var dp=new Date;switch(dm){case'year':{dp=new Date(e.getFullYear()+dn,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());break}case'quarter':{dp=bL.adjustByMonths(e,dn*3);break}case'month':{dp=bL.adjustByMonths(e,dn);break}case'week':{dp=bL.$0(e,dn*7);break}case'day':{dp=bL.$0(e,dn);break}case'hour':{dp=new Date(e.getTime()+dn*bL.oneHour);break}case'minute':{dp=new Date(e.getTime()+dn*bL.oneMinute);break}case'second':{dp=new Date(e.getTime()+dn*bL.oneSecond);break}}return dp},$0:function(e,dm){var dn=new Date(e.getFullYear(),e.getMonth(),e.getDate(),12);var dp=new Date(dn.getTime()+bL.oneDay*dm);return new Date(dp.getFullYear(),dp.getMonth(),dp.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())},adjustByMonths:function(e,dm){var dn=e.getMonth();var dp;var dq;if(dm<0){dp=-((12-(dn-1)-1-dm)/12)|0}else{dp=(dn-1+dm)/12|0}dq=dn+(dm-dp*12);return new Date(e.getFullYear()+dp,dq,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())},adjustDateByPeriodInUTC:function(e,dm,dn){var dp=new Date;switch(dm){case'year':{dp=new Date(Date.UTC(e.getUTCFullYear()+dn,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()));break}case'iso-year':{dp=bL.adjustByIsoYearsInUTC(e,dn);break}case'quarter':{dp=bL.adjustByMonthsInUTC(e,dn*3);break}case'iso-quarter':{dp=bL.adjustByIsoQuartersInUTC(e,dn);break}case'month':{dp=bL.adjustByMonthsInUTC(e,dn);break}case'week':{dp=new Date(e.getTime()+dn*bL.oneWeek);break}case'day':{dp=new Date(e.getTime()+dn*bL.oneDay);break}case'hour':{dp=new Date(e.getTime()+dn*bL.oneHour);break}case'minute':{dp=new Date(e.getTime()+dn*bL.oneMinute);break}case'second':{dp=new Date(e.getTime()+dn*bL.oneSecond);break}}return dp},adjustByMonthsInUTC:function(e,dm){var dn=e.getUTCMonth(),dp,dq;if(dm<0){dp=-((12-(dn-1)-1-dm)/12)|0}else{dp=(dn-1+dm)/12|0}dq=dn+(dm-dp*12);return new Date(Date.UTC(e.getUTCFullYear()+dp,dq,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()))},adjustByIsoYearsInUTC:function(e,dm){var dn=bL.$3(e);var dp=dn.$2;var dq=ss.idiv(e-bL.$6(dp),86400000);var dr=dp+dm;var ds=bL.$6(dr);var dt=new Date(ds.getTime()+dq*bL.oneDay);return new Date(e.getTime()+(dt.getTime()-e.getTime()))},adjustByIsoQuartersInUTC:function(e,dm){var dn=bL.$3(e);var dp=ss.idiv(dn.$0,13)+1;if(dp===5){dp--}var dq=dn.$2*4+(dp-1)+dm;var dr=ss.idiv(dq,4);var ds=ss.imod(dq,4)+1;var dt=ss.idiv(e-bL.$5(dn.$2,dp),bL.oneDay);var du=bL.$6(dr);var dv=new Date(du.getTime()+((ds-1)*91+dt)*bL.oneDay);return new Date(e.getTime()+(dv.getTime()-e.getTime()))},parsePresModelDate:function(e){if(ss.isNullOrUndefined(e)){return null}var dm=(new RegExp('(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)( (\\d\\d):(\\d\\d):(\\d\\d))?')).exec(e);if(ss.isNullOrUndefined(dm)){return null}var dn=parseInt(dm[1]);var dp=parseInt(dm[2])-1;var dq=parseInt(dm[3]);if(ss.isNullOrEmptyString(dm[4])){return new Date(Date.UTC(dn,dp,dq))}else{var dr=parseInt(dm[5]);var ds=parseInt(dm[6]);var dt=parseInt(dm[7]);return new Date(Date.UTC(dn,dp,dq,dr,ds,dt))}},dateAsYear:function(e){return e.getUTCFullYear()},dateAsQuarter:function(e){var dm=bL.$7(e);return parseInt(1+ss.idiv(dm-1,3))},dateAsMonth:function(e){return bL.$7(e)},dateAsWeek:function(e){var dm=new Date(e.getUTCFullYear(),0,1);var dn=bL.$2(e);var dp=parseInt(1+(dn+bL.$1(dm)-2)/7);return dp},dateAsDay:function(e){return e.getUTCDate()},dateAsDayOfYear:function(e){return bL.$2(e)},dateAsDayOfWeek:function(e){return bL.$1(e)},dateAsMonthYear:function(e){var dm=bL.$7(e)*10000+e.getUTCFullYear();return dm},dateAsMonthDayYear:function(e){var dm=bL.$7(e)*1000000+e.getUTCDate()*10000+e.getUTCFullYear();return dm},dateTimeAsHour:function(e){return e.getUTCHours()},dateTimeAsMinute:function(e){return e.getUTCMinutes()},dateTimeAsSecond:function(e){return e.getUTCSeconds()},dateTimeAsOleDate:function(e){return dc.OleDateFromJsDate(e.getTime())},$2:function(e){var dm=e.getUTCFullYear();var dn=e.getUTCMonth();var dp=e.getUTCDate();var dq=new Date(dm,0,1,12,0,0);var dr=new Date(dm,dn,dp,12,0,0);var ds=Math.round((dr-dq)/86400000);return ds+1},$7:function(e){return e.getUTCMonth()+1},$1:function(e){return e.getUTCDay()+1},$4:function(e){var dm=e.getUTCDay();if(dm===0){dm=7}return dm},$6:function(e){var dm=new Date(e,0,4,0,0,0);var dn=4-bL.$4(dm)+1;if(dn<1){return new Date(Date.UTC(e-1,11,dn+31,0,0,0))}return new Date(Date.UTC(e,0,dn,0,0,0))},$5:function(e,dm){var dn=bL.$6(e);return new Date(dn.getTime()+(dm-1)*(13*7*bL.oneDay))},daysSinceEpoch:function(e){return Math.floor(e.getTime()/86400000)},$3:function(e){var dm=e.getUTCFullYear();var dn=bL.$2(e);var dp=bL.$4(e);var dq=ss.idiv(dn-dp+10,7);var dr=dm;if(dq===0){var ds=new Date(Date.UTC(dm-1,0,1,0,0,0));var dt=ss.idiv(e-ds,86400000)+1;dq=ss.idiv(dt-dp+10,7);dr=dm-1}else if(dq===53){var du=new Date(Date.UTC(dm+1,0,4,0,0,0));var dv=4-bL.$4(du)+1;if(dv<1){dv=31+dv;var dw=new Date(Date.UTC(dm,11,dv,0,0,0));if(dw<=e){dq=1;dr=dm+1}}}var dx=new q.$0(dr,dq,dp);return dx}});var bM=global.tab.Debouncer=ss.mkType(a,'tab.Debouncer',function(e,dm){this.$2=null;this.$1=0;this.$0=null;cw.verifyValue(e,'action');this.$0=e;this.$1=dm},{get_hasPendingAction:function(){return ss.isValue(this.$2)},invokeActionDelayed:function(){this.cancel();this.$2=window.setTimeout(ss.mkdel(this,function(){this.$2=null;this.$0()}),this.$1)},invokeActionImmediate:function(){this.cancel();this.$0()},cancel:function(){this.$2=co.clearTimeout(this.$2)},dispose:function(){this.cancel();this.$0=null}});var bN=global.tab.DisposableHolder=ss.mkType(a,'tab.DisposableHolder',function(){this.$0=[]},{add:function(e){this.$0.push(new bF(e))},add$1:function(e){this.$0.push(e)},add$2:function(e){ss.arrayAddRange(this.$0,e)},dispose:function(){for(var e=0;e<this.$0.length;e++){var dm=this.$0[e];co.dispose$1(dm)}ss.clear(this.$0)}});var bO=global.tab.DomUtil=ss.mkType(a,'tab.DomUtil',null,null,{$6:function(){return tab.Logger.lazyGetLogger(bO)},get_documentBody:function(){return document.body},getComputedStyle:function(e){if(BrowserSupport.BrowserSupport.GetComputedStyle()){var dm=window.getComputedStyle(e);if(ss.isValue(dm)){return dm}}return e.style},getComputedZIndex:function(e){cw.verifyValue(e,'child');var dm=$(e);var dn=dm;var dp=document.documentElement;var dq=document.body;while(dm.length!==0&&!ss.referenceEquals(dm[0],dq)&&!ss.referenceEquals(dm[0],dp)){var dr=dm.css('position');if(dr==='absolute'||dr==='fixed'){dn=dm}dm=dm.offsetParent()}return bO.$1(dn)},resize:function(e,dm){if(typeof(e['resize'])==='function'){e.resize(dm)}else{bO.setMarginBox(e.domNode||e,dm)}},getContentBox:function(e){var dm=$(e);return{l:parseInt(dm.css('padding-left'),10)||0,t:parseInt(dm.css('padding-top'),10)||0,w:bQ.roundToInt(dm.width()),h:bQ.roundToInt(dm.height())}},setContentBox:function(e,dm){$(e).width(dm.w).height(dm.h)},setMarginBox:function(e,dm){bO.setMarginBoxJQ($(e),dm)},setMarginBoxJQ:function(e,dm){var dn=e[0];var dp=dn.style;var dq=window.getComputedStyle(dn);bO.$2(dq,dm,dn);if(!isNaN(dm.t)){dp.top=dm.t+'px'}if(!isNaN(dm.l)){dp.left=dm.l+'px'}},setAbsolutePositionBox:function(e,dm){e.css({left:(dm.l||0)+'px',top:(dm.t||0)+'px',width:(dm.w||0)+'px',height:(dm.h||0)+'px'})},setAbsolutePositionAsEmptyBox:function(e,dm){e.css({left:(dm.l||0)+'px',top:(dm.t||0)+'px',width:(0||0)+'px',height:(0||0)+'px'})},getMarginBox:function(e){return bO.getMarginBoxJQ($(e))},getMarginBoxJQ:function(e){var dm=e.position();return{l:bQ.roundToInt(dm.left),t:bQ.roundToInt(dm.top),w:bQ.roundToInt(e.outerWidth(true)),h:bQ.roundToInt(e.outerHeight(true))}},getRectXY:function(e){var dm=bQ.roundToInt(bO.getPageOffset$1(e).left);var dn=bQ.roundToInt(bO.getPageOffset$1(e).top);var dp=bQ.roundToInt(e.outerWidth(true));var dq=bQ.roundToInt(e.outerHeight(true));return{x:dm,y:dn,w:dp,h:dq}},getRectXY$1:function(e,dm){var dn=bO.getRectXY(e);if(dm){var dp=bO.docScroll();dn.x+=dp.x;dn.y+=dp.y}return dn},docScroll:function(){var e=ss.coalesce(window.pageXOffset,ss.coalesce(document.documentElement.scrollLeft,ss.coalesce(bO.get_documentBody().scrollLeft,0)));var dm=ss.coalesce(window.pageYOffset,ss.coalesce(document.documentElement.scrollTop,ss.coalesce(bO.get_documentBody().scrollTop,0)));return{x:e,y:dm}},isAncestorOf:function(e,dm){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(dm)){return false}return $(dm).parents().index(e)>=0},isEqualOrAncestorOf:function(e,dm){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(dm)){return false}return ss.referenceEquals(e,dm)||bO.isAncestorOf(e,dm)},setElementPosition:function(e,dm,dn,dp,dq){if(!ss.isValue(dq)||ss.unbox(dq)){var dr=ss.mkdict(['top','0px','left','0px']);var ds=(new ss.StringBuilder('translate3d(')).append(dm).append('px,').append(dn).append('px,').append('0px)').toString();dr[BrowserSupport.BrowserSupport.CssTransformName()]=ds;if(ss.isValue(dp)){dr[BrowserSupport.BrowserSupport.CssTransitionName()+'-duration']=dp}e.css(dr);return}var dt=ss.mkdict(['position','absolute','top',dn+'px','left',dm+'px']);dt[BrowserSupport.BrowserSupport.CssTransformName()]='';e.css(dt)},getElementPosition:function(e){return cz.fromPosition(e.offset())},getElementClientPosition:function(e){var dm=bO.getElementPosition(e);dm.x-=$(document.documentElement).scrollLeft();dm.y-=bQ.roundToInt($(document.documentElement).scrollTop());return dm},getTransformOffset:function(e){if(ss.isNullOrUndefined(e)){return{left:0,top:0}}var dm=e.css('transform');if(ss.isNullOrEmptyString(dm)){return{left:0,top:0}}var dn=dm.split('(');var dp=bO.$8[dn[0]];if(ss.isNullOrUndefined(dp)){return{left:0,top:0}}var dq=dn[1].split(',');return{left:ss.coalesce(bQ.parseDouble(dq[ss.unbox(dp)]),0),top:ss.coalesce(bQ.parseDouble(dq[ss.unbox(dp)+1]),0)}},getTransformScale:function(e){if(ss.isNullOrUndefined(e)){return 1}var dm=e.css('transform');if(ss.isNullOrEmptyString(dm)){return 1}var dn=dm.split('(');if(dn[0]==='scale'||dn[0]==='matrix'||dn[0]==='matrix3d'){return ss.coalesce(bQ.parseDouble(dn[1]),1)}else{return 1}},getPageOffset$1:function(e){var dm=e[0];if(ss.isNullOrUndefined(dm)){return{left:0,top:0}}var dn=bO.getPageOffset(dm);return{left:dn.x,top:dn.y}},getPageOffset:function(e){if(ss.isNullOrUndefined(e)){return{x:0,y:0}}var dm=e.getBoundingClientRect();var dn=document.documentElement.getBoundingClientRect();return{x:dm.left-dn.left,y:dm.top-dn.top}},getScrollPosition:function(e){return{left:e[0].scrollLeft,top:e[0].scrollTop}},scrollPosition:function(e,dm){e[0].scrollLeft=dm.left;e[0].scrollTop=dm.top},focusWithoutScrolling:function(e,dm){if(ss.isNullOrUndefined(dm)||dm.length===0){e()}else{dm.attr('data-tab-test-wait','');window.setTimeout(function(){"use strict";var dn=bO.getScrollPosition(dm);e();bO.scrollPosition(dm,dn);dm.removeAttr('data-tab-test-wait')},200)}},roomAroundPosition:function(e){var dm=e.top-window.pageYOffset;var dn=window.pageYOffset+window.innerHeight-e.top;var dp=e.left-window.pageXOffset;var dq=window.pageXOffset+window.innerWidth-e.left;return{roomAbove:dm,roomBelow:dn,roomLeft:dp,roomRight:dq}},getElementRelativePosition:function(e,dm){if(ss.isNullOrUndefined(dm)){dm=e.parent()}var dn=e.offset();var dp=dm.offset();return{x:bQ.roundToInt(dn.left)-bQ.roundToInt(dp.left),y:bQ.roundToInt(dn.top)-bQ.roundToInt(dp.top)}},parseWidthFromStyle:function(e){if(ss.isValue(e)&&!co.isNullOrEmpty$1(e.width)){return parseInt(e.width)}return Number.NaN},parseHeightFromStyle:function(e){if(ss.isValue(e)&&!co.isNullOrEmpty$1(e.height)){return parseInt(e.height)}return Number.NaN},createNamespacedEventName:function(e,dm){if(ss.isValue(dm)){return e+dm}return e.toString()},stopPropagationOfInputEvents:function(e,dm){var dn=function(dp){dp.stopPropagation()};bO.handleInputEvents(e,dm,dn)},handleInputEvents:function(e,dm,dn){e.on(bO.createNamespacedEventName('touchstart',dm),dn).on(bO.createNamespacedEventName('touchcancel',dm),dn).on(bO.createNamespacedEventName('touchend',dm),dn).on(bO.createNamespacedEventName('touchmove',dm),dn).on(bO.createNamespacedEventName('click',dm),dn).on(bO.createNamespacedEventName('mousedown',dm),dn).on(bO.createNamespacedEventName('mousemove',dm),dn).on(bO.createNamespacedEventName('mouseup',dm),dn)},isFocusableTextElement:function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var dm=e.tagName.toLowerCase();if(dm==='textarea'||dm==='input'||dm==='select'){return true}}return false},isCheckboxElement:function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var dm=e.tagName.toLowerCase();var dn=$(e).attr('type');if(dm==='input'&&dn==='checkbox'){return true}}return false},handleTouchEvents:function(e){if(bO.isCheckboxElement(e)){return false}if(bO.isFocusableTextElement(e)){return false}return true},setCapture:function(e,dm){if(!BrowserSupport.BrowserSupport.MouseCapture()){return}e.setCapture(dm)},releaseCapture:function(){if(!BrowserSupport.BrowserSupport.MouseCapture()){return}document.releaseCapture()},blur:function(){var e=document.activeElement;if(ss.isValue(e)&&!ss.referenceEquals(e,bO.get_documentBody())&&typeof(e['blur'])==='function'){e.blur()}},$0:function(e,dm){var dn=parseInt(e,10);return(isNaN(dn)?dm:dn)},getSizeFromCssPixelProperty:function(e,dm){var dn=e.css(dm);return bO.$0(dn,0)},$4:function(e,dm,dn){var dp=bO.$0(e.marginLeft,0);var dq=bO.$0(e.borderLeftWidth,0);var dr=bO.$0(e.paddingLeft,0);var ds=bO.$0(e.paddingRight,0);var dt=bO.$0(e.borderRightWidth,0);var du=bO.$0(e.marginRight,0);var dv=Math.max(dm-dp-dq-dr-ds-dt-du,0);dn.style.width=dv+'px'},$3:function(e,dm,dn){var dp=bO.$0(e.marginTop,0);var dq=bO.$0(e.borderTopWidth,0);var dr=bO.$0(e.paddingTop,0);var ds=bO.$0(e.paddingBottom,0);var dt=bO.$0(e.borderBottomWidth,0);var du=bO.$0(e.marginBottom,0);var dv=Math.max(dm-dp-dq-dr-ds-dt-du,0);dn.style.height=dv+'px'},$2:function(e,dm,dn){if(dm.w>=0){bO.$4(e,dm.w,dn)}if(dm.h>=0){bO.$3(e,dm.h,dn)}},$1:function(e){cw.verifyValue(e,'o');var dm=e.css('z-index');if(_.isNumber(dm)){return dm}if(_.isString(dm)){if(!ss.isNullOrEmptyString(dm)&&dm!=='auto'&&dm!=='inherits'){return parseInt(dm,10)}}return 0},makeHtmlSafeId:function(e){return ss.replaceAllString(encodeURIComponent(e),'.','dot')},setSelectionRangeOnInput:function(e,dm,dn){if(BrowserSupport.BrowserSupport.SetSelectionRange()){try{e.setSelectionRange(dm,dn)}catch(dp){}}},selectAllInputText:function(e){try{if(BrowserSupport.BrowserSupport.SetSelectionRange()){e.get(0).setSelectionRange(0,e.val().length)}else{e.select()}}catch(dm){}},setCursorPosition:function(e,dm){if(typeof(e['createTextRange'])==='function'){var dn=(e.createTextRange?e.createTextRange():null);dn.move('character',dm);dn.select();dn.scrollIntoView();e.focus()}else if(BrowserSupport.BrowserSupport.IsSafari()&&BrowserSupport.BrowserSupport.SetSelectionRange()){e.focus();e.setSelectionRange(dm,dm)}else{e.blur();e.selectionStart=e.selectionEnd=dm;e.focus()}},replaceSelection:function(e,dm){var dn=e.value;var dp=dn.substr(0,e.selectionStart);var dq=dn.substring(e.selectionEnd);var dr=e.selectionStart+dm.length;e.value=dp+dm+dq;bO.setCursorPosition(e,dr)},setNativeTooltip:function(e,dm){var dn=ss.isNullOrEmptyString(dm);if(dn){e.removeAttr('title')}else{e.attr('title',dm)}if(tsConfig.is_mobile){e.children('.tab-mobileTooltip').remove();if(!dn){var dp=$("<div class='tab-mobileTooltip'></div>").text(dm);e.append(dp)}}},nodeHasTextSelection:function(e){var dm=window.getSelection();for(var dn=dm.rangeCount-1;dn>=0;--dn){var dp=dm.getRangeAt(dn);if(ss.referenceEquals(e,dp.startContainer)||e.contains(dp.startContainer)||ss.referenceEquals(e,dp.endContainer)||e.contains(dp.endContainer)){return true}}return false},generateUniqueId:function(){return'tab-ui-id-'+bO.$9++},getIds:function(e){if(ss.isNullOrUndefined(e)){return[]}return e.map(function(dm,dn){return dn.id}).get()},asIDSelector:function(e){return'#'+e},asClassSelector:function(e){return'.'+e},toMsString:function(e){return e+'ms'},toPoint:function(e){return{x:ss.trunc(e.left),y:ss.trunc(e.top)}}});var bP=global.tab.DoubleRectXYUtil=ss.mkType(a,'tab.DoubleRectXYUtil',null,null,{constructDoubleRectXY:function(e,dm,dn,dp){return{x:e,y:dm,w:dn-e,h:dp-dm}},isEmpty:function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0},isEqual:function(e,dm){return e.x===dm.x&&e.y===dm.y&&e.w===dm.w&&e.h===dm.h},isNull:function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0},inRect:function(e,dm){return dm.x>=e.x&&dm.x<e.x+e.w&&dm.y>=e.y&&dm.y<e.y+e.h},inRect$1:function(e,dm,dn,dp,dq,dr){return dq>=e&&dq<e+dn&&dr>=dm&&dr<dm+dp},intersectsWith:function(e,dm){return!(dm.x+dm.w<e.x||dm.y+dm.h<e.y||dm.x>e.x+e.w||dm.y>e.y+e.h)},outsetRect:function(e,dm,dn){return{x:e.x-dm,y:e.y-dn,w:e.w+dm+dm,h:e.h+dn+dn}},outsetRectInPlace:function(e,dm,dn){e.x-=dm;e.y-=dn;e.w+=2*dm;e.h+=2*dn},toEncompassingRectXY:function(e){var dm=Math.floor(e.x);var dn=Math.floor(e.y);var dp=Math.ceil(e.x+e.w);var dq=Math.ceil(e.y+e.h);return{x:dm,y:dn,w:dp-dm,h:dq-dn}}});var bQ=global.tab.DoubleUtil=ss.mkType(a,'tab.DoubleUtil',null,null,{$1:function(){return tab.Logger.lazyGetLogger(bQ)},isApproximatelyEqual:function(e,dm){if(Math.abs(e-dm)<bQ.epsilon){return true}if(e===0){return false}var dn=dm/e;if(bQ.$4<=dn&&dn<=bQ.$6){return true}return false},isApproximatelyZero:function(e){return bQ.isApproximatelyEqual(0,e)},isLessThanAndNotApproximatelyEqual:function(e,dm){return e<dm&&!bQ.isApproximatelyEqual(e,dm)},isLessThanOrApproximatelyEqual:function(e,dm){return e<dm||bQ.isApproximatelyEqual(e,dm)},isGreaterThanAndNotApproximatelyEqual:function(e,dm){return e>dm&&!bQ.isApproximatelyEqual(e,dm)},isGreaterThanOrApproximatelyEqual:function(e,dm){return e>dm||bQ.isApproximatelyEqual(e,dm)},sigFigs:function(e,dm){if(e===0||dm===0){return e}var dn=Math.pow(10,dm-Math.floor(Math.log(Math.abs(e))/Math.LN10)-1);return ss.round(e*dn)/dn},roundToInt:function(e){return ss.round(e)},parseDouble:function(e){var dm=parseFloat(e);return(isFinite(dm)?dm:null)},tryParseDouble:function(e,dm){var dn=parseFloat(e);if(isNaN(dn)||!isFinite(dn)){return dm}return dn},isValidDouble:function(e){if(ss.isNullOrEmptyString(e)){return false}return $.isNumeric(e)},parse64BitInteger:function(e){var dm={};if(!ss.Int64.tryParse(e,dm)){return null}var dn=bQ.parseValidDouble(e);if(ss.Nullable$1.gt(dn,9.22337203685477E+18)||ss.Nullable$1.lt(dn,-9.22337203685477E+18)){return null}return dm.$},isValid32BitInteger:function(e){if(ss.isNullOrEmptyString(e)){return false}var dm=bQ.parse64BitInteger(e);if(ss.isNullOrUndefined(dm)){return false}return ss.Nullable$1.le(dm,2147483647)&&ss.Nullable$1.ge(dm,-2147483648)},isValid64BitInteger:function(e){if(ss.isNullOrEmptyString(e)){return false}var dm=bQ.parse64BitInteger(e);if(ss.isNullOrUndefined(dm)){return false}return true},parseValidDouble:function(e){if(ss.isNullOrEmptyString(e)){return Number.NaN}if(!bQ.isValidDouble(e)){return Number.NaN}return parseFloat(e)},multiplyBy100:function(e){return e*1000/10},truncateTwoDecimalPlaces:function(e){return ss.trunc(bQ.multiplyBy100(e))/100},roundTwoDecimalPlaces:function(e){return ss.round(bQ.multiplyBy100(e))/100}});var bR=global.tab.ErrorTrace=ss.mkType(a,'tab.ErrorTrace',null,null,{$0:function(){return bR.$5},install:function(){var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){if(e==='debug'){bR.$6=true}}bR.$1('setTimeout');bR.$1('setInterval');window.addEventListener('beforeunload',function(){bR.addExtraInfo('navigate')},false)},wrap:function(dm){return function(){try{return dm.apply(this,Array.prototype.slice.call(arguments))}catch(dn){var e=ss.Exception.wrap(dn);bR.report(e,false);throw dn}}},$1:function(e){var dm=window[e];var dn=function(){var dp=ss.arrayClone(Array.prototype.slice.call(arguments));var dq=dp[0];if(ss.isInstanceOfType(dq,Function)){dp[0]=bR.wrap(dq)}return dm.apply(this,dp)};window[e]=dn},windowOnError:function(e,dm,dn,dp,dq){return bR.windowOnError$1(e,dm,dn,dp,dq,false)},windowOnError$1:function(e,dm,dn,dp,dq,dr){var ds=d.$2(dq);var dt=new cL('onError',e,'window.onError',ds,dr);bR.$9.push(dt);if(ss.isValue(bR.$7)){bR.$7(e,dm,dn,dp,dq)}return false},getStackTraceFor:function(e,dm){var dn=new cL('stack',d.$1(e),e.name,null,dm);if(bR.$6){var dp=null;try{dp=d.$0(e,dm)}catch(dq){if(false){throw dq}}if(ss.isValue(dp)){return dp}}else{return dn}dn.traceMode='failed';return dn},hasTraces:function(){return bR.$9.length>0},dequeueTraces:function(){var e=bR.$9;bR.$9=[];return e},installGlobalHandler:function(){if(bR.$8||!true){return}bR.$7=window.onerror;window.onerror=bR.windowOnError;bR.$8=true},addExtraInfo:function(e){if(bR.$5.length<10){bR.$5.push(e)}},report:function(e,dm){var dn=bR.getStackTraceFor(e,dm);bR.$9.push(dn)},clearExtraInfo:function(){ss.clear(bR.$5)}});var bS=global.tab.FeatureFlags=ss.mkType(a,'tab.FeatureFlags',null,null,{isEnabled:function(e){if(ss.isValue(tsConfig.features)&&ss.keyExists(tsConfig.features,e)){return tsConfig.features[e]}if(ss.isValue(bS.$0)&&ss.keyExists(bS.$0,e)){return bS.$0[e]}return false},setDefaults:function(e){bS.$0=e}});var bT=global.tab.FeatureParam=ss.mkEnum(a,'tab.FeatureParam',{unknown:0,newFilter:4,newToolbar:9,buttonDelay:11,hoverDelay:12,maxTooltipWhitespace:18,mapsUseLeafletForGeoSearch:19,selectionToolsMobile:23,mapsSearchDebugAlwaysShow:28,analyticsObjectsDragToViz:31,gotoMyLocationButton:32,designTint:33,newQFWorkbookLevelFormatting:35,outlineStampedShapes:38,progressiveLoadDelay:39,catQFDrowdown:40,opaqueCanvasBackground:42,logStoryPointCacheHits:43,dataHLMaxItems:44,debugTools:46,instrumentObjects:47,greyGlassDelay:48,spinnerDelay:49,cancelDelay:50,runtimeWebHost:51,showRuntimeStatus:53,objectWriteDetector:54,devicePreviewMode:57});var bU=global.tab.FeatureParamsLookup=ss.mkType(a,'tab.FeatureParamsLookup',null,null,{getBool:function(e){if(ss.keyExists(bU.$5,e)){return bU.$5[e]||false}return false},getFloat:function(e){if(ss.keyExists(bU.$7,e)){return bU.$7[e]}return null},getInt:function(e){if(ss.keyExists(bU.$9,e)){return bU.$9[e]}return null},getString:function(e){if(ss.keyExists(bU.$c,e)){return bU.$c[e]}return null},$1:function(e,dm,dn){bU.$6.push(dm);bU.$e[e]=dm;bU.$5[dm]=dn},$2:function(e,dm){bU.$a.push(dm);bU.$e[e]=dm;bU.$9[dm]=null},$3:function(e,dm){bU.$d.push(dm);bU.$e[e]=dm;bU.$c[dm]=null},$0:function(){var e=window.self.location.search;var dm=ss.coalesce(tab.CookieHelper.getValueForCookie('featureParams'),'');var dn=((co.isNullOrEmpty$1(e)||co.isNullOrEmpty$1(dm))?(e+dm):(e+'&'+dm));var dp=tab.UriExtensions.getUriQueryParameters(dn);var dq=new ss.ObjectEnumerator(dp);try{while(dq.moveNext()){var dr=dq.current();var ds=dr.key.toLowerCase();var dt=0;if(ss.keyExists(bU.$e,ds)){dt=bU.$e[ds]}else{continue}if(dr.value.length>0){var du=dr.value[0];if(ss.contains(bU.$6,dt)){var dv=du.toLowerCase()==='true';bU.$5[dt]=dv}else if(ss.contains(bU.$8,dt)){var dw=parseFloat(du);bU.$7[dt]=dw}else if(ss.contains(bU.$a,dt)){var dx=parseInt(du);bU.$9[dt]=dx}else if(ss.contains(bU.$d,dt)){bU.$c[dt]=du}else{continue}}else{continue}}}finally{dq.dispose()}}});var bV=global.tab.FifoCache=ss.mkType(a,'tab.FifoCache',function(e){this.$2=0;this.$0=null;this.cl={};this.$1=0;this.$2=e;this.$0=new Array(e)},{clear:function(){ss.clearKeys(this.cl);this.$1=0},add:function(e,dm){var dn=this.$0[this.$1];delete this.cl[dn];this.$0[this.$1]=e;this.cl[e]=dm;this.$1=ss.imod(this.$1+1,this.$2)}});var bW=global.tab.FontUtil=ss.mkType(a,'tab.FontUtil',null,null,{createFallbackCanvasFontName:function(e){var dm=bW.$1.cl[e];if(ss.isValue(dm)){return dm}var dn=ss.trimString(e,[39,34]);var dp=dn.split(' ');var dq=[];for(var dr=dp.length;dr>0;--dr){dq.push(bW.addQuotationMarks(dp.join(' '),true));dp.pop()}bW.addDefaultFontForTableau(dq);var ds=dq.join(', ');bW.$1.add(e,ds);return ds},addQuotationMarks:function(e,dm){if(co.isNullOrEmpty$1(e)){return(dm?"''":'""')}var dn=e.length-1;if(e.charCodeAt(0)===39&&e.charCodeAt(dn)===39||e.charCodeAt(0)===34&&e.charCodeAt(dn)===34){return e}if(e.indexOf(' ')!==-1){var dp=(dm?"'":'"');e=dp+e+dp}return e},addDefaultFontForTableau:function(e){var dm='tableau';var dn=false;var dp=e.length;for(var dq=0;dq<dp;dq++){var dr=e[dq].trim();for(var ds=0;ds<2;ds++){if(ss.startsWithString(dr,"'")||ss.startsWithString(dr,'"')){dr=dr.substr(1)}}if(ss.compareStrings(dr.substr(0,dm.length),dm,true)===0){dn=true;break}}if(dn){e.push('Arial');e.push('sans-serif')}}});var bX=global.tab.HistoryUtil=ss.mkType(a,'tab.HistoryUtil',null,null,{pushState:function(e,dm,dn,dp){if(BrowserSupport.BrowserSupport.HistoryApi()){try{e.history.pushState(dm,dn,dp)}catch(dq){var e=ss.Exception.wrap(dq)}}},replaceState:function(e,dm,dn,dp){if(BrowserSupport.BrowserSupport.HistoryApi()){try{e.history.replaceState(dm,dn,dp)}catch(dq){var e=ss.Exception.wrap(dq)}}}});var bY=global.tab.HttpResponseCodes=ss.mkType(a,'tab.HttpResponseCodes');var bZ=global.tab.IAppendableView=ss.mkType(a,'tab.IAppendableView');var ca=global.tab.IBrowserViewport=ss.mkType(a,'tab.IBrowserViewport');var cb=global.tab.ICommonBannerProvider=ss.mkType(a,'tab.ICommonBannerProvider');var cc=global.tab.ICommonDialogProvider=ss.mkType(a,'tab.ICommonDialogProvider');var cd=global.tab.InstrumentationTools=ss.mkType(a,'tab.InstrumentationTools',function(){},null,{isArray:function(e){return ss.isInstanceOfType(e,Array)},isTypedArray:function(e){return ss.isInstanceOfType(e,Uint8Array)||ss.isInstanceOfType(e,Uint16Array)||ss.isInstanceOfType(e,Uint32Array)||ss.isInstanceOfType(e,Int32Array)||ss.isInstanceOfType(e,Float32Array)||ss.isInstanceOfType(e,Float64Array)}});var ce=global.tab.IntegerRange=ss.mkType(a,'tab.IntegerRange',function(e,dm){this.$0=0;this.$1=0;this.$0=e;this.$1=dm},{get_from:function(){return this.$0},set_from:function(e){this.$0=e},get_to:function(){return this.$1},set_to:function(e){this.$1=e}},{itemToTileRange:function(e,dm){var dn=new ce(0,0);dn.set_from(Math.floor(e.get_from()/dm));dn.set_to(Math.floor(e.get_to()/dm));return dn},pixelToItemRange:function(e,dm){var dn=new ce(0,0);dn.set_from(Math.floor(e.get_from()/dm));dn.set_to(Math.floor(e.get_to()/dm));return dn},pixelToTileRange:function(e,dm,dn){return ce.itemToTileRange(ce.pixelToItemRange(e,dm),dn)},isEqual:function(e,dm){return ss.isValue(e)&&ss.isValue(dm)&&e.get_to()===dm.get_to()&&e.get_from()===dm.get_from()},union:function(e,dm){if(ss.isNullOrUndefined(e)){return dm}if(ss.isNullOrUndefined(dm)){return e}var dn=new ce(0,0);dn.set_from(Math.min(e.get_from(),dm.get_from()));dn.set_to(Math.max(e.get_to(),dm.get_to()));return dn}});var cf=global.tab.IView$1=ss.mkType(a,'tab.IView$1',function(e){var dm=ss.registerGenericInterfaceInstance(cf,[e],{get_viewModel:null,get_rootElement:null},function(){return[ss.IDisposable,bZ]});ss.setMetadata(dm,{variance:[1]});return dm});ss.initGenericInterface(cf,1);var cg=global.tab.IViewModel=ss.mkType(a,'tab.IViewModel');var ch=global.tab.IWidget=ss.mkType(a,'tab.IWidget');var ci=global.tab.ListExtensions=ss.mkType(a,'tab.ListExtensions',null,null,{where:function(e){return function(dm,dn){var dp=[];var dq=ss.getEnumerator(dm);try{while(dq.moveNext()){var dr=dq.current();if(dn(dr)){dp.push(dr)}}}finally{dq.dispose()}return dp}},except:function(e){return function(dm,dn){return ci.where(e).call(null,dm,function(dp){return!ss.contains(dn,dp)})}},any:function(e){return function(dm,dn){for(var dp=0;dp<dm.length;dp++){var dq=dm[dp];if(dn(dq)){return true}}return false}}});var cj=global.tab.LocaleStrings=ss.mkType(a,'tab.LocaleStrings');var ck=global.tab.LoopBreakException=ss.mkType(a,'tab.LoopBreakException',function(){ss.Exception.call(this)},null,{$ctor1:function(e){ss.Exception.call(this,e)},$ctor2:function(e,dm){ss.Exception.call(this,e,dm)}});var cl=global.tab.MapUtil=ss.mkType(a,'tab.MapUtil',null,null,{getZoomFactorForDesiredZoomLevel:function(e,dm){return Math.exp(-(Math.LN2*(dm-e)))},allowZoomAtCurrentLevel:function(e,dm){return e+cl.convertZoomFactorToZoomLevel(dm)>=0},convertZoomFactorToZoomLevel:function(e){return-(Math.log(e)/Math.log(2))},allowZoomAtCurrentLevelLeaflet:function(e,dm){return e-dm>=0},getVisiblePixelWidth:function(e,dm,dn){var dp=Math.pow(2,e)*dn;var dq=Math.floor(dm*dp);return dq},getScrollDeltaForZoomFactor:function(e){return Math.floor(cl.$2*(Math.log(e)/Math.log(2)))},getLeafletZoomOffsetForTileSize:function(e){return((e===cl.$1)?-1:0)},calculateZoomFactor:function(e){var dm=ss.idiv(e,8);var dn=ss.idiv(dm,15);var dp=1;var dq=ss.round(Math.log(dp)/Math.log(2)*4)/4+dn/4;dp=Math.pow(2,dq);return dp}});var cm=global.tab.MapUtility=ss.mkType(a,'tab.MapUtility',null,null,{forEachWithInterrupt$1:function(e,dm){return function(dn,dp){try{dn.forEach(dp)}catch(dq){dq=ss.Exception.wrap(dq);if(ss.isInstanceOfType(dq,ck)){}else{throw dq}}}},forEachWithInterrupt:function(e,dm){return function(dn,dp){try{dn.forEach(function(dq,dr){"use strict";dp(dq,dr)})}catch(dq){dq=ss.Exception.wrap(dq);if(ss.isInstanceOfType(dq,ck)){}else{throw dq}}}},createCopy:function(e,dm){return function(dn){var dp=new Map;dn.forEach(function(dq,dr){dp.set(dr,dq)});return dp}}});var cn=global.tab.MetricsLogger=ss.mkType(a,'tab.MetricsLogger',function(){this.$c=[];this.$d=null;this.$a=[];this.$9=null;this.$b=null},{logEvent:function(e){if(this.$c.length>=400){this.$c.shift()}this.$c.push(e);this.$8(250)},$8:function(e){if(ss.isValue(this.$b)){return}this.$b=window.setTimeout(ss.mkdel(this,this.$4),e)},$4:function(){this.$b=null;var e;if(this.$c.length>20){e=this.$c.slice(0,20);this.$c=this.$c.slice(20);this.$8(5)}else{e=this.$c;this.$c=[]}this.$3(e);if(cn.isLoggerEnabled()){try{this.$2(e)}catch(dm){}}},$3:function(e){this.$d=this.$d||tab.Logger.lazyGetLogger(cn);for(var dm=0;dm<e.length;dm++){var dn=e[dm]}},$2:function(e){var dm=1500;var dn=e.length;var dp='';if(dn===0){return}for(var dq=0;dq<dn;dq++){var dr=e[dq];var ds=cn.$1(dr,false);if(dp.length>0&&dp.length+ds.length>dm){this.$5(tsConfig.metricsServerHostname,dp);dp=''}else if(dp.length>0){dp+='&'}dp+=ds}if(dp.length>0){this.$5(tsConfig.metricsServerHostname,dp)}if(ss.isNullOrUndefined(this.$9)&&!cn.$3()){this.$9=window.setTimeout(ss.mkdel(this,this.$0),250)}},$5:function(e,dm){if(cn.$3()){this.$7(dm)}else{this.$6(e,dm)}},$6:function(e,dm){if(co.isNullOrEmpty$1(e)||co.isNullOrEmpty$1(dm)){return}var dn=document.createElement('img');dn.src=this.$1(e,dm);this.$a.push(dn);if(this.$a.length>100){this.$a.shift()}},$7:function(e){if(co.isNullOrEmpty$1(e)){return}var dm='BEBeacon';var dn=this.$1(dm,e);window.sessionStorage.setItem(bQ.roundToInt(window.performance.now()).toString(),dn)},$1:function(e,dm){var dn=1;var dp=e+'?'+'v='+dn.toString()+'&'+dm;return dp},$0:function(){try{this.$9=null;var e=0;while(e<this.$a.length){if(this.$a[e].complete){this.$a.splice(e,1)}else{e++}}if(this.$a.length>0){this.$9=window.setTimeout(ss.mkdel(this,this.$0),250)}}catch(dm){}}},{isLoggerEnabled:function(){return tsConfig.metricsReportingEnabled||cn.$3()},$3:function(){return bS.isEnabled('BrowserEverywhere_Hosting_ClientPerfTelemetry')},$1:function(e,dm){var dn=(dm?', ':',');var dp=new ss.StringBuilder;dp.append((dm?cn.$b[e.eventType]:e.eventType.toString()));var dq=e.parameters;var dr=dq;if(ss.isValue(dq.ei)){dr=co.cloneObject(dr);var ds=dq.ei.split(': ');if(ds.length>1){var dt=ss.mkdict(ds);dr['p']=dt;delete dr['ei']}}var du=ss.getKeyCount(dr);if(du>0){dp.append('=');dp.append('{');var dv=0;var dw=(dm?': ':':');var dx=ss.getEnumerator(Object.keys(dr));try{while(dx.moveNext()){var dy=dx.current();if(dy==='id'&&e.eventType!=='init'){continue}if(dv++>0){dp.append(dn)}dp.append((dm?cn.$c[dy]:dy.toString()));dp.append(dw);var dz=dr[dy];cn.$2(dp,dz,dm)}}finally{dx.dispose()}dp.append('}')}return dp.toString()},$0:function(e,dm,dn){var dp=(dn?', ':',');var dq=(dn?': ':':');var dr=ss.getKeyCount(dm);var ds=0;var dt=ss.getEnumerator(Object.keys(dm));try{while(dt.moveNext()){var du=dt.current();if(dm.hasOwnProperty(du)){var dv=dm[du];e.append(du);e.append(dq);cn.$2(e,dv,dn);if(++ds<dr){e.append(dp)}}}}finally{dt.dispose()}},$2:function(e,dm,dn){var dp=typeof(dm);if(dp==='number'&&Math.floor(dm)!==dm){e.append(dm.toFixed(1))}else if(dp==='string'){if(dn||ss.isValue(dm)&&dm.indexOf('/')!==-1){var dq=new ss.StringBuilder;dq.append('"');dq.append(dm);dq.append('"');if(dn){e.append(dq)}else{e.append(encodeURIComponent(dq.toString()))}}else{e.append(encodeURIComponent(dm))}}else if($.isArray(dm)){e.append('[');e.append(dm);e.append(']')}else if(dp==='object'){e.append('{');var dr=dm;cn.$0(e,dr,dn);e.append('}')}else{e.append(dm)}}});var co=global.tab.MiscUtil=ss.mkType(a,'tab.MiscUtil',null,null,{get_pathName:function(){var e=tabBootstrap.Utility.get_locationWindow();return tab.WindowHelper.getLocation(e).pathname},get_urlPathnameParts:function(){var e=co.get_pathName();var dm=tsConfig.site_root;var dn=e.indexOf(dm,0);var dp=e.substr(dn+dm.length);var dq=dp.split('/');var dr={};dr[2]=dq[2];dr[3]=dq[3];dr[4]=dq[4];return dr},shallowEquals:function(e,dm){if(ss.referenceEquals(e,dm)){return true}if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(dm)){return false}var dn=Object.keys(e);var dp=Object.keys(dm);if(dn.length!==dp.length){return false}for(var dq=0;dq<dn.length;dq++){var dr=dn[dq];if(!dm.hasOwnProperty(dr)||!ss.referenceEquals(e[dr],dm[dr])){return false}}return true},percentEncode:function(e,dm){e=encodeURIComponent(e);if(ss.isNullOrUndefined(dm)){return e}var dn=new ss.StringBuilder;var dp=0;while(dp<e.length){var dq=e.substr(dp,1);if(dq==='%'){dn.append(e.substr(dp,3));dp+=2}else if(!ss.keyExists(dm,dq)){dn.append('%').append(dq.charCodeAt(0).toString(16).toUpperCase())}else{dn.append(dq)}dp++}return dn.toString()},encodeForWG:function(e){var dm={};var dn=function(dp,dq){for(var dr=dp;dr<=dq;dr++){var ds=String.fromCharCode(dr);dm[ds]=ds}};dn(97,122);dn(65,90);dn(48,57);dn(95,95);dn(45,45);e=co.percentEncode(e,dm);e=co.percentEncode(e,null);return e},isNullOrUndefined:function(e){if(ss.isNullOrUndefined(e)){return true}for(var dm=0;dm<e.length;dm++){if(ss.isNullOrUndefined(e[dm])){return true}}return false},isNullOrEmpty:function(e){if(ss.isNullOrUndefined(e)){return true}var dm=e;if(ss.isValue(dm['length'])&&dm['length']===0){return true}return false},isNullOrEmpty$1:function(e){return ss.isNullOrEmptyString(e)},isNullOrEmpty$3:function(e){return ss.isNullOrUndefined(e)||e.length===0},isNullOrEmpty$2:function(e){return ss.isNullOrUndefined(e)||e.length===0},isValidIndex:function(e,dm){return e>=0&&e<dm.length},toBoolean:function(e,dm){var dn=new RegExp('^(yes|y|true|t|1)$','i');if(co.isNullOrEmpty$1(e)){return dm}var dp=e.match(dn);return!co.isNullOrEmpty(dp)},shouldShowDataTab:function(){return tsConfig.allow_add_new_datasource&&bS.isEnabled('DataToTheWeb')&&(!tsConfig.is_mobile||tsConfig.is_mobile&&bS.isEnabled('DataToTheWebMobile'))},replaceUriQueryParameters:function(e,dm){if(ss.getKeyCount(dm)===0){return e}var dn=new ss.StringBuilder;var dp=true;var dq=function(){dn.append((dp?'?':'&'));dp=false};var dr=_.keys(dm);for(var ds=0;ds<dr.length;ds++){var dt=dr[ds];var du=dm[dt];var dv=encodeURIComponent(dt);if(ss.isNullOrUndefined(du)||du.length===0){dq();dn.append(dv)}else{for(var dw=0;dw<du.length;dw++){var dx=du[dw];dq();dn.append(dv).append('=').append(encodeURIComponent(dx))}}}var dy='';var dz='';if(e.length>0){var dA=e.indexOf('?');var dB=e.indexOf('#');var dC=Math.min(((dA<0)?e.length:dA),((dB<0)?e.length:dB));dz=e.substr(0,dC);dy=((dB<0)?'':e.substr(dB))}return dz+dn+dy},sanatizeBoolean:function(e){if(ss.isNullOrUndefined(e)){return e}return e.toString().toLowerCase()==='true'},dispose$1:function(e){if(ss.isValue(e)){e.dispose()}return null},dispose:function(e){if(ss.isValue(e)){for(var dm=0;dm<e.length;dm++){var dn=e[dm];if(ss.isValue(dn)){dn.dispose()}}ss.clear(e)}return null},clearTimeout:function(e){if(ss.isValue(e)){window.clearTimeout(ss.unbox(e))}return null},clearInterval:function(e){if(ss.isValue(e)){window.clearInterval(ss.unbox(e))}return null},cloneObject:function(e){var dm=JSON.stringify(e,function(dn,dp){if(ss.isInstanceOfType(dp,Uint32Array)||ss.isInstanceOfType(dp,Int32Array)||ss.isInstanceOfType(dp,Float64Array)||ss.isInstanceOfType(dp,Float32Array)){return Array.prototype.slice.call(dp)}return dp});return JSON.parse(dm)}});var cp=global.tab.NaturalLanguageUtil=ss.mkType(a,'tab.NaturalLanguageUtil',null,null,{isNlpView:function(){return tsConfig.nlpLayoutMode==='landing'||tsConfig.nlpLayoutMode==='exploration'}});var cq=global.tab.NavigationMetricsCollector=ss.mkType(a,'tab.NavigationMetricsCollector',null,null,{collectMetrics:function(){if(typeof(window)!=='undefined'&&typeof(window.performance)!=='undefined'&&typeof(window.performance.timing)!=='undefined'&&typeof(tabBootstrap.MetricsEvent)!=='undefined'){cq.$1=window.performance.timing;if('navigationStart'in cq.$1){var e=cq.$1[cq.$2[0]];var dm=[];for(var dn=0;dn<cq.$2.length;dn++){var dp=cq.$2[dn];var dq=cq.$1[dp];dq=((dq===0)?0:(dq-e));dm.push(dq)}var dr={v:dm};var ds=new tabBootstrap.MetricsEvent('nav',1,dr);tabBootstrap.MetricsController.logEventInternalUse(ds)}}}});var cr=global.tab.NewRelicMetricsLogger=ss.mkType(a,'tab.NewRelicMetricsLogger',function(){},{logEvent:function(e){if(!cr.isLoggerSupported()){return}var dm=e.parameters.d;if(ss.isNullOrUndefined(dm)){return}var dn=new Object;dn.name=tabBootstrap.MetricsController.getFriendlyEventDescription(dm);var dp=cr.$0(e.parameters.t);var dq=e.parameters.e;if(ss.isValue(dq)){dn.end=dp;dn.start=dp-dq}else{dn.start=dp}newrelic.addToTrace(dn)}},{isLoggerSupported:function(){return'newrelic'in window},$0:function(e){return e+tabBootstrap.MetricsController.recordingStart}});var cs=global.tab.ObjectAccessTracker=ss.mkType(a,'tab.ObjectAccessTracker',function(e,dm){this.$1=null;this.$0=null;this.$1=e;this.$0=dm},{get:function(e,dm,dn){if(!cs.$0(dm)){var dp=this.$0+'!'+dm;if(ss.keyExists(this.$1,dp)){this.$1[dp]=true}}return e[dm]}},{$0:function(e){return typeof(e)==='symbol'}});var ct=global.tab.ObjectCoverage=ss.mkType(a,'tab.ObjectCoverage',function(e){this.$2={};this.$1=null;this.$0=null;this.$0=e;ct.trackedObjects[e]=this},{instrument:function(e,dm){if(dm===''){this.$1=JSON.parse(JSON.stringify(e))}if(e===Object(e)&&!cd.isArray(e)){var dn=e;var dp=new ss.ObjectEnumerator(dn);try{while(dp.moveNext()){var dq=dp.current();this.$2[dm+'!'+dq.key]=false;if(dq.value===Object(dq.value)){dn[dq.key]=this.instrument(dq.value,dm+'!'+dq.key)}}}finally{dp.dispose()}return new Proxy(e,new cs(this.$2,dm))}else if(cd.isArray(e)){var dr=e;for(var ds=0;ds<dr.length;ds++){this.$2[dm+'!'+ds]=false;var dt=dr[ds];if(dt===Object(dt)){dr[ds]=this.instrument(dr[ds],dm+'!'+ds)}}return new Proxy(e,new cs(this.$2,dm))}return e}},{shouldTrack:function(e){if(ss.isNullOrUndefined(ct.$1)){ct.$1={};var dm=bU.getString(47);if(!ss.isNullOrUndefined(dm)){var dn=dm.split(',');for(var dp=0;dp<dn.length;dp++){var dq=dn[dp];ct.$1[dq]=true}}}return ss.keyExists(ct.$1,e)&&ct.$1[e]}});var cu=global.tab.ObjectRegistry=ss.mkType(a,'tab.ObjectRegistry',null,null,{registerType:function(e,dm){return function(){if(ss.isNullOrUndefined(cu.$3)){cu.$3={}}cu.$3[ss.getTypeFullName(e)]=dm}},registerDeferredType:function(e){return function(){var dm=$.Deferred();if(ss.isNullOrUndefined(cu.$2)){cu.$2={}}cu.$2[ss.getTypeFullName(e)]=dm}},resolveDeferredType:function(e){return function(dm){if(ss.isNullOrUndefined(cu.$2)){return}cu.$2[ss.getTypeFullName(e)].resolve(dm)}},newView$1:function(e){return function(dm,dn){return cu.$1(e).call(null,dm,dn)}},newView:function(e){return function(dm){return cu.$1(e).call(null,e,dm)}},newDeferred:function(e){return function(dm){var dn=e;if(ss.isNullOrUndefined(cu.$2)){throw new ss.Exception('No deferred types registered')}var dp=cu.$2[ss.getTypeFullName(dn)];if(ss.isNullOrUndefined(dp)){throw new ss.Exception('Unknown type: '+ss.getTypeFullName(dn))}var dq=$.Deferred();dp.done(function(dr){dq.resolve(ss.applyConstructor(dr,dm))});return dq}},newWidget$2:function(e){return function(dm,dn){return cu.$1(e).call(null,dm,dn)}},newWidget:function(e){return function(){return cu.$1(e).call(null,e,[])}},newWidget$1:function(e){return function(dm){return cu.$1(e).call(null,e,dm)}},$1:function(e){return function(dm,dn){if(ss.isNullOrUndefined(cu.$3)){throw new ss.Exception('No types registered')}var dp=cu.$3[ss.getTypeFullName(dm)];if(ss.isNullOrUndefined(dp)){throw new ss.Exception('Unknown view type: '+ss.getTypeFullName(dm))}var dq=((dn.length===0)?ss.createInstance(dp):ss.applyConstructor(dp,dn));return(cu.$0(dp,e)?dq:dq)}},newLegacyTooltip:function(e){return function(dm,dn,dp){if(ss.isNullOrUndefined(cu.$3)){throw new ss.Exception('No types registered')}var dq=cu.$3[ss.getTypeFullName(dm)];if(ss.isNullOrUndefined(dq)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(dm))}var dr=new dq(dn,dp);return dr}},newLegacyTooltipBehavior:function(e){return function(dm,dn){if(ss.isNullOrUndefined(cu.$3)){throw new ss.Exception('No types registered')}var dp=cu.$3[ss.getTypeFullName(dm)];if(ss.isNullOrUndefined(dp)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(dm))}var dq=new dp(dn);return dq}},resolve:function(e){return function(dm){var dn=e;if(ss.isNullOrUndefined(cu.$3)){throw new ss.Exception('No types registered')}var dp=cu.$3[ss.getTypeFullName(dn)];if(ss.isNullOrUndefined(dp)){throw new ss.Exception('Unknown type: '+ss.getTypeFullName(dn))}return ss.applyConstructor(dp,dm)}},$0:function(e,dm){return ss.isNullOrUndefined(ss.getGenericTypeDefinition(dm))||ss.isValue(ss.getGenericTypeDefinition(e))}});var cv=global.tab.ObjectWriteDetectionProxy=ss.mkType(a,'tab.ObjectWriteDetectionProxy',function(){},{set:function(e,dm,dn){switch(cv.$1){case 1:{console.error('Write back to protected object detected',e,dm,dn);break}case 2:{debugger;break}}e[dm]=dn}});var cw=global.tab.Param=ss.mkType(a,'tab.Param',null,null,{createArgumentNullOrUndefinedException:function(e){var dm=new ss.Exception(e+' is null or undefined.');dm.paramName=e;return dm},verifyString:function(e,dm){cw.verifyValue(e,dm);if(e.trim().length===0){var dn=new ss.Exception(dm+' contains only white space');dn.paramName=dm;cw.$1(dn);throw dn}},verifyValue:function(e,dm){if(ss.isNullOrUndefined(e)){var dn=cw.createArgumentNullOrUndefinedException(dm);cw.$1(dn);throw dn}},$1:function(e){if(cw.suppressAlerts){return}try{throw e}catch(dm){var exceptionWithStack=ss.Exception.wrap(dm);window.alert(cw.$0(exceptionWithStack))}},$0:function(e){var dm;if(ss.isValue(e.stack)){dm=e.stack}else{dm=e.get_message()}return dm}});var cx=global.tab.PathnameKey=ss.mkEnum(a,'tab.PathnameKey',{workbookName:2,sheetId:3,authoringSheet:4});var cy=global.tab.PointDUtil=ss.mkType(a,'tab.PointDUtil',null,null,{subtract:function(e,dm){return{x:e.x-dm.x,y:e.y-dm.y}},timesScalar:function(e,dm){return{x:e.x*dm,y:e.y*dm}},round:function(e){return{x:Math.round(e.x),y:Math.round(e.y)}}});var cz=global.tab.PointUtil=ss.mkType(a,'tab.PointUtil',null,null,{fromPresModel:function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.x,y:e.y}},toPresModel:function(e){if(ss.isNullOrUndefined(e)){return null}var dm={x:ss.round(e.x),y:ss.round(e.y)};return dm},fromPosition:function(e){return{x:bQ.roundToInt(e.left),y:bQ.roundToInt(e.top)}},fromPointD:function(e){return{x:bQ.roundToInt(e.x),y:bQ.roundToInt(e.y)}},add:function(e,dm){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(dm)){return e}return{x:e.x+dm.x,y:e.y+dm.y}},subtract:function(e,dm){return{x:e.x-dm.x,y:e.y-dm.y}},multiply:function(e,dm){return{x:e.x*dm.x,y:e.y*dm.y}},distance:function(e,dm){cw.verifyValue(e,'first');cw.verifyValue(dm,'second');var dn=e.x-dm.x;var dp=e.y-dm.y;return Math.sqrt(dn*dn+dp*dp)},isWithinDistance:function(e,dm,dn){var dp=e.x-dm.x;var dq=e.y-dm.y;return dp*dp+dq*dq<=dn*dn},equals:function(e,dm){return ss.isValue(e)&&ss.isValue(dm)&&dm.x===e.x&&dm.y===e.y},timesScalar:function(e,dm){return{x:e.x*dm,y:e.y*dm}}});var cA=global.tab.PropertyChangedEventArgs=ss.mkType(a,'tab.PropertyChangedEventArgs',function(e){this.$0=null;ss.EventArgs.call(this);this.$0=e},{get_propertyName:function(){return this.$0}});var cB=global.tab.ReadOnlyProxy=ss.mkType(a,'tab.ReadOnlyProxy',function(){},{instrument:function(e){if(cd.isTypedArray(e)){var dm=e;var dn=new Array(dm.length);for(var dp=0;dp<dm.length;dp++){dn[dp]=dm[dp]}e=dn}if(e===Object(e)&&!cd.isArray(e)){var dq=e;var dr=new ss.ObjectEnumerator(dq);try{while(dr.moveNext()){var ds=dr.current();if(ds.value===Object(ds.value)){dq[ds.key]=this.instrument(ds.value)}}}finally{dr.dispose()}return new Proxy(e,new cv)}else if(cd.isArray(e)){var dt=e;for(var du=0;du<dt.length;du++){var dv=dt[du];if(dv===Object(dv)){dt[du]=this.instrument(dt[du])}}return new Proxy(e,new cv)}return e}});var cC=global.tab.RecordCast=ss.mkType(a,'tab.RecordCast',null,null,{rectPresModelAsRectXY:function(e){return(ss.isNullOrUndefined(e)?null:{x:e.x,y:e.y,w:e.w,h:e.h})},doubleRectPresModelAsDoubleRectXY:function(e){return(ss.isNullOrUndefined(e)?null:{x:e.doubleLeft,y:e.doubleTop,w:e.width,h:e.height})},sizeAsSizePresModel:function(e){return(ss.isNullOrUndefined(e)?null:{w:e.w,h:e.h})}});var cD=global.tab.RectUtil=ss.mkType(a,'tab.RectUtil',null,null,{isEmpty:function(e){return e.w===0||e.h===0},isEqual:function(e,dm){return e.t===dm.t&&e.l===dm.l&&e.w===dm.w&&e.h===dm.h},inRect:function(e,dm){return dm.x>=e.l&&dm.x<e.l+e.w&&dm.y>=e.t&&dm.y<e.t+e.h},intersectsWith:function(e,dm){return!(dm.l+dm.w<e.l||dm.t+dm.h<e.t||dm.l>e.l+e.w||dm.t>e.t+e.h)},intersect:function(e,dm){if(!cD.intersectsWith(e,dm)||cD.isEmpty(dm)||cD.isEmpty(e)){return{l:0,t:0,w:0,h:0}}var dn=Math.max(e.l,dm.l);var dp=Math.max(e.t,dm.t);var dq=Math.min(e.l+e.w,dm.l+dm.w);var dr=Math.min(e.t+e.h,dm.t+dm.h);return{l:dn,t:dp,w:dq-dn,h:dr-dp}},translateRectToFitInBounds:function(e,dm){var dn=dm.t;var dp=dm.l;var dq=dm.t+dm.h-e.h;var dr=dm.l+dm.w-e.w;var ds=Math.max(Math.min(dq,e.t),dn);var dt=Math.max(Math.min(dr,e.l),dp);return{l:dt,t:ds,w:e.w,h:e.h}},toRectXY:function(e){return{x:e.l,y:e.t,w:e.w,h:e.h}}});var cE=global.tab.RectXYUtil=ss.mkType(a,'tab.RectXYUtil',null,null,{set:function(e,dm){e.x=dm.x;e.y=dm.y;e.w=dm.w;e.h=dm.h},set$1:function(e,dm,dn,dp,dq){e.x=dm;e.y=dn;e.w=dp;e.h=dq},isEmpty:function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0},isEqual:function(e,dm){return e.x===dm.x&&e.y===dm.y&&e.w===dm.w&&e.h===dm.h},isNull:function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0},inRect:function(e,dm){return dm.x>=e.x&&dm.x<e.x+e.w&&dm.y>=e.y&&dm.y<e.y+e.h},inRect$1:function(e,dm,dn){return dm>=e.x&&dm<e.x+e.w&&dn>=e.y&&dn<e.y+e.h},inRectOrSharedEdge:function(e,dm,dn){return dm>=e.x&&dm<=e.x+e.w&&dn>=e.y&&dn<=e.y+e.h},inRectPointF:function(e,dm){return dm.x>=e.x&&dm.x<e.x+e.w&&dm.y>=e.y&&dm.y<e.y+e.h},inRectPointF$1:function(e,dm,dn){return dm>=e.x&&dm<e.x+e.w&&dn>=e.y&&dn<e.y+e.h},intersectsWith:function(e,dm){return!(dm.x+dm.w<e.x||dm.y+dm.h<e.y||dm.x>e.x+e.w||dm.y>e.y+e.h)},intersectsWith$1:function(e,dm,dn,dp,dq){return!(dm+dp<e.x||dn+dq<e.y||dm>e.x+e.w||dn>e.y+e.h)},intersectsWithMoreThanSharedEdge:function(e,dm){return!(dm.x+dm.w<=e.x||dm.y+dm.h<=e.y||dm.x>=e.x+e.w||dm.y>=e.y+e.h)},toPresModel:function(e){return{x:e.x|0,y:e.y|0,w:e.w|0,h:e.h|0}},fromPresModel:function(e){return{x:e.x|0,y:e.y|0,w:e.w|0,h:e.h|0}},clone:function(e){return{x:e.x,y:e.y,w:e.w,h:e.h}},nonemptyify:function(e){return{x:e.x,y:e.y,w:Math.max(1,e.w),h:Math.max(1,e.h)}},intersectsWithAny:function(e,dm){var dn=false;for(var dp=0;dp<dm.length;dp++){var dq=dm[dp];if(ss.isNullOrUndefined(dq)){continue}if(cE.intersectsWith(e,dq)){dn=true;break}}return dn},intersectsWithAny$1:function(e,dm,dn){if(dm.y+dm.h<e.y||dm.y>e.y+e.h){return false}var dp=e.x;var dq=e.x+e.w;for(var dr=0;dr<dn.length;dr++){var ds=dn[dr];var dt=dm.x+ds;var du=dt+dm.w;if(!(du<dp||dt>dq)){return true}}return false},completelyContains:function(e,dm){return cE.inRect(e,{x:dm.x,y:dm.y})&&cE.inRect(e,{x:dm.x+dm.w-1,y:dm.y+dm.h-1})},completelyContains$1:function(e,dm,dn,dp,dq){return cE.inRect$1(e,dm,dn)&&cE.inRect$1(e,dm+dp-1,dn+dq-1)},toRect:function(e){return{l:e.x,t:e.y,w:e.w,h:e.h}},offsetRect:function(e,dm){return{x:e.x+dm.x,y:e.y+dm.y,w:e.w,h:e.h}},offsetRectXY:function(e,dm,dn){return{x:e.x+dm,y:e.y+dn,w:e.w,h:e.h}},offsetRectXYInPlace:function(e,dm,dn){e.x+=dm;e.y+=dn},offsetRectF:function(e,dm){return{x:e.x+Math.round(dm.x),y:e.y+Math.round(dm.y),w:e.w,h:e.h}},outsetRect:function(e,dm,dn){return{x:e.x-dm,y:e.y-dn,w:e.w+dm+dm,h:e.h+dn+dn}},outsetRectInPlace:function(e,dm,dn){e.x-=dm;e.y-=dn;e.w+=2*dm;e.h+=2*dn},outsetRectSizeF:function(e,dm){return cE.outsetRect(e,Math.ceil(dm.w),Math.ceil(dm.h))},encompassCircleInPlace:function(e,dm,dn,dp){var dq=dp*2;var dr=Math.floor(dm-dp+0.5);var ds=Math.floor(dn-dp+0.5);var dt=Math.floor(dq+0.5);cE.unionInPlace$1(e,dr,ds,dt,dt)},union:function(e,dm){if(cE.isEmpty(e)){return cE.clone(dm)}if(cE.isEmpty(dm)){return cE.clone(e)}var dn=Math.min(e.x,dm.x);var dp=Math.min(e.y,dm.y);var dq=Math.max(e.x+e.w,dm.x+dm.w);var dr=Math.max(e.y+e.h,dm.y+dm.h);return{x:dn,y:dp,w:dq-dn,h:dr-dp}},unionInPlace$1:function(e,dm,dn,dp,dq){if(cE.isEmpty(e)){cE.set$1(e,dm,dn,dp,dq);return}if(dp===0||dq===0){return}var dr=Math.min(e.x,dm);var ds=Math.min(e.y,dn);var dt=Math.max(e.x+e.w,dm+dp);var du=Math.max(e.y+e.h,dn+dq);cE.set$1(e,dr,ds,dt-dr,du-ds)},unionInPlace:function(e,dm){cE.unionInPlace$1(e,dm.x,dm.y,dm.w,dm.h)},unionAll:function(e){var dm=e.length;if(dm===0){return{x:0,y:0,w:0,h:0}}var dn=e[0];var dp=dn.x;var dq=dn.y;var dr=dn.x+dn.w;var ds=dn.y+dn.h;for(var dt=1;dt<dm;dt++){dn=e[dt];dp=Math.min(dp,dn.x);dq=Math.min(dq,dn.y);dr=Math.max(dr,dn.x+dn.w);ds=Math.max(ds,dn.y+dn.h)}return{x:dp,y:dq,w:dr-dp,h:ds-dq}},rectXYFromCorners:function(e,dm){return cE.rectXYFromCorners$2(e.x,e.y,dm.x,dm.y)},rectXYFromCorners$1:function(e,dm){var dn=Math.round(Math.min(e.x,dm.x));var dp=Math.round(Math.min(e.y,dm.y));var dq=Math.abs(Math.round(e.x-dm.x));var dr=Math.abs(Math.round(e.y-dm.y));return{x:dn,y:dp,w:dq,h:dr}},rectXYFromCorners$2:function(e,dm,dn,dp){var dq=Math.round(Math.min(e,dn));var dr=Math.round(Math.min(dm,dp));var ds=Math.abs(Math.round(e-dn));var dt=Math.abs(Math.round(dm-dp));return{x:dq,y:dr,w:ds,h:dt}},rectXYFromBBoxRectF:function(e){return cE.rectXYFromMinAndMax(e.minX,e.minY,e.maxX,e.maxY)},rectXYFromMinAndMax:function(e,dm,dn,dp){var dq=Math.floor(e);var dr=Math.floor(dm);var ds=Math.ceil(dn);var dt=Math.ceil(dp);return{x:dq,y:dr,w:ds-dq,h:dt-dr}},dialate:function(e,dm){var dn=e.x-dm;var dp=e.y-dm;var dq=e.w+2*dm;var dr=e.h+2*dm;return{x:dn,y:dp,w:dq,h:dr}},intersect:function(e,dm){if(!cE.intersectsWith(e,dm)||cE.isEmpty(dm)||cE.isEmpty(e)){return{x:0,y:0,w:0,h:0}}var dn=Math.max(e.x,dm.x);var dp=Math.max(e.y,dm.y);var dq=Math.min(e.x+e.w,dm.x+dm.w);var dr=Math.min(e.y+e.h,dm.y+dm.h);return{x:dn,y:dp,w:dq-dn,h:dr-dp}},intersectInPlace:function(e,dm){if(!cE.intersectsWith(e,dm)||cE.isEmpty(e)||cE.isEmpty(dm)){cE.set$1(e,0,0,0,0);return}var dn=Math.max(e.x,dm.x);var dp=Math.max(e.y,dm.y);var dq=Math.min(e.x+e.w,dm.x+dm.w);var dr=Math.min(e.y+e.h,dm.y+dm.h);cE.set$1(e,dn,dp,dq-dn,dr-dp)},shiftCoordsTowardsCenter:function(e,dm,dn){if(ss.isNullOrUndefined(dm)){return e}var dp={x:e.x,y:e.y};dp=cE.horizontalShiftCoordsTowardsCenter(dp,dm,dn);return cE.verticalShiftCoordsTowardsCenter(dp,dm,dn)},horizontalShiftCoordsTowardsCenter:function(e,dm,dn){if(ss.isNullOrUndefined(dm)){return e}var dp={x:e.x,y:e.y};if(dp.x<=dm.x+dn){dp.x+=dn}else if(dp.x>=dm.x+dm.w-2*dn){dp.x-=dn}return dp},verticalShiftCoordsTowardsCenter:function(e,dm,dn){if(ss.isNullOrUndefined(dm)){return e}var dp={x:e.x,y:e.y};if(dp.y<=dm.y+dn){dp.y+=dn}else if(dp.y>=dm.y+dm.h-2*dn){dp.y-=dn}return dp},clampCoords:function(e,dm){var dn=Math.min(Math.max(dm.x,e.x),dm.x+dm.w);var dp=Math.min(Math.max(dm.y,e.y),dm.y+dm.h);return{x:dn,y:dp}},getChangedRects:function(e,dm){var dn=[];if(!ss.isValue(e)||!ss.isValue(dm)||!cE.intersectsWith(e,dm)){return dn}var dp=e.x+e.w;var dq=e.y+e.h;var dr=dm.x+dm.w;var ds=dm.y+dm.h;var dt=Math.min(e.x,dm.x);var du=Math.max(e.x,dm.x);var dv=Math.min(dp,dr);var dw=Math.max(dp,dr);var dx=Math.min(e.y,dm.y);var dy=Math.max(e.y,dm.y);var dz=Math.min(dq,ds);var dA=Math.max(dq,ds);var dB={x:dt,y:dx,w:dw-dt,h:dy-dx};var dC={x:dt,y:dy,w:du-dt,h:dz-dy};var dD={x:dv,y:dy,w:dw-dv,h:dz-dy};var dE={x:dt,y:dz,w:dw-dt,h:dA-dz};if(!cE.isEmpty(dB)){dn.push(dB)}if(!cE.isEmpty(dC)){dn.push(dC)}if(!cE.isEmpty(dD)){dn.push(dD)}if(!cE.isEmpty(dE)){dn.push(dE)}return dn},reduceRectangles:function(e){if(ss.isNullOrUndefined(e)){return null}var dm=e.length;if(dm===1){return e}var dn=new Array(dm);for(var dp=0;dp<dm;dp++){var dq=dn[dp]||e[dp];dn[dp]=dq;if(cE.isEmpty(dq)){continue}for(var dr=dp+1;dr<dm;dr++){var ds=dn[dr]||e[dr];if(cE.isEmpty(ds)){continue}var dt=cE.intersect(dq,ds);if(cE.isEmpty(dt)){continue}var du=cE.$0(dq,dt);if(ss.referenceEquals(du,dq)){ds=cE.$0(ds,dt)}dn[dp]=du;dn[dr]=ds}}for(var dv=dn.length-1;dv>=0;dv--){if(cE.isEmpty(dn[dv])){dn.splice(dv,1)}}return dn},$0:function(e,dm){if(dm.x===e.x&&dm.w===e.w){if(dm.y>e.y){return{x:e.x,y:e.y,w:e.w,h:e.h-dm.h}}else{return{x:e.x,y:e.y+dm.h,w:e.w,h:e.h-dm.h}}}else if(dm.y===e.y&&dm.h===e.h){if(dm.x>e.x){return{x:e.x,y:e.y,w:e.w-dm.w,h:e.h}}else{return{x:e.x+dm.w,y:e.y,w:e.w-dm.w,h:e.h}}}return e},getCenter:function(e){return{x:e.x+ss.idiv(e.w,2),y:e.y+ss.idiv(e.h,2)}}});var cF=global.tab.ScrollCapabilities=ss.mkEnum(a,'tab.ScrollCapabilities',{xScrollable:1,yScrollable:2,none:0,bothScrollable:3});var cG=global.tab.ScrollCapabilitiesUtil=ss.mkType(a,'tab.ScrollCapabilitiesUtil',null,null,{hasCapabilities:function(e,dm){return(e&dm)===dm}});var cH=global.tab.SetUtilities=ss.mkType(a,'tab.SetUtilities',null,null,{interserctWith:function(e){return function(dm,dn){var dp=new Set;for(var dq=0;dq<dn.length;dq++){var dr=dn[dq];if(dm.has(dr)){dp.add(dr)}}dm.forEach(function(ds){if(!dp.has(ds)&&_.contains(dn,ds)){dp.add(ds)}});return dp}},getValues:function(e){return function(dm){var dn=[];dm.forEach(function(dp){dn.push(dp)});return dn}},addAll:function(e){return function(dm,dn){for(var dp=0;dp<dn.length;dp++){var dq=dn[dp];dm.add(dq)}}},symmetricDifferenceWith:function(e){return function(dm,dn){var dp=new Set;dm.forEach(function(dq){if(!dn.has(dq)){dp.add(dq)}});dn.forEach(function(dq){if(!dm.has(dq)){dp.add(dq)}});return dp}}});var cI=global.tab.SizeUtil=ss.mkType(a,'tab.SizeUtil',null,null,{isEmpty:function(e){return e.w===0&&e.h===0},union:function(e,dm){return{w:Math.max(e.w,dm.w),h:Math.max(e.h,dm.h)}},add:function(e,dm){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(dm)){return e}return{w:e.w+dm.w,h:e.h+dm.h}},subtract:function(e,dm){return{w:e.w-dm.w,h:e.h-dm.h}},equals:function(e,dm){return ss.isValue(e)&&ss.isValue(dm)&&dm.w===e.w&&dm.h===e.h}});var cJ=global.tab.SourceCacheForErrorStacks=ss.mkType(a,'tab.SourceCacheForErrorStacks',null,null,{$1:function(e){if(ss.isNullOrUndefined(e)){return[]}if(!ss.keyExists(cJ.$6,e)){var dm='';if(e.indexOf(document.domain)>-1){dm=cJ.$3(e)}cJ.$6[e]=(ss.isNullOrEmptyString(dm)?[]:dm.split('\n'))}return cJ.$6[e]},$2:function(e,dm){var dn=new RegExp('function ([^(]*)\\(([^)]*)\\)');var dp=new RegExp('[\'"]?([0-9A-Za-z$_]+)[\'"]?\\s*[:=]\\s*(function|eval|new Function)');var dq='';var dr=10;var ds=cJ.$1(e);if(ds.length===0){return'?'}for(var dt=0;dt<dr;dt++){dq=ds[dm]+dq;if(!ss.isNullOrEmptyString(dq)){var du=dp.exec(dq);if(ss.isValue(du)&&du.length>0){return du[1]}du=dn.exec(dq);if(ss.isValue(du)&&du.length>0){return du[1]}}}return'?'},$0:function(e,dm,dn){var dp=cJ.$1(e);if(ss.isNullOrUndefined(dp)||dp.length===0){return null}var dq=[];var dr=60;var ds=dp[dm];var dt=Math.max(0,dn-dr);var du=Math.min(dn+dr,ds.length);dq.push(ds.substr(dt,du-dt));return dq},$3:function(e){if(!true){return''}try{var dm=new XMLHttpRequest;dm.open('GET',e,false);dm.send('');return dm.responseText}catch(dn){return''}}});var cK=global.tab.StackLocation=ss.mkType(a,'tab.StackLocation',function(e,dm,dn,dp,dq){this.url=null;this.lineNo=0;this.columnNo=0;this.functionName=null;this.context=null;this.url=e;this.lineNo=dm;this.columnNo=dn;var dr=dm-1;this.context=cJ.$0(this.url,dr,dn)||[dp];var ds=dq;if(ss.isNullOrUndefined(ds)){ds=cJ.$2(this.url,dr)}this.functionName=ds});var cL=global.tab.StackTrace=ss.mkType(a,'tab.StackTrace',function(e,dm,dn,dp,dq){this.userAgent=window.navigator.userAgent;this.message=null;this.url=null;this.traceMode=null;this.locations=null;this.isIncomplete=false;this.name=null;this.errorDialogShown=false;this.traceMode=e;this.message=dm;this.url=document.URL;var dr=ss.coalesce(dn,'');var ds=bR.$0();if(ds.length>0){dr+='::'+ds.join(',')}this.name=dr;this.locations=dp||[];this.errorDialogShown=dq});var cM=global.tab.StackTraceAppender=ss.mkType(a,'tab.StackTraceAppender',function(){tab.BaseLogAppender.call(this)},{logInternal:function(dm,dn,dp,dq){dp=this.formatMessage(ss.replaceAllString(dp,'\\n','<br />'),dq);if(dn>2){try{throw new ss.Exception('Logged('+tab.Logger.loggerLevelNames[dn]+', from '+dm.get_name()+'): '+dp)}catch(dr){var e=ss.Exception.wrap(dr);bR.report(e,false)}}}});var cN=global.tab.StringTuple=ss.mkType(a,'tab.StringTuple',function(e,dm){this.$0=null;this.$1=null;this.$0=e;this.$1=dm},{get_first:function(){return this.$0},get_second:function(){return this.$1}});var cO=global.tab.StyleUtil=ss.mkType(a,'tab.StyleUtil',null,null,{appendCSSRule:function(e,dm){cO.appendCSSRuleToStyleSheet$1('tab-appendedCustomStyle',e,dm)},appendCSSRuleToStyleSheet:function(e,dm,dn){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.cssRules)){return}var dp=dm+' {\n'+cO.createCSSRules(dn)+'}\n';var dq=e.cssRules.length;e.insertRule(dp,dq)},appendCSSRuleToStyleSheet$1:function(e,dm,dn){if(!ss.keyExists(cO.$4,e)){cO.$0(e)}var dp=cO.$4[e]||cO.$1(e);cO.appendCSSRuleToStyleSheet(dp,dm,dn)},createCSSRules:function(e){var dm='';var dn=_.keys(e);for(var dp=0;dp<dn.length;dp++){var dq=dn[dp];var dr=e[dq];if(!ss.isNullOrEmptyString(dr)){dm+=dq+':'+dr+';\n'}}return dm},clearDefaultStyleSheet:function(){cO.clearStyleSheet('tab-appendedCustomStyle')},clearStyleSheet:function(e){var dm=cO.$4[e];if(ss.isNullOrUndefined(dm)){return}var dn=dm.ownerNode;if(ss.isValue(dn)&&ss.isValue(dn.parentNode)){dn.parentNode.removeChild(dn);delete cO.$4[e]}},isValidCssClassName:function(e){var dm=e.match(cO.$3);return ss.isValue(dm)},$0:function(e){var dm=document.createElement('style');dm.setAttribute('type','text/css');dm.id=e;dm.appendChild(document.createTextNode(''));document.head.appendChild(dm);cO.$4[e]=cO.$1(e);return dm},$1:function(e){var dm=document.getElementById(e);return dm.sheet}});var cP=global.tab.Transform=ss.mkType(a,'tab.Transform',function(e,dm,dn,dp){this.$3=null;this.$1=0;this.$0=0;this.$2=0;this.$3={x:e,y:dm};this.$1=dn;this.$0=1/dn;this.$2=dp},{get_translateX:function(){return this.$3.x},get_translateY:function(){return this.$3.y},get_transformType:function(){return this.$2},get_isNull:function(){return this.$2===0},transformBounds:function(e){switch(this.$2){case 0:{return{x:e.minX,y:e.minY,w:e.maxX-e.minX,h:e.maxY-e.minY}}case 2:{var dm=e.minX*this.$1+this.$3.x;var dn=e.minY*this.$1+this.$3.y;var dp=e.maxX*this.$1+this.$3.x;var dq=e.maxY*this.$1+this.$3.y;return{x:dm,y:dn,w:dp-dm,h:dq-dn}}default:{return null}}},transformPoint:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{return{x:(e.x-this.$3.x)*this.$0,y:(e.y-this.$3.y)*this.$0}}default:{return null}}},transformRect:function(e){switch(this.$2){case 0:{return{x:e.x,y:e.y,w:e.w,h:e.h}}case 1:case 3:{return{x:(e.x-this.$3.x)*this.$0,y:(e.y-this.$3.y)*this.$0,w:e.w*this.$0,h:e.h*this.$0}}default:{return null}}},transformCircle:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var dm=(e.center.x-this.$3.x)*this.$0;var dn=(e.center.y-this.$3.y)*this.$0;return{center:{x:dm,y:dn},radius:e.radius*this.$0}}default:{return null}}},transformPolygon:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var dm=e.length;var dn=new Array(dm);for(var dp=0;dp<dm;dp=dp+2){dn[dp]=(e[dp]-this.$3.x)*this.$0;dn[dp+1]=(e[dp+1]-this.$3.y)*this.$0}return dn}default:{return null}}}},{none:function(){return cP.$1},offset:function(e,dm){return((e===0&&dm===0)?cP.$1:new cP(e,dm,1,3))},pixelToDomain:function(e,dm,dn){if(bQ.isApproximatelyZero(e)&&bQ.isApproximatelyZero(dm)&&bQ.isApproximatelyEqual(1,dn)){return cP.$1}return new cP(e,dm,dn,1)},domainToPixel:function(e,dm,dn){if(bQ.isApproximatelyZero(e)&&bQ.isApproximatelyZero(dm)&&bQ.isApproximatelyEqual(1,dn)){return cP.$1}return new cP(e,dm,dn,2)}});var cQ=global.tab.TransformationMatrix=ss.mkType(a,'tab.TransformationMatrix',function(){this.$0=null;this.reset()},{get_matrix:function(){return this.$0},reset:function(){this.$0=[1,0,0,1,0,0]},rotate:function(e){var dm=Math.cos(e);var dn=Math.sin(e);var dp=this.$0[0]*dm+this.$0[2]*dn;var dq=this.$0[1]*dm+this.$0[3]*dn;var dr=this.$0[0]*-dn+this.$0[2]*dm;var ds=this.$0[1]*-dn+this.$0[3]*dm;this.$0[0]=dp;this.$0[1]=dq;this.$0[2]=dr;this.$0[3]=ds},translate:function(e,dm){this.$0[4]=this.$0[4]+this.$0[0]*e+this.$0[2]*dm;this.$0[5]=this.$0[5]+this.$0[1]*e+this.$0[3]*dm},scale:function(e,dm){this.$0[0]=this.$0[0]*e;this.$0[1]=this.$0[1]*e;this.$0[2]=this.$0[2]*dm;this.$0[3]=this.$0[3]*dm},setTransform:function(e){this.$0[0]=e.get_matrix()[0];this.$0[1]=e.get_matrix()[1];this.$0[2]=e.get_matrix()[2];this.$0[3]=e.get_matrix()[3];this.$0[4]=e.get_matrix()[4];this.$0[5]=e.get_matrix()[5]},isEqual:function(e){return this.$0[0]===e.get_matrix()[0]&&this.$0[1]===e.get_matrix()[1]&&this.$0[2]===e.get_matrix()[2]&&this.$0[3]===e.get_matrix()[3]&&this.$0[4]===e.get_matrix()[4]&&this.$0[5]===e.get_matrix()[5]},clone:function(){var e=new cQ;e.setTransform(this);return e}});var cR=global.tab.TransformationType=ss.mkEnum(a,'tab.TransformationType',{none:0,pixelToDomain:1,domainToPixel:2,offset:3});var cS=global.tab.UriUtil=ss.mkType(a,'tab.UriUtil',null,null,{get_serverRootUrl:function(){return ss.formatString('{0}/{1}',tabBootstrap.BaseUrlFormatter.formatBaseUrl(),tsConfig.serverUrlPrefix)},get_helpVersion:function(){var e='.';var dm=tsConfig.externalVersion.split(e);if(dm.length>=2){var dn=dm[0];var dp=dm[1];if($.isNumeric(dn)&&$.isNumeric(dp)){return[dn,dp].join(e)}}return'0.0'},$0:function(){return(tsConfig.is_saas?'online':'server')},$1:function(){if(ss.isNullOrUndefined(tsConfig.language)){return'en-us'}switch(tsConfig.language){case'de':{return'de-de'}case'en':{return'en-us'}case'en_GB':{return'en-gb'}case'es':{return'es-es'}case'fr':{return'fr-fr'}case'it':{return'it-it'}case'ja':{return'ja-jp'}case'ko':{return'ko-kr'}case'pt':{return'pt-br'}case'zh':{return'zh-cn'}case'zh_TW':{return'zh-tw'}default:{return'en-us'}}},makeHelpUri:function(e,dm){var dn;if(tsConfig.useOfflineHelp){dn=cS.getOfflineHelpHref(dm)}else{var dp=(!ss.isNullOrEmptyString(tsConfig.serverPlatform)?ss.formatString('platform={0}&',tsConfig.serverPlatform.toLowerCase()):'');dn=ss.formatString('{0}/{1}/app/{2}?edition={3}&lang={1}&{5}version={4}','https://www.tableau.com',cS.$1(),e,cS.$0(),cS.get_helpVersion(),dp)}return dn},getOfflineHelpHref:function(e){var dm=ss.replaceAllString(cS.$1(),'-','_');return ss.formatString('/offline_help/{0}/help.htm#{1}',dm,e)},getPublicHelpHref:function(){return'https://public.tableau.com/s/WebEditHelpVideo'},makeHelpSearchUri:function(e){var dm=encodeURIComponent(e);if(tsConfig.useOfflineHelp){return cS.getOfflineHelpHref(ss.formatString('search-{0}',dm))}return((cS.$1()==='en-us')?ss.formatString('{0}/search/support/{1}','https://www.tableau.com',dm):ss.formatString('{0}/{1}/search/support/{2}','https://www.tableau.com',cS.$1(),dm))},makeSupportUri:function(){return(tsConfig.useOfflineHelp?cS.getOfflineHelpHref('support'):'https://www.tableau.com')+'/support'},makeAbsoluteCorsProxyPrefixUrl:function(e){return ss.formatString('{0}/proxy/-/{1}',cS.get_serverRootUrl(),e)},isServerRootUrlHttps:function(){return ss.startsWithString(cS.get_serverRootUrl().toLowerCase(),'https')},editWorkbookInTableauDesktop:function(){window.open('tableau:'+tsConfig.workbookName,'_self')}});var cT=global.tab.WindowAppender=ss.mkType(a,'tab.WindowAppender',function(){this.$2=null;tab.BaseLogAppender.call(this)},{logInternal:function(e,dm,dn,dp){if(ss.isNullOrUndefined(this.$2)){this.$1()}dn=this.formatMessage(ss.replaceAllString(dn,'\\n','<br />'),dp);this.$2.html(dn)},$1:function(){this.$2=$("<div class='log-window-appender'>Debug mode ON</div>");this.$2.css(ss.mkdict(['position','absolute','bottom','0px','right','0px','backgroundColor','white','opacity','.8','border','1px solid black','minWidth','5px','minHeight','5px','z-index','100']));$('body').append(this.$2)}});var cU=global.tab.ZIndexConstants=ss.mkType(a,'tab.ZIndexConstants');var cV=ss.mkType(a,'tableau.$0',function(e,dm){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;var dn,dp;if(dm.fiscalYearStart>1){dn=dp=db.$a(e,dm.fiscalYearStart)}else{dn=e.getUTCFullYear();dp=(dm.brokenWeeks?dn:db.$e(e,dm.startOfWeek,dm.minDaysInFirstWeek))}this.$3(dp.toString());this.$7(this.$2().substr(this.$2().length-2));this.$1(dn.toString());this.$5(this.$0().substr(this.$0().length-2))},{$2:function(){return this.$1$1},$3:function(e){this.$1$1=e},$6:function(){return this.$1$2},$7:function(e){this.$1$2=e},$0:function(){return this.$1$3},$1:function(e){this.$1$3=e},$4:function(){return this.$1$4},$5:function(e){this.$1$4=e}});var cW=ss.mkType(a,'tableau.$1',function(){this.$1$1=null;this.$2(cW.$0())},{$1:function(){return this.$1$1},$2:function(e){this.$1$1=e},$0:function(e,dm){var dn=this.$1();for(var dp=0;dp<dn.length;dp++){var dq=dn[dp];if(dq.$2(e,dm)){return dq}}return cW.$2(e,dm)}},{$2:function(e,dm){switch(e.charCodeAt(dm)){case 92:{var dn=e.substr(dm,2);var dp=dn.substr(1);return new cX.$0(1,dn,dp)}case 34:{return cW.$1(e,dm,2,34)}case 91:{return cW.$1(e,dm,3,93)}default:{var dq=e.substr(dm,1);return new cX.$0(1,dq,dq)}}},$1:function(e,dm,dn,dp){var dq=dm;var dr=dq;dr+=1;var ds=dr;while(dr<e.length&&e.charCodeAt(dr)!==dp){dr+=1}var dt=e.substr(ds,dr-ds);if(dr<e.length){dr+=1}var du=e.substr(dq,dr-dq);return new cX.$0(dn,du,dt)},$0:function(){var e=[];e.push(new cX(0,'ampm'));e.push(new cX(1,'dddd'));e.push(new cX(2,'ddd'));e.push(new cX(3,'dd'));e.push(new cX(4,'d'));e.push(new cX(5,'hh'));e.push(new cX(6,'h'));e.push(new cX(7,'mmmm'));e.push(new cX(8,'mmm'));e.push(new cX(9,'mm'));e.push(new cX(10,'m'));e.push(new cX(11,'nn'));e.push(new cX(12,'n'));e.push(new cX(13,'q'));e.push(new cX(14,'ss'));e.push(new cX(15,'s'));e.push(new cX(16,'tt'));e.push(new cX(17,'wwww'));e.push(new cX(18,'ww'));e.push(new cX(19,'w'));e.push(new cX(20,'yyyy'));e.push(new cX(21,'yy'));e.push(new cX(22,'y'));var dm=e;return dm}});var cX=ss.mkType(a,'tableau.$2',function(e,dm){this.$1$1=0;this.$1$2=null;this.$1$3=0;this.$1$4=null;this.$e(0);this.$c(e);this.$a(dm)},{$d:function(){return this.$1$1},$e:function(e){this.$1$1=e},$9:function(){return this.$1$2},$a:function(e){this.$1$2=e},$b:function(){return this.$1$3},$c:function(e){this.$1$3=e},$7:function(){return this.$1$4},$8:function(e){this.$1$4=e},$3:function(){return this.$9().length},$2:function(e,dm){return ss.referenceEquals(this.$9(),e.substr(dm,this.$9().length).toLowerCase())},$1:function(e,dm,dn,dp){switch(this.$d()){case 3:{return''}case 1:{return this.$7()}case 0:{return this.$6(e,dm,dn,dp)}case 2:{return this.$7()}default:{return''}}},$6:function(e,dm,dn,dp){switch(this.$b()){case 0:{return db.$7(e)}case 1:{return db.$C(e,dm.locale_formatting_strings)}case 2:{return db.$E(e,dm.locale_formatting_strings)}case 3:{return db.$x(e.getUTCDate(),2)}case 4:{return e.getUTCDate().toString()}case 5:{return db.$x(db.$c(e),2)}case 6:{return db.$c(e).toString()}case 7:{return db.$D(e,dm.locale_formatting_strings)}case 8:{return((dm.locale==='ja_JP'||dm.locale==='ko_KR')?db.$x(e.getUTCMonth()+1,2):db.$F(e,dm.locale_formatting_strings))}case 9:{return db.$x(e.getUTCMonth()+1,2)}case 10:{return(e.getUTCMonth()+1).toString()}case 11:{return db.$x(e.getUTCMinutes(),2)}case 12:{return e.getUTCMinutes().toString()}case 13:{return db.$9(e,dn).toString()}case 14:{return db.$x(e.getUTCSeconds(),2)}case 15:{return e.getUTCSeconds().toString()}case 16:{return db.$7(e)}case 17:{return db.$x(db.$d(e,dn),2)}case 18:{return db.$d(e,dn).toString()}case 19:{return(e.getUTCDay()+1).toString()}case 20:{return(dn.forceIso8601Calendar?dp.$2():dp.$0())}case 21:{return(dn.forceIso8601Calendar?dp.$6():dp.$4())}case 22:{return db.$8(e).toString()}default:{return''}}},$0:function(e,dm,dn,dp,dq){if(this.$d()===0){this.$4(e,dm,dn,dp,dq)}else{this.$5(dm,dp,dq)}},$4:function(e,dm,dn,dp,dq){var dr=false;switch(this.$b()){case 0:case 16:{if(ss.isValue(dp.$c())){dq[dp.$2()]=((dp.$c()==='hh')?db.$x(db.$b(e),2):db.$b(e).toString())}break}case 1:case 2:case 3:case 4:{dp.$d(null);dp.$f(false);dp.$b(true);break}case 5:case 6:{dp.$d(this.$9());dp.$3(dq.length-1);break}case 7:case 8:{dp.$f(false);dp.$b(true);break}case 9:{if(ss.isValue(dp.$c())){dq[dq.length-1]=db.$x(e.getUTCMinutes(),2)}else{dp.$f(false);dp.$b(true)}break}case 10:{if(ss.isValue(dp.$c())){dq[dq.length-1]=e.getUTCMinutes().toString()}else{dp.$f(false);dp.$b(true)}break}case 13:{dp.$f(false);dp.$b(true);break}case 17:case 18:{{var ds=dp.$e();dp.$f(true);if(!ds&&!dp.$a()&&dp.$0()){if(!dn.brokenWeeks){dq[dp.$8()]=(dp.$6()?dm.$2():dm.$6());dp.$1(false)}dp.$f(false)}dp.$b(false)}break}case 20:case 21:{{dr=true;dp.$9(dq.length-1);dp.$7(this.$9().length===4);dp.$1(true);if(dp.$e()){if(!dn.brokenWeeks){dq[dp.$8()]=(dp.$6()?dm.$2():dm.$6());dp.$1(false)}dp.$f(false)}}break}}dp.$5(dr)},$5:function(e,dm,dn){if(this.$d()===3){if((this.$7()==='y'||this.$7()==='Y')&&dm.$4()){dn[dm.$8()]=((this.$7()==='y')?(dm.$6()?e.$0():e.$4()):(dm.$6()?e.$2():e.$6()));dm.$1(false)}}dm.$5(false)}},{$0:function(e,dm,dn){this.$1$1=0;this.$1$2=null;this.$1$3=0;this.$1$4=null;this.$e(e);this.$a(dm);this.$8(dn)}});var cY=ss.mkEnum(a,'tableau.$3',{$2:0,$1:1,$3:2,$0:3});var cZ=ss.mkEnum(a,'tableau.$4',{$0:0,$4:1,$3:2,$2:3,$1:4,$6:5,$5:6,$a:7,$9:8,$8:9,$7:10,$c:11,$b:12,$d:13,$f:14,$e:15,$g:16,$j:17,$i:18,$h:19,$m:20,$l:21,$k:22});var da=ss.mkType(a,'tableau.$5',function(){this.$1$1=null;this.$1$2=false;this.$1$3=false;this.$1$4=0;this.$1$5=false;this.$1$6=false;this.$1$7=false;this.$1$8=0;this.$9(-1)},{$c:function(){return this.$1$1},$d:function(e){this.$1$1=e},$e:function(){return this.$1$2},$f:function(e){this.$1$2=e},$a:function(){return this.$1$3},$b:function(e){this.$1$3=e},$8:function(){return this.$1$4},$9:function(e){this.$1$4=e},$6:function(){return this.$1$5},$7:function(e){this.$1$5=e},$4:function(){return this.$1$6},$5:function(e){this.$1$6=e},$0:function(){return this.$1$7},$1:function(e){this.$1$7=e},$2:function(){return this.$1$8},$3:function(e){this.$1$8=e}});var db=global.tableau.format=ss.mkType(a,'tableau.format',null,null,{convertFullwidthNumberToAscii:function(e){var dm=ss.getEnumerator(Object.keys(db.$1e));try{while(dm.moveNext()){var dn=dm.current();e=ss.replaceAllString(e,dn,db.$1e[dn])}}finally{dm.dispose()}return e},formatDataValue:function(e,dm,dn,dp,dq){var dr=e.s;if(ss.isNullOrUndefined(dr)||ss.isNullOrUndefined(dr)){var ds=ss.coalesce(e.t,'');var dt=e.v;switch(ds){case's':{return dt}case'b':{return dt.toString()}case'i':{if(typeof(dt)!=='number'){dt=parseInt(dt,10)}return db.$g(dm,dn,dt)}case'r':{if(typeof(dt)!=='number'){dt=parseFloat(dt)}return db.$p(dt,ds,dn,dp,dm)}case't':{return db.$j(e,dn,dq)}case'd':{return db.$j(e,dn,0)}case'g':{return dt.toString()}}throw new ss.Exception('Invalid Tableau Format Type')}if(dr==='n'){return'null'}if(dr==='m'){return tab.Strings.SpecialMissing}return'#special:'+dr+'#'},$j:function(e,dm,dn){var dp=e.v;var dq=e.t;if(_.isDate(dp)){return db.formatJsDateTime(dp,dm,dn,dq)}var dr=(_.isNumber(dp)?dp:parseFloat(dp));return db.$m(dr,dm,dn,dq)},$g:function(e,dm,dn){if(e==='d'){if(ss.isNullOrUndefined(dm)||dm.length!==10){return db.$o(dn).toString()}var dp=dm[0];switch(dp){case'':{var dq=ss.arrayClone(dm);dq[2]='f';return db.$i(dn,dq)}default:{return db.$i(dn,dm)}}}return db.$i(dn,dm)},parseQuantitativeDataValue:function(e,dm,dn,dp,dq){switch(dm){case'i':{return parseInt(db.reformatNumberToJsFormat(e,dn),10)}case'r':{return parseFloat(db.reformatNumberToJsFormat(e,dn))}case'd':case't':{var dr=db.formatToJSCompliantFormat(e,dn,dp,dq);return dc.OleDateFromJsDate((new Date(Date.parse(dr+' GMT'))).getTime())}}return(ss.isValue(dq)?parseFloat(dq.v):0)},reformatNumberToJsFormat:function(e,dm){var dn=dm[8].replace(db.$1l,'\\$1');if(dn.indexOf(' ')!==-1){dn+=' '}var dp=dm[7].replace(db.$1l,'\\$1');if(dn.indexOf('.')===-1&&dp.indexOf('.')===-1){e=e.replace(new RegExp('\\.','g'),'?')}return e.replace(new RegExp('['+dn+']','g'),'').replace(new RegExp('['+dp+']','g'),'.')},formatToJSCompliantFormat:function(e,dm,dn,dp){var dq=db.normalizeDateTimeFormat(dm,dn,dp.t);var dr=db.tokenizeDateTime(e,dq,dn);return(ss.isValue(dr)?db.$3(dr,dp):'')},normalizeDateTimeFormat:function(e,dm,dn){var dp=e.format;var dq=e.timeFormat;if(dp.charCodeAt(0)===42){dp=dp.substr(1)}if(dm!==0&&ss.isValue(dq)&&(ss.isNullOrUndefined(e.originalFormat)||e.originalFormat.length===0||e.originalFormat==='S')&&dn==='t'){if(dq.charCodeAt(0)===42){dq=dq.substr(1)}dp=dp+' '+dq}dp=dp.replace(new RegExp('ampm','g'),'tt');dp=ss.replaceAllString(dp,'H','h');dp=dp.replace(db.$1b,function(dr){return dr.replace(new RegExp('m','gi'),'m')});dp=dp.replace(db.$1c,function(dr){return dr.replace(new RegExp('m','gi'),'n')});return dp},tokenizeDateTime:function(e,dm,dn){var dp=dm;dp=dp.replace(db.$1l,'\\$1');dp=dp.replace(db.$1p,'($1)');dp=dp.replace(db.$1h,'($1)');var dq=dm.match(new RegExp(dp));var dr=dm;dr=dr.replace(db.$1l,'\\$1');if(dn===1){dr=dr.replace(db.$1d,'(?:$1 )?$2')}else{dr=dr.replace(db.$1d,'$1(?: $2)?')}dr=dr.replace(db.$1m,'(?:$1)?');dr=dr.replace(db.$1h,'(\\d+)');dr=dr.replace(db.$1p,'([^0-9\\s]+)?');dr=dr.replace(db.$1n,function(dv){return dv.replace(new RegExp('\\s+','g'),'\\s+')});dr=dr.replace(db.$1i,'\\s*');var ds=e.match(new RegExp(dr));if(ss.isNullOrUndefined(ds)){return null}var dt={};for(var du=1;du<ds.length;++du){if(ss.isValue(ds[du])&&ds[du].length>0){dt[dq[du].substr(0,1).toLowerCase()]=ds[du]}}return dt},$3:function(e,dm){if(!ss.keyExists(e,'y')&&!ss.keyExists(e,'m')&&!ss.keyExists(e,'d')){var dn=(!!dm.v?new Date(dc.JsDateFromOleDate(dm.v)):new Date(dc.javaScriptOLEEpoch));e['y']=dn.getUTCFullYear().toString();e['m']=(dn.getUTCMonth()+1).toString();e['d']=dn.getUTCDate().toString()}var dp=e['y'].replace(new RegExp('^(\\d{2})$'),function(dr){var ds=parseInt(dr,10);return((ds<30)?('20'+dr):('19'+dr))});var dq=e['m']+'/'+e['d']+'/'+dp;if(ss.keyExists(e,'h')&&ss.keyExists(e,'n')){dq+=' '+e['h']+':'+e['n']+':';dq+=(ss.keyExists(e,'s')?e['s']:'00');if(ss.keyExists(e,'t')){if(ss.isValue(e['t'].match(db.$1a))){dq+=' am'}else if(ss.isValue(e['t'].match(db.$1j))){dq+=' pm'}}}return dq},mapIcuToOleFormat:function(e){return db.$v(db.$1f,e)},$v:function(e,dm){if(ss.isNullOrUndefined(e)||ss.isNullOrEmptyString(dm)){return dm}var dn=[];var dp=0;var dq=0;var dr=null;while(++dq<=dm.length){var ds=e[dm.substring(dp,dq)];if(ss.isValue(ds)){dr=ds}else{if(ss.isValue(dr)){dn.push(dr);--dq}else{dn.push(dm.substring(dp,dp+1))}dp=dq;dr=null}}if(ss.isValue(dr)){dn.push(dr)}return dn.join('')},formatQualifiedName:function(e){var dm='';for(var dn=0;dn<e.length;dn++){var dp=e[dn];if(dm.length!==0){dm+='.'}dm+='['+dp.replace(new RegExp('\\]','g'),']]')+']'}return dm},isDateTimeWithNonMidnightTime:function(e){return ss.isValue(e)&&(ss.isNullOrEmptyString(e.s)||ss.isNullOrUndefined(e.s))&&e.t==='t'&&!db.$u(new Date(dc.JsDateFromOleDate(parseFloat(e.v))))},formatString:function(e,dm){var dn=dm.dataType;var dp=dm.formatStrings;var dq=dm.fieldRole;var dr=dp;var ds;var dt=e;switch(dn){case'cstring':{ds='s';break}case'date':{ds='d';dt=bL.parsePresModelDate(e);dr=db._convertFormatStringsToFormattingInfo(dp);break}case'datetime':{ds='t';dt=bL.parsePresModelDate(e);dr=db._convertFormatStringsToFormattingInfo(dp);break}case'integer':{ds='i';dt=parseInt(e);break}case'real':{ds='r';dt=parseFloat(e);break}case'tuple':{ds='s';dt=db.$r(e);break}case'spatial':{ds='g';break}case'unknown':default:{ds=null;break}}var du={t:ds,v:dt,s:null};var dv;switch(dq){case'dimension':{dv='d';break}case'measure':{dv='m';break}case'unknown':default:{dv=null;break}}return db.formatDataValue(du,dv,dr,null,0)},formatSpecial:function(e,dm){if(ss.isValue(dm)){return dm}switch(e){case'%many-values%':{return tab.Strings.SpecialManyValues}case'%null%':{return''}case'%error%':{return tab.Strings.SpecialError}case'%ragged%':{return tab.Strings.SpecialRagged}case'%skipped%':{return tab.Strings.SpecialSkipped}case'%missing%':{return''}case'%all%':{return tab.Strings.SpecialAll}case'%no-access%':{return tab.Strings.SpecialNoAccess}case'%wildcard%':{return tab.Strings.SpecialWildcard}default:{return'#Special'}}},isSpecialValue:function(e){return db.$1o[e]},stripFormattedText:function(e){return(ss.isNullOrUndefined(e)?null:$(e).find('run').text())},deriveNumberEditingFormat:function(e){return(ss.isNullOrUndefined(e)?null:['','-1',e[2],'','','','',e[7],e[8],e[9]])},$x:function(e,dm){var dn=e.toString();while(dn.length<dm){dn='0'+dn}return dn},$u:function(e){return ss.isValue(e)&&(e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0||e.getUTCHours()===23&&e.getUTCMinutes()===59&&e.getUTCSeconds()===59)},$7:function(e){return((e.getUTCHours()<12)?'AM':'PM')},$b:function(e){var dm=e.getUTCHours();if(dm<12){if(dm===0){dm=12}}else if(dm>12){dm-=12}return dm},$c:function(e){return e.getUTCHours()},$8:function(e){var dm=new Date(e.getUTCFullYear(),0,1,12);var dn=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),12);return Math.round((dn-dm)/86400000)+1},$4:function(e,dm){return e.getUTCFullYear()+((e.getUTCMonth()+1<dm)?-1:0)},$e:function(e,dm,dn){var dp=ss.imod(e.getUTCDay()+7-(dm-1),7);var dq=-dp+(7-dn);var dr=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+dq));return dr.getUTCFullYear()},$d:function(e,dm){var dn;if(dm.fiscalYearStart<=1){var dp=(dm.brokenWeeks?e.getUTCFullYear():db.$e(e,dm.startOfWeek,dm.minDaysInFirstWeek));dn=new Date(Date.UTC(dp,0,1))}else{dn=new Date(Date.UTC(db.$4(e,dm.fiscalYearStart),dm.fiscalYearStart-1,1))}var dq=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));var dr=ss.imod(dn.getUTCDay()+7-(dm.startOfWeek-1),7);var ds=ss.idiv(dq-dn,86400000)+dr;if(dm.fiscalYearStart<=1&&7-dr<dm.minDaysInFirstWeek){ds-=7}return Math.floor(ds/7)+1},$a:function(e,dm){var dn=e.getUTCFullYear();var dp=e.getUTCMonth()+1;return((dp<dm||dm===1)?0:1)+dn},$5:function(e,dm){if(dm<1){dm=1}return Math.floor(ss.imod(e.getUTCMonth()+1-dm+12,12)/3)+1},$6:function(e){return((e===53)?4:Math.floor((e+12)/13))},$9:function(e,dm){if(dm.forceIso8601Calendar){var dn=db.$d(e,dm);return db.$6(dn)}return db.$5(e,dm.fiscalYearStart)},$C:function(e,dm){if(ss.isNullOrUndefined(dm)){return null}return dm.day[e.getUTCDay()+1]},$E:function(e,dm){if(ss.isNullOrUndefined(dm)){return null}return dm.shortDay[e.getUTCDay()+1]},$D:function(e,dm){if(ss.isNullOrUndefined(dm)){return null}return dm.month[e.getUTCMonth()]},$F:function(e,dm){if(ss.isNullOrUndefined(dm)){return null}return dm.shortMonth[e.getUTCMonth()]},formatJsDateTime:function(e,dm,dn,dp){if(ss.isNullOrUndefined(dm)){dm={format:'*M/d/yyyy',originalFormat:'en_US',timeFormat:''};if(dn===2&&db.$u(e)){dn=0}}return db.formatCustomJsDateTime(e,dm,dn,dp)},formatCustomJsDateTime:function(e,dm,dn,dp){var dq=db.$s(dm,dn,dp);var dr=(!ss.isNullOrUndefined(dm.calOpts)?dm.calOpts:new bE);var ds=new cV(e,dr);var dt=new cW;var du=new da;var dv=[];for(var dw=0;dw<dq.length;){var dx=dt.$0(dq,dw);dv.push(dx.$1(e,dm,dr,ds));dx.$0(e,ds,dr,du,dv);dw+=dx.$3()}return dv.join('')},$s:function(e,dm,dn){var dp=e.format;var dq=e.timeFormat;var dr=ss.isValue(dq);var ds=ss.isNullOrUndefined(e.originalFormat)||e.originalFormat.length===0||e.originalFormat==='S';var dt=dn==='t';if(ss.isValue(dm)&&dm!==0&&dr&&ds&&dt){if(dq.charCodeAt(0)===42){dq=dq.substr(1)}if(dm===2){dp=dp+' '+dq}else{dp=dq}}if(dp==='L'){dp='*dddd, mmmm dd, yyyy'}if(dp.charCodeAt(0)===42){dp=dp.substr(1)}return dp},$m:function(e,dm,dn,dp){var dq=null;if(!ss.isNullOrUndefined(dm)){dq=co.cloneObject(dm);dq.format=db.mapIcuToOleFormat(dq.format)}var dr=new Date(dc.JsDateFromOleDate(e));return db.formatJsDateTime(dr,dq,dn,dp)},$B:function(e){return((e<0)?Math.ceil(e):Math.floor(e))},$1:function(e,dm,dn,dp){var dq=Math.abs(db.$B(e));var dr='';var ds=parseInt(String.fromCharCode(dp.charCodeAt(0)),10)||3;var dt;if(dq<1000000000000000){dt=db.$z(dq,0)}else{dt=db.$y(dq,15-1);var du=dt.match(db.$1k);if(ss.isValue(du)){var dv=ss.coalesce(du[2],'');var dw=parseInt(du[3],10)-dv.length;var dx='';for(var dy=0;dy<dw;dy++){dx+='0'}dt=du[1]+dv+dx}}if(dm!=='t'){return dt}for(var dz=dt.length-1,dA=0;dz>=0;dz--,dA++){if(dA>=ds){dr=dn+dr;dA=0}dr=String.fromCharCode(dt.charCodeAt(dz))+dr}return dr},$2:function(e,dm){switch(dm){case'Y':{return e/1000000000000/1000000000000}case'Z':{return e/1000000000000/1000000000}case'E':{return e/1000000000000/1000000}case'P':{return e/1000000000000/1000}case'T':{return e/1000000000000}case'B':case'G':{return e/1000000000}case'M':{return e/1000000}case'K':{return e/1000}default:{return e}}},$0:function(e,dm,dn,dp,dq,dr){dm=dm.replace(new RegExp('^-'),'');if(e>=0||dr!==''&&(new RegExp('^['+dr+'0]*$')).test(dm)||dr===''&&(new RegExp('^[.0]*$')).test(dm)){return dn+dm+dp}switch(db.$t(dq)){case'parenthesis':{return'('+dn+dm+dp+')'}case'outerSuffix':{return dn+dm+dp+'-'}case'innerPrefix':{return dn+'-'+dm+dp}case'innerSuffix':{return dn+dm+'-'+dp}case'outerPrefix':case'automatic':default:{return'-'+dn+dm+dp}}},$t:function(e){var dm=parseInt(e,10);var dn=dm<0||dm>=db.$1g.length;return(dn?'automatic':db.$1g[dm])},$o:function(e){return db.$B(e)},$k:function(e,dm,dn,dp,dq,dr,ds){if(dm==='i'){return db.$f(e,dm,dn,dp,dq,dr,ds,null,null)}return db.$f(e,dm,dn,dp,dq,dr,ds,0.0001,1000000000000000)},$l:function(e,dm,dn,dp,dq,dr){if(dm==='i'){return db.$f(e,dm,null,dn,dp,dq,dr,null,1000000)}return db.$f(e,dm,null,dn,dp,dq,dr,0.0001,1000000000000000)},$f:function(e,dm,dn,dp,dq,dr,ds,dt,du){var dv;var dw;var dx;if(ss.isValue(dn)&&ss.unbox(dn)<=0){dv=-ss.unbox(dn);dx=dw=false}else{dv=db.$w(e,dm,true);dx=dw=true}var dy=Math.abs(e);if(dx&&dy!==0&&(ss.isValue(du)&&ss.Nullable$1.ge(dy,du)||ss.isValue(dt)&&ss.Nullable$1.lt(dy,dt))){var dz=db.$w(1,dm,true);var dA=db.$h(e,dz,dp);if(dw){return dA.replace(new RegExp('['+dp+']?0+e'),'e')}}var dB=e-db.$B(e);var dC=db.$1(e,dq,dr,ds);var dD=db.$z(dB,dv);if(Math.abs(parseFloat(dD))>=1){dC=db.$1(db.$B(e)+parseFloat(dD),dq,dr,ds);dD=dD.replace(new RegExp('1'),'0')}if(!(dD.indexOf('.')!==-1)){return db.$0(e,dC,'','','automatic'.toString(),dp)}if(dw){dD=dD.replace(new RegExp('0+$'),'');if(ss.endsWithString(dD,'.')){return db.$0(e,dC,'','','automatic'.toString(),dp)}}dD=dD.replace(new RegExp('^-?0\\.'),dp);return db.$0(e,dC+dD,'','','automatic'.toString(),dp)},$w:function(e,dm,dn){var dp=((dm==='i')?6:15);var dq=Math.max(0,dp-Math.abs(db.$B(e)).toString().length);return(dn?Math.min(dq,9):dq)},$h:function(e,dm,dn){if(isNaN(e)||!isFinite(e)){return e.toString()}if(dm<0||isNaN(dm)){dm=0}if(dm>15){dm=15}var dp=db.$y(e,dm);var dq=dp.indexOf(String.fromCharCode(101));var dr=dp.substr(dq);if(dr.length<4){dp=dp.substr(0,dq+2)+'0'+dp.substr(dq+2)}dp=dp.replace(new RegExp('\\.'),dn);return dp},$y:function(e,dm){return db.$A(e,dm,15,function(dn,dp){return dn.toExponential(dp)})},$z:function(e,dm){return db.$A(e,dm,db.$w(e,'r',false),function(dn,dp){return dn.toFixed(dp)})},$A:function(e,dm,dn,dp){dn=Math.max(dn-1,dm);var dq=dp(e,dn);var dr=dq.indexOf(String.fromCharCode(101));if(dr===-1){dr=dq.length}var ds=dr-(dn-dm);var dt=dq.charCodeAt(ds);if(dq.charCodeAt(ds-1)===46){ds--}dq=dq.substr(0,ds)+dq.substr(dr,dq.length);if(dt>=53&&dt<=57){var du;do{ds--;du=dq.charCodeAt(ds);if(du===46||du===45){du=48;continue}du++;if(du>57){du=48}dq=dq.substr(0,ds)+String.fromCharCode(du)+dq.substr(ds+1,dq.length)}while(du===48&&ds>0);if(du===48&&ds===0){dq=dp(e,dm)}}return dq},$n:function(e,dm,dn,dp){if(dn===-1){return db.$f(e*100,dm,null,dp[7],dp[2],dp[8],dp[9],null,null)+'%'}return db.$q(e*100,dn,dp)+'%'},$p:function(e,dm,dn,dp,dq){if(ss.isNullOrUndefined(dn)||dn.length!==10){return db.$k(e,dm,dp,'.',((dq==='d')?null:'t'),',','3;0')}var dr=parseInt(dn[1],10);switch(dn[0]){case'':{if(dr===-1){return db.$k(e,dm,null,dn[7],dn[2],dn[8],dn[9])}else{return db.$k(e,dm,-dr,dn[7],dn[2],dn[8],dn[9])}}case'N':{return db.$l(e,dm,dn[7],dn[2],dn[8],dn[9])}case'e':{return db.$h(e,dr,dn[7])}case'p':{return db.$n(e,dm,dr,dn)}default:{return db.$q(e,dr,dn)}}},$q:function(e,dm,dn){e=db.$2(e,dn[5]);var dp=dn[5]+dn[4];var dq=db.$1(e,dn[2],dn[8],dn[9]);var dr=db.$z(e-db.$B(e),dm);if(Math.abs(parseFloat(dr))>=1){dq=db.$1(db.$B(e)+parseFloat(dr),dn[2],dn[8],dn[9]);dr=dr.replace(new RegExp('1'),'0')}dr=dr.replace(new RegExp('^-?0\\.'),dn[7]);var ds=dq+dr;if(dm<=0){ds=dq}return db.$0(e,ds,dn[3],dp,dn[6],dn[7])},$i:function(e,dm){return db.$p(db.$B(e),'i',dm,null,null)},_convertFormatStringsToFormattingInfo:function(e){var dm=new bE;dm.fiscalYearStart=parseInt(e[4]);var dn={format:e[0],locale:e[1],originalFormat:e[2],timeFormat:e[3],calOpts:dm};if(isNaN(dn.calOpts.fiscalYearStart)){dn.calOpts.fiscalYearStart=0}dn.calOpts.startOfWeek=parseInt(e[5]);if(isNaN(dn.calOpts.startOfWeek)){dn.calOpts.startOfWeek=1}dn.calOpts.minDaysInFirstWeek=parseInt(e[6]);if(isNaN(dn.calOpts.minDaysInFirstWeek)){dn.calOpts.minDaysInFirstWeek=1}dn.calOpts.brokenWeeks=e[7]==='1';return dn},$r:function(e){var dm=44;var dn=40;var dp=41;var dq=39;var dr=92;var ds=[];e=e.trim();if(e.length===0){return''}var dt=e.length;var du=0;if(du>=dt||e.charCodeAt(du)!==dn){return''}++du;while(du<dt){var dv=du;var dw=false;var dx=0;while(dv<dt&&!dw){var dy=e.charCodeAt(dv);if(dx===0&&(dy===dm||dy===dp)){dw=true;break}if(dy===dr){dv+=2}else{if(dy===dq){dx=1-dx}++dv}}if(!dw){return''}var dz=e.substring(du+1,dv-1);dz=ss.replaceAllString(dz,'\\\\','\\');dz=ss.replaceAllString(dz,'\\"','"');dz=ss.replaceAllString(dz,'\\,',',');dz=ss.replaceAllString(dz,'\\(','(');dz=ss.replaceAllString(dz,'\\)',')');ds.push(dz);du=dv;++du}return ds.join(', ')}});var dc=global.tableau.types=ss.mkType(a,'tableau.types',null,null,{JsDateFromOleDate:function(e){var dm=((e<0)?Math.ceil(e):Math.floor(e));var dn=Math.round(Math.abs(e-dm)*86400000)+dm*86400000;return dn+dc.javaScriptOLEEpoch},OleDateFromJsDate:function(e){var dm=new Date(e);var dn=Date.UTC(dm.getUTCFullYear(),dm.getUTCMonth(),dm.getUTCDate());var dp=ss.idiv(dn-dc.javaScriptOLEEpoch,86400000);var dq=(e-dn)/86400000;return dp+((dp<0)?-1:1)*dq},isO:function(e){return e.fieldType==='O'||e.fieldType==='N'},isMetadata:function(e){return e.column_class===0},isOm:function(e){return dc.isO(e)&&dc.isMetadata(e)},getRegionType:function(e){switch(e){case'viz':case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return't'}case'color':case'shape':case'size':case'map':{return'l'}case'filter':{return'f'}case'current-page':{return'p'}case'title':{return'i'}case'text':{return'x'}case'bitmap':{return'b'}case'web':{return'w'}case'paramctrl':{return'a'}case'draw':{return'd'}case'text-block':{return'k'}case'layout-basic':case'layout-flow':{return'c'}default:{return null}}}});var dd=global.tableau.util=ss.mkType(a,'tableau.util',null,null,{assetUrl:function(e,dm){var dn=(dm?tsConfig.local_static_asset_prefix:tsConfig.external_static_asset_prefix);var dp;if(e.charCodeAt(0)===47){var dq=dn.length-1;if(dn.charCodeAt(dq)===47){dp=dn.substring(0,dq-1)+e}else{dp=dn+e}}else{dp=dn+'/'+e}return dd.adjustForLocalPaths(dp)},adjustForLocalPaths:function(e){if(tsConfig.useLocalPaths&&e.charCodeAt(0)===47){return e.substring(1,e.length)}else{return e}},isPrintableNonNumericKeyPressed:function(e){return dd.isPrintableNonNumericInput(e.which,e.shiftKey,e.ctrlKey)},isPrintableNonNumericInput:function(e,dm,dn){var dp=e>=91&&e<=105;var dq=e>=112&&e<=123;var dr=e<47;var ds=!dm&&!dn&&(e>=48&&e<=57);return!dp&&!dr&&!ds&&!dq},preventNonNumericInput:function(e){if(dd.isPrintableNonNumericKeyPressed(e)){e.preventDefault();e.stopPropagation()}},inputWouldOverflowMaxLength:function(e,dm,dn,dp){if(ss.isNullOrUndefined(e)){e=''}if(ss.isNullOrUndefined(dm)){dm=''}if(e.length===1){var dq=e.charCodeAt(0);if(dq<=8||dq===127||dq>=14&&dq<=31||dq===11||dq===12){return false}}return e.length-dn+dm.length>dp},maxLengthEnforcingBeforeInputHandler:function(e){return function(dm){var dn=dm.target.selectionEnd-dm.target.selectionStart;if(dd.inputWouldOverflowMaxLength(dm.data,dm.target.value,dn,e)){dm.preventDefault();dm.stopPropagation()}}},isElementVisible:function(e){return $(e).css('display')!=='none'},findElementByTagName:function(e,dm,dn){e=e||bO.get_documentBody();if(dd.isNodeMatch(e,dm,dn)){return e}var dp=e.getElementsByTagName(dm);var dq=dp.length;for(var dr=0;dr<dq;dr+=1){if(dd.isNodeMatch(dp[dr],dm,dn)){return dp[dr]}}return null},findDirectParentByClassName:function(e,dm,dn){if(ss.isNullOrUndefined(e)||co.isNullOrEmpty$1(dm)){return null}dn=dn||document.body;var dp=e.parentNode;while(!ss.isNullOrUndefined(dp)&&!ss.referenceEquals(dp,dn)){if(!co.isNullOrEmpty$1(dp.className)){if(ss.referenceEquals(dp.className.toLowerCase(),dm.toLowerCase())){return dp}dp=dp.parentNode}}return null},isNodeMatch:function(e,dm,dn){if(ss.isNullOrUndefined(e)||!ss.referenceEquals(e.tagName.toLowerCase(),dm.toLowerCase())){return false}if(ss.isNullOrUndefined(dn)){return true}var dp=ss.getEnumerator(Object.keys(dn));try{while(dp.moveNext()){var dq=dp.current();if(dq in dn&&!ss.referenceEquals(e[dq],dn[dq])){return false}}}finally{dp.dispose()}return true},binarySearch:function(e){return function(dm,dn,dp,dq,dr){var ds=dp;if(ss.isNullOrUndefined(ds)){ds=-1}var dt=(co.isValidIndex(ds,dn)?ss.unbox(dp):0);var du=dq;if(ss.isNullOrUndefined(du)){du=-1}var dv=(co.isValidIndex(du,dn)?ss.unbox(dq):(dn.length-1));if(ss.isNullOrUndefined(dr)){dr=dd.$0(e)}var dw={};while(dt<=dv){var dx=Math.floor(dt+(dv-dt)/2);var dy=dr(dn[dx],dm);if(dy===0){dw.found=true;dw.index=dx;return dw}else if(dy<0){dt=dx+1}else{dv=dx-1}}dw.found=false;dw.index=dt;return dw}},$0:function(e){return function(dm,dn){if(dm===dn){return 0}else if(dm>dn){return-1}else{return 1}}},transform:function(e,dm){dm=dm||{scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};if(ss.isNullOrUndefined(dm.transformOrigin)){dm.transformOrigin={x:ss.idiv(e.offsetWidth,2),y:ss.idiv(e.offsetHeight,2)}}if(dm.scale!==1){dm.scaleX=dm.scaleY=dm.scale}var dn;if(window.WebKitCSSMatrix!==undefined&&(new WebKitCSSMatrix).m11!==undefined){dn=['translate3d(',dm.translateX.toString(),'px,',dm.translateY.toString(),'px, 0px)'].join('')}else{dn=['translate(',dm.translateX.toString(),'px,',dm.translateY.toString(),'px)'].join('')}dn+=[' scale(',dm.scaleX.toString(),', ',dm.scaleY.toString(),')'].join('');e.style['transitionProperty']='transform';e.style['transitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['transitionDuration']=dm.time+'ms';e.style['transform']=dn;e.style['webkitTransitionProperty']='-webkit-transform';e.style['webkitTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['webkitTransitionDuration']=dm.time+'ms';e.style['webkitTransform']=dn;e.style['MozTransitionProperty']='-moz-transform';e.style['MozTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['MozTransitionDuration']=dm.time+'ms';e.style['MozTransform']=dn;if(ss.isValue(dm.transformOrigin)){var dp=dm.transformOrigin.x+'px '+dm.transformOrigin.y+'px';e.style['transformOrigin']=dp;e.style['webkitTransformOrigin']=dp;e.style['MozTransformOrigin']=dp}},parseUri:function(e){var dm=document.createElement('a');var dn=dm;if(ss.isNullOrUndefined(e)){return null}dm.href=e;var dp=ss.mkdict(['href',e,'host',dn.host,'hostname',dn.hostname,'pathname',dn.pathname,'port',dn.port,'protocol',dn.protocol,'search',dn.search]);return dp},setupTitleEllipsis:function(e){e.find('div').each(function(dm,dn){var dp=$(dn);var dq=dp.children('span');var dr=null;var ds=bQ.roundToInt(dp.width());var dt=10;ds-=dt;for(var du=0;du<dq.length;du++){var dv=dq[du];var dw=bQ.roundToInt($(dv).width());dr=dv;if(dw>ds){break}ds-=dw}if(ss.isValue(dr)){dp.css('font-family',dr.style.fontFamily);dp.css('font-size',dr.style.fontSize);dp.css('line-height',dr.style.lineHeight);dp.css('color',dr.style.color);dp.css('font-weight',dr.style.fontWeight);dp.css('font-style',dr.style.fontStyle);dp.css('text-decoration',dr.style.textDecoration)}dp.css('text-overflow','ellipsis');dp.css('overflow','hidden')})}});var de=global.tableau.types.DataSpecial=ss.mkType(a,'tableau.types.DataSpecial');var df=global.tableau.types.DataType=ss.mkType(a,'tableau.types.DataType');var dg=global.tableau.types.FieldTypeTypes=ss.mkType(a,'tableau.types.FieldTypeTypes');var dh=global.tableau.types.QFDomain=ss.mkType(a,'tableau.types.QFDomain');var di=global.tableau.types.QFInclude=ss.mkType(a,'tableau.types.QFInclude',null,null,{isRange:function(e){switch(e){case'include-all':case'include-null':case'include-non-null':{return false}default:{return true}}}});var dj=global.tableau.types.RegionType=ss.mkType(a,'tableau.types.RegionType');var dk=global.tableau.types.TableauTypesFieldRole=ss.mkType(a,'tableau.types.TableauTypesFieldRole');var dl=global.tableau.util.NoClickDelay=ss.mkType(a,'tableau.util.NoClickDelay',function(e){this.$4=null;this.$5=false;this.$4=e;if(BrowserSupport.BrowserSupport.IsTouch()){this.$4.addEventListener('touchstart'.toString(),ss.mkdel(this,this.$0),false)}},{$0:function(e){var dm=e;switch(e.type){case'touchstart':{this.$3(dm);break}case'touchmove':{this.$2(dm);break}case'touchend':{this.$1(dm);break}}},$3:function(e){e.preventDefault();this.$5=false;this.$4.addEventListener('touchmove'.toString(),ss.mkdel(this,this.$0),false);this.$4.addEventListener('touchend'.toString(),ss.mkdel(this,this.$0),false)},$2:function(e){this.$5=true},$1:function(e){this.$4.removeEventListener('touchmove',ss.mkdel(this,this.$0),false);this.$4.removeEventListener('touchend',ss.mkdel(this,this.$0),false);if(!this.$5){var dm=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);if(dm.nodeType===3){dm=dm.parentNode}var dn=document.createEvent('MouseEvents');dn['initEvent']('click',true,true);dm.dispatchEvent(dn)}}});ss.initClass(d);ss.initClass(f);ss.initClass(g);g.$0.prototype=g.prototype;ss.initClass(h);h.$0.prototype=h.prototype;ss.initClass(i);i.$0.prototype=i.prototype;ss.initClass(j);ss.initClass(k);ss.initClass(l);l.$0.prototype=l.$1.prototype=l.$2.prototype=l.prototype;ss.initClass(m);m.$0.prototype=m.$1.prototype=m.$2.prototype=m.prototype;ss.initClass(p);p.$0.prototype=p.prototype;ss.initStruct(q);q.$0.prototype=q.prototype;ss.initClass(r);ss.initClass(s);ss.initClass(t);t.$0.prototype=t.prototype;ss.initClass(u);ss.initClass(v);v.$0.prototype=v.prototype;ss.initClass(w);ss.initClass(x);ss.initClass(y);ss.initClass(z);ss.initClass(A);ss.initClass(B);ss.initClass(C);ss.initClass(D);ss.initClass(E);ss.initClass(F);F.$0.prototype=F.prototype;ss.initClass(G);G.$0.prototype=G.prototype;ss.initClass(H);H.$0.prototype=H.prototype;ss.initClass(I);ss.initClass(J);ss.initClass(K);ss.initClass(L);ss.initClass(M);ss.initClass(N);ss.initClass(O);ss.initClass(P);ss.initClass(Q);ss.initClass(R);ss.initClass(S);ss.initClass(T);ss.initClass(U);U.$0.prototype=U.prototype;ss.initClass(V);ss.initClass(W);ss.initClass(X);ss.initClass(Y);ss.initClass(ba);ss.initClass(bb);ss.initClass(bd);ss.initClass(be);ss.initClass(bf);ss.initClass(bg);ss.initClass(bh);ss.initClass(bi);ss.initClass(bj);ss.initClass(bk);ss.initClass(bl);ss.initClass(bm);ss.initClass(bn);ss.initClass(bo);ss.initClass(bp);ss.initClass(bq);ss.initClass(br);ss.initClass(bs);ss.initClass(bt);ss.initClass(bu);ss.initClass(bv);bv.$0.prototype=bv.prototype;ss.initClass(bw);ss.initClass(bx);ss.initClass(by);ss.initClass(bz);ss.initClass(bA);ss.initClass(bB);ss.initClass(bC);ss.initClass(bE);ss.initClass(bF,null,[ss.IDisposable]);ss.initClass(bG);ss.initClass(bH);ss.initClass(bI);ss.initClass(bJ);bJ.$ctor1.prototype=bJ.prototype;ss.initClass(bL);ss.initClass(bM,null,[ss.IDisposable]);ss.initClass(bN,null,[ss.IDisposable]);ss.initClass(bO);ss.initClass(bP);ss.initClass(bQ);ss.initClass(bR);ss.initClass(bS);ss.initClass(bU);ss.initClass(bV);ss.initClass(bW);ss.initClass(bX);ss.initClass(bY);ss.initInterface(bZ,{addToDom:null,onAddedToDom:null});ss.initInterface(ca,{get_dimensions:null,translatePositionToViewport:null,getVisibleRoom:null,getDocumentViewport:null});ss.initInterface(cb,{showSuccessBanner:null,showErrorBanner:null,showModalErrorBanner:null,showInfoBanner:null});ss.initInterface(cc,{showAlertDialog:null,showConfirmationDialog:null,ShowErrorDialog:null,ShowLocalErrorDialog:null,showSheetAuthenticationOverlay:null,showGenericDataSourceErrorOverlay:null,showSheetAuthenticationDialog:null,showGenericDataSourceErrorDialog:null,showFileDownloadDialog:null,showConnectionMissingFileDialog:null,showEditConnectionInformationDialog:null,showConnectionSignInDialog:null});ss.initClass(cd);ss.initClass(ce);ss.initInterface(cg,{add_disposed:null,remove_disposed:null},[ss.IDisposable]);ss.initInterface(ch,{});ss.initClass(ci);ss.initClass(cj);ss.initClass(ck,ss.Exception);ck.$ctor1.prototype=ck.$ctor2.prototype=ck.prototype;ss.initClass(cl);ss.initClass(cm);ss.initClass(cn);ss.initClass(co);ss.initClass(cp);ss.initClass(cq);ss.initClass(cr);ss.initClass(cs);ss.initClass(ct);ss.initClass(cu);ss.initClass(cv);ss.initClass(cw);ss.initClass(cy);ss.initClass(cz);ss.initClass(cA,ss.EventArgs);ss.initClass(cB);ss.initClass(cC);ss.initClass(cD);ss.initClass(cE);ss.initClass(cG);ss.initClass(cH);ss.initClass(cI);ss.initClass(cJ);ss.initClass(cK);ss.initClass(cL);ss.initClass(cM,tab.BaseLogAppender);ss.initClass(cN);ss.initClass(cO);ss.initClass(cP);ss.initClass(cQ);ss.initClass(cS);ss.initClass(cT,tab.BaseLogAppender);ss.initClass(cU);ss.initClass(cV);ss.initClass(cW);ss.initClass(cX);cX.$0.prototype=cX.prototype;ss.initClass(da);ss.initClass(db);ss.initClass(dc);ss.initClass(dd);ss.initClass(de);ss.initClass(df);ss.initClass(dg);ss.initClass(dh);ss.initClass(di);ss.initClass(dj);ss.initClass(dk);ss.initClass(dl);ss.setMetadata(g,{members:[{attr:[new bG],name:'ParameterName',type:16,returnType:String,getter:{name:'get_ParameterName',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_ParameterName',type:8,sname:'$1',returnType:Object,params:[String]}}]});ss.setMetadata(h,{members:[{attr:[new M],name:'Contract',type:16,returnType:String,getter:{name:'get_Contract',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Contract',type:8,sname:'$1',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(k,{attr:[new k(Object)],members:[{attr:[new M],name:'BaseType',type:16,returnType:Function,getter:{name:'get_BaseType',type:8,sname:'$0',returnType:Function,params:[]},setter:{name:'set_BaseType',type:8,sname:'$1',returnType:Object,params:[Function]}}],attrAllowMultiple:true});ss.setMetadata(m,{members:[{attr:[new l],name:'TargetFlags',type:16,returnType:o,getter:{name:'get_TargetFlags',type:8,sname:'$0',returnType:o,params:[]},setter:{name:'set_TargetFlags',type:8,sname:'$1',returnType:Object,params:[o]}},{attr:[new l],name:'UseKindFlags',type:16,returnType:n,getter:{name:'get_UseKindFlags',type:8,sname:'$2',returnType:n,params:[]},setter:{name:'set_UseKindFlags',type:8,sname:'$3',returnType:Object,params:[n]}}]});ss.setMetadata(n,{enumFlags:true});ss.setMetadata(o,{enumFlags:true});ss.setMetadata(p,{attr:[new m.$1(3)],members:[{attr:[new bG],name:'Comment',type:16,returnType:String,getter:{name:'get_Comment',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Comment',type:8,sname:'$1',returnType:Object,params:[String]}}]});ss.setMetadata(t,{members:[{attr:[new bG],name:'Justification',type:16,returnType:String,getter:{name:'get_Justification',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Justification',type:8,sname:'$1',returnType:Object,params:[String]}}]});ss.setMetadata(v,{members:[{attr:[new bG],name:'BasePath',type:16,returnType:String,getter:{name:'get_BasePath',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_BasePath',type:8,sname:'$1',returnType:Object,params:[String]}}]});ss.setMetadata(x,{members:[{attr:[new bG],name:'Expression',type:16,returnType:String,getter:{name:'get_Expression',type:8,sname:'$2',returnType:String,params:[]},setter:{name:'set_Expression',type:8,sname:'$3',returnType:Object,params:[String]}},{attr:[new bG],name:'Target',type:16,returnType:String,getter:{name:'get_Target',type:8,sname:'$4',returnType:String,params:[]},setter:{name:'set_Target',type:8,sname:'$5',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(y,{members:[{attr:[new M],name:'Format',type:16,returnType:String,getter:{name:'get_Format',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Format',type:8,sname:'$1',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(z,{members:[{attr:[new M],name:'Format',type:16,returnType:String,getter:{name:'get_Format',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Format',type:8,sname:'$1',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(A,{members:[{attr:[new M],name:'Format',type:16,returnType:String,getter:{name:'get_Format',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Format',type:8,sname:'$1',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(C,{members:[{attr:[new M],name:'Format',type:16,returnType:String,getter:{name:'get_Format',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Format',type:8,sname:'$1',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(D,{members:[{attr:[new M],name:'Format',type:16,returnType:String,getter:{name:'get_Format',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Format',type:8,sname:'$1',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(E,{members:[{attr:[new M],name:'Format',type:16,returnType:String,getter:{name:'get_Format',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Format',type:8,sname:'$1',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(F,{members:[{attr:[new bG],name:'AnonymousProperty',type:16,returnType:String,getter:{name:'get_AnonymousProperty',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_AnonymousProperty',type:8,sname:'$1',returnType:Object,params:[String]}}]});ss.setMetadata(G,{members:[{attr:[new bG],name:'AnonymousProperty',type:16,returnType:String,getter:{name:'get_AnonymousProperty',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_AnonymousProperty',type:8,sname:'$1',returnType:Object,params:[String]}}]});ss.setMetadata(H,{members:[{attr:[new bG],name:'AnonymousProperty',type:16,returnType:String,getter:{name:'get_AnonymousProperty',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_AnonymousProperty',type:8,sname:'$1',returnType:Object,params:[String]}}]});ss.setMetadata(U,{members:[{attr:[new bG],name:'Name',type:16,returnType:String,getter:{name:'get_Name',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Name',type:8,sname:'$1',returnType:Object,params:[String]}}]});ss.setMetadata(V,{members:[{attr:[new M],name:'Name',type:16,returnType:String,getter:{name:'get_Name',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Name',type:8,sname:'$1',returnType:Object,params:[String]}}]});ss.setMetadata(Z,{enumFlags:true});ss.setMetadata(bl,{members:[{attr:[new M],name:'ControlType',type:16,returnType:Function,getter:{name:'get_ControlType',type:8,sname:'$0',returnType:Function,params:[]},setter:{name:'set_ControlType',type:8,sname:'$1',returnType:Object,params:[Function]}},{attr:[new M],name:'TagName',type:16,returnType:String,getter:{name:'get_TagName',type:8,sname:'$2',returnType:String,params:[]},setter:{name:'set_TagName',type:8,sname:'$3',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(bp,{members:[{attr:[new M],name:'Attribute',type:16,returnType:String,getter:{name:'get_Attribute',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Attribute',type:8,sname:'$1',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(br,{members:[{attr:[new M],name:'Name',type:16,returnType:String,getter:{name:'get_Name',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Name',type:8,sname:'$1',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(bs,{members:[{attr:[new M],name:'FieldName',type:16,returnType:String,getter:{name:'get_FieldName',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_FieldName',type:8,sname:'$1',returnType:Object,params:[String]}},{attr:[new M],name:'Type',type:16,returnType:String,getter:{name:'get_Type',type:8,sname:'$2',returnType:String,params:[]},setter:{name:'set_Type',type:8,sname:'$3',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(bt,{members:[{attr:[new M],name:'FormatParameterName',type:16,returnType:String,getter:{name:'get_FormatParameterName',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_FormatParameterName',type:8,sname:'$1',returnType:Object,params:[String]}}]});ss.setMetadata(bu,{members:[{attr:[new M],name:'Directive',type:16,returnType:String,getter:{name:'get_Directive',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Directive',type:8,sname:'$1',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(bv,{members:[{attr:[new M],name:'BaseType',type:16,returnType:String,getter:{name:'get_BaseType',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_BaseType',type:8,sname:'$1',returnType:Object,params:[String]}},{attr:[new bG],name:'PageName',type:16,returnType:String,getter:{name:'get_PageName',type:8,sname:'$2',returnType:String,params:[]},setter:{name:'set_PageName',type:8,sname:'$3',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(bB,{members:[{attr:[new M],name:'Name',type:16,returnType:String,getter:{name:'get_Name',type:8,sname:'$0',returnType:String,params:[]},setter:{name:'set_Name',type:8,sname:'$1',returnType:Object,params:[String]}}],attrAllowMultiple:true});ss.setMetadata(cf,{variance:[1]});ss.setMetadata(cF,{enumFlags:true});(function(){cJ.$7='?';cJ.$6={};cJ.$5=true})();(function(){d.$b=new RegExp('^(eval@)?(\\[native code\\])?$');d.$8=new RegExp('^\\s*at .*(\\S+\\:\\d+|\\(native\\))','m');d.$c=new RegExp('(\\(eval at [^\\()]*)|(\\)\\,.*$)');d.$9=new RegExp('(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$');d.$a=new RegExp('[\\(\\)]','g')})();(function(){bR.$4=false;bR.$3=true;bR.$6=false;bR.$9=[];bR.$8=false;bR.$7=null;bR.$5=[]})();(function(){var e={isMobile:function(){return tsConfig.is_mobile}};BrowserSupport.BrowserSupport.setConfig(e)})();(function(){bQ.epsilon=Math.pow(2,-52);bQ.$5=1+bQ.epsilon;bQ.$6=bQ.$5;bQ.$4=1/bQ.$5;bQ.$2=9.22337203685477E+18;bQ.$3=-9.22337203685477E+18})();(function(){bI.visibleReadinessChromeZIndex=700;bI.visibleZoneSelectionChromeZIndex=700;bI.visibleMultiselectionChromeZIndex=700+1;bI.readinessChromeResizersZIndex=700+1;bI.gridOverlayZIndex=700-1;bI.zoneRectPreviewZIndex=700;bI.dsdGlassZIndex=700+2})();(function(){dc.$1=24*60*60*1000;dc.javaScriptOLEEpoch=Date.UTC(1899,11,30,0,0,0,0)})();(function(){bL.oneSecond=(new Date(2008,11,21,1,1,2)).getTime()-(new Date(2008,11,21,1,1,1)).getTime();bL.oneMinute=(new Date(2008,11,21,1,2)).getTime()-(new Date(2008,11,21,1,1)).getTime();bL.oneHour=(new Date(2008,11,21,2)).getTime()-(new Date(2008,11,21,1)).getTime();bL.oneDay=(new Date(2008,11,21)).getTime()-(new Date(2008,11,20)).getTime();bL.oneWeek=(new Date(2008,11,21)).getTime()-(new Date(2008,11,14)).getTime();bL.$a=1000*60*(60*24)})();(function(){bS.$0=null})();(function(){cw.suppressAlerts=false})();(function(){bO.$7='data-tab-test-wait';bO.$8=ss.mkdict(['matrix',4,'matrix3d',12,'translate',0,'translate3d',0,'translateX',0,'translateY',-1]);bO.$9=(new Date).getTime()})();(function(){bU.$b=null;bU.$6=null;bU.$8=null;bU.$a=null;bU.$d=null;bU.$e=null;bU.$5=null;bU.$7=null;bU.$9=null;bU.$c=null;{bU.$b=tab.Logger.lazyGetLogger(bU);bU.$6=[];bU.$8=[];bU.$a=[];bU.$d=[];bU.$e={};bU.$5={};bU.$7={};bU.$9={};bU.$c={}}bU.$1(':newfilter',4,false);bU.$1(':newtoolbar',9,false);bU.$1(':selectiontoolsmobile',23,true);bU.$1(':mapssearchdebugalwaysshow',28,false);bU.$1(':useleafletforgeosearch',19,false);bU.$1(':aodragtoviz',31,false);bU.$1(':gotomylocationbutton',32,true);bU.$1(':designtint',33,false);bU.$1(':newqfwolf',35,false);bU.$1(':outlinestampedshapes',38,false);bU.$1(':catqfdropdown',40,false);bU.$1(':opaquecanvas',42,true);bU.$1(':logstorypointcachehits',43,false);bU.$1(':debugtools',46,false);bU.$1(':showruntimestatus',53,false);bU.$1(':devicepreviewmode',57,false);bU.$2(':buttondelay',11);bU.$2(':hoverdelay',12);bU.$2(':maxtooltipwhitespace',18);bU.$2(':datahlmaxitems',44);bU.$2(':greyglassdelay',48);bU.$2(':spinnerdelay',49);bU.$2(':canceldelay',50);bU.$2(':owd',54);bU.$2(':progloaddelay',39);bU.$3(':instrumentobjects',47);bU.$3(':runtimewebhost',51);bU.$0()})();(function(){bW.tableauFallback='Arial';bW.sansSerifFallback='sans-serif';bW.$1=new bV(20)})();(function(){bY.httpUnauthorizedCode=401;bY.httpServiceUnavailable=503;bY.httpInternalServerError=500;bY.httpBadRequest=400})();(function(){cj.afrikaans='af_ZA';cj.albanian='sq_AL';cj.amharic='am_ET';cj.arabic='ar_BH';cj.france='fr_FR';cj.japan='ja_JP';cj.korea='ko_KR';cj.unitedKingdom='en_UK';cj.unitedStates='en_US'})();(function(){cl.touchEventSamplingRate=4;cl.defaultWheelDeltaIncrement=120;cl.minimumZoomLevelIncrement=0.25;cl.maxWheelDelta=360;cl.$2=480;cl.$1=512})();(function(){cn.$7=100;cn.$8=400;cn.$9=20;cn.$6=250;cn.$a=5;cn.$5=250;cn.$c=null;cn.$b=null;cn.$c={};cn.$c['d']='DESC';cn.$c['t']='TIME';cn.$c['id']='ID';cn.$c['sid']='SESSION_ID';cn.$c['e']='ELAPSED';cn.$c['v']='VALS';cn.$c['wb']='WORKBOOK';cn.$c['s']='SHEET_NAME';cn.$c['p']='PROPS';cn.$c['m']='MOBILE';cn.$b={};cn.$b['nav']='Navigation';cn.$b['wp']='ProfileEnd';cn.$b['gen']='Generic';cn.$b['init']='SessionInit'})();(function(){cq.$2=['navigationStart','unloadEventStart','unloadEventEnd','redirectStart','redirectEnd','fetchStart','domainLookupStart','domainLookupEnd','connectStart','connectEnd','secureConnectionStart','requestStart','responseStart','responseEnd','domLoading','domInteractive','domContentLoadedEventStart','domContentLoadedEventEnd','domComplete','loadEventStart','loadEventEnd'];cq.$1=null;var e=window;var dm=function(dn){_.defer(cq.collectMetrics)};if(ss.isValue(e.addEventListener)){window.addEventListener('load',dm,false)}else if(ss.isValue(e.attachEvent)){e.attachEvent('load',dm)}})();(function(){ct.trackedObjects={};ct.$1=null})();(function(){cu.$3=null;cu.$2=null})();(function(){cv.$1=bU.getInt(54)})();(function(){cM.globalAppender=new tab.LogAppenderInstance(function(){return new cM})})();(function(){cO.defaultCustomStyleElementId='tab-appendedCustomStyle';cO.$3=new RegExp('-?[_a-zA-Z]+[_a-zA-Z0-9-]*');cO.$4={}})();(function(){cP.$1=null;cP.$1=new cP(0,0,1,0)})();(function(){cS.defaultHelpVersion='0.0';cS.onlineHelpOrigin='https://www.tableau.com';cS.$3='/offline_help/{0}/help.htm#{1}';cS.$5='{0}/{1}';cS.$2='{0}/proxy/-/{1}';cS.$4='https://public.tableau.com/s/WebEditHelpVideo'})();(function(){cT.globalAppender=new tab.LogAppenderInstance(function(){return new cT})})();(function(){cU.waitHandlerGlassZIndex=990;cU.dialogAboveGlassAndSpinnerStandardZIndex=990+10;cU.belowGlassAndSpinnerStandardZIndex=990-2;cU.glassStyleZIndex=999})();(function(){db.specialManyValues='%many-values%';db.specialNull='%null%';db.specialError='%error%';db.specialRagged='%ragged%';db.specialSkipped='%skipped%';db.specialMissing='%missing%';db.specialAll='%all%';db.specialNoAccess='%no-access%';db.specialWildcard='%wildcard%';db.$O=86400000;db.$N=15;db.$M=6;db.$Q=1000000000000000;db.$P=1000000;db.$R=0.0001;db.$18=9;db.$K=46;db.$S=45;db.$19=48;db.$L=53;db.$16=57;db.$10='t';db.$Z='f';db.$11=10;db.$13=0;db.$H='';db.$17='N';db.$J='e';db.$I='p';db.$T=1;db.$15=2;db.$Y=3;db.$12=4;db.$14=5;db.$X=6;db.$U=7;db.$V=8;db.$W=9;db.$1g=['automatic','parenthesis','outerPrefix','outerSuffix','innerPrefix','innerSuffix'];db.isO8601DateFormat={};db.isO8601DateTimeFormat={};db.isO8601TimeFormat={};db.$1l=new RegExp('(\\\\|\\^|\\$|\\*|\\+|\\?|\\.|\\:|\\,|\\(|\\)|\\[|\\]|\\{|\\}|\\|)','g');db.$1d=new RegExp('^([yYmMdD\\W]+)\\s+([hnst\\W]+)$');db.$1m=new RegExp('(\\\\[:.]s+)');db.$1p=new RegExp('(t+)','g');db.$1h=new RegExp('([yYmMdDhnswq]+)','g');db.$1n=new RegExp('\\(\\\\d\\+\\)(?:\\(\\?\\:)?\\s+\\(\\\\d\\+\\)','g');db.$1i=new RegExp('\\s','g');db.$1b=new RegExp('(^|d)([^h]*)(h|$)','gi');db.$1c=new RegExp('h([^d]*)(d|$)','gi');db.$1a=new RegExp('^(a|a\\.?m\\.?|㏂|π\\.?µ\\.?|午前)$','i');db.$1j=new RegExp('^(p|p\\.?m\\.?|㏘|µ\\.?µ\\.?|午後)$','i');db.$1k=new RegExp('(\\d)(?:\\.(\\d+))?e\\+(\\d+)');db.$1f=ss.mkdict(['yyyyy','yyyyy','yyyy','yyyy','yyy','yyyy','yy','yy','y','yyyy','L','m','LL','mm','LLL','mmm','LLLL','mmmm']);db.defaultLocaleStrings={day:['',tab.Strings.Sunday,tab.Strings.Monday,tab.Strings.Tuesday,tab.Strings.Wednesday,tab.Strings.Thursday,tab.Strings.Friday,tab.Strings.Saturday,tab.Strings.Sunday],shortDay:['',tab.Strings.SundayShort,tab.Strings.MondayShort,tab.Strings.TuesdayShort,tab.Strings.WednesdayShort,tab.Strings.ThursdayShort,tab.Strings.FridayShort,tab.Strings.SaturdayShort,tab.Strings.SundayShort],shortMonth:[tab.Strings.JanuaryShort,tab.Strings.FebruaryShort,tab.Strings.MarchShort,tab.Strings.AprilShort,tab.Strings.MayShort,tab.Strings.JuneShort,tab.Strings.JulyShort,tab.Strings.AugustShort,tab.Strings.SeptemberShort,tab.Strings.OctoberShort,tab.Strings.NovemberShort,tab.Strings.DecemberShort],month:[tab.Strings.January,tab.Strings.February,tab.Strings.March,tab.Strings.April,tab.Strings.May,tab.Strings.June,tab.Strings.July,tab.Strings.August,tab.Strings.September,tab.Strings.October,tab.Strings.November,tab.Strings.December]};db.baseTimestamp={t:'t',v:dc.OleDateFromJsDate(Date.UTC(1918,11-1,11,11,11,0)),s:null};db.$1o=null;db.$1e=ss.mkdict(['０','0','１','1','２','2','３','3','４','4','５','5','６','6','７','7','８','8','９','9','－','-','．','.','。','.']);db.isO8601DateFormat.format='yyyy-mm-dd';db.isO8601DateFormat.timeFormat='hh:nn';db.isO8601DateTimeFormat.format='yyyy-mm-ddThh:nn';db.isO8601TimeFormat.format='hh:nn';db.$1o=ss.mkdict(['%many-values%',true,'%null%',true,'%error%',true,'%ragged%',true,'%skipped%',true,'%missing%',true,'%all%',true,'%no-access%',true,'%wildcard%',true])})();(function(){de.DS_NORMAL=null;de.DS_NULL='n';de.DS_ALL='a';de.DS_WILDCARD='w';de.DS_SKIPPED='s';de.DS_NOACCESS='p';de.DS_RAGGED='r';de.DS_ERROR='e';de.DS_MISSING='m'})();(function(){dg.FT_QUANTITATIVE='Q';dg.FT_ORDINAL='O';dg.FT_NOMINAL='N';dg.FT_UNKNOWN=null})();(function(){dh.QFD_ALL='all';dh.QFD_CONTEXT='context';dh.QFD_RELEVANT='relevant';dh.QFD_CASCADING='cascading';dh.QFD_CASCADING_CONTEXT='cascading-context'})();(function(){di.QFI_ALL='include-all';di.QFI_NON_NULL='include-non-null';di.QFI_NULL_ONLY='include-null';di.QFI_RANGE='include-range';di.QFI_RANGE_OR_NULL='include-range-or-null'})();(function(){dj.table='t';dj.legend='l';dj.filter='f';dj.currentPage='p';dj.title='i';dj.text='x';dj.bitmap='b';dj.web='w';dj.draw='d';dj.textBlock='k';dj.layoutContainer='c';dj.parameter='a'})()})()}());;
/*! BEGIN Domain */
/** @license React v16.8.6
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
(function(N,q){"object"===typeof exports&&"undefined"!==typeof module?module.exports=q():"function"===typeof define&&define.amd?define(q):N.React=q()})(this,function(){function N(a,b,d,g,p,c,e,h){if(!a){a=void 0;if(void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var n=[d,g,p,c,e,h],f=0;a=Error(b.replace(/%s/g,function(){return n[f++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a}}function q(a){for(var b=arguments.length-1,d="https://reactjs.org/docs/error-decoder.html?invariant="+a,g=0;g<b;g++)d+="&args[]="+encodeURIComponent(arguments[g+1]);N(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",d)}function t(a,b,d){this.props=a;this.context=b;this.refs=ba;this.updater=d||ca}function da(){}function O(a,b,d){this.props=a;this.context=b;this.refs=ba;this.updater=d||ca}function u(){if(!x){var a=c.expirationTime;C?P():C=!0;D(ta,a)}}function Q(){var a=c,b=c.next;if(c===b)c=null;else{var d=c.previous;c=d.next=b;b.previous=d}a.next=a.previous=null;d=a.callback;b=a.expirationTime;a=a.priorityLevel;var g=f,p=E;f=a;E=b;try{var n=d()}finally{f=g,E=p}if("function"===typeof n)if(n={callback:n,priorityLevel:a,expirationTime:b,next:null,previous:null},null===c)c=n.next=n.previous=n;else{d=null;a=c;do{if(a.expirationTime>=b){d=a;break}a=a.next}while(a!==c);null===d?d=c:d===c&&(c=n,u());b=d.previous;b.next=d.previous=n;n.next=d;n.previous=b}}function F(){if(-1===k&&null!==c&&1===c.priorityLevel){x=!0;try{do Q();while(null!==c&&1===c.priorityLevel)}finally{x=!1,null!==c?u():C=!1}}}function ta(a){x=!0;var b=G;G=a;try{if(a)for(;null!==c;){var d=l();if(c.expirationTime<=d){do Q();while(null!==c&&c.expirationTime<=d)}else break}else if(null!==c){do Q();while(null!==c&&!H())}}finally{x=!1,G=b,null!==c?u():C=!1,F()}}function ea(a,b,d){var g=void 0,p={},c=null,e=null;if(null!=b)for(g in void 0!==b.ref&&(e=b.ref),void 0!==b.key&&(c=""+b.key),b)fa.call(b,g)&&!ha.hasOwnProperty(g)&&(p[g]=b[g]);var h=arguments.length-2;if(1===h)p.children=d;else if(1<h){for(var f=Array(h),k=0;k<h;k++)f[k]=arguments[k+2];p.children=f}if(a&&a.defaultProps)for(g in h=a.defaultProps,h)void 0===p[g]&&(p[g]=h[g]);return{$$typeof:y,type:a,key:c,ref:e,props:p,_owner:R.current}}function ua(a,b){return{$$typeof:y,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function S(a){return"object"===typeof a&&null!==a&&a.$$typeof===y}function va(a){var b={"=":"=0",":":"=2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}function ia(a,b,d,g){if(I.length){var c=I.pop();c.result=a;c.keyPrefix=b;c.func=d;c.context=g;c.count=0;return c}return{result:a,keyPrefix:b,func:d,context:g,count:0}}function ja(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>I.length&&I.push(a)}function T(a,b,d,g){var c=typeof a;if("undefined"===c||"boolean"===c)a=null;var e=!1;if(null===a)e=!0;else switch(c){case"string":case"number":e=!0;break;case"object":switch(a.$$typeof){case y:case wa:e=!0}}if(e)return d(g,a,""===b?"."+U(a,0):b),1;e=0;b=""===b?".":b+":";if(Array.isArray(a))for(var f=0;f<a.length;f++){c=a[f];var h=b+U(c,f);e+=T(c,h,d,g)}else if(null===a||"object"!==typeof a?h=null:(h=ka&&a[ka]||a["@@iterator"],h="function"===typeof h?h:null),"function"===typeof h)for(a=h.call(a),f=0;!(c=a.next()).done;)c=c.value,h=b+U(c,f++),e+=T(c,h,d,g);else"object"===c&&(d=""+a,q("31","[object Object]"===d?"object with keys {"+Object.keys(a).join(", ")+"}":d,""));return e}function V(a,b,d){return null==a?0:T(a,"",b,d)}function U(a,b){return"object"===typeof a&&null!==a&&null!=a.key?va(a.key):b.toString(36)}function xa(a,b,d){a.func.call(a.context,b,a.count++)}function ya(a,b,d){var g=a.result,c=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?W(a,g,d,function(a){return a}):null!=a&&(S(a)&&(a=ua(a,c+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(la,"$&/")+"/")+d)),g.push(a))}function W(a,b,d,g,c){var e="";null!=d&&(e=(""+d).replace(la,"$&/")+"/");b=ia(b,e,g,c);V(a,ya,b);ja(b)}function m(){var a=ma.current;null===a?q("321"):void 0;return a}var e="function"===typeof Symbol&&Symbol.for,y=e?Symbol.for("react.element"):60103,wa=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,X=e?Symbol.for("react.strict_mode"):60108,za=e?Symbol.for("react.profiler"):60114,Aa=e?Symbol.for("react.provider"):60109,Ba=e?Symbol.for("react.context"):60110,Ca=e?Symbol.for("react.concurrent_mode"):60111,Da=e?Symbol.for("react.forward_ref"):60112,Ea=e?Symbol.for("react.suspense"):60113,Fa=e?Symbol.for("react.memo"):60115,Ga=e?Symbol.for("react.lazy"):60116,ka="function"===typeof Symbol&&Symbol.iterator,na=Object.getOwnPropertySymbols,Ha=Object.prototype.hasOwnProperty,Ia=Object.prototype.propertyIsEnumerable,J=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var d={};"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},d)).join("")?!1:!0}catch(g){return!1}}()?Object.assign:function(a,b){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var d=Object(a);for(var c,e=1;e<arguments.length;e++){var f=Object(arguments[e]);for(var k in f)Ha.call(f,k)&&(d[k]=f[k]);if(na){c=na(f);for(var h=0;h<c.length;h++)Ia.call(f,c[h])&&(d[c[h]]=f[c[h]])}}return d},ca={isMounted:function(a){return!1},enqueueForceUpdate:function(a,b,d){},enqueueReplaceState:function(a,b,d,c){},enqueueSetState:function(a,b,d,c){}},ba={};t.prototype.isReactComponent={};t.prototype.setState=function(a,b){"object"!==typeof a&&"function"!==typeof a&&null!=a?q("85"):void 0;this.updater.enqueueSetState(this,a,b,"setState")};t.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};da.prototype=t.prototype;e=O.prototype=new da;e.constructor=O;J(e,t.prototype);e.isPureReactComponent=!0;var c=null,G=!1,f=3,k=-1,E=-1,x=!1,C=!1,Ja=Date,Ka="function"===typeof setTimeout?setTimeout:void 0,La="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,pa="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0,qa,ra,Y=function(a){qa=oa(function(b){La(ra);a(b)});ra=Ka(function(){pa(qa);a(l())},100)};if("object"===typeof performance&&"function"===typeof performance.now){var Ma=performance;var l=function(){return Ma.now()}}else l=function(){return Ja.now()};e=null;"undefined"!==typeof window?e=window:"undefined"!==typeof global&&(e=global);if(e&&e._schedMock){e=e._schedMock;var D=e[0];var P=e[1];var H=e[2];l=e[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var v=null,Na=function(a){if(null!==v)try{v(a)}finally{v=null}};D=function(a,b){null!==v?setTimeout(D,0,a):(v=a,setTimeout(Na,0,!1))};P=function(){v=null};H=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof oa&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof pa&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var w=null,K=!1,z=-1,A=!1,Z=!1,L=0,M=33,B=33;H=function(){return L<=l()};e=new MessageChannel;var sa=e.port2;e.port1.onmessage=function(a){K=!1;a=w;var b=z;w=null;z=-1;var d=l(),c=!1;if(0>=L-d)if(-1!==b&&b<=d)c=!0;else{A||(A=!0,Y(aa));w=a;z=b;return}if(null!==a){Z=!0;try{a(c)}finally{Z=!1}}};var aa=function(a){if(null!==w){Y(aa);var b=a-L+B;b<B&&M<B?(8>b&&(b=8),B=b<M?M:b):M=b;L=a+B;K||(K=!0,sa.postMessage(void 0))}else A=!1};D=function(a,b){w=a;z=b;Z||0>b?sa.postMessage(void 0):A||(A=!0,Y(aa))};P=function(){w=null;K=!1;z=-1}}var Oa=0,ma={current:null},R={current:null};e={ReactCurrentDispatcher:ma,ReactCurrentOwner:R,assign:J};J(e,{Scheduler:{unstable_cancelCallback:function(a){var b=a.next;if(null!==b){if(b===a)c=null;else{a===c&&(c=b);var d=a.previous;d.next=b;b.previous=d}a.next=a.previous=null}},unstable_shouldYield:function(){return!G&&(null!==c&&c.expirationTime<E||H())},unstable_now:l,unstable_scheduleCallback:function(a,b){var d=-1!==k?k:l();if("object"===typeof b&&null!==b&&"number"===typeof b.timeout)b=d+b.timeout;else switch(f){case 1:b=d+-1;break;case 2:b=d+250;break;case 5:b=d+1073741823;break;case 4:b=d+1E4;break;default:b=d+5E3}a={callback:a,priorityLevel:f,expirationTime:b,next:null,previous:null};if(null===c)c=a.next=a.previous=a,u();else{d=null;var g=c;do{if(g.expirationTime>b){d=g;break}g=g.next}while(g!==c);null===d?d=c:d===c&&(c=a,u());b=d.previous;b.next=d.previous=a;a.next=d;a.previous=b}return a},unstable_runWithPriority:function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var d=f,c=k;f=a;k=l();try{return b()}finally{f=d,k=c,F()}},unstable_next:function(a){switch(f){case 1:case 2:case 3:var b=3;break;default:b=f}var d=f,c=k;f=b;k=l();try{return a()}finally{f=d,k=c,F()}},unstable_wrapCallback:function(a){var b=f;return function(){var d=f,c=k;f=b;k=l();try{return a.apply(this,arguments)}finally{f=d,k=c,F()}}},unstable_getFirstCallbackNode:function(){return c},unstable_pauseExecution:function(){},unstable_continueExecution:function(){null!==c&&u()},unstable_getCurrentPriorityLevel:function(){return f},unstable_IdlePriority:5,unstable_ImmediatePriority:1,unstable_LowPriority:4,unstable_NormalPriority:3,unstable_UserBlockingPriority:2},SchedulerTracing:{__interactionsRef:null,__subscriberRef:null,unstable_clear:function(a){return a()},unstable_getCurrent:function(){return null},unstable_getThreadID:function(){return++Oa},unstable_subscribe:function(a){},unstable_trace:function(a,b,d){return d()},unstable_unsubscribe:function(a){},unstable_wrap:function(a){return a}}});var fa=Object.prototype.hasOwnProperty,ha={key:!0,ref:!0,__self:!0,__source:!0},la=/\/+/g,I=[];r={Children:{map:function(a,b,d){if(null==a)return a;var c=[];W(a,c,null,b,d);return c},forEach:function(a,b,d){if(null==a)return a;b=ia(null,null,b,d);V(a,xa,b);ja(b)},count:function(a){return V(a,function(){return null},null)},toArray:function(a){var b=[];W(a,b,null,function(a){return a});return b},only:function(a){S(a)?void 0:q("143");return a}},createRef:function(){return{current:null}},Component:t,PureComponent:O,createContext:function(a,b){void 0===b&&(b=null);a={$$typeof:Ba,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:Aa,_context:a};return a.Consumer=a},forwardRef:function(a){return{$$typeof:Da,render:a}},lazy:function(a){return{$$typeof:Ga,_ctor:a,_status:-1,_result:null}},memo:function(a,b){return{$$typeof:Fa,type:a,compare:void 0===b?null:b}},useCallback:function(a,b){return m().useCallback(a,b)},useContext:function(a,b){return m().useContext(a,b)},useEffect:function(a,b){return m().useEffect(a,b)},useImperativeHandle:function(a,b,d){return m().useImperativeHandle(a,b,d)},useDebugValue:function(a,b){},useLayoutEffect:function(a,b){return m().useLayoutEffect(a,b)},useMemo:function(a,b){return m().useMemo(a,b)},useReducer:function(a,b,d){return m().useReducer(a,b,d)},useRef:function(a){return m().useRef(a)},useState:function(a){return m().useState(a)},Fragment:r,StrictMode:X,Suspense:Ea,createElement:ea,cloneElement:function(a,b,d){null===a||void 0===a?q("267",a):void 0;var c=void 0,e=J({},a.props),f=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=R.current);void 0!==b.key&&(f=""+b.key);var l=void 0;a.type&&a.type.defaultProps&&(l=a.type.defaultProps);for(c in b)fa.call(b,c)&&!ha.hasOwnProperty(c)&&(e[c]=void 0===b[c]&&void 0!==l?l[c]:b[c])}c=arguments.length-2;if(1===c)e.children=d;else if(1<c){l=Array(c);for(var m=0;m<c;m++)l[m]=arguments[m+2];e.children=l}return{$$typeof:y,type:a.type,key:f,ref:k,props:e,_owner:h}},createFactory:function(a){var b=ea.bind(null,a);b.type=a;return b},isValidElement:S,version:"16.8.6",unstable_ConcurrentMode:Ca,unstable_Profiler:za,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:e};r=(X={default:r},r)||X;return r.default||r});
/** @license React v16.8.6
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(da,pb){"object"===typeof exports&&"undefined"!==typeof module?module.exports=pb(require("react")):"function"===typeof define&&define.amd?define(["react"],pb):da.ReactDOM=pb(da.React)})(this,function(da){function pb(a,b,c,d,e,f,g,h){if(!a){a=void 0;if(void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[c,d,e,f,g,h],k=0;a=Error(b.replace(/%s/g,function(){return l[k++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a}}function n(a){for(var b=arguments.length-1,c="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=0;d<b;d++)c+="&args[]="+encodeURIComponent(arguments[d+1]);pb(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",c)}function rh(a,b,c,d,e,f,g,h,l){qb=!1;$b=null;sh.apply(th,arguments)}function uh(a,b,c,d,e,f,g,h,l){rh.apply(this,arguments);if(qb){if(qb){var k=$b;qb=!1;$b=null}else n("198"),k=void 0;ac||(ac=!0,Yc=k)}}function Ee(){if(bc)for(var a in Na){var b=Na[a],c=bc.indexOf(a);-1<c?void 0:n("96",a);if(!cc[c]){b.extractEvents?void 0:n("97",a);cc[c]=b;c=b.eventTypes;for(var d in c){var e=void 0;var f=c[d],g=b,h=d;Zc.hasOwnProperty(h)?n("99",h):void 0;Zc[h]=f;var l=f.phasedRegistrationNames;if(l){for(e in l)l.hasOwnProperty(e)&&Fe(l[e],g,h);e=!0}else f.registrationName?(Fe(f.registrationName,g,h),e=!0):e=!1;e?void 0:n("98",d,a)}}}}function Fe(a,b,c){Oa[a]?n("100",a):void 0;Oa[a]=b;$c[a]=b.eventTypes[c].dependencies}function Ge(a,b,c){var d=a.type||"unknown-event";a.currentTarget=He(c);uh(d,b,void 0,a);a.currentTarget=null}function Pa(a,b){null==b?n("30"):void 0;if(null==a)return b;if(Array.isArray(a)){if(Array.isArray(b))return a.push.apply(a,b),a;a.push(b);return a}return Array.isArray(b)?[a].concat(b):[a,b]}function ad(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}function Ie(a,b){var c=a.stateNode;if(!c)return null;var d=bd(c);if(!d)return null;c=d[b];a:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(d=!d.disabled)||(a=a.type,d=!("button"===a||"input"===a||"select"===a||"textarea"===a));a=!d;break a;default:a=!1}if(a)return null;c&&"function"!==typeof c?n("231",b,typeof c):void 0;return c}function cd(a){null!==a&&(rb=Pa(rb,a));a=rb;rb=null;if(a&&(ad(a,vh),rb?n("95"):void 0,ac))throw a=Yc,ac=!1,Yc=null,a}function dc(a){if(a[ea])return a[ea];for(;!a[ea];)if(a.parentNode)a=a.parentNode;else return null;a=a[ea];return 5===a.tag||6===a.tag?a:null}function Je(a){a=a[ea];return!a||5!==a.tag&&6!==a.tag?null:a}function Da(a){if(5===a.tag||6===a.tag)return a.stateNode;n("33")}function dd(a){return a[ec]||null}function fa(a){do a=a.return;while(a&&5!==a.tag);return a?a:null}function Ke(a,b,c){if(b=Ie(a,c.dispatchConfig.phasedRegistrationNames[b]))c._dispatchListeners=Pa(c._dispatchListeners,b),c._dispatchInstances=Pa(c._dispatchInstances,a)}function wh(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var b=a._targetInst,c=[];b;)c.push(b),b=fa(b);for(b=c.length;0<b--;)Ke(c[b],"captured",a);for(b=0;b<c.length;b++)Ke(c[b],"bubbled",a)}}function ed(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Ie(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=Pa(c._dispatchListeners,b),c._dispatchInstances=Pa(c._dispatchInstances,a))}function xh(a){a&&a.dispatchConfig.registrationName&&ed(a._targetInst,null,a)}function Qa(a){ad(a,wh)}function fc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c["Webkit"+a]="webkit"+b;c["Moz"+a]="moz"+b;return c}function gc(a){if(fd[a])return fd[a];if(!Ra[a])return a;var b=Ra[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Le)return fd[a]=b[c];return a}function Me(){if(hc)return hc;var a,b=gd,c=b.length,d,e="value"in qa?qa.value:qa.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return hc=e.slice(a,1<d?1-d:void 0)}function ic(){return!0}function jc(){return!1}function J(a,b,c,d){this.dispatchConfig=a;this._targetInst=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):"target"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?ic:jc;this.isPropagationStopped=jc;return this}function yh(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();this.call(e,a,b,c,d);return e}return new this(a,b,c,d)}function zh(a){a instanceof this?void 0:n("279");a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}function Ne(a){a.eventPool=[];a.getPooled=yh;a.release=zh}function Oe(a,b){switch(a){case"keyup":return-1!==Ah.indexOf(b.keyCode);case"keydown":return 229!==b.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Pe(a){a=a.detail;return"object"===typeof a&&"data"in a?a.data:null}function Bh(a,b){switch(a){case"compositionend":return Pe(b);case"keypress":if(32!==b.which)return null;Qe=!0;return Re;case"textInput":return a=b.data,a===Re&&Qe?null:a;default:return null}}function Ch(a,b){if(Sa)return"compositionend"===a||!hd&&Oe(a,b)?(a=Me(),hc=gd=qa=null,Sa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return Se&&"ko"!==b.locale?null:b.data;default:return null}}function Te(a){if(a=Ue(a)){"function"!==typeof id?n("280"):void 0;var b=bd(a.stateNode);id(a.stateNode,a.type,b)}}function Ve(a){Ta?Ua?Ua.push(a):Ua=[a]:Ta=a}function We(){if(Ta){var a=Ta,b=Ua;Ua=Ta=null;Te(a);if(b)for(a=0;a<b.length;a++)Te(b[a])}}function Xe(a,b){if(jd)return a(b);jd=!0;try{return Ye(a,b)}finally{if(jd=!1,null!==Ta||null!==Ua)Ze(),We()}}function $e(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!Dh[a.type]:"textarea"===b?!0:!1}function kd(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}function af(a){if(!ra)return!1;a="on"+a;var b=a in document;b||(b=document.createElement("div"),b.setAttribute(a,"return;"),b="function"===typeof b[a]);return b}function bf(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function Eh(a){var b=bf(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=""+a[b];if(!a.hasOwnProperty(b)&&"undefined"!==typeof c&&"function"===typeof c.get&&"function"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=""+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=null;delete a[b]}}}}function kc(a){a._valueTracker||(a._valueTracker=Eh(a))}function cf(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d="";a&&(d=bf(a)?a.checked?"true":"false":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function sb(a){if(null===a||"object"!==typeof a)return null;a=df&&a[df]||a["@@iterator"];return"function"===typeof a?a:null}function sa(a){if(null==a)return null;if("function"===typeof a)return a.displayName||a.name||null;if("string"===typeof a)return a;switch(a){case ld:return"ConcurrentMode";case ta:return"Fragment";case Va:return"Portal";case lc:return"Profiler";case md:return"StrictMode";case nd:return"Suspense"}if("object"===typeof a)switch(a.$$typeof){case ef:return"Context.Consumer";case ff:return"Context.Provider";case od:var b=a.render;b=b.displayName||b.name||"";return a.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case pd:return sa(a.type);case gf:if(a=1===a._status?a._result:null)return sa(a)}return null}function qd(a){var b="";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c="";break a;default:var d=a._debugOwner,e=a._debugSource,f=sa(a.type);c=null;d&&(c=sa(d.type));d=f;f="";e?f=" (at "+e.fileName.replace(Fh,"")+":"+e.lineNumber+")":c&&(f=" (created by "+c+")");c="\n    in "+(d||"Unknown")+f}b+=c;a=a.return}while(a);return b}function Gh(a){if(hf.call(jf,a))return!0;if(hf.call(kf,a))return!1;if(Hh.test(a))return jf[a]=!0;kf[a]=!0;return!1}function Ih(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return"data-"!==a&&"aria-"!==a;default:return!1}}function Jh(a,b,c,d){if(null===b||"undefined"===typeof b||Ih(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function K(a,b,c,d,e){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b}function rd(a,b,c,d){var e=A.hasOwnProperty(b)?A[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||"o"!==b[0]&&"O"!==b[0]||"n"!==b[1]&&"N"!==b[1]?!1:!0;f||(Jh(b,c,e,d)&&(c=null),d||null===e?Gh(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:"":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}function ua(a){switch(typeof a){case"boolean":case"number":case"object":case"string":case"undefined":return a;default:return""}}function sd(a,b){var c=b.checked;return B({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function lf(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=ua(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function mf(a,b){b=b.checked;null!=b&&rd(a,"checked",b,!1)}function td(a,b){mf(a,b);var c=ua(b.value),d=b.type;if(null!=c)if("number"===d){if(0===c&&""===a.value||a.value!=c)a.value=""+c}else a.value!==""+c&&(a.value=""+c);else if("submit"===d||"reset"===d){a.removeAttribute("value");return}b.hasOwnProperty("value")?ud(a,b.type,c):b.hasOwnProperty("defaultValue")&&ud(a,b.type,ua(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function nf(a,b,c){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var d=b.type;if(!("submit"!==d&&"reset"!==d||void 0!==b.value&&null!==b.value))return;b=""+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;""!==c&&(a.name="");a.defaultChecked=!a.defaultChecked;a.defaultChecked=!!a._wrapperState.initialChecked;""!==c&&(a.name=c)}function ud(a,b,c){if("number"!==b||a.ownerDocument.activeElement!==a)null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c)}function of(a,b,c){a=J.getPooled(pf.change,a,b,c);a.type="change";Ve(c);Qa(a);return a}function Kh(a){cd(a)}function mc(a){var b=Da(a);if(cf(b))return a}function Lh(a,b){if("change"===a)return b}function qf(){tb&&(tb.detachEvent("onpropertychange",rf),ub=tb=null)}function rf(a){"value"===a.propertyName&&mc(ub)&&(a=of(ub,a,kd(a)),Xe(Kh,a))}function Mh(a,b,c){"focus"===a?(qf(),tb=b,ub=c,tb.attachEvent("onpropertychange",rf)):"blur"===a&&qf()}function Nh(a,b){if("selectionchange"===a||"keyup"===a||"keydown"===a)return mc(ub)}function Oh(a,b){if("click"===a)return mc(b)}function Ph(a,b){if("input"===a||"change"===a)return mc(b)}function Qh(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Rh[a])?!!b[a]:!1}function vd(a){return Qh}function Ea(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}function vb(a,b){if(Ea(a,b))return!0;if("object"!==typeof a||null===a||"object"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Sh.call(b,c[d])||!Ea(a[c[d]],b[c[d]]))return!1;return!0}function wb(a){var b=a;if(a.alternate)for(;b.return;)b=b.return;else{if(0!==(b.effectTag&2))return 1;for(;b.return;)if(b=b.return,0!==(b.effectTag&2))return 1}return 3===b.tag?2:3}function sf(a){2!==wb(a)?n("188"):void 0}function Th(a){var b=a.alternate;if(!b)return b=wb(a),3===b?n("188"):void 0,1===b?null:a;for(var c=a,d=b;;){var e=c.return,f=e?e.alternate:null;if(!e||!f)break;if(e.child===f.child){for(var g=e.child;g;){if(g===c)return sf(e),a;if(g===d)return sf(e),b;g=g.sibling}n("188")}if(c.return!==d.return)c=e,d=f;else{g=!1;for(var h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}g?void 0:n("189")}}c.alternate!==d?n("190"):void 0}3!==c.tag?n("188"):void 0;return c.stateNode.current===c?a:b}function tf(a){a=Th(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}function nc(a){var b=a.keyCode;"charCode"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function uf(a,b){var c=a[0];a=a[1];var d="on"+(a[0].toUpperCase()+a.slice(1));b={phasedRegistrationNames:{bubbled:d,captured:d+"Capture"},dependencies:[c],isInteractive:b};vf[a]=b;wd[c]=b}function Uh(a){var b=a.targetInst,c=b;do{if(!c){a.ancestors.push(c);break}var d;for(d=c;d.return;)d=d.return;d=3!==d.tag?null:d.stateNode.containerInfo;if(!d)break;a.ancestors.push(c);c=dc(d)}while(c);for(c=0;c<a.ancestors.length;c++){b=a.ancestors[c];var e=kd(a.nativeEvent);d=a.topLevelType;for(var f=a.nativeEvent,g=null,h=0;h<cc.length;h++){var l=cc[h];l&&(l=l.extractEvents(d,b,f,e))&&(g=Pa(g,l))}cd(g)}}function r(a,b){if(!b)return null;var c=(wf(a)?xf:oc).bind(null,a);b.addEventListener(a,c,!1)}function pc(a,b){if(!b)return null;var c=(wf(a)?xf:oc).bind(null,a);b.addEventListener(a,c,!0)}function xf(a,b){yf(oc,a,b)}function oc(a,b){if(qc){var c=kd(b);c=dc(c);null===c||"number"!==typeof c.tag||2===wb(c)||(c=null);if(rc.length){var d=rc.pop();d.topLevelType=a;d.nativeEvent=b;d.targetInst=c;a=d}else a={topLevelType:a,nativeEvent:b,targetInst:c,ancestors:[]};try{Xe(Uh,a)}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,10>rc.length&&rc.push(a)}}}function zf(a){Object.prototype.hasOwnProperty.call(a,sc)||(a[sc]=Vh++,Af[a[sc]]={});return Af[a[sc]]}function xd(a){a=a||("undefined"!==typeof document?document:void 0);if("undefined"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function Bf(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Cf(a,b){var c=Bf(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Bf(c)}}function Df(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Df(a,b.parentNode):"contains"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}function Ef(){for(var a=window,b=xd();b instanceof a.HTMLIFrameElement;){try{var c="string"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=xd(a.document)}return b}function yd(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===a.contentEditable)}function Wh(){var a=Ef();if(yd(a)){if("selectionStart"in a)var b={start:a.selectionStart,end:a.selectionEnd};else a:{b=(b=a.ownerDocument)&&b.defaultView||window;var c=b.getSelection&&b.getSelection();if(c&&0!==c.rangeCount){b=c.anchorNode;var d=c.anchorOffset,e=c.focusNode;c=c.focusOffset;try{b.nodeType,e.nodeType}catch(cj){b=null;break a}var f=0,g=-1,h=-1,l=0,k=0,m=a,n=null;b:for(;;){for(var p;;){m!==b||0!==d&&3!==m.nodeType||(g=f+d);m!==e||0!==c&&3!==m.nodeType||(h=f+c);3===m.nodeType&&(f+=m.nodeValue.length);if(null===(p=m.firstChild))break;n=m;m=p}for(;;){if(m===a)break b;n===b&&++l===d&&(g=f);n===e&&++k===c&&(h=f);if(null!==(p=m.nextSibling))break;m=n;n=m.parentNode}m=p}b=-1===g||-1===h?null:{start:g,end:h}}else b=null}b=b||{start:0,end:0}}else b=null;return{focusedElem:a,selectionRange:b}}function Xh(a){var b=Ef(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Df(c.ownerDocument.documentElement,c)){if(null!==d&&yd(c))if(b=d.start,a=d.end,void 0===a&&(a=b),"selectionStart"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Cf(c,f);var g=Cf(c,d);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});"function"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}function Gf(a,b){var c=b.window===b?b.document:9===b.nodeType?b:b.ownerDocument;if(zd||null==Wa||Wa!==xd(c))return null;c=Wa;"selectionStart"in c&&yd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset});return xb&&vb(xb,c)?null:(xb=c,a=J.getPooled(Hf.select,Ad,a,b),a.type="select",a.target=Wa,Qa(a),a)}function Yh(a){var b="";da.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function Bd(a,b){a=B({children:void 0},b);if(b=Yh(b.children))a.children=b;return a}function Xa(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=""+ua(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function Cd(a,b){null!=b.dangerouslySetInnerHTML?n("91"):void 0;return B({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function If(a,b){var c=b.value;null==c&&(c=b.defaultValue,b=b.children,null!=b&&(null!=c?n("92"):void 0,Array.isArray(b)&&(1>=b.length?void 0:n("93"),b=b[0]),c=b),null==c&&(c=""));a._wrapperState={initialValue:ua(c)}}function Jf(a,b){var c=ua(b.value),d=ua(b.defaultValue);null!=c&&(c=""+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=""+d)}function Kf(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dd(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?Kf(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}function Lf(a,b,c){return null==b||"boolean"===typeof b||""===b?"":c||"number"!==typeof b||0===b||yb.hasOwnProperty(a)&&yb[a]?(""+b).trim():b+"px"}function Mf(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf("--"),e=Lf(c,b[c],d);"float"===c&&(c="cssFloat");d?a.setProperty(c,e):a[c]=e}}function Ed(a,b){b&&(Zh[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML?n("137",a,""):void 0),null!=b.dangerouslySetInnerHTML&&(null!=b.children?n("60"):void 0,"object"===typeof b.dangerouslySetInnerHTML&&"__html"in b.dangerouslySetInnerHTML?void 0:n("61")),null!=b.style&&"object"!==typeof b.style?n("62",""):void 0)}function Fd(a,b){if(-1===a.indexOf("-"))return"string"===typeof b.is;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ha(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=zf(a);b=$c[b];for(var d=0;d<b.length;d++){var e=b[d];if(!c.hasOwnProperty(e)||!c[e]){switch(e){case"scroll":pc("scroll",a);break;case"focus":case"blur":pc("focus",a);pc("blur",a);c.blur=!0;c.focus=!0;break;case"cancel":case"close":af(e)&&pc(e,a);break;case"invalid":case"submit":case"reset":break;default:-1===zb.indexOf(e)&&r(e,a)}c[e]=!0}}}function tc(){}function Nf(a,b){switch(a){case"button":case"input":case"select":case"textarea":return!!b.autoFocus}return!1}function Gd(a,b){return"textarea"===a||"option"===a||"noscript"===a||"string"===typeof b.children||"number"===typeof b.children||"object"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}function $h(a,b,c,d,e,f){a[ec]=e;"input"===c&&"radio"===e.type&&null!=e.name&&mf(a,e);Fd(c,d);d=Fd(c,e);for(f=0;f<b.length;f+=2){var g=b[f],h=b[f+1];"style"===g?Mf(a,h):"dangerouslySetInnerHTML"===g?Of(a,h):"children"===g?Ab(a,h):rd(a,g,h,d)}switch(c){case"input":td(a,e);break;case"textarea":Jf(a,e);break;case"select":b=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!e.multiple,c=e.value,null!=c?Xa(a,!!e.multiple,c,!1):b!==!!e.multiple&&(null!=e.defaultValue?Xa(a,!!e.multiple,e.defaultValue,!0):Xa(a,!!e.multiple,e.multiple?[]:"",!1))}}function Hd(a){for(a=a.nextSibling;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}function Pf(a){for(a=a.firstChild;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}function D(a,b){0>Ya||(a.current=Id[Ya],Id[Ya]=null,Ya--)}function L(a,b,c){Ya++;Id[Ya]=a.current;a.current=b}function Za(a,b){var c=a.type.contextTypes;if(!c)return va;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function E(a){a=a.childContextTypes;return null!==a&&void 0!==a}function uc(a){D(M,a);D(F,a)}function Jd(a){D(M,a);D(F,a)}function Qf(a,b,c){F.current!==va?n("168"):void 0;L(F,b,a);L(M,c,a)}function Rf(a,b,c){var d=a.stateNode;a=b.childContextTypes;if("function"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)e in a?void 0:n("108",sa(b)||"Unknown",e);return B({},c,d)}function vc(a){var b=a.stateNode;b=b&&b.__reactInternalMemoizedMergedChildContext||va;Fa=F.current;L(F,b,a);L(M,M.current,a);return!0}function Sf(a,b,c){var d=a.stateNode;d?void 0:n("169");c?(b=Rf(a,b,Fa),d.__reactInternalMemoizedMergedChildContext=b,D(M,a),D(F,a),L(F,b,a)):D(M,a);L(M,c,a)}function Tf(a){return function(b){try{return a(b)}catch(c){}}}function ai(a){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);Kd=Tf(function(a){return b.onCommitFiberRoot(c,a)});Ld=Tf(function(a){return b.onCommitFiberUnmount(c,a)})}catch(d){}return!0}function bi(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function Md(a){a=a.prototype;return!(!a||!a.isReactComponent)}function ci(a){if("function"===typeof a)return Md(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===od)return 11;if(a===pd)return 14}return 2}function Ga(a,b,c){c=a.alternate;null===c?(c=S(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.effectTag=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childExpirationTime=a.childExpirationTime;c.expirationTime=a.expirationTime;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;c.contextDependencies=a.contextDependencies;c.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}function wc(a,b,c,d,e,f){var g=2;d=a;if("function"===typeof a)Md(a)&&(g=1);else if("string"===typeof a)g=5;else a:switch(a){case ta:return wa(c.children,e,f,b);case ld:return Uf(c,e|3,f,b);case md:return Uf(c,e|2,f,b);case lc:return a=S(12,c,b,e|4),a.elementType=lc,a.type=lc,a.expirationTime=f,a;case nd:return a=S(13,c,b,e),b=nd,a.elementType=b,a.type=b,a.expirationTime=f,a;default:if("object"===typeof a&&null!==a)switch(a.$$typeof){case ff:g=10;break a;case ef:g=9;break a;case od:g=11;break a;case pd:g=14;break a;case gf:g=16;d=null;break a}n("130",null==a?a:typeof a,"")}b=S(g,c,b,e);b.elementType=a;b.type=d;b.expirationTime=f;return b}function wa(a,b,c,d){a=S(7,a,d,b);a.expirationTime=c;return a}function Uf(a,b,c,d){a=S(8,a,d,b);b=0===(b&1)?md:ld;a.elementType=b;a.type=b;a.expirationTime=c;return a}function Nd(a,b,c){a=S(6,a,null,b);a.expirationTime=c;return a}function Od(a,b,c){b=S(4,null!==a.children?a.children:[],a.key,b);b.expirationTime=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}function Bb(a,b){a.didError=!1;var c=a.earliestPendingTime;0===c?a.earliestPendingTime=a.latestPendingTime=b:c<b?a.earliestPendingTime=b:a.latestPendingTime>b&&(a.latestPendingTime=b);xc(b,a)}function di(a,b){a.didError=!1;if(0===b)a.earliestPendingTime=0,a.latestPendingTime=0,a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=0;else{b<a.latestPingedTime&&(a.latestPingedTime=0);var c=a.latestPendingTime;0!==c&&(c>b?a.earliestPendingTime=a.latestPendingTime=0:a.earliestPendingTime>b&&(a.earliestPendingTime=a.latestPendingTime));c=a.earliestSuspendedTime;0===c?Bb(a,b):b<a.latestSuspendedTime?(a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=0,Bb(a,b)):b>c&&Bb(a,b)}xc(0,a)}function Vf(a,b){a.didError=!1;a.latestPingedTime>=b&&(a.latestPingedTime=0);var c=a.earliestPendingTime,d=a.latestPendingTime;c===b?a.earliestPendingTime=d===b?a.latestPendingTime=0:d:d===b&&(a.latestPendingTime=c);c=a.earliestSuspendedTime;d=a.latestSuspendedTime;0===c?a.earliestSuspendedTime=a.latestSuspendedTime=b:c<b?a.earliestSuspendedTime=b:d>b&&(a.latestSuspendedTime=b);xc(b,a)}function Wf(a,b){var c=a.earliestPendingTime;a=a.earliestSuspendedTime;c>b&&(b=c);a>b&&(b=a);return b}function xc(a,b){var c=b.earliestSuspendedTime,d=b.latestSuspendedTime,e=b.earliestPendingTime,f=b.latestPingedTime;e=0!==e?e:f;0===e&&(0===a||d<a)&&(e=d);a=e;0!==a&&c>a&&(a=c);b.nextExpirationTimeToWorkOn=e;b.expirationTime=a}function P(a,b){if(a&&a.defaultProps){b=B({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c])}return b}function ei(a){var b=a._result;switch(a._status){case 1:return b;case 2:throw b;case 0:throw b;default:a._status=0;b=a._ctor;b=b();b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)});switch(a._status){case 1:return a._result;case 2:throw a._result}a._result=b;throw b}}function yc(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:B({},b,c);a.memoizedState=c;d=a.updateQueue;null!==d&&0===a.expirationTime&&(d.baseState=c)}function Xf(a,b,c,d,e,f,g){a=a.stateNode;return"function"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!vb(c,d)||!vb(e,f):!0}function Yf(a,b,c,d){var e=!1;d=va;var f=b.contextType;"object"===typeof f&&null!==f?f=T(f):(d=E(b)?Fa:F.current,e=b.contextTypes,f=(e=null!==e&&void 0!==e)?Za(a,d):va);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=zc;a.stateNode=b;b._reactInternalFiber=a;e&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=d,a.__reactInternalMemoizedMaskedChildContext=f);return b}function Zf(a,b,c,d){a=b.state;"function"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);"function"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&zc.enqueueReplaceState(b,b.state,null)}function Pd(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=$f;var f=b.contextType;"object"===typeof f&&null!==f?e.context=T(f):(f=E(b)?Fa:F.current,e.context=Za(a,f));f=a.updateQueue;null!==f&&(Cb(a,f,c,e,d),e.state=a.memoizedState);f=b.getDerivedStateFromProps;"function"===typeof f&&(yc(a,b,f,c),e.state=a.memoizedState);"function"===typeof b.getDerivedStateFromProps||"function"===typeof e.getSnapshotBeforeUpdate||"function"!==typeof e.UNSAFE_componentWillMount&&"function"!==typeof e.componentWillMount||(b=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&zc.enqueueReplaceState(e,e.state,null),f=a.updateQueue,null!==f&&(Cb(a,f,c,e,d),e.state=a.memoizedState));"function"===typeof e.componentDidMount&&(a.effectTag|=4)}function Db(a,b,c){a=c.ref;if(null!==a&&"function"!==typeof a&&"object"!==typeof a){if(c._owner){c=c._owner;var d=void 0;c&&(1!==c.tag?n("309"):void 0,d=c.stateNode);d?void 0:n("147",a);var e=""+a;if(null!==b&&null!==b.ref&&"function"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===$f&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}"string"!==typeof a?n("284"):void 0;c._owner?void 0:n("290",a)}return a}function Ac(a,b){"textarea"!==a.type&&n("31","[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+"}":b,"")}function ag(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b,c){a=Ga(a,b,c);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.effectTag=2,c):d;b.effectTag=2;return c}function g(b){a&&null===b.alternate&&(b.effectTag=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Nd(c,a.mode,d),b.return=a,b;b=e(b,c,d);b.return=a;return b}function l(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props,d),d.ref=Db(a,b,c),d.return=a,d;d=wc(c.type,c.key,c.props,null,a.mode,d);d.ref=Db(a,b,c);d.return=a;return d}function k(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Od(c,a.mode,d),b.return=a,b;b=e(b,c.children||[],d);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=wa(c,a.mode,d,f),b.return=a,b;b=e(b,c,d);b.return=a;return b}function Ff(a,b,c){if("string"===typeof b||"number"===typeof b)return b=Nd(""+b,a.mode,c),b.return=a,b;if("object"===typeof b&&null!==b){switch(b.$$typeof){case Bc:return c=wc(b.type,b.key,b.props,null,a.mode,c),c.ref=Db(a,null,b),c.return=a,c;case Va:return b=Od(b,a.mode,c),b.return=a,b}if(Cc(b)||sb(b))return b=wa(b,a.mode,c,null),b.return=a,b;Ac(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if("string"===typeof c||"number"===typeof c)return null!==e?null:h(a,b,""+c,d);if("object"===typeof c&&null!==c){switch(c.$$typeof){case Bc:return c.key===e?c.type===ta?m(a,b,c.props.children,d,e):l(a,b,c,d):null;case Va:return c.key===e?k(a,b,c,d):null}if(Cc(c)||sb(c))return null!==e?null:m(a,b,c,d,null);Ac(a,c)}return null}function r(a,b,c,d,e){if("string"===typeof d||"number"===typeof d)return a=a.get(c)||null,h(b,a,""+d,e);if("object"===typeof d&&null!==d){switch(d.$$typeof){case Bc:return a=a.get(null===d.key?c:d.key)||null,d.type===ta?m(b,a,d.props.children,e,d.key):l(b,a,d,e);case Va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e)}if(Cc(d)||sb(d))return a=a.get(c)||null,m(b,a,d,e,null);Ac(b,d)}return null}function u(e,g,h,k){for(var l=null,m=null,n=g,q=g=0,v=null;null!==n&&q<h.length;q++){n.index>q?(v=n,n=null):v=n.sibling;var Q=p(e,n,h[q],k);if(null===Q){null===n&&(n=v);break}a&&n&&null===Q.alternate&&b(e,n);g=f(Q,g,q);null===m?l=Q:m.sibling=Q;m=Q;n=v}if(q===h.length)return c(e,n),l;if(null===n){for(;q<h.length;q++)if(n=Ff(e,h[q],k))g=f(n,g,q),null===m?l=n:m.sibling=n,m=n;return l}for(n=d(e,n);q<h.length;q++)if(v=r(n,e,q,h[q],k))a&&null!==v.alternate&&n.delete(null===v.key?q:v.key),g=f(v,g,q),null===m?l=v:m.sibling=v,m=v;a&&n.forEach(function(a){return b(e,a)});return l}function x(e,g,h,k){var l=sb(h);"function"!==typeof l?n("150"):void 0;h=l.call(h);null==h?n("151"):void 0;for(var m=l=null,q=g,v=g=0,Q=null,t=h.next();null!==q&&!t.done;v++,t=h.next()){q.index>v?(Q=q,q=null):Q=q.sibling;var u=p(e,q,t.value,k);if(null===u){q||(q=Q);break}a&&q&&null===u.alternate&&b(e,q);g=f(u,g,v);null===m?l=u:m.sibling=u;m=u;q=Q}if(t.done)return c(e,q),l;if(null===q){for(;!t.done;v++,t=h.next())t=Ff(e,t.value,k),null!==t&&(g=f(t,g,v),null===m?l=t:m.sibling=t,m=t);return l}for(q=d(e,q);!t.done;v++,t=h.next())t=r(q,e,v,t.value,k),null!==t&&(a&&null!==t.alternate&&q.delete(null===t.key?v:t.key),g=f(t,g,v),null===m?l=t:m.sibling=t,m=t);a&&q.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k="object"===typeof f&&null!==f&&f.type===ta&&null===f.key;k&&(f=f.props.children);var l="object"===typeof f&&null!==f;if(l)switch(f.$$typeof){case Bc:a:{l=f.key;for(k=d;null!==k;){if(k.key===l)if(7===k.tag?f.type===ta:k.elementType===f.type){c(a,k.sibling);d=e(k,f.type===ta?f.props.children:f.props,h);d.ref=Db(a,k,f);d.return=a;a=d;break a}else{c(a,k);break}else b(a,k);k=k.sibling}f.type===ta?(d=wa(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=wc(f.type,f.key,f.props,null,a.mode,h),h.ref=Db(a,d,f),h.return=a,a=h)}return g(a);case Va:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[],h);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Od(f,a.mode,h);d.return=a;a=d}return g(a)}if("string"===typeof f||"number"===typeof f)return f=""+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f,h),d.return=a,a=d):(c(a,d),d=Nd(f,a.mode,h),d.return=a,a=d),g(a);if(Cc(f))return u(a,d,f,h);if(sb(f))return x(a,d,f,h);l&&Ac(a,f);if("undefined"===typeof f&&!k)switch(a.tag){case 1:case 0:h=a.type,n("152",h.displayName||h.name||"Component")}return c(a,d)}}function Ha(a){a===Eb?n("174"):void 0;return a}function Qd(a,b){L(Fb,b,a);L(Gb,a,a);L(U,Eb,a);var c=b.nodeType;switch(c){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:Dd(null,"");break;default:c=8===c?b.parentNode:b,b=c.namespaceURI||null,c=c.tagName,b=Dd(b,c)}D(U,a);L(U,b,a)}function $a(a){D(U,a);D(Gb,a);D(Fb,a)}function bg(a){Ha(Fb.current);var b=Ha(U.current);var c=Dd(b,a.type);b!==c&&(L(Gb,a,a),L(U,c,a))}function Rd(a){Gb.current===a&&(D(U,a),D(Gb,a))}function V(){n("321")}function Sd(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!Ea(a[c],b[c]))return!1;return!0}function Td(a,b,c,d,e,f){Hb=f;xa=b;W=null!==a?a.memoizedState:null;Dc.current=null===W?fi:cg;b=c(d,e);if(Ib){do Ib=!1,Jb+=1,W=null!==a?a.memoizedState:null,ab=bb,X=G=y=null,Dc.current=cg,b=c(d,e);while(Ib);ia=null;Jb=0}Dc.current=Ud;a=xa;a.memoizedState=bb;a.expirationTime=Kb;a.updateQueue=X;a.effectTag|=Lb;a=null!==y&&null!==y.next;Hb=0;ab=G=bb=W=y=xa=null;Kb=0;X=null;Lb=0;a?n("300"):void 0;return b}function Vd(){Dc.current=Ud;Hb=0;ab=G=bb=W=y=xa=null;Kb=0;X=null;Lb=0;Ib=!1;ia=null;Jb=0}function cb(){var a={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};null===G?bb=G=a:G=G.next=a;return G}function Mb(){if(null!==ab)G=ab,ab=G.next,y=W,W=null!==y?y.next:null;else{null===W?n("310"):void 0;y=W;var a={memoizedState:y.memoizedState,baseState:y.baseState,queue:y.queue,baseUpdate:y.baseUpdate,next:null};G=null===G?bb=a:G.next=a;W=y.next}return G}function dg(a,b){return"function"===typeof b?b(a):b}function eg(a,b,c){b=Mb();c=b.queue;null===c?n("311"):void 0;c.lastRenderedReducer=a;if(0<Jb){var d=c.dispatch;if(null!==ia){var e=ia.get(c);if(void 0!==e){ia.delete(c);var f=b.memoizedState;do f=a(f,e.action),e=e.next;while(null!==e);Ea(f,b.memoizedState)||(ja=!0);b.memoizedState=f;b.baseUpdate===c.last&&(b.baseState=f);c.lastRenderedState=f;return[f,d]}}return[b.memoizedState,d]}d=c.last;var g=b.baseUpdate;f=b.baseState;null!==g?(null!==d&&(d.next=null),d=g.next):d=null!==d?d.next:null;if(null!==d){var h=e=null,l=d,k=!1;do{var m=l.expirationTime;m<Hb?(k||(k=!0,h=g,e=f),m>Kb&&(Kb=m)):f=l.eagerReducer===a?l.eagerState:a(f,l.action);g=l;l=l.next}while(null!==l&&l!==d);k||(h=g,e=f);Ea(f,b.memoizedState)||(ja=!0);b.memoizedState=f;b.baseUpdate=h;b.baseState=e;c.lastRenderedState=f}return[b.memoizedState,c.dispatch]}function Wd(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};null===X?(X={lastEffect:null},X.lastEffect=a.next=a):(b=X.lastEffect,null===b?X.lastEffect=a.next=a:(c=b.next,b.next=a,a.next=c,X.lastEffect=a));return a}function Xd(a,b,c,d){var e=cb();Lb|=a;e.memoizedState=Wd(b,c,void 0,void 0===d?null:d)}function Yd(a,b,c,d){var e=Mb();d=void 0===d?null:d;var f=void 0;if(null!==y){var g=y.memoizedState;f=g.destroy;if(null!==d&&Sd(d,g.deps)){Wd(db,c,f,d);return}}Lb|=a;e.memoizedState=Wd(b,c,f,d)}function fg(a,b){if("function"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function gg(a,b){}function hg(a,b,c){25>Jb?void 0:n("301");var d=a.alternate;if(a===xa||null!==d&&d===xa)if(Ib=!0,a={expirationTime:Hb,action:c,eagerReducer:null,eagerState:null,next:null},null===ia&&(ia=new Map),c=ia.get(b),void 0===c)ia.set(b,a);else{for(b=c;null!==b.next;)b=b.next;b.next=a}else{eb();var e=ka();e=fb(e,a);var f={expirationTime:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.last;if(null===g)f.next=f;else{var h=g.next;null!==h&&(f.next=h);g.next=f}b.last=f;if(0===a.expirationTime&&(null===d||0===d.expirationTime)&&(d=b.lastRenderedReducer,null!==d))try{var l=b.lastRenderedState,k=d(l,c);f.eagerReducer=d;f.eagerState=k;if(Ea(k,l))return}catch(m){}ya(a,e)}}function ig(a,b){var c=S(5,null,null,0);c.elementType="DELETED";c.type="DELETED";c.stateNode=b;c.return=a;c.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function jg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=""===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}function kg(a){if(Ia){var b=gb;if(b){var c=b;if(!jg(a,b)){b=Hd(c);if(!b||!jg(a,b)){a.effectTag|=2;Ia=!1;la=a;return}ig(la,c)}la=a;gb=Pf(b)}else a.effectTag|=2,Ia=!1,la=a}}function lg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&18!==a.tag;)a=a.return;la=a}function Zd(a){if(a!==la)return!1;if(!Ia)return lg(a),Ia=!0,!1;var b=a.type;if(5!==a.tag||"head"!==b&&"body"!==b&&!Gd(b,a.memoizedProps))for(b=gb;b;)ig(a,b),b=Hd(b);lg(a);gb=la?Hd(a.stateNode):null;return!0}function $d(){gb=la=null;Ia=!1}function N(a,b,c,d){b.child=null===a?ae(b,null,c,d):hb(b,a.child,c,d)}function mg(a,b,c,d,e){c=c.render;var f=b.ref;ib(b,e);d=Td(a,b,c,d,f,e);if(null!==a&&!ja)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),ma(a,b,e);b.effectTag|=1;N(a,b,d,e);return b.child}function ng(a,b,c,d,e,f){if(null===a){var g=c.type;if("function"===typeof g&&!Md(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,og(a,b,g,d,e,f);a=wc(c.type,null,d,null,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(e<f&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:vb,c(e,d)&&a.ref===b.ref))return ma(a,b,f);b.effectTag|=1;a=Ga(g,d,f);a.ref=b.ref;a.return=b;return b.child=a}function og(a,b,c,d,e,f){return null!==a&&vb(a.memoizedProps,d)&&a.ref===b.ref&&(ja=!1,e<f)?ma(a,b,f):be(a,b,c,d,f)}function pg(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.effectTag|=128}function be(a,b,c,d,e){var f=E(c)?Fa:F.current;f=Za(b,f);ib(b,e);c=Td(a,b,c,d,f,e);if(null!==a&&!ja)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),ma(a,b,e);b.effectTag|=1;N(a,b,c,e);return b.child}function qg(a,b,c,d,e){if(E(c)){var f=!0;vc(b)}else f=!1;ib(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),Yf(b,c,d,e),Pd(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var l=g.context,k=c.contextType;"object"===typeof k&&null!==k?k=T(k):(k=E(c)?Fa:F.current,k=Za(b,k));var m=c.getDerivedStateFromProps,n="function"===typeof m||"function"===typeof g.getSnapshotBeforeUpdate;n||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&"function"!==typeof g.componentWillReceiveProps||(h!==d||l!==k)&&Zf(b,g,d,k);za=!1;var p=b.memoizedState;l=g.state=p;var r=b.updateQueue;null!==r&&(Cb(b,r,d,g,e),l=b.memoizedState);h!==d||p!==l||M.current||za?("function"===typeof m&&(yc(b,c,m,d),l=b.memoizedState),(h=za||Xf(b,c,h,d,p,l,k))?(n||"function"!==typeof g.UNSAFE_componentWillMount&&"function"!==typeof g.componentWillMount||("function"===typeof g.componentWillMount&&g.componentWillMount(),"function"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"===typeof g.componentDidMount&&(b.effectTag|=4)):("function"===typeof g.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=l),g.props=d,g.state=l,g.context=k,d=h):("function"===typeof g.componentDidMount&&(b.effectTag|=4),d=!1)}else g=b.stateNode,h=b.memoizedProps,g.props=b.type===b.elementType?h:P(b.type,h),l=g.context,k=c.contextType,"object"===typeof k&&null!==k?k=T(k):(k=E(c)?Fa:F.current,k=Za(b,k)),m=c.getDerivedStateFromProps,(n="function"===typeof m||"function"===typeof g.getSnapshotBeforeUpdate)||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&"function"!==typeof g.componentWillReceiveProps||(h!==d||l!==k)&&Zf(b,g,d,k),za=!1,l=b.memoizedState,p=g.state=l,r=b.updateQueue,null!==r&&(Cb(b,r,d,g,e),p=b.memoizedState),h!==d||l!==p||M.current||za?("function"===typeof m&&(yc(b,c,m,d),p=b.memoizedState),(m=za||Xf(b,c,h,d,l,p,k))?(n||"function"!==typeof g.UNSAFE_componentWillUpdate&&"function"!==typeof g.componentWillUpdate||("function"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,p,k),"function"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,p,k)),"function"===typeof g.componentDidUpdate&&(b.effectTag|=4),"function"===typeof g.getSnapshotBeforeUpdate&&(b.effectTag|=256)):("function"!==typeof g.componentDidUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=4),"function"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=256),b.memoizedProps=d,b.memoizedState=p),g.props=d,g.state=p,g.context=k,d=m):("function"!==typeof g.componentDidUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=4),"function"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=256),d=!1);return ce(a,b,c,d,f,e)}function ce(a,b,c,d,e,f){pg(a,b);var g=0!==(b.effectTag&64);if(!d&&!g)return e&&Sf(b,c,!1),ma(a,b,f);d=b.stateNode;gi.current=b;var h=g&&"function"!==typeof c.getDerivedStateFromError?null:d.render();b.effectTag|=1;null!==a&&g?(b.child=hb(b,a.child,null,f),b.child=hb(b,null,h,f)):N(a,b,h,f);b.memoizedState=d.state;e&&Sf(b,c,!0);return b.child}function rg(a){var b=a.stateNode;b.pendingContext?Qf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Qf(a,b.context,!1);Qd(a,b.containerInfo)}function sg(a,b,c){var d=b.mode,e=b.pendingProps,f=b.memoizedState;if(0===(b.effectTag&64)){f=null;var g=!1}else f={timedOutAt:null!==f?f.timedOutAt:0},g=!0,b.effectTag&=-65;if(null===a)if(g){var h=e.fallback;a=wa(null,d,0,null);0===(b.mode&1)&&(a.child=null!==b.memoizedState?b.child.child:b.child);d=wa(h,d,c,null);a.sibling=d;c=a;c.return=d.return=b}else c=d=ae(b,null,e.children,c);else null!==a.memoizedState?(d=a.child,h=d.sibling,g?(c=e.fallback,e=Ga(d,d.pendingProps,0),0===(b.mode&1)&&(g=null!==b.memoizedState?b.child.child:b.child,g!==d.child&&(e.child=g)),d=e.sibling=Ga(h,c,h.expirationTime),c=e,e.childExpirationTime=0,c.return=d.return=b):c=d=hb(b,d.child,e.children,c)):(h=a.child,g?(g=e.fallback,e=wa(null,d,0,null),e.child=h,0===(b.mode&1)&&(e.child=null!==b.memoizedState?b.child.child:b.child),d=e.sibling=wa(g,d,c,null),d.effectTag|=2,c=e,e.childExpirationTime=0,c.return=d.return=b):d=c=hb(b,h,e.children,c)),b.stateNode=a.stateNode;b.memoizedState=f;b.child=c;return d}function ma(a,b,c){null!==a&&(b.contextDependencies=a.contextDependencies);if(b.childExpirationTime<c)return null;null!==a&&b.child!==a.child?n("153"):void 0;if(null!==b.child){a=b.child;c=Ga(a,a.pendingProps,a.expirationTime);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Ga(a,a.pendingProps,a.expirationTime),c.return=b;c.sibling=null}return b.child}function hi(a,b,c){var d=b.expirationTime;if(null!==a){if(a.memoizedProps!==b.pendingProps||M.current)ja=!0;else{if(d<c){ja=!1;switch(b.tag){case 3:rg(b);$d();break;case 5:bg(b);break;case 1:E(b.type)&&vc(b);break;case 4:Qd(b,b.stateNode.containerInfo);break;case 10:tg(b,b.memoizedProps.value);break;case 13:if(null!==b.memoizedState){d=b.child.childExpirationTime;if(0!==d&&d>=c)return sg(a,b,c);b=ma(a,b,c);return null!==b?b.sibling:null}}return ma(a,b,c)}}}else ja=!1;b.expirationTime=0;switch(b.tag){case 2:d=b.elementType;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);a=b.pendingProps;var e=Za(b,F.current);ib(b,c);e=Td(null,b,d,a,e,c);b.effectTag|=1;if("object"===typeof e&&null!==e&&"function"===typeof e.render&&void 0===e.$$typeof){b.tag=1;Vd();if(E(d)){var f=!0;vc(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;var g=d.getDerivedStateFromProps;"function"===typeof g&&yc(b,d,g,a);e.updater=zc;b.stateNode=e;e._reactInternalFiber=b;Pd(b,d,a,c);b=ce(null,b,d,!0,f,c)}else b.tag=0,N(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);f=b.pendingProps;a=ei(e);b.type=a;e=b.tag=ci(a);f=P(a,f);g=void 0;switch(e){case 0:g=be(null,b,a,f,c);break;case 1:g=qg(null,b,a,f,c);break;case 11:g=mg(null,b,a,f,c);break;case 14:g=ng(null,b,a,P(a.type,f),d,c);break;default:n("306",a,"")}return g;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:P(d,e),be(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:P(d,e),qg(a,b,d,e,c);case 3:rg(b);d=b.updateQueue;null===d?n("282"):void 0;e=b.memoizedState;e=null!==e?e.element:null;Cb(b,d,b.pendingProps,null,c);d=b.memoizedState.element;if(d===e)$d(),b=ma(a,b,c);else{e=b.stateNode;if(e=(null===a||null===a.child)&&e.hydrate)gb=Pf(b.stateNode.containerInfo),la=b,e=Ia=!0;e?(b.effectTag|=2,b.child=ae(b,null,d,c)):(N(a,b,d,c),$d());b=b.child}return b;case 5:return bg(b),null===a&&kg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Gd(d,e)?g=null:null!==f&&Gd(d,f)&&(b.effectTag|=16),pg(a,b),1!==c&&b.mode&1&&e.hidden?(b.expirationTime=b.childExpirationTime=1,b=null):(N(a,b,g,c),b=b.child),b;case 6:return null===a&&kg(b),null;case 13:return sg(a,b,c);case 4:return Qd(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=hb(b,null,d,c):N(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:P(d,e),mg(a,b,d,e,c);case 7:return N(a,b,b.pendingProps,c),b.child;case 8:return N(a,b,b.pendingProps.children,c),b.child;case 12:return N(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;tg(b,f);if(null!==g){var h=g.value;f=Ea(h,f)?0:("function"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0;if(0===f){if(g.children===e.children&&!M.current){b=ma(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var l=h.contextDependencies;if(null!==l){g=h.child;for(var k=l.first;null!==k;){if(k.context===d&&0!==(k.observedBits&f)){1===h.tag&&(k=Aa(c),k.tag=Ec,na(h,k));h.expirationTime<c&&(h.expirationTime=c);k=h.alternate;null!==k&&k.expirationTime<c&&(k.expirationTime=c);k=c;for(var m=h.return;null!==m;){var p=m.alternate;if(m.childExpirationTime<k)m.childExpirationTime=k,null!==p&&p.childExpirationTime<k&&(p.childExpirationTime=k);else if(null!==p&&p.childExpirationTime<k)p.childExpirationTime=k;else break;m=m.return}l.expirationTime<c&&(l.expirationTime=c);break}k=k.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}}N(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,ib(b,c),e=T(e,f.unstable_observedBits),d=d(e),b.effectTag|=1,N(a,b,d,c),b.child;case 14:return e=b.type,f=P(e,b.pendingProps),f=P(e.type,f),ng(a,b,e,f,d,c);case 15:return og(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:P(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,E(d)?(a=!0,vc(b)):a=!1,ib(b,c),Yf(b,d,e,c),Pd(b,d,e,c),ce(null,b,d,!0,a,c)}n("156")}function tg(a,b){var c=a.type._context;L(de,c._currentValue,a);c._currentValue=b}function ee(a){var b=de.current;D(de,a);a.type._context._currentValue=b}function ib(a,b){Nb=a;Ob=Ja=null;var c=a.contextDependencies;null!==c&&c.expirationTime>=b&&(ja=!0);a.contextDependencies=null}function T(a,b){if(Ob!==a&&!1!==b&&0!==b){if("number"!==typeof b||1073741823===b)Ob=a,b=1073741823;b={context:a,observedBits:b,next:null};null===Ja?(null===Nb?n("308"):void 0,Ja=b,Nb.contextDependencies={first:b,expirationTime:0}):Ja=Ja.next=b}return a._currentValue}function Fc(a){return{baseState:a,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function fe(a){return{baseState:a.baseState,firstUpdate:a.firstUpdate,lastUpdate:a.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Aa(a){return{expirationTime:a,tag:ug,payload:null,callback:null,next:null,nextEffect:null}}function Gc(a,b){null===a.lastUpdate?a.firstUpdate=a.lastUpdate=b:(a.lastUpdate.next=b,a.lastUpdate=b)}function na(a,b){var c=a.alternate;if(null===c){var d=a.updateQueue;var e=null;null===d&&(d=a.updateQueue=Fc(a.memoizedState))}else d=a.updateQueue,e=c.updateQueue,null===d?null===e?(d=a.updateQueue=Fc(a.memoizedState),e=c.updateQueue=Fc(c.memoizedState)):d=a.updateQueue=fe(e):null===e&&(e=c.updateQueue=fe(d));null===e||d===e?Gc(d,b):null===d.lastUpdate||null===e.lastUpdate?(Gc(d,b),Gc(e,b)):(Gc(d,b),e.lastUpdate=b)}function vg(a,b){var c=a.updateQueue;c=null===c?a.updateQueue=Fc(a.memoizedState):wg(a,c);null===c.lastCapturedUpdate?c.firstCapturedUpdate=c.lastCapturedUpdate=b:(c.lastCapturedUpdate.next=b,c.lastCapturedUpdate=b)}function wg(a,b){var c=a.alternate;null!==c&&b===c.updateQueue&&(b=a.updateQueue=fe(b));return b}function xg(a,b,c,d,e,f){switch(c.tag){case yg:return a=c.payload,"function"===typeof a?a.call(f,d,e):a;case ge:a.effectTag=a.effectTag&-2049|64;case ug:a=c.payload;e="function"===typeof a?a.call(f,d,e):a;if(null===e||void 0===e)break;return B({},d,e);case Ec:za=!0}return d}function Cb(a,b,c,d,e){za=!1;b=wg(a,b);for(var f=b.baseState,g=null,h=0,l=b.firstUpdate,k=f;null!==l;){var m=l.expirationTime;m<e?(null===g&&(g=l,f=k),h<m&&(h=m)):(k=xg(a,b,l,k,c,d),null!==l.callback&&(a.effectTag|=32,l.nextEffect=null,null===b.lastEffect?b.firstEffect=b.lastEffect=l:(b.lastEffect.nextEffect=l,b.lastEffect=l)));l=l.next}m=null;for(l=b.firstCapturedUpdate;null!==l;){var n=l.expirationTime;n<e?(null===m&&(m=l,null===g&&(f=k)),h<n&&(h=n)):(k=xg(a,b,l,k,c,d),null!==l.callback&&(a.effectTag|=32,l.nextEffect=null,null===b.lastCapturedEffect?b.firstCapturedEffect=b.lastCapturedEffect=l:(b.lastCapturedEffect.nextEffect=l,b.lastCapturedEffect=l)));l=l.next}null===g&&(b.lastUpdate=null);null===m?b.lastCapturedUpdate=null:a.effectTag|=32;null===g&&null===m&&(f=k);b.baseState=f;b.firstUpdate=g;b.firstCapturedUpdate=m;a.expirationTime=h;a.memoizedState=k}function zg(a,b,c,d){null!==b.firstCapturedUpdate&&(null!==b.lastUpdate&&(b.lastUpdate.next=b.firstCapturedUpdate,b.lastUpdate=b.lastCapturedUpdate),b.firstCapturedUpdate=b.lastCapturedUpdate=null);Ag(b.firstEffect,c);b.firstEffect=b.lastEffect=null;Ag(b.firstCapturedEffect,c);b.firstCapturedEffect=b.lastCapturedEffect=null}function Ag(a,b){for(;null!==a;){var c=a.callback;if(null!==c){a.callback=null;var d=b;"function"!==typeof c?n("191",c):void 0;c.call(d)}a=a.nextEffect}}function Hc(a,b){return{value:a,source:b,stack:qd(b)}}function Pb(a){a.effectTag|=4}function Bg(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=qd(c));null!==c&&sa(c.type);b=b.value;null!==a&&1===a.tag&&sa(a.type);try{console.error(b)}catch(e){setTimeout(function(){throw e})}}function Cg(a){var b=a.ref;if(null!==b)if("function"===typeof b)try{b(null)}catch(c){Ka(a,c)}else b.current=null}function Qb(a,b,c){c=c.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do{if((d.tag&a)!==db){var e=d.destroy;d.destroy=void 0;void 0!==e&&e()}(d.tag&b)!==db&&(e=d.create,d.destroy=e());d=d.next}while(d!==c)}}function ii(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d.style.display="none";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty("display")?e.display:null;d.style.display=Lf("display",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?"":c.memoizedProps;else if(13===c.tag&&null!==c.memoizedState){d=c.child.sibling;d.return=c;c=d;continue}else if(null!==c.child){c.child.return=c;c=c.child;continue}if(c===a)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}function Dg(a){"function"===typeof Ld&&Ld(a);switch(a.tag){case 0:case 11:case 14:case 15:var b=a.updateQueue;if(null!==b&&(b=b.lastEffect,null!==b)){var c=b=b.next;do{var d=c.destroy;if(void 0!==d){var e=a;try{d()}catch(f){Ka(e,f)}}c=c.next}while(c!==b)}break;case 1:Cg(a);b=a.stateNode;if("function"===typeof b.componentWillUnmount)try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(f){Ka(a,f)}break;case 5:Cg(a);break;case 4:Eg(a)}}function Fg(a){return 5===a.tag||3===a.tag||4===a.tag}function Gg(a){a:{for(var b=a.return;null!==b;){if(Fg(b)){var c=b;break a}b=b.return}n("160");c=void 0}var d=b=void 0;switch(c.tag){case 5:b=c.stateNode;d=!1;break;case 3:b=c.stateNode.containerInfo;d=!0;break;case 4:b=c.stateNode.containerInfo;d=!0;break;default:n("161")}c.effectTag&16&&(Ab(b,""),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||Fg(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.effectTag&2)continue b;if(null===c.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}for(var e=a;;){if(5===e.tag||6===e.tag)if(c)if(d){var f=b,g=e.stateNode,h=c;8===f.nodeType?f.parentNode.insertBefore(g,h):f.insertBefore(g,h)}else b.insertBefore(e.stateNode,c);else d?(g=b,h=e.stateNode,8===g.nodeType?(f=g.parentNode,f.insertBefore(h,g)):(f=g,f.appendChild(h)),g=g._reactRootContainer,null!==g&&void 0!==g||null!==f.onclick||(f.onclick=tc)):b.appendChild(e.stateNode);else if(4!==e.tag&&null!==e.child){e.child.return=e;e=e.child;continue}if(e===a)break;for(;null===e.sibling;){if(null===e.return||e.return===a)return;e=e.return}e.sibling.return=e.return;e=e.sibling}}function Eg(a){for(var b=a,c=!1,d=void 0,e=void 0;;){if(!c){c=b.return;a:for(;;){null===c?n("160"):void 0;switch(c.tag){case 5:d=c.stateNode;e=!1;break a;case 3:d=c.stateNode.containerInfo;e=!0;break a;case 4:d=c.stateNode.containerInfo;e=!0;break a}c=c.return}c=!0}if(5===b.tag||6===b.tag){a:for(var f=b,g=f;;)if(Dg(g),null!==g.child&&4!==g.tag)g.child.return=g,g=g.child;else{if(g===f)break;for(;null===g.sibling;){if(null===g.return||g.return===f)break a;g=g.return}g.sibling.return=g.return;g=g.sibling}e?(f=d,g=b.stateNode,8===f.nodeType?f.parentNode.removeChild(g):f.removeChild(g)):d.removeChild(b.stateNode)}else if(4===b.tag){if(null!==b.child){d=b.stateNode.containerInfo;e=!0;b.child.return=b;b=b.child;continue}}else if(Dg(b),null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return;b=b.return;4===b.tag&&(c=!1)}b.sibling.return=b.return;b=b.sibling}}function Hg(a,b){switch(b.tag){case 0:case 11:case 14:case 15:Qb(Rb,ji,b);break;case 1:break;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null;null!==f&&$h(c,f,e,a,d,b)}break;case 6:null===b.stateNode?n("162"):void 0;b.stateNode.nodeValue=b.memoizedProps;break;case 3:break;case 12:break;case 13:c=b.memoizedState;d=void 0;a=b;null===c?d=!1:(d=!0,a=b.child,0===c.timedOutAt&&(c.timedOutAt=ka()));null!==a&&ii(a,d);c=b.updateQueue;if(null!==c){b.updateQueue=null;var g=b.stateNode;null===g&&(g=b.stateNode=new ki);c.forEach(function(a){var c=li.bind(null,b,a);g.has(a)||(g.add(a),a.then(c,c))})}break;case 17:break;default:n("163")}}function he(a,b,c){c=Aa(c);c.tag=ge;c.payload={element:null};var d=b.value;c.callback=function(){ie(d);Bg(a,b)};return c}function Ig(a,b,c){c=Aa(c);c.tag=ge;var d=a.type.getDerivedStateFromError;if("function"===typeof d){var e=b.value;c.payload=function(){return d(e)}}var f=a.stateNode;null!==f&&"function"===typeof f.componentDidCatch&&(c.callback=function(){"function"!==typeof d&&(null===Ba?Ba=new Set([this]):Ba.add(this));var c=b.value,e=b.stack;Bg(a,b);this.componentDidCatch(c,{componentStack:null!==e?e:""})});return c}function mi(a,b){switch(a.tag){case 1:return E(a.type)&&uc(a),b=a.effectTag,b&2048?(a.effectTag=b&-2049|64,a):null;case 3:return $a(a),Jd(a),b=a.effectTag,0!==(b&64)?n("285"):void 0,a.effectTag=b&-2049|64,a;case 5:return Rd(a),null;case 13:return b=a.effectTag,b&2048?(a.effectTag=b&-2049|64,a):null;case 18:return null;case 4:return $a(a),null;case 10:return ee(a),null;default:return null}}function Jg(){if(null!==x)for(var a=x.return;null!==a;){var b=a;switch(b.tag){case 1:var c=b.type.childContextTypes;null!==c&&void 0!==c&&uc(b);break;case 3:$a(b);Jd(b);break;case 5:Rd(b);break;case 4:$a(b);break;case 10:ee(b)}a=a.return}Y=null;H=0;La=-1;je=!1;x=null}function ni(){for(;null!==p;){var a=p.effectTag;a&16&&Ab(p.stateNode,"");if(a&128){var b=p.alternate;null!==b&&(b=b.ref,null!==b&&("function"===typeof b?b(null):b.current=null))}switch(a&14){case 2:Gg(p);p.effectTag&=-3;break;case 6:Gg(p);p.effectTag&=-3;Hg(p.alternate,p);break;case 4:Hg(p.alternate,p);break;case 8:a=p,Eg(a),a.return=null,a.child=null,a.memoizedState=null,a.updateQueue=null,a=a.alternate,null!==a&&(a.return=null,a.child=null,a.memoizedState=null,a.updateQueue=null)}p=p.nextEffect}}function oi(){for(;null!==p;){if(p.effectTag&256)a:{var a=p.alternate,b=p;switch(b.tag){case 0:case 11:case 15:Qb(pi,db,b);break a;case 1:if(b.effectTag&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:P(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}break a;case 3:case 5:case 6:case 4:case 17:break a;default:n("163")}}p=p.nextEffect}}function qi(a,b){for(;null!==p;){var c=p.effectTag;if(c&36){var d=p.alternate,e=p,f=b;switch(e.tag){case 0:case 11:case 15:Qb(ri,Sb,e);break;case 1:var g=e.stateNode;if(e.effectTag&4)if(null===d)g.componentDidMount();else{var h=e.elementType===e.type?d.memoizedProps:P(e.type,d.memoizedProps);g.componentDidUpdate(h,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}d=e.updateQueue;null!==d&&zg(e,d,g,f);break;case 3:d=e.updateQueue;if(null!==d){g=null;if(null!==e.child)switch(e.child.tag){case 5:g=e.child.stateNode;break;case 1:g=e.child.stateNode}zg(e,d,g,f)}break;case 5:f=e.stateNode;null===d&&e.effectTag&4&&Nf(e.type,e.memoizedProps)&&f.focus();break;case 6:break;case 4:break;case 12:break;case 13:break;case 17:break;default:n("163")}}c&128&&(e=p.ref,null!==e&&(f=p.stateNode,"function"===typeof e?e(f):e.current=f));c&512&&(ke=a);p=p.nextEffect}}function si(a,b){Ic=Jc=ke=null;var c=w;w=!0;do{if(b.effectTag&512){var d=!1,e=void 0;try{var f=b;Qb(le,db,f);Qb(db,me,f)}catch(g){d=!0,e=g}d&&Ka(b,e)}b=b.nextEffect}while(null!==b);w=c;c=a.expirationTime;0!==c&&Kc(a,c);z||w||Z(1073741823,!1)}function eb(){null!==Jc&&ti(Jc);null!==Ic&&Ic()}function ui(a,b){Lc=Ca=!0;a.current===b?n("177"):void 0;var c=a.pendingCommitExpirationTime;0===c?n("261"):void 0;a.pendingCommitExpirationTime=0;var d=b.expirationTime,e=b.childExpirationTime;di(a,e>d?e:d);Kg.current=null;d=void 0;1<b.effectTag?null!==b.lastEffect?(b.lastEffect.nextEffect=b,d=b.firstEffect):d=b:d=b.firstEffect;ne=qc;oe=Wh();qc=!1;for(p=d;null!==p;){e=!1;var f=void 0;try{oi()}catch(h){e=!0,f=h}e&&(null===p?n("178"):void 0,Ka(p,f),null!==p&&(p=p.nextEffect))}for(p=d;null!==p;){e=!1;f=void 0;try{ni()}catch(h){e=!0,f=h}e&&(null===p?n("178"):void 0,Ka(p,f),null!==p&&(p=p.nextEffect))}Xh(oe);oe=null;qc=!!ne;ne=null;a.current=b;for(p=d;null!==p;){e=!1;f=void 0;try{qi(a,c)}catch(h){e=!0,f=h}e&&(null===p?n("178"):void 0,Ka(p,f),null!==p&&(p=p.nextEffect))}if(null!==d&&null!==ke){var g=si.bind(null,a,d);Jc=Mc(Lg,function(){return vi(g)});Ic=g}Ca=Lc=!1;"function"===typeof Kd&&Kd(b.stateNode);c=b.expirationTime;b=b.childExpirationTime;b=b>c?b:c;0===b&&(Ba=null);wi(a,b)}function Mg(a){for(;;){var b=a.alternate,c=a.return,d=a.sibling;if(0===(a.effectTag&1024)){x=a;a:{var e=b;b=a;var f=H;var g=b.pendingProps;switch(b.tag){case 2:break;case 16:break;case 15:case 0:break;case 1:E(b.type)&&uc(b);break;case 3:$a(b);Jd(b);g=b.stateNode;g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null);if(null===e||null===e.child)Zd(b),b.effectTag&=-3;pe(b);break;case 5:Rd(b);var h=Ha(Fb.current);f=b.type;if(null!==e&&null!=b.stateNode)Ng(e,b,f,g,h),e.ref!==b.ref&&(b.effectTag|=128);else if(g){var l=Ha(U.current);if(Zd(b)){g=b;e=g.stateNode;var k=g.type,m=g.memoizedProps,p=h;e[ea]=g;e[ec]=m;f=void 0;h=k;switch(h){case"iframe":case"object":r("load",e);break;case"video":case"audio":for(k=0;k<zb.length;k++)r(zb[k],e);break;case"source":r("error",e);break;case"img":case"image":case"link":r("error",e);r("load",e);break;case"form":r("reset",e);r("submit",e);break;case"details":r("toggle",e);break;case"input":lf(e,m);r("invalid",e);ha(p,"onChange");break;case"select":e._wrapperState={wasMultiple:!!m.multiple};r("invalid",e);ha(p,"onChange");break;case"textarea":If(e,m),r("invalid",e),ha(p,"onChange")}Ed(h,m);k=null;for(f in m)m.hasOwnProperty(f)&&(l=m[f],"children"===f?"string"===typeof l?e.textContent!==l&&(k=["children",l]):"number"===typeof l&&e.textContent!==""+l&&(k=["children",""+l]):Oa.hasOwnProperty(f)&&null!=l&&ha(p,f));switch(h){case"input":kc(e);nf(e,m,!0);break;case"textarea":kc(e);f=e.textContent;f===e._wrapperState.initialValue&&(e.value=f);break;case"select":case"option":break;default:"function"===typeof m.onClick&&(e.onclick=tc)}f=k;g.updateQueue=f;g=null!==f?!0:!1;g&&Pb(b)}else{m=b;p=f;e=g;k=9===h.nodeType?h:h.ownerDocument;"http://www.w3.org/1999/xhtml"===l&&(l=Kf(p));"http://www.w3.org/1999/xhtml"===l?"script"===p?(e=k.createElement("div"),e.innerHTML="<script>\x3c/script>",k=e.removeChild(e.firstChild)):"string"===typeof e.is?k=k.createElement(p,{is:e.is}):(k=k.createElement(p),"select"===p&&(p=k,e.multiple?p.multiple=!0:e.size&&(p.size=e.size))):k=k.createElementNS(l,p);e=k;e[ea]=m;e[ec]=g;Og(e,b,!1,!1);m=e;k=f;p=g;var t=h,y=Fd(k,p);switch(k){case"iframe":case"object":r("load",m);h=p;break;case"video":case"audio":for(h=0;h<zb.length;h++)r(zb[h],m);h=p;break;case"source":r("error",m);h=p;break;case"img":case"image":case"link":r("error",m);r("load",m);h=p;break;case"form":r("reset",m);r("submit",m);h=p;break;case"details":r("toggle",m);h=p;break;case"input":lf(m,p);h=sd(m,p);r("invalid",m);ha(t,"onChange");break;case"option":h=Bd(m,p);break;case"select":m._wrapperState={wasMultiple:!!p.multiple};h=B({},p,{value:void 0});r("invalid",m);ha(t,"onChange");break;case"textarea":If(m,p);h=Cd(m,p);r("invalid",m);ha(t,"onChange");break;default:h=p}Ed(k,h);l=void 0;var u=k,w=m,v=h;for(l in v)if(v.hasOwnProperty(l)){var q=v[l];"style"===l?Mf(w,q):"dangerouslySetInnerHTML"===l?(q=q?q.__html:void 0,null!=q&&Of(w,q)):"children"===l?"string"===typeof q?("textarea"!==u||""!==q)&&Ab(w,q):"number"===typeof q&&Ab(w,""+q):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(Oa.hasOwnProperty(l)?null!=q&&ha(t,l):null!=q&&rd(w,l,q,y))}switch(k){case"input":kc(m);nf(m,p,!1);break;case"textarea":kc(m);h=m.textContent;h===m._wrapperState.initialValue&&(m.value=h);break;case"option":null!=p.value&&m.setAttribute("value",""+ua(p.value));break;case"select":h=m;m=p;h.multiple=!!m.multiple;p=m.value;null!=p?Xa(h,!!m.multiple,p,!1):null!=m.defaultValue&&Xa(h,!!m.multiple,m.defaultValue,!0);break;default:"function"===typeof h.onClick&&(m.onclick=tc)}(g=Nf(f,g))&&Pb(b);b.stateNode=e}null!==b.ref&&(b.effectTag|=128)}else null===b.stateNode?n("166"):void 0;break;case 6:e&&null!=b.stateNode?Pg(e,b,e.memoizedProps,g):("string"!==typeof g&&(null===b.stateNode?n("166"):void 0),e=Ha(Fb.current),Ha(U.current),Zd(b)?(g=b,f=g.stateNode,e=g.memoizedProps,f[ea]=g,(g=f.nodeValue!==e)&&Pb(b)):(f=b,g=(9===e.nodeType?e:e.ownerDocument).createTextNode(g),g[ea]=b,f.stateNode=g));break;case 11:break;case 13:g=b.memoizedState;if(0!==(b.effectTag&64)){b.expirationTime=f;x=b;break a}g=null!==g;f=null!==e&&null!==e.memoizedState;null!==e&&!g&&f&&(e=e.child.sibling,null!==e&&(h=b.firstEffect,null!==h?(b.firstEffect=e,e.nextEffect=h):(b.firstEffect=b.lastEffect=e,e.nextEffect=null),e.effectTag=8));if(g||f)b.effectTag|=4;break;case 7:break;case 8:break;case 12:break;case 4:$a(b);pe(b);break;case 10:ee(b);break;case 9:break;case 14:break;case 17:E(b.type)&&uc(b);break;case 18:break;default:n("156")}x=null}b=a;if(1===H||1!==b.childExpirationTime){g=0;for(f=b.child;null!==f;)e=f.expirationTime,h=f.childExpirationTime,e>g&&(g=e),h>g&&(g=h),f=f.sibling;b.childExpirationTime=g}if(null!==x)return x;null!==c&&0===(c.effectTag&1024)&&(null===c.firstEffect&&(c.firstEffect=a.firstEffect),null!==a.lastEffect&&(null!==c.lastEffect&&(c.lastEffect.nextEffect=a.firstEffect),c.lastEffect=a.lastEffect),1<a.effectTag&&(null!==c.lastEffect?c.lastEffect.nextEffect=a:c.firstEffect=a,c.lastEffect=a))}else{a=mi(a,H);if(null!==a)return a.effectTag&=1023,a;null!==c&&(c.firstEffect=c.lastEffect=null,c.effectTag|=1024)}if(null!==d)return d;if(null!==c)a=c;else break}return null}function Qg(a){var b=hi(a.alternate,a,H);a.memoizedProps=a.pendingProps;null===b&&(b=Mg(a));Kg.current=null;return b}function Rg(a,b){Ca?n("243"):void 0;eb();Ca=!0;var c=qe.current;qe.current=Ud;var d=a.nextExpirationTimeToWorkOn;if(d!==H||a!==Y||null===x)Jg(),Y=a,H=d,x=Ga(Y.current,null,H),a.pendingCommitExpirationTime=0;var e=!1;do{try{if(b)for(;null!==x&&!Nc();)x=Qg(x);else for(;null!==x;)x=Qg(x)}catch(v){if(Ob=Ja=Nb=null,Vd(),null===x)e=!0,ie(v);else{null===x?n("271"):void 0;var f=x,g=f.return;if(null===g)e=!0,ie(v);else{a:{var h=a,l=g,k=f,m=v;g=H;k.effectTag|=1024;k.firstEffect=k.lastEffect=null;if(null!==m&&"object"===typeof m&&"function"===typeof m.then){var p=m;m=l;var t=-1,r=-1;do{if(13===m.tag){var u=m.alternate;if(null!==u&&(u=u.memoizedState,null!==u)){r=10*(1073741822-u.timedOutAt);break}u=m.pendingProps.maxDuration;if("number"===typeof u)if(0>=u)t=0;else if(-1===t||u<t)t=u}m=m.return}while(null!==m);m=l;do{if(u=13===m.tag)u=void 0===m.memoizedProps.fallback?!1:null===m.memoizedState;if(u){l=m.updateQueue;null===l?(l=new Set,l.add(p),m.updateQueue=l):l.add(p);if(0===(m.mode&1)){m.effectTag|=64;k.effectTag&=-1957;1===k.tag&&(null===k.alternate?k.tag=17:(g=Aa(1073741823),g.tag=Ec,na(k,g)));k.expirationTime=1073741823;break a}k=h;l=g;var w=k.pingCache;null===w?(w=k.pingCache=new xi,u=new Set,w.set(p,u)):(u=w.get(p),void 0===u&&(u=new Set,w.set(p,u)));u.has(l)||(u.add(l),k=yi.bind(null,k,p,l),p.then(k,k));-1===t?h=1073741823:(-1===r&&(r=10*(1073741822-Wf(h,g))-5E3),h=r+t);0<=h&&La<h&&(La=h);m.effectTag|=2048;m.expirationTime=g;break a}m=m.return}while(null!==m);m=Error((sa(k.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+qd(k))}je=!0;m=Hc(m,k);h=l;do{switch(h.tag){case 3:h.effectTag|=2048;h.expirationTime=g;g=he(h,m,g);vg(h,g);break a;case 1:if(t=m,r=h.type,k=h.stateNode,0===(h.effectTag&64)&&("function"===typeof r.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ba||!Ba.has(k)))){h.effectTag|=2048;h.expirationTime=g;g=Ig(h,t,g);vg(h,g);break a}}h=h.return}while(null!==h)}x=Mg(f);continue}}}break}while(1);Ca=!1;qe.current=c;Ob=Ja=Nb=null;Vd();if(e)Y=null,a.finishedWork=null;else if(null!==x)a.finishedWork=null;else{c=a.current.alternate;null===c?n("281"):void 0;Y=null;if(je){e=a.latestPendingTime;f=a.latestSuspendedTime;g=a.latestPingedTime;if(0!==e&&e<d||0!==f&&f<d||0!==g&&g<d){Vf(a,d);re(a,c,d,a.expirationTime,-1);return}if(!a.didError&&b){a.didError=!0;d=a.nextExpirationTimeToWorkOn=d;b=a.expirationTime=1073741823;re(a,c,d,b,-1);return}}b&&-1!==La?(Vf(a,d),b=10*(1073741822-Wf(a,d)),b<La&&(La=b),b=10*(1073741822-ka()),b=La-b,re(a,c,d,a.expirationTime,0>b?0:b)):(a.pendingCommitExpirationTime=d,a.finishedWork=c)}}function Ka(a,b){for(var c=a.return;null!==c;){switch(c.tag){case 1:var d=c.stateNode;if("function"===typeof c.type.getDerivedStateFromError||"function"===typeof d.componentDidCatch&&(null===Ba||!Ba.has(d))){a=Hc(b,a);a=Ig(c,a,1073741823);na(c,a);ya(c,1073741823);return}break;case 3:a=Hc(b,a);a=he(c,a,1073741823);na(c,a);ya(c,1073741823);return}c=c.return}3===a.tag&&(c=Hc(b,a),c=he(a,c,1073741823),na(a,c),ya(a,1073741823))}function fb(a,b){var c=zi(),d=void 0;if(0===(b.mode&1))d=1073741823;else if(Ca&&!Lc)d=H;else{switch(c){case se:d=1073741823;break;case te:d=1073741822-10*(((1073741822-a+15)/10|0)+1);break;case Lg:d=1073741822-25*(((1073741822-a+500)/25|0)+1);break;case Ai:case Bi:d=1;break;default:n("313")}null!==Y&&d===H&&--d}c===te&&(0===oa||d<oa)&&(oa=d);return d}function yi(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);if(null!==Y&&H===c)Y=null;else if(b=a.earliestSuspendedTime,d=a.latestSuspendedTime,0!==b&&c<=b&&c>=d){a.didError=!1;b=a.latestPingedTime;if(0===b||b>c)a.latestPingedTime=c;xc(c,a);c=a.expirationTime;0!==c&&Kc(a,c)}}function li(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=ka();b=fb(b,a);a=Sg(a,b);null!==a&&(Bb(a,b),b=a.expirationTime,0!==b&&Kc(a,b))}function Sg(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);var d=a.return,e=null;if(null===d&&3===a.tag)e=a.stateNode;else for(;null!==d;){c=d.alternate;d.childExpirationTime<b&&(d.childExpirationTime=b);null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);if(null===d.return&&3===d.tag){e=d.stateNode;break}d=d.return}return e}function ya(a,b){a=Sg(a,b);null!==a&&(!Ca&&0!==H&&b>H&&Jg(),Bb(a,b),Ca&&!Lc&&Y===a||Kc(a,a.expirationTime),Tb>Ci&&(Tb=0,n("185")))}function Tg(a,b,c,d,e){return Mc(se,function(){return a(b,c,d,e)})}function Ub(){aa=1073741822-((ue()-ve)/10|0)}function Ug(a,b){if(0!==Oc){if(b<Oc)return;null!==Pc&&Vg(Pc)}Oc=b;a=ue()-ve;Pc=Wg(Di,{timeout:10*(1073741822-b)-a})}function re(a,b,c,d,e){a.expirationTime=d;0!==e||Nc()?0<e&&(a.timeoutHandle=Ei(Fi.bind(null,a,b,c),e)):(a.pendingCommitExpirationTime=c,a.finishedWork=b)}function Fi(a,b,c){a.pendingCommitExpirationTime=c;a.finishedWork=b;Ub();jb=aa;Xg(a,c)}function wi(a,b){a.expirationTime=b;a.finishedWork=null}function ka(){if(w)return jb;Qc();if(0===C||1===C)Ub(),jb=aa;return jb}function Kc(a,b){null===a.nextScheduledRoot?(a.expirationTime=b,null===I?(ba=I=a,a.nextScheduledRoot=a):(I=I.nextScheduledRoot=a,I.nextScheduledRoot=ba)):b>a.expirationTime&&(a.expirationTime=b);w||(z?Rc&&(ca=a,C=1073741823,Sc(a,1073741823,!1)):1073741823===b?Z(1073741823,!1):Ug(a,b))}function Qc(){var a=0,b=null;if(null!==I)for(var c=I,d=ba;null!==d;){var e=d.expirationTime;if(0===e){null===c||null===I?n("244"):void 0;if(d===d.nextScheduledRoot){ba=I=d.nextScheduledRoot=null;break}else if(d===ba)ba=e=d.nextScheduledRoot,I.nextScheduledRoot=e,d.nextScheduledRoot=null;else if(d===I){I=c;I.nextScheduledRoot=ba;d.nextScheduledRoot=null;break}else c.nextScheduledRoot=d.nextScheduledRoot,d.nextScheduledRoot=null;d=c.nextScheduledRoot}else{e>a&&(a=e,b=d);if(d===I)break;if(1073741823===a)break;c=d;d=d.nextScheduledRoot}}ca=b;C=a}function Nc(){return Tc?!0:Gi()?Tc=!0:!1}function Di(){try{if(!Nc()&&null!==ba){Ub();var a=ba;do{var b=a.expirationTime;0!==b&&aa<=b&&(a.nextExpirationTimeToWorkOn=aa);a=a.nextScheduledRoot}while(a!==ba)}Z(0,!0)}finally{Tc=!1}}function Z(a,b){Qc();if(b)for(Ub(),jb=aa;null!==ca&&0!==C&&a<=C&&!(Tc&&aa>C);)Sc(ca,C,aa>C),Qc(),Ub(),jb=aa;else for(;null!==ca&&0!==C&&a<=C;)Sc(ca,C,!1),Qc();b&&(Oc=0,Pc=null);0!==C&&Ug(ca,C);Tb=0;we=null;if(null!==kb)for(a=kb,kb=null,b=0;b<a.length;b++){var c=a[b];try{c._onComplete()}catch(d){lb||(lb=!0,Uc=d)}}if(lb)throw a=Uc,Uc=null,lb=!1,a}function Xg(a,b){w?n("253"):void 0;ca=a;C=b;Sc(a,b,!1);Z(1073741823,!1)}function Sc(a,b,c){w?n("245"):void 0;w=!0;if(c){var d=a.finishedWork;null!==d?Vc(a,d,b):(a.finishedWork=null,d=a.timeoutHandle,-1!==d&&(a.timeoutHandle=-1,Yg(d)),Rg(a,c),d=a.finishedWork,null!==d&&(Nc()?a.finishedWork=d:Vc(a,d,b)))}else d=a.finishedWork,null!==d?Vc(a,d,b):(a.finishedWork=null,d=a.timeoutHandle,-1!==d&&(a.timeoutHandle=-1,Yg(d)),Rg(a,c),d=a.finishedWork,null!==d&&Vc(a,d,b));w=!1}function Vc(a,b,c){var d=a.firstBatch;if(null!==d&&d._expirationTime>=c&&(null===kb?kb=[d]:kb.push(d),d._defer)){a.finishedWork=b;a.expirationTime=0;return}a.finishedWork=null;a===we?Tb++:(we=a,Tb=0);Mc(se,function(){ui(a,b)})}function ie(a){null===ca?n("246"):void 0;ca.expirationTime=0;lb||(lb=!0,Uc=a)}function Zg(a,b){var c=z;z=!0;try{return a(b)}finally{(z=c)||w||Z(1073741823,!1)}}function $g(a,b){if(z&&!Rc){Rc=!0;try{return a(b)}finally{Rc=!1}}return a(b)}function ah(a,b,c){z||w||0===oa||(Z(oa,!1),oa=0);var d=z;z=!0;try{return Mc(te,function(){return a(b,c)})}finally{(z=d)||w||Z(1073741823,!1)}}function bh(a,b,c,d,e){var f=b.current;a:if(c){c=c._reactInternalFiber;b:{2===wb(c)&&1===c.tag?void 0:n("170");var g=c;do{switch(g.tag){case 3:g=g.stateNode.context;break b;case 1:if(E(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break b}}g=g.return}while(null!==g);n("171");g=void 0}if(1===c.tag){var h=c.type;if(E(h)){c=Rf(c,h,g);break a}}c=g}else c=va;null===b.context?b.context=c:b.pendingContext=c;b=e;e=Aa(d);e.payload={element:a};b=void 0===b?null:b;null!==b&&(e.callback=b);eb();na(f,e);ya(f,d);return d}function xe(a,b,c,d){var e=b.current,f=ka();e=fb(f,e);return bh(a,b,c,e,d)}function ye(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Hi(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Va,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}function Vb(a){var b=1073741822-25*(((1073741822-ka()+500)/25|0)+1);b>=ze&&(b=ze-1);this._expirationTime=ze=b;this._root=a;this._callbacks=this._next=null;this._hasChildren=this._didComplete=!1;this._children=null;this._defer=!0}function mb(){this._callbacks=null;this._didCommit=!1;this._onCommit=this._onCommit.bind(this)}function nb(a,b,c){b=S(3,null,null,b?3:0);a={current:b,containerInfo:a,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:c,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null};this._internalRoot=b.stateNode=a}function ob(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function Ii(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute("data-reactroot")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new nb(a,!1,b)}function Wc(a,b,c,d,e){var f=c._reactRootContainer;if(f){if("function"===typeof e){var g=e;e=function(){var a=ye(f._internalRoot);g.call(a)}}null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)}else{f=c._reactRootContainer=Ii(c,d);if("function"===typeof e){var h=e;e=function(){var a=ye(f._internalRoot);h.call(a)}}$g(function(){null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)})}return ye(f._internalRoot)}function ch(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;ob(b)?void 0:n("200");return Hi(a,b,null,c)}da?void 0:n("227");var sh=function(a,b,c,d,e,f,g,h,l){var k=Array.prototype.slice.call(arguments,3);try{b.apply(c,k)}catch(m){this.onError(m)}},qb=!1,$b=null,ac=!1,Yc=null,th={onError:function(a){qb=!0;$b=a}},bc=null,Na={},cc=[],Zc={},Oa={},$c={},bd=null,Ue=null,He=null,rb=null,vh=function(a){if(a){var b=a._dispatchListeners,c=a._dispatchInstances;if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++)Ge(a,b[d],c[d]);else b&&Ge(a,b,c);a._dispatchListeners=null;a._dispatchInstances=null;a.isPersistent()||a.constructor.release(a)}},Ae={injectEventPluginOrder:function(a){bc?n("101"):void 0;bc=Array.prototype.slice.call(a);Ee()},injectEventPluginsByName:function(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];Na.hasOwnProperty(c)&&Na[c]===d||(Na[c]?n("102",c):void 0,Na[c]=d,b=!0)}b&&Ee()}},dh=Math.random().toString(36).slice(2),ea="__reactInternalInstance$"+dh,ec="__reactEventHandlers$"+dh,ra=!("undefined"===typeof window||!window.document||!window.document.createElement),Ra={animationend:fc("Animation","AnimationEnd"),animationiteration:fc("Animation","AnimationIteration"),animationstart:fc("Animation","AnimationStart"),transitionend:fc("Transition","TransitionEnd")},fd={},Le={};ra&&(Le=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);var eh=gc("animationend"),fh=gc("animationiteration"),gh=gc("animationstart"),hh=gc("transitionend"),zb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qa=null,gd=null,hc=null,B=da.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.assign;B(J.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=ic)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():"unknown"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=ic)},persist:function(){this.isPersistent=ic},isPersistent:jc,destructor:function(){var a=this.constructor.Interface,b;for(b in a)this[b]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=jc;this._dispatchInstances=this._dispatchListeners=null}});J.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};J.extend=function(a){function b(){return c.apply(this,arguments)}var c=this,d=function(){};d.prototype=c.prototype;d=new d;B(d,b.prototype);b.prototype=d;b.prototype.constructor=b;b.Interface=B({},c.Interface,a);b.extend=c.extend;Ne(b);return b};Ne(J);var Ji=J.extend({data:null}),Ki=J.extend({data:null}),Ah=[9,13,27,32],hd=ra&&"CompositionEvent"in window,Wb=null;ra&&"documentMode"in document&&(Wb=document.documentMode);var Li=ra&&"TextEvent"in window&&!Wb,Se=ra&&(!hd||Wb&&8<Wb&&11>=Wb),Re=String.fromCharCode(32),pa={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Qe=!1,Sa=!1,Mi={eventTypes:pa,extractEvents:function(a,b,c,d){var e=void 0;var f=void 0;if(hd)b:{switch(a){case"compositionstart":e=pa.compositionStart;break b;case"compositionend":e=pa.compositionEnd;break b;case"compositionupdate":e=pa.compositionUpdate;break b}e=void 0}else Sa?Oe(a,c)&&(e=pa.compositionEnd):"keydown"===a&&229===c.keyCode&&(e=pa.compositionStart);e?(Se&&"ko"!==c.locale&&(Sa||e!==pa.compositionStart?e===pa.compositionEnd&&Sa&&(f=Me()):(qa=d,gd="value"in qa?qa.value:qa.textContent,Sa=!0)),e=Ji.getPooled(e,b,c,d),f?e.data=f:(f=Pe(c),null!==f&&(e.data=f)),Qa(e),f=e):f=null;(a=Li?Bh(a,c):Ch(a,c))?(b=Ki.getPooled(pa.beforeInput,b,c,d),b.data=a,Qa(b)):b=null;return null===f?b:null===b?f:[f,b]}},id=null,Ta=null,Ua=null,Ye=function(a,b){return a(b)},yf=function(a,b,c){return a(b,c)},Ze=function(){},jd=!1,Dh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ma=da.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ma.hasOwnProperty("ReactCurrentDispatcher")||(Ma.ReactCurrentDispatcher={current:null});var Fh=/^(.*)[\\\/]/,O="function"===typeof Symbol&&Symbol.for,Bc=O?Symbol.for("react.element"):60103,Va=O?Symbol.for("react.portal"):60106,ta=O?Symbol.for("react.fragment"):60107,md=O?Symbol.for("react.strict_mode"):60108,lc=O?Symbol.for("react.profiler"):60114,ff=O?Symbol.for("react.provider"):60109,ef=O?Symbol.for("react.context"):60110,ld=O?Symbol.for("react.concurrent_mode"):60111,od=O?Symbol.for("react.forward_ref"):60112,nd=O?Symbol.for("react.suspense"):60113,pd=O?Symbol.for("react.memo"):60115,gf=O?Symbol.for("react.lazy"):60116,df="function"===typeof Symbol&&Symbol.iterator,Hh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hf=Object.prototype.hasOwnProperty,kf={},jf={},A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){A[a]=new K(a,0,!1,a,null)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];A[b]=new K(b,1,!1,a[1],null)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){A[a]=new K(a,2,!1,a.toLowerCase(),null)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){A[a]=new K(a,2,!1,a,null)});"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){A[a]=new K(a,3,!1,a.toLowerCase(),null)});["checked","multiple","muted","selected"].forEach(function(a){A[a]=new K(a,3,!0,a,null)});["capture","download"].forEach(function(a){A[a]=new K(a,4,!1,a,null)});["cols","rows","size","span"].forEach(function(a){A[a]=new K(a,6,!1,a,null)});["rowSpan","start"].forEach(function(a){A[a]=new K(a,5,!1,a.toLowerCase(),null)});var Be=/[\-:]([a-z])/g,Ce=function(a){return a[1].toUpperCase()};"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=a.replace(Be,Ce);A[b]=new K(b,1,!1,a,null)});"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(Be,Ce);A[b]=new K(b,1,!1,a,"http://www.w3.org/1999/xlink")});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(Be,Ce);A[b]=new K(b,1,!1,a,"http://www.w3.org/XML/1998/namespace")});["tabIndex","crossOrigin"].forEach(function(a){A[a]=new K(a,1,!1,a.toLowerCase(),null)});var pf={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},tb=null,ub=null,De=!1;ra&&(De=af("input")&&(!document.documentMode||9<document.documentMode));var Ni={eventTypes:pf,_isInputEventSupported:De,extractEvents:function(a,b,c,d){var e=b?Da(b):window,f=void 0,g=void 0,h=e.nodeName&&e.nodeName.toLowerCase();"select"===h||"input"===h&&"file"===e.type?f=Lh:$e(e)?De?f=Ph:(f=Nh,g=Mh):(h=e.nodeName)&&"input"===h.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)&&(f=Oh);if(f&&(f=f(a,b)))return of(f,c,d);g&&g(a,e,b);"blur"===a&&(a=e._wrapperState)&&a.controlled&&"number"===e.type&&ud(e,"number",e.value)}},Xb=J.extend({view:null,detail:null}),Rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},ih=0,jh=0,kh=!1,lh=!1,Yb=Xb.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:vd,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if("movementX"in a)return a.movementX;var b=ih;ih=a.screenX;return kh?"mousemove"===a.type?a.screenX-b:0:(kh=!0,0)},movementY:function(a){if("movementY"in a)return a.movementY;var b=jh;jh=a.screenY;return lh?"mousemove"===a.type?a.screenY-b:0:(lh=!0,0)}}),mh=Yb.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zb={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Oi={eventTypes:Zb,extractEvents:function(a,b,c,d){var e="mouseover"===a||"pointerover"===a,f="mouseout"===a||"pointerout"===a;if(e&&(c.relatedTarget||c.fromElement)||!f&&!e)return null;e=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window;f?(f=b,b=(b=c.relatedTarget||c.toElement)?dc(b):null):f=null;if(f===b)return null;var g=void 0,h=void 0,l=void 0,k=void 0;if("mouseout"===a||"mouseover"===a)g=Yb,h=Zb.mouseLeave,l=Zb.mouseEnter,k="mouse";else if("pointerout"===a||"pointerover"===a)g=mh,h=Zb.pointerLeave,l=Zb.pointerEnter,k="pointer";var m=null==f?e:Da(f);e=null==b?e:Da(b);a=g.getPooled(h,f,c,d);a.type=k+"leave";a.target=m;a.relatedTarget=e;c=g.getPooled(l,b,c,d);c.type=k+"enter";c.target=e;c.relatedTarget=m;d=b;if(f&&d)a:{b=f;e=d;k=0;for(g=b;g;g=fa(g))k++;g=0;for(l=e;l;l=fa(l))g++;for(;0<k-g;)b=fa(b),k--;for(;0<g-k;)e=fa(e),g--;for(;k--;){if(b===e||b===e.alternate)break a;b=fa(b);e=fa(e)}b=null}else b=null;e=b;for(b=[];f&&f!==e;){k=f.alternate;if(null!==k&&k===e)break;b.push(f);f=fa(f)}for(f=[];d&&d!==e;){k=d.alternate;if(null!==k&&k===e)break;f.push(d);d=fa(d)}for(d=0;d<b.length;d++)ed(b[d],"bubbled",a);for(d=f.length;0<d--;)ed(f[d],"captured",c);return[a,c]}},Sh=Object.prototype.hasOwnProperty,Pi=J.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Qi=J.extend({clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ri=Xb.extend({relatedTarget:null}),Si={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ti={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ui=Xb.extend({key:function(a){if(a.key){var b=Si[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?(a=nc(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?Ti[a.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:vd,charCode:function(a){return"keypress"===a.type?nc(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?nc(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),Vi=Yb.extend({dataTransfer:null}),Wi=Xb.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:vd}),Xi=J.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Yi=Yb.extend({deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),Zi=[["abort","abort"],[eh,"animationEnd"],[fh,"animationIteration"],[gh,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[hh,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vf={},wd={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(a){uf(a,!0)});Zi.forEach(function(a){uf(a,!1)});var nh={eventTypes:vf,isInteractiveTopLevelEventType:function(a){a=wd[a];return void 0!==a&&!0===a.isInteractive},extractEvents:function(a,b,c,d){var e=wd[a];if(!e)return null;switch(a){case"keypress":if(0===nc(c))return null;case"keydown":case"keyup":a=Ui;break;case"blur":case"focus":a=Ri;break;case"click":if(2===c.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=Yb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=Vi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=Wi;break;case eh:case fh:case gh:a=Pi;break;case hh:a=Xi;break;case"scroll":a=Xb;break;case"wheel":a=Yi;break;case"copy":case"cut":case"paste":a=Qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=mh;break;default:a=J}b=a.getPooled(e,b,c,d);Qa(b);return b}},wf=nh.isInteractiveTopLevelEventType,rc=[],qc=!0,Af={},Vh=0,sc="_reactListenersID"+(""+Math.random()).slice(2),$i=ra&&"documentMode"in document&&11>=document.documentMode,Hf={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wa=null,Ad=null,xb=null,zd=!1,aj={eventTypes:Hf,extractEvents:function(a,b,c,d){var e=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument,f;if(!(f=!e)){a:{e=zf(e);f=$c.onSelect;for(var g=0;g<f.length;g++){var h=f[g];if(!e.hasOwnProperty(h)||!e[h]){e=!1;break a}}e=!0}f=!e}if(f)return null;e=b?Da(b):window;switch(a){case"focus":if($e(e)||"true"===e.contentEditable)Wa=e,Ad=b,xb=null;break;case"blur":xb=Ad=Wa=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":return zd=!1,Gf(c,d);case"selectionchange":if($i)break;case"keydown":case"keyup":return Gf(c,d)}return null}};Ae.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));(function(a,b,c){bd=a;Ue=b;He=c})(dd,Je,Da);Ae.injectEventPluginsByName({SimpleEventPlugin:nh,EnterLeaveEventPlugin:Oi,ChangeEventPlugin:Ni,SelectEventPlugin:aj,BeforeInputEventPlugin:Mi});var Xc=void 0,Of=function(a){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if("http://www.w3.org/2000/svg"!==a.namespaceURI||"innerHTML"in a)a.innerHTML=b;else{Xc=Xc||document.createElement("div");Xc.innerHTML="<svg>"+b+"</svg>";for(b=Xc.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}}),Ab=function(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b},yb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bj=["Webkit","ms","Moz","O"];Object.keys(yb).forEach(function(a){bj.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);yb[b]=yb[a]})});var Zh=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),R=da.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Scheduler,Vg=R.unstable_cancelCallback,ue=R.unstable_now,Wg=R.unstable_scheduleCallback,Gi=R.unstable_shouldYield,Mc=R.unstable_runWithPriority,zi=R.unstable_getCurrentPriorityLevel,se=R.unstable_ImmediatePriority,te=R.unstable_UserBlockingPriority,Lg=R.unstable_NormalPriority,Ai=R.unstable_LowPriority,Bi=R.unstable_IdlePriority,ne=null,oe=null,Ei="function"===typeof setTimeout?setTimeout:void 0,Yg="function"===typeof clearTimeout?clearTimeout:void 0,vi=Wg,ti=Vg;new Set;var Id=[],Ya=-1,va={},F={current:va},M={current:!1},Fa=va,Kd=null,Ld=null,S=function(a,b,c,d){return new bi(a,b,c,d)},$f=(new da.Component).refs,zc={isMounted:function(a){return(a=a._reactInternalFiber)?2===wb(a):!1},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=ka();d=fb(d,a);var e=Aa(d);e.payload=b;void 0!==c&&null!==c&&(e.callback=c);eb();na(a,e);ya(a,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=ka();d=fb(d,a);var e=Aa(d);e.tag=yg;e.payload=b;void 0!==c&&null!==c&&(e.callback=c);eb();na(a,e);ya(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=ka();c=fb(c,a);var d=Aa(c);d.tag=Ec;void 0!==b&&null!==b&&(d.callback=b);eb();na(a,d);ya(a,c)}},Cc=Array.isArray,hb=ag(!0),ae=ag(!1),Eb={},U={current:Eb},Gb={current:Eb},Fb={current:Eb},db=0,pi=2,Rb=4,ji=8,ri=16,Sb=32,me=64,le=128,Dc=Ma.ReactCurrentDispatcher,Hb=0,xa=null,y=null,W=null,bb=null,G=null,ab=null,Kb=0,X=null,Lb=0,Ib=!1,ia=null,Jb=0,Ud={readContext:T,useCallback:V,useContext:V,useEffect:V,useImperativeHandle:V,useLayoutEffect:V,useMemo:V,useReducer:V,useRef:V,useState:V,useDebugValue:V},fi={readContext:T,useCallback:function(a,b){cb().memoizedState=[a,void 0===b?null:b];return a},useContext:T,useEffect:function(a,b){return Xd(516,le|me,a,b)},useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Xd(4,Rb|Sb,fg.bind(null,b,a),c)},useLayoutEffect:function(a,b){return Xd(4,Rb|Sb,a,b)},useMemo:function(a,b){var c=cb();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=cb();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={last:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=hg.bind(null,xa,a);return[d.memoizedState,a]},useRef:function(a){var b=cb();a={current:a};return b.memoizedState=a},useState:function(a){var b=cb();"function"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={last:null,dispatch:null,lastRenderedReducer:dg,lastRenderedState:a};a=a.dispatch=hg.bind(null,xa,a);return[b.memoizedState,a]},useDebugValue:gg},cg={readContext:T,useCallback:function(a,b){var c=Mb();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Sd(b,d[1]))return d[0];c.memoizedState=[a,b];return a},useContext:T,useEffect:function(a,b){return Yd(516,le|me,a,b)},useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Yd(4,Rb|Sb,fg.bind(null,b,a),c)},useLayoutEffect:function(a,b){return Yd(4,Rb|Sb,a,b)},useMemo:function(a,b){var c=Mb();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Sd(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a},useReducer:eg,useRef:function(a){return Mb().memoizedState},useState:function(a){return eg(dg,a)},useDebugValue:gg},la=null,gb=null,Ia=!1,gi=Ma.ReactCurrentOwner,ja=!1,de={current:null},Nb=null,Ja=null,Ob=null,ug=0,yg=1,Ec=2,ge=3,za=!1,Og=void 0,pe=void 0,Ng=void 0,Pg=void 0;Og=function(a,b,c,d){for(c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};pe=function(a){};Ng=function(a,b,c,d,e){var f=a.memoizedProps;if(f!==d){var g=b.stateNode;Ha(U.current);a=null;switch(c){case"input":f=sd(g,f);d=sd(g,d);a=[];break;case"option":f=Bd(g,f);d=Bd(g,d);a=[];break;case"select":f=B({},f,{value:void 0});d=B({},d,{value:void 0});a=[];break;case"textarea":f=Cd(g,f);d=Cd(g,d);a=[];break;default:"function"!==typeof f.onClick&&"function"===typeof d.onClick&&(g.onclick=tc)}Ed(c,d);g=c=void 0;var h=null;for(c in f)if(!d.hasOwnProperty(c)&&f.hasOwnProperty(c)&&null!=f[c])if("style"===c){var l=f[c];for(g in l)l.hasOwnProperty(g)&&(h||(h={}),h[g]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(Oa.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in d){var k=d[c];l=null!=f?f[c]:void 0;if(d.hasOwnProperty(c)&&k!==l&&(null!=k||null!=l))if("style"===c)if(l){for(g in l)!l.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(h||(h={}),h[g]="");for(g in k)k.hasOwnProperty(g)&&l[g]!==k[g]&&(h||(h={}),h[g]=k[g])}else h||(a||(a=[]),a.push(c,h)),h=k;else"dangerouslySetInnerHTML"===c?(k=k?k.__html:void 0,l=l?l.__html:void 0,null!=k&&l!==k&&(a=a||[]).push(c,""+k)):"children"===c?l===k||"string"!==typeof k&&"number"!==typeof k||(a=a||[]).push(c,""+k):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(Oa.hasOwnProperty(c)?(null!=k&&ha(e,c),a||l===k||(a=[])):(a=a||[]).push(c,k))}h&&(a=a||[]).push("style",h);e=a;(b.updateQueue=e)&&Pb(b)}};Pg=function(a,b,c,d){c!==d&&Pb(b)};var ki="function"===typeof WeakSet?WeakSet:Set,xi="function"===typeof WeakMap?WeakMap:Map,qe=Ma.ReactCurrentDispatcher,Kg=Ma.ReactCurrentOwner,ze=1073741822,Ca=!1,x=null,Y=null,H=0,La=-1,je=!1,p=null,Lc=!1,ke=null,Jc=null,Ic=null,Ba=null,ba=null,I=null,Oc=0,Pc=void 0,w=!1,ca=null,C=0,oa=0,lb=!1,Uc=null,z=!1,Rc=!1,kb=null,ve=ue(),aa=1073741822-(ve/10|0),jb=aa,Ci=50,Tb=0,we=null,Tc=!1;id=function(a,b,c){switch(b){case"input":td(a,c);b=c.name;if("radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=dd(d);e?void 0:n("90");cf(d);td(d,e)}}}break;case"textarea":Jf(a,c);break;case"select":b=c.value,null!=b&&Xa(a,!!c.multiple,b,!1)}};Vb.prototype.render=function(a){this._defer?void 0:n("250");this._hasChildren=!0;this._children=a;var b=this._root._internalRoot,c=this._expirationTime,d=new mb;bh(a,b,null,c,d._onCommit);return d};Vb.prototype.then=function(a){if(this._didComplete)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]);b.push(a)}};Vb.prototype.commit=function(){var a=this._root._internalRoot,b=a.firstBatch;this._defer&&null!==b?void 0:n("251");if(this._hasChildren){var c=this._expirationTime;if(b!==this){this._hasChildren&&(c=this._expirationTime=b._expirationTime,this.render(this._children));for(var d=null,e=b;e!==this;)d=e,e=e._next;null===d?n("251"):void 0;d._next=e._next;this._next=b;a.firstBatch=this}this._defer=!1;Xg(a,c);b=this._next;this._next=null;b=a.firstBatch=b;null!==b&&b._hasChildren&&b.render(b._children)}else this._next=null,this._defer=!1};Vb.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++)(0,a[b])()}};mb.prototype.then=function(a){if(this._didCommit)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]);b.push(a)}};mb.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++){var c=a[b];"function"!==typeof c?n("191",c):void 0;c()}}};nb.prototype.render=function(a,b){var c=this._internalRoot,d=new mb;b=void 0===b?null:b;null!==b&&d.then(b);xe(a,c,null,d._onCommit);return d};nb.prototype.unmount=function(a){var b=this._internalRoot,c=new mb;a=void 0===a?null:a;null!==a&&c.then(a);xe(null,b,null,c._onCommit);return c};nb.prototype.legacy_renderSubtreeIntoContainer=function(a,b,c){var d=this._internalRoot,e=new mb;c=void 0===c?null:c;null!==c&&e.then(c);xe(b,d,a,e._onCommit);return e};nb.prototype.createBatch=function(){var a=new Vb(this),b=a._expirationTime,c=this._internalRoot,d=c.firstBatch;if(null===d)c.firstBatch=a,a._next=null;else{for(c=null;null!==d&&d._expirationTime>=b;)c=d,d=d._next;a._next=d;null!==c&&(c._next=a)}return a};(function(a,b,c){Ye=a;yf=b;Ze=c})(Zg,ah,function(){w||0===oa||(Z(oa,!1),oa=0)});var oh={createPortal:ch,findDOMNode:function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;void 0===b&&("function"===typeof a.render?n("188"):n("268",Object.keys(a)));a=tf(b);a=null===a?null:a.stateNode;return a},hydrate:function(a,b,c){ob(b)?void 0:n("200");return Wc(null,a,b,!0,c)},render:function(a,b,c){ob(b)?void 0:n("200");return Wc(null,a,b,!1,c)},unstable_renderSubtreeIntoContainer:function(a,b,c,d){ob(c)?void 0:n("200");null==a||void 0===a._reactInternalFiber?n("38"):void 0;return Wc(a,b,c,!1,d)},unmountComponentAtNode:function(a){ob(a)?void 0:n("40");return a._reactRootContainer?($g(function(){Wc(null,null,a,!1,function(){a._reactRootContainer=null})}),!0):!1},unstable_createPortal:function(){return ch.apply(void 0,arguments)},unstable_batchedUpdates:Zg,unstable_interactiveUpdates:ah,flushSync:function(a,b){w?n("187"):void 0;var c=z;z=!0;try{return Tg(a,b)}finally{z=c,Z(1073741823,!1)}},unstable_createRoot:function(a,b){ob(a)?void 0:n("299","unstable_createRoot");return new nb(a,!0,null!=b&&!0===b.hydrate)},unstable_flushControlled:function(a){var b=z;z=!0;try{Tg(a)}finally{(z=b)||w||Z(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[Je,Da,dd,Ae.injectEventPluginsByName,Zc,Qa,function(a){ad(a,xh)},Ve,We,oc,cd]}};(function(a){var b=a.findFiberByHostInstance;return ai(B({},a,{overrideProps:null,currentDispatcherRef:Ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=tf(a);return null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null}}))})({findFiberByHostInstance:dc,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var ph={default:oh},qh=ph&&oh||ph;return qh.default||qh});;!function(e,_){"object"==typeof exports&&"object"==typeof module?module.exports=_():"function"==typeof define&&define.amd?define([],_):"object"==typeof exports?exports.Locales=_():e.Locales=_()}(window,function(){return function(e){var _={};function r(s){if(_[s])return _[s].exports;var a=_[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=_,r.d=function(e,_,s){r.o(e,_)||Object.defineProperty(e,_,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,_){if(1&_&&(e=r(e)),8&_)return e;if(4&_&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&_&&"string"!=typeof e)for(var a in e)r.d(s,a,function(_){return e[_]}.bind(null,a));return s},r.n=function(e){var _=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(_,"a",_),_},r.o=function(e,_){return Object.prototype.hasOwnProperty.call(e,_)},r.p="/dist/",r(r.s=0)}([function(e,_,r){Object.defineProperty(_,"__esModule",{value:!0});var s=r(1);_.defaultMessageLocale=s.defaultMessageLocale,_.nonDefaultMessageLocales=s.nonDefaultMessageLocales,_.parseMessageLocale=s.parseMessageLocale,_.pseudoLocMessageLocale=s.pseudoLocMessageLocale,_.supportedMessageLocales=s.supportedMessageLocales;var a=r(2);_.resolveCldrLocaleName=a.resolveCldrLocaleName,_.supportedFormatLocales=a.supportedFormatLocales},function(e,_,r){Object.defineProperty(_,"__esModule",{value:!0}),_.supportedMessageLocales=["de_DE","en_GB","en_US","es_ES","fr_FR","ga_IE","it_IT","ja_JP","ko_KR","pt_BR","zh_CN","zh_TW"],_.nonDefaultMessageLocales=["de_DE","en_GB","es_ES","fr_FR","ga_IE","it_IT","ja_JP","ko_KR","pt_BR","zh_CN","zh_TW"],_.defaultMessageLocale="en_US",_.pseudoLocMessageLocale="ga_IE",_.parseMessageLocale=function(e){e=e.replace(/-/g,"_");var r,s=_.supportedMessageLocales.map(function(e){return e.toLowerCase()}).indexOf(e.toLowerCase()),a=s>=0;return a&&(r=_.supportedMessageLocales[s]),{result:a,locale:r}}},function(e,_,r){Object.defineProperty(_,"__esModule",{value:!0});var s=r(3);_.supportedFormatLocales=["ar_AE","ar_BH","ar_DZ","ar_EG","ar_IQ","ar_JO","ar_KW","ar_LB","ar_LY","ar_MA","ar_OM","ar_QA","ar_SA","ar_SD","ar_SY","ar_TN","ar_YE","be_BY","bg_BG","ca_ES","cs_CZ","da_DK","de_AT","de_CH","de_DE","de_LU","el_CY","el_GR","en_AU","en_CA","en_GB","en_IE","en_IN","en_MT","en_NZ","en_PH","en_SG","en_US","en_ZA","es_AR","es_BO","es_CL","es_CO","es_CR","es_DO","es_EC","es_ES","es_GT","es_HN","es_MX","es_NI","es_PA","es_PE","es_PR","es_PY","es_SV","es_US","es_UY","es_VE","et_EE","fi_FI","fr_BE","fr_CA","fr_CH","fr_FR","fr_LU","ga_IE","he_IL","hi_IN","hr_HR","hu_HU","id_ID","is_IS","it_CH","it_IT","ja_JP","ko_KR","lt_LT","lv_LV","mk_MK","ms_MY","mt_MT","nl_BE","nl_NL","no_NO","pl_PL","pt_BR","pt_PT","ro_RO","ru_RU","sk_SK","sl_SI","sq_AL","sr_BA","sr_CS","sr_ME","sr_RS","sv_SE","th_TH","tr_TR","uk_UA","vi_VN","zh_CN","zh_HK","zh_SG","zh_TW"],_.resolveCldrLocaleName=function(e){var _=s.tableauLocaleToCldrLocaleMap[e]||e;if(function(e){for(var _=[],r=0,s=Object.keys(e);r<s.length;r++){var a=s[r];_.push(e[a])}return _}(s.tableauLocaleToCldrLocaleMap).indexOf(_)<0)throw Error("The given locale '"+e+"' cannot be resolved to a CLDR locale. See the README.md for details on supported locales.");return _}},function(e,_,r){Object.defineProperty(_,"__esModule",{value:!0}),_.tableauLocaleToCldrLocaleMap={ar_AE:"ar-AE",ar_BH:"ar-BH",ar_DZ:"ar-DZ",ar_EG:"ar-EG",ar_IQ:"ar-IQ",ar_JO:"ar-JO",ar_KW:"ar-KW",ar_LB:"ar-LB",ar_LY:"ar-LY",ar_MA:"ar-MA",ar_OM:"ar-OM",ar_QA:"ar-QA",ar_SA:"ar-SA",ar_SD:"ar-SD",ar_SY:"ar-SY",ar_TN:"ar-TN",ar_YE:"ar-YE",be_BY:"be",bg_BG:"bg",ca_ES:"ca",cs_CZ:"cs",da_DK:"da",de_AT:"de-AT",de_CH:"de-CH",de_DE:"de",de_LU:"de-LU",el_CY:"el-CY",el_GR:"el",en_AU:"en-AU",en_CA:"en-CA",en_GB:"en-GB",en_IE:"en-IE",en_IN:"en-IN",en_MT:"en-MT",en_NZ:"en-NZ",en_PH:"en-PH",en_SG:"en-SG",en_US:"en",en_ZA:"en-ZA",es_AR:"es-AR",es_BO:"es-BO",es_CL:"es-CL",es_CO:"es-CO",es_CR:"es-CR",es_DO:"es-DO",es_EC:"es-EC",es_ES:"es",es_GT:"es-GT",es_HN:"es-HN",es_MX:"es-MX",es_NI:"es-NI",es_PA:"es-PA",es_PE:"es-PE",es_PR:"es-PR",es_PY:"es-PY",es_SV:"es-SV",es_US:"es-US",es_UY:"es-UY",es_VE:"es-VE",et_EE:"et",fi_FI:"fi",fr_BE:"fr-BE",fr_CA:"fr-CA",fr_CH:"fr-CH",fr_FR:"fr",fr_LU:"fr-LU",ga_IE:"ga",he_IL:"he",hi_IN:"hi",hr_HR:"hr",hu_HU:"hu",id_ID:"id",is_IS:"is",it_CH:"it-CH",it_IT:"it",ja_JP:"ja",ko_KR:"ko",lt_LT:"lt",lv_LV:"lv",mk_MK:"mk",ms_MY:"ms",mt_MT:"en-MT",nl_BE:"nl-BE",nl_NL:"nl",no_NO:"nb",pl_PL:"pl",pt_BR:"pt",pt_PT:"pt-PT",ro_RO:"ro",ru_RU:"ru",sk_SK:"sk",sl_SI:"sl",sq_AL:"sq",sr_BA:"sr-Cyrl-BA",sr_CS:"sr-Cyrl",sr_ME:"sr-Latn-ME",sr_RS:"sr-Cyrl",sv_SE:"sv",th_TH:"th",tr_TR:"tr",uk_UA:"uk",vi_VN:"vi",zh_CN:"zh-Hans",zh_HK:"zh-Hant-HK",zh_SG:"zh-Hans-SG",zh_TW:"zh-Hant"}}])});!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("@tableau/browser-support"),require("react-dom"),require("@tableau/locales")):"function"==typeof define&&define.amd?define(["@tableau/browser-support","react-dom","@tableau/locales"],r):"object"==typeof exports?exports.KeyboardShortcuts=r(require("@tableau/browser-support"),require("react-dom"),require("@tableau/locales")):e.KeyboardShortcuts=r(e.BrowserSupport,e.ReactDOM,e.Locales)}(window,function(e,r,t){return function(e){var r={};function t(o){if(r[o])return r[o].exports;var i=r[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(o,i,function(r){return e[r]}.bind(null,i));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="/dist/",t(t.s=12)}([function(e,r,t){var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0});var i=t(3),n=t(1);!function(e){e.Throttle=function(e,r){var t=!1;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];t||(e.apply(void 0,o),t=!0,setTimeout(function(){t=!1},r))}},e.ObjectUnion=function(e,r,t){var i=o({},e,r);return Object.keys(i).forEach(function(o){return t[o]=e[o]||r[o]}),t},e.IsLinux=function(){return!i.BrowserSupport.IsWindows()&&!i.BrowserSupport.IsMac()},e.GetElementHtmlTag=function(e){var r=e.outerHTML,t=e.innerHTML,o=r.slice(0,r.indexOf(t));return o+r.slice(o.length+t.length)},e.DebugError=function(e){if(n.KeyboardShortcutManager.GetConfig().isDebug)throw new Error(e)},e.LogIfDebug=function(e,r){if(n.KeyboardShortcutManager.GetConfig().isDebug)switch(e){case"error":return void console.error(r);case"warn":return void console.warn(r);case"info":return void console.info(r);default:console.error("unsupported console severity, please add the new severity")}}}(r.CoreUtils||(r.CoreUtils={}))},function(e,r,t){var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0});var i=t(6),n=t(14),a=t(0),s=t(9),u=t(2),g=t(8),c=function(){function e(){}return e.RegisterShortcut=function(r){var t=g.KeyCombos.CoerceToKeyCombos(r.getKeyComboOrKeyCombos());t.removeUnsupportedKeyCombos(e.AreAllLocalesAllowed(r.getAdditionalOptions())),t.hasCombos()&&(this.config.isDebug&&e.DetectDuplicateShortcuts(r),e.AddShortcut(r))},e.UnregisterShortcut=function(r){var t=this;if(r){var o=r;if(o.cmd||"string"==typeof r)return e.UnregisterShortcutByCommandName(o);var i=r;u.KeyboardUtilities.GetHtmlElement(i).removeEventListener(e.EventName(i),this.registeredShortcuts[i.generateKey()]),delete this.registeredShortcuts[i.generateKey()],g.KeyCombos.CoerceToKeyCombos(i.getKeyComboOrKeyCombos()).forEach(function(e){return delete t.registeredKeyCombos[e.generateKey()]})}else a.CoreUtils.LogIfDebug("error","Attempted to unregister a null shortcut")},e.UnregisterShortcutByCommandName=function(r){var t="string"==typeof r?r:e.GetCommandKey(r);e.HasAssociatedShortcut(t)&&(e.UnregisterShortcut(e.commandNameToShortcut[t]),delete e.commandNameToShortcut[t],delete e.commandNameToShortcutAction[t])},e.IsGloballyAllowed=function(e,r){var t=document.getElementsByClassName(this.glassClass),o=document.getElementById(this.loadingGlassClass),i=u.KeyboardUtilities.HasBlockingGlass(t),n=u.KeyboardUtilities.IsBlockingGlass(o),a=u.KeyboardUtilities.IsDialogOpen(),g=u.KeyboardUtilities.IsTargetTextInput(e);return s.KeyboardShortcutTelemetry.LogKeyboardShortcut({shortcut:r,evnt:e,isGlobalShortcut:!0,wasBlockedByDialog:a,wasBlockedByGlass:i,wasBlockedByLoading:n,wasBlockedByTextInput:g}),!(i||n||g||a)},e.GetConfig=function(){return this.config},e.UpdateConfig=function(e){this.config=o({},this.config,e)},e.TryUpdateKeyboardShortcut=function(r,t){if(t){var o=e.FindAssociatedShortcut(r);if(o){var i=e.TryUpdateCommandAction(r,t);i||(e.commandNameToShortcutAction[r]=t),t.getDescription()||!i&&!o.getCommandId()||t.setDescription(o.getHintText())}}else a.CoreUtils.LogIfDebug("error",{message:"shortcutAction cannot be null",command:r})},e.FindAssociatedShortcut=function(r){if(r){var t=r,o=r,i=r;return t.generateKey?e.FindAssociatedShortcut(t.generateKey()):o.cmd?e.commandNameToShortcut[e.GetCommandKey(o)]:"string"==typeof i?e.commandNameToShortcut[i]:void 0}},e.AssociateShortcutWithCommand=function(r,t){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];e.commandNameToShortcut[e.GetCommandKey(t)]=r,o.forEach(function(t){return t&&(e.commandNameToShortcut[e.GetCommandKey(t)]=r)})},e.RemoveCommandAssociation=function(r){delete e.commandNameToShortcut[e.GetCommandKey(r)]},e.FindShortcutAction=function(r){return e.commandNameToShortcutAction[e.GetCommandKey(r)]},e.GetCommandKey=function(e){return e?e.ns+":"+e.cmd:""},e.AreAllLocalesAllowed=function(e){return!e||void 0===e.areAllLocalesSupported||e.areAllLocalesSupported},e.DetectDuplicateShortcuts=function(r){var t=this;this.registeredShortcuts[r.generateKey()]&&e.LogConflictWarning(r),g.KeyCombos.CoerceToKeyCombos(r.getKeyComboOrKeyCombos()).forEach(function(o){var i=o.generateKey();!!t.registeredKeyCombos[i]&&o.supportedLocales.forEach(function(n){t.registeredKeyCombos[i].some(function(e){return!!e||e===n})&&e.LogConflictWarning(r,void 0,"Conflicts with the existing key combo:\n"+o)})})},e.AddShortcut=function(r){e.AttachEventListener(r),e.TryAddCommandMapping(r),e.UpdateRegisteredKeyCombos(r)},e.UpdateRegisteredKeyCombos=function(e){var r=this;g.KeyCombos.CoerceToKeyCombos(e.getKeyComboOrKeyCombos()).forEach(function(e){var t=e.generateKey();r.registeredKeyCombos[t]?e.supportedLocales.forEach(function(e){return r.registeredKeyCombos[t].push(e)}):r.registeredKeyCombos[t]=e.supportedLocales})},e.AttachEventListener=function(r){if(r.getElement()){var t=e.CreateEventHandler(r);this.registeredShortcuts[r.generateKey()]=t,u.KeyboardUtilities.GetHtmlElement(r).addEventListener(e.EventName(r),t)}},e.EventName=function(e){return e.getAdditionalOptions().shouldUseKeyUp?"keyup":"keydown"},e.CreateEventHandler=function(r){var t=r.getAdditionalOptions().throttleTimeInMs||0,o=a.CoreUtils.Throttle(function(t){e.HandleKeyEvent(t,r)},t);return function(t){e.HasValidKeys(t,r)&&o(t)}},e.HasValidKeys=function(e,r){if(!e||!e.key)return a.CoreUtils.LogIfDebug("warn","keyboard event was an unexpected value: "+e),!1;var t=g.KeyCombos.CoerceToKeyCombos(r.getKeyComboOrKeyCombos()).hasValidCombo(e);return s.KeyboardShortcutTelemetry.LogKeyboardShortcut({shortcut:r,evnt:e,startTime:(new Date).getTime(),isKnownShortcut:t}),t&&r.onValidKeyCombo(e),t},e.HandleKeyEvent=function(e,r){r.getAdditionalOptions().propagation===i.PropagationType.OnValidKeyComboStopPropagation&&u.KeyboardUtilities.StopPropagationAndDefault(e),r.isAllowed(e)&&(r.executeShortcut(e),s.KeyboardShortcutTelemetry.LogKeyboardShortcut({shortcut:r,evnt:e,completeTime:(new Date).getTime(),wasExecuted:!0}),r.getAdditionalOptions().propagation===i.PropagationType.OnValidAndAllowedKeyComboStopPropagation&&u.KeyboardUtilities.StopPropagationAndDefault(e))},e.LogConflictWarning=function(e,r,t){var o="Found conflict with shortcut:\n"+u.KeyboardUtilities.TryGenerateLogInfo(e)+"\n\n";r&&(o+="Shortcut is being overwritten by:\n"+u.KeyboardUtilities.TryGenerateLogInfo(e)+"\n\n"),t&&(o+="Additional info: "+t+"\n"),document.activeElement&&(o+="activeElement: "+a.CoreUtils.GetElementHtmlTag(document.activeElement)),a.CoreUtils.LogIfDebug("warn",o)},e.TryAddCommandMapping=function(r){var t=r;if(t.getCommandId){var o=t.getCommandId();if(o){var i=e.GetCommandKey(o);e.commandNameToShortcut[i]=t}}},e.TryUpdateCommandAction=function(r,t){if(e.HasAssociatedShortcut(r)){var o=e.commandNameToShortcut[r];if(o&&o.updateShortcutAction)return o.updateShortcutAction(t),!0}return!1},e.HasAssociatedShortcut=function(r){return!!e.FindAssociatedShortcut(r)},e.registeredShortcuts={},e.registeredKeyCombos={},e.commandNameToShortcut={},e.commandNameToShortcutAction={},e.config=new n.Config,e.glassClass="tab-glass",e.loadingGlassClass="loadingGlassPane",e}();r.KeyboardShortcutManager=c},function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0});var o=t(16),i=t(3),n=t(0),a=t(4);!function(e){function r(r){if(!r||!e.IsShown(r))return!1;var t=Math.abs(r.offsetWidth-document.body.offsetWidth)<=2,o=Math.abs(r.offsetHeight-document.body.offsetHeight)<=2;return t&&o}function t(e){return null!==e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&"none"!==e.style.display&&"hidden"!==e.style.visibility&&!e.hidden}e.TryGenerateLogInfo=function(e){try{return JSON.stringify(e)}catch(r){n.CoreUtils.LogIfDebug("error",r);try{return"Exception occured and logged, only partial debug information can be generated.\n"+e.generateKey()+e.getElement()+e.getAdditionalOptions()+e.getHintText()+e.getKeyComboOrKeyCombos()}catch(e){n.CoreUtils.LogIfDebug("error",e)}}return"Multiple exceptions occurred, could not generate useful log info"},e.IsTargetTextInput=function(e){var r=e.target;if(!r)return!1;var t=r.tagName.toLowerCase();return"input"===t||"textarea"===t||r.isContentEditable},e.StopPropagationAndDefault=function(e){e.stopPropagation(),e.preventDefault()},e.NormalizeKey=function(e){switch(e.toLowerCase()){case"down":return a.TriggerKeyValue.ArrowDown;case"up":return a.TriggerKeyValue.ArrowUp;case"left":return a.TriggerKeyValue.ArrowLeft;case"right":return a.TriggerKeyValue.ArrowRight;case"esc":return a.TriggerKeyValue.Escape;case"spacebar":return a.TriggerKeyValue.Space;case"del":return a.TriggerKeyValue.Delete;case"add":return a.TriggerKeyValue.Plus;case"subtract":return a.TriggerKeyValue.Dash;case"divide":return a.TriggerKeyValue.Slash;case"multiply":return a.TriggerKeyValue.Asterisk;default:return e}},e.IsPlatformSupported=function(e){var r=e.isMacSpecific,t=e.isNonMacSpecific,o=e.isWindowsSpecific;return i.BrowserSupport.IsMac()?!t&&!o:i.BrowserSupport.IsWindows()?!r:n.CoreUtils.IsLinux()?!r&&!o:(n.CoreUtils.LogIfDebug("warn","unknown platform attempted with a keyboard shortcut"),!1)},e.IsShown=function(e){return!!e&&(0!==e.offsetHeight&&0!==e.offsetWidth&&t(e)&&function(e){for(;e&&e!==document.body;)if(!t(e=e.parentElement))return!1;return!0}(e))},e.GetHtmlElement=function(e){var r=e.getElement(),t=o.findDOMNode(r);return t||(n.CoreUtils.DebugError("Could not find element in "+e.generateKey()),document.body)},e.IsDialogOpen=function(){for(var r=document.querySelectorAll("[role=dialog]"),t=0;t<r.length;++t){var o=r.item(t);if(e.IsShown(o))return!0}return!1},e.HasBlockingGlass=function(e){if(!e)return!1;for(var t=0;t<e.length;++t)if(r(e.item(t)))return!0;return!1},e.IsBlockingGlass=r}(r.KeyboardUtilities||(r.KeyboardUtilities={}))},function(r,t){r.exports=e},function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),function(e){e.None="",e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f",e.G="g",e.H="h",e.I="i",e.J="j",e.K="k",e.L="l",e.M="m",e.N="n",e.O="o",e.P="p",e.Q="q",e.R="r",e.S="s",e.T="t",e.U="u",e.V="v",e.W="w",e.X="x",e.Y="y",e.Z="z",e.Zero="0",e.One="1",e.Two="2",e.Three="3",e.Four="4",e.Five="5",e.Six="6",e.Seven="7",e.Eight="8",e.Nine="9",e.Backspace="Backspace",e.CapsLock="CapsLock",e.Delete="Delete",e.End="End",e.Enter="Enter",e.Escape="Escape",e.F1="F1",e.F2="F2",e.F3="F3",e.F4="F4",e.F5="F5",e.F6="F6",e.F7="F7",e.F8="F8",e.F9="F9",e.F10="F10",e.F11="F11",e.F12="F12",e.Home="Home",e.Insert="Insert",e.ContextMenu="ContextMenu",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e.Comma=",",e.Equals="=",e.Period=".",e.Plus="+",e.Space=" ",e.BackTick="`",e.Tilde="~",e.ExclamationMark="!",e.AtSign="@",e.Pound="#",e.DollarSign="$",e.PercentSign="%",e.Caret="^",e.Ampersand="&",e.Asterisk="*",e.OpenParenthesis="(",e.CloseParenthesis=")",e.Dash="-",e.Underscore="_",e.OpenBrace="{",e.CloseBrace="}",e.OpenSquareBracket="[",e.CloseSquareBracket="]",e.OpenAngleBracket="<",e.CloseAngleBracket=">",e.QuestionMark="?",e.SingleQuote="'",e.DoubleQuote='"',e.Colon=":",e.Semicolon=";",e.VerticalBar="|",e.Slash="/",e.Backslash="\\"}(r.TriggerKeyValue||(r.TriggerKeyValue={}))},function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),function(e){e.Alt="Alt",e.Meta="Meta",e.Control="Control",e.Shift="Shift",e.Windows="Windows",e.Command="Command"}(r.ModifierKeyValue||(r.ModifierKeyValue={}))},function(e,r,t){var o,i=this&&this.__extends||(o=function(e,r){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)},function(e,r){function t(){this.constructor=e}o(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0});var n,a=t(1),s=t(2),u=t(8);!function(e){e[e.NeverStopPropagation=0]="NeverStopPropagation",e[e.OnValidKeyComboStopPropagation=1]="OnValidKeyComboStopPropagation",e[e.OnValidAndAllowedKeyComboStopPropagation=2]="OnValidAndAllowedKeyComboStopPropagation"}(n=r.PropagationType||(r.PropagationType={}));var g=function(){this.shouldUseKeyUp=!1,this.propagation=n.OnValidAndAllowedKeyComboStopPropagation,this.areAllLocalesSupported=!1,this.additionalTelemetry=""};r.BaseAdditionalShortcutOptions=g;var c=function(){function e(){}return e.prototype.getAdditionalOptions=function(){return new g},e.prototype.getHintText=function(){return u.KeyCombos.CoerceToKeyCombos(this.getKeyComboOrKeyCombos()).removeUnsupportedKeyCombos(a.KeyboardShortcutManager.AreAllLocalesAllowed(this.getAdditionalOptions())).getHintText()},e.prototype.onValidKeyCombo=function(e){},e.prototype.generateKey=function(){var e=s.KeyboardUtilities.GetHtmlElement(this);return JSON.stringify({"telemetry key":this.getTelemetryKey(),class:e&&e.className,id:e&&e.id,"hint text":this.getHintText(),"key combos":this.getKeyComboOrKeyCombos(),"additional options":this.getAdditionalOptions()})},e}();r.BaseKeyboardShortcut=c;var y=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),r.prototype.getElement=function(){return document.body},r.prototype.isAllowed=function(e){return a.KeyboardShortcutManager.IsGloballyAllowed(e,this)},r}(c);r.GlobalKeyboardShortcut=y},function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),function(e){e.Required="required",e.NotAllowed="notAllowed",e.Optional="optional"}(r.KeyModifierType||(r.KeyModifierType={}))},function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(18),n=t(1),a=function(){function e(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];this.isKeyCombos=!0,this.combos=[e].concat(r),this.supportedLocales=this.findSupportedLocales(),this.isCurrentLocaleAllowed=this.checkIfCurrentLocaleIsAllowed()}return e.CoerceToKeyCombos=function(r){return r.isKeyCombos?r:new e(r)},e.prototype.getCombo=function(r){return this.combos.length<=r&&o.CoreUtils.DebugError("out of bounds keycombo at index "+r+" with keycombos"+e),this.combos[r]},e.prototype.forEach=function(e){this.combos.forEach(e)},e.prototype.hasCombos=function(){return this.combos.length>0},e.prototype.getHintText=function(){return 0===this.combos.length?"":this.combos[0].getHintText()},e.prototype.removeUnsupportedKeyCombos=function(e){return this.combos=this.combos.filter(function(r){return r.isComboSupported(e)}),this},e.prototype.hasValidCombo=function(e){return this.combos.some(function(r){return r.hasValidCombo(e)})},e.prototype.checkIfCurrentLocaleIsAllowed=function(){if(!this.combos.some(function(e){return e.isLocaleSpecified()})){var e=n.KeyboardShortcutManager.GetConfig().userPreferredLocale;return!!e&&e===i.defaultMessageLocale}return this.combos.some(function(e){return e.isCurrentLocaleAllowed()})},e.prototype.findSupportedLocales=function(){return this.combos.reduce(function(e,r){return e.concat(r.supportedLocales)},[])},e}();r.KeyCombos=a},function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(15),n=function(){function e(){}return e.LogKeyboardShortcut=function(r){var t=new i.KeyboardShortcutTelemetryEvent(r),n=t.ComboName;e.ShortcutToEvent[n]?e.ShortcutToEvent[n]=i.KeyboardShortcutTelemetryEvent.MergeEvents(e.ShortcutToEvent[n],t):(e.ShortcutToEvent[n]=t,window.setTimeout(function(){var r=e.ShortcutToEvent[n];r?(e.OnTelemetryEvent&&r.shouldAllowLogging()&&e.OnTelemetryEvent(e.TelemetryType,r.generateTelemetryPairs()),delete e.ShortcutToEvent[n]):o.CoreUtils.LogIfDebug("warn","could not find merged event for "+n)},e.LoggingWindowsInMs))},e.TelemetryType="KeyboardShortcut",e.LoggingWindowsInMs=500,e.ShortcutToEvent={},e}();r.KeyboardShortcutTelemetry=n},function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0});var o=t(3),i=t(0),n=t(2),a=t(11),s=t(7),u=t(5),g=function(){function e(r){r=r||{},this.isMacSpecific=!(r.command!==s.KeyModifierType.Required&&r.macControl!==s.KeyModifierType.Required),this.isWindowsSpecific=!(r.winControl!==s.KeyModifierType.Required&&r.windows!==s.KeyModifierType.Required),this.isNonMacSpecific=!(r.nonMacControl!==s.KeyModifierType.Required&&r.winControl!==s.KeyModifierType.Required&&r.windows!==s.KeyModifierType.Required),this.alt=r.alt||s.KeyModifierType.NotAllowed,this.shift=r.shift||s.KeyModifierType.NotAllowed,this.meta=e.GetMetaKeyType(r),this.control=e.GetControlType(r)}return e.IsCommandPressed=function(e){return!!e&&o.BrowserSupport.IsMac()&&e.metaKey},e.IsWindowsPressed=function(e){return!!e&&o.BrowserSupport.IsWindows()&&e.metaKey},e.prototype.getHintText=function(){return e.GetHintText(this.control,u.ModifierKeyValue.Control)+e.GetHintText(this.alt,u.ModifierKeyValue.Alt)+e.GetHintText(this.shift,u.ModifierKeyValue.Shift)+e.GetHintText(this.meta,u.ModifierKeyValue.Meta)},e.prototype.hasValidModifiers=function(e){return n.KeyboardUtilities.IsPlatformSupported(this)&&this.hasValidModifier(this.alt,e.altKey)&&this.hasValidModifier(this.meta,e.metaKey)&&this.hasValidModifier(this.control,e.ctrlKey)&&this.hasValidModifier(this.shift,e.shiftKey)},e.prototype.generateKey=function(){return this.alt.toString()+this.shift+this.meta+this.control},e.GetMetaKeyType=function(e){var r=s.KeyModifierType.NotAllowed;return o.BrowserSupport.IsMac()?r=e.command||e.controlOrCommand||r:o.BrowserSupport.IsWindows()?r=e.windows||r:i.CoreUtils.IsLinux()&&(r=s.KeyModifierType.NotAllowed),r},e.GetControlType=function(e){var r;return e.control&&(r=e.control),(o.BrowserSupport.IsWindows()||i.CoreUtils.IsLinux())&&(r=e.controlOrCommand||r),o.BrowserSupport.IsWindows()&&(r=e.winControl||r),o.BrowserSupport.IsMac()&&e.macControl&&(r=e.macControl),!o.BrowserSupport.IsMac()&&e.nonMacControl&&(r=e.nonMacControl),r||s.KeyModifierType.NotAllowed},e.GetHintText=function(e,r){return e===s.KeyModifierType.Required?a.KeyHintText.GetHintText(r):""},e.prototype.hasValidModifier=function(e,r){switch(e){case s.KeyModifierType.Optional:return!0;case s.KeyModifierType.Required:return r;case s.KeyModifierType.NotAllowed:return!r;default:return i.CoreUtils.DebugError("Unsupported modifier type "+e),!1}},e}();r.KeyModifiersWrapper=g},function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0});var o=t(3),i=t(0),n=t(1),a=t(17),s=t(5),u=t(4);!function(e){var r;function t(){(r={})[s.ModifierKeyValue.Alt.toLowerCase()]=g(a.Messages.ModifierKeyWithDelimiterHintTextMacOption(),a.Messages.ModifierKeyWithDelimiterHintTextAlt()),r[s.ModifierKeyValue.Command.toLowerCase()]=g(a.Messages.ModifierKeyWithDelimiterHintTextCommand(),""),r[s.ModifierKeyValue.Windows.toLowerCase()]=o.BrowserSupport.IsWindows()?a.Messages.ModifierKeyWithDelimiterHintTextWindows():"",r[s.ModifierKeyValue.Control.toLowerCase()]=g(a.Messages.ModifierKeyWithDelimiterHintTextMacControl(),a.Messages.ModifierKeyWithDelimiterHintTextControl()),r[s.ModifierKeyValue.Shift.toLowerCase()]=g(a.Messages.ModifierKeyWithDelimiterHintTextMacShift(),a.Messages.ModifierKeyWithDelimiterHintTextShift()),r[s.ModifierKeyValue.Meta.toLowerCase()]=o.BrowserSupport.IsMac()?r[s.ModifierKeyValue.Command.toLowerCase()]:o.BrowserSupport.IsWindows()?r[s.ModifierKeyValue.Windows.toLowerCase()]:"",r[u.TriggerKeyValue.A]=a.Messages.TriggerKeyLetterA(),r[u.TriggerKeyValue.B]=a.Messages.TriggerKeyLetterB(),r[u.TriggerKeyValue.C]=a.Messages.TriggerKeyLetterC(),r[u.TriggerKeyValue.D]=a.Messages.TriggerKeyLetterD(),r[u.TriggerKeyValue.E]=a.Messages.TriggerKeyLetterE(),r[u.TriggerKeyValue.F]=a.Messages.TriggerKeyLetterF(),r[u.TriggerKeyValue.G]=a.Messages.TriggerKeyLetterG(),r[u.TriggerKeyValue.H]=a.Messages.TriggerKeyLetterH(),r[u.TriggerKeyValue.I]=a.Messages.TriggerKeyLetterI(),r[u.TriggerKeyValue.J]=a.Messages.TriggerKeyLetterJ(),r[u.TriggerKeyValue.K]=a.Messages.TriggerKeyLetterK(),r[u.TriggerKeyValue.L]=a.Messages.TriggerKeyLetterL(),r[u.TriggerKeyValue.M]=a.Messages.TriggerKeyLetterM(),r[u.TriggerKeyValue.N]=a.Messages.TriggerKeyLetterN(),r[u.TriggerKeyValue.O]=a.Messages.TriggerKeyLetterO(),r[u.TriggerKeyValue.P]=a.Messages.TriggerKeyLetterP(),r[u.TriggerKeyValue.Q]=a.Messages.TriggerKeyLetterQ(),r[u.TriggerKeyValue.R]=a.Messages.TriggerKeyLetterR(),r[u.TriggerKeyValue.S]=a.Messages.TriggerKeyLetterS(),r[u.TriggerKeyValue.T]=a.Messages.TriggerKeyLetterT(),r[u.TriggerKeyValue.U]=a.Messages.TriggerKeyLetterU(),r[u.TriggerKeyValue.V]=a.Messages.TriggerKeyLetterV(),r[u.TriggerKeyValue.W]=a.Messages.TriggerKeyLetterW(),r[u.TriggerKeyValue.X]=a.Messages.TriggerKeyLetterX(),r[u.TriggerKeyValue.Y]=a.Messages.TriggerKeyLetterY(),r[u.TriggerKeyValue.Z]=a.Messages.TriggerKeyLetterZ(),r[u.TriggerKeyValue.Zero]=a.Messages.TriggerKeyZero(),r[u.TriggerKeyValue.One]=a.Messages.TriggerKeyOne(),r[u.TriggerKeyValue.Two]=a.Messages.TriggerKeyTwo(),r[u.TriggerKeyValue.Three]=a.Messages.TriggerKeyThree(),r[u.TriggerKeyValue.Four]=a.Messages.TriggerKeyFour(),r[u.TriggerKeyValue.Five]=a.Messages.TriggerKeyFive(),r[u.TriggerKeyValue.Six]=a.Messages.TriggerKeySix(),r[u.TriggerKeyValue.Seven]=a.Messages.TriggerKeySeven(),r[u.TriggerKeyValue.Eight]=a.Messages.TriggerKeyEight(),r[u.TriggerKeyValue.Nine]=a.Messages.TriggerKeyNine(),r[u.TriggerKeyValue.Backspace.toLowerCase()]=a.Messages.TriggerKeyBackspace(),r[u.TriggerKeyValue.CapsLock.toLowerCase()]=a.Messages.TriggerKeyCapsLock(),r[u.TriggerKeyValue.Comma]=g(a.Messages.TriggerKeyMacComma(),a.Messages.TriggerKeyComma()),r[u.TriggerKeyValue.ContextMenu.toLowerCase()]=a.Messages.TriggerKeyMenu(),r[u.TriggerKeyValue.Delete.toLowerCase()]=a.Messages.TriggerKeyDelete(),r[u.TriggerKeyValue.ArrowDown.toLowerCase()]=g(a.Messages.TriggerKeyMacArrowDown(),a.Messages.TriggerKeyArrowDown()),r[u.TriggerKeyValue.End.toLowerCase()]=a.Messages.TriggerKeyEnd(),r[u.TriggerKeyValue.Enter.toLowerCase()]=g(a.Messages.TriggerKeyMacEnter(),a.Messages.TriggerKeyEnter()),r[u.TriggerKeyValue.Equals]=a.Messages.TriggerKeyEquals(),r[u.TriggerKeyValue.Plus]=g(a.Messages.TriggerKeyMacPlus(),a.Messages.TriggerKeyPlus()),r[u.TriggerKeyValue.Escape.toLowerCase()]=g(a.Messages.TriggerKeyMacEscape(),a.Messages.TriggerKeyEscape()),r[u.TriggerKeyValue.F1.toLowerCase()]=a.Messages.TriggerKeyF1(),r[u.TriggerKeyValue.F2.toLowerCase()]=a.Messages.TriggerKeyF2(),r[u.TriggerKeyValue.F3.toLowerCase()]=a.Messages.TriggerKeyF3(),r[u.TriggerKeyValue.F4.toLowerCase()]=a.Messages.TriggerKeyF4(),r[u.TriggerKeyValue.F5.toLowerCase()]=a.Messages.TriggerKeyF5(),r[u.TriggerKeyValue.F6.toLowerCase()]=a.Messages.TriggerKeyF6(),r[u.TriggerKeyValue.F7.toLowerCase()]=a.Messages.TriggerKeyF7(),r[u.TriggerKeyValue.F8.toLowerCase()]=a.Messages.TriggerKeyF8(),r[u.TriggerKeyValue.F9.toLowerCase()]=a.Messages.TriggerKeyF9(),r[u.TriggerKeyValue.F10.toLowerCase()]=a.Messages.TriggerKeyF10(),r[u.TriggerKeyValue.F11.toLowerCase()]=a.Messages.TriggerKeyF11(),r[u.TriggerKeyValue.F12.toLowerCase()]=a.Messages.TriggerKeyF12(),r[u.TriggerKeyValue.Slash.toLowerCase()]=a.Messages.TriggerKeyForwardSlash(),r[u.TriggerKeyValue.Home.toLowerCase()]=a.Messages.TriggerKeyHome(),r[u.TriggerKeyValue.Insert.toLowerCase()]=a.Messages.TriggerKeyInsert(),r[u.TriggerKeyValue.ArrowLeft.toLowerCase()]=g(a.Messages.TriggerKeyMacArrowLeft(),a.Messages.TriggerKeyArrowLeft()),r[u.TriggerKeyValue.Zero.toLowerCase()]=a.Messages.TriggerKeyZero(),r[u.TriggerKeyValue.One.toLowerCase()]=a.Messages.TriggerKeyOne(),r[u.TriggerKeyValue.Two.toLowerCase()]=a.Messages.TriggerKeyTwo(),r[u.TriggerKeyValue.Three.toLowerCase()]=a.Messages.TriggerKeyThree(),r[u.TriggerKeyValue.Four.toLowerCase()]=a.Messages.TriggerKeyFour(),r[u.TriggerKeyValue.Five.toLowerCase()]=a.Messages.TriggerKeyFive(),r[u.TriggerKeyValue.Six.toLowerCase()]=a.Messages.TriggerKeySix(),r[u.TriggerKeyValue.Seven.toLowerCase()]=a.Messages.TriggerKeySeven(),r[u.TriggerKeyValue.Eight.toLowerCase()]=a.Messages.TriggerKeyEight(),r[u.TriggerKeyValue.Nine.toLowerCase()]=a.Messages.TriggerKeyNine(),r[u.TriggerKeyValue.Slash.toLowerCase()]=a.Messages.TriggerKeySlash(),r[u.TriggerKeyValue.Asterisk.toLowerCase()]=a.Messages.TriggerKeyAsterisk(),r[u.TriggerKeyValue.Dash.toLowerCase()]=g(a.Messages.TriggerKeyMacDash(),a.Messages.TriggerKeyDash()),r[u.TriggerKeyValue.PageDown.toLowerCase()]=a.Messages.TriggerKeyPageDown(),r[u.TriggerKeyValue.PageUp.toLowerCase()]=a.Messages.TriggerKeyPageUp(),r[u.TriggerKeyValue.Period]=g(a.Messages.TriggerKeyMacPeriod(),a.Messages.TriggerKeyPeriod()),r[u.TriggerKeyValue.ArrowRight.toLowerCase()]=g(a.Messages.TriggerKeyArrowRight(),a.Messages.TriggerKeyArrowRight()),r[u.TriggerKeyValue.Space]=a.Messages.TriggerKeySpace(),r[u.TriggerKeyValue.Tab.toLowerCase()]=a.Messages.TriggerKeyTab(),r[u.TriggerKeyValue.Tilde.toLowerCase()]=a.Messages.TriggerKeyTilde(),r[u.TriggerKeyValue.ArrowUp.toLowerCase()]=g(a.Messages.TriggerKeyMacArrowUp(),a.Messages.TriggerKeyArrowUp()),r[u.TriggerKeyValue.BackTick]=a.Messages.TriggerKeyBacktick(),r[u.TriggerKeyValue.ExclamationMark]=a.Messages.TriggerKeyExclamationMark(),r[u.TriggerKeyValue.AtSign]=a.Messages.TriggerKeyAtSign(),r[u.TriggerKeyValue.Pound]=a.Messages.TriggerKeyPound(),r[u.TriggerKeyValue.DollarSign]=a.Messages.TriggerKeyDollarSign(),r[u.TriggerKeyValue.PercentSign]=a.Messages.TriggerKeyPercentSign(),r[u.TriggerKeyValue.Caret]=a.Messages.TriggerKeyCaret(),r[u.TriggerKeyValue.Ampersand]=a.Messages.TriggerKeyAmpersand(),r[u.TriggerKeyValue.OpenParenthesis]=a.Messages.TriggerKeyOpenParenthesis(),r[u.TriggerKeyValue.CloseParenthesis]=a.Messages.TriggerKeyCloseParenthesis(),r[u.TriggerKeyValue.Underscore]=a.Messages.TriggerKeyUnderscore(),r[u.TriggerKeyValue.OpenBrace]="{",r[u.TriggerKeyValue.CloseBrace]="}",r[u.TriggerKeyValue.OpenSquareBracket]=a.Messages.TriggerKeyOpenSquareBracket(),r[u.TriggerKeyValue.CloseSquareBracket]=a.Messages.TriggerKeyCloseSquareBracket(),r[u.TriggerKeyValue.OpenAngleBracket]=a.Messages.TriggerKeyOpenAngleBracket(),r[u.TriggerKeyValue.CloseAngleBracket]=a.Messages.TriggerKeyCloseAngleBracket(),r[u.TriggerKeyValue.QuestionMark]=a.Messages.TriggerKeyQuestionMark(),r[u.TriggerKeyValue.SingleQuote]=a.Messages.TriggerKeySingleQuote(),r[u.TriggerKeyValue.DoubleQuote]=a.Messages.TriggerKeyDoubleQuote(),r[u.TriggerKeyValue.Colon]=a.Messages.TriggerKeyColon(),r[u.TriggerKeyValue.Semicolon]=a.Messages.TriggerKeySemicolon(),r[u.TriggerKeyValue.VerticalBar]=a.Messages.TriggerKeyVerticalBar(),r[u.TriggerKeyValue.Backslash]="\\"}function g(e,r){return o.BrowserSupport.IsMac()?e:r}e.GetHintText=function(e){r||t();var o=r[e.toLowerCase()];return n.KeyboardShortcutManager.GetConfig().isDebug&&void 0===o&&i.CoreUtils.DebugError(e+" is not a valid key. Please add the option or update your usage"),""===o?o:o||e},e.UpdateAllKeys=t}(r.KeyHintText||(r.KeyHintText={}))},function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0});var o=t(13);r.CommandKeyboardShortcut=o.CommandKeyboardShortcut;var i=t(19);r.KeyCombo=i.KeyCombo;var n=t(8);r.KeyCombos=n.KeyCombos;var a=t(7);r.KeyModifierType=a.KeyModifierType;var s=t(6);r.BaseKeyboardShortcut=s.BaseKeyboardShortcut,r.BaseAdditionalShortcutOptions=s.BaseAdditionalShortcutOptions,r.GlobalKeyboardShortcut=s.GlobalKeyboardShortcut;var u=t(1);r.KeyboardShortcutManager=u.KeyboardShortcutManager;var g=t(9);r.KeyboardShortcutTelemetry=g.KeyboardShortcutTelemetry;var c=t(2);r.KeyboardUtilities=c.KeyboardUtilities;var y=t(4);r.TriggerKeyValue=y.TriggerKeyValue},function(e,r,t){var o,i=this&&this.__extends||(o=function(e,r){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)},function(e,r){function t(){this.constructor=e}o(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(r,"__esModule",{value:!0});var n=t(6),a=t(1),s=function(e){function r(){var r=e.call(this)||this;return a.KeyboardShortcutManager.AssociateShortcutWithCommand(r,r.getCommandId()),r}return i(r,e),r.prototype.getAdditionalOptions=function(){return new n.BaseAdditionalShortcutOptions},r.prototype.isAllowed=function(r){return e.prototype.isAllowed.call(this,r)&&(!this.shouldRequireCommandCheck()||this.isShortcutActionAllowed())},r.prototype.executeShortcut=function(e){this.findShortcutAction().execute()},r.prototype.getTelemetryKey=function(){return a.KeyboardShortcutManager.GetCommandKey(this.getCommandId())},r.prototype.shouldRequireCommandCheck=function(){return!0},r.prototype.isShortcutActionAllowed=function(){var e=this.findShortcutAction();return e&&e.shouldBeEnabled()&&e.shouldBeVisible()},r.prototype.findShortcutAction=function(){return a.KeyboardShortcutManager.FindShortcutAction(this.getCommandId())},r}(n.GlobalKeyboardShortcut);r.CommandKeyboardShortcut=s},function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){};r.Config=o},function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(2),n=t(10),a=t(5),s=t(4),u=function(){function e(e){this.ComboName="",this.isGlobalShortcut=!1,this.isKnownShortcut=!1,this.wasBlockedByDialog=!1,this.wasBlockedByGlass=!1,this.wasBlockedByLoading=!1,this.wasBlockedByTextInput=!1,this.numExecutions=0,this.shortcut=e.shortcut,this.shortcutName=e.shortcutName,this.evnt=e.evnt,this.startTime=e.startTime,this.completeTime=e.completeTime,this.isKnownShortcut=!!e.isKnownShortcut,this.wasBlockedByDialog=!!e.wasBlockedByDialog,this.wasBlockedByGlass=!!e.wasBlockedByGlass,this.wasBlockedByLoading=!!e.wasBlockedByLoading,this.wasBlockedByTextInput=!!e.wasBlockedByTextInput,this.isGlobalShortcut=!!e.isGlobalShortcut,e.wasExecuted&&++this.numExecutions,this.addNames()}return e.MergeEvents=function(r,t){r.ComboName!==t.ComboName&&o.CoreUtils.LogIfDebug("error","merges are only allowed on the same shortcut");var i=r.numExecutions>0?r:r.isKnownShortcut?r:t,n=o.CoreUtils.ObjectUnion(r,t,new e({}));return n.shortcutName=i.shortcutName,n.shortcut=i.shortcut,n.numExecutions=r.numExecutions+t.numExecutions,n},e.prototype.generateTelemetryPairs=function(){var e=this.evnt&&this.evnt.target;return{ShortcutName:this.shortcutName,Combo:this.ComboName,IsKnownShortcut:this.isKnownShortcut,WasBlockedByDialog:this.wasBlockedByDialog,WasBlockedByGlass:this.wasBlockedByGlass,WasBlockedByLoading:this.wasBlockedByLoading,WasBlockedByTextInput:this.wasBlockedByTextInput,CurrentTargetId:e&&e.id,CurrentTargetClasses:e&&e.className,CurrentTargetName:e&&e.nodeName,NumTimesExecuted:this.numExecutions,IsGlobalShortcut:this.isGlobalShortcut,ElapsedTimeInMs:this.completeTime&&this.startTime?this.completeTime-this.startTime:0,CustomTelemetry:this.shortcut&&this.shortcut.getAdditionalOptions().additionalTelemetry||""}},e.prototype.shouldAllowLogging=function(){var e=!(!this.evnt||!this.evnt.ctrlKey&&!this.evnt.metaKey);return this.numExecutions>0||e&&this.hasTriggerKey()},e.prototype.createTriggerKeyName=function(){return this.evnt&&this.evnt.key?i.KeyboardUtilities.NormalizeKey(this.evnt.key):s.TriggerKeyValue.None},e.prototype.hasTriggerKey=function(){var e=!1,r=this.evnt?this.evnt.key:"None";for(var t in a.ModifierKeyValue)Number(t)||(e=e||a.ModifierKeyValue[t]===r);return!e},e.prototype.addNames=function(){this.shortcut&&this.isKnownShortcut?this.shortcutName=this.shortcut?this.shortcut.getTelemetryKey():"":this.shortcutName="UnregisteredShortcut";this.evnt&&(this.ComboName=(this.evnt.ctrlKey?"ctrl+":"")+(n.KeyModifiersWrapper.IsCommandPressed(this.evnt)?"command+":"")+(this.evnt.altKey?"alt+":"")+(n.KeyModifiersWrapper.IsWindowsPressed(this.evnt)?"win+":"")+(this.evnt.shiftKey?"shift+":"")),this.ComboName+=this.createTriggerKeyName()},e}();r.KeyboardShortcutTelemetryEvent=u},function(e,t){e.exports=r},function(e,r,t){function o(){if("undefined"==typeof Localize)throw Error("The messages.<locale>.js file has not been loaded");return Localize}Object.defineProperty(r,"__esModule",{value:!0}),r.LocaleData={get:function(){return function(){var e=o();if(void 0===e.format)throw Error("The formatters-and-parsers.<locale>.js file has not been loaded");return e.format}().localeData}};var i=function(e,r){return o().msg.formatMessage(e,r)};r.Messages={ModifierKeyWithDelimiterHintTextMacControl:function(){return i("@tableau__keyboard-shortcuts/ModifierKeyWithDelimiterHintTextMacControl")},ModifierKeyWithDelimiterHintTextControl:function(){return i("@tableau__keyboard-shortcuts/ModifierKeyWithDelimiterHintTextControl")},ModifierKeyWithDelimiterHintTextMacOption:function(){return i("@tableau__keyboard-shortcuts/ModifierKeyWithDelimiterHintTextMacOption")},ModifierKeyWithDelimiterHintTextAlt:function(){return i("@tableau__keyboard-shortcuts/ModifierKeyWithDelimiterHintTextAlt")},ModifierKeyWithDelimiterHintTextMacShift:function(){return i("@tableau__keyboard-shortcuts/ModifierKeyWithDelimiterHintTextMacShift")},ModifierKeyWithDelimiterHintTextShift:function(){return i("@tableau__keyboard-shortcuts/ModifierKeyWithDelimiterHintTextShift")},ModifierKeyWithDelimiterHintTextWindows:function(){return i("@tableau__keyboard-shortcuts/ModifierKeyWithDelimiterHintTextWindows")},ModifierKeyWithDelimiterHintTextCommand:function(){return i("@tableau__keyboard-shortcuts/ModifierKeyWithDelimiterHintTextCommand")},TriggerKeyLetterA:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterA")},TriggerKeyLetterB:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterB")},TriggerKeyLetterC:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterC")},TriggerKeyLetterD:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterD")},TriggerKeyLetterE:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterE")},TriggerKeyLetterF:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterF")},TriggerKeyLetterG:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterG")},TriggerKeyLetterH:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterH")},TriggerKeyLetterI:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterI")},TriggerKeyLetterJ:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterJ")},TriggerKeyLetterK:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterK")},TriggerKeyLetterL:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterL")},TriggerKeyLetterM:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterM")},TriggerKeyLetterN:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterN")},TriggerKeyLetterO:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterO")},TriggerKeyLetterP:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterP")},TriggerKeyLetterQ:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterQ")},TriggerKeyLetterR:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterR")},TriggerKeyLetterS:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterS")},TriggerKeyLetterT:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterT")},TriggerKeyLetterU:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterU")},TriggerKeyLetterV:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterV")},TriggerKeyLetterW:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterW")},TriggerKeyLetterX:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterX")},TriggerKeyLetterY:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterY")},TriggerKeyLetterZ:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyLetterZ")},TriggerKeyZero:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyZero")},TriggerKeyOne:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyOne")},TriggerKeyTwo:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyTwo")},TriggerKeyThree:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyThree")},TriggerKeyFour:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyFour")},TriggerKeyFive:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyFive")},TriggerKeySix:function(){return i("@tableau__keyboard-shortcuts/TriggerKeySix")},TriggerKeySeven:function(){return i("@tableau__keyboard-shortcuts/TriggerKeySeven")},TriggerKeyEight:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyEight")},TriggerKeyNine:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyNine")},TriggerKeyF1:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyF1")},TriggerKeyF2:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyF2")},TriggerKeyF3:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyF3")},TriggerKeyF4:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyF4")},TriggerKeyF5:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyF5")},TriggerKeyF6:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyF6")},TriggerKeyF7:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyF7")},TriggerKeyF8:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyF8")},TriggerKeyF9:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyF9")},TriggerKeyF10:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyF10")},TriggerKeyF11:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyF11")},TriggerKeyF12:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyF12")},TriggerKeyEnter:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyEnter")},TriggerKeyMacEnter:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyMacEnter")},TriggerKeyForwardSlash:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyForwardSlash")},TriggerKeyMacArrowDown:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyMacArrowDown")},TriggerKeyArrowDown:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyArrowDown")},TriggerKeyMacArrowLeft:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyMacArrowLeft")},TriggerKeyArrowLeft:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyArrowLeft")},TriggerKeyMacArrowRight:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyMacArrowRight")},TriggerKeyArrowRight:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyArrowRight")},TriggerKeyMacArrowUp:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyMacArrowUp")},TriggerKeyArrowUp:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyArrowUp")},TriggerKeyBackspace:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyBackspace")},TriggerKeyCapsLock:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyCapsLock")},TriggerKeyComma:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyComma")},TriggerKeyMacComma:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyMacComma")},TriggerKeyMenu:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyMenu")},TriggerKeyDelete:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyDelete")},TriggerKeyEnd:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyEnd")},TriggerKeyEquals:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyEquals")},TriggerKeyPlus:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyPlus")},TriggerKeyMacPlus:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyMacPlus")},TriggerKeyEscape:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyEscape")},TriggerKeyMacEscape:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyMacEscape")},TriggerKeyHome:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyHome")},TriggerKeyInsert:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyInsert")},TriggerKeySlash:function(){return i("@tableau__keyboard-shortcuts/TriggerKeySlash")},TriggerKeyAsterisk:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyAsterisk")},TriggerKeyDash:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyDash")},TriggerKeyMacDash:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyMacDash")},TriggerKeyPageDown:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyPageDown")},TriggerKeyPageUp:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyPageUp")},TriggerKeyPeriod:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyPeriod")},TriggerKeyMacPeriod:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyMacPeriod")},TriggerKeySpace:function(){return i("@tableau__keyboard-shortcuts/TriggerKeySpace")},TriggerKeyMacSpace:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyMacSpace")},TriggerKeyTab:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyTab")},TriggerKeyTilde:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyTilde")},TriggerKeyBacktick:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyBacktick")},TriggerKeyExclamationMark:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyExclamationMark")},TriggerKeyAtSign:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyAtSign")},TriggerKeyPound:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyPound")},TriggerKeyDollarSign:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyDollarSign")},TriggerKeyPercentSign:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyPercentSign")},TriggerKeyCaret:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyCaret")},TriggerKeyAmpersand:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyAmpersand")},TriggerKeyOpenParenthesis:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyOpenParenthesis")},TriggerKeyCloseParenthesis:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyCloseParenthesis")},TriggerKeyUnderscore:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyUnderscore")},TriggerKeyOpenBrace:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyOpenBrace")},TriggerKeyCloseBrace:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyCloseBrace")},TriggerKeyOpenSquareBracket:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyOpenSquareBracket")},TriggerKeyCloseSquareBracket:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyCloseSquareBracket")},TriggerKeyOpenAngleBracket:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyOpenAngleBracket")},TriggerKeyCloseAngleBracket:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyCloseAngleBracket")},TriggerKeyQuestionMark:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyQuestionMark")},TriggerKeySingleQuote:function(){return i("@tableau__keyboard-shortcuts/TriggerKeySingleQuote")},TriggerKeyDoubleQuote:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyDoubleQuote")},TriggerKeyColon:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyColon")},TriggerKeySemicolon:function(){return i("@tableau__keyboard-shortcuts/TriggerKeySemicolon")},TriggerKeyVerticalBar:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyVerticalBar")},TriggerKeyBackslash:function(){return i("@tableau__keyboard-shortcuts/TriggerKeyBackslash")}}},function(e,r){e.exports=t},function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0});var o=t(3),i=t(0),n=t(1),a=t(2),s=t(11),u=t(7),g=t(10),c=t(5),y=t(4),l=function(){function e(e,r){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];this.modifiers=new g.KeyModifiersWrapper(r),this.triggerKey=e,this.supportedLocales=t.filter(function(e){return!!e})}return e.CreateFromString=function(r){""===r&&i.CoreUtils.DebugError("combo must have text to parse");var t=function(t){return o=t,r.split(e.Delimiter).some(function(e){return e===o})?u.KeyModifierType.Required:void 0;var o},o={alt:t(c.ModifierKeyValue.Alt),command:t(c.ModifierKeyValue.Command),control:t(c.ModifierKeyValue.Control),controlOrCommand:t(e.ControlOrCommand),macControl:t(e.MacControl),shift:t(c.ModifierKeyValue.Shift),winControl:t(e.WinControl),windows:t(c.ModifierKeyValue.Windows)};return new e(e.getTriggerKey(r),o)},e.prototype.getHintText=function(){return o.BrowserSupport.IsMobile()?null:this.modifiers.getHintText()+s.KeyHintText.GetHintText(this.triggerKey)},e.prototype.isCurrentLocaleAllowed=function(){var e=n.KeyboardShortcutManager.GetConfig().userPreferredLocale;return!this.isLocaleSpecified()||!(!e||!this.supportedLocales.some(function(r){return e===r}))},e.prototype.isLocaleSpecified=function(){return this.supportedLocales.length>0},e.prototype.hasValidCombo=function(e){return!!e.key&&this.hasValidTriggerKey(e)&&this.modifiers.hasValidModifiers(e)&&this.isCurrentLocaleAllowed()},e.prototype.isComboSupported=function(e){return(e||this.isCurrentLocaleAllowed())&&a.KeyboardUtilities.IsPlatformSupported(this.modifiers)},e.prototype.generateKey=function(){return this.modifiers.generateKey()+this.triggerKey+this.supportedLocales},e.getTriggerKey=function(r){return-1!==r.indexOf(e.Delimiter+e.Delimiter)?e.Delimiter:r.slice(r.lastIndexOf(e.Delimiter)+1)},e.prototype.hasValidTriggerKey=function(r){var t=a.KeyboardUtilities.NormalizeKey(r.key).toLowerCase(),o=r.code?r.code.toLowerCase():"",i=this.triggerKey.toLowerCase();return t===i||o===e.KeyboardEventCodeAlphaPrefix.toLowerCase()+i||o===e.KeyboardEventCodeNumericPrefix.toLowerCase()+i},e.Delimiter=y.TriggerKeyValue.Plus,e.ControlOrCommand="Ctrl_Command",e.MacControl="Mac_Ctrl",e.WinControl="Win_Ctrl",e.KeyboardEventCodeAlphaPrefix="Key",e.KeyboardEventCodeNumericPrefix="Digit",e}();r.KeyCombo=l}])});(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqldomain');var b=ss.mkType(a,'tab.$0',function(e,ex,pC,pD){co.call(this,'none',e,ex,pC,pD)},{get_isOneAtATime:function(){return true}});var c=ss.mkEnum(a,'tab.$1',{$0:0,$1:1});var d=ss.mkType(a,'tab.$10',function(){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[{field:'name',ascending:true}]},{$0:function(){return this.$5.startIndex},$1:function(e){this.$5.startIndex=e},$2:function(){if(ss.isValue(this.$6)){return this.$6}var e=_.map(this.$4,function(ex){return ss.mkdict(['field',ex.field,'ascending',ex.ascending])});this.$6=ss.mkdict(['page',this.$5,'order',e]);if(ss.isValue(this.$3)){this.$6['filter']=this.$3}return this.$6}},{$1:function(e,ex){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[e];this.$3=ex},$0:function(e,ex){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=(!tab.MiscUtil.isNullOrEmpty$2(e)?e:[{field:'name',ascending:true}]);this.$3=ex}});var f=ss.mkType(a,'tab.$11',function(e,ex){var pC=ss.registerGenericClassInstance(f,[e,ex],function(pD,pE){this.$0=ss.getDefaultValue(e);this.$1=ss.getDefaultValue(ex);this.$0=pD;this.$1=pE});return pC});ss.initGenericClass(f,2);var g=ss.mkType(a,'tab.$12',function(e){var ex=ss.registerGenericClassInstance(g,[e],function(pC){this.$0=ss.getDefaultValue(e);this.$1=null;this.$2=null;this.$0=pC});return ex});ss.initGenericClass(g,1);var h=ss.mkType(a,'tab.$13',function(e){var ex=ss.registerGenericClassInstance(h,[e],function(){this.$2=null;this.$3=null},{$0:function(pC){var pD=this.$2;this.$2=pC;pC.$1=pD;pC.$2=null;if(ss.isValue(pD)){pD.$2=pC}if(ss.isNullOrUndefined(this.$3)){this.$3=pC}},$1:function(pC){if(ss.referenceEquals(this.$2,pC)){this.$2=pC.$1}if(ss.referenceEquals(this.$3,pC)){this.$3=pC.$2}if(ss.isValue(pC.$2)){pC.$2.$1=pC.$1}if(ss.isValue(pC.$1)){pC.$1.$2=pC.$2}}});return ex});ss.initGenericClass(h,1);var i=ss.mkType(a,'tab.$14',function(e){jC.call(this,e,new kA('sizeItemList'.toString(),null))});var j=ss.mkType(a,'tab.$15',function(e){jC.call(this,e,new kA('sizeItems'.toString(),1))});var k=ss.mkType(a,'tab.$16',function(e){jC.call(this,e,new kA('sheetListItems'.toString(),1))});var l=ss.mkType(a,'tab.$17',function(e){this.$a=null;this.$l=null;this.$b=null;this.$3=null;this.$4=null;this.$5=null;this.$9=null;this.$8=null;this.$0=null;this.$1=null;this.$2=null;this.$6=null;this.$g=null;this.$k=null;this.$c=null;this.$7=null;this.$f=null;this.$j=null;this.$d=null;this.$h=null;this.$e=null;this.$i=null;var ex=e.Details;this.$a=ex.SpecId;this.$l=ex.ZOrder;this.$b=ex.StyleId;this.$3=ex.FillAbove;this.$4=ex.FillBelow;this.$5=ex.EnableInstantRefline;var pC=e.LayoutElements;this.$9=pC.SpecId;this.$8=pC.PaneIndex;this.$0=pC.AxisOrientation;this.$1=pC.CalculationScope;this.$2=pC.CellIndex;this.$6=pC.IsAxisReversed;this.$g=e.XValues;this.$k=e.YValues;this.$c=e.TextRun;this.$7=e.Labels;var pD=e.XStyles||e.YStyles;this.$f=pD.TextStyles;this.$d=pD.AxisStyles;var pE=e.YStyles||e.XStyles;this.$j=pE.TextStyles;this.$h=pE.AxisStyles;this.$e=pD.FillColors;this.$i=pE.FillColors});var m=ss.mkType(a,'tab.$18',function(e,ex,pC,pD,pE){this.$3=null;this.$2=null;var pF=e.$1[pC];var pG=e.$b[ex];var pH=e.$5[ex];var pI=(pD?e.$d:e.$h);var pJ=(pD?e.$f:e.$j);var pK=(pD?e.$e[pG]:e.$i[pG]);var pL=(pD?e.$g:e.$k);this.$3=new kV.$ctor1(pE,pD,pF,pH,pI,pG,e.$2,pL,e.$c,pJ,e.$7);this.$2=new kV(pE,pD,pF,pH,e.$2,pL,pK,e.$3[ex],e.$4[ex],e.$6[pC]);if(!this.$2.get_hasFill()){this.$2=null}},{$1:function(e,ex,pC){if(ss.isValue(this.$3)){this.$3.setPaneSection(e,ex,pC)}if(ss.isValue(this.$2)){this.$2.setPaneSection(e,ex,pC)}},$0:function(e,ex,pC){if(ss.isValue(this.$3)){ex.push({item1:e,item2:this.$3})}if(ss.isValue(this.$2)){pC.push({item1:e,item2:this.$2})}return}});var n=ss.mkType(a,'tab.$19',function(){this.$4={};this.$3={};this.$5={}},{$2:function(e){if(!ss.keyExists(this.$4,e)){return[]}return this.$4[e]},$1:function(e){if(!ss.keyExists(this.$5,e)){return[]}return this.$5[e]},$0:function(e){if(!ss.keyExists(this.$3,e)){return[]}return this.$3[e]}});var o=ss.mkType(a,'tab.$2',function(e,ex,pC,pD,pE){this.$6=null;this.$7=null;this.$g=0;this.$b=0;this.$c=0;this.$d=null;this.$f=null;this.$e=null;this.$9=0;this.$h=null;this.$a=0;this.$8=false;this.$1$1=null;this.$6=e;this.$7=ex;this.$g=pC;this.$c=ss.coalesce(pD,1);this.$b=ss.coalesce(pE,35)},{$1:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$2:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$0:function(e,ex,pC){var pD=false;for(var pE=0;pE<this.$7.length;pE++){var pF=this.$7[pE];if(ss.referenceEquals(pF.commandName,e.commandName)&&ss.referenceEquals(pF.commandNamespace,e.commandNamespace)){pD=true;break}}if(!pD){return 1}if(this.$8){return 1}if(ss.isValue(this.$d)&&ss.isValue(this.$h)){this.$4(this.$d,this.$f,this.$e);this.$d=e;this.$f=ex;this.$e=pC;return 0}var pG=Math.floor(tabBootstrap.MetricsController.getTiming());var pH=pG-this.$9;if(this.$g!==-1&&pH<this.$g){this.$5(e,ex,pC,this.$g-pH)}else if(this.$c!==-1&&this.$a>=this.$c){this.$5(e,ex,pC,this.$b*this.$a)}else{this.$8=true;++this.$a;try{this.$6.executeSingleRemoteCommand(e,ss.mkdel(this,function(pI,pJ){if(this.$a>0){--this.$a}ex(pI,pJ)}),ss.mkdel(this,function(pI){if(this.$a>0){--this.$a}pC(pI)}))}finally{this.$8=false;this.$9=pG}}return 0},$3:function(){var e=this.$d;var ex=this.$f;var pC=this.$e;this.$d=null;this.$f=null;this.$e=null;if(!ss.isValue(e)){return}this.$6.executeSingleRemoteCommand(e,ex,pC)},$5:function(e,ex,pC,pD){this.$d=e;this.$f=ex;this.$e=pC;this.$h=window.setTimeout(ss.mkdel(this,function(){this.$h=null;this.$3()}),pD)},$4:function(e,ex,pC){if(ss.isValue(this.$1$1)){this.$1$1(e,ex,pC)}}});var p=ss.mkType(a,'tab.$20',function(e,ex){this.$4=null;this.$3=false;this.$4=ex;this.$3=e},{$2:function(e,ex,pC){if(this.$3){return e(this.$4[pC])+0.5|0}else{return ex(this.$4[pC])+0.5|0}},$0:function(e,ex){if(this.$3){return[ex,e.y,ex,e.y+e.h]}else{return[e.x,ex,e.x+e.w,ex]}},$1:function(e,ex,pC,pD){var pE=ss.idiv(pC,2);if(this.$3){return{x:e-pE-pD,y:ex.y,w:pC+2*pD-1,h:ex.h}}else{return{x:ex.x,y:e-pE-pD,w:ex.w,h:pC+2*pD-1}}}});var q=ss.mkType(a,'tab.$21',function(e,ex,pC,pD){this.$d=null;this.$f=null;this.$e=null;this.$c=null;this.$d=e;this.$f=ex;this.$e=pC;this.$c=pD},{$6:function(e){return this.$d.TextRunOffset[e]},$5:function(e){return this.$d.TextRunCount[e]},$4:function(e){return this.$f.text_run[e]},$7:function(e){return{x:this.$f.text_run_x_remote[e],y:this.$f.text_run_y_remote[e]}},$9:function(e){return this.$d.Width[e]},$3:function(e){return this.$d.Height[e]},$a:function(e){var ex=this.$6(e);return!tab.DoubleUtil.isApproximatelyEqual(this.$f.text_run_x[ex],this.$f.text_run_x_remote[ex])||!tab.DoubleUtil.isApproximatelyEqual(this.$f.text_run_y[ex],this.$f.text_run_y_remote[ex])},$2:function(){return this.$c},$8:function(e){if(e>=0&&e<this.$d.TextRunOffset.length){var ex=this.$f.text_style_id[this.$d.TextRunOffset[e]];if(ex>=0&&ex<this.$e.font.length){return{item1:this.$e,item2:ex}}}return null},$0:function(e,ex,pC,pD,pE){var pF=Math.ceil(this.$d.Width[pC]);var pG=Math.ceil(this.$d.Height[pC]);var pH=this.$b(pC);var pI={x:0,y:0};var pJ=pD/2+0.5|0;if(pH!=='text-orient-horizontal'){var pK=pF;pF=pG;pG=pK}var pL=ex-pJ;var pM=ex+pJ;var pN=0;switch(tab.EnumConversions.labelHAlignmentFromInt(this.$d.HAligns[pC])){case'h-align-left':{pN=(pE?(pL-pF):e.x);break}case'h-align-right':{pN=(pE?pM:(e.x+e.w-pF));break}case'h-align-center':{pN=(pE?(ex-pF/2):(ss.idiv(e.x+e.x+e.w,2)-pF/2));break}}var pO=0;switch(tab.EnumConversions.labelVAlignmentFromInt(this.$d.VAligns[pC])){case'v-align-top':{pO=(pE?e.y:(pL-pG));break}case'v-align-bottom':{pO=(pE?(e.y+e.h-pG):pM);break}case'v-align-center':{pO=(pE?(ss.idiv(e.y+e.y+e.h,2)-pG/2):(ex-pG/2));break}}return{x:Math.floor(pN+0.5),y:Math.floor(pO+0.5),w:Math.ceil(pF),h:Math.ceil(pG)}},$1:function(e,ex,pC,pD,pE){var pF={x:0,y:0};var pG=this.$0(e,ex,pC,pD,pE);var pH=this.$b(pC);switch(pH){case'text-orient-vertical-down':{pF.x=pG.x+pG.w;pF.y=pG.y;break}case'text-orient-vertical-up':{pF.x=pG.x;pF.y=pG.y+pG.h;break}default:{pF.x=pG.x;pF.y=pG.y;break}}return pF},$b:function(e){var ex=this.$8(e);if(ss.isValue(ex)){return tab.EnumConversions.textOrientFromInt(ex.item1.text_orientation[ex.item2])}return'text-orient-horizontal'}});var r=ss.mkType(a,'tab.$22',function(e,ex,pC,pD){this.$9=null;this.$1$1=false;this.$1$2=false;this.$1$3=false;this.$4(e);this.$6(ex);this.$9=new Array(pC.length);for(var pE=0;pE<pC.length;pE++){this.$9[pE]=ct.fromArgbInt(pC[pE]>>>0)}this.$8(pD)},{$3:function(){return this.$1$1},$4:function(e){this.$1$1=e},$5:function(){return this.$1$2},$6:function(e){this.$1$2=e},$2:function(){return this.$9.length},$7:function(){return this.$1$3},$8:function(e){this.$1$3=e},$0:function(e){return this.$9[e]},$1:function(e,ex,pC,pD){pD=(this.$7()?(1-pD):pD);if(e){var pE=[ex.x,pC,ex.x+ex.w];return{x:pE[pD],y:ex.y,w:pE[pD+1]-pE[pD],h:ex.h}}else{var pF=[ex.y+ex.h,pC,ex.y];return{x:ex.x,y:pF[pD+1],w:ex.w,h:pF[pD]-pF[pD+1]}}}});var s=ss.mkEnum(a,'tab.$23',{$0:60011});var t=ss.mkEnum(a,'tab.$24',{$0:60011});var u=ss.mkType(a,'tab.$25',function(e,ex){this.$3=null;this.$2=null;this.$3=e;this.$2=ex},{$0:function(){return this.$2},$1:function(){return this.$3}});var v=ss.mkType(a,'tab.$26',null,null,{$0:function(e,ex,pC){var pD=new Set;for(var pE=0;pE<ex.length;pE++){var pF=ex[pE];if(ss.contains(pF.sourceWorksheets,e)&&v.$1(pF,pC)){tab.SetUtilities.addAll(Object).call(null,pD,pF.targetWorksheets)}}return pD},$1:function(e,ex){var pC=cJ.deserialize(nj.create(e.simpleCommandModel).get_simpleCommand(),true);if(ss.isNullOrUndefined(ex)||bs.isSpecialDateTimeHighlighting(pC)){return true}var pD=bs.getHighlightFieldCaptions(pC,ex.get_highlightCaptions(),ex.get_fieldCaptions());return!tab.MiscUtil.isNullOrEmpty(pD)}});var w=ss.mkType(a,'tab.$27',function(){this.$1$1=0;this.$1$2=0;this.$1$3=0;this.$1$4=0;this.$1(0);this.$3(0);this.$5(0);this.$7(0)},{$6:function(){return this.$1$1},$7:function(e){this.$1$1=e},$4:function(){return this.$1$2},$5:function(e){this.$1$2=e},$0:function(){return this.$1$3},$1:function(e){this.$1$3=e},$2:function(){return this.$1$4},$3:function(e){this.$1$4=e}},{$0:function(e,ex,pC,pD){this.$1$1=0;this.$1$2=0;this.$1$3=0;this.$1$4=0;this.$1(e);this.$3(ex);this.$5(pC);this.$7(pD)}});var x=ss.mkType(a,'tab.$28',function(e,ex){this.$1$1=0;this.$1$2=0;this.$3(e);this.$1(ex)},{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$2:function(){return this.$1$2},$3:function(e){this.$1$2=e}});var y=ss.mkType(a,'tab.$29');var z=ss.mkType(a,'tab.$3',function(){this.$7=null;this.$1$1=null;this.$7=[]},{$3:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$4:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$2:function(e,ex,pC){for(var pD=0;pD<this.$7.length;pD++){var pE=this.$7[pD];if(pE.$0(e,ex,pC)===0){return 0}}return 1},$1:function(e,ex,pC,pD){var pE=new cM;pE.commandNamespace=ex;pE.commandName=pC;this.$0(e,[pE],pD)},$0:function(e,ex,pC){this.$6(e,ex,pC,null,null)},$6:function(e,ex,pC,pD,pE){var pF=new o(e,ex,pC,pD,pE);pF.$1(ss.mkdel(this,this.$5));this.$7.push(pF)},$5:function(e,ex,pC){var pD=new ss.Exception('Command '+e.commandName+' was dropped by the CommandThrottler');if(!ss.staticEquals(this.$1$1,null)){this.$1$1(0,e,pD)}pC(pD)}});var A=ss.mkEnum(a,'tab.$30',{$0:1,$1:2,$2:3,$3:4,$4:5,$5:6});var B=ss.mkType(a,'tab.$31',function(e){this.$2=null;this.$1=null;this.$2=e;if(ss.isNullOrUndefined(this.$2.dashboardPresModel)){return}var ex={};var pC=this.$2.dashboardPresModel.zones;var pD=_.keys(this.$2.dashboardPresModel.zones);for(var pE=0,pF=pD.length;pE<pF;pE++){var pG=pD[pE];var pH=pC[pG];if(ss.isNullOrUndefined(pH)||ss.isValue(pA.getContent(pH,'imageZone'))){ex[pG]=null}else{ex[pG]=pH.presModelHolder}}this.$1=ex},{$0:function(){if(ss.isNullOrUndefined(this.$1)){return this.$2}var e=_.keys(this.$1);var ex=this.$2.dashboardPresModel.zones;var pC=this.$1;for(var pD=0,pE=e.length;pD<pE;pD++){var pF=e[pD];ex[pF].presModelHolder=pC[pF]}return this.$2}});var C=ss.mkType(a,'tab.$32',function(e,ex){this.$2=null;this.$3=null;this.$1$1=null;this.$0(e);this.$3=ex},{get_notificationId:function(){return this.$1$1},$0:function(e){this.$1$1=e},onNotify:function(e,ex){var pC=$.Deferred();var pD=pC.promise();pD.done(ss.mkdel(this,function(){if(ss.isValue(this.$2)){jC.nonWorldUpdate(ss.mkdel(this,function(pE){this.$2.onNotify(e,pE)}))}}));if(ss.isValue(this.$2)){pC.resolve()}else{this.$3().done(ss.mkdel(this,function(pE){if(ss.isValue(pE)){this.$2=pE;this.$2.add_stopNotifying(ss.mkdel(this,this.$1))}pC.resolve()}))}},$1:function(){this.$2=null}});var D=ss.mkType(a,'tab.$33',function(e){this.$9=null;this.$a=new Map;this.$8=[];this.$7=false;this.$9=e},{$2:function(){return this.$9},$3:function(){return this.$a.size===0},$4:function(){var e=[];this.$a.forEach(function(ex){e.push(ex)});return e},$0:function(e,ex){if(ss.isNullOrUndefined(e)||e.length===0){return}this.$8.push(D.$0(ex,e));this.$7=this.$7||this.$5(e);e=D.$1(ex,e);this.$a.set(e.join(','),e)},$1:function(e,ex){if(ss.isNullOrUndefined(ex)||ex.length===0){return false}var pC;if(this.$7||this.$5(ex)){pC=this.$6(e,ex)}else{var pD=D.$1(e,ex);pC=this.$a.has(pD.join(','))}return pC},$5:function(e){for(var ex=0;ex<e.length;ex++){var pC=e[ex];if(!ss.isValue(pC)){return true}}return false},$6:function(e,ex){var pC=D.$0(e,ex);for(var pD=0;pD<this.$8.length;pD++){var pE=this.$8[pD];var pF=true;var pG=false;var pH=0;var pI=0;while(pF&&pI<pE.length&&pH<pC.length){var pJ=pE[pI];var pK=pC[pH];if(pJ.item1<pK.item1){++pI}else if(pJ.item1>pK.item1){++pH}else{pF=!ss.isValue(pJ.item2)||!ss.isValue(pK.item2)||ss.referenceEquals(pJ.item2,pK.item2);pG=pG||ss.referenceEquals(pJ.item2,pK.item2);++pI;++pH}}if(pF&&pG){return true}}return false}},{$0:function(e,ex){var pC=new Array(e.length);for(var pD=0;pD<e.length;++pD){pC[pD]={item1:e[pD],item2:ex[pD]}}pC.sort(function(pE,pF){return pE.item1-pF.item1});return pC},$1:function(e,ex){var pC;if(ex.length===1||ss.isNullOrUndefined(e)){pC=ex}else{pC=_.sortBy(ex,function(pD,pE){return e[pE]})}return pC}});var E=ss.mkType(a,'tab.$34',null,null,{$e:function(){return tab.Logger.lazyGetLogger(mh)},$2:function(e,ex,pC,pD,pE){var pF=E.$4(pD,pE);var pG=new D(pE);if(ss.isNullOrUndefined(pF)){return pG}var pH=new Array(pE.length);for(var pI=0;pI<pH.length;++pI){var pJ=pD.getColumnIndex(pE[pI]);pH[pI]=pJ}var pK={};for(var pL=0;pL<pC.length;pL++){var pM=pC[pL];var pN=e.getItemNamesFromObjectId(pM);if(ss.isNullOrUndefined(pN)){continue}var pO=true;var pP=[];for(var pQ=0;pQ<pN.length;pQ++){var pR=ex[pQ];var pS=pF[pR];if(ss.isNullOrUndefined(pS)){continue}pK[pR]=pK[pR]||oJ.buildAliasReverseLookup(pD,pS,bd.get_instance().get_dataDictionary());var pT=pK[pR];var pU=pT[pN[pQ]];if(!ss.isValue(pU)){pO=false;break}pP.push(pU)}if(pO){pG.$0(pP,pH)}}return pG},$1:function(e,ex){var pC={};for(var pD=0;pD<ex.length;pD++){var pE=ex[pD];var pF=new Array(pE.columnIndices.length);for(var pG=0;pG<pF.length;pG++){var pH=e.getVizDataFieldByIndex(pE.columnIndices[pG]);pF[pG]=pH.get_fieldName()}var pI=pF.join(';');var pJ;if(ss.keyExists(pC,pI)){pJ=pC[pI]}else{pJ=new D(pF);pC[pI]=pJ}pJ.$0(pE.aliasIndices,pE.columnIndices)}return _.map(pC,function(pK,pL){return pK})},$b:function(e,ex){var pC=[];for(var pD=0;pD<ex.length;pD++){var pE=ex[pD];if(ss.isNullOrUndefined(pE.node)){continue}var pF=pE.node;if(ss.isValue(pF.columnIndices)){for(var pG=0;pG<pF.columnIndices.length;pG++){var pH=pF.columnIndices[pG];var pI=e.get_vizDataModel().getVizDataFieldByIndex(pH);var pJ=pI.get_fieldCaption();if(!ss.contains(pC,pJ)){pC.push(pJ)}}}if(ss.isValue(pF.fn)){var pK=e.get_vizDataModel().getVizDataField(pF.fn);var pL=pK.get_fieldCaption();if(!ss.contains(pC,pL)){pC.push(pL)}}}return Array.prototype.slice.call(pC)},$3:function(e,ex,pC){var pD=new D(pC);var pE=E.$4(e,pC);if(ss.isNullOrUndefined(pE)){return pD}for(var pF=0;pF<ex.length;pF++){var pG=ex[pF];var pH=[];var pI=[];for(var pJ=0;pJ<pC.length;pJ++){var pK=pC[pJ];var pL=pE[pK];var pM=pL.getAliasIndex(pG);pH.push(pM);pI.push(e.getColumnIndex(pK))}if(pH.length!==pC.length){}pD.$0(pH,pI)}return pD},$0:function(e,ex,pC,pD){var pE=[];var pF={};var pG=false;e.forEachVizDataField(function(pZ,qa){if(E.$d(pZ)){var qb=pZ.get_aggType()||'none';pF[qb]=qa;if(qb==='none'){pG=true}}return true});var pH=true;var pI=null;ex.forEachVizDataField(function(pZ,qa){if(E.$d(pZ)){if(ss.isNullOrUndefined(pI)){pI=pZ.get_baseColumnName()}else if(!ss.referenceEquals(pI,pZ.get_baseColumnName())){pH=false}}return true});var pJ=[];if(pH){var pK=[];ex.forEachVizDataField(function(pZ,qa){if(E.$d(pZ)){var qb=pZ.get_aggType()||'none';if(!pG&&qb==='none'){var qc=ss.getEnumerator(Object.keys(pF));try{while(qc.moveNext()){var qd=qc.current();if(!ss.contains(pK,qd)){pK.push(qd);var qe=pF[qd];pE.push(new F(qe,qa,qd,'none'));var qf=e.getVizDataFieldByIndex(qe);pJ.push(qf)}}}finally{qc.dispose()}}else if(ss.keyExists(pF,qb)){if(!ss.contains(pK,qb)){pK.push(qb);var qg=pF[qb];pE.push(new F(qg,qa,'none','none'));pJ.push(pZ)}}else if(pG){var qh=pF['none'];pE.push(new F(qh,qa,'none',qb));pJ.push(pZ)}}return true})}var pL=new Array(pJ.length);for(var pM=0;pM<pJ.length;pM++){var pN=pJ[pM];pL.push(pN.get_fieldCaption())}var pO=new D(pL);for(var pP=0;pP<pD.length;pP++){var pQ=pD[pP];var pR=[];var pS=[];for(var pT=0;pT<pE.length;pT++){var pU=pE[pT];var pV=e.getVizDataFieldByIndex(pU.$3);var pW=pV.getDataValueIndex(pQ);if(ss.isValue(pW)){var pX=pC.getRawValue(pV.get_dataType(),ss.unbox(pW));var pY=E.$c(pX,pU.$2,pU.$0,ss.unbox(pW));pR.push(pY);pS.push(pU.$3)}}pO.$0(pR,pS)}return{item1:pO,item2:pE}},$a:function(e,ex,pC,pD){var pE=[];if(ss.isNullOrUndefined(pC)||e.$3()){return pE}pC.forEachTupleId(function(pF){var pG=[];var pH=[];for(var pI=0;pI<ex.length;pI++){var pJ=ex[pI];var pK=pC.getVizDataFieldByIndex(pJ.$1);var pL=pK.getDataValueIndex(pF);if(ss.isValue(pL)){var pM=pD.getRawValue(pK.get_dataType(),ss.unbox(pL));var pN=E.$c(pM,pJ.$0,pJ.$2,ss.unbox(pL));pG.push(pN);pH.push(pJ.$1)}}if(e.$1(pH,pG)){pE.push(pF)}return true});return pE},$9:function(e,ex){var pC=[];if(ss.isNullOrUndefined(ex)||e.$3()){return pC}var pD=e.$2();var pE=E.$4(ex,pD);if(ss.isNullOrUndefined(pE)){return pC}if(!ex.get_hasTupleIdColumn()){return pC}var pF=new Array(pD.length);for(var pG=0;pG<pD.length;pG++){pF[pG]=ex.getColumnIndex(pD[pG])}ex.forEachTupleId(function(pH){var pI=new Array(pD.length);for(var pJ=0;pJ<pD.length;pJ++){var pK=pD[pJ];var pL=pE[pK];var pM=pL.getAliasIndex(pH);pI[pJ]=pM}if(e.$1(pF,pI)){pC.push(pH)}return true});return pC},$8:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(pC)||ex.$3()){return pD}var pE=ex.$2();var pF=null;var pG=e.get_sceneRuntimeData().get_panes();for(var pH=0;pH<pG.length;pH++){var pI=pG[pH];for(var pJ=0;pJ<pI.drawPane.length;pJ++){var pK=pI.drawPane[pJ];if(pK.visualPart==='trend-lines'){for(var pL=0;pL<pK.drawItems.length;pL++){var pM=pK.drawItems[pL];if(pM.type==='draw-group'){pF=new Array(pE.length);for(var pN=0;pN<pE.length;pN++){pF[pN]=pC.getColumnIndex(pE[pN])}var pO=pM;var pP={};if(ss.isValue(pO.columnIndices)){for(var pQ=0;pQ<pO.columnIndices.length;pQ++){pP[pO.columnIndices[pQ]]=pO.aliasIndices[pQ]}}var pR=new Array(pE.length);for(var pS=0;pS<pE.length;pS++){if(ss.keyExists(pP,pF[pS])){pR[pS]=pP[pF[pS]]}else{pR[pS]=null}}if(ex.$1(pF,pR)){pD.push(pO.objectId)}}}}}}return pD},$4:function(e,ex){var pC={};for(var pD=0;pD<ex.length;pD++){var pE=ex[pD];var pF=e.getVizDataField(pE);if(ss.isNullOrUndefined(pF)){return null}pC[pE]=pF}return pC},$5:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(ex)||pC.get_fieldCaptions().length!==e.$2().length){return pD}var pE=e.$2();var pF=pC.get_fieldCaptions();var pG=[];for(var pH=0;pH<pF.length;pH++){var pI=pF[pH];var pJ=ss.indexOf(pE,pI);if(pJ===-1){return pD}pG.push(pJ)}var pK=bd.get_instance().get_dataDictionary();var pL={};var pM={};var pN=[];var pO=e.$4();for(var pP=0;pP<pO.length;pP++){var pQ=pO[pP];var pR=true;pN.length=pQ.length;for(var pS=0;pS<pN.length;pS++){var pT=pG[pS];var pU=pQ[pT];if(!ss.isValue(pU)){pR=false;break}var pV=pF[pS];pL[pV]=pL[pV]||ex.getVizDataField(pV);var pW=pL[pV];pN[pS]=oJ.lookupAliasFromIndex(pU,pW,pK)}if(pR){pM[pN.join(',')]=true}}var pX=pC.get_items();for(var pY=0;pY<pX.length;pY++){var pZ=pX[pY];if(pM[pZ.itemValues.join(',')]===true){pD.push(pZ.objectId)}}return pD},$6:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(ex.get_vizDataModel())){return pD}var pE=e.$2();for(var pF=0;pF<pC.length;pF++){var pG=pC[pF];var pH=ss.isNullOrUndefined(pG.node)||ss.isNullOrUndefined(pG.node.columnIndices)||ss.isNullOrUndefined(pG.node.aliasIndices);if(pH||pG.node.aliasIndices.length<pE.length){continue}var pI=[];var pJ=[];var pK=false;for(var pL=0;pL<pG.node.columnIndices.length;++pL){var pM=pG.node.columnIndices[pL];var pN=ex.get_vizDataModel().getVizDataFieldByIndex(pM).get_fieldCaption();if(ss.isValue(pN)&&ss.contains(pE,pN)){pI.push(pM);pJ.push(pG.node.aliasIndices[pL]);if(pL===0){pK=true}}}if(pK&&e.$1(pI,pJ)){var pO=mn.nodeSelectionFromDrawGroup(pG);pD.push(pO)}}return pD},$7:function(e,ex,pC,pD){var pE=[];if(ss.isNullOrUndefined(pC.get_vizDataModel())){return pE}var pF=new ss.ObjectEnumerator(pC.get_sceneModel().get_visualListModels());try{while(pF.moveNext()){var pG=pF.current();var pH=pG.value.get_groupItemNodes();for(var pI=0;pI<pH.length;pI++){var pJ=pH[pI];if(ss.isNullOrUndefined(pJ.node.columnIndices)||ss.isNullOrUndefined(pJ.node.aliasIndices)||!tab.MiscUtil.isNullOrEmpty$1(pJ.node.fn)){continue}var pK=[];for(var pL=0;pL<pJ.node.columnIndices.length;++pL){var pM={$:pJ.node.columnIndices[pL]};var pN=_.find(ex,ss.mkdel({nodeColIndex:pM},function(pS){return pS.$1===this.nodeColIndex.$}));if(ss.isValue(pN)){var pO=pJ.node.aliasIndices[pL];var pP=pC.get_vizDataModel().getVizDataFieldByIndex(pN.$1);var pQ=pD.getRawValue(pP.get_dataType(),pO);if(ss.isValue(pQ)){var pR=E.$c(pQ,pN.$0,pN.$2,pO);pK.push(pR)}}}if(pK.length===pJ.node.aliasIndices.length){if(e.$1(pJ.node.columnIndices,pK)){pE.push(mn.nodeSelectionFromDrawGroup(pJ))}}}}}finally{pF.dispose()}return pE},$d:function(e){if(ss.isNullOrUndefined(e)){return false}var ex=e.get_dataType();if(ex==='datetime'||ex==='date'){return true}var pC=['day','hour','mdy','minute','month','month-year','qtr','trunc-day','trunc-hour','trunc-minute','trunc-month','trunc-qtr','trunc-second','trunc-week','trunc-year','week','weekday','year'];return ss.contains(pC,e.get_aggType())},$c:function(e,ex,pC,pD){if(_.isNumber(e)){return e}var pE=(_.isDate(e)?e:tab.DateUtil.parsePresModelDate(e));var pF=pD;if(ex==='none'&&pC!=='none'){switch(pC){case'year':{pF=tab.DateUtil.dateAsYear(pE);break}case'qtr':{pF=tab.DateUtil.dateAsQuarter(pE);break}case'month':{pF=tab.DateUtil.dateAsMonth(pE);break}case'day':{pF=tab.DateUtil.dateAsDay(pE);break}case'hour':{pF=tab.DateUtil.dateTimeAsHour(pE);break}case'minute':{pF=tab.DateUtil.dateTimeAsMinute(pE);break}case'second':{pF=tab.DateUtil.dateTimeAsSecond(pE);break}case'week':{pF=tab.DateUtil.dateAsWeek(pE);break}case'weekday':{pF=tab.DateUtil.dateAsDayOfWeek(pE);break}case'month-year':{pF=tab.DateUtil.dateAsMonthYear(pE);break}case'mdy':{pF=tab.DateUtil.dateAsMonthDayYear(pE);break}}if(ss.isNullOrUndefined(pF)){}}return pF}});var F=ss.mkType(a,'tab.$35',function(e,ex,pC,pD){this.$3=0;this.$1=0;this.$2=null;this.$0=null;this.$3=e;this.$1=ex;this.$2=pC||'none';this.$0=pD||'none'});var G=ss.mkEnum(a,'tab.$36',{$0:16,$1:20,$2:22});var H=ss.mkEnum(a,'tab.$37',{$0:60011});var I=ss.mkType(a,'tab.$4',function(e){jC.call(this,e,new kA('deviceZoneVisibilityListItem'.toString(),1))});var J=ss.mkType(a,'tab.$5',function(e){jC.call(this,e,new kA('deviceZoneVisibilityListItem'.toString(),1))});var K=ss.mkType(a,'tab.$6',function(e){oE.call(this,e);this.c=true},{gv:function(e){return this.v[0]},setValue:function(e,ex){this.v[0]=ex}});var L=ss.mkType(a,'tab.$7',function(e,ex,pC){this.$3=null;this.$1=null;this.$2=null;this.$3=e;this.$1=ex;this.$2=pC},{get_waitingOnCommands:function(){return this.$2()},get_deferredServerResponseQueueSize:function(){return this.$1()},get_currentWorldDiffersFromCheckpoint:function(){return this.$3.currentWorldDiffersFromCheckpoint},getWorldCheckpoint:function(){return this.$3.worldCheckpoint()},$0:function(e){var ex=e.presModelHolder['visual'.toString()];if(ss.isValue(ex)&&ss.isValue(ex.scene)&&ss.isValue(ex.scene.runtimeRenderInputDatastore)){return ex.scene.runtimeRenderInputDatastore}return null},getRuntimeFinalDataStoreRaw:function(e){var ex=this.getWorldCheckpoint();if(ss.isNullOrUndefined(ex.workbookPresModel.dashboardPresModel.zones)){return''}var pC=new ss.ObjectEnumerator(ex.workbookPresModel.dashboardPresModel.zones);try{while(pC.moveNext()){var pD=pC.current();if(ss.isNullOrEmptyString(e)||ss.equalsT(pD.key,e)){var pE=this.$0(pD.value);if(ss.isValue(pE)){return pE}}}}finally{pC.dispose()}var pF=bd.get_instance().get_workbook().get_storyboard().get_flipboard();var pG=pF.get_storyPointModel().get_dashboardModel().get_zoneModels();for(var pH=0;pH<pG.length;pH++){var pI=pG[pH];if(ss.isNullOrEmptyString(e)||ss.equalsT(pI.presModelKey.name,e)){var pJ=this.$0(pI.pm);if(ss.isValue(pJ)){return pJ}}}return''}});var M=ss.mkType(a,'tab.$8',null,null,{$2:function(e){return function(ex,pC,pD){var pE=$.Deferred();var pF=oM.createRequest(ex,pC.$2(),function(){},function(){});pF.success=function(pG,pH,pI){mu.onVizportalPinged();var pJ=oM.$3(pG);if(oM.$4(pJ)){pE.reject();return}var pK=pD(pJ);pE.resolve(pK)};px.helper(pF,null);return pE.promise()}},$3:function(e){return function(ex,pC){var pD=pC(ex);var pE=ex['moreItems'].toString().toLowerCase()==='true';return{items:pD,moreItems:pE}}},$0:function(e){return function(ex,pC,pD,pE){var pF=M.$2(e).call(null,ex,pC,pD);pF.done(function(pG){if(!pG.moreItems){pE();return}pC.$1(pC.$0()+pG.items.length);M.$0(e).call(null,ex,pC,pD,pE)});pF.fail(pE)}},$1:function(e){return function(ex,pC,pD,pE,pF){var pG=M.$2(e).call(null,ex,pC,pD);pG.done(function(pH){if(!pH.moreItems){pE();return}pC.$1(pC.$0()+pH.items.length);M.$1(e).call(null,ex,pC,pD,pE,pF)});pG.fail(pF)}}});var N=ss.mkType(a,'tab.$9',null,null,{isInstanceOfType:function(){return true}});var O=global.tab.AcceleratingRangeTransform=ss.mkType(a,'tab.AcceleratingRangeTransform',function(e,ex,pC,pD,pE,pF){this.$7=0;this.$3=0;this.$5=0;this.$4=0;this.$6=0;this.$0=0;this.$1=0;this.$2=0;kQ.call(this);if(ss.isNullOrUndefined(pE)&&ss.isValue(pF)){pE=pC;pF=pD}this.$7=e;this.$3=pC;this.$5=pD;this.$4=pE;this.$6=pF;var pG=ex;var pH=pE;var pI=pF;var pJ=pF/pE;this.$0=(pI-pJ*pH-pG+pJ)/(-(pH*pH)+2*pH-1);this.$1=pJ-2*this.$0*pH;this.$2=pG-pJ+this.$0*(2*pH-1)},{fractionToValue:function(e){if(e<=this.$3){return this.$7+e*(this.$5-this.$7)/this.$3}if(e<=this.$4){var ex=(this.$6-this.$5)/(this.$4-this.$3);var pC=this.$5-ex*this.$3;return e*ex+pC}return this.$0*e*e+this.$1*e+this.$2},valueToFraction:function(e){if(e<=this.$5){return this.$3*(e-this.$7)/(this.$5-this.$7)}if(e<=this.$6){var ex=(this.$6-this.$5)/(this.$4-this.$3);var pC=this.$5-ex*this.$3;return(e-pC)/ex}var pD=Math.sqrt(this.$1*this.$1-4*this.$0*(this.$2-e));return(-this.$1+pD)/(2*this.$0)}});var P=global.tab.AckbarEventsHelper=ss.mkType(a,'tab.AckbarEventsHelper',function(){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null},{add_doLaunchAuthoring:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_doLaunchAuthoring:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_newLayoutId:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_newLayoutId:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_workbookModifiedChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_workbookModifiedChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_orientationChange:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_orientationChange:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},onAuthoringLaunchRequested:function(){var e=this.$1$1;if(!ss.staticEquals(e,null)){e()}},onNewLayoutId:function(e){var ex=this.$1$2;if(!ss.staticEquals(ex,null)){ex(e)}},onWorkbookModifiedChanged:function(e){var ex=this.$1$3;if(!ss.staticEquals(ex,null)){ex(e)}},onOrientationChange:function(){var e=this.$1$4;if(!ss.staticEquals(e,null)){e()}}},{get:function(){if(ss.isNullOrUndefined(P.instance)){P.instance=new P}return P.instance}});var Q=global.tab.ActionType=ss.mkEnum(a,'tab.ActionType',{highlight:'highlight',filter:'filter',url:'url',group:'group',navigation:'navigation',parameter:'parameter'},true);var R=global.tab.ActionUtils=ss.mkType(a,'tab.ActionUtils',null,null,{$p:function(){return tab.Logger.lazyGetLogger(R)},get_previousInteractedTupleInfo:function(){return R.$s},set_previousInteractedTupleInfo:function(e){R.$s=e},isWorksheetSourceOfAction:function(e,ex){return _.any(e.sourceWorksheets,function(pC){return ss.referenceEquals(pC,ex)})},isActionTargetSheetOnCurrentDashboard:function(e){var ex=jF.getVisualModels(bd.get_instance());for(var pC=0;pC<e.targetWorksheets.length;pC++){var pD=e.targetWorksheets[pC];if(ss.keyExists(ex,pD)){return true}}return false},$j:function(e,ex){if(ss.isNullOrUndefined(e)){return false}if(ss.isNullOrUndefined(e.simpleCommandModel)){return false}return ss.startsWithString(nj.create(e.simpleCommandModel).get_simpleCommand().toString(),cN.serialize(ex))},isFilterAction:function(e){return R.$j(e,{ns:'tabdoc',cmd:'filter-targets'})},isHighlightAction:function(e){return R.$j(e,{ns:'tabdoc',cmd:'highlight'})},isGroupAction:function(e){return R.$j(e,{ns:'tabdoc',cmd:'modify-marks-in-set-v2'})&&e.sourceWorksheets.length>0},isNavigationAction:function(e){return R.$j(e,{ns:'tabdoc',cmd:'navigate-to-sheet'})&&e.sourceWorksheets.length>0&&e.targetWorksheets.length>0},isParameterAction:function(e){return R.$j(e,{ns:'tabdoc',cmd:'set-parameter-value-from-mark'})&&e.sourceWorksheets.length>0},$0:function(e){return R.isParameterAction(e)||R.isGroupAction(e)},isWorksheetSourceOfASelectTriggeredFilterAction:function(e,ex){var pC=e.pm;var pD=pC.userActions;for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];if(!R.isWorksheetSourceOfAction(pF,ex)||pF.activation!=='on-select'||ss.isNullOrUndefined(pF.simpleCommandModel)||!ss.referenceEquals(R.$l(pF).commandName,{ns:'tabdoc',cmd:'filter-targets'}.cmd)||pF.targetWorksheets.length===0){continue}return true}return false},$9:function(e){return function(ex){return R.getActionType(ex)===e}},$a:function(){return function(e){return R.getActionType(e)==='url'||ss.isValue(e.targetUrl)||e.targetWorksheets.length>0||R.$0(e)||R.isNavigationAction(e)}},getApplicableActions:function(e,ex,pC){var pD=bd.get_instance().get_workbook().findContentDashboard().get_actionPresModels();var pE=R.$c(pD,e,ex);if(ss.isValue(pC)){pE=_.filter(pE,R.$9(ss.unbox(pC)))}pE=_.filter(pE,R.$a());return pE},getNovelActions:function(e,ex,pC,pD){var pE=R.getApplicableActions(e.worksheet,ex,pD);return _.filter(pE,function(pF){return!R.isCurrentTupleSameAsPrevious(e,pC,pD)})},computeCommandBlockingOptionForLocallyRenderedSelection:function(e){return((R.shouldBlockVizInteractionWhenExecutingActionOnSelection(e.worksheet)||R.willActionCauseTabChange(e.worksheet,'on-select'))?'afterDelay':'none')},doesWorksheetContainHoverActionsThatInvalidateVisualPresModelAndRunRemotely:function(e){return R.getApplicableActions(e,'on-hover','group').length>0||R.getApplicableActions(e,'on-hover','filter').length>0||R.getApplicableActions(e,'on-hover','parameter').length>0},computePossibleLocalWorkForRemoteHoverActions:function(e,ex,pC){var pD=null;if(ss.isNullOrUndefined(ex)){ex=[]}if(pC||R.doesWorksheetContainHoverActionsThatInvalidateVisualPresModelAndRunRemotely(e.worksheet)){pD=function(pE){R.executeActions(e,'on-hover',ex,pE,false)}}return pD},ubertipActionNeedsToWaitForServerPresModel:function(e){return R.isFilterAction(e)||R.isHighlightAction(e)&&!R.isActionTargetSheetOnCurrentDashboard(e)||R.isNavigationAction(e)||R.$0(e)},canSelectTriggeredFilterActionsModifyTheirSourceSheet:function(e){var ex=R.getApplicableActions(e,'on-select','filter');return R.$n(ex)&&R.$3(ex,e)},canSelectTriggeredParameterActionsModifyTheirSourceSheet:function(e){return R.$n(R.getApplicableActions(e,'on-select','parameter'))},canSelectTriggeredGroupActionsModifyTheirSourceSheet:function(e){return R.$n(R.getApplicableActions(e,'on-select','group'))},canRemoteSelectTriggeredActionsModifyTheirSourceSheet:function(e){return R.canSelectTriggeredFilterActionsModifyTheirSourceSheet(e)||R.canSelectTriggeredGroupActionsModifyTheirSourceSheet(e)||R.canSelectTriggeredParameterActionsModifyTheirSourceSheet(e)},doesWorksheetHaveHoverOrMenuActions:function(e){return R.getApplicableActions(e,'on-hover',null).length>0||R.getApplicableActions(e,'explicitly',null).length>0},shouldBlockVizInteractionWhenExecutingActionOnSelection:function(e){var ex=R.getApplicableActions(e,'on-select','filter').concat(Array.prototype.slice.call(R.getApplicableActions(e,'on-select','group'))).concat(Array.prototype.slice.call(R.getApplicableActions(e,'on-select','parameter')));return R.$n(ex)},$n:function(e){return e.length>0&&!bd.get_instance().get_isOffline()},$3:function(e,ex){for(var pC=0;pC<e.length;pC++){var pD=e[pC];for(var pE=0;pE<pD.targetWorksheets.length;pE++){var pF=pD.targetWorksheets[pE];if(ss.referenceEquals(pF,ex)){return true}}}return false},executeActions:function(e,ex,pC,pD,pE){var pF=jF.getVisualModel(bd.get_instance(),e.worksheet);R.$7(e,pF,ex,pC,pD,pE);R.$4(e,pF,ex,pC,pD)},executeAction:function(e,ex,pC,pD){if(ss.isNullOrUndefined(e)){return}var pE=[e];if(ss.isValue(e.linkSpec)){R.$8(pE,ex,pC)}else{R.$6(pE,ex,pC,pD)}},getActionType:function(e){if(ss.isValue(e.simpleCommandModel)){var ex=R.$l(e);if(ss.referenceEquals(ex.commandName,{ns:'tabdoc',cmd:'highlight'}.cmd)){return'highlight'}if(ss.referenceEquals(ex.commandName,{ns:'tabdoc',cmd:'filter-targets'}.cmd)){return'filter'}if(ss.referenceEquals(ex.commandName,{ns:'tabdoc',cmd:'modify-marks-in-set-v2'}.cmd)){return'group'}if(ss.referenceEquals(ex.commandName,{ns:'tabdoc',cmd:'goto-sheet'}.cmd)){return'navigation'}if(ss.referenceEquals(ex.commandName,{ns:'tabdoc',cmd:'set-parameter-value-from-mark'}.cmd)){return'parameter'}return null}if(ss.isValue(e.linkSpec)){return'url'}return null},willActionCauseTabChange:function(e,ex){if(bd.get_instance().get_isOffline()){return false}var pC=R.getApplicableActions(e,ex,'filter').concat(Array.prototype.slice.call(R.getApplicableActions(e,ex,'navigation')));for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];if(ss.isValue(pE.simpleCommandModel)){var pF=R.$l(pE);var pG=pF.commandParams['targetSheet'];if(ss.isValue(pG)&&!_.isEqual(pG,tsConfig.current_sheet_name)){return true}}}return false},getMenuUrlActionsForUbertipModel:function(e){var ex=R.getApplicableActions(e.worksheet,'explicitly',null);return _.filter(ex,function(pC){if(R.getActionType(pC)!=='url'&&!R.$0(pC)&&pC.targetWorksheets.length===0){return false}return true})},getUrlActionPm:function(e,ex,pC){if(ss.isValue(pC)&&ss.isValue(e.linkSpec)){var pD=ex.get_vizDataModel();var pE=bd.get_instance().get_dataDictionary();var pF=oL.constructUrl(pE,e.linkSpec,pD,pC,ex.get_worksheetName());return{item1:R.$2(pF,e.linkSpec),item2:pF.item2}}return{item1:null,item2:'urlConstructionFail'}},$2:function(e,ex){if(e.item2!=='success'){return null}var pC={url:e.item1};switch(ex.urlActionTargetType){case'default-zone-or-browser':{var pD=jF.getFirstAvailableWebZoneName(bd.get_instance());if(ss.isValue(pD)){pC.target=pD}break}case'browser':{pC.target='_blank';break}case'specific-zone':{pC.target='frame_'+ex.zoneId.toString();break}}return pC},$6:function(e,ex,pC,pD){var pE=bs.computeFromTuples(pC,ex,e);mh.$1(pE,pD)},$m:function(e){mh.$0(e)},$8:function(e,ex,pC){if(ss.isValue(ex)&&ex.length>0){var pD=[];for(var pE=0;pE<e.length;pE++){var pF=e[pE];var pG=R.getUrlActionPm(pF,pC,ex).item1;if(ss.isValue(pG)){pD.push(pG)}else{cw.fireDeferredUrlActions=true;return}}if(pD.length>0){cw.get().delayLocalUrlActions(pD)}}},isCurrentTupleSameAsPrevious:function(e,ex,pC){var pD=(ss.keyExists(R.get_previousInteractedTupleInfo(),pC)?R.get_previousInteractedTupleInfo()[pC]:{item1:{},item2:[]});var pE=pD.item1;var pF=pD.item2;if(ex.length===0&&pF.length===0||ss.referenceEquals(e,pE)&&ex.length===pF.length&&_.every(ex,function(pG){return ss.contains(pF,pG)})){return true}return false},updatePreviousInteractedTupleInfo:function(e,ex,pC){R.get_previousInteractedTupleInfo()[pC]={item1:e,item2:ex}},invalidateAllVisualPresModelsForRemoteActions:function(e,ex,pC,pD){for(var pE=0;pE<ex.length;pE++){var pF=ex[pE];var pG=R.$l(pF);var pH=R.getActionType(pF);if(ss.isNullOrUndefined(pH)||(ss.referenceEquals('do-nothing'.toString(),pG.commandParams['onClear'])||pH==='parameter')&&pD.length===0||R.isCurrentTupleSameAsPrevious(e,pD,pH)){continue}R.updatePreviousInteractedTupleInfo(e,pD,pH);jF.invalidateAllVisualPresModels(pC)}},$7:function(e,ex,pC,pD,pE,pF){var pG=e.worksheet;var pH=R.getApplicableActions(pG,pC,'highlight');var pI=R.getApplicableActions(pG,pC,'url');if(ss.isValue(pD)){if(pI.length>0&&pD.length>0){R.$8(pI,pD,ex)}if(pH.length>0){if(pD.length>0){R.$6(pH,pD,ex,pE)}else{R.$m(pE)}}else if(ss.isValue(pF)&&pF){R.$6(pH,pD,ex,pE)}}},$4:function(e,ex,pC,pD,pE){var pF=e.worksheet;R.$5(e,e.worksheet,R.getNovelActions(e,pC,pD,'filter'),pD,pE,ex);if(!tab.FeatureFlags.isEnabled('SceneControllerHasValidSceneModel')){R.invalidateAllVisualPresModelsForRemoteActions(e,R.getApplicableActions(pF,pC,'group').concat(Array.prototype.slice.call(R.getApplicableActions(pF,pC,'parameter'))),pE,pD)}},$h:function(e,ex,pC){var pD=R.$d(e);if(pD.length>0){var pE=jF.getSheetInfoPresModel(bd.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(pE)&&!(pE.isDashboard&&ss.isNullOrUndefined(pE.namesOfSubsheets))){var pF=!pE.isDashboard||pE.namesOfSubsheets.length===1;for(var pG=0;pG<pD.length;pG++){var pH=pD[pG];if(pF||!ss.referenceEquals(pH.get_worksheetName(),ex)){jF.setVisualValidStateOnPresModel(pC,pH)}}}}},$5:function(e,ex,pC,pD,pE,pF){if(bd.get_instance().get_isOffline()){return}if(ss.isValue(pC)){if(!tab.FeatureFlags.isEnabled('SceneControllerHasValidSceneModel')){R.$h(pC,ex,pE)}if(pD.length>0){var pG=[];for(var pH=0;pH<pC.length;pH++){var pI=pC[pH];if((pD.length===1||!pI.singleSelectOnly)&&ss.isValue(pI.targetUrl)){var pJ={};var pK=pI.targetUrl+'&:exclude='+encodeURIComponent(ex);var pL=pF.get_vizDataModel();var pM=bd.get_instance().get_dataDictionary();pJ.url=oL.constructUrlForFilterActionFromTargetURL(pM,pK,pI.linkSpec,pL,pD);pG.push(pJ)}var pN=R.getActionType(pI);if(ss.isValue(pN)){R.updatePreviousInteractedTupleInfo(e,pD,pN)}}if(pG.length>0){cw.get().delayLocalUrlActions(pG)}}}},$d:function(e){var ex={};if(ss.isValue(e)){for(var pC=0;pC<e.length;pC++){var pD=e[pC];for(var pE=0;pE<pD.targetWorksheets.length;pE++){var pF=pD.targetWorksheets[pE];var pG=jF.getVisualModel(bd.get_instance(),pF);if(ss.isValue(pG)){ex[pF]=pG}}}}return R.$1(ex)},$1:function(e){var ex=[];var pC=new ss.ObjectEnumerator(e);try{while(pC.moveNext()){var pD=pC.current();ex.push(pD.value)}}finally{pC.dispose()}return ex},$i:function(e){if(!R.$r){R.$r=true;var ex=tsConfig.schemeWhitelist.split(',');for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];var pE=pD.toLowerCase().trim();if(!ss.endsWithString(pE,':')){pE+=':'}if(pE.length>1){R.$t.push(pE)}}}var pF=new RegExp('(^[A-Za-z][A-Za-z0-9+\\-.]*:)');var pG=pF.exec(e);if(ss.isNullOrUndefined(pG)){return true}var pH=pG[0].toLowerCase();return ss.contains(R.$t,pH)},$c:function(e,ex,pC){var pD=_.filter(e,function(pE){var pF=ss.contains(pE.sourceWorksheets,ex);var pG=!ss.isValue(pC)||ss.unbox(pC)===pE.activation;return pF&&pG});return pD},$b:function(e){var ex='_'+tsConfig.layoutid.toString().replace(new RegExp('[^\\w]','g'),'');if(e>0){ex+='_'+e.toString()}return{item1:ex,item2:false}},$k:function(){if(tab.FeatureFlags.isEnabled('WebZoneAdminControl')){return tsConfig.is_web_zones_enabled}else{return true}},$g:function(e,ex){if(e==='_blank'){return R.$b(ex)}else if($(R.$e(e)).length>0){return{item1:e,item2:true}}else if(!R.$k()&&$(R.$e(e+'disabled')).length>0){return null}else{return R.$b(ex)}},$f:function(e,ex){var pC=tsConfig.linktarget;if(ss.isValue(pC)&&pC.length>0){return{item1:pC,item2:false}}else if(ss.isValue(e.target)){return R.$g(e.target,ex)}else{return R.$b(ex)}},launchActionUrls:function(e,pC){var pD=[];var pE={};if(ss.isNullOrUndefined(e)||e.length===0){return}var pF=0;for(var pG=0;pG<e.length;pG++){var pH=e[pG];if(!R.$i(pH.url)){if(!R.$q){R.$q=true;pC.ShowErrorDialog(tab.Strings.SecurityBlockedURLActionMessage,tab.Strings.SecurityBlockedURLActionHeader,null)}continue}if(ss.isNullOrUndefined(pH.target)||'t'in pH){pH.target=pH['t']}var pI=R.$f(pH,pF);if(ss.isValue(pI)){if(!ss.keyExists(pE,pI.item1)){pD.push(pI)}pE[pI.item1]=pH.url}pF++}for(var pJ=0;pJ<pD.length;pJ++){var pK=pD[pJ];var pL=pK.item1;if(pK.item2){try{$(R.$e(pL)).prop('src',pE[pL])}catch(pN){}}else{var pM=new Object;pM.url=pE[pL];pM.target=pL;tabBootstrap.ViewerBootstrap.get_instance().apiResponder.sendEventNotification('api.UrlActionEvent',null,JSON.stringify(pM));if(tsConfig.disableUrlActionsPopups){continue}try{window.open(pE[pL],pL)}catch(pN){var ex=ss.Exception.wrap(pN);tab.ErrorTrace.report(ex,false)}}}},$e:function(e){return'[name='+e+']'},$l:function(e){var ex=ss.replaceAllString(e.simpleCommandModel['simpleCommand'.toString()],'simpleCommand=','');return cJ.deserialize(ex,true)}});var S=global.tab.AddDataServerDataSourceCmd=ss.mkType(a,'tab.AddDataServerDataSourceCmd',function(){ss.makeGenericType(bl,[Object,T]).call(this)},{get_commandId:function(){return S.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabsrv',cmd:'add-dataserver-data-source'},this.c))}});var T=global.tab.AddDataServerDataSourceCmd$Response=ss.mkType(a,'tab.AddDataServerDataSourceCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasDatasourceName:function(){return true}});var U=global.tab.AddObjectToDashboardCmd=ss.mkType(a,'tab.AddObjectToDashboardCmd',function(){ss.makeGenericType(bl,[Object,V]).call(this)},{get_commandId:function(){return U.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'add-object-to-dashboard'},this.c))}});var V=global.tab.AddObjectToDashboardCmd$Response=ss.mkType(a,'tab.AddObjectToDashboardCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasZoneID:function(){return ss.keyExists(this.$$c,'zoneId')}});var W=global.tab.AnalyticsPaneModel=ss.mkType(a,'tab.AnalyticsPaneModel',function(e){this.$2$1=null;jC.call(this,e,new kA('analyticsPane'.toString(),null))},{add_newAnalyticsPane:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newAnalyticsPane:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_analyticsPresModel:function(){return this.pm},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}});var X=global.tab.AnimationClock=ss.mkType(a,'tab.AnimationClock',null,null,{add_animationEnded:function(e){X.$1$1=ss.delegateCombine(X.$1$1,e)},remove_animationEnded:function(e){X.$1$1=ss.delegateRemove(X.$1$1,e)},start:function(){if(X.$2){return true}X.$2=true;X.$3=tab.WindowHelper.requestAnimationFrame(X.$0);return true},stop:function(){ba.redrawPanesInCaseNoFramesWereDrawnDuringAnimation();ba.logAnimationData();Y.clearStaticTelemetry();ba.untrackAllPaneViewModels();if(X.$2){tab.WindowHelper.cancelAnimationFrame(X.$3)}X.$2=false;if(!ss.staticEquals(X.$1$1,null)){X.$1$1()}return true},isActive:function(){return X.$2},$0:function(){var e=RuntimeWebModule._Tick(window.performance.now()/1000);if(e){ba.$3()}else{X.stop()}if(X.isActive()){X.$3=tab.WindowHelper.requestAnimationFrame(X.$0)}}});var Y=global.tab.AnimationLogData=ss.mkType(a,'tab.AnimationLogData',function(){this.$3=0;this.$g=0;this.$n=null;this.$f=0;this.$h=null;this.$i=null;this.$1=null;this.$k=null;this.$e=null;this.$9=null;this.$7=null;this.$5=0;this.$4=0;this.$b=null;this.$0=0;this.$c=0;this.$2=0;this.$6=0;this.$d=0;this.$8=0;this.$m=0;this.$l=0;this.$o=0;this.$a=null;this.$j=null},{logTelemetry:function(){var e=ss.mkdict(['animation_setup_time',this.$0,'tick_durations_between_frames',this.$n,'num_tick_durations',this.$g,'longest_tick_duration',this.$c,'avg_tick_duration',this.$2,'total_num_of_enter_mark_ids',this.$6,'total_num_of_move_mark_ids',this.$d,'total_num_of_exit_mark_ids',this.$8,'num_sub_pane_rows',this.$m,'num_sub_pane_columns',this.$l,'num_user_panes',this.$o,'num_enter_mark_ids_per_pane',this.$7,'num_move_mark_ids_per_pane',this.$e,'num_exit_mark_ids_per_pane',this.$9,'num_pane_descriptor_ids',this.$f,'animation_styles',this.$1,'prim_types',this.$i,'scenario_types',this.$k,'animation_durations',this.$h,'animation_duration_multiplier',this.$5,'hashed_sheet_name',this.$a,'request_id',this.$j,'ds_read_duration',this.$4,'start_animation_duration',Y.$d.get(this.$3),'hex_heap_decode_duration',Y.$a.get(this.$3),'js_heap_marshalling_durations_per_frame',this.$b,'update_scene_info_durations_per_frame',Y.$f.get(this.$3),'redraw_durations_per_frame',Y.$c.get(this.$3),'marshall_animation_store_per_frame',Y.$b.get(this.$3)]);jT.logEvent('MarkAnimation_AnimationComplete',e)},logToDomElementIfFlagEnabled:function(){if(!tab.FeatureFlags.isEnabled('LogAnimationDataToDomForTest')){return}var e=document.createElement('AnimationEventTestDataEntry');e.setAttribute('logId',Y.$3().toString());e.setAttribute('logTime',window.performance.now().toString());e.setAttribute('animationSetupTime',this.$0.toString());e.setAttribute('longestTickDuration',this.$c.toString());e.setAttribute('averageTickDuration',this.$2.toString());e.setAttribute('enterMarkIdCount',this.$6.toString());e.setAttribute('moveMarkIdCount',this.$d.toString());e.setAttribute('exitMarkIdCount',this.$8.toString());e.setAttribute('hashedSheetName',this.$a);e.setAttribute('requestId',this.$j);e.setAttribute('subPaneRowCount',this.$m.toString());e.setAttribute('subPaneColumnCount',this.$l.toString());e.setAttribute('userPaneCount',this.$o.toString());Y.$6().appendChild(e)}},{$3:function(){var e=Y.$g;Y.$g=e+1>>>0;return e},clearStaticTelemetry:function(){Y.$f.clear();Y.$c.clear();Y.$b.clear();Y.$d.clear();Y.$a.clear()},initializeStaticTelemetry:function(e){Y.$f.set(e,[]);Y.$c.set(e,[]);Y.$b.set(e,[])},appendUpdateSceneInfoDuration:function(e,ex){Y.$f.get(e).push(ex)},appendRedrawDuration:function(e,ex){Y.$c.get(e).push(ex)},appendMarshallAnimationStoreDuration:function(e,ex){Y.$b.get(e).push(ex)},setStartAnimationDuration:function(e,ex){Y.$d.set(e,ex)},setHexHeapDecodeDuration:function(e,ex){Y.$a.set(e,ex)},loadFromAnimationModule:function(e){var ex=RuntimeWebModule._GetTickDurationCount(e);var pC=new Array(ex);var pD=new Array(ex);Y.$7(e,ex,pC);Y.$2(e,ex,pD);var pE=RuntimeWebModule._GetNumberOfPaneDescriptorIds(e);var pF=new Array(pE);var pG=new Array(pE);var pH=new Array(pE);var pI=new Array(pE);var pJ=new Array(pE);var pK=new Array(pE);var pL=new Array(pE);Y.$1(e,pE,pF,pG,pH,pI,pJ,pK,pL);var pM=new Y;pM.$3=e;pM.$0=RuntimeWebModule._GetAnimationSetUpTimeInMilliseconds(e);pM.$c=RuntimeWebModule._GetLongestTickDurationInMilliseconds(e);pM.$2=RuntimeWebModule._GetAverageTickDurationInMilliseconds(e);pM.$6=RuntimeWebModule._GetTotalNumberOfEnterMarkIds(e);pM.$d=RuntimeWebModule._GetTotalNumberOfMoveMarkIds(e);pM.$8=RuntimeWebModule._GetTotalNumberOfExitMarkIds(e);pM.$m=RuntimeWebModule._GetNumberOfSubPaneRows(e);pM.$l=RuntimeWebModule._GetNumberOfSubPaneColumns(e);pM.$o=RuntimeWebModule._GetNumberOfUserPanes(e);pM.$5=RuntimeWebModule._GetAnimationDurationMultiplier(e);pM.$a=tab.RuntimeWebModule.support.paramToString(RuntimeWebModule._GetSheetId(e));pM.$j=tabBootstrap.ViewerBootstrap.get_instance().get_bootstrapRequestId();pM.$4=RuntimeWebModule._GetDSReadDurationInMilliseconds(e);pM.$g=ex;pM.$n=pC;pM.$b=pD;pM.$f=pE;pM.$h=pF;pM.$i=pG;pM.$1=pH;pM.$k=pI;pM.$e=pJ;pM.$9=pK;pM.$7=pL;var pN=pM;return pN},$7:function(e,ex,pC){for(var pD=0;pD<ex;pD++){pC[pD]=RuntimeWebModule._GetTickDurationInMillisecondsAtIndex(e,pD)}},$2:function(e,ex,pC){for(var pD=0;pD<ex;pD++){pC[pD]=RuntimeWebModule._GetJSHeapMarshallingDurationInMilliseconds(e,pD)}},logUserKillSwitchSettingForForceOn:function(){if(tab.FeatureFlags.isEnabled('ForceAnimationOnForTest')){var e=ss.mkdict(['user_kill_switch_active',!tsConfig.is_mark_animation_enabled]);jT.logEvent('MarkAnimation_UserKillSwitchSettingForForceOn',e)}},$6:function(){var e=document.body;var ex=e.getElementsByTagName('AnimationEventTestData');if(ss.isValue(ex)&&ex.length>0){return ex[0]}var pC=document.createElement('AnimationEventTestData');e.appendChild(pC);return pC},$1:function(e,ex,pC,pD,pE,pF,pG,pH,pI){for(var pJ=0;pJ<ex;pJ++){pC[pJ]=RuntimeWebModule._GetOverallAnimationDurationForPaneAtIndex(e,pJ);pD[pJ]=Y.$4(e,pJ);pE[pJ]=Y.$0(e,pJ);pF[pJ]=Y.$5(e,pJ);pG[pJ]=RuntimeWebModule._GetNumberOfMoveMarkIdsForPaneAtIndex(e,pJ);pH[pJ]=RuntimeWebModule._GetNumberOfExitMarkIdsForPaneAtIndex(e,pJ);pI[pJ]=RuntimeWebModule._GetNumberOfEnterMarkIdsForPaneAtIndex(e,pJ)}},$5:function(e,ex){var pC=RuntimeWebModule._GetScenarioTypeIntegerForPaneAtIndex(e,ex);switch(pC){case 0:{return'None'}case 1:{return'Table'}case 2:{return'Table Disabled'}case 3:{return'Scatterplot'}case 4:{return'Scatterplot Disabled'}case 5:{return'Map With Map Marks'}case 6:{return'Map'}case 7:{return'Map Disabled'}case 8:{return'Vertical Area Chart'}case 9:{return'Vertical Chart'}case 10:{return'Vertical Chart Disabled'}case 11:{return'Horizontal Area Chart'}case 12:{return'Horizontal Chart'}case 13:{return'Horizontal Chart Disabled'}case 14:{return'Vertical Scatterbar'}case 15:{return'Vertical Scatterbar Disabled'}case 16:{return'Horizontal Scatterbar'}case 17:{return'Horizontal Scatterbar Disabled'}case 18:{return'Other'}}return'Invalid Scenario Type'},$4:function(e,ex){var pC=RuntimeWebModule._GetPrimTypeForPaneAtIndex(e,ex);switch(pC){case 0:{return'Shape Primitive'}case 1:{return'Line Primitive'}case 2:{return'Bar Primitive'}case 3:{return'Polar Bar Primitive'}case 4:{return'Text Primitive'}case 5:{return'Label Primitive'}case 6:{return'Pie Primitive'}case 7:{return'Area Primitive'}case 8:{return'Polygon Primitive'}case 9:{return'Multipolygon Primitive'}case 10:{return'Square Primitive'}case 11:{return'Heatmap Primitive'}}return'Invalid Primitive Type'},$0:function(e,ex){var pC=RuntimeWebModule._GetAnimationStyleIntegerForPaneAtIndex(e,ex);switch(pC){case 0:{return'Synced'}case 1:{return'Phased'}case 2:{return'Inherit Style'}}return'Invalid Animation Style'}});var Z=global.tab.AnimationStyleSettingsModel=ss.mkType(a,'tab.AnimationStyleSettingsModel',function(e){this.$2$1=null;jC.call(this,e,new kA('animationStyleSettings'.toString(),null))},{add_newAnimationStyleSettings:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newAnimationStyleSettings:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_animationOn:function(){return this.pm.animationOn},get_animationDuration:function(){return this.pm.animationDurationOption.animationDuration},get_animationStyle:function(){return this.pm.animationStyle},update:function(e,ex){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}});var ba=global.tab.AnimationUtil=ss.mkType(a,'tab.AnimationUtil',null,null,{abortEmscripten:function(){ba.$7=true},setSheetIdForController:function(e,ex){var pC=tab.RuntimeWebModule.support.stringToHeap(ex);RuntimeWebModule._SetSheetId(e,pC)},trackPaneViewModel:function(e){var ex=e.getMarkAnimationController();ba.$9.set(ex,e);ba.setSheetIdForController(ex,e.getSheetId());Y.initializeStaticTelemetry(ex)},untrackPaneViewModel:function(e){ba.$9.delete(e);if(tab.FeatureFlags.isEnabled('AnimationWebClientMemoryLeak')){RuntimeWebModule._DeleteMarkAnimationController(e)}},untrackAllPaneViewModels:function(){ba.$9.forEach(function(e){ba.untrackPaneViewModel(e.getMarkAnimationController())})},isTrackedPaneViewModel:function(e){var ex=false;tab.MapUtility.forEachWithInterrupt$1(ss.Int32,hD).call(null,ba.$9,function(pC){if(ss.equals(e,pC)){ex=true;throw new tab.LoopBreakException}});return ex},animationIsEnabledForAny:function(e){if(!ba.isAnimationGloballyEnabled()){return false}if(tab.FeatureFlags.isEnabled('ForceAnimationOnForTest')){return true}for(var ex=0;ex<e.length;ex++){var pC=e[ex];var pD=jF.getVisualModelFromVisualId(pC,null);if(ba.$4(pD)){return true}}return false},animationIsEnabledFor:function(e){if(!ba.isAnimationGloballyEnabled()){return false}if(tab.FeatureFlags.isEnabled('ForceAnimationOnForTest')){return true}var ex=jF.getVisualModelFromVisualId(e,null);return ba.$4(ex)},isAnimationOptimizationV1Enabled:function(){return tab.FeatureFlags.isEnabled('AnimationBrowserOptimizationV1')&&ba.$2()},isAnimationGloballyEnabled:function(){return!ba.$7&&tsConfig.is_mark_animation_enabled_for_server&&tsConfig.is_mark_animation_enabled},$4:function(e){return ss.isValue(e)&&!e.get_blockMarkAnimationForNextCommand()&&bd.get_instance().get_isLocalRenderMode()&&ba.animationIsEnabledFor$1(e.pm)},animationIsEnabledFor$1:function(e){return ss.isValue(e)&&ss.isValue(e.animationStyleSettings)&&e.animationStyleSettings.animationOn==='ao-on'&&!e.isMap},isUpdating:function(){return ba.$8},redrawPanesInCaseNoFramesWereDrawnDuringAnimation:function(){ba.$9.forEach(function(e){e.drawAnimationFrame()})},$3:function(){try{ba.$8=true;var e=cw.get();var ex=e.createModelUpdateContext();ba.$9.forEach(function(pC,pD){if(ba.hasAnimationFrame(pD)){pC.updateAnimationFrame()}})}finally{ba.$8=false}},$2:function(){return!ba.$7&&ss.isValue(lL.get_moduleInitialized())&&lL.get_moduleInitialized().state()==='resolved'},logAnimationData:function(){ba.$9.forEach(function(e,ex){var pC=Y.loadFromAnimationModule(ex);pC.logTelemetry();pC.logToDomElementIfFlagEnabled()})},hasAnimationFrame:function(e){if(ba.$2()){return RuntimeWebModule._AnimationFrameReady(e)}return false},doAnimation:function(e,ex,pC,pD){if(ba.$2()){var pE=ba.$1(e,ex,pC,pD);if(pE.state()==='resolved'){X.start();return pE}}return false},$1:function(e,ex,pC,pD){var pE=window.performance.now();var pF=tab.HexHeapDecoder.decodedLength(ex);var pG=RuntimeWebModule._malloc(pF);tab.HexHeapDecoder.run(pG,RuntimeWebModule.HEAPU8,ex);Y.setHexHeapDecodeDuration(e,window.performance.now()-pE);var pH=ba.$0(e,pG,pF,pC,pD);RuntimeWebModule._free(pG);return pH},setPreviousTargetDataStoreHex:function(e,ex){if(!ba.$2()){return}var pC=tab.HexHeapDecoder.decodedLength(ex);var pD=RuntimeWebModule._malloc(pC);tab.HexHeapDecoder.run(pD,RuntimeWebModule.HEAPU8,ex);RuntimeWebModule._SetPreviousTargetDataStore(e,pD,pC);RuntimeWebModule._free(pD)},resetMarkAnimationController:function(e){RuntimeWebModule._ResetMarkAnimationController(e)},$0:function(ex,pC,pD,pE,pF){var pG=$.Deferred();var pH=window.performance.now();var pI=ba.$5(pE);try{var pJ=RuntimeWebModule._AnimateDatastore(ex,pC,pD,pI,pF);pG.resolve(pJ)}catch(pK){var e=ss.Exception.wrap(pK);pG.reject();e=tab.EmscriptenSupport.getExceptionInformation(e);e.name='RuntimeAnimWebModule Error in AnimateDatastore';tab.ErrorTrace.report(e,false)}Y.setStartAnimationDuration(ex,window.performance.now()-pH);return pG.promise()},$5:function(e){switch(e){case'as-synced':{return 0}case'as-phased':{return 1}case'as-inherit-style':default:{return 2}}},convertUnmarshalledDatastoreToRenderingInputStore:function(e){var ex=e;if(ss.isValue(ex.GridLines)&&ss.isValue(ex.GridLines.ZeroPoint)){var pC=ex.GridLines.ZeroPoint;var pD=new Float32Array(pC.buffer,pC.byteOffset,pC.length);ex.GridLines.ZeroPoint=pD}return ex},getAnimationFrame:function(ex){var pC=$.Deferred();var pD=window.performance.now();try{var pE=RuntimeWebModule._GetAnimationFrame(ex);var pF=tab.JsHeapMarshaller.unmarshall$1(RuntimeWebModule.HEAPU8.buffer,pE);pC.resolve(pF)}catch(pG){var e=ss.Exception.wrap(pG);pC.reject();e=tab.EmscriptenSupport.getExceptionInformation(e);e.name='TabAnim Error in GetAnimationFrame';tab.ErrorTrace.report(e,false)}Y.appendMarshallAnimationStoreDuration(ex,window.performance.now()-pD);return pC.promise()},createMarkAnimationController:function(){var e=$.Deferred();lL.get_moduleInitialized().done([function(){e.resolve(RuntimeWebModule._CreateMarkAnimationController())}]);return e.promise()}});var bb=global.tab.AnnotationClientCommands=ss.mkType(a,'tab.AnnotationClientCommands',null,null,{createMarkAnnotation:function(e,ex,pC){var pD=new cY;pD.c['visualIdPresModel']=pC;pD.c['annotateEnum']='mark';pD.c['targetPoint']={x:e.x|0,y:e.y|0};pD.c['selectionList']=[{selectionType:'tuples',objectIds:ex}];pD.c['formattedText']='<formatted-text/>';pD.c['richTextEditorConfiguration']=lH.get_instance();pD.invoke()},createPointAnnotation:function(e,ex){var pC=new cY;pC.c['visualIdPresModel']=ex;pC.c['annotateEnum']='point';pC.c['targetPoint']={x:e.x|0,y:e.y|0};pC.c['selectionList']=[];pC.c['formattedText']='<formatted-text/>';pC.c['richTextEditorConfiguration']=lH.get_instance();pC.invoke()},createAreaAnnotation:function(e,ex){var pC=new cY;pC.c['visualIdPresModel']=ex;pC.c['annotateEnum']='area';pC.c['targetPoint']={x:e.x|0,y:e.y|0};pC.c['selectionList']=[];pC.c['formattedText']='<formatted-text/>';pC.c['richTextEditorConfiguration']=lH.get_instance();pC.invoke()},removeAnnotation:function(e,ex){var pC=[];pC.push({selectionType:'annotations',objectIds:e});var pD=new lb;pD.c['visualIdPresModel']=ex;pD.c['selectionList']=pC;pD.invoke()},moveAnnotation:function(e,ex,pC){switch(e.annotateEnum){case'area':{var pD=e.areaRect.w;var pE=e.areaRect.h;var pF=new ol;pF.c['visualIdPresModel']=ex;pF.c['uid']=e.annotationId|0|0;pF.c['regionRect']=tab.RectXYUtil.toPresModel({x:pC.x,y:pC.y,w:pD,h:pE});pF.c['pageNumber']=e.pageNumber|0;pF.invoke();break}case'mark':case'point':{pC.x+=ss.idiv(e.areaRect.w,2);pC.y+=ss.idiv(e.areaRect.h,2);var pG=new jJ;pG.c['visualIdPresModel']=ex;pG.c['uid']=e.annotationId|0|0;pG.c['pt1']=e.targetPoint;pG.c['endPoint']=tab.PointUtil.toPresModel(pC);pG.c['pageNumber']=e.pageNumber|0;pG.invoke();break}default:{break}}},resizeAnnotation:function(e,ex,pC){switch(e.annotateEnum){case'area':{var pD=new ol;pD.c['visualIdPresModel']=ex;pD.c['uid']=e.annotationId|0|0;pD.c['regionRect']=tab.RectXYUtil.toPresModel(pC);pD.c['pageNumber']=e.pageNumber|0;pD.invoke();break}case'mark':case'point':{var pE=new lC;pE.c['visualIdPresModel']=ex;pE.c['uid']=e.annotationId|0|0;pE.c['w']=pC.w|0;pE.c['isRightDrag']=pC.x===e.areaRect.x;pE.c['pageNumber']=e.pageNumber|0;pE.invoke();break}default:{break}}},movePointTargetAnnotation:function(e,ex,pC){var pD=tab.RectXYUtil.getCenter(tab.RectXYUtil.fromPresModel(e.areaRect));var pE=new jL;pE.c['visualIdPresModel']=ex;pE.c['uid']=e.annotationId|0|0;pE.c['pt1']=tab.PointUtil.toPresModel(pD);pE.c['endPoint']=tab.PointUtil.toPresModel(pC);pE.c['pageNumber']=e.pageNumber|0;pE.invoke()}});var bc=global.tab.ApiClientCommands=ss.mkType(a,'tab.ApiClientCommands',null,null,{doApiCommand:function(e,ex,pC){cw.SendCommand(kZ.create(e,'immediately',ex,pC))}});var bd=global.tab.ApplicationModel=ss.mkType(a,'tab.ApplicationModel',function(){this.$7=null;this.$4=null;this.$6={};this.$5={};this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;jC.call(this,null,null);this.presModelKey=new kA('applicationPresModel'.toString(),null);this.set_toolbar(new nU(this));this.set_rightAreaDrawer(new lJ(this));this.set_workbook(new pi(this));this.set_colorPalettes(new cu(this));this.set_dataDictionary(new dV(this));this.$7=new mK;this.$4=new fo;this.set_serverFonts(null)},{add_newWorkbook:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWorkbook:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_applicationUpdate:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_applicationUpdate:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_rightAreaDrawer:function(){return this.$2$3},set_rightAreaDrawer:function(e){this.$2$3=e},get_toolbar:function(){return this.$2$4},set_toolbar:function(e){this.$2$4=e},get_workbook:function(){return this.$2$5},set_workbook:function(e){this.$2$5=e},get_colorPalettes:function(){return this.$2$6},set_colorPalettes:function(e){this.$2$6=e},get_dataDictionary:function(){return this.$2$7},set_dataDictionary:function(e){this.$2$7=e},get_serverFonts:function(){return this.$2$8},set_serverFonts:function(e){this.$2$8=e},get_isTableCalcHighlightingMode:function(){return this.modelInstance(cP).call(this).get_hasTableCalc()},get_shapeManager:function(){return this.$7},get_extensionPermissionsCache:function(){return this.$4},get_renderMode:function(){return(ss.isValue(this.get_appPresModel())?this.get_appPresModel().renderMode:'render-mode-server')},get_localeDateFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$1(this.get_appPresModel().dateFormat))?this.get_appPresModel().dateFormat:'M/d/yyyy')},get_localeTimeFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$1(this.get_appPresModel().timeFormat))?this.get_appPresModel().timeFormat:'h:mm tt')},get_numberFormat:function(){return this.get_appPresModel().numberFormats},get_dashboardObjectsLibrary:function(){return(ss.isNullOrUndefined(this.pm)?[]:this.get_appPresModel().dashboardObjectsLibrary)},get_isLocalRenderMode:function(){return this.get_renderMode()==='render-mode-client'},get_isDesktopRenderMode:function(){return this.get_renderMode()==='render-mode-desktop'},get_appPresModel:function(){return this.pm},get_autoUpdate:function(){var e=jF.findContentDashboard(null);return ss.isValue(e)&&e.autoUpdate},set_autoUpdate:function(e){var ex=jF.findContentDashboard(null);if(ss.isValue(ex)){ex.autoUpdate=e}},get_invalid:function(){return jF.findContentDashboard(null).invalid},set_invalid:function(e){var ex=jF.findContentDashboard(null);if(ss.isValue(ex)){ex.invalid=e}},get_showTabs:function(){return tsConfig.showTabs&&!this.get_isOffline()},get_showToolbar:function(){return!this.get_isOffline()},get_isOffline:function(){return ss.isValue(tsConfig.offlineBootstrapResponse)},registerNotificationHandler:function(e,ex){if(bd.$4.has(e)){return ex}var pC=this.$6[e];if(ss.isNullOrUndefined(pC)){pC=[];this.$6[e]=pC}for(var pD=0;pD<pC.length;pD++){if(ss.staticEquals(pC[pD],ex)){throw new ss.Exception('This handler for '+e+' already registered')}}pC.push(ex);return ex},unRegisterNotificationHandler:function(e,ex){if(bd.$4.has(e)){return}var pC=this.$6[e];if(ss.isValue(pC)){for(var pD=pC.length-1;pD>=0;pD--){if(ss.staticEquals(pC[pD],ex)){ss.removeAt(pC,pD);if(pC.length===0){delete this.$6[e];return}}}}},$2:function(e){var ex=this.$6[e];if(ss.isNullOrUndefined(ex)){ex=[]}return ex},raiseNotification:function(e,ex,pC){var pD=this.$2(e);for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];pF(ex,pC)}},$3:function(e,ex){if(ss.isNullOrUndefined(e)){return}for(var pC=0;pC<e.length;pC++){var pD=e[pC];var pE=pD.keyId;var pF=pD.presModelHolder;var pG=new ss.ObjectEnumerator(pF);var pH=(pG.moveNext()?pG.current().value:null);this.raiseNotification(pE,pH,ex)}},addModel:function(e){return function(){var ex=ss.createInstance(e);var pC=ss.safeCast(ex,hQ);if(ss.isValue(pC)){this.registerNotificationHandler(pC.get_notificationId(),ss.mkdel(pC,pC.onNotify))}this.$5[e]=ex;return ex}},removeModel:function(e){return function(){var ex=this.$5[e];if(ss.isNullOrUndefined(ex)){return}var pC=ss.safeCast(ex,hQ);if(ss.isValue(pC)){this.unRegisterNotificationHandler(pC.get_notificationId(),ss.mkdel(pC,pC.onNotify))}delete this.$5[e]}},modelInstance:function(e){return function(){return this.$5[e]||this.addModel(e).call(this)}},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.pm)){this.pm={}}if(ss.isValue(e.renderMode)){this.get_appPresModel().renderMode=e.renderMode}if(ss.isValue(e.dataDictionary)){this.get_dataDictionary().update(e.dataDictionary)}if(ss.isValue(e.presentationLayerNotification)){this.$3(e.presentationLayerNotification,ex)}if(ss.isValue(e.workbookPresModel)){if(!ss.isValue(this.get_workbook())){this.set_workbook(new pi(this));this.raiseEvent$1(pi).call(this,this.$2$1,this.get_workbook(),ex)}this.get_workbook().update(e.workbookPresModel,ex)}if(ss.isValue(e.colorPaletteCollection)){this.get_colorPalettes().update(e.colorPaletteCollection,ex)}if(ss.isValue(e.toolbarPresModel)){this.get_toolbar().update(e.toolbarPresModel,ex)}if(ss.isValue(e.serverFonts)){this.set_serverFonts(ss.arrayClone(e.serverFonts.fontFamilies))}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex)},getMutableCopyOfPresModel:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e={};e=$.extend(false,e,this.pm);return e},$1:function(){var e=jF.getVisualModels(this);var ex=new ss.ObjectEnumerator(e);try{while(ex.moveNext()){var pC=ex.current();pC.value.$4()}}finally{ex.dispose()}if(!tab.RuntimeUtil.canUseRuntime(this.get_renderMode())||tsConfig.is_deferred_bootstrap){return}if(ss.getKeyCount(e)>10){return}var pD=new ss.ObjectEnumerator(e);try{while(pD.moveNext()){var pE=pD.current();pE.value.requestRuntimeDataAndUpdateVM()}}finally{pD.dispose()}}},{get_instance:function(){var e=bd.$3.get_model();if(ss.isNullOrUndefined(e)){var ex=bd.$3;var pC=new bd;ex.set_Model(pC);e=pC}return e},get_holder:function(){return bd.$3},$2:function(){return bd.$4},$0:function(){var e=new Set;if(tsConfig.is_desktop){e.add('doc:calculation-dialog-event')}return e},resetInstance:function(){bd.$3.set_Model(null)}});var be=global.tab.AuthenticationCommands=ss.mkType(a,'tab.AuthenticationCommands',null,null,{performAuthentication:function(e,ex,pC){var pD=$.Deferred();var pE=be.$3(e);pE.done(ss.mkdel(this,function(pF){jH.load('rsa',[]).done(ss.mkdel(this,function(pG){var pH=be.$2(pF);var pI=(ss.isNullOrEmptyString(ex)?'':rsa.encrypt(ex,{n:pF['modulus'],e:pF['exponent']}));pH['crypted']=pI;if(pC){if(pF['rememberPasswordsForever']){pH['reuse_forever']=true}else{pH['reuse']=true}}var pJ=be.$0(pF['actionPath'],pH);pJ.done([function(){pD.resolve()}]).fail([function(pK){pD.reject(pK)}])}))}));return pD.promise()},performAuthenticationWithConnectionName:function(e,ex){return be.$4(e.widgetAttrPassword,dO.getDSParamsFromPresModelWithConnectionName(e,ex))},performAuthenticationWithConnectionClass:function(e,ex){return be.$4(e.widgetAttrPassword,dO.getDSParamsFromPresModelWithConnectionClass(e,ex))},$4:function(e,ex){var pC=$.Deferred();ex.done(function(pD){var pE=be.performAuthentication(be.connectionAttributesFromArray(pD.$$c['strings']),e,false);pE.done([function(){pC.resolve()}]).fail([function(pF){pC.reject(pF)}])}).fail(function(){pC.reject()});return pC.promise()},$2:function(e){var ex={};ex['username']=e['defaultUsername'];ex['authentication']=e['authenticationMode'];ex['connection']=e['connection'];ex['path']=e['originalPath'];ex['oauthrequest']=false;return ex},$0:function(e,ex){var pC=$.Deferred();var pD={type:'POST',url:e,headers:ss.mkdict(['X-Requested-With','XMLHttpRequest']),contentType:'application/x-www-form-urlencoded',data:ex,success:function(pE,pF,pG){pC.resolve()},error:function(pE,pF,pG){pC.reject(pG)}};mu.onVizportalPinged();px.helper(pD,null);return pC.promise()},connectionAttributesFromArray:function(e){var ex={};for(var pC=0;pC<e.length-1;pC+=2){ex[e[pC]]=e[pC+1]}return ex},$1:function(e){var ex={};ex['path']=tsConfig.requestURI;ex['vizqlSessionId']=tsConfig.sessionid;var pC={};pC['attributes']=e;ex['attributes']=JSON.stringify(pC);return ex},$3:function(e){var ex=$.Deferred();var pC=be.$1(e);px.helper(oM.createRequest('getDataConnectionAuthInfo',pC,function(pD){ex.resolve(pD)},function(){ex.reject()}),null);return ex.promise()}});var bf=global.tab.AutofitWith1DContainersCmd=ss.mkType(a,'tab.AutofitWith1DContainersCmd',function(){ss.makeGenericType(bl,[Object,bg]).call(this)},{get_commandId:function(){return bf.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'autofit-with1-dcontainers'},this.c))}});var bg=global.tab.AutofitWith1DContainersCmd$Response=ss.mkType(a,'tab.AutofitWith1DContainersCmd$Response',function(e){this.$$c=null;this.$$c=e});var bh=global.tab.AutofitWith1DContainersMultiRunCmd=ss.mkType(a,'tab.AutofitWith1DContainersMultiRunCmd',function(){ss.makeGenericType(bl,[Object,bi]).call(this)},{get_commandId:function(){return bh.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'autofit-with1-dcontainers-multi-run'},this.c))}});var bi=global.tab.AutofitWith1DContainersMultiRunCmd$Response=ss.mkType(a,'tab.AutofitWith1DContainersMultiRunCmd$Response',function(e){this.$$c=null;this.$$c=e});var bj=global.tab.AxisResizerDomElements=ss.mkType(a,'tab.AxisResizerDomElements',function(e,ex,pC,pD,pE,pF,pG,pH){this.topLeftSpacer=null;this.topRightSpacer=null;this.bottomLeftSpacer=null;this.view=null;this.topAxis=null;this.rightAxis=null;this.bottomAxis=null;this.leftAxis=null;this.topLeftSpacer=e;this.topRightSpacer=ex;this.bottomLeftSpacer=pC;this.view=pD;this.topAxis=pE;this.rightAxis=pF;this.bottomAxis=pG;this.leftAxis=pH});var bk=global.tab.BackgroundJobProgressState=ss.mkEnum(a,'tab.BackgroundJobProgressState',{inProgress:'inProgress',success:'success',error:'error'},true);var bl=global.tab.BaseCmd$2=ss.mkType(a,'tab.BaseCmd$2',function(e,ex){var pC=ss.registerGenericClassInstance(bl,[e,ex],function(){this.c={};this.$1$1=null;this.$1$2=null;this.$1$3=false;this.$1$4=false;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.set_uiBlocking('none');this.set_suppressConnectionDialog(false)},{get_uiBlocking:function(){return this.$1$1},set_uiBlocking:function(pD){this.$1$1=pD},get_localWork:function(){return this.$1$2},set_localWork:function(pD){this.$1$2=pD},get_noExceptionDialog:function(){return this.$1$3},set_noExceptionDialog:function(pD){this.$1$3=pD},get_suppressConnectionDialog:function(){return this.$1$4},set_suppressConnectionDialog:function(pD){this.$1$4=pD},get_commandDispatcher:function(){return this.$1$5},set_commandDispatcher:function(pD){this.$1$5=pD},get_commandWaiter:function(){return this.$1$6},set_commandWaiter:function(pD){this.$1$6=pD},get_remoteCommand:function(){return this.$1$7},set_remoteCommand:function(pD){this.$1$7=pD},get_commandId:null,invoke:null,invoke$1:function(pD){pD.noExceptionDialog=this.get_noExceptionDialog();pD.preserveRootResult=true;this.set_remoteCommand(pD);var pE=this.get_commandDispatcher()||ee.get_instance();return pE.dispatch(e,ex).call(pE,this)},invokeImmediatelyAndWait:function(pD){this.set_commandWaiter(pD);this.set_uiBlocking('immediately');this.invoke()}});return pC});ss.initGenericClass(bl,2);var bm=global.tab.BaseHybridSidePaneProxyHelper=ss.mkType(a,'tab.BaseHybridSidePaneProxyHelper',function(e,ex,pC,pD,pE,pF,pG){this.sidePaneId=null;this.sidePaneIdAttr=null;this.openCallback=null;this.updateCallback=null;this.closeCallback=null;this.sidePaneId=e;this.sidePaneIdAttr='side-pane-id';this.openCallback=ex;this.updateCallback=pC;this.closeCallback=pD;if(!ss.staticEquals(ex,null)&&ss.isValue(pE)){this.$0(pE,ss.mkdel(this,this.openPane))}if(!ss.staticEquals(pC,null)&&ss.isValue(pF)){this.$0(pF,ss.mkdel(this,this.updatePane))}if(!ss.staticEquals(pD,null)&&ss.isValue(pG)){this.$0(pG,ss.mkdel(this,function(pH){this.closePane()}))}},{$0:function(e,ex){ek.registerHandler(e,function(){return new jR(e,ex)})},getContainer:function(){return $(tab.DomUtil.asClassSelector(this.get_containerClass()))},get_containerClass:null,isShown:function(){var e=this.getContainer();if(e.length<=0){return false}var ex=e.get(0).getAttribute(this.sidePaneIdAttr);return ss.isValue(ex)&&ex.indexOf(this.sidePaneId)!==-1},openPane:null,updatePane:null,closePane:null});var bn=global.tab.BaseSession=ss.mkType(a,'tab.BaseSession',function(e,ex,pC){this.defaultSessionErrorHandler=null;this.$3=null;this.$4=null;this.$2=null;this.$8=null;this.$7=null;this.$5=null;this.$6=(tab.FeatureFlags.isEnabled('RecoverSessionIgnoreVizqlExpiration')?new hU:new fj);this.fileDownloadHelper=null;tab.Param.verifyValue(ex,'commonDialogProvider');this.$3=ex;this.$2=pC;var pD=tabBootstrap.BaseUrlFormatter.formatBaseUrl();var pE=e;if(ss.isNullOrUndefined(pE)){pE=tabBootstrap.BaseUrlFormatter.formatUrlRoot(pD,null)}this.$8=pE;this.$7=ss.coalesce(tsConfig.site_root,pD);this.defaultSessionErrorHandler=new ef(ex,pC,this.get_urlRoot());var pF=[];pF.push(new fn);if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){pF.push(new ei)}var pG=oP.createForCurrentWindowLocation(null);if(mv.supportsSession(pG)){mv.subscribeToSessionRecoveryAttempt(bn.onSessionRecoveryAttempt);pF.push(new mv(this.get_urlRoot()))}pF.push(this.defaultSessionErrorHandler);this.$4=new fc(Array.prototype.slice.call(pF));this.fileDownloadHelper=new fG(ex);this.$5=new hw},{get_urlRoot:function(){return this.$8},get_id:function(){return tsConfig.sessionid},get_sessionErrorHandler:function(){return this.defaultSessionErrorHandler},get_errorHandlers:function(){return this.$4},get_sessionInactivityHelper:function(){return this.$6},get_commonDialogProvider:function(){return this.$3},get_history:function(){return this.$5},formatThumbnailReference:function(e){return this.$7+'/thumb/views/'+e},formatSessionTempfileReference:function(e,ex,pC){return this.get_urlRoot()+'/tempfile/sessions/'+tsConfig.sessionid+'/?key='+e+(ex?'&keepfile=yes':'')+(pC?'&attachment=yes':'')},handleAuthenticationFailure:function(){this.defaultSessionErrorHandler.handleAuthenticationFailure()},executeServerCommand:function(e,ex,pC){var pD={};this.$1(pD,e);pD.headers=ss.mkdict(['Accept','text/javascript']);var pE=ss.mkdel(this,function(pH,pI,pJ){if(ss.isValue(ex)){ex(pH,pJ.status===204,{requestId:pJ.getResponseHeader('X-Tsi-Request-Id')})}this.$6.updateLastInteractedTime()});var pF=ss.mkdel(this,function(pH,pI,pJ){this.$0(pJ,pH,e.noExceptionDialog,e);if(ss.isValue(pC)){var pK=pH.responseText;if(ss.isNullOrUndefined(pK)){pK=ss.coalesce(bn.getErrorMessageFromStringOrException(pJ),'unknown error executing server command')}var pL=pK;var pM=['status: '+pH.status,'textStatus: '+pI].join(', ');var pN=new ss.Exception(e.commandName+': '+pL+', '+pM);pN['status']=pH.status;pC(pN)}});var pG=this.createHandlerCC(null,pE,(ss.isValue(pC)?pF:null));px.helper(pD,pG)},basicPostOpts:function(e,ex){var pC={type:'POST',url:e,headers:ss.mkdict(['Accept','text/javascript']),dataType:'json',data:ex};return pC},$1:function(e,ex){var pC=ex.commandParams;if(ss.isValue(pC)&&ss.getKeyCount(pC)>0){var pD=px.getMultipartData(null,pC);e.contentType='multipart/form-data; boundary='+pD.header;e.data=pD.body}e.type='POST';e.dataType='json';e.url=(new mx(this.$8)).toSessionCommandUrl(ex.commandNamespace,ex.commandName)},formatMethod:function(e){return(new mx(this.$8)).toMethodUrl(e)},formatSessionMethod:function(e){return(new mx(this.$8)).toSessionMethodUrl(e)},$0:function(e,ex,pC,pD){this.$4.handle(e,ex,pD,pC)},createHandlerCC:function(e,ex,pC){return new mr(this,e,ex,pC,false,false)},createHandler:function(e,ex,pC,pD){var pE=pD!=='none';var pF=pD==='immediately';return new mr(this,e,ex,pC,pE,pF)},cancelRunningCommand:function(e,ex,pC){var pD=bn.$0(e,this.get_urlRoot());var pE=bn.basicGetOpts(pD);var pF=function(pI,pJ,pK){if(ss.isValue(ex)){ex(pI,pK.status)}};var pG=function(pI,pJ,pK){if(ss.isValue(pC)){pC(pK)}};var pH=this.createHandlerCC(null,pF,pG);px.helper(pE,pH)}},{add_stateChanged:function(e){bn.$1$1=ss.delegateCombine(bn.$1$1,e)},remove_stateChanged:function(e){bn.$1$1=ss.delegateRemove(bn.$1$1,e)},$3:function(e){bn.$1$2=ss.delegateCombine(bn.$1$2,e)},$4:function(e){bn.$1$2=ss.delegateRemove(bn.$1$2,e)},get_sessionRecoveryAttemptHandled:function(){return!ss.staticEquals(bn.$1$2,null)},$1:function(){return tab.Logger.lazyGetLogger(bn)},onSessionRecoveryAttempt:function(e){bn.raiseSessionRecoveryAttemptEvent(e)},fireStateChanged:function(e){if(ss.isValue(bn.$1$1)){bn.$1$1(e)}},subscribeToSessionRecoveryAttempt:function(e){if(!bn.get_sessionRecoveryAttemptHandled()){bn.addSessionRecoveryAttemptHandler(e)}},addSessionRecoveryAttemptHandler:function(e){bn.$3(e)},removeSessionRecoveryAttemptHandler:function(e){bn.$4(e)},raiseSessionRecoveryAttemptEvent:function(e){if(bn.get_sessionRecoveryAttemptHandled()){bn.$1$2(e)}},basicGetOpts:function(e){var ex={type:'GET',url:e,headers:ss.mkdict(['Accept','text/javascript']),dataType:'json'};return ex},getErrorMessageFromStringOrException:function(e){var ex='';var pC=ss.safeCast(e,String);var pD=ss.safeCast(e,ss.Exception);if(ss.isValue(pC)){ex=pC}else if(ss.isValue(pD)){ex=pD.get_message()}return ex},$0:function(e,ex){return tabBootstrap.BaseUrlFormatter.formatSessionMethod('cancel',tsConfig.sessionid,ex)+'/commands/'+e.commandNamespace+'/'+e.commandName}});var bo=global.tab.BlockExtensionCmd=ss.mkType(a,'tab.BlockExtensionCmd',function(){ss.makeGenericType(bl,[Object,bp]).call(this)},{get_commandId:function(){return bo.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'block-extension'},this.c))}});var bp=global.tab.BlockExtensionCmd$Response=ss.mkType(a,'tab.BlockExtensionCmd$Response',function(e){this.$$c=null;this.$$c=e});var bq=global.tab.BorderDefinition=ss.mkType(a,'tab.BorderDefinition',function(e,ex,pC,pD){this.width=0;this.style=null;this.color=null;this.side=0;this.width=e;this.style=ex;this.color=pC;this.side=pD},{get_hasColor:function(){return this.color!=='rgba(0, 0, 0, 0)'},get_hasWidth:function(){return this.width>0},get_hasStyle:function(){return this.style!=='bs-none'},get_cssDictionary:function(){var e={};switch(this.side){case 0:{e['border-width']=this.width+'px';e['border-style']=bq.borderStyleToCss(this.style);e['border-color']=this.color;break}case 1:{e['border-top-width']=this.width+'px';e['border-top-style']=bq.borderStyleToCss(this.style);e['border-top-color']=this.color;break}case 2:{e['border-left-width']=this.width+'px';e['border-left-style']=bq.borderStyleToCss(this.style);e['border-left-color']=this.color;break}case 4:{e['border-bottom-width']=this.width+'px';e['border-bottom-style']=bq.borderStyleToCss(this.style);e['border-bottom-color']=this.color;break}case 3:{e['border-right-width']=this.width+'px';e['border-right-style']=bq.borderStyleToCss(this.style);e['border-right-color']=this.color;break}}return e},get_styledBoxPresModel:function(){var e={};switch(this.side){case 0:{e.uw=this.width;e.borderStyle=this.style;e.borderColor=this.color;break}case 1:{e.uwt=this.width;e.borderStyleTop=this.style;e.borderColorTop=this.color;break}case 2:{e.uwl=this.width;e.borderStyleLeft=this.style;e.borderColorLeft=this.color;break}case 4:{e.uwb=this.width;e.borderStyleBottom=this.style;e.borderColorBottom=this.color;break}case 3:{e.uwr=this.width;e.borderStyleRight=this.style;e.borderColorRight=this.color;break}}return e}},{borderStyleToCss:function(e){return ss.coalesce(bq.$2[e],'none')},$0:function(){var e={};e['bs-none']='none';e['bs-hidden']='hidden';e['bs-dotted']='dotted';e['bs-dashed']='dashed';e['bs-solid']='solid';e['bs-double']='double';e['bs-groove']='groove';e['bs-ridge']='ridge';e['bs-inset']='inset';e['bs-outset']='outset';return e}});var br=global.tab.BorderDefinition$BorderSide=ss.mkEnum(a,'tab.BorderDefinition$BorderSide',{all:0,top:1,left:2,right:3,bottom:4});var bs=global.tab.BrushingComputer=ss.mkType(a,'tab.BrushingComputer',function(){this.$5={};this.$4={};this.$2={};this.$3={};this.$1=true},{get_isBrushingComputed:function(){return this.$1},hasBrushingForSheet:function(e){return ss.isValue(this.$5[e])||ss.isValue(this.$3[e])||ss.isValue(this.$2[e])},getTupleBrushing:function(e){return this.$5[e]||[]},getTrendlineBrushing:function(e){return this.$4[e]||[]},getNodeBrushing:function(e){return this.$3[e]||[]},getLegendBrushing:function(e){return this.$2[e]||{}},$0:function(e,ex,pC,pD,pE){var pF=e.get_vizDataModel();var pG=jF.getModelsForViz(cf).call(null,jF.findContentDashboard(null),e);for(var pH=0;pH<pG.length;pH++){var pI=pG[pH];if(ss.isNullOrUndefined(pF)){continue}if(!pI.get_isHighlightEnabled()||pE.length===0&&pI.get_isOneWay()){continue}var pJ=_.intersection(ex.get_vizDataModel().get_fieldCaptions(),pI.get_fieldCaptions());pJ=bs.getHighlightFieldCaptions(pD,ex.get_vizDataModel().get_highlightCaptions(),pJ);var pK=E.$3(ex.get_vizDataModel(),pC,pJ);var pL=E.$5(pK,pF,pI);if(!ss.keyExists(this.$2,e.get_worksheetName())){this.$2[e.get_worksheetName()]={}}this.$2[e.get_worksheetName()][bs.$0(pI.get_legendTypeEnum(),pI.get_legendNames())]=pL}}},{$3:function(){return tab.Logger.lazyGetLogger(bs)},createBrushingComputer:function(e,ex,pC,pD,pE){var pF=new bs;var pG=ex.get_vizDataModel();var pH=E.$2(e,pD,pC,pG,pD);for(var pI=0;pI<pD.length;pI++){var pJ=pD[pI];if(ex.vizDataContainsDuplicateCaption(pJ)){pF.$1=false;return pF}}var pK;if(pE){pK=jF.getVisualModels(bd.get_instance())}else{pK={};var pL=R.getApplicableActions(ex.get_worksheetName(),'on-select','highlight');for(var pM=0;pM<pL.length;pM++){var pN=pL[pM];if(ss.isNullOrUndefined(pN.targetWorksheets)){continue}for(var pO=0;pO<pN.targetWorksheets.length;pO++){var pP=pN.targetWorksheets[pO];var pQ=jF.getVisualModel(bd.get_instance(),pP);pK[pP]=pQ}}}var pR=jF.findContentDashboard(null);var pS=_.keys(pK);for(var pT=0;pT<pS.length;pT++){var pU=pS[pT];var pV=pK[pU];if(ss.isNullOrUndefined(pV)){continue}var pW=pV.get_vizDataModel();pF.$5[pU]=E.$9(pH,pW);pF.$4[pU]=E.$8(pV.get_sceneModel(),pH,pW);var pX=[];var pY=new ss.ObjectEnumerator(bs.$2(pV));try{while(pY.moveNext()){var pZ=pY.current();var qa=pZ.value;var qb=E.$b(pV,qa);var qc=_.intersection(qb,pD);if(qc.length>0){var qd=E.$2(e,pD,pC,pG,qc);pX=pX.concat.apply(pX,E.$6(qd,pV,qa))}}}finally{pY.dispose()}pF.$3[pU]=pX;var qe=jF.getModelsForViz(cf).call(null,pR,pV);for(var qf=0;qf<qe.length;qf++){var qg=qe[qf];if(!qg.get_isHighlightEnabled()){continue}var qh=E.$5(pH,pW,qg);if(!ss.keyExists(pF.$2,pV.get_worksheetName())){pF.$2[pV.get_worksheetName()]={}}pF.$2[pV.get_worksheetName()][bs.$0(qg.get_legendTypeEnum(),qg.get_legendNames())]=qh}}return pF},getTuplesAssociatedWithSelectedNodes:function(e,ex){if(ss.isNullOrUndefined(e.get_vizDataModel())||ss.isNullOrUndefined(bd.get_instance().get_dataDictionary())){return[]}var pC=[];for(var pD=0;pD<ex.length;pD++){var pE=ex[pD];if(mn.isCategoricalAndTupleAssociatedHeader(pE)){pC.push(pE)}}if(pC.length===0){return[]}var pF=E.$1(e.get_vizDataModel(),pC);var pG=bs.$1(pF,e);return pG},computeFromTuples:function(e,ex,pC){var pD=new bs;for(var pE=0;pE<pC.length;pE++){var pF=pC[pE];if(ss.isNullOrUndefined(pF.targetWorksheets)){continue}var pG=cJ.deserialize(pF.simpleCommandModel['simpleCommand'.toString()],true);for(var pH=0;pH<pF.targetWorksheets.length;pH++){var pI=pF.targetWorksheets[pH];var pJ=jF.getVisualModel(bd.get_instance(),pI);if(ss.isNullOrUndefined(pJ)){continue}var pK=pJ.get_vizDataModel();if(ss.isNullOrUndefined(pK)){continue}if(bs.isSpecialDateTimeHighlighting(pG)){var pL=bd.get_instance().get_dataDictionary();var pM=E.$0(e.get_vizDataModel(),pK,pL,ex);var pN=pM.item1;var pO=pM.item2;pD.$5[pI]=E.$a(pN,pO,pK,pL);pD.$3[pI]=E.$7(pN,pO,pJ,pL);pD.$0(pJ,e,ex,pG,pF.name)}else{var pP=bs.getHighlightFieldCaptions(pG,e.get_vizDataModel().get_highlightCaptions(),e.get_vizDataModel().get_fieldCaptions());if(!ss.referenceEquals(e,pJ)){pP=_.intersection(pP,pK.get_fieldCaptions())}if(tab.MiscUtil.isNullOrEmpty(pP)){continue}for(var pQ=0;pQ<pP.length;pQ++){var pR=pP[pQ];if(e.vizDataContainsDuplicateCaption(pR)){pD.$1=false;return pD}}var pS=E.$3(e.get_vizDataModel(),ex,pP);pD.$5[pI]=E.$9(pS,pK);var pT=[];var pU=bs.$2(pJ);var pV=_.keys(pU);for(var pW=0;pW<pV.length;pW++){var pX=pV[pW];var pY=pU[pX];var pZ=E.$b(pJ,pY);var qa=_.intersection(pZ,pP);if(qa.length>0){var qb=E.$3(e.get_vizDataModel(),ex,qa);pT=pT.concat.apply(pT,E.$6(qb,pJ,pY))}}pD.$3[pI]=pT;pD.$0(pJ,e,ex,pG,pF.name)}}}return pD},$2:function(e){var ex={};var pC=e.get_sceneModel().get_visualListModels();var pD=new ss.ObjectEnumerator(pC);try{while(pD.moveNext()){var pE=pD.current();ex[pE.key]=pE.value.get_groupItemNodes()}}finally{pD.dispose()}var pF=ex['x-labels']||[];ss.arrayAddRange(pF,ex['bottom-axis']||[]);ex['x-labels']=pF;delete ex['bottom-axis'];return ex},isSpecialDateTimeHighlighting:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return false}var ex=e.commandParams['specialFields'];return ss.isValue(ex)&&ex==='date-time'},getHighlightFieldCaptions:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return pD}var pE=e.commandParams['fieldCaptions'];if(!ss.isNullOrUndefined(pE)){pD=JSON.parse(pE)}else{var pF=e.commandParams['specialFields'];if(ss.isNullOrUndefined(pF)||pF!=='all'){}pD=ex}if(ss.isValue(pC)){pD=_.intersection(pC,pD)}return pD},$0:function(e,ex){return'LegendType:'+e.toString()+' LegendNames:'+ex.join(';')},$1:function(e,ex){var pC=[];if(ss.isNullOrUndefined(ex.get_vizDataModel())){return pC}for(var pD=0;pD<e.length;pD++){var pE=e[pD];pC=_.union(pC,E.$9(pE,ex.get_vizDataModel()))}return pC}});var bt=global.tab.BuildCaptionContextMenuCmd=ss.mkType(a,'tab.BuildCaptionContextMenuCmd',function(){ss.makeGenericType(bl,[Object,bu]).call(this)},{get_commandId:function(){return bt.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'build-caption-context-menu'},this.c))}});var bu=global.tab.BuildCaptionContextMenuCmd$Response=ss.mkType(a,'tab.BuildCaptionContextMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return true}});var bv=global.tab.BuildDataSchemaFieldContextMenuCmd=ss.mkType(a,'tab.BuildDataSchemaFieldContextMenuCmd',function(){ss.makeGenericType(bl,[Object,bw]).call(this)},{get_commandId:function(){return bv.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'build-data-schema-field-context-menu'},this.c))}});var bw=global.tab.BuildDataSchemaFieldContextMenuCmd$Response=ss.mkType(a,'tab.BuildDataSchemaFieldContextMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return true}});var bx=global.tab.BuildDataTabFieldContextMenuCmd=ss.mkType(a,'tab.BuildDataTabFieldContextMenuCmd',function(){ss.makeGenericType(bl,[Object,by]).call(this)},{get_commandId:function(){return bx.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'build-data-tab-field-context-menu'},this.c))}});var by=global.tab.BuildDataTabFieldContextMenuCmd$Response=ss.mkType(a,'tab.BuildDataTabFieldContextMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return true}});var bz=global.tab.BuildDeviceLayoutListContextMenuCmd=ss.mkType(a,'tab.BuildDeviceLayoutListContextMenuCmd',function(){ss.makeGenericType(bl,[Object,bA]).call(this)},{get_commandId:function(){return bz.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'build-device-layout-list-context-menu'},this.c))}});var bA=global.tab.BuildDeviceLayoutListContextMenuCmd$Response=ss.mkType(a,'tab.BuildDeviceLayoutListContextMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return true}});var bB=global.tab.BuildLayoutTreeContextMenuCmd=ss.mkType(a,'tab.BuildLayoutTreeContextMenuCmd',function(){ss.makeGenericType(bl,[Object,bC]).call(this)},{get_commandId:function(){return bB.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'build-layout-tree-context-menu'},this.c))}});var bC=global.tab.BuildLayoutTreeContextMenuCmd$Response=ss.mkType(a,'tab.BuildLayoutTreeContextMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return true}});var bD=global.tab.BuildObjectContextMenuCmd=ss.mkType(a,'tab.BuildObjectContextMenuCmd',function(){ss.makeGenericType(bl,[Object,bE]).call(this)},{get_commandId:function(){return bD.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'build-object-context-menu'},this.c))}});var bE=global.tab.BuildObjectContextMenuCmd$Response=ss.mkType(a,'tab.BuildObjectContextMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return ss.keyExists(this.$$c,'commands')}});var bF=global.tab.BuildSchemaChangeDataTypeMenuCmd=ss.mkType(a,'tab.BuildSchemaChangeDataTypeMenuCmd',function(){ss.makeGenericType(bl,[Object,bG]).call(this)},{get_commandId:function(){return bF.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'build-schema-change-data-type-menu'},this.c))}});var bG=global.tab.BuildSchemaChangeDataTypeMenuCmd$Response=ss.mkType(a,'tab.BuildSchemaChangeDataTypeMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return true}});var bH=global.tab.BuildServerAxisContextMenuCmd=ss.mkType(a,'tab.BuildServerAxisContextMenuCmd',function(){ss.makeGenericType(bl,[Object,bI]).call(this)},{get_commandId:function(){return bH.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'build-server-axis-context-menu'},this.c))}});var bI=global.tab.BuildServerAxisContextMenuCmd$Response=ss.mkType(a,'tab.BuildServerAxisContextMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return true}});var bJ=global.tab.BuildSheetListContextMenuCmd=ss.mkType(a,'tab.BuildSheetListContextMenuCmd',function(){ss.makeGenericType(bl,[Object,bK]).call(this)},{get_commandId:function(){return bJ.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'build-sheet-list-context-menu'},this.c))}});var bK=global.tab.BuildSheetListContextMenuCmd$Response=ss.mkType(a,'tab.BuildSheetListContextMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return true}});var bL=global.tab.BuildTitleContextMenuCmd=ss.mkType(a,'tab.BuildTitleContextMenuCmd',function(){ss.makeGenericType(bl,[Object,bM]).call(this)},{get_commandId:function(){return bL.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'build-title-context-menu'},this.c))}});var bM=global.tab.BuildTitleContextMenuCmd$Response=ss.mkType(a,'tab.BuildTitleContextMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return true}});var bN=global.tab.BuildZoneListNodeContextMenuCmd=ss.mkType(a,'tab.BuildZoneListNodeContextMenuCmd',function(){ss.makeGenericType(bl,[Object,bO]).call(this)},{get_commandId:function(){return bN.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'build-zone-list-node-context-menu'},this.c))}});var bO=global.tab.BuildZoneListNodeContextMenuCmd$Response=ss.mkType(a,'tab.BuildZoneListNodeContextMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return true}});var bP=global.tab.ButtonZoneModel=ss.mkType(a,'tab.ButtonZoneModel',function(e,ex){this.$2$1=null;jC.call(this,e,new kA(ex,null))},{add_contentUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_contentUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.get_buttonZone().buttonVisualStates[this.get_buttonZone().activeVisualStateIndex]},get_internalModel:function(){return this.pm},get_buttonZone:function(){return this.get_internalModel().dashboardButtonSharedInfo},get_borderStyle:function(){return this.$1().buttonObjectBorderStyle},get_borderWidth:function(){return this.$1().buttonObjectBorderWidth},get_borderColor:function(){return ct.convertColorForCanvas(this.$1().buttonObjectBorderColor)},get_backgroundColor:function(){return ct.convertColorForCanvas(this.$1().buttonObjectBackgroundColor)},get_caption:function(){return this.$1().buttonCaption},get_effectiveCaption:function(){return this.get_internalModel().buttonEffectiveCaption},get_clickActionString:function(){return this.get_buttonZone().buttonClickAction},get_clickActionMetadataString:function(){return this.get_buttonZone().buttonClickActionMetadata},get_buttonType:function(){return this.get_buttonZone().dashboardButtonType},get_buttonBehaviour:function(){return this.get_buttonZone().dashboardButtonBehaviour},get_tooltipText:function(){if(!ss.isNullOrEmptyString(this.get_internalModel().buttonTooltipText)){return this.get_internalModel().buttonTooltipText}else{return this.$1().buttonTooltipText}},get_imagePathKey:function(){return this.get_internalModel().buttonImagePathKey},get_encodedImage:function(){return this.get_internalModel().image},get_encodedSVGImage:function(){return this.get_internalModel().svgImage},get_width:function(){return this.get_internalModel().w},get_height:function(){return this.get_internalModel().h},get_enabledState:function(){return this.get_internalModel().dashboardButtonEnabledState},get_captionFontName:function(){return this.$1().buttonCaptionFontFormat.fontName},get_captionTextColor:function(){return ct.convertColorForCanvas(this.$1().buttonCaptionFontFormat.fontColor)},get_captionFontSize:function(){return this.$1().buttonCaptionFontFormat.fontSize},get_captionFontIsBold:function(){return this.$1().buttonCaptionFontFormat.isFontBold},get_captionFontIsItalic:function(){return this.$1().buttonCaptionFontFormat.isFontItalic},get_captionFontIsUnderlined:function(){return this.$1().buttonCaptionFontFormat.isFontUnderlined},update:function(e,ex){fZ.notifyFontsFromServerButtonZonePresModel(e);var pC='ButtonZone';var pD=e.buttonImagePathKey;var pE=ss.isValue(e)&&ss.isValue(e.dashboardButtonSharedInfo)&&e.dashboardButtonSharedInfo.dashboardButtonType==='image';if(pE){if(bP.isImageKeyNullOrEmpty(pD)&&ss.isNullOrUndefined(this.get_internalModel())){dv.logDashboardDelayLoadingForHiddenZones(pC,tsConfig.is_authoring)}if(ss.isValue(this.get_internalModel())){var pF=this.get_internalModel().buttonImagePathKey;if(bP.isImageKeyNullOrEmpty(pF)){if(!bP.isImageKeyNullOrEmpty(pD)){dv.logUnhideDashboardDelayLoadedHiddenContent(pC,tsConfig.is_authoring)}}}}this.simpleSwapToUpdate(e,this.$2$1,ex)}},{isImageKeyNullOrEmpty:function(e){return ss.isNullOrUndefined(e)||tab.MiscUtil.isNullOrEmpty$1(e.toString())}});var bQ=global.tab.CalculationAutoCompleteCmd=ss.mkType(a,'tab.CalculationAutoCompleteCmd',function(){ss.makeGenericType(bl,[Object,bR]).call(this)},{get_commandId:function(){return bQ.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'calculation-auto-complete'},this.c))}});var bR=global.tab.CalculationAutoCompleteCmd$Response=ss.mkType(a,'tab.CalculationAutoCompleteCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCompletionsPresModel:function(){return true}});var bS=global.tab.CalculationDialogModel=ss.mkType(a,'tab.CalculationDialogModel',function(e){bU.call(this,e,new kA('calculation'.toString(),null))},{get_notificationId:function(){return'doc:calculation-dialog-event'},get_isAdhoc:function(){return false},onNotify:function(e,ex){this.update(e,ex)}});var bT=global.tab.CalculationFunctionListModel=ss.mkType(a,'tab.CalculationFunctionListModel',function(e){this.$2$1=null;jC.call(this,e,new kA('expressionFuncPm'.toString(),null));this.pm={}},{add_functionListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_functionListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_functions:function(){return this.$1().expressionFuncList||[]},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}});var bU=global.tab.CalculationModel=ss.mkType(a,'tab.CalculationModel',function(e,ex){this.$2$1=null;this.$2$3=null;this.$2$4=0;jC.call(this,e,ex);this.pm={};this.set_calculationFunctionListModel(new bT(this))},{add_calculationUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_calculationUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_isAdhoc:null,get_calculationFunctionListModel:function(){return this.$2$3},set_calculationFunctionListModel:function(e){this.$2$3=e},get_hasCalculation:function(){return ss.isValue(this.pm)&&(!tab.MiscUtil.isNullOrEmpty$1(this.$1().calculationCaption)||!tab.MiscUtil.isNullOrEmpty$1(this.$1().pendingCalcName)||!tab.MiscUtil.isNullOrEmpty$1(this.$1().datasource))},get_isNewCalculation:function(){return tab.MiscUtil.isNullOrEmpty$1(this.$1().fn)},get_adHocShelf:function(){return this.$1().shelfType||'none-shelf'},get_adHocShelfPosition:function(){return this.$1().shelfPosIndex},get_adHocPaneSpecId:function(){return this.$1().paneSpec},$1:function(){return this.pm},get_tokens:function(){return this.$1().styleTokenList||[]},get_name:function(){return this.$1().pendingCalcName||''},get_fieldName:function(){return this.$1().fn||''},get_errors:function(){return this.$1().errorInfoList||[]},get_errorSummary:function(){return this.$1().errorString||''},get_caption:function(){return this.$1().calculationCaption||''},get_formula:function(){return this.$1().calculationFormula||''},get_dependencies:function(){return this.$1().calculationDependencies||''},get_dependenciesBtnLabel:function(){return this.$1().label||''},get_dataSourceName:function(){return this.$1().datasource||''},get_dataSourceCaption:function(){var e=bd.get_instance().get_workbook().get_dataSchema();if(ss.isNullOrUndefined(e)){return null}var ex=e.findDataSourceByName(this.get_dataSourceName());if(ss.isNullOrUndefined(ex)){return null}return ex.get_caption()},get_useParameters:function(){return ss.coalesce(this.$1().useParameters,false)},get_calculationContext:function(){return ss.coalesce(this.$1().calculationContext,'calculation-dialog')},get_isForJoin:function(){return ss.isValue(this.$1().joinOnCalcInfo)&&this.$1().joinOnCalcInfo.forJoin},get_isForRelationshipCalc:function(){return ss.isValue(this.$1().joinOnCalcInfo)&&this.$1().joinOnCalcInfo.forOmRelationshipCalc},get_joinOnCalcInfoPresModel:function(){return this.$1().joinOnCalcInfo},get_modelVersion:function(){return this.$2$4},set_modelVersion:function(e){this.$2$4=e},update:function(e,ex){var pC=this.simpleSwapToUpdate(e,this.$2$1,ex);if(pC){this.set_modelVersion(this.get_modelVersion()+1)}if(ss.isValue(this.$1())&&ss.isValue(this.$1().expressionFuncPm)){this.get_calculationFunctionListModel().update(this.$1().expressionFuncPm,ex)}}});var bV=global.tab.CancelCommands=ss.mkType(a,'tab.CancelCommands',null,null,{cancelRunningCommand:function(e,ex,pC){cw.get().cancelRunningCommand(e,ex,pC)}});var bW=global.tab.CancelExtractCreationResponse=ss.mkType(a,'tab.CancelExtractCreationResponse',function(){});var bX=global.tab.CancellationStatus=ss.mkEnum(a,'tab.CancellationStatus',{success:200,nothingToCancel:204});var bY=global.tab.CancelTelemetry=ss.mkType(a,'tab.CancelTelemetry',null,null,{$0:function(e,ex,pC){if(jT.get_telemetryEnabled()){var pD=pC-ex;jT.logEvent('Cancel_Command',ss.mkdict(['CommandName',ss.coalesce(e,'UNKNOWN'),'ElapsedTimeToCancelMS',pD,'CancelStatus','Failure']))}},$1:function(e,ex,pC,pD,pE){if(jT.get_telemetryEnabled()){var pF=pE-pD;var pG=pE-pC;jT.logEvent('Cancel_Command',ss.mkdict(['CommandName',ss.coalesce(e,'UNKNOWN'),'ElapsedTimeToProcessCancelResponseMS',pF,'ElapsedTimeToCancelMS',pG,'CancelStatus',bY.convertCancellationStatusForLog(ex)]))}},convertCancellationStatusForLog:function(e){switch(e){case 200:{return'Success'}case 204:{return'NothingToCancel'}default:{return''}}}});var bZ=global.tab.CategoricalFilterByIndexCmd=ss.mkType(a,'tab.CategoricalFilterByIndexCmd',function(){ss.makeGenericType(bl,[Object,ca]).call(this)},{get_commandId:function(){return bZ.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'categorical-filter-by-index'},this.c))}});var ca=global.tab.CategoricalFilterByIndexCmd$Response=ss.mkType(a,'tab.CategoricalFilterByIndexCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasParameterError:function(){return ss.keyExists(this.$$c,'parameterError')},hasInvalidIndices:function(){return ss.keyExists(this.$$c,'invalidIndices')},hasFieldCaption:function(){return ss.keyExists(this.$$c,'fieldCaption')},hasFieldName:function(){return ss.keyExists(this.$$c,'fn')},hasInvalidFieldName:function(){return ss.keyExists(this.$$c,'invalidFieldName')},hasInvalidFieldCaption:function(){return ss.keyExists(this.$$c,'invalidFieldCaption')}});var cb=global.tab.CategoricalFilterCmd=ss.mkType(a,'tab.CategoricalFilterCmd',function(){ss.makeGenericType(bl,[Object,cc]).call(this)},{get_commandId:function(){return cb.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'categorical-filter'},this.c))}});var cc=global.tab.CategoricalFilterCmd$Response=ss.mkType(a,'tab.CategoricalFilterCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasParameterError:function(){return ss.keyExists(this.$$c,'parameterError')},hasInvalidValues:function(){return ss.keyExists(this.$$c,'invalidValues')},hasFieldCaption:function(){return ss.keyExists(this.$$c,'fieldCaption')},hasFieldName:function(){return ss.keyExists(this.$$c,'fn')},hasInvalidFieldName:function(){return ss.keyExists(this.$$c,'invalidFieldName')},hasInvalidFieldCaption:function(){return ss.keyExists(this.$$c,'invalidFieldCaption')}});var cd=global.tab.CategoricalFilterInitWithDomainCmd=ss.mkType(a,'tab.CategoricalFilterInitWithDomainCmd',function(){ss.makeGenericType(bl,[Object,ce]).call(this)},{get_commandId:function(){return cd.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'categorical-filter-init-with-domain'},this.c))}});var ce=global.tab.CategoricalFilterInitWithDomainCmd$Response=ss.mkType(a,'tab.CategoricalFilterInitWithDomainCmd$Response',function(e){this.$$c=null;this.$$c=e});var cf=global.tab.CategoricalLegendModel=ss.mkType(a,'tab.CategoricalLegendModel',function(e,ex,pC){this.$2=null;this.$2$1=null;this.$2$2=null;jC.call(this,e,new kA(ex,null));this.$2=pC},{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_legendNameChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_legendNameChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_worksheetName:function(){return this.$1().get_worksheetName()},get_id:function(){return this.get_legendNames().join(';')+this.$2},get_catLegendPresModel:function(){return this.pm},get_isContextMenuAllowed:function(){return this.get_catLegendPresModel().isContextMenuAllowed||false},get_isHighlightEnabled:function(){return this.get_catLegendPresModel().isHighlightEnabled||false},get_isHighlightAllowed:function(){return this.get_catLegendPresModel().isHighlightAllowed||false},get_isOneWay:function(){return this.get_catLegendPresModel().oneWayBrushing||false},get_fieldCaptions:function(){return this.get_catLegendPresModel().fieldCaptions},get_legendNames:function(){return this.get_catLegendPresModel().legendNames},get_legendTypeEnum:function(){return this.$2},get_items:function(){return cf.$0(this.get_legendTypeEnum(),this.get_catLegendPresModel())},$1:function(){var e=ss.safeCast(this.parent,pz);return e.get_zone()},getItemNamesFromObjectId:function(e){var ex=_.find(this.get_items(),function(pC){return pC.objectId===e});return ex.itemValues},update:function(e,ex){if(this.$2==='shape'&&ss.isValue(e.markShapeList)&&tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')&&!bd.get_instance().get_isLocalRenderMode()){bd.get_instance().get_shapeManager().updateCustomImageMap(e.markShapeList)}if(this.isNewPresModelSameAsOld(e)){return}fZ.notifyFontsFromCategoricalLegendPresModel(e);var pC=this.get_catLegendPresModel();this.swapAndCopyPresModel(e);if(ss.isValue(pC)&&!_.isEqual(pC.legendNames,e.legendNames)){this.raiseEvent(this.$2$2,ex)}this.raiseEvent(this.$2$1,ex)}},{$0:function(e,ex){var pC;switch(e){case'color':case'map':{pC=ex.colorLegendItems;break}case'size':{pC=ex.sizeLegendItems;break}case'shape':{pC=ex.shapeLegendItems;break}default:{return null}}return pC}});var cg=global.tab.ChangeWorkbookUIModeCmd=ss.mkType(a,'tab.ChangeWorkbookUIModeCmd',function(){ss.makeGenericType(bl,[Object,ch]).call(this)},{get_commandId:function(){return cg.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'change-workbook-ui-mode'},this.c))}});var ch=global.tab.ChangeWorkbookUIModeCmd$Response=ss.mkType(a,'tab.ChangeWorkbookUIModeCmd$Response',function(e){this.$$c=null;this.$$c=e});var ci=global.tab.CheckConnectionCmd=ss.mkType(a,'tab.CheckConnectionCmd',function(){ss.makeGenericType(bl,[Object,cj]).call(this)},{get_commandId:function(){return ci.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'check-connection'},this.c))}});var cj=global.tab.CheckConnectionCmd$Response=ss.mkType(a,'tab.CheckConnectionCmd$Response',function(e){this.$$c=null;this.$$c=e});var ck=global.tab.CheckExtractActionNeededCmd=ss.mkType(a,'tab.CheckExtractActionNeededCmd',function(){ss.makeGenericType(bl,[Object,cl]).call(this)},{get_commandId:function(){return ck.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabsrv',cmd:'check-extract-action-needed'},this.c))}});var cl=global.tab.CheckExtractActionNeededCmd$Response=ss.mkType(a,'tab.CheckExtractActionNeededCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasExtractAction:function(){return true},hasDatasourceName:function(){return ss.keyExists(this.$$c,'datasource')},hasDatasourceCaption:function(){return ss.keyExists(this.$$c,'datasourceCaption')}});var cm=global.tab.ClearDeviceLayoutCmd=ss.mkType(a,'tab.ClearDeviceLayoutCmd',function(){ss.makeGenericType(bl,[Object,cn]).call(this)},{get_commandId:function(){return cm.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'clear-device-layout'},this.c))}});var cn=global.tab.ClearDeviceLayoutCmd$Response=ss.mkType(a,'tab.ClearDeviceLayoutCmd$Response',function(e){this.$$c=null;this.$$c=e});var co=global.tab.ClientCommand=ss.mkType(a,'tab.ClientCommand',function(e,ex,pC,pD,pE){this.doLocalWork=null;this.$a=null;this.$9=null;this.$b=null;this.$8=null;this.$5='Unknown';this.hasLocalComponent=false;this.hasRemoteComponent=false;this.useGlobalConnectionErrorHandling=true;this.successCallback=null;this.failureCallback=null;this.$6=null;this.$4=null;this.$7=null;this.$1$1=null;this.$a=e;this.hasLocalComponent=ss.isValue(ex);this.hasRemoteComponent=ss.isValue(pC)&&!bd.get_instance().get_isOffline();this.doLocalWork=ex;this.$9=[];this.$b=new Array;if(this.hasRemoteComponent){this.enqueueCommand(pC);this.$5=pC.commandName}this.successCallback=pD;this.failureCallback=pE;this.$6=[];this.$4=[]},{get_isBlocking:function(){return this.$a!=='none'||this.$3()},get_blockType:function(){return this.$a},get_isOneAtATime:function(){return false},get_commandName:function(){return this.$5},set_commandName:function(e){this.$5=e},get_isCancelable:function(){return cv.canCancel(this.get_commandName())&&this.get_hasRemoteComponent()},$3:function(){return this.get_isCancelable()&&ss.isNullOrUndefined(this.$7)},get_shouldShowCommandWaiter:function(){return this.get_isCancelable()||ss.isValue(this.$7)},get_commandWaiter:function(){if(!this.get_shouldShowCommandWaiter()){return null}return this.$7||(this.get_isCancelable()?cw.get().defaultCommandCanceler:null)},set_commandWaiter:function(e){this.$7=e},get_hasLocalComponent:function(){return this.hasLocalComponent},get_hasRemoteComponent:function(){return this.hasRemoteComponent},get_useGlobalConnectionErrorHandling:function(){return this.useGlobalConnectionErrorHandling},set_useGlobalConnectionErrorHandling:function(e){this.useGlobalConnectionErrorHandling=e},get_remoteCommands:function(){return ss.arrayClone(this.$9)},get_requestIdentifier:function(){return this.$1$1},set_requestIdentifier:function(e){this.$1$1=e},get_isFinished:function(){return this.$b.length===0},execute:function(e,ex,pC){var pD=pC;pC=function(pE){_.defer(function(){pD(pE)})};this.$2(ex,pC);this.executeLocal(e)},executeLocal:function(e){if(ss.isValue(this.doLocalWork)){{var ex=tabBootstrap.MetricsController.createContext('EXELOC'.toString(),32,this.$0());try{this.doLocalWork(e)}finally{if(ss.isValue(ex)){ex.dispose()}}}}},$2:function(e,ex){this.$8=new Array;this.executeNextRemoteCommand(e,function(pC){mu.onVizqlPinged();ex(pC)})},$0:function(){return'cn: '+this.get_commandName()},$1:function(){return(ss.referenceEquals(this.get_commandName(),{ns:'tabsrv',cmd:'render-tooltip-server'}.cmd)?32:4)},triggerCallbacks:function(){if(this.$4.length>0){if(!ss.staticEquals(this.failureCallback,null)){this.failureCallback(this.$4[this.$4.length-1])}}else if(this.$6.length>0){if(!ss.staticEquals(this.successCallback,null)){this.successCallback(this.$6[this.$6.length-1])}}},clearCommandResults:function(){ss.clear(this.$6);ss.clear(this.$4)},reEnqueueCompletedCommandRecords:function(){if(ss.isNullOrUndefined(this.$8)){return}var e=this.$8;var ex=this.$b;while(ex.length>0){e.push(ex.shift())}this.$b=e;this.$8=ex},enqueueCommand:function(e){this.$9.push(e);this.$b.push(e)},handleRemoteCommandSuccess:function(e,ex){this.$6.push(ex)},handleRemoteCommandFailure:function(e,ex){this.$4.push(ex)},executeNextRemoteCommand:function(e,ex){if(this.$b.length===0){if(!ss.staticEquals(ex,null)){ex(cz.successResult)}return}var pC=this.$b.shift();this.$8.push(pC);e.executeSingleRemoteCommand(pC,ss.mkdel(this,function(pD,pE){try{if(ss.isValue(pE)){this.set_requestIdentifier(pE.requestId)}this.handleRemoteCommandSuccess(pC,pD)}finally{this.executeNextRemoteCommand(e,ex)}}),ss.mkdel(this,function(pD){try{this.handleRemoteCommandFailure(pC,pD)}finally{if(ss.isValue(ex)){ex(new cz(false,pD))}}}))}});var cp=global.tab.ClientCommandQueue=ss.mkType(a,'tab.ClientCommandQueue',function(){this.$1=null;this.$1=[]},{get_count:function(){return this.$1.length},get_anyCommandIsBlocking:function(){return _.any(this.$1,function(e){return e.get_isBlocking()})},enqueue:function(e){if(e.get_isOneAtATime()){this.$0(ss.getInstanceType(e))}this.$1.push(e)},dequeue:function(){if(this.$1.length<=0){return null}var e=this.$1[0];ss.removeAt(this.$1,0);return e},$0:function(e){var ex=0;for(var pC=this.$1.length-1;pC>=0;--pC){if(ss.referenceEquals(ss.getInstanceType(this.$1[pC]),e)){++ex;ss.removeAt(this.$1,pC)}}if(ex>0){}}});var cq=global.tab.ClipCase=ss.mkEnum(a,'tab.ClipCase',{clipNone:0,clipX:1,clipY:2,clipXY:3});var cr=global.tab.CloseDataAlertDialogCmd=ss.mkType(a,'tab.CloseDataAlertDialogCmd',function(){ss.makeGenericType(bl,[Object,cs]).call(this)},{get_commandId:function(){return cr.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'close-data-alert-dialog'},this.c))}});var cs=global.tab.CloseDataAlertDialogCmd$Response=ss.mkType(a,'tab.CloseDataAlertDialogCmd$Response',function(e){this.$$c=null;this.$$c=e});var ct=global.tab.ColorModel=ss.mkType(a,'tab.ColorModel',function(e,ex,pC,pD){this.$7=0;this.$6=0;this.$4=0;this.$3=0;this.$8='';this.$5='';this.$7=e;this.$6=ex;this.$4=pC;this.$3=pD},{get_r:function(){return this.$7},get_g:function(){return this.$6},get_b:function(){return this.$4},get_a:function(){return this.$3},get_isOpaque:function(){return this.get_a()>=0.999989986419678},isLuminanceAboveThreshold:function(e){return this.$1()>e},isLStarAboveThreshold:function(e){return this.$0()>e},isLuminanceAgainstBackgroundAboveThreshold:function(e,ex){return this.$2(e)>ex},setRGBStr:function(e){this.$8=e},isValueAboveThreshold:function(e){var ex=ct.alphaBlend(this,ct.white);return Math.max(Math.max(ex.get_r(),ex.get_g()),ex.get_b())>e},toString:function(){if(this.$5===''){this.$5=((this.$3>=0.999989986419678)?this.toRgb():this.toRgba())}return this.$5},$0:function(){var e=this.$1();var ex=116*ct.$4(e)-16;return ex},$1:function(){return ct.$5(this.get_r()|0,this.get_g()|0,this.get_b()|0)},$2:function(e){var ex=this.$3*this.$7+(1-this.$3)*e.get_r()|0;var pC=this.$3*this.$6+(1-this.$3)*e.get_g()|0;var pD=this.$3*this.$4+(1-this.$3)*e.get_b()|0;return ct.$5(ex,pC,pD)},getApparentColor:function(e){var ex=(1-ct.$2(this.$7))*e.get_r()>>>0;var pC=(1-ct.$2(this.$6))*e.get_g()>>>0;var pD=(1-ct.$2(this.$4))*e.get_b()>>>0;return new ct(ex,pC,pD,this.$3)},toRgba:function(){return'rgba('+this.$7+','+this.$6+','+this.$4+','+this.$3+')'},toRgba255:function(){return'rgba('+this.$7+','+this.$6+','+this.$4+','+ct.alphaFractionTo255(this.$3)+')'},toRgb:function(){if(this.$8===''){return'rgb('+this.$7+','+this.$6+','+this.$4+')'}return this.$8},toRgbHex:function(){return'#'+ct.$6(this.$7,2)+ct.$6(this.$6,2)+ct.$6(this.$4,2)},toHoverColor:function(){var e=(this.isValueAboveThreshold(77)?ct.blackHoverColor:ct.whiteHoverColor);return((this.get_a()<1)?e:ct.alphaBlend(e,this))},toArgbInt:function(){var e=ct.alphaFractionTo255(this.$3)>>>0;return(((e<<24>>>0)+(this.$7<<16>>>0)>>>0)+(this.$6<<8>>>0)>>>0)+this.$4>>>0}},{fromArgbInt:function(e){var ex=(e&16711680)>>>0>>>16;var pC=(e&65280)>>>0>>>8;var pD=(e&255)>>>0;var pE=(e&4278190080)>>>0>>>24;return new ct(ex,pC,pD,pE/255)},fromColorCode:function(e){var ex=ct.$f.cl[e];if(ss.isValue(ex)){return ex}var pC=function(pL){return Math.min(Math.max(pL,0),255)>>>0};var pD;var pE;var pF;var pG=1;var pH=ct.$a.exec(e);if(ss.isValue(pH)){pD=pC(parseInt(pH[1],16));pE=pC(parseInt(pH[2],16));pF=pC(parseInt(pH[3],16));var pI=new ct(pD,pE,pF,pG);ct.$f.add(e,pI);return pI}pH=ct.$c.exec(e);if(ss.isValue(pH)){pD=pC(parseInt(pH[1],10));pE=pC(parseInt(pH[2],10));pF=pC(parseInt(pH[3],10));var pJ=new ct(pD,pE,pF,pG);pJ.setRGBStr(e);ct.$f.add(e,pJ);return pJ}pH=ct.$d.exec(e);if(ss.isValue(pH)){pD=pC(parseInt(pH[1],10));pE=pC(parseInt(pH[2],10));pF=pC(parseInt(pH[3],10));pG=parseFloat(pH[4]);if(pG<=1){pG=pG*255}if(pG>255){pG=255}if(pG<0){pG=0}pG=ct.alpha255ToFraction(pG);var pK=new ct(pD,pE,pF,pG);ct.$f.add(e,pK);return pK}throw new ss.Exception('Unknown color format: '+e)},alpha255ToFraction:function(e){return tab.DoubleUtil.truncateTwoDecimalPlaces(ct.$7(e))},$7:function(e){return(e+1)/256},alphaFractionTo255:function(e){var ex=tab.DoubleUtil.multiplyBy100(e)>>>0;for(var pC=0;pC<256;pC++){var pD=tab.DoubleUtil.multiplyBy100(ct.alpha255ToFraction(pC))>>>0;if(pD===ex){return pC}}return 255},fromColorModelPlusAlpha:function(e,ex){return new ct(e.get_r(),e.get_g(),e.get_b(),ex)},convertColorForCanvas:function(e){if(ss.isNullOrUndefined(e)||e.charCodeAt(3)===40){return e}ct.$3();var ex=ct.$e[e];if(ss.isValue(ex)){return ex}var pC=ct.fromColorCode(e);ex=pC.toString();return ex},isEqual:function(e,ex,pC){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ex)){return false}if(pC&&e.$3!==ex.$3){return false}return e.$7===ex.$7&&e.$6===ex.$6&&e.$4===ex.$4},alphaBlend:function(e,ex){if(e.get_a()<1){var pC=ct.alphaToTransparency(e.get_a());var pD=ex.get_r()*pC+e.get_r()*e.get_a();var pE=ex.get_g()*pC+e.get_g()*e.get_a();var pF=ex.get_b()*pC+e.get_b()*e.get_a();return new ct(pD>>>0,pE>>>0,pF>>>0,1)}else{return e}},isFullyTransparent:function(e){return e.get_a()===0},alphaComposite:function(e,ex){if(ex.get_a()>=0.999989986419678){return ct.alphaCompositeSolidDest(e,ex)}var pC=ct.alphaToTransparency(e.get_a());var pD=e.get_a()+ex.get_a()*pC;return new ct(ct.$0(e.get_r(),e.get_a(),ex.get_r(),ex.get_a(),pD),ct.$0(e.get_g(),e.get_a(),ex.get_g(),ex.get_a(),pD),ct.$0(e.get_b(),e.get_a(),ex.get_b(),ex.get_a(),pD),pD)},alphaCompositeSolidDest:function(e,ex){return new ct(ct.$1(e.get_r(),e.get_a(),ex.get_r()),ct.$1(e.get_g(),e.get_a(),ex.get_g()),ct.$1(e.get_b(),e.get_a(),ex.get_b()),1)},$5:function(e,ex,pC){return 0.2126*ct.$g[e]+0.7152*ct.$g[ex]+0.0722*ct.$g[pC]},$2:function(e){return Math.min(1,(255-e>>>0)/255*1.5)},$6:function(e,ex){var pC=e.toString(16);while(pC.length<ex){pC='0'+pC}return pC},$0:function(e,ex,pC,pD,pE){return Math.round((e*ex+pC*pD*ct.alphaToTransparency(ex))/pE)>>>0},$1:function(e,ex,pC){return Math.round(e*ex+pC*ct.alphaToTransparency(ex))>>>0},$4:function(e){if(e>0.00885639991611242){return Math.pow(e,0.333333313465118)}else{return 7.78703689575195*e+0.137931004166603}},$3:function(){if(ss.isValue(ct.$e)){return}ct.$e={};ct.$e['rgba(0,0,0,255)']='rgba(0,0,0,1)';ct.$e['rgba(0,0,0,0)']='rgba(0,0,0,0)';ct.$e['rgba(255,255,255,255)']='rgba(255,255,255,1)';ct.$e['rgba(255,255,255,0)']='rgba(255,255,255,0)'},transparencyToAlpha:function(e){return Math.min(Math.max(1-e,0),1)},alphaToTransparency:function(e){return ct.transparencyToAlpha(e)}});var cu=global.tab.ColorPaletteCollectionModel=ss.mkType(a,'tab.ColorPaletteCollectionModel',function(e){jC.call(this,e,new kA('colorPalettes'.toString(),null))},{get_paletteCollectionPresModel:function(){return this.pm},get_qColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().qColorPaletteGroups},get_catColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().catColorPaletteGroups},get_colorPalettes:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return[]}return e.colorPalettes},colorPaletteGroup:function(e){var ex=e.palettesIndices;return _.map(ex,ss.mkdel(this,function(pC){return this.get_colorPalettes()[pC]}))},update:function(e,ex){this.simpleSwapToUpdate(e,null,ex)}});var cv=global.tab.CommandCancellationWhiteList=ss.mkType(a,'tab.CommandCancellationWhiteList',function(){},null,{$0:function(e){var ex=cv.$2[e];if(ex==='InvalidFeatureFlag'){return true}return tab.FeatureFlags.isEnabled(ex)},canCancel:function(e){return ss.keyExists(cv.$2,e)&&cv.$0(e)}});var cw=global.tab.CommandController=ss.mkType(a,'tab.CommandController',function(e,ex,pC,pD){this.$12=null;this.$13=null;this.executingCommands=[];this.waitingCommands=new cp;this.$1f=new nY;this.deferredServerResponseQueue={};this.$19=[];this.$15=null;this.$1g=null;this.$1h=null;this.$1d=false;this.$1c=null;this.$17=null;this.$11=null;this.$1b=[];this.$14=null;this.$10=false;this.$16=[];this.$1e=false;this.$1a={};this.$18=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$9=null;this.$1$10=null;this.$1$11=null;this.$1$12=null;this.$1$13=null;this.$1$14=null;this.$1$15=null;this.$1$16=null;this.defaultCommandCanceler=null;this.e2eAutomationTestHooks=null;this.legacySession=null;this.processingRenderModeChange=false;this.haveApiClientsBeenUpdated=false;this.processingStoryPointChange=false;this.isCanceling=false;this.legacySession=e;this.$13=ex;this.defaultCommandCanceler=pC;window.window.onerror=ss.mkdel(this,this.$A);this.$1h=new pt(this.$13);this.$1g=new jk;this.set_commandHandler(pD);this.$14=new eh(ex);this.$v();this.e2eAutomationTestHooks=new L(this.$1h,ss.mkdel(this,function(){return ss.getKeyCount(this.deferredServerResponseQueue)}),ss.mkdel(this,this.$w));this.$1e=false},{add_onUrlActionsResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onUrlActionsResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onInvalidation:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onInvalidation:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_tabChangeCompleted:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_tabChangeCompleted:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_newLayoutId:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_newLayoutId:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_onInitialBootstrap:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_onInitialBootstrap:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},add_onPrimaryBootstrapSuccess:function(e){this.$1$6=ss.delegateCombine(this.$1$6,e)},remove_onPrimaryBootstrapSuccess:function(e){this.$1$6=ss.delegateRemove(this.$1$6,e)},add_switchingViz:function(e){this.$1$7=ss.delegateCombine(this.$1$7,e)},remove_switchingViz:function(e){this.$1$7=ss.delegateRemove(this.$1$7,e)},add_destroyView:function(e){this.$1$9=ss.delegateCombine(this.$1$9,e)},remove_destroyView:function(e){this.$1$9=ss.delegateRemove(this.$1$9,e)},add_beforeFirstCommandExecuted:function(e){this.$1$10=ss.delegateCombine(this.$1$10,e)},remove_beforeFirstCommandExecuted:function(e){this.$1$10=ss.delegateRemove(this.$1$10,e)},add_commandQueueComplete:function(e){this.$1$11=ss.delegateCombine(this.$1$11,e)},remove_commandQueueComplete:function(e){this.$1$11=ss.delegateRemove(this.$1$11,e)},add_undoCommand:function(e){this.$1$12=ss.delegateCombine(this.$1$12,e)},remove_undoCommand:function(e){this.$1$12=ss.delegateRemove(this.$1$12,e)},add_redoCommand:function(e){this.$1$13=ss.delegateCombine(this.$1$13,e)},remove_redoCommand:function(e){this.$1$13=ss.delegateRemove(this.$1$13,e)},add_modelsUpdated:function(e){this.$1$14=ss.delegateCombine(this.$1$14,e)},remove_modelsUpdated:function(e){this.$1$14=ss.delegateRemove(this.$1$14,e)},add_intermediateUpdate:function(e){this.$1$15=ss.delegateCombine(this.$1$15,e)},remove_intermediateUpdate:function(e){this.$1$15=ss.delegateRemove(this.$1$15,e)},add_remoteCommandFailure:function(e){this.$1$16=ss.delegateCombine(this.$1$16,e)},remove_remoteCommandFailure:function(e){this.$1$16=ss.delegateRemove(this.$1$16,e)},get_loader:function(){return this.$1c},get_remoteExecutingCommands:function(){return this.executingCommands},$Z:function(){return this.executingCommands.length===0&&this.waitingCommands.get_count()===0},get_commandQueueContainsBlockingCommand:function(){return this.$Y()||this.waitingCommands.get_anyCommandIsBlocking()},$Y:function(){return _.any(this.executingCommands,cw.$6)},get_commandHandler:function(){return this.$12},set_commandHandler:function(e){if(ss.isValue(this.$12)){this.$12.remove_onRemoteCommandResponse(ss.mkdel(this,this.$s));this.$12.remove_onRemoteCommandException(ss.mkdel(this,this.$r))}this.$12=e;this.$12.add_onRemoteCommandResponse(ss.mkdel(this,this.$s));this.$12.add_onRemoteCommandException(ss.mkdel(this,this.$r))},resetAllContentReady:function(){this.$1e=false},cancelRunningCommand:function(e,ex,pC){this.$2();this.$1g.show(true,false);this.isCanceling=true;var pD=new Date;while(ss.isValue(this.waitingCommands.dequeue())){}this.$12.cancelRunningCommand(e,ss.mkdel(this,function(pE,pF){var pG=new Date;if(pF===200){ss.clear(this.executingCommands);ss.clearKeys(this.deferredServerResponseQueue);ss.clear(this.$19);this.$15=null;if(ss.isValue(pE)){this.$1d=!!(this.$1d|pE.isWorldNew);this.$T(pE);var pH=new hX;pH.primarySheet=null;pH.layoutStatus=pE;pH.cmdResult=null;var pI=pH;var pJ={item1:pE.applicationPresModel,item2:pI};this.$8(0,pJ);this.$D(null)}}if(!ss.staticEquals(ex,null)){ex(pF)}this.isCanceling=false;this.$1g.hide();var pK=new Date;bY.$1(e.commandName,pF,pD,pG,pK)}),ss.mkdel(this,function(pE){if(!ss.staticEquals(pC,null)){pC()}this.isCanceling=false;this.$1g.hide();var pF=new Date;bY.$0(e.commandName,pD,pF)}))},resetInvalidationHandlers:function(){this.$1$1=null;this.$1$2=null;this.$1$6=null},setBrowserViewportFunc:function(e){this.$17=e;if(kC.get_progressiveLoadEnabled()){this.$17(ss.mkdel(this,function(ex){this.$1c.setViewport(ex)}))}},prepareForSheetChange:function(){jk.get_waitHandler().showAndLock()},switchViz:function(e,ex,pC){if(!ss.staticEquals(this.$1$7,null)){this.$1$7()}this.$10=false;this.$1e=false;nv.reset();tabBootstrap.ViewerBootstrap.resetInstance();var pD=tsConfig.staticAssetVersion;nv.resetTsConfig(e);var pE=this.$u(tsConfig.cssStaticAssetFiles,tsConfig.jsStaticAssetFiles);var pF=!ss.referenceEquals(pD,tsConfig.staticAssetVersion);if(pF||pE){ex.setWindowLocation(null);return}cw.$f=false;var pG=ex.get_ignoreStickySession();if(!pG){ex.updateForViewingSheet(tsConfig.repositoryUrl).replaceState(null)}pC(this.legacySession);if(!ss.staticEquals(cw.$1$8,null)){cw.$1$8()}},onDataSourceFilesUploaded:function(e){for(var ex=0;ex<e.length;ex++){var pC=e[ex];this.$14.trackUploadedDataSource(pC)}},$R:function(){if(this.$18){return}jk.get_waitHandler().addrefAndShowFullWaitHandlerNow();this.$18=true},$S:function(){if(!this.$18){return}jk.get_waitHandler().release();this.$18=false},$u:function(e,ex){for(var pC=0;pC<e.length;pC++){var pD=e[pC];if(!jH.isCssLoaded(pD)){return true}}for(var pE=0;pE<ex.length;pE++){var pF=ex[pE];if(!jH.isScriptLoaded(pF)){return true}}return false},$n:function(e){this.$W(e);if(!ss.staticEquals(this.$1$6,null)){this.$1$6()}var ex=oP.createForCurrentWindowLocation(null);if(ex.get_retry()){ex.set_retry(false);ex.replaceState(null)}if(ex.get_retryBootstrapAttempts()>0){ex.set_retryBootstrapAttempts(0);ex.replaceState(null)}if(ss.isValue(e.sessionState)){this.adoptServerSessionState(e.sessionState)}this.$q(e.worldUpdate.applicationPresModel);this.$14.handlePotentialBootstrapDataSourceException(e);if(ss.isNullOrUndefined(e.sessionState)){if(!ss.staticEquals(this.$1$5,null)){this.$1$5()}}},$g:function(e){var ex=e['message'];if(ss.isNullOrUndefined(ex)){ex=e['_message']}var pC=ex;if(ss.isValue(pC)&&pC.substr(0,12)==='Invalid JSON'){cw.sendParentCompletedMessage();var pD=tab.Strings.ServerErrorInvalidJSON+'<br>';this.$13.ShowErrorDialog(pD,tab.Strings.SessionUnknownErrorTitle,null);throw new ss.Exception('Invalid JSON')}},$i:function(e){var ex=0;var pC='';try{var pD=JSON.parse(e['responseText']);if(ss.isValue(pD)){ex=pD.code;pC=pD.message}}catch(pE){}cw.sendParentCompletedMessage();this.legacySession.get_sessionErrorHandler().handleSessionForbiddenAction(ex,pC)},$h:function(e){if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var ex=e['responseText'];var pC=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize$1(ex);var pD=(ss.isNullOrUndefined(pC)?ex:pC.RedirectUrl);tab.WindowHelper.locationReplace(window.self,pD)}else{var pE=e['responseText'];tab.WindowHelper.locationReplace(window.self,pE)}},$j:function(){cw.sendParentCompletedMessage();this.legacySession.get_sessionErrorHandler().handleSessionTimeoutLimitExceeded()},$k:function(){this.legacySession.get_sessionErrorHandler().handleSessionExpiration(true)},$l:function(){cw.sendParentCompletedMessage();this.legacySession.get_sessionErrorHandler().handleSessionResourceLimitExceeded()},$m:function(){cw.sendParentCompletedMessage();this.legacySession.get_sessionErrorHandler().handleTooManyRequests()},$e:function(e,ex){if(e!==0){cw.sendParentCompletedMessage();var pC=ex['responseText'];if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var pD=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize$1(pC);if(ss.isValue(pD)){pC=pD.ErrorMessage}}if(e===502||e===503){this.legacySession.get_sessionErrorHandler().handleSessionKilled(pC,true)}else{this.legacySession.get_sessionErrorHandler().handleUnknownErrorStatus(pC)}jk.nudgeWait()}},$f:function(e){mu.onVizqlPinged();var ex=e['status'];switch(ex){case 200:{this.$g(e);break}case 403:{this.$i(e);break}case 401:{this.$h(e);break}case 408:{this.$j();break}case 410:{this.$k();break}case 413:{this.$l();break}case 429:{this.$m();break}default:{this.$e(ex,e);break}}tab.ErrorTrace.addExtraInfo('bootstrap status:'+ex)},refreshLayout:function(){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}this.$R();var ex=ss.mkdel(this,function(pE){if(tab.ObjectCoverage.shouldTrack('bootstrap-initial')){pE=(new tab.ObjectCoverage('bootstrap-initial')).instrument(pE,'')}try{this.$n(pE)}catch(pF){var e=ss.Exception.wrap(pF);cw.handleBootstrapException(e,this.$13)}});var pC=ss.mkdel(this,function(e){if(ss.isValue(e)){_.defer(ss.mkdel(this,function(){{var pE=tabBootstrap.MetricsController.createContext('PROSEC'.toString(),2,null);try{pE.set_clientEventId(tabBootstrap.ViewerBootstrap.get_instance().get_bootstrapRequestId());try{this.$t(e)}catch(pF){var e1=ss.Exception.wrap(pF);cw.handleBootstrapException(e1,this.$13)}}finally{if(ss.isValue(pE)){pE.dispose()}}}if(kC.get_progressiveLoadEnabled()){this.$Q()}else{this.$z()}}))}});var pD=ss.mkdel(this,function(e){this.$f(e);this.$S()});tabBootstrap.ViewerBootstrap.get_instance().waitOnInitialLayoutModel(ex,pD,pC)},delayLocalUrlActions:function(e){this.$16=this.$16.concat.apply(this.$16,e)},worldCheckpoint:function(){return this.$1h.worldCheckpoint()},$0:function(e){var ex=function(){e()};var pC={type:'POST',url:cw.$0('transitionGuest',this.legacySession)};var pD=tab.MiscUtil.get_urlPathnameParts();var pE=(ss.keyExists(pD,3)?pD[3]:'');var pF=tsConfig.current_sheet_name;var pG=ss.mkdict([':authSheet',pF,'sheet_id',pE]);pC.data=pG;var pH=new mr(this.legacySession,null,ex,null,true,true);px.helper(pC,pH)},$A:function(e,ex,pC,pD,pE){var pF=false;if(!tabBootstrap.Utility.shouldIgnoreScriptError(e,pE)){var pG=tab.Strings.UnhandledExceptionMessage(this.legacySession.get_id(),e);var pH=cw.$1(this.legacySession.get_id(),e,pE);this.$13.ShowErrorDialog(pG,tab.Strings.UnhandledExceptionTitle,pH);pF=true}cw.$8(JSON.stringify(e));tab.ErrorTrace.windowOnError$1(e,ex,pC,pD,pE,pF);return false},adoptServerSessionState:function(e){var ex=e.outcome;var pC=e.stateGuids;if((ex==='FULL'||ex==='PARTIAL')&&pC.length>0){var pD=pC[pC.length-1];this.legacySession.get_history().revertHistory([],pD)}else{this.legacySession.get_history().revertHistory(pC,null)}},$C:function(e){if(ss.isValue(e)){jC.nonWorldUpdate(ss.mkdel(this,function(ex){ex.dialogProvider=this.$13;bd.get_instance().update(e,ex);this.$1h.checkpointAppPresModel()}));this.$J()}},$y:function(){if(!ss.staticEquals(this.$1$15,null)){this.$1$15()}},$v:function(){if(kC.get_progressiveLoadEnabled()){this.$1c=new kC;this.$1c.add_progressiveLoad(ss.mkdel(this,this.$C));this.$1c.add_progressiveLoadComplete(ss.mkdel(this,this.$B));this.$11=[]}},$Q:function(){this.$1c.start()},$2:function(){if(kC.get_progressiveLoadEnabled()&&this.$1c.get_hasZonesToLoad()){this.$1c.abort();this.$11=[];this.$B()}},$B:function(){this.$O();this.$z();pu.get().raiseOnProgressiveLoadComplete();pu.get().raiseOnDashboardLoadComplete();for(var e=0;e<this.$11.length;e++){var ex=this.$11[e];ex()}this.$11=[]},createModelUpdateContext:function(){var e=new ej;e.exceptionHandler=ss.mkdel(this,function(pD){cw.handleBootstrapException(pD,this.$13)});var ex=e;var pC={dialogProvider:this.$13,eventHandler:ex};return pC},$q:function(e){{var ex=tabBootstrap.MetricsController.createContext('PROPRI',2,null);try{var pC=tabBootstrap.ViewerBootstrap.get_instance().get_bootstrapRequestId();ex.set_clientEventId(pC);var pD=new ej;pD.exceptionHandler=ss.mkdel(this,function(pJ){cw.handleBootstrapException(pJ,this.$13)});var pE=pD;var pF={dialogProvider:this.$13,eventHandler:pE};pu.get().raiseOnBootstrapResponse(e);if(kC.get_progressiveLoadEnabled()){e=this.$1c.extractZoneContent(e)}{var pG=tabBootstrap.MetricsController.createContext('MDLINI'.toString(),2,null);try{pG.set_clientEventId(pC);var pH=bd.get_instance();pH.update(e,pF)}finally{if(ss.isValue(pG)){pG.dispose()}}}this.$1h.checkpointAppPresModel();nv.notifyModelsInitialized();{var pI=tabBootstrap.MetricsController.createContext('MDLEVT'.toString(),2,null);try{pI.set_clientEventId(pC);pE.fireDeferredEvents()}finally{if(ss.isValue(pI)){pI.dispose()}}}}finally{if(ss.isValue(ex)){ex.dispose()}}}this.$J();if(!kC.get_progressiveLoadEnabled()){this.$O();pu.get().raiseOnDashboardLoadComplete()}jk.nudgeWait()},$t:function(e){var ex=(ss.isNullOrUndefined(e)?null:e.secondaryInfo);if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.presModelMap)||ss.getKeyCount(ex.presModelMap)===0){return}var pC=new ej;pC.exceptionHandler=ss.mkdel(this,function(pH){cw.handleBootstrapException(pH,this.$13)});var pD=pC;var pE={dialogProvider:this.$13,eventHandler:pD};var pF=this.$1f.beginTransaction(pE);try{var pG=bd.get_instance();cw.$9(Object).call(null,ex,'dataDictionary','genDataDictionaryPresModel',function(pH){if(ss.isValue(pH)){var pI=pF.makeMutablePresModel(pG,false);pI.dataDictionary=pH}});cw.$9(Object).call(null,ex,'vizData','genPresModelMapPresModel',ss.mkdel(this,function(pH){if(kC.get_progressiveLoadEnabled()&&this.$1c.get_hasZonesToLoad()){this.$1c.updateZonesWithVizData(pH,pE)}else{cw.$2(pG,pF,pH)}}));pG.update(this.$1f.endTransaction(),pE)}catch(pH){var e1=ss.Exception.wrap(pH);tab.ErrorTrace.report(e1,false);this.$1f.rollbackTransaction()}this.$5();if(jF.hasAnyImpliedSelection()){pD.fireDeferredEvents()}this.$J()},$W:function(e){this.$V(e.layoutId);var ex=e.newSessionId;if(!tab.MiscUtil.isNullOrEmpty$1(ex)){tsConfig.sessionid=ex}var pC=e.workbookLocale;if(!ss.isNullOrEmptyString(pC)){tsConfig.workbookLocale=pC}var pD=e.newClientNum;if(!ss.isNullOrEmptyString(pD)){tsConfig.clientNumber=pD;tabBootstrap.UrlLocationHashManager.addToUrlHash('cn',pD)}tsConfig.is_deferred_bootstrap=e.isDeferredBootstrap;if(tsConfig.is_deferred_bootstrap){nv.callOnceAfterDeferredBootstrap(cw.$5)}tsConfig.current_sheet_name=e.sheetName;px.set_currentTabName(tsConfig.current_sheet_name);tsConfig.workbook_allow_subscriptions=e.allowSubscriptions;tsConfig.allow_subscribe_on_data_present=e.allowSubscribeOnDataPresent;if(ss.isValue(e.worldUpdate)&&ss.isValue(e.worldUpdate.applicationPresModel.workbookPresModel.dashboardPresModel)){tsConfig.current_sheet_type=e.worldUpdate.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo.sheetType}},$V:function(e){tsConfig.layoutid=e},$x:function(){while(this.waitingCommands.get_count()>0&&!this.$Y()){this.$9(this.waitingCommands.dequeue())}},$9:function(ex){this.executingCommands.push(ex);var pC=!tsConfig.is_desktop;if(ex.get_isBlocking()&&pC){this.$1g.show(ex.get_blockType()==='immediately',!ex.get_shouldShowCommandWaiter())}var pD=new ej;var pE={dialogProvider:this.$13,eventHandler:pD};var pF=this.$1f.beginTransaction(pE);var pG;try{ex.execute(pF,this.$12,ss.mkdel(this,function(e){this.commandCompleted(ex,e)}));pG=this.$1f.endTransaction();if(bd.get_instance().get_isLocalRenderMode()&&!cw.fireDeferredUrlActions){this.$a(this.$16)}if(ex.get_shouldShowCommandWaiter()){ex.get_commandWaiter().handleCommandStarted(ex)}}catch(pJ){var e=ss.Exception.wrap(pJ);tab.ErrorTrace.report(e,false);this.$1f.rollbackTransaction();this.commandCompleted(ex,new cz(false,e));return}finally{this.$N()}var pH=null;if(ex.get_hasLocalComponent()){pH=tabBootstrap.MetricsController.createContext('PROLOC'.toString(),32,ex.$0())}{var pI=pH;try{if(ss.isValue(pG)){if(kC.get_progressiveLoadEnabled()){pG=this.$G(pG,pE,true)}bd.get_instance().update(pG,pE);this.$1h.markCurrentWorldAsDirty();pD.fireDeferredEvents();this.$J()}}finally{if(ss.isValue(pI)){pI.dispose()}}}if(this.executingCommands.length>0){this.$1e=false}},commandCompleted:function(e,ex){try{var pC=null;if(e.get_hasRemoteComponent()){pC=tabBootstrap.MetricsController.createContext('PROREM'.toString(),e.$1(),e.$0());pC.set_clientEventId(e.get_requestIdentifier())}{var pD=pC;try{try{ss.remove(this.executingCommands,e);if(this.$Z()){this.$D(e)}}finally{this.processingRenderModeChange=false;this.processingStoryPointChange=false}}finally{if(ss.isValue(pD)){pD.dispose()}}}this.$o(e,ex);if(e.get_isFinished()){e.triggerCallbacks();if(e.get_shouldShowCommandWaiter()){e.get_commandWaiter().handleCommandCompleted()}}if(this.$Z()||!this.get_commandQueueContainsBlockingCommand()){this.$1g.hide()}this.$x()}catch(pE){var failedErrorDialogCommands=tab.ListExtensions.where(Object).call(null,e.get_remoteCommands(),ss.mkdel(this,function(pF){return this.legacySession.get_sessionErrorHandler().checkForErrorDialogFailure(pF)}));if(failedErrorDialogCommands.length>0){this.legacySession.get_sessionErrorHandler().handleErrorDialogFailure(failedErrorDialogCommands[0])}else{if(e.get_shouldShowCommandWaiter()){e.get_commandWaiter().handleCommandError()}throw pE}}},$o:function(e,ex){if(!ex.succeeded&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var pC=this.$14.handle(ex.error,e);if(pC){this.$1h.revertLocalChanges();this.$1g.hide()}}},$a:function(e){var ex=(ss.isValue(e)?ss.arrayClone(e):[]);this.$N();if(!ss.staticEquals(this.$1$1,null)&&ex.length>0){this.$1$1(ex,this.$13)}},$N:function(){this.$16.length=0},$s:function(e,ex,pC){if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(pC)){return}var pD=pC['vqlCmdResponse'.toString()];if(ss.isNullOrUndefined(pD)||ss.isNullOrUndefined(pD.layoutStatus)){return}var pE=pD.layoutStatus;if(ss.isValue(pE.isWorldNew)){this.$1d=!!(this.$1d|pE.isWorldNew)}if(ss.isValue(pE.urlActionList)&&!bd.get_instance().get_isLocalRenderMode()||cw.fireDeferredUrlActions||ex.forceFireUrlActions){if(pE.urlActionList.length>0){cw.fireDeferredUrlActions=false;this.$a(pE.urlActionList)}}this.$T(pE);var pF=new hX;pF.primarySheet=this.$c(ex);pF.layoutStatus=pD.layoutStatus;pF.cmdResult=pD.cmdResultList[0];pF.commandName=ex.commandName;var pG=pF;var pH=pD.layoutStatus.applicationPresModel;var pI={item1:pH,item2:pG};this.$8(e,pI);var pJ=ss.isValue(this.$15)&&!ss.referenceEquals(tsConfig.current_sheet_name,this.$15.sheetName);var pK=new cI;pK.set_applicationPresModel(pH);pK.set_worldUpdateCommand(ex);pK.set_sheetChanged(pJ);pK.set_rebuildTheWorld(this.$1d);var pL=pK;nv.notifyDeferredBootstrapComplete();pu.get().raiseOnCommandResponse(pL)},$c:function(e){var ex=null;if(ss.isValue(e.commandParams)&&!ss.referenceEquals(e.commandName,{ns:'tabsrv',cmd:'render-tooltip-server'}.cmd)){if(ss.keyExists(e.commandParams,'worksheet')){ex=e.commandParams['worksheet']}else if(ss.keyExists(e.commandParams,'visualIdPresModel')){var pC;if(typeof(e.commandParams['visualIdPresModel'])==='string'){var pD=e.commandParams['visualIdPresModel'];pC=JSON.parse(pD)}else{pC=e.commandParams['visualIdPresModel']}ex=pC.worksheet}}return ex},$T:function(e){if(ss.isValue(e.applicationPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel.dashboardPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo)){this.$15=e.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo}},$r:function(e,ex,pC){var pD=new hX;pD.cmdResult={commandName:ex.commandName,commandReturn:pC};var pE=pD;var pF={item1:null,item2:pE};this.$8(e,pF);this.$L(pC)},$D:function(e){if(bd.get_instance().get_isOffline()){return}var ex=new ej;var pC={dialogProvider:this.$13,eventHandler:ex};var pD=ss.getKeyCount(this.deferredServerResponseQueue)>0;var pE=false;if(ss.isValue(this.$15)){pE=!ss.referenceEquals(tsConfig.current_sheet_name,this.$15.sheetName);this.$V(this.$15.layoutId.toString());if(pE){if(!ss.staticEquals(cw.$1$17,null)){cw.$1$17()}}if(pE||this.$1d){this.$1$9()}}var pF=this._getRenderMode();var pG=this.$d();this.$4();this.$1f.rollbackTransactions(pC);if(this.$1d){bd.get_instance().get_workbook().handleWorldReset()}if(this.$1d||pE){this.$2()}this.$3(pF,pC);this.$6();ss.clearKeys(this.deferredServerResponseQueue);this.$5();this.$F(pG);this.$E(pE);if(pD){jF.reValidateVisualModels(pC)}ex.fireDeferredEvents();this.$p(e);this.$J();this.$X();if(!kC.get_progressiveLoadEnabled()&&pE){pu.get().raiseOnDashboardLoadComplete()}},$5:function(){this.$1h.checkpointAppPresModel();this.$1f.resetTransactedState()},$X:function(){this.$1b.push(ss.mkdel(this,this.$I));this.$1b.push(ss.mkdel(this,function(){hR.callWhenImagesLoaded(ss.mkdel(this,function(){this.$1e=true}))}));if(kC.get_progressiveLoadEnabled()&&this.$1c.get_hasZonesToLoad()){this.$11.push(ss.mkdel(this,function(){this.$7()}))}else{this.$7()}this.$1d=false},$7:function(){for(var e=0;e<this.$1b.length;e++){var ex=this.$1b[e];ex()}ss.clear(this.$1b)},$F:function(e){if(e.get_isStory()){var ex=this.$d();if(ex.get_isStory()&&e.get_storyPointId()!==ex.get_storyPointId()&&ss.isValue(e.get_sheetName())&&ss.referenceEquals(e.get_sheetName(),ex.get_sheetName())){this.processingStoryPointChange=true;bd.get_instance().$1()}}},$E:function(e){if(ss.isNullOrUndefined(this.$15)){return}if(!e&&!this.$1d){return}if(e){try{if(ss.isValue(window.parent)&&typeof(window.parent['handleSheetChanged'])==='function'){window.parent['handleSheetChanged'](this.$15.sheetName,this.$15.repositoryUrl)}}catch(pC){}}if(tsConfig.is_mobile_app&&!('sheetname'in this.$15)){this.$15['sheetName']=this.$15.sheetName}var ex={item1:tsConfig.current_sheet_name,item2:this.$15.sheetName};if(!ss.staticEquals(this.$1$4,null)){this.$1$4(this.$15)}P.get().onNewLayoutId([this.$15]);this.$1b.push(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3(ex)}}));this.$15=null},$4:function(){if(!tab.FeatureParamsLookup.getBool(46)){return}ss.clearKeys(this.$1a);var e=bd.get_instance().pm;if(e===Object(e)&&e.workbookPresModel===Object(e.workbookPresModel)&&e.workbookPresModel.dashboardPresModel===Object(e.workbookPresModel.dashboardPresModel)){var ex=new ss.ObjectEnumerator(e.workbookPresModel.dashboardPresModel.zones);try{while(ex.moveNext()){var pC=ex.current();if(pC.value===Object(pC.value)&&pC.value.presModelHolder===Object(pC.value.presModelHolder)&&ss.keyExists(pC.value.presModelHolder,'visual')){var pD=pC.value.presModelHolder['visual'];if(pD.scene===Object(pD.scene)&&ss.isValue(pD.scene.runtimeFinalDatastoreLocal)){this.$1a[pC.key]=pD.scene.runtimeFinalDatastoreLocal}}}}finally{ex.dispose()}}},$6:function(){if(!tab.FeatureParamsLookup.getBool(46)||ss.getKeyCount(this.$1a)===0){return}var e=bd.get_instance().pm;if(e.workbookPresModel===Object(e.workbookPresModel)&&e.workbookPresModel.workbookModified){var ex=new ss.ObjectEnumerator(e.workbookPresModel.dashboardPresModel.zones);try{while(ex.moveNext()){var pC={$:ex.current()};if(ss.keyExists(this.$1a,pC.$.key)){var pD=new tab.DatastoreHandle(this.$1a[pC.$.key],null);tab.RuntimeWebModule.proxy.marshallDatastore(pD).done(ss.mkdel({newZone:pC},function(pE){var pF=this.newZone.$.value.presModelHolder['visual'].scene.runtimeRenderInputDatastore;var pG=tab.JsHeapMarshaller.unmarshallHex(pF);if(!ed.deepCompare(pE,pG,0.001,'')){}}))}}}finally{ex.dispose()}}},$3:function(e,ex){var pC=_.keys(this.deferredServerResponseQueue);pC=pC.sort(function(pL,pM){var pN=parseInt(pL);var pO=parseInt(pM);return((pN>pO)?1:-1)});var pD=bd.get_instance();var pE={$:null};for(var pF=this.$b(pC);pF<pC.length;pF++){var pG=pC[pF];var pH=this.deferredServerResponseQueue[pG];var pI=pH.item1;var pJ=pH.item2;if(ss.isNullOrUndefined(pI)||ss.isNullOrUndefined(pJ)||ss.isNullOrUndefined(pJ.layoutStatus)){continue}if(kC.get_progressiveLoadEnabled()){pI=this.$G(pI,ex,false)}var pK=pJ.layoutStatus.active_tab||'';this.$P(pI,pD,pK,pE);pD.update(pI,ex);this.$19.push(pJ);this.$U(pJ);if(!this.processingRenderModeChange&&pI.renderMode!==e){this.processingRenderModeChange=true;this.$1g.showFullWaitHandlerNow()}}if(this.$1d){_.defer(function(){bd.get_instance().$1()})}if(!ss.staticEquals(pE.$,null)){this.remove_undoCommand(pE.$);this.remove_redoCommand(pE.$)}},$b:function(e){var ex=0;if(this.$1d){for(var pC=e.length-1;pC>=0;pC--){var pD=e[pC];var pE=this.deferredServerResponseQueue[pD];var pF=pE.item1;var pG=pE.item2;var pH=!(ss.isNullOrUndefined(pF)||ss.isNullOrUndefined(pG)||ss.isNullOrUndefined(pG.layoutStatus));if(pH&&pG.layoutStatus.isWorldNew){ex=pC;break}}}return ex},$U:function(e){if(!ss.isValue(e.layoutStatus.undoPosition)){return}if(ss.isNullOrUndefined(e.cmdResult)){return}var ex=e.cmdResult.commandName;var pC=this.legacySession.get_history().get_historyPosition();var pD=e.layoutStatus.undoPosition;if(ss.referenceEquals(ex,cN.serialize({ns:'tabsrv',cmd:'revert-workbook'}))){this.legacySession.get_history().revertHistory([],null)}else if(pD===pC-1>>>0){this.$M();this.legacySession.get_history().trackUndo()}else if(pD>pC){if(ss.referenceEquals(ex,cN.serialize({ns:'tabdoc',cmd:'redo'}))){this.$K();this.legacySession.get_history().trackRedo()}else{this.legacySession.get_history().$0('',e.layoutStatus.guid,e.layoutStatus.undoPosition)}}},$P:function(e,ex,pC,pD){if(ss.staticEquals(pD.$,null)&&ss.isValue(e.workbookPresModel)&&(!ss.isValue(e.workbookPresModel.uiMode)||e.workbookPresModel.uiMode==='document')&&ss.isValue(ex.get_workbook())&&ex.get_workbook().get_uiMode()==='data-tab'&&ss.referenceEquals(pC,tsConfig.current_sheet_name)){pD.$=function(){var pE=eh.constructEnsureLayoutForSheetCommand();cw.SendCommand(pE)};this.add_undoCommand(pD.$);this.add_redoCommand(pD.$)}},$G:function(e,ex,pC){if(kC.get_progressiveLoadEnabled()){var pD=bd.get_instance().get_appPresModel();var pE=false;if(bd.get_instance().get_workbook().get_isCurrentSheetStoryboard()&&ss.isValue(bd.get_instance().get_workbook().get_storyboard().get_flipboard())){var pF=bd.get_instance().get_workbook().get_storyboard().get_flipboard().get_currentStoryPointId();var pG=cw.$4(e);pE=ss.isValue(pG)&&pG!==pF}var pH=cw.$3(e);var pI=!ss.isNullOrEmptyString(pH)&&!ss.referenceEquals(pH,cw.$3(pD));if(pE||pI){this.$2();e=this.$1c.extractZoneContent(e);this.$Q()}else{e=this.$1c.processModelUpdate(e,ex,pC)}}return e},$p:function(e){for(var ex=0;ex<this.$19.length;ex++){var pC=this.$19[ex];if(!ss.staticEquals(this.$1$2,null)){this.$1$2(pC)}var pD=ss.isValue(pC)&&ss.isValue(pC.cmdResult)&&ss.referenceEquals(pC.cmdResult.commandName,tabBootstrap.CommandNameBuilder.buildQualifiedCommandName({ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.ns,{ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.cmd));this.$14.handlePotentialDataSourceException(e,pC.layoutStatus,pD)}ss.clear(this.$19)},$z:function(){if(this.$10){this.$y();return}this.$10=true;this.$S();cw.$7();nv.notifyClientFullyLoaded();hR.callWhenImagesLoaded(ss.mkdel(this,function(){jH.registerModulesLoadedCallback(ss.mkdel(this,function(){this.$1e=true}))}));cw.sendParentCompletedMessage();mu.onVizqlPinged();cy.bootstrapCompleteTelemetry();cx.bootstrapCompleteStoryTelemetry()},$8:function(e,ex){if(ss.isValue(ex)){this.deferredServerResponseQueue[e.toString()]=ex}},_getRenderMode:function(){return bd.get_instance().get_renderMode()},$d:function(){return new nz},$H:function(){if(!ss.staticEquals(this.$1$10,null)){this.$1$10()}},$I:function(){if(!ss.staticEquals(this.$1$11,null)){this.$1$11()}},$M:function(){if(!ss.staticEquals(this.$1$12,null)){this.$1$12()}},$K:function(){if(!ss.staticEquals(this.$1$13,null)){this.$1$13()}},$J:function(){if(!ss.staticEquals(this.$1$14,null)){this.$1$14()}},$L:function(e){if(!ss.staticEquals(this.$1$16,null)){this.$1$16(e)}},$O:function(){if(this.$10){return}var e=function(){tabBootstrap.MetricsController.logMetricsEvent('ALLZNS'.toString(),2,tabBootstrap.ViewerBootstrap.get_instance().get_bootstrapRequestId());tabBootstrap.MetricsController.logMetricsEvent('ADJAZN'.toString(),2,tabBootstrap.ViewerBootstrap.get_instance().get_bootstrapRequestId());if(ba.animationIsEnabledForAny(bd.get_instance().get_appPresModel().workbookPresModel.dashboardPresModel.visualIds)){lL.setupModule()}window.setTimeout(function(){lL.setupModule();bd.get_instance().$1()},2500)};hR.callWhenImagesLoaded(function(){jH.registerModulesLoadedCallback(e)})},$1:function(e){var ex=e.get_commandName();if(ss.referenceEquals(ex,{ns:'tabdoc',cmd:'next-story-point'}.cmd)||ss.referenceEquals(ex,{ns:'tabdoc',cmd:'previous-story-point'}.cmd)||ss.referenceEquals(ex,{ns:'tabdoc',cmd:'set-active-story-point'}.cmd)||ss.referenceEquals(ex,{ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.cmd)||ss.referenceEquals(ex,{ns:'tabsrv',cmd:'revert-workbook'}.cmd)){this.$2()}},$w:function(){return ss.getKeyCount(this.deferredServerResponseQueue)>0||this.executingCommands.length>0||this.waitingCommands.get_count()>0}},{add_switchedViz:function(e){cw.$1$8=ss.delegateCombine(cw.$1$8,e)},remove_switchedViz:function(e){cw.$1$8=ss.delegateRemove(cw.$1$8,e)},add_sheetNameChanged:function(e){cw.$1$17=ss.delegateCombine(cw.$1$17,e)},remove_sheetNameChanged:function(e){cw.$1$17=ss.delegateRemove(cw.$1$17,e)},get_hasInstance:function(){return ss.isValue(cw._instance)},$b:function(){return tab.Logger.lazyGetLogger(cw)},get_vizqlServerRequestHandler:function(){return cw.get().legacySession},add_stopPagesPlayShelf:function(e){cw.$1$18=ss.delegateCombine(cw.$1$18,e)},remove_stopPagesPlayShelf:function(e){cw.$1$18=ss.delegateRemove(cw.$1$18,e)},isAllContentReady:function(){return(ss.isNullOrUndefined(cw._instance)?false:cw._instance.$1e)},ensureCreated:function(e,ex,pC){if(ss.isNullOrUndefined(cw._instance)){cw._instance=new cw(e,ex,pC,la.create(e))}return cw._instance},unitTestOnlyStayAwayFromHereSetInstance:function(e){cw._instance=e},unitTestOnlyStayAwayFromHereClearInstance:function(){cw._instance=null;window.window.onerror=null},get:function(){if(!ss.isValue(cw._instance)){throw new ss.Exception('Attempted to use CommandController before creating it.')}return cw._instance},handleBootstrapException:function(e,ex){if(cw.$e){return}var pC=new ss.StringBuilder;if(ss.isValue(e['name'])){pC.append(e['name']).append(': ')}pC.append(e.get_message());ex.ShowErrorDialog(tab.Strings.UnhandledExceptionMessage(tsConfig.sessionid,pC.toString()),tab.Strings.UnhandledExceptionTitle,null);cw.$8(JSON.stringify(fu.packageStackTraceData(tab.ErrorTrace.getStackTraceFor(e,false))));tab.ErrorTrace.report(e,true);cw.sendParentCompletedMessage();cw.$e=true},sendParentCompletedMessage:function(){if(cw.$f){return}cw.$f=true;var e=tabBootstrap.Utility.sendCommandWithContext('tableau.completed');if(!e){}},$8:function(e){var ex=[];ex.push('tableau.unhandledException');ex.push(e);tabBootstrap.Utility.doPostMessage(ex)},$6:function(e){return e.get_isBlocking()},SendCommand:function(e){if(!ss.contains(cw.$d,e.get_commandName())&&!ss.staticEquals(cw.$1$18,null)&&!tsConfig.is_mobile){cw.$1$18()}var ex=cw.get();if(!ex.haveApiClientsBeenUpdated){ex.haveApiClientsBeenUpdated=true;ex.$H()}if(ex.isCanceling){return}if(kC.get_progressiveLoadEnabled()){ex.$1(e)}ex.waitingCommands.enqueue(e);ex.$x()},SendCommandWithDeferredReturn:function(e,ex){var pC=$.Deferred();cw.SendCommand(kZ.create(e,ex,function(pD){pC.resolve(pD)},function(pD){pC.reject()}));return pC.promise()},$0:function(e,ex){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,ex.get_id(),ex.get_urlRoot())},logErrorForUnknownRecoveryOutcome:function(e){switch(e){case'NOT_ATTEMPTED':case'FULL':case'PARTIAL':case'ORIGINAL':case'UNKNOWN_ERROR':{break}default:{break}}},logError:function(e){},$1:function(e,ex,pC){var pD=[];if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.clientOpenBugUrl)){var pE=tsConfig.clientCheckBugText;var pF=tsConfig.clientCheckBugUrl;var pG=tsConfig.clientOpenBugText;var pH=tsConfig.clientOpenBugUrl;var pI=encodeURIComponent('{errorMessage}');var pJ=encodeURIComponent('{sessionId}');var pK=encodeURIComponent('{stack}');var pL=encodeURIComponent('{url}');if(!ss.isNullOrEmptyString(pE)&&!ss.isNullOrEmptyString(pF)){var pM=ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ex,'"',''),"'",''),':','');pF=ss.replaceAllString(pF,pI,encodeURIComponent(pM));pD.push({url:pF,displayText:pE})}if(!ss.isNullOrEmptyString(pG)&&!ss.isNullOrEmptyString(pH)){var pN='search splunk for stack.';try{pN=pC.stack;pN=pN.substr(0,400)}catch(pP){}pH=ss.replaceAllString(pH,pI,encodeURIComponent(ss.replaceAllString(ex,':','')));pH=ss.replaceAllString(pH,pJ,encodeURIComponent(e));pH=ss.replaceAllString(pH,pK,encodeURIComponent(pN));var pO=((ss.isValue(window.parent)&&ss.isValue(window.parent.location))?window.parent.location:window.location);pH=ss.replaceAllString(pH,pL,encodeURIComponent(pO.href));pH=ss.replaceAllString(ss.replaceAllString(pH,'"',''),"'",'');pD.push({url:pH,displayText:pG})}}return pD},$7:function(){tabBootstrap.MetricsController.logMetricsEvent('CLNTLD'.toString(),2,tabBootstrap.ViewerBootstrap.get_instance().get_bootstrapRequestId())},$9:function(e){return function(ex,pC,pD,pE){if(ss.keyExists(ex.presModelMap,pC)){var pF=ex.presModelMap[pC].presModelHolder;pE(pF[pD])}}},$2:function(e,ex,pC){var pD=e.get_workbook().findContentDashboard().get_zoneModels();for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];if(pF.get_zoneType()==='viz'){ex.makeMutablePresModel(pF,false);var pG=ex.makeMutablePresModel(pF.get_visualModel(),false);pG.vizData=oL.getVizDataForSheet(pC.presModelMap,pF.get_worksheetName())}}},$5:function(){bd.get_instance().$1()},$4:function(e){var ex=0;if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)){return null}if(!e.workbookPresModel.dashboardPresModel.isStory){return ex}var pC=e.workbookPresModel.dashboardPresModel.zones;var pD=_.keys(pC);for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];var pG=pC[pF];if(ss.isNullOrUndefined(pG)){continue}var pH=pA.getContent(pG,'flipboard');if(ss.isValue(pH)){return pH.activeStoryPointId}}return null},$3:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel.sheetPath)){return''}return e.workbookPresModel.dashboardPresModel.sheetPath.sheetName}});var cx=global.tab.CommandControllerStoryTelemetry=ss.mkType(a,'tab.CommandControllerStoryTelemetry',null,null,{bootstrapCompleteStoryTelemetry:function(){if(jT.get_telemetryEnabled()&&!tsConfig.is_authoring){var e=jF.getSheetInfoPresModel(bd.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(e)&&e.isStory){_.defer(function(){cx.$3()})}}},$3:function(){var e={$:null};var ex={$:null};var pC={$:null};var pD={$:null};var pE={$:null};var pF={$:null};var pG={$:null};if(!cx.$9(pC)){cx.$2('Storyboard is not set when we expected it to be.');return}if(!cx.$a(pC.$,e)){cx.$2("'name' is not set in the ZoneCommonPresModel when we expected it to be.");return}if(!cx.$5(pC.$,ex)){cx.$2('FlipboardNavModel is not set when we expected it to be.');return}if(!cx.$6(ex.$,pD)){cx.$2('SelectedStoryPointStyle was not set when we expected it to be.');return}if(!cx.$4(pC.$,pE)){cx.$2('DashboardSize was not set when we expected it to be.');return}if(!cx.$8(ex.$,pF)){cx.$2('StoryPoints is not set when we expected it to be.');return}if(!cx.$7(pG)){cx.$2('SheetsInfo is not set when we expected it to be.');return}var pH=cx.$0(pF.$,ex.$.get_navType());var pI=cx.$1(pG.$);var pJ=0;if(!tab.MiscUtil.isNullOrEmpty$1(e.$)){var pK=e.$.match(cx.$c)||[];pJ=pK.length}jT.logEvent('StoryViewing.StoryState',ss.mkdict(['AtBootstrap',true,'DefaultTitle',(ss.referenceEquals(e.$,tsConfig.current_sheet_name.toString())?true:false),'StoryPoints',pF.$.length,'UniqueSheets',pI.$2(),'UniqueDashboards',pI.$0(),'AvgCaptionLengthByChar',pH.$0(),'AvgCaptionLengthByWord',pH.$2(),'LongestCaptionByChar',pH.$4(),'LongestCaptionByWord',pH.$6(),'TitleLengthByChar',e.$.length,'TitleLengthByWord',pJ,'TitleVisible',pC.$.get_isTitleVisible(),'NavArrows',ex.$.get_arrowVisibility(),'NavStyle',ex.$.get_navType().toString(),'DashboardHeight',pE.$.h,'DashboardWidth',pE.$.w,'StoryPointHeight',pD.$.h,'StoryPointWidth',pD.$.w,'StoryPointBackgroundColor',pD.$.styledBox.fillColor.toString(),'StoryPointBorderColor',pD.$.styledBox.borderColor.toString()]))},$2:function(e){jT.logEvent('Error.StoryState',ss.mkdict(['Message',e]))},$0:function(e,ex){var pC=0,pD=0,pE=0,pF=0;if(ex!=='caption'||e.length<1){return new w}for(var pG=0;pG<e.length;pG++){var pH=e[pG];if(ss.isValue(pH.storyPointCaption)&&!tab.MiscUtil.isNullOrEmpty$1(pH.storyPointCaption.toString())){var pI=pH.storyPointCaption.toString();var pJ=pI.match(cx.$c)||[];if(pI.length>pE){pE=pI.length}if(pJ.length>pF){pF=pJ.length}pC+=pI.length;pD+=pJ.length}}return new w.$0(pC/e.length,pD/e.length,pE,pF)},$1:function(e){var ex=new Set;var pC=new Set;for(var pD=0;pD<e.length;pD++){var pE=e[pD];if(pE.isStory){continue}if(pE.isDashboard){pC.add(pE.sheet)}else{ex.add(pE.sheet)}}return new x(ex.size,pC.size)},$9:function(e){e.$=((ss.isValue(bd.get_instance().get_workbook())&&ss.isValue(bd.get_instance().get_workbook().get_storyboard()))?bd.get_instance().get_workbook().get_storyboard():null);return ss.isValue(e.$)},$a:function(e,ex){if(e.get_isTitleVisible()===false){ex.$='';return true}if(ss.isNullOrUndefined(e.get_zoneModels())){ex.$=null;return false}var pC=_.find(e.get_zoneModels(),function(pD){return pD.get_zoneType()==='title'});ex.$=((ss.isValue(pC)&&ss.isValue(pC.get_zoneCommonModel())&&ss.isValue(pC.get_zoneCommonModel().get_zoneCommonPresModel())&&ss.isValue(pC.get_zoneCommonModel().get_zoneCommonPresModel().name))?pC.get_zoneCommonModel().get_zoneCommonPresModel().name.toString():null);return ss.isValue(ex.$)},$5:function(e,ex){ex.$=(ss.isValue(e.get_flipboardNavModel())?e.get_flipboardNavModel():null);return ss.isValue(ex.$)},$4:function(e,ex){ex.$=(ss.isValue(e.get_dashboardSize())?e.get_dashboardSize():null);return ss.isValue(ex.$)},$6:function(e,ex){ex.$=((ss.isValue(e.get_flipboardNavPresModel())&&ss.isValue(e.get_flipboardNavPresModel().selectedStoryPointStyle))?e.get_flipboardNavPresModel().selectedStoryPointStyle:null);return ss.isValue(ex.$)},$8:function(e,ex){ex.$=(ss.isValue(e.get_storyPoints())?e.get_storyPoints():null);return ss.isValue(ex.$)},$7:function(e){e.$=((ss.isValue(bd.get_instance().get_workbook())&&ss.isValue(bd.get_instance().get_workbook().get_sheetsInfo()))?bd.get_instance().get_workbook().get_sheetsInfo():null);return ss.isValue(e.$)}});var cy=global.tab.CommandControllerTelemetry=ss.mkType(a,'tab.CommandControllerTelemetry',null,null,{bootstrapCompleteTelemetry:function(){if(jT.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')||tab.FeatureFlags.isEnabled('PublicGuestBootstrapTelemetry')&&tsConfig.is_guest){_.defer(function(){var e=null;kt.getInfo().done(function(ex){e=ex}).always(function(){_.defer(function(){var ex=cy.$0();jT.logBootstrapEvent('Bootstrap',ex);if(ss.isValue(e)){var pC=cy.$1(e);jT.logEvent('Platform',pC)}})})})}},$1:function(e){return ss.mkdict(['Description',ss.coalesce(e.get_description(),''),'Layout',ss.coalesce(e.get_layout(),''),'Manufacturer',ss.coalesce(e.get_manufacturer(),''),'Name',ss.coalesce(e.get_name(),''),'Prerelease',ss.coalesce(e.get_prerelease(),''),'Product',ss.coalesce(e.get_product(),''),'UserAgent',e.get_userAgent(),'Version',ss.coalesce(e.get_version(),''),'System',ss.coalesce(e.get_OS().get_description(),''),'SystemArchitecture',ss.coalesce(e.get_OS().get_architecture(),''),'SystemFamily',ss.coalesce(e.get_OS().get_family(),''),'SystemVersion',ss.coalesce(e.get_OS().get_version(),'')])},$0:function(){var e=window.screen;var ex=jF.getSheetInfoPresModel(bd.get_instance(),tsConfig.current_sheet_name);var pC=ss.mkdict(['Authoring',tsConfig.is_authoring,'Embedded',tsConfig.embedded,'HighDpi',tsConfig.highDpi,'Mobile',tsConfig.is_mobile,'MobileApp',tsConfig.is_mobile_app,'MobileDevice',tsConfig.is_mobile_user_agent||BrowserSupport.BrowserSupport.IsIOSDeviceInDesktopMode(),'Version',tsConfig.version,'LocalRender',bd.get_instance().get_isLocalRenderMode(),'Android',BrowserSupport.BrowserSupport.IsAndroid(),'Chrome',BrowserSupport.BrowserSupport.IsChrome(),'ChromeVersion',BrowserSupport.BrowserSupport.GoogleChromeVersion(),'DevicePixelRatio',BrowserSupport.BrowserSupport.DevicePixelRatio(),'Edge',BrowserSupport.BrowserSupport.IsEdge(),'Firefox',BrowserSupport.BrowserSupport.IsFF(),'Geolocation',BrowserSupport.BrowserSupport.IsGeolocationSupported(),'IE',BrowserSupport.BrowserSupport.IsIE(),'IEVersion',BrowserSupport.BrowserSupport.BrowserVersion(),'IOS',BrowserSupport.BrowserSupport.IsIos(),'IOSVersion',BrowserSupport.BrowserSupport.IosVersion(),'Ipad',BrowserSupport.BrowserSupport.IsIpad(),'Mac',BrowserSupport.BrowserSupport.IsMac(),'Opera',BrowserSupport.BrowserSupport.IsOpera(),'Safari',BrowserSupport.BrowserSupport.IsSafari(),'SafariVersion',BrowserSupport.BrowserSupport.SafariVersion(),'Windows',BrowserSupport.BrowserSupport.IsWindows(),'EmbedMode',tabBootstrap.EmbedAndViewportCalculator.get_embedMode(),'ScreenWidth',e.width,'ScreenHeight',e.height,'ViewportWidth',window.innerWidth,'ViewportHeight',window.innerHeight,'Dashboard',(ss.isValue(ex)?ex.isDashboard:false),'Published',(ss.isValue(ex)?ex.isPublished:false),'Story',(ss.isValue(ex)?(ss.isValue(ex.isStory)&&ex.isStory):false),'Worksheets',((ss.isValue(ex)&&ss.isValue(ex.namesOfSubsheets))?ex.namesOfSubsheets.length:0),'view_id',tsConfig.current_view_id,'Tabs',(_.isArray(tsConfig.visible_sheets)?tsConfig.visible_sheets.length:0)]);pC['Touch']=BrowserSupport.BrowserSupport.IsTouch();if(tsConfig.isPublic){pC['http_referrer']=document.referrer}return pC}});var cz=global.tab.CommandExecutionResult=ss.mkType(a,'tab.CommandExecutionResult',function(e,ex){this.succeeded=false;this.error=null;this.succeeded=e;this.error=ex});var cA=global.tab.CommandInterceptorResult=ss.mkEnum(a,'tab.CommandInterceptorResult',{proceed:0,stop:1});var cB=global.tab.CommandItemBasedUbertipButtonModel=ss.mkType(a,'tab.CommandItemBasedUbertipButtonModel',function(){oc.call(this)},{get_legacyCommandModel:function(){var e=new cE;e.set_CommandType(this.get_commandType());e.command=this.get_serializedCommand();e.set_Name(this.get_name());e.description=this.get_description();e.imageRes=this.get_imageRes();e.status=this.get_status();return e},set_legacyCommandModel:function(e){},get_status:function(){var e=this.get_wrappedCommandItemPresModel().get_enabled();return((ss.isNullOrUndefined(e)||e)?'enabled':'disabled')},get_commandType:function(){if(ss.isNullOrUndefined(this.get_serializedCommand())){return 99}var e=cJ.getCommandType(this.get_serializedCommand());return ss.coalesce(e,99)},get_name:function(){return this.get_wrappedCommandItemPresModel().get_name()},get_description:function(){return this.get_wrappedCommandItemPresModel().get_descriptionText()},get_imageRes:function(){if(ss.isNullOrUndefined(this.get_wrappedCommandItemPresModel().get_iconRes())){return null}return ss.coalesce(nI.lookupFullResourceAlias(this.get_wrappedCommandItemPresModel().get_iconRes()),null)},get_wrappedCommandItemPresModel:function(){return(ss.isNullOrUndefined(this.pm)?null:cC.create(this.pm))},update:function(e,ex){this.pm=e;this.set_serializedCommand(cJ.deserialize(this.get_wrappedCommandItemPresModel().get_command(),false));if(ss.isValue(this.get_serializedCommand())&&ex!==0&&!ss.isValue(this.get_serializedCommand().commandParams['selectAtPoint'])){this.get_serializedCommand().commandParams['tupleId']=ex.toString()}}});var cC=global.tab.CommandItemWrapper=ss.mkType(a,'tab.CommandItemWrapper',function(e){this.$0=null;if(ss.isValue(e)){this.$0=e}else{this.$0={};this.set_commandsType('item')}KeyboardShortcuts.KeyboardShortcutManager.TryUpdateKeyboardShortcut(this.get_commandName(),this)},{get_item:function(){return this.$0},get_name:function(){return this.$0['name'.toString()]},set_name:function(e){this.$0['name'.toString()]=e},get_telemetryId:function(){return this.$0['telemetryId'.toString()]},set_telemetryId:function(e){this.$0['telemetryId'.toString()]=e},get_descriptionText:function(){return this.$0['description'.toString()]},set_descriptionText:function(e){this.$0['description'.toString()]=e},get_readId:function(){return this.$0['readId'.toString()]},set_readId:function(e){this.$0['readId'.toString()]=e},get_colorSwatch:function(){return this.$0['colorSwatch'.toString()]},set_colorSwatch:function(e){this.$0['colorSwatch'.toString()]=e},get_commandsType:function(){return this.$0['commandsType'.toString()]},set_commandsType:function(e){this.$0['commandsType'.toString()]=e},get_enabled:function(){var e=this.$0['state'.toString()];return ss.isNullOrUndefined(e)||e},set_enabled:function(e){this.$0['state'.toString()]=e},get_isChecked:function(){return this.$0['isChecked'.toString()]},set_isChecked:function(e){this.$0['isChecked'.toString()]=e},get_isDefault:function(){return this.$0['isDefault'.toString()]},set_isDefault:function(e){this.$0['isDefault'.toString()]=e},get_isRadioOn:function(){return this.$0['isRadioOn'.toString()]},set_isRadioOn:function(e){this.$0['isRadioOn'.toString()]=e},get_isVisible:function(){return ss.coalesce(this.$0['isVisible'.toString()],true)},set_isVisible:function(e){this.$0['isVisible'.toString()]=e},get_commands:function(){return this.$0['commands'.toString()]},set_commands:function(e){this.$0['commands'.toString()]=e},get_command:function(){return this.$0['command'.toString()]},set_command:function(e){this.$0['command'.toString()]=e},get_argumentParams:function(){return this.$0['argumentParams'.toString()]},set_argumentParams:function(e){this.$0['argumentParams'.toString()]=e},get_commandName:function(){return(ss.isNullOrUndefined(this.get_command())?null:this.get_command().split(' ')[0])},get_hasIcon:function(){return!ss.isNullOrEmptyString(this.get_iconRes())},get_iconRes:function(){return this.$0['iconRes'.toString()]},set_iconRes:function(e){this.$0['iconRes'.toString()]=e},execute:function(){cw.SendCommand(new co('immediately',null,cJ.deserialize(this.get_command(),false),null,null))},shouldBeEnabled:function(){return this.get_enabled()},shouldBeVisible:function(){return this.get_isVisible()},getDescription:function(){return this.get_descriptionText()},setDescription:function(e){this.set_descriptionText(e)},generateKey:function(){return this.get_commandName()},dispose:function(){KeyboardShortcuts.KeyboardShortcutManager.UnregisterShortcut(this.get_commandName())}},{create:function(e){if(!ss.isValue(e)){return null}var ex=e['command'.toString()];var pC=cJ.deserialize(ex,false);if(ss.isValue(pC)){var pD={ns:pC.commandNamespace,cmd:pC.commandName};if(oY.get_instance().hasCommand(pD)){return new oW(e)}}return new cC(e)}});var cD=global.tab.CommandLocalOptions=ss.mkType(a,'tab.CommandLocalOptions',function(){this.localWorkFactory=null;this.blocking=null;this.suppressConnectionDialog=false;this.commandWaiter=null});var cE=global.tab.CommandModel=ss.mkType(a,'tab.CommandModel',function(){this.command=null;this.description=null;this.imageRes=null;this.status='enabled';this.$1$1=0;this.$1$2=null},{get_commandType:function(){return this.$1$1},set_CommandType:function(e){this.$1$1=e},get_name:function(){return this.$1$2},set_Name:function(e){this.$1$2=e}});var cF=global.tab.CommandModelBasedUbertipButtonModel=ss.mkType(a,'tab.CommandModelBasedUbertipButtonModel',function(){oc.call(this)},{get_status:function(){return this.get_legacyCommandModel().status},get_commandType:function(){return this.get_legacyCommandModel().get_commandType()},get_name:function(){return this.get_legacyCommandModel().get_name()},get_description:function(){return this.get_legacyCommandModel().description},get_imageRes:function(){return this.get_legacyCommandModel().imageRes},get_wrappedCommandItemPresModel:function(){return null},update:function(e,ex){this.pm=null;this.set_legacyCommandModel(e);this.set_serializedCommand(this.get_legacyCommandModel().command);this.set_isPlaceholder(ex)}});var cG=global.tab.CommandPermission=ss.mkType(a,'tab.CommandPermission',function(e){this.$0=null;this.$0={};var ex=ss.getEnumerator(e);try{while(ex.moveNext()){var pC=ex.current();this.$0[pC]='granted'}}finally{ex.dispose()}},{test:function(e){tab.Param.verifyValue(e,'command');if(ss.isNullOrUndefined(e.get_commandType())){}return ss.isValue(e.get_commandType())&&e.get_commandType()!==99&&ss.keyExists(this.$0,e.get_commandType())&&this.$0[e.get_commandType()]==='granted'}});var cH=global.tab.CommandRedirectRegistry=ss.mkType(a,'tab.CommandRedirectRegistry',null,null,{checkpointRegistry:function(){var e=cH.$0;cH.$0=$.extend(false,{},e);return function(){cH.$0=e}},registerHandler:function(e,ex){tab.Param.verifyValue(e,'commandRedirectType');tab.Param.verifyValue(ex,'handler');if(ss.isNullOrUndefined(cH.$0)){cH.$0={}}cH.$0[e]=ex},handleRedirect:function(e,ex){if(ss.isNullOrUndefined(cH.$0)||!ss.keyExists(cH.$0,e)){throw new ss.Exception('No command redirect registerd for type: '+e)}var pC=cH.$0[e];return pC(ex)}});var cI=global.tab.CommandResponseEventArgs=ss.mkType(a,'tab.CommandResponseEventArgs',function(){this.$2$1=null;this.$2$2=null;this.$2$3=false;this.$2$4=false;ss.EventArgs.call(this)},{get_applicationPresModel:function(){return this.$2$1},set_applicationPresModel:function(e){this.$2$1=e},get_worldUpdateCommand:function(){return this.$2$2},set_worldUpdateCommand:function(e){this.$2$2=e},get_sheetChanged:function(){return this.$2$3},set_sheetChanged:function(e){this.$2$3=e},get_rebuildTheWorld:function(){return this.$2$4},set_rebuildTheWorld:function(e){this.$2$4=e}});var cJ=global.tab.CommandSerializer=ss.mkType(a,'tab.CommandSerializer',null,null,{$6:function(){return tab.Logger.lazyGetLogger(cJ)},deserialize:function(e,ex){var pC;if(ex){pC=cJ.$8[e];if(ss.isValue(pC)){return pC}}var pD=new RegExp('^(\\w+):([\\w-]+)( ((.|\n|\r|\r\n)*))?$');var pE=pD.exec(e);if(ss.isNullOrUndefined(pE)||pE.length===0){return null}pC={commandNamespace:pE[1],commandName:pE[2]};cJ.$1(pC,pE[4]);if(ex){cJ.$0(e,pC)}return pC},getCommandType:function(e){if(ss.keyExists(cJ.$a,e.commandName)){return cJ.$a[e.commandName]}else{return null}},$0:function(e,ex){if(cJ.$9.length>=15){var pC=cJ.$9.shift();delete cJ.$8[pC]}cJ.$8[e]=ex;cJ.$9.push(e)},$1:function(e,ex){if(ss.isNullOrEmptyString(ex)){return}var pC=new ss.StringBuilder;var pD=new Array;for(var pE=ex.length-1;pE>=0;pE--){pD.push(ex.substr(pE,1))}while(pD.length>0){var pF=cJ.$2(pD,pC);if(!ss.isValue(pF)){return}var pG=cJ.$3(pD,pC);if(ss.isNullOrUndefined(pG)){return}if(pG==='{}'){continue}if(ss.isNullOrUndefined(e.commandParams)){e.commandParams={}}e.commandParams[ss.unbox(pF)]=pG}},$2:function(e,ex){ex.clear();var pC=false;while(e.length>0){var pD=e.pop();switch(pD){case'=':{return ex.toString().trim()}case'-':{pC=true;break}default:{if(pC){ex.append(pD.toUpperCase());pC=false}else{ex.append(pD)}break}}}return null},$4:function(e,ex,pC){if(e){if(ex()!=='\\'){pC.push('\\');return false}else{pC.pop()}}else if(ex()==='"'){pC.push('\\')}return true},$3:function(e,ex){ex.clear();var pC=new Array;var pD=function(){return((pC.length>0)?ss.arrayPeekBack(pC):'')};var pE=e.length>1&&ss.arrayPeekBack(e)==='"';while(e.length>0){var pF=e.pop();var pG=true;switch(pF){case'\\':{pG=cJ.$4(pE,pD,pC);break}case'"':{if(pD()==='\\'){pC.pop()}else if(pD()==='"'){pC.pop();if(pC.length===0){pG=false}}else{if(pC.length===0){pG=false}pC.push('"')}break}case'[':{if(pD()==='"'){}else{pC.push('[')}break}case']':{if(pD()==='"'){}else if(pD()!=='['){}else{pC.pop()}break}case'{':{if(pD()==='"'){}else{pC.push('{')}break}case'}':{if(pD()==='"'){}else if(pD()!=='{'){}else{pC.pop()}break}default:{if(pD()==='\\'){pC.pop()}break}}if(pG){ex.append(pF)}if(pC.length===0){return ex.toString()}}return null}});var cK=global.tab.CommandsModel=ss.mkType(a,'tab.CommandsModel',function(e){this.$1=true;this.$2$1=null;jC.call(this,e,new kA('commands'.toString(),null))},{add_commandsChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandsChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shouldUpdate:function(){return this.$1},set_shouldUpdate:function(e){this.$1=e},get_commands:function(){return this.pm},update:function(e,ex){if(this.get_shouldUpdate()){this.forceUpdate(e,ex)}},forceUpdate:function(e,ex){this.simpleSwapToUpdate$1(cK).call(this,e,this.$2$1,this,ex)}});var cL=global.tab.CommandsPresModelWrapper=ss.mkType(a,'tab.CommandsPresModelWrapper',function(){cL.$ctor1.call(this,{})},{get_presModel:function(){return this.$0},get_commandItems:function(){return this.$0['commandItems'.toString()]},set_commandItems:function(e){this.$0['commandItems'.toString()]=e},get_defaultItem:function(){return this.$0['defaultItem'.toString()]},set_defaultItem:function(e){this.$0['defaultItem'.toString()]=e}},{$ctor1:function(e){this.$0=null;this.$0=e;if(ss.isNullOrUndefined(this.get_commandItems())){this.set_commandItems([])}},create:function(e){return(ss.isNullOrUndefined(e)?null:new cL.$ctor1(e))}});var cM=global.tab.CommandThrottlerTarget=ss.mkType(a,'tab.CommandThrottlerTarget',function(){this.commandNamespace='';this.commandName=''});var cN=global.tab.CommandUtils=ss.mkType(a,'tab.CommandUtils',null,null,{newCommand:function(e,ex){var pC={commandName:e.cmd,commandNamespace:e.ns};if(ss.isValue(ex)){pC.commandParams=ex}return pC},serialize:function(e){return e.ns+':'+e.cmd},getVisualIdsToAddToCommand:function(e){var ex=[];if(tab.MiscUtil.isNullOrEmpty$1(e.storyboard)){ex.push({item1:'worksheet',item2:e.worksheet});if(ss.isValue(e.dashboard)&&e.dashboard.toString().length>0){ex.push({item1:'dashboard',item2:e.dashboard})}}else{ex.push({item1:'visualIdPresModel',item2:JSON.stringify(e)})}return ex},addVisualIdToCommand:function(e,ex){var pC=cN.getVisualIdsToAddToCommand(ex);for(var pD=0;pD<pC.length;pD++){var pE=pC[pD].item1;var pF=pC[pD].item2;e[pE]=pF}},addStoryPointToCommand:function(e,ex){if(ss.isValue(ex.storyboard)){e['storyboard']=ex.storyboard;e['storyPointId']=ex.storyPointId.toString()}},duplicateCommand:function(e){var ex={};$.extend(true,ex,e);return ex},createCommandRedirectSuccessHandler:function(e){e=e||$.Deferred();return function(ex){if(_.isObject(ex)&&'commandRedirectType'.toString()in ex){var pC=ex['commandRedirectType'.toString()];var pD=cH.handleRedirect(pC,ex);pD.pipe(function(){e.resolve(ex);return ex},function(){e.reject();return ex})}else{e.resolve(ex)}}},executeSimpleCommand$1:function(e){return function(ex,pC){var pD=$.Deferred();var pE=$.Deferred().done([function(pF){pD.resolve(pF)}]).fail([function(pF){pD.reject.apply(pD,null)}]);mp.executeServerCommand(cJ.deserialize(nj.create(ex).get_simpleCommand(),false),pC,cN.createCommandRedirectSuccessHandler(pE),function(pF){pD.reject.apply(pD,null)});return pD}},executeSimpleCommand:function(e,ex){return cN.executeSimpleCommand$1(Object).call(null,e,ex)}});var cO=global.tab.CommentingServer=ss.mkType(a,'tab.CommentingServer',function(e,ex){this.$3=null;this.$2=null;this.$3=e;this.$2=ex},{sendRequest:function(e){var ex={$:$.Deferred()};var pC=new pq(e.method,e.params,ss.mkdel({deferred:ex,$this:this},function(pE){this.$this.$0(this.deferred,pE)}),ss.mkdel({deferred:ex},function(pE){var pF={};pF['errors']=[ss.mkdict(['code',pE])];this.deferred.$.reject(pF)}));var pD=this.$3(pC);px.helper(pD,null);return ex.$},$0:function(e,ex){if(ss.keyExists(ex,'errors')){e.$.reject(ex)}else{e.$.resolve(ex)}},sendVizqlRequest:function(e){var ex={$:$.Deferred()};var pC=ss.mkdel({deferred:ex,$this:this},function(pF,pG,pH){var pI=pF;delete pI['msg'];delete pI['status'];this.$this.$0(this.deferred,pI)});var pD=ss.mkdel({deferred:ex,$this:this},function(pF,pG,pH){this.deferred.$.reject()});var pE=new oN(e.method,e.params,pC,pD);this.$1(pE);return ex.$},$1:function(e){var ex={};ex.type='POST';ex.url=this.$2.formatSessionMethod(e.methodName);ex.headers=ss.mkdict(['Accept','text/javascript']);ex.dataType='json';if(ss.isValue(e.methodParams)){ex.data=e.methodParams}var pC=this.$2.createHandler(null,e.success,e.error,'immediately');px.helper(ex,pC)}});var cP=global.tab.CompoundTableCalcModel=ss.mkType(a,'tab.CompoundTableCalcModel',function(e){this.$1=null;this.$2=null;this.$2$1=null;jC.call(this,e,new kA('compoundTableCalculationPresModel'.toString(),null));this.$1=new nF(this);this.$2=new nF(this);this.$2.get_tableCalcIdentifier().update({calcNestingLevel:'secondary',fn:''})},{add_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_notificationId:function(){return'doc:table-calc-dialog-event'},get_tableCalcsPresModel:function(){return this.pm},get_hasTableCalc:function(){return this.get_primaryTableCalc().get_hasTableCalc()},get_fieldCaption:function(){return this.get_tableCalcsPresModel().fieldCaption},get_primaryTableCalc:function(){return this.$1},get_allowSecondaryTableCalc:function(){return ss.isValue(this.get_tableCalcsPresModel())&&this.get_tableCalcsPresModel().isSecondaryAllowed},get_hasSecondaryTableCalc:function(){return this.get_allowSecondaryTableCalc()&&this.get_secondaryTableCalc().get_hasTableCalc()},get_secondaryTableCalc:function(){return this.$2},get_isCalcAssistanceEnabled:function(){return(ss.isNullOrUndefined(this.get_tableCalcsPresModel())?true:this.get_tableCalcsPresModel().isCalcAssistanceEnabled)},get_calcAssistanceWidgetState:function(){return(ss.isNullOrUndefined(this.get_tableCalcsPresModel())?'widget-state-enabled':this.get_tableCalcsPresModel().tableCalcAssistanceWidgetState)},onNotify:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}var pC=e;this.$1.update(cP.$0(pC,0),ex);this.$2.update(cP.$0(pC,1),ex);this.swapAndCopyPresModel(pC);this.raiseEvent(this.$2$1,ex)}},{$0:function(e,ex){if(ss.isValue(e)&&ss.isValue(e.tableCalculationPresModels)&&e.tableCalculationPresModels.length>ex){return e.tableCalculationPresModels[ex]}return null}});var cQ=global.tab.ConnectionClass=ss.mkType(a,'tab.ConnectionClass',null,null,{get_supportedTableauServerClasses:function(){var e=$.Deferred();cQ.setupServerConnectionTypes().done([function(){e.resolve(cQ.$4)}]);return e.promise()},get_getSupportedFileClasses:function(){return cQ.$2},setupServerConnectionTypes:function(){if(ss.isValue(cQ.$5)){return cQ.$5}var e=$.Deferred();cQ.$5=e;dO.get_serverConnectionTypes().done(function(ex){var pC=ex.item1;cQ.$4=[];for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];cQ.$4.push(pE.valueClassAttr.toString())}_.each(ex.item2,function(pF){cQ.$3[pF.valueClassAttr]=pF});e.resolve()});return cQ.$5},getConnectionType:function(e){var ex=$.Deferred();cQ.setupServerConnectionTypes().done([function(){ex.resolve(cQ.$3[e])}]).fail([function(pC){ex.reject(pC)}]);return ex.promise()},getConnectionTypeCategory:function(e){var ex=$.Deferred();cQ.getConnectionType(e).done(function(pC){ex.resolve((ss.isNullOrUndefined(pC)?'invalid':pC.connectionTypeCategory))}).fail(function(pC){ex.reject(pC)});return ex.promise()},$0:function(e){var ex=e.proxyUrlPrefix;return(ss.isNullOrEmptyString(ex)?'':tab.UriUtil.makeAbsoluteCorsProxyPrefixUrl(ex))},getFileConnectionInfo:function(e,ex){var pC=$.Deferred();cQ.getConnectionType(e).done(function(pD){var pE;if(ss.isNullOrUndefined(ex)){pE=pD.fileExtensions}else{var pF=bd.get_instance().get_workbook().get_dataSchema().findConnectionSummaryByName(ex);pE=pF.fileExtensions}pC.resolve(new fF(pE,cQ.$0(pD)))}).fail(function(pD){pC.reject(pD)});return pC.promise()}});var cR=global.tab.ConstructableFontFamily=ss.mkType(a,'tab.ConstructableFontFamily',function(e){fX.call(this,e,[])},{addFont:function(e){if(!_.any(this.get_fonts(),function(ex){return ss.compareStrings(ex,e,true)===0})){this.get_fonts().push(e);this.set_fonts(_.sortBy(this.get_fonts(),function(ex){return ex.toLowerCase()}))}}});var cS=global.tab.ConvertToFloatingZoneCmd=ss.mkType(a,'tab.ConvertToFloatingZoneCmd',function(){ss.makeGenericType(bl,[Object,cT]).call(this)},{get_commandId:function(){return cS.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'convert-to-floating-zone'},this.c))}});var cT=global.tab.ConvertToFloatingZoneCmd$Response=ss.mkType(a,'tab.ConvertToFloatingZoneCmd$Response',function(e){this.$$c=null;this.$$c=e});var cU=global.tab.CopyTempFileToSessionSpecificStorageCmd=ss.mkType(a,'tab.CopyTempFileToSessionSpecificStorageCmd',function(){ss.makeGenericType(bl,[Object,cV]).call(this)},{get_commandId:function(){return cU.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'copy-temp-file-to-session-specific-storage'},this.c))}});var cV=global.tab.CopyTempFileToSessionSpecificStorageCmd$Response=ss.mkType(a,'tab.CopyTempFileToSessionSpecificStorageCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasSessionStorageId:function(){return true}});var cW=global.tab.CreateAndEstablishConnectionCmd=ss.mkType(a,'tab.CreateAndEstablishConnectionCmd',function(){ss.makeGenericType(bl,[Object,cX]).call(this)},{get_commandId:function(){return cW.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'create-and-establish-connection'},this.c))}});var cX=global.tab.CreateAndEstablishConnectionCmd$Response=ss.mkType(a,'tab.CreateAndEstablishConnectionCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasConnectionName:function(){return true}});var cY=global.tab.CreateAnnotationCmd=ss.mkType(a,'tab.CreateAnnotationCmd',function(){ss.makeGenericType(bl,[Object,cZ]).call(this)},{get_commandId:function(){return cY.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'create-annotation'},this.c))}});var cZ=global.tab.CreateAnnotationCmd$Response=ss.mkType(a,'tab.CreateAnnotationCmd$Response',function(e){this.$$c=null;this.$$c=e});var da=global.tab.CreateDataSourceFromFileUploadCmd=ss.mkType(a,'tab.CreateDataSourceFromFileUploadCmd',function(){ss.makeGenericType(bl,[Object,db]).call(this)},{get_commandId:function(){return da.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'create-data-source-from-file-upload'},this.c))}});var db=global.tab.CreateDataSourceFromFileUploadCmd$Response=ss.mkType(a,'tab.CreateDataSourceFromFileUploadCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasDataSourceNames:function(){return true},hasFailedFileNames:function(){return true},hasDataSourcesWithEmptyRelation:function(){return true},hasDataSourceErrors:function(){return true},hasConnectionFileInfos:function(){return true}});var dc=global.tab.CssFontStyle=ss.mkType(a,'tab.CssFontStyle');var dd=global.tab.CssFontWeight=ss.mkType(a,'tab.CssFontWeight');var de=global.tab.CubeAttributeDimensionModel=ss.mkType(a,'tab.CubeAttributeDimensionModel',function(e){dg.call(this,e)},{get_instanceType:function(){return'cubeAttributeDimension'},get_isLinked:function(){return this.pm.isLinked},update$1:function(e,ex,pC,pD,pE){this.swapAndCopyPresModel(e);this.update(e,ex,pC,pD,pE)}});var df=global.tab.CubeAttributeDimensionModelFactory=ss.mkType(a,'tab.CubeAttributeDimensionModelFactory',null,null,{create:function(e,ex,pC){var pD=df.$1(e,ex,pC);var pE=df.$0(e,ex,pC);var pF=df.$2(e,ex,pC);var pG=df.$3(e,ex,pC);var pH=(ss.keyExists(pC.get_fields(),e.fn)?pC.get_fields()[e.fn].asCubeAttributeDimension():new de(ex));pH.update$1(e,pD,pE,pF,pG);return pH},$1:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e.hierarchyList)){return pD}for(var pE=0;pE<e.hierarchyList.length;pE++){var pF=e.hierarchyList[pE];pD.push(dl.create(pF,ex,pC))}return pD},$0:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e.displayFolderList)){return pD}for(var pE=0;pE<e.displayFolderList.length;pE++){var pF=e.displayFolderList[pE];pD.push(dj.create(pF,ex,pC))}return pD},$2:function(e,ex,pC){if(ss.isValue(e.hierarchy)){return(ss.keyExists(pC.get_fields(),e.hierarchy.fn)?pC.get_fields()[e.hierarchy.fn].asHierarchy():dl.create(e.hierarchy,ex,pC))}return null},$3:function(e,ex,pC){if(e.isTimeIntelligence){var pD=(ss.keyExists(pC.get_fields(),e.column.fn)?pC.get_fields()[e.column.fn].asColumn():fw.create(e.column,ex,pC));pD.set_isTimeIntelligenceColumn(true);return pD}return null}});var dg=global.tab.CubeBaseDimensionModel=ss.mkType(a,'tab.CubeBaseDimensionModel',function(e){this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;fA.call(this,e)},{get_instanceType:null,get_cubeHierarchies:function(){return this.$3$2},set_cubeHierarchies:function(e){this.$3$2=e},get_cubeFolders:function(){return this.$3$3},set_cubeFolders:function(e){this.$3$3=e},get_defaultCubeHierarchy:function(){return this.$3$4},set_defaultCubeHierarchy:function(e){this.$3$4=e},get_dimensionType:function(){return this.pm.dimensionType},get_defaultHierarchyName:function(){return this.pm.defaultHierarchyName},get_hasOnlyOneHierarchy:function(){return this.pm.hasOnlyOneHierarchy},get_dimensionIsEffectivelyEmpty:function(){return this.pm.dimensionIsEffectivelyEmpty},get_timeIntelligenceColumn:function(){return this.$3$5},set_timeIntelligenceColumn:function(e){this.$3$5=e},get_timeIntelligenceCaption:function(){return this.pm.timeIntelligenceCaption},get_isTimeIntelligence:function(){return this.pm.isTimeIntelligence},get_canHaveChildren:function(){return true},get_childToSelect:function(){var e=this.pm.defaultHierarchyName;if(!ss.isNullOrEmptyString(e)&&ss.isValue(this.get_defaultCubeHierarchy())){return this.get_defaultCubeHierarchy().get_levels()[0]}var ex=[];var pC=this.get_cubeHierarchies();for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];ex.push(pE)}var pF=this.get_cubeFolders();for(var pG=0;pG<pF.length;pG++){var pH=pF[pG];var pI=pH.get_hierarchies();for(var pJ=0;pJ<pI.length;pJ++){var pK=pI[pJ];ex.push(pK)}}ex.sort(function(pL,pM){if(pL.get_levels().length>1&&pM.get_levels().length<=1){return-1}else if(pL.get_levels().length<=1&&pM.get_levels().length>1){return 1}else{return 0}});return((ex.length>0)?ex[0].get_levels()[0]:null)},update:function(e,ex,pC,pD,pE){this.swapAndCopyPresModel(e);this.set_cubeHierarchies(ex);this.set_cubeFolders(pC);this.set_defaultCubeHierarchy(pD);this.set_timeIntelligenceColumn(pE)}});var dh=global.tab.CubeDimensionModel=ss.mkType(a,'tab.CubeDimensionModel',function(e){this.$1=null;this.$3$1=null;this.$3$2=null;fA.call(this,e)},{get_hierarchies:function(){return this.$1},get_childToSelect:function(){var e=this.pm.defaultHierarchyName;if(!ss.isNullOrEmptyString(e)){for(var ex=0;ex<this.$1.length;ex++){var pC=this.$1[ex];if(ss.referenceEquals(pC.get_localName(),e)){return pC.get_levels()[0]}}}var pD=[];for(var pE=0;pE<this.$1.length;pE++){var pF=this.$1[pE];pD.push(pF)}var pG=this.get_folders();for(var pH=0;pH<pG.length;pH++){var pI=pG[pH];var pJ=pI.get_hierarchies();for(var pK=0;pK<pJ.length;pK++){var pL=pJ[pK];pD.push(pL)}}pD.sort(function(pM,pN){if(pM.get_levels().length>1&&pN.get_levels().length<=1){return-1}else if(pM.get_levels().length<=1&&pN.get_levels().length>1){return 1}else{return 0}});return((pD.length>0)?pD[0].get_levels()[0]:null)},get_folders:function(){return this.$3$1},set_folders:function(e){this.$3$1=e},get_attributes:function(){return this.$3$2},set_attributes:function(e){this.$3$2=e},get_instanceType:function(){return'cubeDimension'},get_canHaveChildren:function(){return true},update:function(e,ex,pC,pD){this.swapAndCopyPresModel(e);this.$1=ex;this.set_folders(pC);this.set_attributes(pD)}});var di=global.tab.CubeFolderModel=ss.mkType(a,'tab.CubeFolderModel',function(e){this.$2=null;this.$1=null;fA.call(this,e)},{get_hierarchies:function(){return this.$2},get_childToSelect:function(){return this.$2[0]},get_columns:function(){return this.$1},get_instanceType:function(){return'cubeFolder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex,pC){this.swapAndCopyPresModel(e);this.$2=ex;this.$1=pC}});var dj=global.tab.CubeFolderModelFactory=ss.mkType(a,'tab.CubeFolderModelFactory',null,null,{create:function(e,ex,pC){var pD=dj.$1(e,ex,pC);var pE=dj.$0(e,ex,pC);var pF=((ss.keyExists(pC.get_fields(),e.fn)&&pC.get_fields()[e.fn].get_isCubeFolder())?pC.get_fields()[e.fn].asCubeFolder():new di(ex));pF.update(e,pD,pE);return pF},$1:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e.hierarchyList)){return pD}for(var pE=0;pE<e.hierarchyList.length;pE++){var pF=e.hierarchyList[pE];pD.push(dl.create(pF,ex,pC))}return pD},$0:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e.columnList)){return pD}for(var pE=0;pE<e.columnList.length;pE++){var pF=e.columnList[pE];pD.push(fw.create(pF,ex,pC))}return pD}});var dk=global.tab.CubeHierarchyModel=ss.mkType(a,'tab.CubeHierarchyModel',function(e){this.$1=null;this.$2=null;fA.call(this,e)},{get_levels:function(){return this.$1},get_userDefinedAttributes:function(){return this.$2},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'cubeHierarchy'},get_canHaveChildren:function(){return true},get_isAttributeHierarchy:function(){return this.pm.isAttributeHierarchy},update:function(e,ex,pC){this.swapAndCopyPresModel(e);this.$1=ex;this.$2=pC}});var dl=global.tab.CubeHierarchyModelFactory=ss.mkType(a,'tab.CubeHierarchyModelFactory',null,null,{create:function(e,ex,pC){var pD=dl.$0(e,ex,pC);var pE=dl.$1(e,ex,pC);var pF=(ss.keyExists(pC.get_fields(),e.fn)?pC.get_fields()[e.fn].asHierarchy():new dk(ex));pF.update(e,pD,pE);return pF},$0:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e.columnList)){return pD}for(var pE=0;pE<e.columnList.length;pE++){var pF=e.columnList[pE];if(pF.type==='level'){pD.push(jm.create(pF,ex,pC))}else{pD.push(fw.create(pF,ex,pC))}}return pD},$1:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e.userDefinedAttributeList)){return pD}for(var pE=0;pE<e.userDefinedAttributeList.length;pE++){var pF=e.userDefinedAttributeList[pE];pD.push(hq.create(pF,ex,pC))}return pD}});var dm=global.tab.CubeStandardDimensionModel=ss.mkType(a,'tab.CubeStandardDimensionModel',function(e){this.$4$1=null;dg.call(this,e)},{get_instanceType:function(){return'cubeStandardDimension'},get_cubeAttributeDimensions:function(){return this.$4$1},set_cubeAttributeDimensions:function(e){this.$4$1=e},update$1:function(e,ex,pC,pD,pE,pF){this.swapAndCopyPresModel(e);this.set_cubeAttributeDimensions(pD);this.update(e,ex,pC,pE,pF)}});var dn=global.tab.CubeStandardDimensionModelFactory=ss.mkType(a,'tab.CubeStandardDimensionModelFactory',null,null,{create:function(e,ex,pC){var pD=dn.$2(e,ex,pC);var pE=dn.$1(e,ex,pC);var pF=dn.$3(e,ex,pC);var pG=dn.$4(e,ex,pC);var pH=dn.$0(e,ex,pC);var pI=(ss.keyExists(pC.get_fields(),e.fn)?pC.get_fields()[e.fn].asCubeStandardDimension():new dm(ex));pI.update$1(e,pD,pE,pH,pF,pG);return pI},$0:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e.attributeAttributeDimensionList)){return pD}for(var pE=0;pE<e.attributeAttributeDimensionList.length;pE++){var pF=e.attributeAttributeDimensionList[pE];pD.push(df.create(pF,ex,pC))}return pD},$2:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e.hierarchyList)){return pD}for(var pE=0;pE<e.hierarchyList.length;pE++){var pF=e.hierarchyList[pE];pD.push(dl.create(pF,ex,pC))}return pD},$1:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e.displayFolderList)){return pD}for(var pE=0;pE<e.displayFolderList.length;pE++){var pF=e.displayFolderList[pE];pD.push(dj.create(pF,ex,pC))}return pD},$3:function(e,ex,pC){if(ss.isValue(e.hierarchy)){return(ss.keyExists(pC.get_fields(),e.hierarchy.fn)?pC.get_fields()[e.hierarchy.fn].asHierarchy():dl.create(e.hierarchy,ex,pC))}return null},$4:function(e,ex,pC){if(e.isTimeIntelligence){var pD=(ss.keyExists(pC.get_fields(),e.column.fn)?pC.get_fields()[e.column.fn].asColumn():fw.create(e.column,ex,pC));pD.set_isTimeIntelligenceColumn(true);return pD}return null}});var dp=global.tab.CumulativeTableCalcModel=ss.mkType(a,'tab.CumulativeTableCalcModel',function(e){this.$3$1=null;oa.call(this,e,new kA('cumulativeTableCalcPresModel'.toString(),null))},{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_aggregationIndex:function(){return this.$1().aggregationIndex},get_aggregationValues:function(){return this.$1().aggregationValues},get_aggregationCaptions:function(){return this.$1().aggregationCaptions},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}});var dq=global.tab.CustomizedViewRequests=ss.mkType(a,'tab.CustomizedViewRequests',null,null,{buildUrl:function(e,ex){return dq.$1(e,function(pC){if(ex){pC.removeAllQueryParams()}})},buildUriModel:function(e){var ex=oP.createForViewingSheet(tsConfig.repositoryUrl);if(ss.isValue(e)){ex.updateForCustomizedView(e)}else{ex.set_originalView(true)}ex.removeHash();return ex},$1:function(e,ex){var pC=dq.buildUriModel(e);if(!ss.staticEquals(ex,null)){ex(pC)}return pC.get_absoluteUri()},navigateToCustomizedView:function(e){var ex=tabBootstrap.Utility.get_locationWindow();mw.destroySessionAndForward$1(ex,dq.buildUrl(e,false))},navigateToCustomizedView$1:function(e,ex){var pC=tabBootstrap.Utility.get_locationWindow();mw.destroySessionAndForward$1(pC,dq.$1(e,ex))},navigateToOriginalView:function(e){var ex=tabBootstrap.Utility.get_locationWindow();mw.destroySessionAndForward$1(ex,dq.$1(null,e))},getCustomizedViews:function(e,ex){var pC=function(pD,pE,pF){if(ss.staticEquals(e,null)){return}var pG;var pH=null;if('customizedViews'in pD){pG=pD['customizedViews']}else{pG=[]}if('defaultCustomizedViewId'in pD){pH=pD['defaultCustomizedViewId']}e(pG,pH)};dq.$6(pC,dq.$3(ex),'get_customized_views',ss.mkdict(['sheet_id',tsConfig.current_sheet_name]),cw.get_vizqlServerRequestHandler(),'GET','none')},getCustomizedViewPromise:function(e){var ex=$.Deferred();dq.getCustomizedView(e,function(pC){ex.resolve(new gr.$ctor1(pC))},function(pC){ex.reject(new gr(pC))});return ex.promise()},getCustomizedView:function(e,ex,pC){var pD=cw.get_vizqlServerRequestHandler();var pE=function(pF,pG,pH){if(ss.staticEquals(ex,null)){return}var pI=pF;ex(pI.cv)};dq.$6(pE,dq.$3(pC),'get_customized_view',ss.mkdict(['cvId',e]),pD,'GET','none')},setDefaultCustomizedView:function(e,ex,pC){var pD=function(pF,pG,pH){if(ss.staticEquals(ex,null)){return}var pI=null;if('defaultCv'in pF){pI=pF['defaultCv']}ex(pI)};var pE=ss.mkdict(['sheet_id',tsConfig.current_sheet_name]);if(ss.isValue(e)){pE['cvId']=e.id}dq.$6(pD,dq.$3(pC),'set_default_customized_view',pE,cw.get_vizqlServerRequestHandler(),null,null)},destroyCustomizedView:function(e,ex,pC){tab.Param.verifyValue(e,'cv');var pD=function(pE,pF,pG){if(ss.staticEquals(ex,null)){return}ex()};dq.$5(pD,dq.$3(pC),'destroy_customized_view',ss.mkdict(['cvId',e.id]),cw.get_vizqlServerRequestHandler())},saveCustomizedView:function(e,ex,pC){tab.Param.verifyValue(e,'cv');var pD=function(pF,pG,pH){if(ss.staticEquals(ex,null)){return}var pI=null;if('cv'in pF){pI=pF['cv'];dq.updateTsConfig(pI,true)}ex(pI)};var pE=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic,'hidden',e.isHidden]);if(ss.isValue(e.id)){pE['cvId']=e.id}if(tab.FeatureFlags.isEnabled('DirtyViewSharing')){if(ss.isValue(e.createdByFeature)){pE['createdByFeature']=e.createdByFeature}}dq.$6(pD,dq.$3(pC),'save_customized_view',pE,cw.get_vizqlServerRequestHandler(),null,null)},updateTsConfig:function(e,ex){tsConfig.repositoryUrl=dq.$2(e);if(ex){if(ss.isNullOrUndefined(e)){tsConfig.current_custom_view_id=null}else{tsConfig.current_custom_view_id=e.id}}},$2:function(e){var ex=new lj(tsConfig.repositoryUrl);if(ss.isNullOrUndefined(e)){return ss.formatString('{0}/{1}',ex.get_workbookId(),ex.get_sheetId())}return ss.formatString('{0}/{1}/{2}/{3}',ex.get_workbookId(),ex.get_sheetId(),oP.encodeUserName(e.owner.username),e.urlId)},updateCustomizedView:function(e,ex,pC){tab.Param.verifyValue(e,'cv');var pD=function(pF,pG,pH){if(ss.staticEquals(ex,null)){return}var pI=pF;var pJ=null;if(ss.isValue(pI.cv)){pJ=pI.cv;dq.updateTsConfig(pJ,false)}ex(pJ)};var pE=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic,'cvId',e.id]);dq.$6(pD,dq.$3(pC),'update_customized_view',pE,cw.get_vizqlServerRequestHandler(),null,null)},$3:function(e){var ex=function(pC,pD,pE){if(ss.staticEquals(e,null)){return}var pF=dq.$4(pC);var pG=pF;if(ss.isNullOrUndefined(pG)){pG=pE.toString()}e(pG)};return ex},$4:function(e){if(ss.isValue(e.responseText)){try{var ex=JSON.parse(e.responseText);if(ss.isValue(ex.msg)){return ex.msg}}catch(pC){var e=ss.Exception.wrap(pC)}}return null},$5:function(e,ex,pC,pD,pE){var pF=pE.formatMethod(pC);dq.$0(e,ex,pD,pF,pE,'immediately',null)},$6:function(e,ex,pC,pD,pE,pF,pG){var pH=pE.formatSessionMethod(pC);dq.$0(e,ex,pD,pH,pE,pG,pF)},$0:function(e,ex,pC,pD,pE,pF,pG){var pH=pE.createHandler(null,e,ex,ss.coalesce(pF,'immediately'));var pI={type:ss.coalesce(pG,'POST'),url:pD,headers:ss.mkdict(['Accept','text/javascript']),dataType:'json'};if(ss.isValue(pC)){pI.data=pC}px.helper(pI,pH)}});var dr=global.tab.CustomTableCalcModel=ss.mkType(a,'tab.CustomTableCalcModel',function(e){this.$3$1=null;this.$3$2=null;oa.call(this,e,new kA('customTableCalcPresModel'.toString(),null));this.set_referenceModel(new nH(this))},{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_nullIfIncomplete:function(){return this.$1().nullIfIncomplete},get_nullIfIncompleteState:function(){return this.$1().customNullIfIncompleteState},get_allPages:function(){return this.$1().includeAllPages},get_allPagesState:function(){return this.$1().allPagesState},get_nestedCalcsWidgetState:function(){return this.$1().nestedCalcsState},get_nestedCalcsIndex:function(){return this.$1().nestedCalcsIndex},get_nestedTableCalcInfoArray:function(){return this.$1().nestedTableCalcInfos},update:function(e,ex){var pC=e;if(this.isNewPresModelSameAsOld(pC)){return}this.swapAndCopyPresModel(pC);this.get_referenceModel().update(pC.tableCalcReferenceOptionsPresModel,ex);this.raiseEvent(this.$3$1,ex)}});var ds=global.tab.CustomUIBlockingPluginPresentationLayer=ss.mkType(a,'tab.CustomUIBlockingPluginPresentationLayer',function(e){this.$1=[];kw.call(this);for(var ex=0;ex<e.length;ex++){var pC=e[ex];var pD=pC.ns+':'+pC.cmd;this.$1.push(pD)}},{getUIBlockingType:function(e,ex){var pC=e+':'+ex;return(ss.contains(this.$1,pC)?'none':'immediately')}});var dt=global.tab.DashboardButtonClientCommands=ss.mkType(a,'tab.DashboardButtonClientCommands',null,null,{$0:function(e){var ex=oY.get_instance();var pC=new cD;pC.blocking='none';ex.registerCommandLocalOptions({ns:'tabdoc',cmd:e},pC)},isGetButtonConfigDialogCommand:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandName)){return false}return e.commandName.toString().indexOf('get-button-config-dialog')!==-1},callGetButtonConfigDialogCommand:function(e){var ex=new gl;ex.c['dashboard']=e.commandParams['dashboard'];ex.c['dashboardObjectStateHandle']=e.commandParams['dashboardObjectStateHandle'];ex.c['dashboardObjectHandle']=e.commandParams['dashboardObjectHandle'];ex.c['zoneId']=e.commandParams['zoneId']|0;ex.c['fontFamilies']=gg.compatibleFontNameList();ex.c['fontSizes']=gg.fontSizes;var pC=ex;pC.invoke()},overrideButtonConfigDialogCommandsToBeUI_NonBlocking:function(){dt.$0({ns:'tabdoc',cmd:'set-button-caption'}.cmd);dt.$0({ns:'tabdoc',cmd:'set-button-tooltip'}.cmd);dt.$0({ns:'tabdoc',cmd:'set-button-background-color'}.cmd);dt.$0({ns:'tabdoc',cmd:'set-button-border-properties'}.cmd);dt.$0({ns:'tabdoc',cmd:'set-button-type'}.cmd);dt.$0({ns:'tabdoc',cmd:'set-button-click-action'}.cmd)}});var du=global.tab.DashboardClientCommands=ss.mkType(a,'tab.DashboardClientCommands',null,null,{getDeviceLayoutListContextMenu:function(e,ex){var pC=new bz;pC.c['dashboardDeviceLayout']=e;var pD=pC;pD.invoke().then(ex)},dropSheetOnDashboard:function(e,ex,pC){return du.dropVizZoneOnDashboard(tsConfig.current_sheet_name,e,ex,pC,null)},dropNewZoneObjectOnDashboard:function(e,ex,pC,pD,pE,pF){return du.dropNonVizZoneOnDashboard(tsConfig.current_sheet_name,e,ex,pC,pD,pE,pF,null,null)},$0:function(e,ex,pC){var pD={};pD['addAsFloating']=ss.coalesce(pC,false);pD['dashboard']=e;pD['dropLocation']={x:ex.x|0,y:ex.y|0};return pD},$2:function(e,ex,pC,pD){var pE=du.$0(e,pC,pD);pE['worksheet']=ex;pE['zoneType']='viz';return pE},$1:function(e,ex,pC,pD,pE,pF,pG){var pH=du.$0(e,pE,pD);pH['zoneType']=ex;pH['isHorizontal']=pC;if(ss.isValue(pG)){pH['zoneParam']=pG}if(ss.isValue(pF)){pH['formattedText']=pF}return pH},dropVizZoneOnDashboard:function(e,ex,pC,pD,pE){var pF=cN.newCommand({ns:'tabdoc',cmd:'drop-on-dashboard'},null);pF.commandParams=du.$2(e,ex,pC,pD);if(ss.isValue(pE)&&ss.Nullable$1.gt(pE,0)){pF.commandParams['zoneId']=pE}return cw.SendCommandWithDeferredReturn(pF,'immediately')},dropNonVizZoneOnDashboard:function(e,ex,pC,pD,pE,pF,pG,pH,pI){var pJ=cN.newCommand({ns:'tabdoc',cmd:'drop-on-dashboard'},null);pJ.commandParams=du.$1(e,ex,pC,pD,pE,pF,pG);if(ss.isValue(pI)&&ss.Nullable$1.gt(pI,0)){pJ.commandParams['zoneId']=pI}if(ss.isValue(pH)){pJ.commandParams['zoneName']=pH}return cw.SendCommandWithDeferredReturn(pJ,'immediately')},dropNewZoneObjectOnDashboard$1:function(e,ex,pC,pD,pE,pF,pG,pH,pI){var pJ={x:pD.x|0,y:pD.y|0};var pK=new eO;pK.c['dashboard']=tsConfig.current_sheet_name;pK.c['addAsFloating']=ss.coalesce(pC,false);pK.c['dropLocation']=pJ;pK.c['zoneType']=e;pK.c['isHorizontal']=ex;pK.set_uiBlocking('immediately');var pL=pK;if(ss.isValue(pF)){pL.c['zoneParam']=pF}if(ss.isValue(pE)){pL.c['formattedText']=pE}if(ss.isValue(pH)){pL.c['dashboardObjectHandle']=pH}if(ss.isValue(pI)){pL.c['dashboardObjectCurrentStateHandle']=pI}if(pG!=='invalid'){pL.c['dashboardObjectType']=pG}return pL.invoke()},showImageObjectConfigDialog:function(e){var ex=new nf;ex.c['dashboard']=tsConfig.current_sheet_name;ex.c['zoneId']=e|0;ex.set_uiBlocking('none');var pC=ex;pC.invoke()},showActionListDialogForDashboard:function(e){var ex=new mV;ex.c['bool']=true;ex.c['sheet']=e;ex.set_uiBlocking('immediately');ex.invoke()},showActionListDialogForWorksheet:function(e){var ex=new mX;ex.c['bool']=true;ex.c['sheet']=e;ex.set_uiBlocking('immediately');ex.invoke()},setDashboardDeviceLayout:function(e){var ex=new mA;ex.c['dashboard']=tsConfig.current_sheet_name;ex.c['dashboardDeviceLayout']=e;ex.c['allowPreviewSizeChange']=true;ex.set_uiBlocking('immediately');ex.invoke()},setIsDevicePreviewVisible:function(e){var ex=new mE;ex.c['dashboard']=tsConfig.current_sheet_name;ex.c['isVisible']=e;ex.c['useTabletAsDefaultPreview']=false;ex.invoke()},deleteDashboardLayout:function(e,ex,pC){var pD=new el;pD.c['dashboard']=e;pD.c['dashboardDeviceLayout']=ex;pD.c['activateDeviceLayout']=pC;pD.set_uiBlocking('immediately');pD.invoke()},newDashboardLayout:function(e,ex,pC){var pD=new jO;pD.c['dashboard']=e;pD.c['dashboardDeviceLayout']=ex;pD.c['activateNew']=pC;pD.set_uiBlocking('immediately');pD.invoke()},toggleAutomaticLayoutMode:function(e,ex){var pC=new nM;pC.c['dashboard']=e;pC.c['dashboardDeviceLayout']=ex;pC.set_uiBlocking('immediately');pC.invoke()},launchUseCustomLayoutDialog:function(e,ex){var pC=new iR;pC.c['dashboard']=e;pC.c['dashboardDeviceLayout']=ex;pC.set_uiBlocking('immediately');pC.invoke()},getSheetDragDropTargets:function(e,ex){var pC=new gs;pC.c['dashboard']=tsConfig.current_sheet_name;pC.set_uiBlocking('none');var pD=pC;if(ss.isValue(e)){pD.c['zoneId']=ss.unbox(e)|0}if(ss.isValue(ex)){pD.c['grabLocation']={x:ex.x|0,y:ex.y|0}}return pD.invoke()},getThumbnailImage:function(e){var ex=new he;ex.c['worksheet']=e;ex.set_uiBlocking('none');var pC=ex;return pC.invoke()},addExistingObjectToDashboard:function(e,ex,pC,pD,pE,pF,pG,pH,pI){var pJ=new U;pJ.c['zoneId']=pH|0;pJ.c['zoneName']=pI;pJ.c['dashboard']=e;pJ.c['zoneType']=ex;pJ.c['isHorizontal']=pC;pJ.c['addAsFloating']=ss.coalesce(pD,false);pJ.set_uiBlocking('immediately');var pK=pJ;if(ss.isValue(pF)){pK.c['zoneParam']=pF}if(ss.isValue(pE)){pK.c['formattedText']=pE}if(pG!=='invalid'){pK.c['dashboardObjectType']=pG}return pK.invoke()},addNewObjectToDashboard:function(e,ex,pC,pD,pE,pF,pG,pH){var pI=new U;pI.c['dashboard']=tsConfig.current_sheet_name;pI.c['zoneType']=e;pI.c['isHorizontal']=ex;pI.c['addAsFloating']=ss.coalesce(pC,false);pI.set_uiBlocking('immediately');var pJ=pI;if(ss.isValue(pE)){pJ.c['zoneParam']=pE}if(ss.isValue(pD)){pJ.c['formattedText']=pD}if(ss.isValue(pG)){pJ.c['dashboardObjectHandle']=pG}if(ss.isValue(pH)){pJ.c['dashboardObjectCurrentStateHandle']=pH}if(pF!=='invalid'){pJ.c['dashboardObjectType']=pF}return pJ.invoke()},addSheetToDashboard:function(e,ex){var pC=cN.newCommand({ns:'tabdoc',cmd:'add-sheet-to-dashboard'},null);pC.commandParams={};pC.commandParams['worksheet']=e;pC.commandParams['addAsFloating']=ss.coalesce(ex,false);cw.SendCommand(kZ.create(pC,'immediately',null,null))},resetDashboardCurrentLayout:function(e,ex){var pC=new lm;pC.c['dashboard']=e;pC.set_localWork(ex);pC.set_uiBlocking('immediately');return pC.invoke()},resetDashboardCurrentLayoutSizing:function(e){var ex=new lo;ex.c['dashboard']=e;ex.set_uiBlocking('immediately');return ex.invoke()},editDashboardDeviceLayout:function(e,ex){var pC=new eX;pC.c['dashboard']=e;pC.set_localWork(ex);return pC.invoke()},clearDeviceLayout:function(e){var ex=new cm;ex.c['dashboard']=e;ex.set_uiBlocking('immediately');return ex.invoke()},getZoneListNodeContextMenu:function(e,ex,pC,pD,pE,pF,pG,pH,pI,pJ,pK){var pL=new bN;pL.c['zoneId']=ex|0;pL.c['dashboard']=e;pL.c['zoneType']=pE;pL.c['isHorizontal']=false;pL.c['addAsFloating']=true;pL.c['formattedText']=pG;pL.c['zoneParam']=pD;pL.c['zoneName']=pC;pL.c['isEnabled']=pH;pL.c['isVisible']=pI;pL.c['dashboardDeviceLayout']=pJ;var pM=pL;pM.invoke().then(pK)},getDashboardPreviewPortSizeCmd:function(e,ex,pC){var pD=new gu;pD.c['dashboard']=e;pD.c['useTabletAsDefaultPreview']=ex;var pE=pD;pE.invoke().then(pC)},removeZoneFromDeviceLayout:function(e,ex){var pC=new ld;pC.c['dashboard']=e;pC.c['zoneId']=ex|0;pC.set_uiBlocking('immediately');return pC.invoke()},showGridOnDashboard:function(e){var ex=new dB;ex.c['dashboard']=tsConfig.current_sheet_name;ex.c['dashboardShowGrid']=e;ex.set_localWork(function(pC){du.$5(e,pC)});ex.set_uiBlocking('none');ex.invoke()},$5:function(e,ex){var pC=jF.findContentDashboard(null);var pD=(e?'gom-on':'gom-automatic');if(pD===pC.get_gridMode()){return}var pE=ex.makeMutablePresModel(pC,false);pE.gridOverlayMode=pD},changeDashboardGridSize:function(e){var ex=new dz;ex.c['dashboard']=tsConfig.current_sheet_name;ex.c['dashboardGridSize']=e|0;ex.set_localWork(function(pC){du.$4(e,pC)});ex.set_uiBlocking('none');ex.invoke()},$4:function(e,ex){var pC=jF.findContentDashboard(null);if(e===pC.get_gridSize()){return}var pD=ex.makeMutablePresModel(pC,false);pD.size=e},getCurrentSheetSizeConstraints:function(){var e=$.Deferred();if(tsConfig.current_sheet_type==='worksheet'){e.resolve({sizeMode:'size-mode-auto',dashboardSizingMode:'automatic'})}else{var ex=new gw;ex.c['dashboard']=tsConfig.current_sheet_name;ex.set_uiBlocking('none');ex.invoke().pipe(function(pC){return e.resolve(pC.$$c['dashboardSizePresModel'])},function(pC){return e.reject()})}return e.promise()},setDashboardSizeFixed:function(e,ex,pC,pD,pE){var pF=ss.mkdel(this,function(pG){var pH=pG.makeMutablePresModel(pE,false);var pI={dashboardSizingMode:'fixed',h:pD|0,w:pC|0};pH.dashboardSizePresModel=pI});du.$3(e,ex,'fixed',pC,pD,pC,pD,pF,'immediately')},setDashboardSizeVscroll:function(e,ex,pC,pD,pE,pF){var pG=ss.mkdel(this,function(pH){var pI=pH.makeMutablePresModel(pE,false);var pJ={dashboardSizingMode:'vscroll',h:pD|0,w:pC|0};pI.dashboardSizePresModel=pJ});du.$3(e,ex,'vscroll',pC,pD,pC,pD,pG,pF)},setDashboardSizeAutomatic:function(e,ex){var pC=ss.mkdel(this,function(pD){var pE=pD.makeMutablePresModel(ex,false);var pF={dashboardSizingMode:'automatic'};pE.dashboardSizePresModel=pF});du.$3(e,'no','automatic',0,0,0,0,pC,'immediately')},setDashboardSizeRange:function(e,ex,pC,pD,pE,pF,pG){var pH=ss.mkdel(this,function(pI){var pJ=pI.makeMutablePresModel(pG,false);var pK={dashboardSizingMode:'range',maxHeight:ss.coalesce(pF,0),maxWidth:ss.coalesce(pE,0),minHeight:ss.coalesce(pD,0),minWidth:ss.coalesce(pC,0)};pJ.dashboardSizePresModel=pK});du.$3(e,ex,'range',ss.coalesce(pC,0),ss.coalesce(pD,0),ss.coalesce(pE,0),ss.coalesce(pF,0),pH,'immediately')},$3:function(e,ex,pC,pD,pE,pF,pG,pH,pI){var pJ=new mC;pJ.c['dashboardSizingDimension']=ex;pJ.c['dashboard']=e;pJ.c['minWidth']=pD|0;pJ.c['minHeight']=pE|0;pJ.c['maxWidth']=pF|0;pJ.c['maxHeight']=pG|0;pJ.c['dashboardSizingMode']=pC;pJ.c['fixedSizePresetIndex']=-1|0;pJ.set_localWork(pH);pJ.set_uiBlocking(pI);pJ.invoke()},showDashboardTitle:function(e){var ex=new mZ;ex.c['dashboard']=e;ex.set_uiBlocking('immediately');var pC=ex;pC.invoke()},getUrlSubstitutionParameters:function(){var e=new hg;e.c['dashboard']=tsConfig.current_sheet_name;return e.invoke()},isWebZoneUrlValid:function(e){var ex=new ib;ex.c['urlString']=e;ex.set_uiBlocking('immediately');return ex.invoke()}});var dv=global.tab.DashboardDelayLoadingTelemetry=ss.mkType(a,'tab.DashboardDelayLoadingTelemetry',null,null,{logDashboardDelayLoadingForHiddenZones:function(e,ex){dv.$0(dv.delayLoadingForHiddenZones,ss.mkdict(['ZoneType',e,'AuthoringMode',(ex?dv.authoring:dv.view)]))},logUnhideDashboardDelayLoadedHiddenContent:function(e,ex){dv.$0(dv.unhideDelayLoadedHiddenContent,ss.mkdict(['ZoneType',e,'AuthoringMode',(ex?dv.authoring:dv.view)]))},$0:function(e,ex){jT.logEvent(e,ex)}});var dw=global.tab.DashboardGridDialogModel=ss.mkType(a,'tab.DashboardGridDialogModel',function(){this.$2$1=null;this.$2$2=null;jC.call(this,null,new kA('dashboardGridDialogPresModel'.toString(),null));this.pm={}},{add_stopNotifying:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_stopNotifying:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_updateGridDialogInfo:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_updateGridDialogInfo:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_notificationId:function(){return'doc:dashboard-grid-dialog-event'},get_dashboardGridDialogPresModel:function(){return this.pm},get_gridSize:function(){return this.get_dashboardGridDialogPresModel().dashboardGridSize},onNotify:function(e,ex){this.simpleSwapToUpdate(e,this.$2$2,ex)},detachNotifications:function(){this.pm=null;if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}},update:function(e,ex){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex)}});var dx=global.tab.DashboardModel=ss.mkType(a,'tab.DashboardModel',function(e){this.$D={};this.$y=null;this.$B=0;this.$A=null;this.$C=null;this.$z=null;this.$E=null;this.$x='';this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.$2$12=null;this.$2$13=null;this.$2$14=null;this.$2$15=null;this.$2$16=null;this.$2$17=null;this.$2$18=null;this.$2$20=null;this.zonesModel=null;this.deviceLayoutMetadataModel=null;this.sheetListModel=null;this.layoutTreeModel=null;this.emptyShowMeModel=null;this.autoUpdate=false;this.invalid=false;jC.call(this,e,new kA('dashboardPresModel'.toString(),null));this.invalid=false;this.zonesModel=new pB(this);this.deviceLayoutMetadataModel=new eq(this);this.$z=new cK(this);this.$B=0},{add_newDashboard:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDashboard:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_activeZoneChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_activeZoneChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_activeZoneNameChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_activeZoneNameChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_gridOverlayModeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_gridOverlayModeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_gridSizeChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_gridSizeChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_devicePreviewBarVisibilityChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_devicePreviewBarVisibilityChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_readyZoneChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_readyZoneChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_renderModeChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_renderModeChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},add_dashboardTypeChanged:function(e){this.$2$10=ss.delegateCombine(this.$2$10,e)},remove_dashboardTypeChanged:function(e){this.$2$10=ss.delegateRemove(this.$2$10,e)},add_sizeChanged:function(e){this.$2$11=ss.delegateCombine(this.$2$11,e)},remove_sizeChanged:function(e){this.$2$11=ss.delegateRemove(this.$2$11,e)},add_formatsChanged:function(e){this.$2$12=ss.delegateCombine(this.$2$12,e)},remove_formatsChanged:function(e){this.$2$12=ss.delegateRemove(this.$2$12,e)},add_titleVisibilityChanged:function(e){this.$2$13=ss.delegateCombine(this.$2$13,e)},remove_titleVisibilityChanged:function(e){this.$2$13=ss.delegateRemove(this.$2$13,e)},add_currentDeviceLayoutChanged:function(e){this.$2$14=ss.delegateCombine(this.$2$14,e)},remove_currentDeviceLayoutChanged:function(e){this.$2$14=ss.delegateRemove(this.$2$14,e)},add_currentDeviceLayoutListChanged:function(e){this.$2$15=ss.delegateCombine(this.$2$15,e)},remove_currentDeviceLayoutListChanged:function(e){this.$2$15=ss.delegateRemove(this.$2$15,e)},add_mobileAppEnabledInPreviewChanged:function(e){this.$2$16=ss.delegateCombine(this.$2$16,e)},remove_mobileAppEnabledInPreviewChanged:function(e){this.$2$16=ss.delegateRemove(this.$2$16,e)},add_autoGeneratedDeviceLayoutsChanged:function(e){this.$2$17=ss.delegateCombine(this.$2$17,e)},remove_autoGeneratedDeviceLayoutsChanged:function(e){this.$2$17=ss.delegateRemove(this.$2$17,e)},add_dashboardNameChanged:function(e){this.$2$18=ss.delegateCombine(this.$2$18,e)},remove_dashboardNameChanged:function(e){this.$2$18=ss.delegateRemove(this.$2$18,e)},add_zoneDragChanged:function(e){this.$2$20=ss.delegateCombine(this.$2$20,e)},remove_zoneDragChanged:function(e){this.$2$20=ss.delegateRemove(this.$2$20,e)},get_zoneModels:function(){return this.zonesModel.get_zoneModels()},get_contentDashboard:function(){if(ss.isValue(this.pm)&&this.pm.isStory){this.$C=this.$C||this.$9();return this.$C}return this},get_multiSelectChromeCommands:function(){return this.$z},get_actionPresModels:function(){if(ss.isValue(this.pm)){return this.pm.userActions}return null},get_storyboardName:function(){if(ss.isNullOrUndefined(this.pm)){return new Object}return this.pm.sheetPath.storyboard},get_backgroundColor:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.cssAttrs)){return this.pm.cssAttrs['backgroundColor']}return null},get_zonePlaceholderColor:function(){var e=this.$E;if(ss.isNullOrUndefined(e)){e=this.$1()}this.$E=e;return this.$E},get_devicePreviewBarIsVisible:function(){return ss.isValue(this.pm)&&this.pm.previewBarIsVisible},get_gridMode:function(){if(ss.isValue(this.pm)){return this.pm.gridOverlayMode}return'gom-off'},get_gridSize:function(){if(ss.isValue(this.pm)){return this.pm.size}return 20},get_sheetName:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.sheetLayoutInfo)){return this.pm.sheetLayoutInfo.sheetName}return null},get_sheetPath:function(){if(ss.isValue(this.pm)){return this.pm.sheetPath}return null},get_worksheetsOnDashboard:function(){var e={};var ex=this.get_zoneModels();for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];if(pD.get_zoneType()==='viz'){e[pD.get_worksheetName()]=true}}return ss.arrayFromEnumerable(Object.keys(e))},get_invalidSheets:function(){if(ss.isValue(this.pm)){return this.pm.invalidSheets}return[]},get_activeZoneIDs:function(){var e=tsConfig.is_authoring&&this.get_currentDeviceLayout()!=='default';if(ss.isValue(this.pm)&&(tab.FeatureFlags.isEnabled('BEAuthoring_DeviceDesigner')||!e)){if(ss.isValue(this.pm.activeZoneIds)){return this.pm.activeZoneIds}}return[]},get_activeZoneID:function(){var e=tsConfig.is_authoring&&this.get_currentDeviceLayout()!=='default';if(ss.isValue(this.pm)&&(tab.FeatureFlags.isEnabled('BEAuthoring_DeviceDesigner')||!e)){if(!tab.FeatureFlags.isEnabled('FlexibleDashboard')){return this.pm.activeZoneId}else if(this.pm.activeZoneIds.length===1){return this.pm.activeZoneIds[0]}}return 0},get_readyZoneID:function(){return this.$B},set_readyZoneID:function(e){if(e===this.$B){return}this.$B=e;if(!ss.staticEquals(this.$2$8,null)){this.$2$8()}},get_currentlyOnDesignDashboard:function(){return dx.get_designModeEnabled()&&this.get_isFlexibleLayoutEnabled()},$w:function(){if(!tab.MiscUtil.isNullOrEmpty$3(this.get_activeZoneIDs())){var e=this.layoutTreeModel.getItemDescendantsZoneIds(this.get_activeZoneIDs()[0]);var ex=this.layoutTreeModel.getItemPeersZoneIds(this.get_activeZoneIDs()[0]);return e.concat(Array.prototype.slice.call(ex))}else{return this.layoutTreeModel.getTopLevelItemZoneIds()}},get_hasActiveZone:function(){if(this.get_activeZoneID()!==0){return true}return false},get_activeVisual:function(){if(ss.isNullOrUndefined(this.pm)){return null}if(this.get_activeZoneID()>0){var e=this.get_zoneModels();for(var ex=0;ex<e.length;ex++){var pC=e[ex];if(pC.get_zoneId()===this.get_activeZoneID()){return pC.get_visualModel()}}}return null},get_renderMode:function(){return bd.get_instance().get_renderMode()},get_formats:function(){if(ss.isValue(this.pm)){return this.pm.cssAttrs}return null},get_dashboardSize:function(){return(ss.isValue(this.pm)?this.pm.viewportSize:null)},get_dashboardSizeControlModel:function(){return this.$y},get_dashboardPreviewPortSize:function(){var e={l:0,t:0,w:0,h:0};if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.deviceLayoutInfoList)){return e}var ex=this.pm.deviceLayoutInfo.dashboardDeviceLayout;var pC=this.pm.deviceLayoutInfoList.deviceLayoutInfoItems.filter(function(pE){return pE.dashboardDeviceLayout===ex});if(pC.length===0||pC[0].presetSizesList.sizeItems.length===0){return e}var pD=pC[0].presetSizesList.sizeItems[0];if(pD.isPortrait){return{l:0,t:0,w:pD.w,h:pD.h}}else{return{l:0,t:0,w:pD.h,h:pD.w}}},get_isDashboard:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.sheetPath)){return this.pm.sheetPath.isDashboard}return false},get_isStoryboard:function(){if(ss.isValue(this.pm)){return this.pm.isStory}return false},get_isFlexibleLayoutEnabled:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.isFlexibleLayout)){return this.pm.isFlexibleLayout}return false},get_flipboard:function(){var e=_.find(this.get_zoneModels(),function(ex){return ex.get_zoneType()==='flipboard'});return(ss.isNullOrUndefined(e)?null:e.get_model())},get_isCurrentLayoutAutoGenerated:function(){return ss.isValue(this.get_autoGeneratedDeviceLayouts())&&ss.contains(this.get_autoGeneratedDeviceLayouts(),this.get_currentDeviceLayout())},get_autoGeneratedDeviceLayouts:function(){if(ss.isNullOrUndefined(this.pm)){return[]}return this.pm.autogeneratedDeviceLayouts},get_isMobileAppChromeVisible:function(){if(ss.isNullOrUndefined(this.pm)){return false}return this.pm.isMobileEnabledInPreview},get_deviceLayoutInfoList:function(){if(ss.isNullOrUndefined(this.pm)){return{}}return this.pm.deviceLayoutInfoList},get_deviceLayouts:function(){if(ss.isNullOrUndefined(this.pm)){return[]}return this.pm.dashboardDeviceLayouts},get_currentDeviceLayout:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.deviceLayoutInfo)){return'default'}return this.pm.deviceLayoutInfo.dashboardDeviceLayout},get_isTitleVisible:function(){if(ss.isNullOrUndefined(this.pm)){return false}return this.pm.hasTitle},get_flipboardNavModel:function(){var e=this.get_zoneModels();for(var ex=0;ex<e.length;ex++){var pC=e[ex];if(pC.get_zoneType()==='flipboard-nav'){return pC.get_model()}}return null},get_hasDescription:function(){if(ss.isNullOrUndefined(this.get_flipboard())){return false}var e=_.filter(this.get_zoneModels(),function(ex){return ss.equalsT(ex.get_contentType(),'dashboardText'.toString())});return ss.isValue(e)&&e.length>0},get_defaultLayoutSizeModel:function(){return(this.$b()?this.pm.dashboardSizePresModel:null)},get_currentLayoutSizeMode:function(){return(this.$b()?this.pm.sizeMode:'size-mode-auto')},$b:function(){return ss.isValue(this.pm)},getViewId:function(e){if(!ss.keyExists(this.pm.viewIds,e)){return null}return this.pm.viewIds[e]},getViewSession:function(e){return this.$D[e]},getZone:function(e){return this.zonesModel.getZone(e)},hasZone:function(e){return this.zonesModel.hasZone(e)},isValidSheet:function(e){return ss.isValue(this.pm.invalidSheets)&&(e.get_zoneCommonModel().get_zoneType()!=='viz'||!_.any(this.pm.invalidSheets,function(ex){return ss.referenceEquals(ex.worksheet,e.get_worksheetName())}))},isStory:function(){return this.pm.isStory},getMutableCopyOfPresModel:function(){var e=this.pm.zones;delete this.pm['zones'.toString()];var ex=jC.prototype.getMutableCopyOfPresModel.call(this);ex.dashboardDeviceLayouts=this.pm.dashboardDeviceLayouts;ex.activeZoneIds=this.pm.activeZoneIds;this.pm.zones=e;return ex},selectableZoneInDesignMode:function(e){if(ss.contains(this.$w(),e)){return this.getZone(e)}var ex=this.$w();for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];if(ss.contains(this.layoutTreeModel.getItemDescendantsZoneIds(pD),e)){return this.getZone(pD)}}return null},getTopmostParent:function(e){var ex=this.getZone(e);if(ex.get_isFloating()){return ex}else{return this.getTopmostParent(ex.get_parentZoneId())}},getSelectableZonesOnFlexibleLayout:function(e,ex){return this.layoutTreeModel.getPeersAndGroupChildrenZoneIds(e,ex)},doZonesShareCommonAncestor:function(e,ex){return this.layoutTreeModel.doZonesShareCommonAncestor(e,ex)},raiseEventIfFlexibleZoneDragChanged:function(){this.$2$20()},$5:function(e){if(ss.isValue(this.$A)&&this.$A!==this.get_renderMode()){this.raiseEvent(this.$2$9,e)}this.$A=this.get_renderMode()},$8:function(e,ex){if(ss.isValue(e.zones)){this.zonesModel.update(e.zones,ex);if(!this.zonesModel.hasZone(this.get_readyZoneID())){this.set_readyZoneID(0)}}},$4:function(e,ex){if(ss.isValue(e.zoneChromeCommands)){this.get_multiSelectChromeCommands().update(e.zoneChromeCommands,ex)}},$6:function(e,ex){if(ss.isValue(e.sheetList)){if(ss.isNullOrUndefined(this.sheetListModel)){this.sheetListModel=new mP(this)}this.sheetListModel.update(e.sheetList,ex)}},$2:function(e,ex){if(ss.isValue(e.deviceLayoutInfo)){if(ss.isNullOrUndefined(this.deviceLayoutMetadataModel)){this.deviceLayoutMetadataModel=new eq(this)}this.deviceLayoutMetadataModel.update(e.deviceLayoutInfo,ex)}},$3:function(e,ex){if(ss.isValue(e.dashboardZoneHierarchy)){if(ss.isNullOrUndefined(this.layoutTreeModel)){this.layoutTreeModel=new jb(this)}this.layoutTreeModel.update(e.dashboardZoneHierarchy,ex)}},$k:function(e,ex){if(this.$b()){if(e.isFlexibleLayout!==this.pm.isFlexibleLayout){this.raiseEvent(this.$2$10,ex)}}},$m:function(e,ex){if(this.$b()){if(ss.isValue(e.cssAttrs)&&!_.isEqual(e.cssAttrs,this.pm.cssAttrs)){this.raiseEvent(this.$2$12,ex)}}},$j:function(e,ex){if(ss.isNullOrUndefined(this.get_sheetName())||ss.isValue(e.sheetLayoutInfo)&&!ss.referenceEquals(e.sheetLayoutInfo.sheetName,this.get_sheetName())){this.raiseEvent(this.$2$18,ex)}},$q:function(e,ex){if(ss.isNullOrUndefined(this.pm)||this.pm.hasTitle!==e.hasTitle){this.raiseEvent(this.$2$13,ex)}},$n:function(e,ex){if(ss.isNullOrUndefined(this.pm)||this.pm.gridOverlayMode!==e.gridOverlayMode){this.raiseEvent(this.$2$5,ex)}},$l:function(e,ex){if(ss.isNullOrUndefined(this.pm)||this.pm.previewBarIsVisible!==e.previewBarIsVisible){this.raiseEvent(this.$2$7,ex)}},$o:function(e,ex){if(ss.isNullOrUndefined(this.pm)||this.pm.size!==e.size){this.raiseEvent(this.$2$6,ex)}},$7:function(e,ex){if(ss.isNullOrUndefined(this.emptyShowMeModel)){this.emptyShowMeModel=new cK(this)}if(ss.isValue(e.showMeCommands)){this.emptyShowMeModel.update(e.showMeCommands,ex)}},$p:function(e,ex){if(!(typeof(e.modifiedSheets)==='undefined')&&(ss.isNullOrUndefined(this.pm)||!_.isEqual(e.modifiedSheets,this.pm.modifiedSheets))){this.raiseEvent(dx.$1,ex)}},$r:function(e){if(ss.isValue(e.autoUpdate)){this.autoUpdate=e.autoUpdate}},$e:function(e){if(ss.isValue(e.hasSelection)){}},update:function(e,ex){this.$5(ex);this.$s(e);this.$C=null;this.$8(e,ex);this.$4(e,ex);this.$e(e);this.$r(e);this.$v(e,ex.dialogProvider,ex.bannerProvider);this.$p(e,ex);this.$6(e,ex);this.$2(e,ex);this.$3(e,ex);this.$m(e,ex);this.$k(e,ex);this.$j(e,ex);this.$q(e,ex);this.$l(e,ex);this.$n(e,ex);this.$o(e,ex);this.$7(e,ex);this.$h(e,ex);this.$i(e,ex);this.$f(e,ex);this.$g(e,ex);this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex);this.$t(ex)},$s:function(e){e.isStory=e.isStory||false;e.hasTitle=e.hasTitle||false;e.gridOverlayMode=e.gridOverlayMode||'gom-off';e.size=e.size||20},$v:function(e,ex,pC){if(ss.isValue(e.viewIds)){var pD=_.keys(e.viewIds);for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];var pG=e.viewIds[pF];var pH=this.$D[pF];if(ss.isNullOrUndefined(pH)){pH=new oB(cw.get().legacySession.get_urlRoot(),pF,pG,ex,pC);this.$D[pF]=pH}pH.set_viewId(pG)}var pI=_.keys(this.$D);var pJ=_.difference(pI,_.keys(e.viewIds));for(var pK=0;pK<pJ.length;pK++){var pL=pJ[pK];delete this.$D[pL]}}},$h:function(e,ex){if(ss.isValue(e.dashboardSizeControl)){if(ss.isNullOrUndefined(this.$y)){this.$y=new dH(this)}this.$y.update(e.dashboardSizeControl,ex)}if(ss.isValue(this.pm)){if(ss.isValue(e.viewportSize)&&!_.isEqual(e.viewportSize,this.pm.viewportSize)){this.raiseEvent(this.$2$11,ex)}}},$i:function(e,ex){if(ss.isValue(e.deviceLayoutInfo)&&e.deviceLayoutInfo.dashboardDeviceLayout!==this.get_currentDeviceLayout()){this.raiseEvent(this.$2$14,ex);this.raiseEvent(this.$2$3,ex)}if(ss.isNullOrUndefined(e.dashboardDeviceLayouts)||ss.isNullOrUndefined(this.pm)||!_.isEqual(this.pm.dashboardDeviceLayouts,e.dashboardDeviceLayouts)){this.raiseEvent(this.$2$15,ex)}if(ss.isNullOrUndefined(e.autogeneratedDeviceLayouts)||ss.isNullOrUndefined(this.pm)||!_.isEqual(this.pm.autogeneratedDeviceLayouts,e.autogeneratedDeviceLayouts)){this.raiseEvent(this.$2$17,ex)}if(e.isMobileEnabledInPreview!==this.get_isMobileAppChromeVisible()){this.raiseEvent(this.$2$16,ex)}},$f:function(e,ex){if(tab.FeatureFlags.isEnabled('FlexibleDashboard')){var pC=e.activeZoneIds;if(ss.isValue(this.pm)){pC=_.union(_.difference(this.pm.activeZoneIds,e.activeZoneIds),_.difference(e.activeZoneIds,this.pm.activeZoneIds))}if(!tab.MiscUtil.isNullOrEmpty$2(pC)){this.$u(e.activeZoneId);this.raiseEvent(this.$2$3,ex)}}else if(ss.isValue(e.activeZoneId)){if(ss.isNullOrUndefined(this.pm)||this.pm.activeZoneId!==e.activeZoneId){this.$u(e.activeZoneId);this.raiseEvent(this.$2$3,ex)}}},$g:function(e,ex){if(tab.FeatureFlags.isEnabled('FlexibleDashboard')){if(ss.isValue(e.activeZoneIds)&&e.activeZoneIds.length>0&&this.$d(e.activeZoneIds[0])){this.$u(e.activeZoneIds[0]);this.raiseEvent(this.$2$4,ex)}}else if(this.$d(e.activeZoneId)){this.$u(e.activeZoneId);this.raiseEvent(this.$2$4,ex)}},$t:function(e){if(!bd.get_instance().get_isLocalRenderMode()){return}var ex=jF.getVisualModelsFromDashboard(this);var pC=_.keys(ex);var pD=_.any(pC,ss.mkdel(this,function(pK){var pL=ex[pK];return this.$c(pL)||this.$a(pL)}));if(pD){for(var pE=0;pE<pC.length;pE++){var pF=pC[pE];ex[pF].setIsBrushedFromAction(true,e)}}else{var pG=dx.$3(pC,ex);for(var pH=0;pH<pC.length;pH++){var pI=pC[pH];var pJ=pG.has(pI);ex[pI].setIsBrushedFromAction(pJ,e)}}},$c:function(e){var ex=jF.getModelsForViz(cf).call(null,this.get_contentDashboard(),e);return _.any(ex,function(pC){if(!pC.get_isHighlightEnabled()){return false}var pD=e.get_selectionsModel().getLegendSelection(pC.get_legendTypeEnum(),pC.get_legendNames());return!pD.isEmpty})},$a:function(e){var ex=jF.getModelsForViz(dW).call(null,this.get_contentDashboard(),e);return _.any(ex,function(pC){var pD=e.get_selectionsModel().getLegendSelection('highlight',[pC.get_fieldName()]);return!pD.isEmpty})},$d:function(e){var ex=this.getZone(e);return ss.isValue(ex)&&!ss.referenceEquals(ex.get_zoneDescription(),this.$x)},$9:function(){if(!this.pm.isStory){return null}var e=null;var ex=this.zonesModel.get_zoneModels();for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];if(ss.isInstanceOfType(pD.get_model(),fR)){e=pD.get_model().get_dashboardModel();break}}return e},$1:function(){var e=ct.fromColorCode(this.get_backgroundColor());e=e||ct.white;var ex=e.isLuminanceAboveThreshold(0.314999997615814);var pC=(ex?0.0199999995529652:0.0299999993294477);var pD=(ex?new ct(0,0,0,pC):new ct(255,255,255,pC));var pE=pD.toRgba();return pE},$u:function(e){var ex=this.getZone(e);if(ss.isNullOrUndefined(ex)){this.$x=''}else{this.$x=ex.get_zoneDescription()}}},{add_modifiedSheetsChanged:function(e){dx.$2$1=ss.delegateCombine(dx.$2$1,e)},remove_modifiedSheetsChanged:function(e){dx.$2$1=ss.delegateRemove(dx.$2$1,e)},add_designModeChanged:function(e){dx.$2$19=ss.delegateCombine(dx.$2$19,e)},remove_designModeChanged:function(e){dx.$2$19=ss.delegateRemove(dx.$2$19,e)},get_designModeEnabled:function(){return dx.$5},set_designModeEnabled:function(e){dx.$5=e;if(!ss.staticEquals(dx.$2$19,null)){dx.$2$19()}},$3:function(e,ex){var pC=e.length;var pD=new Set;for(var pE=0;pE<e.length;pE++){var pF=e[pE];var pG=ex[pF];var pH=dx.$2(pG,pF);if(!tab.MiscUtil.isNullOrEmpty$3(pH)){var pI=v.$0(pF,pH,pG.get_vizDataModel());tab.SetUtilities.addAll(Object).call(null,pD,tab.SetUtilities.getValues(Object).call(null,pI));if(pD.size===pC){return pD}}}return pD},$2:function(e,ex){var pC=[];dx.$0(e,ex,pC);if(!e.get_brushingsModel().tupleSelection.isEmpty){ss.arrayAddRange(pC,R.getApplicableActions(ex,'on-hover','highlight'))}return pC},$0:function(e,ex,pC){if(dx.$4(e)){ss.arrayAddRange(pC,R.getApplicableActions(ex,'on-select','highlight'));ss.arrayAddRange(pC,R.getApplicableActions(ex,'explicitly','highlight'))}},$4:function(e){return!e.get_selectionsModel().tupleSelection.isEmpty||e.get_selectionsModel().get_brushVizForNodeSelection()},$1:function(){if(!ss.staticEquals(dx.$2$1,null)){dx.$2$1()}}});var dy=global.tab.DashboardNewObjectsModel=ss.mkType(a,'tab.DashboardNewObjectsModel',function(){this.$1=false;this.$2=false;jC.call(this,null,null);this.$1=false;this.$2=false},{get_addNewZoneAsFloating:function(){return this.$1},set_addNewZoneAsFloating:function(e){if(this.$1===e){return}this.$1=e},get_addToFlexibleDashboard:function(){return this.$2},set_addToFlexibleDashboard:function(e){if(this.$2===e){return}this.$2=e}});var dz=global.tab.DashboardSetGridSizeCmd=ss.mkType(a,'tab.DashboardSetGridSizeCmd',function(){ss.makeGenericType(bl,[Object,dA]).call(this)},{get_commandId:function(){return dz.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'dashboard-set-grid-size'},this.c))}});var dA=global.tab.DashboardSetGridSizeCmd$Response=ss.mkType(a,'tab.DashboardSetGridSizeCmd$Response',function(e){this.$$c=null;this.$$c=e});var dB=global.tab.DashboardShowGridCmd=ss.mkType(a,'tab.DashboardShowGridCmd',function(){ss.makeGenericType(bl,[Object,dC]).call(this)},{get_commandId:function(){return dB.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'dashboard-show-grid'},this.c))}});var dC=global.tab.DashboardShowGridCmd$Response=ss.mkType(a,'tab.DashboardShowGridCmd$Response',function(e){this.$$c=null;this.$$c=e});var dD=global.tab.DashboardShowGridWebWrapperCmd=ss.mkType(a,'tab.DashboardShowGridWebWrapperCmd',function(){ss.makeGenericType(oU,[Object,dE]).call(this)},{get_commandId:function(){return dD.cmdId}});var dE=global.tab.DashboardShowGridWebWrapperCmd$Response=ss.mkType(a,'tab.DashboardShowGridWebWrapperCmd$Response',function(e){this.$$c=null;this.$$c=e});var dF=global.tab.DashboardShowGridWebWrapperCommand=ss.mkType(a,'tab.DashboardShowGridWebWrapperCommand',function(){dD.call(this)},{do$1:function(){if(ss.keyExists(this.c,'dashboardShowGrid')){var e=/^\s*true\s*$/i.test(this.c['dashboardShowGrid'].toString());du.showGridOnDashboard(e)}}});var dG=global.tab.DashboardSizeCalculator=ss.mkType(a,'tab.DashboardSizeCalculator',null,null,{get_dashboardViewportSize:function(){var e=dG.get_dashboardViewportSizeWithTabs();e.h-=tabBootstrap.VizLayoutConstants.get_tabsHeight();return e},get_dashboardViewportSizeWithTabs:function(){var e=document.getElementById('dashboard-viewport');var ex={w:e.offsetWidth,h:e.offsetHeight};return ex},calculateContainerSize:function(e){var ex=(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()?dG.calculateDashboardSize():e);var pC={w:ex.w,h:ex.h+tabBootstrap.VizLayoutConstants.get_tabsHeight()};return pC},calculateDashboardSize:function(){if(tsConfig.is_mobile&&!tabBootstrap.EmbedAndViewportCalculator.get_isEmbeddedInsideAnotherPage()){return tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type)}else{var e=dG.get_dashboardViewportSize();var ex=tabBootstrap.ViewerBootstrap.get_instance().adjustForMinMaxDashboardSizes(e);return ex}},asSizePresModel:function(e){return{w:e.w,h:e.h}},asMetric:function(e){return{w:e.w,h:e.h}},asRect:function(e){return{l:0,t:0,w:e.w,h:e.h}},get_toolbarIsBottom:function(){return(tsConfig.isPublic||tsConfig.embedded)&&!tsConfig.forceToolbarTop},calculateDashboardViewportBounds:function(){var e=dG.get_dashboardViewportSize();var ex={l:0,t:0,w:e.w,h:e.h};if(!dG.get_toolbarIsBottom()&&!tsConfig.is_authoring){ex.t+=tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()}ex.t+=tabBootstrap.VizLayoutConstants.get_authoringMenuBarHeight()+tabBootstrap.VizLayoutConstants.get_authoringToolbarHeight();return ex}});var dH=global.tab.DashboardSizeControlModel=ss.mkType(a,'tab.DashboardSizeControlModel',function(e){this.$2$1=null;this.dashboardSizeModel=null;this.layoutInfoModel=null;jC.call(this,e,new kA('dashboardSizeControl'.toString(),null))},{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minDimension:function(){return this.pm.minSize},get_maxDimension:function(){return this.pm.maxSize},get_stepSize:function(){return this.pm.stepSize},get_sizeModeOptions:function(){return this.pm.sizeModeOptions||[]},update:function(e,ex){if(ss.isValue(e.dashboardSizePresModel)){if(ss.isNullOrUndefined(this.dashboardSizeModel)){this.dashboardSizeModel=new dI(this)}this.dashboardSizeModel.update(e.dashboardSizePresModel,ex)}if(ss.isValue(e.deviceLayoutInfoItem)){if(ss.isNullOrUndefined(this.layoutInfoModel)){this.layoutInfoModel=new ep(this)}this.layoutInfoModel.update(e.deviceLayoutInfoItem,ex)}this.simpleSwapToUpdate(e,this.$2$1,ex)}});var dI=global.tab.DashboardSizeModel=ss.mkType(a,'tab.DashboardSizeModel',function(e){this.$2$1=null;jC.call(this,e,new kA('dashboardSizePresModel'.toString(),null))},{add_sizeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_currentSizeText:function(){return this.pm.summaryText},get_sizeMode:function(){if(this.pm.dashboardSizingMode!=='unspecified'){return this.pm.dashboardSizingMode}switch(this.pm.sizeMode){case'size-mode-auto':{return'automatic'}case'size-mode-fixed':{return'fixed'}default:{return'range'}}},get_currentWidth:function(){return this.pm.w>>>0},get_currentMinWidth:function(){return this.pm.minWidth},get_currentMaxWidth:function(){return this.pm.maxWidth},get_currentHeight:function(){return this.pm.h>>>0},get_currentMinHeight:function(){return this.pm.minHeight},get_currentMaxHeight:function(){return this.pm.maxHeight},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}});var dJ=global.tab.DataAlert=ss.mkType(a,'tab.DataAlert',function(){var e=[];e.push(ot.currentUser());dJ.$ctor2.call(this,{},{},e)},{add_notificationIntervalChanged:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_notificationIntervalChanged:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_titleChanged:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_titleChanged:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_publicChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_publicChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_createMetricChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_createMetricChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_measureChanged:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_measureChanged:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},add_conditionChanged:function(e){this.$1$6=ss.delegateCombine(this.$1$6,e)},remove_conditionChanged:function(e){this.$1$6=ss.delegateRemove(this.$1$6,e)},add_recipientsChanged:function(e){this.$1$7=ss.delegateCombine(this.$1$7,e)},remove_recipientsChanged:function(e){this.$1$7=ss.delegateRemove(this.$1$7,e)},get_recipients:function(){return this.$1$8},set_recipients:function(e){this.$1$8=e},get_userIds:function(){return _.map(this.get_recipients(),function(e){return e.id.toString()})},get_notificationIntervalInMinutes:function(){return this.$4},set_notificationIntervalInMinutes:function(e){if(this.$4!==e){this.$4=e;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_title:function(){return this.$7},set_title:function(e){if(!ss.referenceEquals(this.$7,e)){this.$7=e;if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},get_isPublic:function(){return this.$2},set_isPublic:function(e){if(this.$2!==e){this.$2=e;if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},get_deviceType:function(){return this.$1$9},set_deviceType:function(e){this.$1$9=e},get_isViewSaveNeeded:function(){return this.$1$10},set_isViewSaveNeeded:function(e){this.$1$10=e},get_customizedViewId:function(){return this.$1$11},set_customizedViewId:function(e){this.$1$11=e},get_selectionCaption:function(){return this.$1$12},set_selectionCaption:function(e){this.$1$12=e},get_measurePresModel:function(){return this.$3},set_measurePresModel:function(e){if(!ss.referenceEquals(this.$3,e)){this.$3=e;if(!ss.staticEquals(this.$1$5,null)){this.$1$5()}}},get_conditionPresModel:function(){return this.$1},set_conditionPresModel:function(e){if(!ss.referenceEquals(this.$1,e)){this.$1=e;if(!ss.staticEquals(this.$1$6,null)){this.$1$6()}}},get_operator:function(){return this.$1.dataAlertConditionOp},get_threshold:function(){return this.$6},set_threshold:function(e){if(ss.referenceEquals(this.$6,e)){return}this.$6=e;if(ss.isNullOrUndefined(this.get_conditionPresModel().dataType)){return}this.set_thresholdIsValid(this.isValidThresholdText(e))},get_thresholdIsValid:function(){return this.$1$13},set_thresholdIsValid:function(e){this.$1$13=e},get_alertConditionMet:function(){return this.$1$14},set_alertConditionMet:function(e){this.$1$14=e},get_viewType:function(){return this.$1$15},set_viewType:function(e){this.$1$15=e},get_createMetricFromDDA:function(){return this.$5},set_createMetricFromDDA:function(e){if(this.$5!==e){this.$5=e;if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}}},$0:function(e){return this.get_conditionPresModel().dataType==='real'&&tab.DoubleUtil.isValidDouble(e)||this.get_conditionPresModel().dataType==='integer'&&tab.DoubleUtil.isValid64BitInteger(e)},isValidThresholdText:function(e){if(ss.isNullOrEmptyString(e)){return false}else if(ss.isNullOrUndefined(bd.get_instance().get_appPresModel())||ss.isNullOrUndefined(bd.get_instance().get_appPresModel().numberFormats)){return this.$0(e)}else{var ex=bd.get_instance().get_appPresModel().numberFormats;return this.$0(tableau.format.reformatNumberToJsFormat(e,ex))}},updateRecipients:function(e){this.set_recipients(e);if(!ss.staticEquals(this.$1$7,null)){this.$1$7()}}},{$ctor2:function(e,ex,pC){this.$6=null;this.$7=null;this.$4=1440;this.$3=null;this.$1=null;this.$2=false;this.$5=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=null;this.$1$10=false;this.$1$11=null;this.$1$12=null;this.$1$13=false;this.$1$14=false;this.$1$15=null;this.$3=e;this.$1=ex;this.set_recipients(pC);this.set_deviceType('default')},$ctor1:function(e){this.$6=null;this.$7=null;this.$4=1440;this.$3=null;this.$1=null;this.$2=false;this.$5=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=null;this.$1$10=false;this.$1$11=null;this.$1$12=null;this.$1$13=false;this.$1$14=false;this.$1$15=null;this.set_selectionCaption(e.fieldName);this.set_measurePresModel(e.dataAlertMeasure);this.set_conditionPresModel({dataAlertConditionOp:e.dataAlertConditionOp,dataAlertThresholdText:e.dataAlertThresholdText,dataType:e.dataType});this.set_threshold(e.dataAlertThresholdText);this.set_alertConditionMet(e.isDataAlertConditionMet);var ex=[];ex.push(ot.currentUser());this.set_recipients(ex);this.set_deviceType('default');this.set_isViewSaveNeeded(e.isViewSaveNeeded)}});var dK=global.tab.DataAlertClientCommands=ss.mkType(a,'tab.DataAlertClientCommands',null,null,{newDataAlert:function(e){(new nt).invoke().fail(function(){e()})},updateDataAlert:function(e){var ex=$.Deferred();if(e.get_thresholdIsValid()){var pC=new on;pC.c['dataAlertThresholdText']=e.get_conditionPresModel().dataAlertThresholdText;pC.c['dataAlertConditionOp']=e.get_conditionPresModel().dataAlertConditionOp;pC.invoke().done(function(pD){ex.resolve(pD.$$c['isDataAlertConditionMet'])}).fail(function(){throw new ss.Exception('Failed to update reference line position and shading')})}else{ex.resolve(e.get_alertConditionMet())}return ex},closeDataAlertDialog:function(){var e=$.Deferred();(new cr).invoke().done(function(ex){e.resolve()}).fail(function(){e.reject();throw new ss.Exception('Failed to close the dialog')});return e},getDataAlertInfo:function(e){var ex=new gA;ex.c['dataAlertSpecSerializedText']=e;ex.set_noExceptionDialog(true);return ex.invoke()},getDataAlertInfoMap:function(e){var ex=$.Deferred();var pC=new gy;pC.c['dataAlertSpecSerializedTextMap']=JSON.stringify(e);pC.set_noExceptionDialog(true);pC.invoke().done(function(pD){ex.resolve(pD.$$c['dataAlertConditionInfoMap'])}).fail(function(){ex.reject()});return ex},evaluateDataAlert:function(e){var ex=$.Deferred();var pC=new fh;pC.c['dataAlertSpecSerializedText']=e;pC.set_noExceptionDialog(true);pC.invoke().done(function(pD){ex.resolve(pD.$$c['alertConditionMet'])}).fail(function(){ex.reject()});return ex}});var dL=global.tab.DataAlertConditionOperation=ss.mkType(a,'tab.DataAlertConditionOperation',function(){},null,{supportedOperations:function(){var e=[];e.push('greater-than-equal');e.push('greater-than');e.push('less-than-equal');e.push('less-than');e.push('equals');return e},displayString:function(e){switch(e){case'equals':{return tab.Strings.OperatorEqual}case'greater-than':{return tab.Strings.OperatorAbove}case'greater-than-equal':{return tab.Strings.OperatorAboveOrEqual}case'less-than':{return tab.Strings.OperatorBelow}case'less-than-equal':{return tab.Strings.OperatorBelowOrEqual}default:{return''}}}});var dM=global.tab.DataAlertDialogModel=ss.mkType(a,'tab.DataAlertDialogModel',function(e){this.$2$1=null;this.$2$2=null;jC.call(this,e,new kA('dataAlertDialogPresModel'.toString(),null))},{add_stopNotifying:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_stopNotifying:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_showOrUpdateDialog:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_showOrUpdateDialog:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_notificationId:function(){return'doc:data-alert-dialog-event'},get_operation:function(){return this.pm.dataAlertConditionOp},get_thresholdText:function(){return this.pm.dataAlertThresholdText},onNotify:function(e,ex){if(ss.isValue(e)){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex)}},detachNotifications:function(){this.pm=null;if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}},{get_instance:function(){var e=bd.get_instance();return e.modelInstance(dM).call(e)}});var dN=global.tab.DataAlertNotificationInterval=ss.mkType(a,'tab.DataAlertNotificationInterval',function(){},null,{getDisplayString:function(e){return(ss.keyExists(dN.$1,e)?dN.$1[e]:'')},supportedIntervals:function(){var e=[];e.push(2147483647);e.push(0);e.push(60);e.push(1440);e.push(10080);return e}});var dO=global.tab.DataConnectionCommands=ss.mkType(a,'tab.DataConnectionCommands',null,null,{get_serverConnectionTypes:function(){if(ss.isNullOrUndefined(dO.$2)){var e=$.Deferred();dO.$2=e;var ex=dO.$0();ex.done([function(pC){e.resolve(pC)}]).fail([function(pC){dO.$2=null;e.reject(pC)}])}return dO.$2},getCompositeClassName:function(e,ex){var pC=$.Deferred();var pD=new gn;pD.c['dsClass']=e;pD.c['fileExtension']=ex;var pE=pD;pE.invoke().done(function(pF){pC.resolve(pF.$$c['compositeClassName'])}).fail(function(pF){pC.reject(pF)});return pC},acceptConnectionVariables:function(e){var ex=new mI;ex.c['connectionName']=e;ex.set_uiBlocking('immediately');ex.invoke()},editVariableByIndex:function(e,ex,pC,pD,pE,pF){var pG={};pG['connectionName']=e;pG['variableGuid']=ex;pG['valueIndex']=pC;pG['variableValueOperation']=pD;pG['firstValueIndex']=pE;pG['secondValueIndex']=pF;cw.SendCommand(kZ.create(cN.newCommand({ns:'tabdoc',cmd:'set-variable-value-by-index'},pG),'immediately',null,null))},editVariableByInput:function(e,ex,pC,pD,pE){var pF={};pF['connectionName']=e;pF['variableGuid']=ex;pF['valueIndex']=pC;pF['variableValueOperation']=pD;pF['valueString']=pE;cw.SendCommand(kZ.create(cN.newCommand({ns:'tabdoc',cmd:'set-variable-value-shim'},pF),'immediately',null,null))},addVariable:function(e,ex){var pC=$.Deferred();var pD={};pD['connectionName']=e;pD['variableGuid']=ex;cw.SendCommand(kZ.create(cN.newCommand({ns:'tabdoc',cmd:'add-new-variable-value'},pD),'immediately',function(pE){pC.resolve(pE)},function(pE){pC.reject()}));return pC.promise()},deleteVariable:function(e,ex,pC,pD){var pE={};pE['connectionName']=e;pE['variableGuid']=ex;pE['valueIndex']=pC;cw.SendCommand(kZ.create(cN.newCommand({ns:'tabdoc',cmd:'delete-variable-value'},pE),'immediately',function(pF){pD()},null))},addPublishedDataSourceConnection:function(e,ex,pC){var pD={};pD['datasourceDatabaseName']=e.get_name();pD['repositoryUrl']=e.get_repositoryUrl();var pE=cN.newCommand({ns:'tabsrv',cmd:'add-dataserver-data-source'},pD);pE.preserveRootResult=true;cw.SendCommand(new co('immediately',null,pE,function(pF){var pG=new T(pF);if(!ss.isNullOrEmptyString(pG.$$c['datasource'])){cw.SendCommand(new jo(function(pH){bd.get_instance().get_workbook().get_dataSchema().notifyNewDataSourceAdded(pH.modelUpdateContext,pG.$$c['datasource'])}));ex()}},function(pF){pC()}))},selectDataServerDataSourceForProxy:function(e,ex,pC,pD,pE){var pF=new md;pF.c['datasource']=pC;pF.c['datasourceDatabaseName']=ex.get_name();pF.c['repositoryUrl']=ex.get_repositoryUrl();pF.set_uiBlocking('immediately');var pG=pF;pG.invoke().then(function(pH){pD()},function(pH){pE()})},getDataSourceDataPresModel:function(e,ex,pC){var pD=new gE;pD.set_commandWaiter(pC);pD.c['datasource']=e;pD.c['cacheOnly']=false;pD.c['useNotificationReturn']=true;pD.c['includeFormattedValues']=true;pD.set_uiBlocking('immediately');pD.invoke().fail(function(pE){ex(pE.toString())})},getConnectionTypeGroupPresModel:function(e,ex,pC){var pD=new ha;pD.c['connectionTypeGroup']=e;pD.set_uiBlocking('none');pD.invoke().then(function(pE){ex(pE.$$c['connectionTypeGroupPresModel'])},function(pE){pC(pE)})},getAllowedClassesForConnectTo:function(e,ex,pC){var pD={};pD['federatableOnly']=e;var pE=cN.newCommand({ns:'tabdoc',cmd:'get-allowed-classes'},pD);mp.executeServerCommand(pE,'none',function(pF){ex(pF)},pC)},getDSParamsFromPresModelWithConnectionName:function(e,ex){var pC=new gI;pC.c['connectionName']=ex;pC.c['widgetConnectionParams']=dO.sanitizeConnectionParamsPresModel(e);return pC.invoke()},getDSParamsFromPresModelWithConnectionClass:function(e,ex){var pC=new gI;pC.c['connectionClassName']=ex;pC.c['widgetConnectionParams']=dO.sanitizeConnectionParamsPresModel(e);return pC.invoke()},checkConnection:function(e,ex){var pC=new ci;pC.c['connectionConfigName']=e;pC.c['lookupTable']=JSON.stringify(ex);pC.set_uiBlocking('immediately');pC.set_suppressConnectionDialog(true);return pC.invoke()},sanitizeConnectionParamsPresModel:function(e){var ex=_.clone(e);ex.widgetAttrPassword='';ex.widgetAttrMdwPassword='';if(ss.isValue(ex.connectorAttrs)&&ss.keyExists(ex.connectorAttrs,'password')){ex.connectorAttrs['password']=''}return ex},$0:function(){var e=$.Deferred();dO.getConnectionTypeGroupPresModel('server',function(ex){var pC=[];var pD=[];ex.connectionTypes.forEach(function(pE){if(pE.valueClassAttr==='sqlproxy'){pE.label=tab.Strings.CreateConnectionPublishedDatasources;pC.push(pE)}else{pD.push(pE)}});e.resolve({item1:pC,item2:pD})},function(ex){e.reject(ex)});return e.promise()},toggleUseExtract:function(e,ex){var pC=new nS;pC.c['datasource']=e;pC.c['useExtract']=ex;pC.set_uiBlocking('immediately');pC.invoke()},updateDataTabDataSourceHeader:function(){var e=new op;e.set_uiBlocking('immediately');e.invoke()}});var dP=global.tab.DataConnectionPromptModel=ss.mkType(a,'tab.DataConnectionPromptModel',function(e){this.$2=null;jC.call(this,e,new kA('variablePromptDialog'.toString(),null))},{$1:function(){return this.pm},get_connectionName:function(){return this.$1().connectionName||''},get_promptTitle:function(){return this.$1().dialogTitle||''},get_variableListInstruction:function(){return this.$1().valuesTableHeader||''},get_variableListNameLabel:function(){return this.$1().listViewNameLabel||''},get_variableListValueLabel:function(){return this.$1().listViewValueLabel||''},get_addVariableLabel:function(){return this.$1().addVariableLabel||''},get_addVariableTooltip:function(){return this.$1().addVariableTooltip||''},get_deleteVariableTooltip:function(){return this.$1().deleteVariableTooltip||''},get_requiredVariableMessage:function(){return this.$1().requiredVariableMessage||''},get_editSectionTitle:function(){return this.$1().editWidgetHeader||''},get_editSectionInstruction:function(){return this.$1().editWidgetInstruction||''},get_editSectionFromLabel:function(){return this.$1().fromLabel||''},get_editSectionToLabel:function(){return this.$1().toLabel||''},get_connectionVariables:function(){return this.$2},update:function(e){this.swapAndCopyPresModel(e);if(ss.isValue(this.$1().promptVariables)){this.$2=[];for(var ex=0;ex<this.$1().promptVariables.length;ex++){var pC=new dS(new dR(this),ex);pC.update(this.$1().promptVariables[ex]);this.$2.push(pC)}}}});var dQ=global.tab.DataConnectionUtils=ss.mkType(a,'tab.DataConnectionUtils',null,null,{addOrUpdateExtensionForFileName:function(e,ex){var pC=e.lastIndexOf(String.fromCharCode(46));var pD=((pC===-1)?e:e.substr(0,pC));var pE=pD+'.'+ex;return pE},connectionNameFromFullConnectionName:function(e){var ex='';var pC=new RegExp('\\[(.)*?\\]','g');pC.exec(e);var pD=pC.exec(e);if(ss.isValue(pD)&&pD.length>1){ex=pD[0].substr(1,pD[0].length-2)}return ex},hasPublishedFederatedConnections:function(e){for(var ex=0;ex<e.dataSourceConnectionAttemptInfos.length;ex++){var pC=e.dataSourceConnectionAttemptInfos[ex];if(pC.isPublishedFederated){return true}}return false},getConnectionNames:function(e){var ex=new Array(e.dataSourceConnectionAttemptInfos.length);for(var pC=0;pC<e.dataSourceConnectionAttemptInfos.length;pC++){ex[pC]=e.dataSourceConnectionAttemptInfos[pC].connectionFullName}return ex},stripDirectoryFromPath:function(e){var ex=e.lastIndexOf('\\')+1;if(ex===0){ex=e.lastIndexOf('/')+1}ex=Math.max(0,ex);return e.substring(ex)},isEditConnectionForFilesSupported:function(e){return ss.contains(cQ.get_getSupportedFileClasses(),e)},isEditConnectionMultiFileAllowed:function(e){return ss.isNullOrEmptyString(e)||e==='textscan'},isDatabaseClassSupportedInReconnectFlow:function(e){return dQ.$0(e,'database')},isTableauServerSupportedInReconnectFlow:function(e){var ex=$.Deferred();cQ.get_supportedTableauServerClasses().done(function(pC){ex.resolve(ss.contains(pC,e))});return ex.promise()},isDataTabSupportedForDataSource:function(e){var ex=bd.get_instance().get_workbook().get_dataSchema().getDataSource(e);return tsConfig.is_authoring&&ss.isValue(ex)&&ex.get_isDataTabViewSupported()},$0:function(e,ex){var pC=$.Deferred();cQ.getConnectionTypeCategory(e).done(function(pD){pC.resolve(pD===ex)});return pC.promise()}});var dR=global.tab.DataConnectionVariableArrayModel=ss.mkType(a,'tab.DataConnectionVariableArrayModel',function(e){jC.call(this,e,new kA('promptVariables'.toString(),1))});var dS=global.tab.DataConnectionVariableModel=ss.mkType(a,'tab.DataConnectionVariableModel',function(e,ex){this.$3=null;this.$2=null;jC.call(this,e,new kA(ex.toString(),null))},{$1:function(){return this.pm},get_displayName:function(){return this.$1().variableDisplayName},get_description:function(){return this.$1().variableDescription},get_guid:function(){return this.$1().variableGuid},get_isRequired:function(){return this.$1().isRequired},get_defaultValue:function(){return this.$2},get_supportMultiValue:function(){return this.$1().supportsMultipleValues},get_values:function(){return this.$3},get_selectableOperations:function(){return this.$1().serverVariableMetadata.variableValueOperations},get_selectableValues:function(){return this.$1().serverVariableMetadata.selectionValueList},update:function(e){this.swapAndCopyPresModel(e);this.$2=new dU(null,-1);this.$2.update(this.$1().serverVariableMetadata.variableValue);if(ss.isValue(this.$1().variableValues)){this.$3=[];for(var ex=0;ex<this.$1().variableValues.length;ex++){var pC=new dU(new dT(this),ex);pC.update(this.$1().variableValues[ex]);this.$3.push(pC)}}}});var dT=global.tab.DataConnectionVariableValueArrayModel=ss.mkType(a,'tab.DataConnectionVariableValueArrayModel',function(e){jC.call(this,e,new kA('variableValues'.toString(),1))});var dU=global.tab.DataConnectionVariableValueModel=ss.mkType(a,'tab.DataConnectionVariableValueModel',function(e,ex){jC.call(this,e,new kA(ex.toString(),null))},{$1:function(){return this.pm},get_displayValue:function(){return this.$1().displayValue},get_valueIndex:function(){return this.$1().valueIndex},get_operation:function(){return this.$1().serverVariableValue.variableValueOperation},set_operation:function(e){this.$1().serverVariableValue.variableValueOperation=e},get_firstValue:function(){return this.$1().serverVariableValue.firstValue},get_firstValueIndex:function(){return this.$1().serverVariableValue.firstValueIndex},get_secondValue:function(){return(this.$1().serverVariableValue.isTwoValued?this.$1().serverVariableValue.secondValue:null)},get_secondValueIndex:function(){return(this.$1().serverVariableValue.isTwoValued?this.$1().serverVariableValue.secondValueIndex:-1)},update:function(e){this.swapAndCopyPresModel(e)}});var dV=global.tab.DataDictionaryModel=ss.mkType(a,'tab.DataDictionaryModel',function(e){this.$2=null;jC.call(this,e,new kA('dataDictionary'.toString(),null))},{get_isEmpty:function(){return tab.MiscUtil.isNullOrEmpty(this.$1())||tab.MiscUtil.isNullOrEmpty(this.$1().dataSegments)},$1:function(){return this.pm},update:function(e){if(ss.isValue(this.$1())&&ss.isValue(e)){var ex=e.dataSegments;if(ss.isValue(ex)){var pC=this.$1().dataSegments;if(ss.isValue(pC)){var pD=new ss.ObjectEnumerator(pC);try{while(pD.moveNext()){var pE=pD.current();if(!ss.keyExists(ex,pE.key)){ex[pE.key]=pE.value}}}finally{pD.dispose()}}var pF=new ss.ObjectEnumerator(ex);try{while(pF.moveNext()){var pG=pF.current();if(pG.value===null){delete ex[pG.key]}}}finally{pF.dispose()}this.$2=null}}this.pm=e},getRawValue:function(e,ex){if(ss.isNullOrUndefined(this.$1())||ss.isNullOrUndefined(this.$1().dataSegments)){return null}if(ss.isNullOrUndefined(this.$2)){var pC=0;var pD=ss.getEnumerator(Object.keys(this.$1().dataSegments));try{while(pD.moveNext()){var pE=pD.current();var pF=parseInt(pE);pC=Math.max(pF,pC)}}finally{pD.dispose()}this.$2=pC+1}for(var pG=0;ss.Nullable$1.lt(pG,this.$2);pG++){var pH=this.$1().dataSegments[pG.toString()];if(ss.isNullOrUndefined(pH)||ss.isNullOrUndefined(pH.dataColumns)){continue}for(var pI=0;pI<pH.dataColumns.length;pI++){var pJ=pH.dataColumns[pI];if(ss.isNullOrUndefined(pJ)||pJ.dataType!==e){continue}if(ex<pJ.dataValues.length){return pJ.dataValues[ex]}ex-=pJ.dataValues.length;break}}return null}});var dW=global.tab.DataHighlighterModel=ss.mkType(a,'tab.DataHighlighterModel',function(e){this.$3=null;this.$2$1=null;jC.call(this,e,new kA('dataHighlighter'.toString(),null))},{add_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_fieldName:function(){return this.$2().fn},get_searchPlaceholderString:function(){return this.$2().searchPlaceholder},$2:function(){return this.pm},get_fullDomainItemSet:function(){return this.$2().dataHighlighterItemSet},get_searchText:function(){return this.$2().queryText},get_maxNumberListItems:function(){return this.$2().maxNumberWebListItems},get_isActive:function(){return this.$2().isActive},get_bodyTextStyle:function(){return this.$2().textStyle},get_numHighlighted:function(){return this.$2().numHighlighted},get_zoneHasBorder:function(){if(ss.isNullOrUndefined(this.parent)){return false}return this.parent.get_zone().get_zoneCommonModel().get_hasBorder()},get_zoneWidth:function(){if(ss.isNullOrUndefined(this.parent)){return 0}return this.parent.get_zone().get_zoneCommonModel().get_width()},update:function(e,ex){if(ss.isValue(e)){fZ.notifyFontsFromTextStylePresModel(e.textStyle)}this.$3=null;this.simpleSwapToUpdate(e,this.$2$1,ex)},getItemNamesFromObjectId:function(e){if(ss.isNullOrUndefined(this.$3)){this.$1()}return[this.$3[e]]},$1:function(){this.$3={};var e=this.get_fullDomainItemSet().dataHighlighterItems;for(var ex=0;ex<e.length;ex++){var pC=e[ex];this.$3[pC.objectId]=pC.text}}});var dX=global.tab.DataSchemaModel=ss.mkType(a,'tab.DataSchemaModel',function(e){this.$1=null;this.$4=null;this.$3=null;this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;jC.call(this,e,new kA('schemaViewer'.toString(),null))},{add_newActiveDataSource:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newActiveDataSource:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataSchema:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataSchema:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newDataSourceAdded:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newDataSourceAdded:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_parametersDataSource:function(){return(ss.isNullOrUndefined(this.get_dataSources())?null:this.get_dataSources().getDataSource(this.$4))},get_activeDataSource:function(){return(ss.isNullOrUndefined(this.get_dataSources())?null:this.get_dataSources().getDataSource(this.get_activeDataSourceName()))},get_dataSchemaPresModel:function(){return this.pm},get_activeDataSourceName:function(){if(ss.isValue(this.get_dataSchemaPresModel())&&ss.isValue(this.get_dataSchemaPresModel().datasource)){return this.get_dataSchemaPresModel().datasource}return''},get_dataSources:function(){return this.$1},get_dataSourcesList:function(){return(ss.isNullOrUndefined(this.get_dataSources())?[]:this.get_dataSources().get_dataSources())},get_hasDataSourcesModel:function(){return ss.isValue(this.get_dataSources())},get_currentBlendingFields:function(){return this.$3},get_blendingFieldCandidates:function(){return this.$2},notifyNewDataSourceAdded:function(e,ex){this.raiseEvent$1(String).call(this,this.$2$3,ex,e)},getDefaultDataSourceForSheet:function(e){if(ss.isNullOrUndefined(this.get_dataSchemaPresModel())){return null}var ex=null;if(ss.isValue(this.get_dataSchemaPresModel().worksheetDataSchemaMap)&&ss.keyExists(this.get_dataSchemaPresModel().worksheetDataSchemaMap,e)){ex=this.get_dataSchemaPresModel().worksheetDataSchemaMap[e].primaryDatasource}if(ss.isNullOrEmptyString(ex)){return _.chain(this.$1.get_dataSources()).filter(ss.mkdel(this,function(pC){return!ss.referenceEquals(pC.get_name(),this.get_dataSchemaPresModel().parametersDatasource)})).first().value()}return this.$1.getDataSource(ex)},getDefaultDatasourceNamesForSheets:function(e){var ex={};for(var pC=0;pC<e.length;pC++){var pD=e[pC];var pE=this.getDefaultDataSourceForSheet(pD);if(ss.isValue(pE)){ex[pE.get_name()]=true}}return ss.arrayFromEnumerable(Object.keys(ex))},getDataSourceCount:function(e){var ex=0;if(ss.isValue(this.get_dataSources())&&ss.isValue(this.get_dataSources().get_dataSources())){ex=this.get_dataSources().get_dataSources().length;if(!e&&ss.isValue(this.get_parametersDataSource())){ex--}}return ex},findField:function(e){var ex=this.findDataSourceFromGlobalFieldName(e);return(ss.isNullOrUndefined(ex)?null:ex.findField(e))},findDataSourceByName:function(e){return(ss.isNullOrUndefined(this.get_dataSources())?null:this.get_dataSources().getDataSource(e))},findConnectionSummaryByName:function(e){if(ss.isNullOrUndefined(this.get_dataSources())||ss.isNullOrUndefined(this.get_dataSources().get_dataSources())){return null}var ex=this.get_dataSources().get_dataSources();for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];var pE=pD.findConnectionSummaryPresModel(e);if(ss.isValue(pE)){return pE}}return null},findDataSourceFromGlobalFieldName:function(e){var ex=eb.splitGlobalFieldName(e);if(ex.length<=1){return null}var pC=ex[0].replace(new RegExp('\\]\\]'),']');return this.findDataSourceByName(pC)},raiseNewActiveDataSourceEvent:function(e){this.raiseEvent(this.$2$1,e)},raiseNewDataSchemaEvent:function(e){this.raiseEvent(this.$2$2,e)},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}if(_.isEqual(e,this.pm)){return}var pC=(ss.isValue(e.currentBlendingFields)?e.currentBlendingFields:[]);var pD=(ss.isValue(e.blendingFieldCandidates)?e.blendingFieldCandidates:[]);this.$3=ss.arrayClone(pC);this.$2=ss.arrayClone(pD);if(ss.isValue(e.parametersDatasource)){this.$4=e.parametersDatasource}var pE=this.getDataSourceCount(true);if(ss.isValue(e.schemaViewerDataSources)){this.$1=this.$1||new ec(this);this.$1.update(e.schemaViewerDataSources,ex)}if(this.getDataSourceCount(true)>pE){this.notifyNewDataSourceAdded(ex,'')}if(ss.isValue(this.pm)){var pF=this.pm.worksheetDataSchemaMap;var pG=e.worksheetDataSchemaMap;jF.mergeMapPresModelDelta(pF,pG)}if(!ss.referenceEquals(e.datasource,this.get_activeDataSourceName())){this.raiseNewActiveDataSourceEvent(ex)}this.swapAndCopyPresModel(e);this.raiseNewDataSchemaEvent(ex)},getDataSource:function(e){return(ss.isNullOrUndefined(this.get_dataSources())?null:this.get_dataSources().getDataSource(e))}});var dY=global.tab.DataSchemaSelectionModel=ss.mkType(a,'tab.DataSchemaSelectionModel',function(){this.$2$1=null;jC.call(this,null,new kA('doc:data-schema-selection-event'.toString(),null))},{add_selectionChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_selectionChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_notificationId:function(){return'doc:data-schema-selection-event'},$2:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return null}var ex=[];for(var pC=0;pC<e.fieldVector.length;pC++){var pD=e.fieldVector[pC];ex.push(pD)}return ex},onNotify:function(e,ex){this.swapPresModel(e);this.$1()},$1:function(){if(!ss.isValue(this.$2$1)){return}var e=null;e=ss.mkdel(this,function(){this.$2$1(this.$2());cw.get().remove_commandQueueComplete(e)});cw.get().add_commandQueueComplete(e)}});var dZ=global.tab.DataSourceDataModel=ss.mkType(a,'tab.DataSourceDataModel',function(e){this.$2$1=null;this.$2$2=null;this.numRows=0;this.isEmpty=false;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=null;jC.call(this,e,new kA('',0));this.numRows=0;this.isEmpty=true;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=new dV(this)},{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_stopNotifying:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_stopNotifying:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_notificationId:function(){return'doc:update-data-source-data-event'},onNotify:function(e,ex){this.onNotify$1(e,ex)},onNotify$1:function(e,ex){if(ss.isValue(e)){this.update(e,ex)}},detachNotifications:function(){if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},getColumnByName:function(e){if(ss.isValue(this.columnInfoLookup)){return this.columnInfoLookup[e]}return null},clearModel:function(){this.numRows=0;this.isEmpty=true;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=new dV(this)},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}if(!e.isValid){this.clearModel();this.raiseEvent(this.$2$1,ex);return}this.pm=e;this.numRows=e.numRows;this.isEmpty=e.isEmpty;this.isExtract=e.isExtract;this.dataDictionaryModel.update(e.dataDictionary);this.columnInfoLookup={};for(var pC=0;pC<e.columnInfos.length;pC++){var pD=e.columnInfos[pC];var pE=new eW(null);pE.update(pD);var pF=pE.get_fieldName();this.columnInfoLookup[pF]=pE}this.raiseEvent(this.$2$1,ex)}});var ea=global.tab.DataSourceFieldSection=ss.mkEnum(a,'tab.DataSourceFieldSection',{dimensions:0,measure:1,groups:2,parameters:3,containers:4,topLevelDimensions:5,topLevelMeasures:6});var eb=global.tab.DataSourceModel=ss.mkType(a,'tab.DataSourceModel',function(e,ex){this.$5=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.baseColumnsModel=null;this.$2$4=0;jC.call(this,e,new kA(ex,0));this.baseColumnsModel=new fD('fieldList',this)},{add_captionChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_captionChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_canAnalyzeDataChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_canAnalyzeDataChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_sortOrderChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_sortOrderChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_name:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.datasource)){return''}return this.pm.datasource},get_caption:function(){return this.pm.datasourceCaption},get_connectionsTypeSummary:function(){var e='';if(ss.isValue(this.pm)&&ss.isValue(this.pm.connectionSummaries)){var ex=true;for(var pC=0;pC<this.pm.connectionSummaries.length;pC++){var pD=this.pm.connectionSummaries[pC];var pE=(ex?'':', ');var pF=pD.connectionName.toString().split(String.fromCharCode(46))[0];e=e+pE+pF;ex=false}}return e},get_rootFieldsNew:function(){return this.baseColumnsModel.rootFieldsNew},get_dataSourceLayoutPresModel:function(){return this.pm.dataSourceLayout},get_isHierarchical:function(){return this.pm.isDsHierarchical},get_isParametersDataSource:function(){return ss.equals(this,bd.get_instance().get_workbook().get_dataSchema().get_parametersDataSource())},get_fieldOrderType:function(){return(ss.isValue(this.pm)?this.pm.fieldOrderType:'datasource-order')},get_fieldSortOrder:function(){return ss.isValue(this.pm)&&this.pm.fieldSortOrder},get_isDataTabViewSupported:function(){return this.pm.isWebDataTabViewSupported},get_shouldShowDataSourceConnectionError:function(){return this.pm.shouldShowDataSourceConnectionError},get_shouldShowInSchemaViewer:function(){return this.pm.canBeAddedToSchemaViewer},get_canAnalyzeData:function(){return ss.isValue(this.pm)&&this.pm.canAnalyzeData},get_canUseMultipleHierarchies:function(){return ss.isValue(this.pm)&&this.pm.canUseMultipleHierarchies},get_measuresHeaderName:function(){return((ss.isValue(this.pm)||ss.isNullOrUndefined(this.pm.measuresHeaderName))?tab.Strings.AuthSchemaViewerHeaderMeaures:this.pm.measuresHeaderName.toString())},get_specifiedWidth:function(){return this.$2$4},set_specifiedWidth:function(e){this.$2$4=e},getCustomOrders:function(){return this.pm.customFieldOrder},getFilteredFields:function(e){var ex=[];var pC=this.baseColumnsModel.get_allFields();for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];if(e(pE)){ex.push(pE)}}return ex},findField:function(e){var ex=this.baseColumnsModel.findField(e);if(ss.isValue(ex)){return ex}return(ss.isValue(this.$5)?this.$5.findField(e):null)},findDrillPath:function(e){return this.baseColumnsModel.findDrillPath(e)},findFieldContainer:function(e){return this.baseColumnsModel.findFieldContainer(e)},getFolderModel:function(e,ex){var pC=this.findFolderNew(e);if(ss.isNullOrUndefined(pC)){pC=this.findFieldContainer(e)}return pC},findFolderNew:function(e){return this.baseColumnsModel.findFolderNew(e)},findRelationalTable:function(e){return this.baseColumnsModel.findRelationalTable(e)},findCubeFolder:function(e){return this.baseColumnsModel.findCubeFolder(e)},findConnectionSummaryPresModel:function(e){return _.find(this.pm.connectionSummaries,function(ex){return ss.referenceEquals(ex.connectionName,e)})},$3:function(e){this.raiseEvent(this.$2$1,e)},$2:function(e){this.raiseEvent(this.$2$2,e)},$4:function(e){this.raiseEvent(this.$2$3,e)},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.pm)||!ss.referenceEquals(this.pm.datasourceCaption,e.datasourceCaption)){this.$3(ex)}if(ss.isNullOrUndefined(this.pm)||this.pm.canAnalyzeData!==e.canAnalyzeData){this.$2(ex)}if(ss.isNullOrUndefined(this.pm)||this.pm.fieldOrderType!==e.fieldOrderType||this.pm.fieldSortOrder!==e.fieldSortOrder){this.$4(ex)}var pC=this.$1();var pD=false;eb.$1(e,pC,function(){pD=true});if(pD){this.baseColumnsModel.update$1(pC,ex)}if(ss.isValue(e.columnList)){this.$5=this.$5||new fD('columnList',this);this.$5.update(e.columnList,ex)}this.swapAndCopyPresModel(e)},$1:function(){var e={};e[0]=[];e[1]=[];e[2]=[];e[3]=[];e[4]=[];e[5]=[];e[6]=[];return e}},{splitGlobalFieldName:function(e){return eb.$3(e).split('].[')},$3:function(e){var ex=e;if(ex.length>=2&&ex.charCodeAt(0)===91&&ex.charCodeAt(ex.length-1)===93){return ex.substr(1,ex.length-2)}return ex},$1:function(e,ex,pC){eb.$2(e.topLevelFields,ex,pC);eb.$0(0,e.dimensionsFieldList,ex,pC);eb.$0(1,e.measuresFieldList,ex,pC);eb.$0(2,e.setsFieldList,ex,pC);eb.$0(3,e.parametersFieldList,ex,pC)},$2:function(e,ex,pC){if(ss.isValue(e)){eb.$0(5,e.dimensionsFieldList,ex,pC);eb.$0(6,e.measuresFieldList,ex,pC);eb.$0(4,e.fieldContainerList,ex,pC)}},$0:function(e,ex,pC,pD){if(ss.isValue(ex)){var pE=pC[e];pC[e]=pE.concat.apply(pE,ex);pD()}}});var ec=global.tab.DataSourcesModel=ss.mkType(a,'tab.DataSourcesModel',function(e){this.$1=null;jC.call(this,e,new kA('schemaViewerDataSources'.toString(),null));this.$1={}},{get_dataSources:function(){return _.values(this.$1)},getDataSource:function(e){return this.$1[e]},update:function(e,ex){var pC=_.keys(e);for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];var pF=e[pE];if(pF===null){delete this.$1[pE]}else{var pG=this.$1[pE];if(ss.isNullOrUndefined(pG)){pG=new eb(this,pE);this.$1[pE]=pG}pG.update(pF,ex)}}if(ss.isValue(this.pm)){jF.mergeMapPresModelDelta(this.pm,e)}this.swapPresModel(e)}});var ed=global.tab.DeepCompareUtils=ss.mkType(a,'tab.DeepCompareUtils',function(){},null,{$2:function(){return tab.Logger.lazyGetLogger(ed)},$0:function(e,ex,pC,pD){var pE=e;var pF=ex;if(pE.length!==pF.length){return false}for(var pG=0;pG<pE.length;pG++){if(!ed.$1(pE[pG],pF[pG],pC,pD)){return false}}return true},$1:function(e,ex,pC,pD){if(!ss.referenceEquals(ss.getInstanceType(e),ss.getInstanceType(ex))){return false}else if(_.isNumber(e)){if(Math.abs(e-ex)>pC){return false}}else if(_.isObject(e)){if(!ed.deepCompare(e,ex,pC,pD)){return false}}else if(_.isArray(e)){return ed.$0(e,ex,pC,pD)}else if(!_.isEqual(e,ex)){return false}return true},deepCompare:function(e,ex,pC,pD){if(ss.count(Object.keys(e))!==ss.count(Object.keys(ex))){}var pE=true;var pF=new ss.ObjectEnumerator(e);try{while(pF.moveNext()){var pG=pF.current();if(pG.key==='geoTable'){continue}if(!ss.keyExists(ex,pG.key)){return false}var pH=pG.value;var pI=ex[pG.key];pE=pE&&ed.$1(pH,pI,pC,pD+'.'+pG.key)}}finally{pF.dispose()}return pE}});var ee=global.tab.DefaultCommandDispatcher=ss.mkType(a,'tab.DefaultCommandDispatcher',function(){},{dispatch:function(e,ex){return function(pC){var pD=$.Deferred();var pE=function(pH){pD.resolve(new ex(pH))};var pF=function(pH){pD.reject(pH)};var pG=new co(pC.get_uiBlocking(),pC.get_localWork(),pC.get_remoteCommand(),pE,pF);pG.set_useGlobalConnectionErrorHandling(!pC.get_suppressConnectionDialog());pG.set_commandWaiter(pC.get_commandWaiter());cw.SendCommand(pG);return pD.promise()}}},{get_instance:function(){ee.$0=ee.$0||new ee;return ee.$0}});var ef=global.tab.DefaultSessionErrorHandler=ss.mkType(a,'tab.DefaultSessionErrorHandler',function(e,ex,pC){this.$b=null;this.$a=null;this.$c=null;this.$b=e;this.$a=ex;this.$c=pC},{checkForErrorDialogFailure:function(e){var ex=false;if(ss.isNullOrUndefined(e)){return false}if(ss.referenceEquals(e.commandName,{ns:'tabdoc',cmd:'show-detailed-error-dialog'}.cmd)){ex=true}return ex},handleCommandFailure:function(e,ex,pC,pD){if(tabBootstrap.ViewerBootstrap.get_instance().get_sessionBeingCleared()){return false}var pE=this.checkForErrorDialogFailure(pC);if(pE){this.handleErrorDialogFailure(pC);return true}tab.ErrorTrace.addExtraInfo('status-xhr.Status');if(ex.status===410||ex.status===404){this.handleSessionExpiration(false)}else if(ex.status===403){}else if(ex.status===401){this.handleAuthenticationFailure()}else if(ex.status===502||ex.status===503){this.handleSessionKilled(null,false)}else if(ex.status===413){this.handleSessionResourceLimitExceeded()}else if(ex.status===408){this.handleSessionTimeoutLimitExceeded()}else if(ex.status===429){this.handleTooManyRequests()}else if(ex.status===0){this.$8(e,ex)}else if(ss.isNullOrUndefined(pD)||!pD){this.$3(ex,e)}return true},$8:function(e,ex){var pC;if(!tab.MiscUtil.isNullOrEmpty$1(ex.responseText)){var pD=new ss.StringBuilder;pD.append('XHR Response Status: 0\nReadyState:');pD.append(ex.readyState);pD.append('\nHeaders:\n');pD.append(ex.getAllResponseHeaders());pD.append('\nResponse:\n');pD.append(ex.responseText);pC=ss.mkdel(this,function(){this.$b.ShowErrorDialog(pD.toString(),tab.Strings.RequestAbortedByBrowser,null)})}else{pC=ss.mkdel(this,function(){this.$3(ex,e)})}window.setTimeout(pC,5000)},handleSessionExpiration:function(e){var ex=oP.createForCurrentWindowLocation(null);if(e&&ex.get_retry()){throw new ss.Exception('Failed to re-initialize session')}this.reloadPage(e,0)},handleAuthenticationFailure:function(){this.reloadPage(false,0)},$5:function(e,ex){var pC=ss.replaceAllString(bn.getErrorMessageFromStringOrException(ex),'XMLHttpTransport.watchInFlight Error: ','');pC=ss.replaceAllString(pC,'XMLHttpTransport Error: ','');if(e.status<400){pC=tab.Strings.BrowserErrorProcessingMessage+'<br>'+pC}else if(e.status===400||e.status===409){var pD=null;if(ss.isValue(e.responseText)){try{var pE=JSON.parse(e.responseText);pD=pE.message+'<br>'}catch(pG){}}if(ss.isValue(pD)){pC=pD}else{pC=tab.Strings.ServerErrorRejectedMessage+'<br>'}}else{var pF=e.responseText;try{pF=pF.replace(new RegExp('\n(?=s*[A-Z])','g'),'<li>').replace(new RegExp('\n','g'),'<br>');pF='<ul><li>'+pF+'</ul>'}catch(pG){pF=ft.stripOutMarkup(pF)}if(ss.isNullOrEmptyString(pF)){pC=tab.Strings.ServerErrorGeneral(e.status)+'<br>'}else{pC=pF}}return pC},$6:function(e){var ex=tab.Strings.ServerErrorUnexpected;if(e.status<400){ex=tab.Strings.BrowserErrorProcessing}else if(e.status===400){ex=tab.Strings.ServerErrorRejected}return ex},$7:function(){return oP.createForCurrentWindowLocation(null).get_retryBootstrapAttempts()},handleErrorDialogFailure:function(e){var ex=e.commandParams['errorDialogTitle'];var pC=e.commandParams['errorShortMessage'];var pD=e.commandParams['errorDetails'];if(ss.isValue(pD)){pC=((pD.length>0)?(pC+'<br/>'+pD.join('<br/>')):pC)}this.$b.ShowLocalErrorDialog(pC,ex,null)},$3:function(e,ex){if(e.status!==0){this.$b.ShowErrorDialog(this.$5(e,ex),this.$6(e),null)}},$1:function(e,ex,pC){e=ss.coalesce(e,'').trim();e=ft.stripOutMarkup(e);var pD=new tab.NonApiCommand('tableau.completed',[]);tabBootstrap.Utility.doPostMessage(pD.serialize());var pE=tab.Strings.UnhandledExceptionMessage(tsConfig.sessionid,e);if(!ss.isNullOrEmptyString(e)){pE+='<br/><br/>'}pE+=pC;this.$b.showConfirmationDialog(pE,ex,true,ss.mkdel(this,function(){this.$9(0)}),null)},$0:function(e){this.$2(true,e)},$4:function(){this.$2(false,0)},$2:function(e,ex){var pC=tab.Strings.SessionEndedAlertTitle;var pD=(e?tab.Strings.SessionEndedAlertMessage:null);this.$a.showModalErrorBanner(pC,pD,ss.mkdel(this,function(){this.$9(ex)}),false)},$9:function(e){this.requestSetIgnore();this.reloadPage(false,e)},reloadPage:function(e,ex){document.body.style.cursor='wait';var pC=tsConfig.repositoryUrl||tsConfig.origin_repository_url;var pD=oP.createForCurrentWindowLocationAndVizState(pC,tsConfig.current_sheet_name);pD.set_retry(e);pD.explicitNotGuest=tsConfig.is_authoring&&!tsConfig.is_guest;pD.set_retryBootstrapAttempts(ex);pD.fullPageLoad(null)},handleSessionForbiddenAction:function(e,ex){var pC=tab.Strings.SessionForbiddenActionTitle;var pD=tab.Strings.SessionForbiddenActionMsg+' ('+e+')\n'+ex;this.$b.ShowErrorDialog(pD,pC,null)},handleSessionResourceLimitExceeded:function(){var e='Computing the current visualization has exceeded the resource limit.';e+='\n';e+=tab.Strings.PressBackButtonMessage;var ex='Resource Limit Exceeded';this.$b.ShowErrorDialog(e,ex,null)},handleSessionTimeoutLimitExceeded:function(){if(ef.$4){return}var e=tab.Strings.TimeLimitExceededWarning;e+='\n';e+=tab.Strings.PressBackButtonMessage;var ex=tab.Strings.TimeLimitExceededTitle;ef.$4=true;this.$b.ShowErrorDialog(e,ex,null)},handleTooManyRequests:function(){var e=tab.Strings.RequestCountExceededWarning;e+='\n';e+=tab.Strings.PressBackButtonMessage;var ex=tab.Strings.RequestCountExceededTitle;this.$b.ShowErrorDialog(e,ex,null)},handleSessionKilled:function(e,ex){if(tab.FeatureFlags.isEnabled('PublicToastSessionErrors')){if(ex){var pC=this.$7();if(pC<2){this.$9(pC+1)}else if(pC-2<2){this.$0(pC+1)}else{this.$4()}}else{this.$0(0)}}else{this.$1(e,tab.Strings.SessionEndedAlertTitle,tab.Strings.SessionEndedAlertMessage)}},handleUnknownErrorStatus:function(e){this.$1(e,tab.Strings.SessionUnknownErrorTitle,tab.Strings.SessionEndedAlertMessage)},requestSetIgnore:function(){ef.$1(this.$c)}},{$1:function(e){var ex={error:null,success:null,type:'POST',url:e+'/setignore/sessions'};var pC=ss.mkdict(['_method','PUT','target',tsConfig.sessionid]);ex.data=pC;ex.async=false;ef.$0(ex,null)},$0:function(e,ex){return px.helper(e,ex)}});var eg=global.tab.DeferLayoutImpl=ss.mkType(a,'tab.DeferLayoutImpl',function(){this.$1=false;this.$0=false},{get_isZoomin:function(){return this.$0},set_isZoomin:function(e){this.$0=e},shouldDeferLayoutUpdates:function(){return this.$1},setDeferLayoutUpdates:function(e){this.$1=e}},{get_instance:function(){if(ss.isNullOrUndefined(eg.$0)){eg.$0=new eg}return eg.$0}});var eh=global.tab.DeferredConnectionsCommandHandler=ss.mkType(a,'tab.DeferredConnectionsCommandHandler',function(e){this.$7=null;this.$8=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad');this.$9=new Map;this.$7=e},{handle:function(e,ex){if(!this.$8||ss.isValue(ex)&&!ex.get_useGlobalConnectionErrorHandling()){return false}if(ss.isNullOrUndefined(e)){return false}var pC=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize$1(e.get_message());if(ss.isNullOrUndefined(pC)){return false}var pD=e['status'];if(ss.isNullOrUndefined(pD)){return false}if(!eh.shouldHandleErrorWithGivenHttpStatus(pD)){return false}this.$0(ex,pC,null,false);return true},$1:function(e,ex,pC){if(!this.$8){return}if(pC){e=eh.constructEnsureLayoutForSheetCommand()}if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.dataSourceConnectionAttemptInfos)||ex.dataSourceConnectionAttemptInfos.length===0){return}var pD=this.getFirstDataSource(ex);var pE=new tab.DataSourceConnectionAttemptErrorResponse;pE.ErrorType=pD.exceptionType;pE.ErrorMessage=pD.exceptionMessage;pE.DataSourceCaption=pD.datasourceCaption;pE.ConnectionName=dQ.connectionNameFromFullConnectionName(pD.connectionFullName);pE.ConnectionClass=((ss.isValue(pD.exceptionAttrs)&&ss.keyExists(pD.exceptionAttrs,'class'))?pD.exceptionAttrs['class']:null);var pF=pE;if(eh.isBadPasswordError(pD.exceptionType)){var pG=eh.$0(pD);pF.RedirectUrl=pG}else{pF.ErrorMessage=pD.exceptionMessage}if(this.$4(e,pF,ex)){return}var pH=!pD.triedToConnect;this.$0(e,pF,ex,pH)},handlePotentialDataSourceException:function(e,ex,pC){if(ss.isValue(e)&&ss.referenceEquals(e.get_commandName(),{ns:'tabsrv',cmd:'revert-workbook'}.cmd)){this.$9=new Map}if(!this.$8||ss.isValue(e)&&!e.get_useGlobalConnectionErrorHandling()){return}if(!ss.isNullOrUndefined(ex)){this.$1(e,ex.connectionAttemptInfo,pC)}},handlePotentialBootstrapDataSourceException:function(e){if(!this.$8){return}if(!ss.isNullOrUndefined(e)){this.$1(null,e.connectionAttemptInfo,true)}},getFirstDataSource:function(e){return(ss.isValue(e)?e.dataSourceConnectionAttemptInfos[0]:null)},trackUploadedDataSource:function(e){this.$9.set(e.connectionName,e)},$0:function(e,ex,pC,pD){if(eh.isBadOAuthCredentialsError(ex.ErrorType)){tab.WindowHelper.locationReplace(window.self,ex.RedirectUrl);return}if(!ss.isNullOrEmptyString(ex.RedirectUrl)){var pE=(pD?'&skippopup=1':'');ex.RedirectUrl=ss.formatString('{0}{1}&vizqlSessionId={2}',ex.RedirectUrl,pE,tsConfig.sessionid)}e.reEnqueueCompletedCommandRecords();var pF=function(){e.clearCommandResults();cw.SendCommand(e)};var pG=ss.mkdel(e,e.triggerCallbacks);var pH=ss.isValue(e.get_commandName())&&ss.equalsT(e.get_commandName(),{ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.cmd);var pI=ss.isValue(e.get_commandName())&&ss.equalsT(e.get_commandName(),{ns:'tabdoc',cmd:'change-workbook-ui-mode'}.cmd);var pJ=eh.isBadPasswordError(ex.ErrorType);if(pH){this.$2(ex,pC,pJ,pF)}else{this.$3(ex,pC,pJ,pI,pF,pG)}},$2:function(e,ex,pC,pD){var pE=this.getFirstDataSource(ex);var pF=ss.mkdel(this,function(){this.$7.showSheetAuthenticationOverlay(e,ex,pD)});if(pC){if(pE.triedToConnect){if(!nD.useTabbedAuthDialog(ex)){this.$7.showConnectionSignInDialog(ex,false).done([pD]).fail([pF])}else{var pG=this.$7.showConnectionSignInDialog(ex,false);var pH=function(pJ,pK){pG.resolve()};var pI=function(pJ,pK){pG.reject()};bd.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-closed-event',pI);bd.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-connected-event',pH);pG.done([pD]).fail([pF])}}else{pF()}}else{eh.$2(pE).done(ss.mkdel(this,function(pJ){if(pJ){this.$7.showEditConnectionInformationDialog(pE,false).done(ss.mkdel(this,function(pK){if(!pK){mN.ensureLayoutForSheet(tsConfig.current_sheet_name);this.$7.showGenericDataSourceErrorOverlay(e,pE,pD)}}))}else{this.$7.showGenericDataSourceErrorOverlay(e,pE,pD)}}))}},$3:function(e,ex,pC,pD,pE,pF){var pG=this.getFirstDataSource(ex);if(pC&&!pD){if(!nD.useTabbedAuthDialog(ex)){this.$7.showConnectionSignInDialog(ex,pD).done([pE]).fail([pF])}else{var pH=this.$7.showConnectionSignInDialog(ex,false);var pI=function(pK,pL){pH.resolve()};var pJ=function(pK,pL){pH.reject()};bd.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-closed-event',pJ);bd.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-connected-event',pI);pH.done([pE])}}else{eh.$2(pG).done(ss.mkdel(this,function(pK){if(pK){this.$7.showEditConnectionInformationDialog(pG,pD).done(function(pO){if(!pO&&!pD){mN.ensureLayoutForSheet(tsConfig.current_sheet_name)}pF()})}else if(pC){if(!nD.useTabbedAuthDialog(ex)){this.$7.showConnectionSignInDialog(ex,pD).done([pE]).fail([pF])}else{var pL=this.$7.showConnectionSignInDialog(ex,false);var pM=function(pO,pP){pL.resolve()};var pN=function(pO,pP){pL.reject()};bd.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-closed-event',pN);bd.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-connected-event',pM);pL.done([pE]).fail([pF])}}else{this.$7.showGenericDataSourceErrorDialog(e,pE,pF)}}))}},$4:function(e,ex,pC){var pD=this.getFirstDataSource(pC);if(eh.$1()&&pD.connectionErrorType==='exception-while-connecting'&&ss.isValue(ex.ConnectionClass)){var pE=ex.ConnectionClass;if(!ss.contains(cQ.get_getSupportedFileClasses(),pE)){return false}e.reEnqueueCompletedCommandRecords();var pF=function(){e.clearCommandResults();cw.SendCommand(e)};if(pD.connectionErrorStage==='create-protocol-failed'){if(this.$6(e,ex,pC,pE,pF)){return true}}if(pD.connectionErrorStage==='load-metadata-failed'&&bd.get_instance().get_workbook().get_uiMode()!=='data-tab'&&dQ.isEditConnectionForFilesSupported(pE)){var pG=this.$7.showEditConnectionInformationDialog(pD,false);pG.done(ss.mkdel(this,function(pH){if(!pH){this.$0(e,ex,pC,!pD.triedToConnect)}}));return true}}return false},$6:function(e,ex,pC,pD,pE){var pF=this.getFirstDataSource(pC);var pG=dQ.connectionNameFromFullConnectionName(pF.connectionFullName);if(this.$9.has(pG)){var pH=this.$9.get(pG);var pI=pH.fileNames;if(pI.length>0){this.$5(e,ex,pC,pE,pF,pG,pI[0],pH.dsClass);return true}}if(pD==='excel'||pD==='excel-direct'){var pJ='';if(ss.keyExists(pF.exceptionAttrs,'filename')){var pK=pF.exceptionAttrs['filename'];pJ=dQ.stripDirectoryFromPath(pK)}this.$5(e,ex,pC,pE,pF,pG,pJ,'excel-direct');return true}else if(pD==='textscan'){var pL='';if(ss.keyExists(pF.exceptionAttrs,'directory')){pL=pF.exceptionAttrs['directory']}this.$5(e,ex,pC,pE,pF,pG,pL,'textscan');return true}return false},$5:function(e,ex,pC,pD,pE,pF,pG,pH){var pI=this.$7.showConnectionMissingFileDialog(pG,pF,pH);pI.done(ss.mkdel(this,function(pJ){if(!pJ){this.$0(e,ex,pC,!pE.triedToConnect)}else{pD()}}))}},{shouldHandleErrorWithGivenHttpStatus:function(e){switch(e){case 401:case 503:case 500:case 400:{return true}default:{return false}}},constructEnsureLayoutForSheetCommand:function(){var e=mN.createSwitchSheetsCommand(tsConfig.current_sheet_name);e.commandParams['forceConnectionAttempt']=true;return kZ.create(e,'immediately',null,null)},$0:function(e){var ex={};ex['exception']='DataSourceException';ex['name']=e.datasourceCaption;ex['message']=e.exceptionMessage;ex['type']=e.exceptionType;ex['authoring']=tsConfig.is_authoring;ex['attributes']=e.exceptionAttrs;var pC=ss.formatString('{0}/{1}/embeddedVizAuthentication.html?',BrowserSupport.BrowserSupport.GetOrigin(document.location),tsConfig.language);pC=ss.formatString('{0}path={1}',pC,encodeURIComponent((tsConfig.is_authoring?oP.createForCurrentWindowLocation(null).get_absoluteUri():tsConfig.requestURI.toString())));pC=ss.formatString('{0}&attributes={1}',pC,encodeURIComponent(JSON.stringify(ex)));return pC},isBadPasswordError:function(e){e=e.toLowerCase();var ex=ss.equalsT('badpassword',e)||ss.equalsT('badoauthcredentials',e)||ss.equalsT('NoAssociatedCustomOAuthKey'.toLowerCase(),e);return ex},isBadOAuthCredentialsError:function(e){return ss.compareStrings(e,'badoauthcredentials',true)===0||ss.compareStrings(e,'NoAssociatedCustomOAuthKey',true)===0},$1:function(){return tsConfig.is_authoring&&tab.MiscUtil.shouldShowDataTab()},$2:function(e){var ex=$.Deferred();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.exceptionAttrs)){ex.resolve(false)}else{var pC=e.exceptionAttrs['class'];dQ.isDatabaseClassSupportedInReconnectFlow(pC).done(function(pD){ex.resolve(eh.$1()&&dQ.isDataTabSupportedForDataSource(e.datasource)&&pD)})}return ex.promise()},$3:function(e,ex,pC){var pD=$.Deferred();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.exceptionAttrs)||!ex||!pC){pD.resolve(false)}else{var pE=e.exceptionAttrs['class'];dQ.isTableauServerSupportedInReconnectFlow(pE).done(function(pF){pD.resolve(pF)})}return pD.promise()}});var ei=global.tab.DeferredConnectionsSessionErrorHandler=ss.mkType(a,'tab.DeferredConnectionsSessionErrorHandler',function(){this.$0=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')},{handleCommandFailure:function(e,ex,pC,pD){if(!this.$0){return false}if(!eh.shouldHandleErrorWithGivenHttpStatus(ex.status)){return false}var pE=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize$1(ex.responseText);if(ss.isNullOrUndefined(pE)){return false}return true}});var ej=global.tab.DeferredModelEventHandler=ss.mkType(a,'tab.DeferredModelEventHandler',function(){this.$0=null;this.exceptionHandler=null},{dispose:function(){this.fireDeferredEvents()},fireDeferredEvents:function(){var ex=this.$0;this.$0=null;if(ss.isNullOrUndefined(ex)){return}for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];try{pD()}catch(pE){var e=ss.Exception.wrap(pE);if(!ss.staticEquals(this.exceptionHandler,null)){this.exceptionHandler(e)}}}},processEvent:function(e){if(ss.isNullOrUndefined(this.$0)){this.$0=[]}this.$0.push(e)}});var ek=global.tab.DeferredNotifications=ss.mkType(a,'tab.DeferredNotifications',null,null,{registerHandler:function(e,ex){var pC=function(){var pD=$.Deferred();pD.resolve(ex());return pD.promise()};ek.$0(e,pC)},registerHandlerFromModule:function(e){return function(ex,pC){var pD=function(){var pE=jk.get_waitHandler();pE.addref(true,true);var pF=$.Deferred();jH.load$1(e).call(null,[]).done(function(pG){pF.resolve(pC(pG))}).always(function(){pE.release()});return pF.promise()};ek.$0(ex,pD)}},registerHandlerFromJsModule:function(e,ex,pC){var pD=function(){var pE=$.Deferred();jH.load(e,[]).done(function(pF){pE.resolve(pC(pF))});return pE.promise()};ek.$0(ex,pD)},$0:function(e,ex){var pC=new C(e,ex);bd.get_holder().addEventBinding(function(pD){pD.registerNotificationHandler(e,ss.mkdel(pC,pC.onNotify))},function(pD){pD.unRegisterNotificationHandler(e,ss.mkdel(pC,pC.onNotify))})}});var el=global.tab.DeleteDashboardLayoutCmd=ss.mkType(a,'tab.DeleteDashboardLayoutCmd',function(){ss.makeGenericType(bl,[Object,em]).call(this)},{get_commandId:function(){return el.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'delete-dashboard-layout'},this.c))}});var em=global.tab.DeleteDashboardLayoutCmd$Response=ss.mkType(a,'tab.DeleteDashboardLayoutCmd$Response',function(e){this.$$c=null;this.$$c=e});var en=global.tab.DesktopCommandHandler=ss.mkType(a,'tab.DesktopCommandHandler',function(e){this.$6=null;this.$4=0;this.$5=null;this.$1$1=null;this.$1$2=null;this.$6=e;this.$6.registerCommandCompletedHandler(en.$0);this.$5=new z;this.$5.$3(ss.mkdel(this,this.$2))},{add_onRemoteCommandResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onRemoteCommandResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onRemoteCommandException:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onRemoteCommandException:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},$0:function(){return this.$5},executeSingleRemoteCommand:function(e,ex,pC){if(this.$5.$2(e,ex,pC)===0){return}performance.mark('begin-command:'+e.commandName);var pD=tabBootstrap.MetricsController.createContext('EXEREM'.toString(),4,e.commandName);var pE=this.$6.executeCommand(e.commandNamespace,e.commandName,e.commandParams);var pF=this.$1(this.$4,e,pC);var pG=pE.then(this.$3(this.$4,e,ex,pF,pD),pF);this.$4=this.$4+1>>>0},$1:function(e,ex,pC){return ss.mkdel(this,function(pD){var pE=ss.safeCast(pD,ss.Exception);this.$2(e,ex,pE);pC(pE)})},$3:function(e,ex,pC,pD,pE){return ss.mkdel(this,function(pF){performance.mark('end-command:'+ex.commandName);performance.measure('Native Command:'+ex.commandName,'begin-command:'+ex.commandName,'end-command:'+ex.commandName);pE.dispose();var pG=tabBootstrap.CommandResponseHandler.getException(pF);if(ss.isValue(pG)){pD(pG);return}if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e,ex,pF)}pC(tabBootstrap.CommandResponseHandler.getCommandReturnValue(pF,ex),null)})},cancelRunningCommand:function(e,ex,pC){throw new ss.NotImplementedException},$2:function(e,ex,pC){if(!ss.staticEquals(this.$1$2,null)){this.$1$2(e,ex,pC)}}},{$0:function(){pv.getWorldUpdate(function(){})}});var eo=global.tab.DesktopViewDataDialog=ss.mkType(a,'tab.DesktopViewDataDialog',function(){},{open:function(e){if(ss.isNullOrUndefined(e)||e.get_commandType()!==7){return}mp.executeServerCommand(e.command,'immediately',null,null)},open$1:function(e){throw new ss.NotImplementedException}},{create:function(e){return new eo}});var ep=global.tab.DeviceLayoutInfoItemModel=ss.mkType(a,'tab.DeviceLayoutInfoItemModel',function(e){this.$1=null;this.$2=null;this.$2$1=null;jC.call(this,e,new kA('deviceLayoutInfoItem'.toString(),null));this.$1=[];this.$2=new j(new i(this))},{add_layoutInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_presetSizes:function(){return this.$1},get_defaultWidth:function(){return this.pm.defaultWidth},get_defaultHeight:function(){return this.pm.defaultHeight},get_defaultMaxWidth:function(){return this.pm.maxWidth},get_defaultMaxHeight:function(){return this.pm.maxHeight},get_defaultMinWidth:function(){return this.pm.minWidth},get_defaultMinHeight:function(){return this.pm.minHeight},update:function(e,ex){if(ss.isValue(e.presetSizesList)){this.$1.length=0;for(var pC=0;pC<e.presetSizesList.sizeItems.length;++pC){var pD=new nl(this.$2,pC);pD.update(e.presetSizesList.sizeItems[pC],ex);this.$1.push(pD)}}this.simpleSwapToUpdate(e,this.$2$1,ex)}},{$ctor1:function(e,ex){this.$1=null;this.$2=null;this.$2$1=null;jC.call(this,e,new kA(ex.toString(),null));this.$1=[];this.$2=new j(new i(this))}});var eq=global.tab.DeviceLayoutMetadataModel=ss.mkType(a,'tab.DeviceLayoutMetadataModel',function(e){this.$3=null;this.$4=null;this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;jC.call(this,e,new kA('deviceLayoutInfo'.toString(),null));this.$3=new et(this);this.$4=new ev(this);this.$2=null},{add_isLayoutCustomizedChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_isLayoutCustomizedChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_isSizeCustomizedChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_isSizeCustomizedChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_deviceLayoutZoneInfosChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_deviceLayoutZoneInfosChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},$1:function(){return ss.coalesce(this.pm,eq.$1)},get_isLayoutCustomized:function(){return ss.coalesce(this.$1().isDeviceLayoutCustomized,false)},get_isSizeCustomized:function(){return ss.coalesce(this.$1().isDeviceSizeCustomized,false)},get_deviceLayoutZoneInfos:function(){if(ss.isNullOrUndefined(this.$2)){var e={};var ex=this.$4.get_deviceZoneVisibilities();for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];e[pD.get_zoneId()]=pD}this.$2=[];var pE=this.$3.get_deviceZones();for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];var pH=e[pG.get_zoneId()];var pI=this.$2;var pJ=new er;pJ.deviceZoneListItem=pG;pJ.deviceZoneVisibilityListItem=pH;pI.push(pJ)}}return this.$2},update:function(e,ex){if(this.get_isLayoutCustomized()!==e.isDeviceLayoutCustomized){this.raiseEvent(this.$2$1,ex)}if(this.get_isSizeCustomized()!==e.isDeviceSizeCustomized){this.raiseEvent(this.$2$2,ex)}if(ss.isValue(e.deviceZoneList)){this.$2=null;this.$3.update(e.deviceZoneList,ex)}if(ss.isValue(e.deviceZoneVisibilityList)){this.$2=null;this.$4.update(e.deviceZoneVisibilityList,ex)}if(ss.isNullOrUndefined(this.$2)){this.raiseEvent(this.$2$3,ex)}this.swapAndCopyPresModel(e)}});var er=global.tab.DeviceLayoutZoneInfo=ss.mkType(a,'tab.DeviceLayoutZoneInfo',function(){this.deviceZoneListItem=null;this.deviceZoneVisibilityListItem=null});var es=global.tab.DeviceZoneListItemModel=ss.mkType(a,'tab.DeviceZoneListItemModel',function(e,ex){jC.call(this,e,new kA(ex.toString(),null))},{get_deviceZoneListItemPresModel:function(){return this.pm},get_zoneId:function(){return this.get_deviceZoneListItemPresModel().zoneId},get_zoneName:function(){return this.get_deviceZoneListItemPresModel().zoneName},get_label:function(){return this.get_deviceZoneListItemPresModel().label},get_zoneType:function(){return this.get_deviceZoneListItemPresModel().zoneType},get_direction:function(){return this.get_deviceZoneListItemPresModel().zoneDirection},get_formattedText:function(){return this.get_deviceZoneListItemPresModel().zoneText},get_zoneParam:function(){return this.get_deviceZoneListItemPresModel().zoneParam},get_isInDefault:function(){return this.get_deviceZoneListItemPresModel().isInDefault},get_dashboardObjectType:function(){return this.get_deviceZoneListItemPresModel().dashboardObjectType},update:function(e){this.swapAndCopyPresModel(e)}});var et=global.tab.DeviceZoneListModel=ss.mkType(a,'tab.DeviceZoneListModel',function(e){this.$1=null;this.$2=null;this.$2$1=null;jC.call(this,e,new kA('deviceZoneVisibilityList'.toString(),null));this.$1=new I(this);this.$2=[]},{add_deviceZoneListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_deviceZoneListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_deviceZones:function(){return this.$2},update:function(e,ex){if(ss.isValue(e.deviceZoneListItems)){this.$2=[];for(var pC=0;pC<e.deviceZoneListItems.length;++pC){var pD=new es(this.$1,pC);pD.update(e.deviceZoneListItems[pC]);this.$2.push(pD)}}this.simpleSwapToUpdate(e,this.$2$1,ex)}});var eu=global.tab.DeviceZoneVisibilityListItemModel=ss.mkType(a,'tab.DeviceZoneVisibilityListItemModel',function(e,ex){jC.call(this,e,new kA(ex.toString(),null))},{get_deviceZoneVisibilityListItemPresModel:function(){return this.pm},get_zoneId:function(){return this.get_deviceZoneVisibilityListItemPresModel().zoneId},get_isEnabled:function(){return this.get_deviceZoneVisibilityListItemPresModel().isEnabled},get_isVisible:function(){return this.get_deviceZoneVisibilityListItemPresModel().isVisible},update:function(e){this.swapAndCopyPresModel(e)}});var ev=global.tab.DeviceZoneVisibilityListModel=ss.mkType(a,'tab.DeviceZoneVisibilityListModel',function(e){this.$1=null;this.$2=null;this.$2$1=null;jC.call(this,e,new kA('deviceZoneVisibilityList'.toString(),null));this.$1=new J(this);this.$2=[]},{add_deviceZoneVisibilityListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_deviceZoneVisibilityListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_deviceZoneVisibilities:function(){return this.$2},update:function(e,ex){if(ss.isValue(e.deviceZoneVisibilityListItems)){this.$2=[];for(var pC=0;pC<e.deviceZoneVisibilityListItems.length;++pC){var pD=new eu(this.$1,pC);pD.update(e.deviceZoneVisibilityListItems[pC]);this.$2.push(pD)}}this.simpleSwapToUpdate(e,this.$2$1,ex)}});var ew=global.tab.DialogPlugins=ss.mkType(a,'tab.DialogPlugins',function(e,ex){this.$b={};this.$d=null;this.$c=null;this.$d=e||jH.registerRawJsModule;this.$c=ex||ek.registerHandlerFromJsModule;if(!tsConfig.is_desktop){this.$8()}},{$8:function(){this.$a();this.$7('ExtendTimeSeries','@tableau/axis-extension-dialog','axis-extension-dialog','doc:show-extend-time-series-editor-event');this.$7('HybridUnionDialog','@tableau/union-dialog','union-dialog','doc:launch-hybrid-union-dialog-event');this.$7('EditFoundTableDialogWeb','@tableau/edit-found-table-dialog','edit-found-table-dialog','doc:launch-edit-found-table-dialog-event');this.$7('BEAuthoring_DeviceDesigner','@tableau/use-custom-layout-dialog','use-custom-layout-dialog','doc:launch-use-custom-layout-dialog-event');this.$1();this.$3();this.$6('@tableau/text-file-properties-dialog','text-file-properties-dialog','doc:launch-text-file-properties-dialog-event',null);this.$6('@tableau/edit-axis-dialog','edit-axis-dialog','doc:update-edit-axis-dialog-event',null);this.$6('@tableau/parameters-dialog','parameters-dialog','doc:parameter-edit-dialog-event',null).addDependency(this.$0('@tableau/widgets-datagrid','widgets-datagrid'));this.$7('HybridTrendLineEditorDialog','@tableau/trend-line-editor-dialog','trend-line-editor-dialog','doc:update-trend-line-edit-dialog-event');this.$6('@tableau/sort-dialog','sort-dialog','doc:show-sort-dialog-event',null).addDependency(this.$0('@tableau/widgets-datagrid','widgets-datagrid'));this.$6('@tableau/button-config-dialog','button-config-dialog','doc:update-button-config-dialog-event',null);this.$6('@tableau/image-object-config-dialog','image-object-config-dialog','doc:update-image-object-config-dialog-event',null);this.$5();if(tsConfig.is_authoring){this.$6('@tableau/rich-text-editor-hybrid-dialog','rich-text-editor-hybrid-dialog','doc:rich-text-editor-dialog-event',null)}this.$6('@tableau/zone-friendly-name-config-dialog','zone-friendly-name-config-dialog','doc:launch-zone-friendly-name-config-dialog-event',null);this.$7('GotoSheetDialog','@tableau/goto-sheet-dialog','goto-sheet-dialog','doc:launch-goto-sheet-dialog-event');this.$6('@tableau/detailed-error-dialog','detailed-error-dialog','doc:update-detailed-error-dialog-event',{customZIndex:1000,contentClassName:'detailedErrorDialog'});this.$7('DownloadAsVersionHiFi','@tableau/export-as-version-dialog','export-as-version-dialog','doc:launch-export-as-version-dialog-event');this.$4();this.$9();this.$2();if(tab.FeatureFlags.isEnabled('ModularConnectionDialog')&&(tab.FeatureFlags.isEnabled('ModularDialogToWebNewConnection')||tab.FeatureFlags.isEnabled('ModularDialogToWebEditConnection'))){this.$6('@tableau/modular-connection-hybrid-dialog','modular-connection-hybrid-dialog','doc:launch-modular-connection-dialog-event',{customZIndex:1000,contentClassName:'modular-connection-hybrid-dialog-id'})}},$4:function(){var e='export-ui-components';var ex=this.$d('@tableau/'+e,e+'.min',e).andLoadOnDemandIf(true).moduleBeingConfigured;var pC=this.$6('@tableau/export-powerpoint-options-dialog','export-powerpoint-options-dialog','doc:launch-export-power-point-options-dialog-event',null);pC.addDependency(ex);var pD=this.$6('@tableau/export-crosstab-options-dialog','export-crosstab-options-dialog','doc:launch-export-crosstab-options-dialog-event',null);pD.addDependency(ex)},$3:function(){if(!tab.FeatureFlags.isEnabled('ExplainData_PaneUI')){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('AIExplainThisMark_AuthoringMode')||!tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('AIExplainThisMark_ViewingMode')){this.$6('@tableau/automated-insights-modal','automated-insights-modal','doc:open-automated-insights-modal-event',null)}}if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('AIExplainThisMark_AuthoringMode')||!tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('AIExplainThisMark_ViewingMode')){this.$6('@tableau/explain-data-field-chooser-dialog','explain-data-field-chooser-dialog','doc:open-explain-data-field-chooser-dialog-event',null)}if(tab.FeatureFlags.isEnabled('ExplainData_AuthorControls')){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('AIExplainThisMark_AuthoringMode')||!tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('AIExplainThisMark_ViewingMode')){this.$6('@tableau/explain-data-author-control-dialog','explain-data-author-control-dialog','doc:open-explain-data-author-control-dialog-event',null)}}},$a:function(){if(tab.FeatureFlags.isEnabled('WebSharedFilters')){this.$6('@tableau/shared-filter-dialog','shared-filter-dialog','doc:shared-filter-dialog-event',null).addDependency(this.$0('@tableau/widgets-datagrid','widgets-datagrid'))}if(!tab.FeatureFlags.isEnabled('WebFilterDialog')){return}this.$6('@tableau/quantitative-filter-dialog','quantitative-filter-dialog','doc:quantitative-filter-dialog-event',null);this.$6('@tableau/datasource-filter-dialog','datasource-filter-dialog','doc:datasource-filter-dialog-event',null).addDependency(this.$0('@tableau/widgets-datagrid','widgets-datagrid'));this.$6('@tableau/categorical-filter-dialog','categorical-filter-dialog','doc:categorical-filter-dialog-event',null).addDependency(this.$0('@tableau/widgets-datagrid','widgets-datagrid'))},$1:function(){if(!tab.FeatureFlags.isEnabled('ActionsDialogMttwSP1')){return}this.$6('@tableau/dashboard-actions-dialog','dashboard-actions-dialog','doc:update-action-list-dialog-event',null).addDependency(this.$0('@tableau/widgets-datagrid','widgets-datagrid'));this.$6('@tableau/dashboard-actions-dialog','dashboard-actions-dialog','doc:update-filter-action-dialog-event',null).addDependency(this.$0('@tableau/widgets-datagrid','widgets-datagrid'));this.$6('@tableau/dashboard-actions-dialog','dashboard-actions-dialog','doc:update-go-to-sheet-action-dialog-event',null).addDependency(this.$0('@tableau/widgets-datagrid','widgets-datagrid'));this.$6('@tableau/dashboard-actions-dialog','dashboard-actions-dialog','doc:update-highlight-action-dialog-event',null).addDependency(this.$0('@tableau/widgets-datagrid','widgets-datagrid'))},$5:function(){this.$6('@tableau/choose-extension-dialog','choose-extension-dialog','doc:choose-extension-dialog-event',null);this.$6('@tableau/extension-info-dialog','extension-info-dialog','doc:extension-info-dialog-event',null);this.$6('@tableau/extensions-permissions-dialog','extensions-permissions-dialog','doc:permissions-dialog-event',null)},$9:function(){if(!tab.FeatureFlags.isEnabled('MapServicesUIHybridization')){return}this.$6('@tableau/map-services-dialog','map-services-dialog','doc:launch-map-services-dialog-event',null);this.$6('@tableau/map-service-edit-dialog','map-service-edit-dialog','doc:launch-map-service-edit-dialog-event',null);this.$6('@tableau/import-map-conflict-dialog','import-map-conflict-dialog','doc:launch-import-map-conflict-dialog-event',null)},$2:function(){this.$6('@tableau/tabbed-auth-dialog','tabbed-auth-dialog','doc:tabbed-auth-dialog-event',null);this.$6('@tableau/custom-sql-dialog','custom-sql-dialog','doc:launch-custom-sql-dialog-event',null);this.$6('@tableau/initial-sql-dialog','initial-sql-dialog','doc:launch-initial-sql-dialog-event',null);this.$7('AlternativeFederationEngineUserInterface','@tableau/alternative-federation-engine-dialog','alternative-federation-engine-dialog','doc:launch-alternative-federation-engine-dialog-event');this.$6('@tableau/stored-procedures-params-dialog','stored-procedures-params-dialog','doc:launch-stored-procedure-params-dialog-event',null);this.$6('@tableau/relationship-editor-dialog','relationship-editor-dialog','doc:launch-relationship-editor-notification-event',null)},$7:function(e,ex,pC,pD){if(tab.FeatureFlags.isEnabled(e)){this.$6(ex,pC,pD,null)}},$6:function(e,ex,pC,pD){var pE=this.$d(e,ex+'.min',ex).andLoadOnDemandIf(true).moduleBeingConfigured;for(var pF=0;pF<ew.$2.length;pF++){var pG=ew.$2[pF];pE.addDependency(pG)}this.$c(e,pC,ew.getDialogHandlerCreator(pC,pD));return pE},$0:function(e,ex){if(ss.keyExists(this.$b,e)){return this.$b[e]}var pC=jH.registerRawJsModule(e,ex+'.min',ex).andLoadOnDemandIf(true).moduleBeingConfigured;this.$b[e]=pC;return pC}},{getDialogHandlerCreator:function(e,ex){var pC=null;return function(pD){if(ss.isNullOrUndefined(pC)){pC=new kv(pD,e,document.body,ex)}return pC}},$0:function(){var e=[];e.push(ku.dialogApiContract);e.push(ku.menuApiContract);e.push(ku.hybridWidgetsContract);e.push(ku.stylingComponentsContract);return e}});var ey=global.tab.DifferenceTableCalcModel=ss.mkType(a,'tab.DifferenceTableCalcModel',function(e){this.$3$1=null;this.$3$2=null;oa.call(this,e,new kA('differenceTableCalcPresModel'.toString(),null));this.set_referenceModel(new nH(this))},{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_computeCompoundedRate:function(){return this.$1().computeCompoundedRate},get_computeCompoundedRateState:function(){return this.$1().computeCompoundedRateState},update:function(e,ex){var pC=e;if(this.isNewPresModelSameAsOld(pC)){return}this.swapAndCopyPresModel(pC);this.get_referenceModel().update(pC.tableCalcReferenceOptionsPresModel,ex);this.raiseEvent(this.$3$1,ex)}});var ez=global.tab.DisplayDataAlertCmd=ss.mkType(a,'tab.DisplayDataAlertCmd',function(){ss.makeGenericType(bl,[Object,eA]).call(this)},{get_commandId:function(){return ez.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'display-data-alert'},this.c))}});var eA=global.tab.DisplayDataAlertCmd$Response=ss.mkType(a,'tab.DisplayDataAlertCmd$Response',function(e){this.$$c=null;this.$$c=e});var eB=global.tab.DoubleClickRegionNoReturnServerCmd=ss.mkType(a,'tab.DoubleClickRegionNoReturnServerCmd',function(){ss.makeGenericType(bl,[Object,eC]).call(this)},{get_commandId:function(){return eB.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabsrv',cmd:'double-click-region-no-return-server'},this.c))}});var eC=global.tab.DoubleClickRegionNoReturnServerCmd$Response=ss.mkType(a,'tab.DoubleClickRegionNoReturnServerCmd$Response',function(e){this.$$c=null;this.$$c=e});var eD=global.tab.DownloadableFontProperties=ss.mkType(a,'tab.DownloadableFontProperties',function(){this.woffLocation=null;ga.call(this)},{get_source:function(){return ss.formatString("url('{0}2') format('woff2'), url('{0}') format('woff')",ss.coalesce(this.woffLocation,''))},clone:function(){var e=new eD;e.set_fontFamily(this.get_fontFamily());e.set_style(this.get_style());e.set_weight(this.get_weight());e.woffLocation=this.woffLocation;return e},equals$2:function(e){return this.equalsIgnoreWoff(e)&&ss.compareStrings(this.woffLocation,e.woffLocation,true)===0},equalsIgnoreWoff:function(e){return this.equals$1(e)},toCSSRules:function(){var e={};e['font-family']=tab.FontUtil.addQuotationMarks(this.get_fontFamily(),true);e['font-weight']=this.get_weight();e['font-style']=this.get_style();e['src']=this.get_source();return e}});var eE=global.tab.DownloadableFontPropertiesExtensions=ss.mkType(a,'tab.DownloadableFontPropertiesExtensions',null,null,{toDownloadableFontProperties:function(e,ex){var pC=new eD;pC.set_fontFamily(e.get_fontFamily());pC.set_style(e.get_style());pC.set_weight(e.get_weight());pC.woffLocation=ex;return pC}});var eF=global.tab.DownloadAsVersionCmd=ss.mkType(a,'tab.DownloadAsVersionCmd',function(){ss.makeGenericType(oU,[Object,eG]).call(this)},{get_commandId:function(){return eF.cmdId}});var eG=global.tab.DownloadAsVersionCmd$Response=ss.mkType(a,'tab.DownloadAsVersionCmd$Response',function(e){this.$$c=null;this.$$c=e});var eH=global.tab.DownloadAsVersionCommand=ss.mkType(a,'tab.DownloadAsVersionCommand',function(){eF.call(this)},{do$1:function(){var e=ss.safeCast(this.c['targetVersion'],String);nV.downloadWorkbook(null,e)}});var eI=global.tab.DownloadServerCommands=ss.mkType(a,'tab.DownloadServerCommands',null,null,{$0:function(e,ex){var pC=e;var pD=cw.get().legacySession;var pE=pD.formatSessionTempfileReference(pC.tempfileKey,true,true);pD.fileDownloadHelper.downloadFile(pE,3,true)}});var eJ=global.tab.DownloadWorkbookCmd=ss.mkType(a,'tab.DownloadWorkbookCmd',function(){ss.makeGenericType(oU,[Object,eK]).call(this)},{get_commandId:function(){return eJ.cmdId}});var eK=global.tab.DownloadWorkbookCmd$Response=ss.mkType(a,'tab.DownloadWorkbookCmd$Response',function(e){this.$$c=null;this.$$c=e});var eL=global.tab.DrawItemFontExtractor=ss.mkType(a,'tab.DrawItemFontExtractor',function(){},{canExtractFont:function(e){return e.type==='draw-text-props'},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var ex=e;var pC=ex.fontName;if(ss.isNullOrEmptyString(pC)){return null}var pD=[];var pE=new ga;pE.set_fontFamily(pC);pE.set_weight((ex.isBold?'bold':'normal'));pD.push(pE);return pD}});var eM=global.tab.DrillPathModel=ss.mkType(a,'tab.DrillPathModel',function(e){this.$1=null;fA.call(this,e)},{get_levels:function(){return this.$1},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'drillPath'},get_canHaveChildren:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex}});var eN=global.tab.DrillPathModelFactory=ss.mkType(a,'tab.DrillPathModelFactory',null,null,{create:function(e,ex,pC){var pD=eN.$0(e,ex,pC);var pE=(ss.keyExists(pC.get_drillPaths(),e.fn)?pC.get_drillPaths()[e.fn].asDrillPath():new eM(ex));pE.update(e,pD);return pE},$0:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e.columnList)){return pD}for(var pE=0;pE<e.columnList.length;pE++){var pF=e.columnList[pE];pD.push(fw.create(pF,ex,pC))}return pD}});var eO=global.tab.DropOnDashboardCmd=ss.mkType(a,'tab.DropOnDashboardCmd',function(){ss.makeGenericType(bl,[Object,eP]).call(this)},{get_commandId:function(){return eO.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'drop-on-dashboard'},this.c))}});var eP=global.tab.DropOnDashboardCmd$Response=ss.mkType(a,'tab.DropOnDashboardCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasZoneID:function(){return ss.keyExists(this.$$c,'zoneId')}});var eQ=global.tab.DropOnSchemaDrillPathCmd=ss.mkType(a,'tab.DropOnSchemaDrillPathCmd',function(){ss.makeGenericType(bl,[Object,eR]).call(this)},{get_commandId:function(){return eQ.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'drop-on-schema-drill-path'},this.c))}});var eR=global.tab.DropOnSchemaDrillPathCmd$Response=ss.mkType(a,'tab.DropOnSchemaDrillPathCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasDropCommand:function(){return ss.keyExists(this.$$c,'dropCommandModel')}});var eS=global.tab.DropOnSchemaFieldCmd=ss.mkType(a,'tab.DropOnSchemaFieldCmd',function(){ss.makeGenericType(bl,[Object,eT]).call(this)},{get_commandId:function(){return eS.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'drop-on-schema-field'},this.c))}});var eT=global.tab.DropOnSchemaFieldCmd$Response=ss.mkType(a,'tab.DropOnSchemaFieldCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasDropCommand:function(){return ss.keyExists(this.$$c,'dropCommandModel')}});var eU=global.tab.DropOnSchemaSectionCmd=ss.mkType(a,'tab.DropOnSchemaSectionCmd',function(){ss.makeGenericType(bl,[Object,eV]).call(this)},{get_commandId:function(){return eU.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'drop-on-schema-section'},this.c))}});var eV=global.tab.DropOnSchemaSectionCmd$Response=ss.mkType(a,'tab.DropOnSchemaSectionCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasDropCommand:function(){return ss.keyExists(this.$$c,'dropCommandModel')}});var eW=global.tab.DSColumnInfoModel=ss.mkType(a,'tab.DSColumnInfoModel',function(e){jC.call(this,e,new kA('',0))},{get_dataType:function(){if(ss.isNullOrUndefined(this.pm)){return'unknown'}return this.pm.dataType},get_fieldName:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.fn},get_valueIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.valueIndices},get_aliasIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.aliasIndices},get_formattedValueIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.formatValIdxs},get_stringCollation:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.stringCollation},update:function(e){if(ss.isValue(e)){this.pm=e}}});var eX=global.tab.EditDashboardDeviceLayoutCmd=ss.mkType(a,'tab.EditDashboardDeviceLayoutCmd',function(){ss.makeGenericType(bl,[Object,eY]).call(this)},{get_commandId:function(){return eX.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'edit-dashboard-device-layout'},this.c))}});var eY=global.tab.EditDashboardDeviceLayoutCmd$Response=ss.mkType(a,'tab.EditDashboardDeviceLayoutCmd$Response',function(e){this.$$c=null;this.$$c=e});var eZ=global.tab.EditObjectCaptionCmd=ss.mkType(a,'tab.EditObjectCaptionCmd',function(){ss.makeGenericType(bl,[Object,fa]).call(this)},{get_commandId:function(){return eZ.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'edit-object-caption'},this.c))}});var fa=global.tab.EditObjectCaptionCmd$Response=ss.mkType(a,'tab.EditObjectCaptionCmd$Response',function(e){this.$$c=null;this.$$c=e});var fb=global.tab.EditValueWidgetModel=ss.mkType(a,'tab.EditValueWidgetModel',function(e,ex){this.$2$1=null;jC.call(this,e,new kA(ex.toString(),null))},{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_selectedParameter:function(){var e=this.$1().fieldCaptionPair;if(ss.isNullOrUndefined(e)){return null}return{key:e.fieldCaption,value:e.fn}},get_parameters:function(){return _.map(this.$1().fieldCaptionPairs,function(e){return{key:e.fieldCaption,value:e.fn}})},get_selectedValue:function(){return this.$1().selectedValue},set_selectedValue:function(e){this.$1().selectedValue=e},get_enterValueText:function(){return this.$1().enterValueText},get_isCustomValueEnabled:function(){return this.$1().isCustomValueEnabled},get_precannedValues:function(){var e=[];var ex=this.$1().precannedDataValues;for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];e.push(pD)}return e},update:function(e,ex){this.swapPresModel(e);this.raiseEvent(this.$2$1,ex)}});var fc=global.tab.ErrorHandlerChain=ss.mkType(a,'tab.ErrorHandlerChain',function(e){this.$0=null;this.$0=e.slice(0)},{get_length:function(){return this.$0.length},handle:function(e,ex,pC,pD){var pE=this.$0;for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];if(pG.handleCommandFailure(e,ex,pC,pD)){return}}},indexOf:function(e){var ex=0;for(var pC=0;pC<this.$0.length;pC++){var pD=this.$0[pC];if(ss.referenceEquals(ss.getInstanceType(pD),e)){return ex}ex+=1}return-1}});var fd=global.tab.EstablishConnectionCmd=ss.mkType(a,'tab.EstablishConnectionCmd',function(){ss.makeGenericType(bl,[Object,fe]).call(this)},{get_commandId:function(){return fd.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'establish-connection'},this.c))}});var fe=global.tab.EstablishConnectionCmd$Response=ss.mkType(a,'tab.EstablishConnectionCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasConnectionName:function(){return true}});var ff=global.tab.EstablishConnectionNoUndoCmd=ss.mkType(a,'tab.EstablishConnectionNoUndoCmd',function(){ss.makeGenericType(bl,[Object,fg]).call(this)},{get_commandId:function(){return ff.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'establish-connection-no-undo'},this.c))}});var fg=global.tab.EstablishConnectionNoUndoCmd$Response=ss.mkType(a,'tab.EstablishConnectionNoUndoCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasConnectionName:function(){return true}});var fh=global.tab.EvaluateDataAlertCmd=ss.mkType(a,'tab.EvaluateDataAlertCmd',function(){ss.makeGenericType(bl,[Object,fi]).call(this)},{get_commandId:function(){return fh.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'evaluate-data-alert'},this.c))}});var fi=global.tab.EvaluateDataAlertCmd$Response=ss.mkType(a,'tab.EvaluateDataAlertCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasAlertConditionMet:function(){return true},hasMetricDoubleValue:function(){return ss.keyExists(this.$$c,'metricDoubleValue')},hasMetricLongValue:function(){return ss.keyExists(this.$$c,'metricLongValue')}});var fj=global.tab.ExpiryHelper=ss.mkType(a,'tab.ExpiryHelper',function(){hU.call(this)},{get_inactivityTimeoutInMinutes:function(){return tsConfig.vizqlserver_session_expiry_timeout_minutes},get_inactivityWarning:function(){return tab.Strings.SessionExpiryWarning}});var fk=global.tab.ExportServerCommands=ss.mkType(a,'tab.ExportServerCommands',null,null,{exportImage:function(e,ex,pC,pD){var pE=tabBootstrap.MetricsController.createContext('Exporting_ImageGeneration',1024,null);var pF=fk.$1(pC);var pG={};pG['scrollOffsetSheets']=JSON.stringify(ex);pG['scrollOffsetPoints']=JSON.stringify(pF);pG['sheet']=e;var pH=cN.newCommand({ns:'tabsrv',cmd:'export-image-server'},pG);mp.executeServerCommand(pH,'immediately',function(pI){var pJ=pI;var pK=cw.get().legacySession;var pL=pK.formatSessionTempfileReference(pJ.resultKey,true,true);pK.fileDownloadHelper.downloadFile(pL,0,pD);pE.dispose()},null)},exportPowerPoint:function(){var e=tabBootstrap.MetricsController.createContext('Exporting_PowerPointDialogCommand',1024,null);var ex=cw.get().legacySession;var pC=tsConfig.visible_sheets;var pD={};pD['urlString']=fk.$0();pD['thumbnailUris']=nL.getThumbnailUriStrings(ex,pC);pD['sheetNames']=pC;var pE=cN.newCommand({ns:'tabsrv',cmd:'power-point-export-server-dialog'},pD);mp.executeServerCommand(pE,'immediately',function(pF){e.dispose()},null)},exportCrosstabOptionsDialog:function(){var e=tabBootstrap.MetricsController.createContext('Exporting_CrosstabDialogCommand',1024,null);var ex=cw.get().legacySession;var pC=tsConfig.visible_sheets;var pD={};pD['thumbnailUris']=nL.getThumbnailUriStrings(ex,pC);var pE=cN.newCommand({ns:'tabsrv',cmd:'export-crosstab-server-dialog'},pD);mp.executeServerCommand(pE,'immediately',function(pF){e.dispose()},null)},exportCrosstabToCSV:function(e,ex){if(ss.isNullOrUndefined(e)){e=jF.findActiveOrDefaultVisual(null).get_worksheetName()}var pC=tabBootstrap.MetricsController.createContext('Exporting_CrosstabToCSVGeneration',1024,null);var pD=jF.findContentDashboard(null).getViewSession(e);var pE={};pE['useTabs']=true;pE['viewId']=pD.get_viewId();var pF=cN.newCommand({ns:'tabsrv',cmd:'export-crosstab-to-csvserver'},pE);mp.executeServerCommand(pF,'immediately',function(pG){var pH=pG;var pI=pD.formatSessionTempfileReference(pH.resultKey,true,true);pD.fileDownloadHelper.downloadFile(pI,1,ex);pC.dispose()},null)},exportCrosstabToExcelJsApi:function(e){if(ss.isNullOrUndefined(e)){e=jF.findActiveOrDefaultVisual(null).get_worksheetName()}var ex=tabBootstrap.MetricsController.createContext('Exporting_CrosstabToExcelJsApi',1024,null);var pC={};pC['sheetName']=e;var pD=cN.newCommand({ns:'tabdoc',cmd:'get-sheet-identifier-for-sheet-name'},pC);mp.executeServerCommand(pD,'immediately',function(pE){var pF={};pF['sheetdocId']=pE;pF['sendNotifications']=true;var pG=cN.newCommand({ns:'tabsrv',cmd:'export-crosstab-to-excel-server'},pF);mp.executeServerCommand(pG,'immediately',function(pH){ex.dispose()},null)},null)},$1:function(e){return e.map(ss.mkdel(this,function(ex){return{x:ex.x,y:ex.y}}))},$0:function(){var e=tsConfig.external_workbook_url;if(ss.isNullOrEmptyString(e)){e=tsConfig.requestURI;if(!ss.isNullOrEmptyString(e)){e=e.split('?')[0]}}return e},$2:function(e,ex){var pC=e;var pD=cw.get().legacySession;var pE=pD.formatSessionTempfileReference(pC.resultKey,true,true);pD.fileDownloadHelper.downloadFile(pE,3,true)},$3:function(e,ex){var pC=e;var pD=cw.get().legacySession;var pE=pD.formatSessionTempfileReference(pC.tempfileKey,true,true);pD.fileDownloadHelper.downloadFile(pE,5,true)}});var fl=global.tab.ExportType=ss.mkEnum(a,'tab.ExportType',{image:0,crosstab:1,data:2,generic:3,PDF:4,powerPoint:5});var fm=global.tab.ExtensionClientCommands=ss.mkType(a,'tab.ExtensionClientCommands',null,null,{showChooseExtensionDialog:function(e){var ex=new mf;ex.c['zoneId']=e|0;var pC=ex;pC.invoke()},showPermissionsPromptDialog:function(e){var ex=new iN;ex.c['extensionRegistrationKeyPresModelList']=e;var pC=ex;pC.invoke()}});var fn=global.tab.ExtensionErrorHandler=ss.mkType(a,'tab.ExtensionErrorHandler',function(){},{handleCommandFailure:function(e,ex,pC,pD){return ex.status===401&&this.$0(pC)},$0:function(e){var ex=e.commandParams['commandLoggingParamsPresModel'];return ss.isValue(ex)&&ex.commandsLogKey==='extension'}});var fo=global.tab.ExtensionPermissionsCache=ss.mkType(a,'tab.ExtensionPermissionsCache',function(){this.$0={};this.$1$1=null;this.$1$2=null},{add_updated:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_updated:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_stopNotifying:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_stopNotifying:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_notificationId:function(){return'doc:permissions-update-event'},onNotify:function(e,ex){var pC=e;for(var pD=0;pD<pC.permissionsApprovalPresModelList.length;pD++){var pE=pC.permissionsApprovalPresModelList[pD];var pF=JSON.stringify(pE.extensionRegistrationKeyPresModel);if(ss.keyExists(this.$0,pF)&&this.$0[pF]===pE.extensionPermissionsGranted){return}this.$0[pF]=pE.extensionPermissionsGranted}this.$1$1()},detachNotifications:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},hasUserResponse:function(e){return ss.keyExists(this.$0,JSON.stringify(e))},getPermissionsApproval:function(e){return this.$0[JSON.stringify(e)]}});var fp=global.tab.ExtensionPermissionsProxy=ss.mkType(a,'tab.ExtensionPermissionsProxy',null,null,{$0:function(){return bd.get_instance().get_extensionPermissionsCache()}});var fq=global.tab.ExtensionZoneModel=ss.mkType(a,'tab.ExtensionZoneModel',function(e){this.$1=null;this.$2$1=null;jC.call(this,e,new kA('addInZone'.toString(),null));this.$1=e.get_zone()},{add_extensionZoneUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_extensionZoneUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}});var fr=global.tab.ExtractActionStatus=ss.mkType(a,'tab.ExtractActionStatus',function(){this.isPending=false;this.message=null});var fs=global.tab.ExtractServerCommands=ss.mkType(a,'tab.ExtractServerCommands',null,null,{$1:function(){return tab.Logger.lazyGetLogger(fs)},createExtractLegacy:function(e,ex,pC){var pD=cw.get().legacySession;var pE=ss.mkdel(this,function(pK,pL,pM){var pN=pK;var pO={extractCreationJobId:pN['extractCreationJobId'],privateWorkbookId:pN['privateWorkbookId']};ex(pO)});var pF=function(pK,pL,pM){var pN=fs.$0(Object).call(null,pK.responseText);var pO=fs.$0(Object).call(null,pK.responseText);if(ss.isValue(pC)&&ss.isValue(pN)){pC(pN)}else if(pK.status===403&&ss.isValue(pO)&&pO.code===60011){pD.get_sessionErrorHandler().handleSessionForbiddenAction(pO.code,pO.message)}else{pD.get_sessionErrorHandler().handleCommandFailure(pM,pK,null,false)}};var pG={type:'POST',dataType:'json',url:cw.$0('extract',pD)};var pH=ss.mkdict(['project',tsConfig.current_project_id.toString(),'name',tsConfig.workbookName+nJ.generateUUID(),'display_tabs',false]);pH['save_db_passwords']=true;pH['no_overwrite']=true;pH['parent_id']=tsConfig.current_workbook_id;pH['oauth_credential_ids']=bd.get_instance().get_workbook().get_oAuthCredentialIds();pH['datasource_name']=e;var pI=px.getMultipartData(null,pH);pG.contentType='multipart/form-data; boundary='+pI.header;pG.data=pI.body;var pJ=new mr(pD,null,pE,pF,true,true);px.helper(pG,pJ)},triggerExtractCreation:function(e,ex,pC){var pD=cw.get().legacySession;var pE=function(pI,pJ,pK){var pL=pI;ex(pL['extractOperationId'])};var pF=function(pI,pJ,pK){var pL=fs.$0(Object).call(null,pI.responseText);if(ss.isValue(pL)){pD.get_sessionErrorHandler().handleSessionForbiddenAction(pL.code,pL.message)}else{pD.get_sessionErrorHandler().handleCommandFailure(pK,pI,null,false)}pC()};var pG={type:'POST',dataType:'json',url:cw.$0('trigger_extract_creation',pD),data:ss.mkdict(['datasource_name',e])};var pH=new mr(pD,null,pE,pF,true,true);px.helper(pG,pH)},checkExtractCreationStatus:function(e,ex,pC){var pD=cw.get().legacySession;var pE=function(pI,pJ,pK){var pL=pI;var pM=pL['status'];var pN=pL['message'];ex(e,pM,pN)};var pF=function(pI,pJ,pK){pC();pD.get_sessionErrorHandler().handleCommandFailure(pK,pI,null,false)};var pG={type:'GET',dataType:'json',url:cw.$0('poll_extract_creation_status',pD)+'/'+e};var pH=new mr(pD,null,pE,pF,true,true);px.helper(pG,pH)},changeExtractToLive:function(e,ex){var pC=cw.get().legacySession;var pD=function(pH,pI,pJ){ex(true)};var pE=function(pH,pI,pJ){ex(false);var pK=fs.$0(Object).call(null,pH.responseText);pC.get_sessionErrorHandler().handleCommandFailure(pJ,pH,null,false)};var pF={type:'POST',dataType:'json',url:cw.$0('change_extract_to_live',pC),data:ss.mkdict(['datasource_name',e])};var pG=new mr(pC,null,pD,pE,true,true);px.helper(pF,pG)},cancelExtractCreation:function(e,ex){var pC=cw.get().legacySession;var pD=function(pH,pI,pJ){ex(true)};var pE=function(pH,pI,pJ){ex(false);pC.get_sessionErrorHandler().handleCommandFailure(pJ,pH,null,false)};var pF={type:'GET',dataType:'json',url:cw.$0('cancel_extract_creation',pC)+'/'+e};var pG=new mr(pC,null,pD,pE,true,true);px.helper(pF,pG)},saveExtractWithCreationJob:function(e,ex,pC,pD,pE,pF){var pG=cw.get().legacySession;var pH=function(pL,pM,pN){var pO=pL;var pP=pO['status'];var pQ=pO['message'];if(pP==='FINISHED'){if(ss.isNullOrUndefined(ex)){lQ.saveWorkbookWithCredential(function(pR){pE()},pD)}else{lQ.saveWorkbookAs(pC,ex,tsConfig.showTabsWorkbook,pD,false,null,function(pR){pE()},null)}}else if(pP==='FAILED'){pF(pQ)}else{pE()}};var pI=function(pL,pM,pN){pF(null);pG.get_sessionErrorHandler().handleCommandFailure(pN,pL,null,false)};var pJ={type:'POST',dataType:'json',url:cw.$0('publish_after_extract_operation',pG),data:ss.mkdict(['extractOperationId',e,'projectId',ex,'workbookName',pC,'saveCredential',pD])};var pK=new mr(pG,null,pH,pI,true,true);px.helper(pJ,pK)},$0:function(e){return function(ex){var pC;try{pC=JSON.parse(ex)}catch(pD){pC=null}return pC}}});var ft=global.tab.ExtraHtmlMarkupRemover=ss.mkType(a,'tab.ExtraHtmlMarkupRemover',null,null,{stripOutMarkup:function(e){if(ss.isNullOrEmptyString(e)){return e}var ex=[];ex.push(new RegExp('<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>','gi'));ex.push(new RegExp('<html.*?>.+?</html.*?>','gi'));var pC=ex;for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];e=e.replace(pE,'')}return e}});var fu=global.tab.FailureHandler=ss.mkType(a,'tab.FailureHandler',null,null,{$2:function(){if(tab.ErrorTrace.hasTraces()){var e=tab.ErrorTrace.dequeueTraces();var ex=[];var pC=e[0].url;var pD=e[0].userAgent;for(var pE=0;pE<e.length;pE++){var pF=e[pE];ex.push(fu.packageStackTraceData(pF))}fu.informServerAboutErrors(cw.get().legacySession,pC,pD,ex)}},packageStackTraceData:function(e){var ex=[];var pC=fu.$1(e);for(var pD=0;pD<e.locations.length;pD++){var pE=e.locations[pD];if(ss.isNullOrUndefined(pE.url)&&ss.isNullOrUndefined(pE.lineNo)&&ss.isNullOrUndefined(pE.functionName)){continue}var pF=new ss.StringBuilder;var pG=fu.$3(pE.url);pF.append(pG+':'+pE.lineNo+','+pE.columnNo+' '+pE.functionName);if(ss.isValue(pE.context)&&pE.context.length>0){for(var pH=0;pH<pE.context.length;pH++){var pI=pE.context[pH];var pJ=pI;if(pI.length>120){if(ss.isValue(pE.functionName)&&pI.indexOf(pE.functionName)>0){var pK=pI.indexOf(pE.functionName);var pL=Math.max(0,pK-ss.idiv(120,2));var pM=Math.min(pL+120,pI.length-1);pJ=pI.substring(pL,pM)}else{pJ=pI.substr(0,120)}}pF.append('    '+pJ.trim())}}pC-=pF.length;if(pC<='...truncated'.length){ex.push('...truncated');break}ex.push(pF.toString())}var pN={name:e.name,message:e.message,errorMode:e.traceMode.toString(),stack:ex,errorDialogShown:e.errorDialogShown};return pN},dispose:function(){fu.$2();window.clearInterval(fu.$8);fu.$8=-1},$0:function(e,ex){var pC=tsConfig.clientErrorReportingMaxRequestSizeBytes;return pC-ss.coalesce(e,'').length-ss.coalesce(ex,'').length-160},$1:function(e){var ex=fu.$0(e.url,e.userAgent);return ex-(e.message||'').toString().length-ss.coalesce(e.name,'').length-20},$3:function(e){var ex='/javascripts/';var pC=e.indexOf(ex);if(pC>0){e=e.substr(pC+ex.length)}return e},informServerAboutErrors:function(e,ex,pC,pD){var pE={type:'POST',url:e.formatSessionMethod('inform'),headers:ss.mkdict(['Accept','text/plain']),contentType:'text/plain'};for(var pF=0;pF<pD.length;pF++){var pG=pD[pF];if(pG.errorDialogShown){pD[0].errorDialogShown=true;break}}var pH=fu.$0(ex,pC);var pI=0;for(var pJ=0;pJ<pD.length;++pJ){pH-=JSON.stringify(pD[pJ]).length;if(pH<0){pI=pD.length-pJ;pD=pD.slice(0,pJ);break}}var pK={url:ex,userAgent:pC,errors:pD,sessionId:tsConfig.sessionid,timeStampUtc:(new Date).toUTCString()};if(pI>0){pK.omittedErrors=pI}pE.data=JSON.stringify(pK);px.helper(pE,null)}});var fv=global.tab.FieldColumnModel=ss.mkType(a,'tab.FieldColumnModel',function(e){this.$3$1=false;fA.call(this,e)},{get_instanceType:function(){return'column'},get_defaultRole:function(){return this.pm.defaultFieldRole},get_role:function(){return this.pm.fieldRole},get_baseColumnName:function(){return(this.get_isInstance()?this.pm.baseColumnName:this.get_globalName())},get_baseColumn:function(){return(this.get_isInstance()?this.get_dataSource().findField(this.get_baseColumnName()):this)},get_isInstance:function(){return!ss.isNullOrUndefined(this.pm.isInstance)&&this.pm.isInstance},get_hasWarning:function(){return this.pm.hasWarning},get_isAllowedInCalcs:function(){var e=this.get_baseColumn();return(ss.referenceEquals(e,this)?fA.prototype.get_isAllowedInCalcs.call(this):e.get_isAllowedInCalcs())},get_isCalculated:function(){return this.pm.isCalculated},get_isCustomCalculation:function(){return this.pm.isCustomCalculation},get_formattedFamilyName:function(){return this.pm.formattedFamilyName},get_canAddToDrillPath:function(){return this.pm.canAddToDrillPath},get_isInDrillPath:function(){return this.pm.isInDrillPath},get_columnClass:function(){return this.pm.columnClass},get_isTimeIntelligenceColumn:function(){return this.$3$1},set_isTimeIntelligenceColumn:function(e){this.$3$1=e},get_isHidden:function(){return this.pm.isHidden||this.get_isInstance()&&!this.get_isTimeIntelligenceColumn()},update:function(e){this.swapAndCopyPresModel(e)},get_connectionName:function(){return this.pm.connectionName},get_isGeoSpatial:function(){return this.pm.isGeospatial}});var fw=global.tab.FieldColumnModelFactory=ss.mkType(a,'tab.FieldColumnModelFactory',null,null,{create:function(e,ex,pC){switch(e.type){case'group':{return hq.create(e,ex,pC)}case'structured-measure':{return nB.create(e,ex,pC)}default:{var pD=(ss.keyExists(pC.get_fields(),e.fn)?pC.get_fields()[e.fn].asColumn():new fv(ex));pD.update(e);return pD}}}});var fx=global.tab.FieldContainerModel=ss.mkType(a,'tab.FieldContainerModel',function(e){this.$1=null;fA.call(this,e)},{get_fields:function(){return this.$1},get_folderRole:function(){return this.pm.folderRole},get_instanceType:function(){return'fieldContainer'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex;var pC=this.pm;if(ss.isValue(pC)&&(pC.schemaItemType==='field-folder'||pC.schemaItemType==='folder')){for(var pD=0;pD<ex.length;pD++){var pE=ex[pD];pE.set_parentFolderName(this.get_globalName())}}}});var fy=global.tab.FieldContainerModelFactory=ss.mkType(a,'tab.FieldContainerModelFactory',null,null,{create:function(e,ex,pC){var pD=fy.$0(e,ex,pC);var pE=(ss.keyExists(pC.get_fieldContainers(),e.fn)?pC.get_fieldContainers()[e.fn].asFieldContainer():new fx(ex));pE.update(e,pD);return pE},$0:function(e,ex,pC){var pD=[];if(ss.isValue(e.dimensionsFieldList)){for(var pE=0;pE<e.dimensionsFieldList.length;pE++){var pF=e.dimensionsFieldList[pE];pD.push(fC.create(pF,ex,pC))}}if(ss.isValue(e.measuresFieldList)){for(var pG=0;pG<e.measuresFieldList.length;pG++){var pH=e.measuresFieldList[pG];pD.push(fC.create(pH,ex,pC))}}return pD}});var fz=global.tab.FieldInstanceType=ss.mkEnum(a,'tab.FieldInstanceType',{column:'column',drillPath:'drillPath',cubeDimension:'cubeDimension',group:'group',cubeHierarchy:'cubeHierarchy',relationalTable:'relationalTable',cubeFolder:'cubeFolder',folder:'folder',multiple:'multiple',folderNew:'folderNew',structuredMeasure:'structuredMeasure',cubeStandardDimension:'cubeStandardDimension',cubeAttributeDimension:'cubeAttributeDimension',level:'level',fieldContainer:'fieldContainer'},true);var fA=global.tab.FieldModel=ss.mkType(a,'tab.FieldModel',function(e){this.parentFolderName='';jC.call(this,e,new kA('field'.toString(),null))},{get_instanceType:null,get_fieldsModel:function(){return this.parent},get_dataSourceName:function(){if(ss.isNullOrUndefined(this.get_dataSource())){return''}return this.get_dataSource().get_name()},get_parentFolderName:function(){return this.parentFolderName},set_parentFolderName:function(e){this.parentFolderName=ss.coalesce(e,'')},get_canHaveChildren:function(){return false},get_isParameter:function(){return ss.isValue(this.get_dataSource())&&this.get_dataSource().get_isParametersDataSource()},get_isUnsortedContainer:function(){return false},get_isSelectable:function(){return!this.get_isUnsortedContainer()},get_isDraggable:function(){return this.get_isSelectable()&&!this.get_isHidden()&&!this.get_isInvalid()},get_childToSelect:function(){return(this.get_isUnsortedContainer()?null:this)},get_isDerived:function(){if(this.get_canHaveChildren()){return false}return this.get_isGenerated()||this.get_isAutoColumn()||this.get_isColumn()&&this.asColumn().get_isInstance()},get_isLayered:function(){return this.pm.isLayered},get_isMeasureNamesOrValues:function(){return ss.referenceEquals(this.get_localName(),fA.nameOfMeasuresColumn)||ss.referenceEquals(this.get_localName(),fA.nameOfMeasureValuesColumn)},get_fieldCaptionForReset:function(){return this.pm.fieldCaptionForReset},get_fieldIconResource:function(){var e=this.pm.fieldIconRes||'';if(e.length===0){return e}if(this.pm.isInvalid){e+='-invalid'}return e},get_isInstance:function(){return!this.get_isGenerated()&&this.get_isDerived()},get_isHidden:function(){return this.pm.isHidden||this.get_isInstance()},get_isAutoHidden:function(){return this.pm.isAutoHidden},get_isInvalid:function(){return this.pm.isInvalid},get_isOrphaned:function(){return this.pm.isOrphaned},get_isGenerated:function(){return this.pm.isGenerated},get_isAutoColumn:function(){return this.pm.isAutoColumn},get_isAllowedInCalcs:function(){return this.pm.isAllowedInCalcs},get_isUnnamedCalc:function(){return this.pm.isUnnamed},get_isQuickTableCalc:function(){return this.pm.isQuickTableCalc},get_globalName:function(){return this.pm.fn},get_localName:function(){return this.pm.name},get_qualifiedLocalName:function(){var e='['+this.get_dataSourceName().toString()+'].';var ex=this.get_globalName().toString();if(!tab.MiscUtil.isNullOrEmpty$1(ex)&&ss.startsWithString(ex,e)){return ex.replace(e,'')}return'['+this.get_localName()+']'},get_description:function(){return this.pm.description},get_userDescription:function(){return this.pm.userCaption},get_ordinal:function(){return this.pm.datasourceOrdinal},get_isFieldContainer:function(){return this.get_instanceType()==='fieldContainer'},get_isColumn:function(){return this.get_instanceType()==='column'||this.get_instanceType()==='group'||this.get_instanceType()==='structuredMeasure'||this.get_instanceType()==='level'},get_isGroup:function(){return this.get_instanceType()==='group'},get_isCubeDimension:function(){return this.get_instanceType()==='cubeDimension'},get_isDrillPath:function(){return this.get_instanceType()==='drillPath'},get_isCubeHierarchy:function(){return this.get_instanceType()==='cubeHierarchy'},get_isCubeFolder:function(){return this.get_instanceType()==='cubeFolder'},get_isFolder:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return false}return e.schemaItemType==='field-folder'},get_isFolderNew:function(){return this.get_instanceType()==='folderNew'},get_isObject:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return false}return e.schemaItemType==='object'},get_isTableType:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return false}return e.dataType==='table'},get_isRelationalTable:function(){return this.get_instanceType()==='relationalTable'},get_isStructuredMeasure:function(){return this.get_instanceType()==='structuredMeasure'},get_isCubeBaseDimension:function(){return this.get_instanceType()==='cubeStandardDimension'||this.get_instanceType()==='cubeAttributeDimension'},get_isCubeStandardDimension:function(){return this.get_instanceType()==='cubeStandardDimension'},get_isCubeAttributeDimension:function(){return this.get_instanceType()==='cubeAttributeDimension'},get_isLevel:function(){return this.get_instanceType()==='level'},get_defaultRole:function(){return this.pm.defaultFieldRole},get_role:function(){return this.pm.fieldRole},get_defaultFieldType:function(){return(this.get_isColumn()?this.pm.defaultFieldType:'unknown')},get_fieldType:function(){return(this.get_isColumn()?this.pm.fieldType:'unknown')},get_displayName:function(){return this.pm.fieldCaption},get_schemaViewerDisplayName:function(){return this.pm.schemaViewerFieldCaption||this.get_displayName()},get_tooltip:function(){if(this.get_isInvalid()){return this.pm.tooltipText}else{return this.get_userDescription()||(this.get_description()||this.get_displayName())}},get_canBeUsedInCalculation:function(){return this.get_isAllowedInCalcs()||this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},get_canBeAddedToDataSchema:function(){return this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},get_dataSource:function(){return(ss.isNullOrUndefined(this.get_fieldsModel())?null:this.get_fieldsModel().get_dataSource())},matchesFolderRole:function(e){if(this.get_isFolder()){return this.asFolder().get_folderRole()===e}else if(this.get_isFolderNew()){return this.asFolderNew().get_folderRole()===e}else{switch(e){case'dimensions':{return this.get_defaultRole()==='dimension'}case'measure':{return this.get_defaultRole()==='measure'}case'groups':{return this.get_isGroup()}case'parameters':{return true}default:{return false}}}},asColumn:function(){return ss.safeCast(this,fv)},asGroup:function(){return ss.safeCast(this,hp)},asDimension:function(){return ss.safeCast(this,dh)},asHierarchy:function(){return ss.safeCast(this,dk)},asCubeFolder:function(){return ss.safeCast(this,di)},asFolder:function(){return ss.safeCast(this,fU)},asFolderNew:function(){return ss.safeCast(this,fW)},asDrillPath:function(){return ss.safeCast(this,eM)},asRelationalTable:function(){return ss.safeCast(this,kX)},asStructuredMeasure:function(){return ss.safeCast(this,nA)},asCubeStandardDimension:function(){return ss.safeCast(this,dm)},asCubeAttributeDimension:function(){return ss.safeCast(this,de)},asCubeBaseDimension:function(){return ss.safeCast(this,dg)},asLevel:function(){return ss.safeCast(this,jl)},asFieldContainer:function(){return ss.safeCast(this,fx)}},{getField:function(e,ex,pC){if(ss.isNullOrUndefined(e)||e.length<=0){return null}for(var pD=0;pD<e.length;pD++){var pE=e[pD];switch(pC){case'localName':{if(ss.referenceEquals(pE.get_localName(),ex)){return pE}break}case'globalName':{if(ss.referenceEquals(pE.get_globalName(),ex)){return pE}break}case'qualifiedLocalName':{if(ss.referenceEquals(pE.get_qualifiedLocalName(),ex)){return pE}break}case'description':{if(ss.referenceEquals(pE.get_description(),ex)){return pE}break}case'userDescription':{if(ss.referenceEquals(pE.get_userDescription(),ex)){return pE}break}case'displayName':{if(ss.referenceEquals(pE.get_displayName(),ex)){return pE}break}default:{return null}}}return null}});var fB=global.tab.FieldModelCache=ss.mkType(a,'tab.FieldModelCache',function(e,ex,pC,pD,pE){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.set_fields(e||{});this.set_tables(ex||{});this.set_folders(pC||{});this.set_drillPaths(pD||{});this.set_fieldContainers(pE||{})},{get_fields:function(){return this.$1$1},set_fields:function(e){this.$1$1=e},get_tables:function(){return this.$1$2},set_tables:function(e){this.$1$2=e},get_folders:function(){return this.$1$3},set_folders:function(e){this.$1$3=e},get_drillPaths:function(){return this.$1$4},set_drillPaths:function(e){this.$1$4=e},get_fieldContainers:function(){return this.$1$5},set_fieldContainers:function(e){this.$1$5=e}});var fC=global.tab.FieldModelFactory=ss.mkType(a,'tab.FieldModelFactory',null,null,{create:function(e,ex,pC){e.fieldIconRes=e.fieldIconRes||'';if(ss.keyExists(pC.get_fields(),e.fn)){pC.get_fields()[e.fn].set_parentFolderName('')}switch(e.type){case'field-container':{return fy.create(e,ex,pC)}case'field-folder-new':{return fV.create(e,ex,pC)}case'drill-path':{return eN.create(e,ex,pC)}case'relational-table':{return kY.create(e,ex,pC)}case'group':case'structured-measure':case'column':{return fw.create(e,ex,pC)}case'display-folder':{return dj.create(e,ex,pC)}case'standard-dimension':{return dn.create(e,ex,pC)}case'attribute-dimension':{return df.create(e,ex,pC)}default:{return null}}}});var fD=global.tab.FieldsModel=ss.mkType(a,'tab.FieldsModel',function(e,ex){this.$g=null;this.$n=null;this.$m=null;this.$k=null;this.$i=null;this.$l=null;this.$h=null;this.$j=null;this.fieldsChanged=null;this.rootFieldsNew=null;jC.call(this,ex,new kA(e,0));this.$j=ex;this.$d()},{get_allFields:function(){if(ss.isNullOrUndefined(this.$h)){this.$a()}return this.$h},get_dataSource:function(){return this.$j},$a:function(){var e=new Set;tab.SetUtilities.addAll(fA).call(null,e,_.values(this.$g));this.$h=tab.SetUtilities.getValues(fA).call(null,e)},findField:function(e){return this.$g[e]},findDrillPath:function(e){return this.$k[e]},findFieldContainer:function(e){return this.$l[e]},findFolderNew:function(e){return this.$m[e]},findRelationalTable:function(e){return this.$n[e]},findCubeFolder:function(e){return this.$i[e]},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update$1:function(e,ex){this.$b(e,ex,ss.mkdel(this,function(pC){this.$c(e[0],pC,ss.mkdel(this,this.$2));this.$c(e[1],pC,ss.mkdel(this,this.$5));this.$c(e[2],pC,ss.mkdel(this,this.$4));this.$c(e[3],pC,ss.mkdel(this,this.$6));this.$c(e[4],pC,ss.mkdel(this,this.$3));this.$c(e[5],pC,ss.mkdel(this,this.$7));this.$c(e[6],pC,ss.mkdel(this,this.$8))}))},update:function(e,ex){this.$b(e,ex,ss.mkdel(this,function(pC){var pD=function(pE){};this.$c(e,pC,pD)}))},$2:function(e){this.rootFieldsNew[0].push(e)},$5:function(e){this.rootFieldsNew[1].push(e)},$4:function(e){this.rootFieldsNew[2].push(e)},$6:function(e){this.rootFieldsNew[3].push(e)},$3:function(e){this.rootFieldsNew[4].push(ss.safeCast(e,fx))},$7:function(e){this.rootFieldsNew[5].push(e)},$8:function(e){this.rootFieldsNew[6].push(e)},$b:function(e,ex,pC){if(!this.$e(e)){return}this.$9();var pD=new fB(this.$g,this.$n,this.$m,this.$k,this.$l);this.$d();pC(pD);this.$1();this.swapPresModel(e);this.raiseEvent(this.fieldsChanged,ex)},$e:function(e){return ss.isValue(e)&&!_.isEqual(this.pm,e)},$9:function(){this.$h=null},$d:function(){this.$g={};this.$n={};this.$m={};this.$k={};this.$i={};this.$l={};this.rootFieldsNew={};this.rootFieldsNew[0]=[];this.rootFieldsNew[1]=[];this.rootFieldsNew[2]=[];this.rootFieldsNew[3]=[];this.rootFieldsNew[4]=[];this.rootFieldsNew[5]=[];this.rootFieldsNew[6]=[]},$1:function(){var e=_.keys(this.$g);for(var ex=0;ex<e.length;ex++){var pC=e[ex];var pD=this.$g[pC];this.$g[pD.get_localName()]=pD}},$c:function(e,ex,pC){if(ss.isNullOrUndefined(e)||e.length===0){return}for(var pD=0;pD<e.length;pD++){var pE=e[pD];var pF=fC.create(pE,this,ex);pC(pF);this.$f(pF)}},$f:function(e){if(ss.isInstanceOfType(e,kX)){var ex=ss.safeCast(e,kX);this.$n[e.get_globalName()]=ex;var pC=ex.get_columns();for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];this.$f(pE)}}else if(ss.isInstanceOfType(e,fW)){var pF=ss.safeCast(e,fW);this.$m[e.get_globalName()]=pF;var pG=pF.get_fields();for(var pH=0;pH<pG.length;pH++){var pI=pG[pH];this.$f(pI)}}else if(ss.isInstanceOfType(e,eM)){var pJ=ss.safeCast(e,eM);this.$k[e.get_globalName()]=pJ;var pK=pJ.get_levels();for(var pL=0;pL<pK.length;pL++){var pM=pK[pL];this.$f(pM)}}else if(ss.isInstanceOfType(e,dk)){var pN=ss.safeCast(e,dk);this.$g[e.get_globalName()]=pN;var pO=pN.get_levels();for(var pP=0;pP<pO.length;pP++){var pQ=pO[pP];this.$f(pQ)}var pR=pN.get_userDefinedAttributes();for(var pS=0;pS<pR.length;pS++){var pT=pR[pS];this.$f(pT)}}else if(ss.isInstanceOfType(e,de)){var pU=ss.safeCast(e,de);this.$g[e.get_globalName()]=pU;var pV=pU.get_cubeHierarchies();for(var pW=0;pW<pV.length;pW++){var pX=pV[pW];this.$f(pX)}var pY=pU.get_cubeFolders();for(var pZ=0;pZ<pY.length;pZ++){var qa=pY[pZ];this.$f(qa)}}else if(ss.isInstanceOfType(e,di)){var qb=ss.safeCast(e,di);this.$i[e.get_globalName()]=qb;var qc=qb.get_hierarchies();for(var qd=0;qd<qc.length;qd++){var qe=qc[qd];this.$f(qe)}var qf=qb.get_columns();for(var qg=0;qg<qf.length;qg++){var qh=qf[qg];this.$f(qh)}}else if(ss.isInstanceOfType(e,nA)){var qi=ss.safeCast(e,nA);this.$g[e.get_globalName()]=qi;var qj=qi.get_measures();for(var qk=0;qk<qj.length;qk++){var ql=qj[qk];this.$f(ql)}}else if(ss.isInstanceOfType(e,dm)){var qm=ss.safeCast(e,dm);this.$g[e.get_globalName()]=qm;var qn=qm.get_cubeAttributeDimensions();for(var qo=0;qo<qn.length;qo++){var qp=qn[qo];this.$f(qp)}var qq=qm.get_cubeHierarchies();for(var qr=0;qr<qq.length;qr++){var qs=qq[qr];this.$f(qs)}var qt=qm.get_cubeFolders();for(var qu=0;qu<qt.length;qu++){var qv=qt[qu];this.$f(qv)}}else if(ss.isInstanceOfType(e,jl)){var qw=ss.safeCast(e,jl);this.$g[e.get_globalName()]=qw;var qx=qw.get_linkedAttributes();for(var qy=0;qy<qx.length;qy++){var qz=qx[qy];this.$f(qz)}}else if(ss.isInstanceOfType(e,fx)){var qA=ss.safeCast(e,fx);this.$l[e.get_globalName()]=qA;var qB=qA.get_fields();for(var qC=0;qC<qB.length;qC++){var qD=qB[qC];this.$f(qD)}}else{this.$g[e.get_globalName()]=e}}});var fE=global.tab.FieldValueType=ss.mkEnum(a,'tab.FieldValueType',{localName:'localName',globalName:'globalName',qualifiedLocalName:'qualifiedLocalName',description:'description',userDescription:'userDescription',displayName:'displayName'},true);var fF=global.tab.FileConnectionInfo=ss.mkType(a,'tab.FileConnectionInfo',function(e,ex){this.$0=null;this.$1$1=null;this.$0=e;this.set_corsProxyUrlPrefix(ex)},{get_corsProxyUrlPrefix:function(){return this.$1$1},set_corsProxyUrlPrefix:function(e){this.$1$1=e},getSupportedExtensions:function(){return ss.arrayClone(this.$0)}});var fG=global.tab.FileDownloadHelper=ss.mkType(a,'tab.FileDownloadHelper',function(e){this.$2=null;this.$2=e},{downloadFile:function(e,ex,pC){if(tsConfig.is_mobile){e=ss.formatString('{0}{1}download=true',e,((e.indexOf(String.fromCharCode(63))===-1)?'?':'&'))}if(pC&&this.$0()){fG.$0(e)}else{var pD=fG.$1(ex);this.$1(e,pD)}},$1:function(e,ex){var pC=ex.item1;var pD=ex.item2;this.$2.showFileDownloadDialog(pC,pD,e,'_blank')},$0:function(){if(tsConfig.is_mobile){return false}if(tsConfig.clear_session_on_unload&&BrowserSupport.BrowserSupport.IsIE()){return false}if(BrowserSupport.BrowserSupport.IsSafari()){return false}return true}},{$0:function(e){var ex=document.createElement('a');ex.href=e;ex.download='';ex.style.display='none';document.body.appendChild(ex);ex.click();document.body.removeChild(ex)},$1:function(e){switch(e){case 1:{return{item1:tab.Strings.ExportCrosstabDialogTitle,item2:tab.Strings.ExportCrosstabDialogMessage}}case 2:{return{item1:tab.Strings.ExportDataDialogTitle,item2:tab.Strings.ExportDataDialogMessage}}case 0:{return{item1:tab.Strings.ExportImageDialogTitle,item2:tab.Strings.ExportImageDialogMessage}}case 4:{return{item1:tab.Strings.PrintPdfDialogTitle,item2:tab.Strings.PrintPdfDialogMessage}}case 5:{return{item1:tab.Strings.ExportPowerPointDialogTitle,item2:tab.Strings.ExportPowerPointDialogMessage}}default:{return{item1:tab.Strings.ExportFileConfirmationDialogTitle,item2:tab.Strings.ExportFileConfirmationDialogMessage}}}}});var fH=global.tab.FileUploadTelemetry=ss.mkType(a,'tab.FileUploadTelemetry',function(){this.$1$1=null},{$1:function(){return this.$1$1},$2:function(e){this.$1$1=e},$0:function(){return tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')},logFileUploadRequestEvent:function(e,ex,pC){if(this.$0()){this.$2(nJ.generateUUID());jT.logEvent('Authoring_DataTab_FileUpload_'+'RequestEvent',ss.mkdict(['FileUploadRequestID',this.$1(),'NumFiles',e,'Origin',ex.toString(),'Reason',pC.toString()]))}},logFileUploadStartEvent:function(e,ex,pC){if(this.$0()&&!ss.isNullOrEmptyString(this.$1())){jT.logEvent('Authoring_DataTab_FileUpload_'+'StartEvent',ss.mkdict(['FileUploadRequestID',this.$1(),'UploadID',e,'FileType',ex,'Size',pC]))}},logFileUploadSuccessEvent:function(e,ex){if(this.$0()&&!ss.isNullOrEmptyString(this.$1())){jT.logEvent('Authoring_DataTab_FileUpload_'+'SuccessEvent',ss.mkdict(['FileUploadRequestID',this.$1(),'UploadID',e,'UploadTime',ex]))}},logFileUploadFailureEvent:function(e,ex){if(this.$0()&&!ss.isNullOrEmptyString(this.$1())){jT.logEvent('Authoring_DataTab_FileUpload_'+'FailureEvent',ss.mkdict(['FileUploadRequestID',this.$1(),'UploadID',e,'ErrorType',ex.toString()]))}},logFileUploadRetryEvent:function(e){if(this.$0()&&!ss.isNullOrEmptyString(this.$1())){jT.logEvent('Authoring_DataTab_FileUpload_'+'RetryEvent',ss.mkdict(['FileUploadRequestID',this.$1(),'Retry',e.toString()]))}},logFileUploadReplaceEvent:function(e){if(this.$0()&&!ss.isNullOrEmptyString(this.$1())){jT.logEvent('Authoring_DataTab_FileUpload_'+'ReplaceEvent',ss.mkdict(['FileUploadRequestID',this.$1(),'AddReplace',e.toString()]))}},logFileUploadDSCreationEvent:function(e,ex,pC){if(this.$0()&&!ss.isNullOrEmptyString(this.$1())){jT.logEvent('Authoring_DataTab_FileUpload_'+'DSCreationEvent',ss.mkdict(['FileUploadRequestID',this.$1(),'Success',e,'Fail',ex,'DSCreationTime',pC]))}}},{getInstance:function(){if(ss.isNullOrUndefined(fH.$1)){fH.$1=new fH}return fH.$1}});var fI=global.tab.FileUploadTelemetry$AddReplaceType=ss.mkEnum(a,'tab.FileUploadTelemetry$AddReplaceType',{cancel:'cancel',replace:'replace',add:'add'},true);var fJ=global.tab.FileUploadTelemetry$ErrorType=ss.mkEnum(a,'tab.FileUploadTelemetry$ErrorType',{unsupported:'unsupported',type_mismatch:'type_mismatch',too_big:'too_big',empty:'empty',exists:'exists',multi_file_rejected:'multi_file_rejected',locked:'locked',upload_error:'upload_error',ds_error:'ds_error',upload_canceled:'upload_canceled'},true);var fK=global.tab.FileUploadTelemetry$FileUploadOrigin=ss.mkEnum(a,'tab.FileUploadTelemetry$FileUploadOrigin',{file_drop_joinarea:'file_drop_joinarea',file_drop_tablearea:'file_drop_tablearea',file_drop_connectionpill:'file_drop_connectionpill',file_drop_dialog:'file_drop_dialog',file_browse_dialog:'file_browse_dialog'},true);var fL=global.tab.FileUploadTelemetry$FileUploadReason=ss.mkEnum(a,'tab.FileUploadTelemetry$FileUploadReason',{create_ds:'create_ds',edit_connection:'edit_connection',create_connection:'create_connection'},true);var fM=global.tab.FileUploadTelemetry$RetryType=ss.mkEnum(a,'tab.FileUploadTelemetry$RetryType',{cancel:'cancel',skip:'skip',retry:'retry'},true);var fN=global.tab.FilterClientCommands=ss.mkType(a,'tab.FilterClientCommands',null,null,{setQuantitativeFilterRange:function(e,ex,pC,pD,pE){var pF=cN.newCommand({ns:'tabdoc',cmd:'range-filter'},{});cN.addVisualIdToCommand(pF.commandParams,e);pF.commandParams['globalFieldName']=ex;if(ss.isValue(pC)){pF.commandParams['filterRangeMin']=pC.toString()}if(ss.isValue(pD)){pF.commandParams['filterRangeMax']=pD.toString()}pF.commandParams['included']=pE.toString();mp.executeServerCommand(pF,'immediately',null,null)},makeCategoricalFilterValues:function(e,ex,pC,pD,pE){var pF=new cb;pF.c['visualIdPresModel']=e;pF.c['membershipTarget']=ex.get_membershipTarget();pF.c['globalFieldName']=ex.get_fieldName();pF.c['filterValues']=pC||[];pF.c['filterUpdateType']=pD;pF.c['heuristicCommandReinterpretation']=pE;return pF},setCategoricalQuickFilterToNothing:function(e,ex,pC){var pD=fN.makeCategoricalFilterValues(ex,pC,null,'filter-replace','do-not-reinterpret-command');pD.invokeImmediatelyAndWait(e)},setCategoricalQuickFilterToAll:function(e,ex,pC){var pD=fN.makeCategoricalFilterValues(ex,pC,null,'filter-all','do-not-reinterpret-command');pD.invokeImmediatelyAndWait(e)},replaceCategoricalFilterValues:function(e,ex,pC,pD){var pE=fN.makeCategoricalFilterValues(ex,pC,pD,'filter-replace','do-not-reinterpret-command');pE.invokeImmediatelyAndWait(e)},setCategoricalFilterValuesByIndex:function(e,ex,pC,pD){var pE=new bZ;pE.c['visualIdPresModel']=ex;pE.c['globalFieldName']=pC.get_fieldName();pE.c['membershipTarget']=pC.get_membershipTarget();pE.c['filterIndices']=pD||new Array(0);pE.c['filterUpdateType']='filter-replace';var pF=pE;pF.invokeImmediatelyAndWait(e)},modifyCategoricalFilterValues:function(e,ex,pC,pD,pE){if((!ss.isValue(pC)||pC.length===0)&&(!ss.isValue(pD)||pD.length===0)){return}var pF={};cN.addVisualIdToCommand(pF,e);pF['globalFieldName']=ex.get_fieldName();pF['membershipTarget']=ex.get_membershipTarget();if(ss.isValue(pC)&&pC.length>0){pF['filterAdd']=JSON.stringify(pC)}if(ss.isValue(pD)&&pD.length>0){pF['filterRemove']=JSON.stringify(pD)}pF['filterUpdateType']='filter-delta'.toString();if(pE){pF['filterUpdateQualifierType']='filter-update-custom-domain'.toString()}mp.executeServerCommand(cN.newCommand({ns:'tabdoc',cmd:'categorical-filter'},pF),'immediately',null,null)},modifyCategoricalFilterValuesByDelta:function(e,ex,pC,pD,pE){if(pD.length!==0||pE.length!==0){var pF=new bZ;pF.c['visualIdPresModel']=ex;pF.c['globalFieldName']=pC.get_fieldName();pF.c['membershipTarget']=pC.get_membershipTarget();pF.c['filterUpdateType']='filter-delta';pF.c['filterAddIndices']=pD;pF.c['filterRemoveIndices']=pE;var pG=pF;pG.invokeImmediatelyAndWait(e)}},setCategoricalQuickFilterMode:function(e,ex,pC){var pD={};cN.addVisualIdToCommand(pD,e);pD['categoricalMode']=pC.toString();pD['fn']=ex.get_fieldName();pD['membershipTarget']=ex.get_membershipTarget();mp.executeServerCommand(cN.newCommand({ns:'tabdoc',cmd:'categorical-quick-filter-mode'},pD),'immediately',null,null)},setCategoricalQuickFilterDomain:function(e,ex,pC){var pD={};cN.addVisualIdToCommand(pD,e);pD['filterDomainType']=pC.toString();pD['fn']=ex.get_fieldName();pD['membershipTarget']=ex.get_membershipTarget();mp.executeServerCommand(cN.newCommand({ns:'tabdoc',cmd:'domain-quick-filter'},pD),'immediately',null,null)},setPatternFilterState:function(e,ex,pC){var pD={};cN.addVisualIdToCommand(pD,e);pD['patternFilterString']=pC;pD['fn']=ex.get_fieldName();pD['membershipTarget']=ex.get_membershipTarget();mp.executeServerCommand(cN.newCommand({ns:'tabdoc',cmd:'categorical-quick-filter-pattern'},pD),'immediately',null,null)},addManualFilterItems:function(e,ex,pC,pD){var pE={charsetId:0,name:''};var pF={dataType:'cstring',stringCollation:pE};var pG=pC['tuples'];var pH=[];for(var pI=0;pI<pG.length;pI++){var pJ=pG[pI];var pK=pJ['d'];if(ss.isNullOrUndefined(pK)){var pL=pJ['t'];if(pL.length>0){pK=pL[0].v}}pH.push(pK)}pF.dataValues=pH;var pM={};cN.addVisualIdToCommand(pM,e);pM['dataColumn']=JSON.stringify(pF);pM['fn']=ex.get_fieldName();pM['membershipTarget']=ex.get_membershipTarget();pM['manualAdd']=pD;mp.executeServerCommand(cN.newCommand({ns:'tabdoc',cmd:'add-manual-items-to-filter'},pM),'immediately',null,null)},levelDrill:function(e,ex,pC,pD){var pE={};cN.addVisualIdToCommand(pE,e);pE['boolAggregateDrillUp']=pD.toString();pE['shelfType']=pC.toString();pE['position']=ex.toString();mp.executeServerCommand(cN.newCommand({ns:'tabdoc',cmd:'level-drill-up-down'},pE),'immediately',null,null)},updateCategoricalFilter:function(e){if(!bd.get_instance().get_isLocalRenderMode()){return}var ex=function(){return true};var pC=function(pD,pE){var pF=oJ.lookupAlias(pE,pD,bd.get_instance().get_dataDictionary());return!e.includesValue(pF)};fN.$4(e.get_identifier(),e.get_targetSheets(),ex,pC,true)},updateQuantitativeFilter:function(e){if(!bd.get_instance().get_isLocalRenderMode()){return}var ex=function(){var pD=!ss.isValue(e.get_currentMinVal())||ss.isValue(e.get_previousMinVal())&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(ss.unbox(e.get_currentMinVal()),ss.unbox(e.get_previousMinVal()));var pE=!ss.isValue(e.get_currentMaxVal())||ss.isValue(e.get_previousMaxVal())&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(ss.unbox(e.get_currentMaxVal()),ss.unbox(e.get_previousMaxVal()));return pD&&pE};var pC=function(pD,pE){var pF=oJ.lookupRawDataValue(pE,pD,bd.get_instance().get_dataDictionary());if(ss.isNullOrUndefined(pF)||pF==='%null%'){return false}if(pD.get_dataType()==='date'||pD.get_dataType()==='datetime'){var pG=tab.DateUtil.parsePresModelDate(pF);return!e.valueInRange(tab.DateUtil.dateTimeAsOleDate(pG))}else{return!e.valueInRange(parseFloat(pF))}};fN.$4(e.get_identifier(),e.get_targetSheets(),ex,pC,false)},applyFilter:function(e,ex,pC){var pD=e.get_vizDataModel();var pE=pD.getVizDataField(ex);var pF=function(pG){return pC(pE,pG)};return pE.tupleIdsThatPass(pF)},doRelativeDateQuickFilter:function(e,ex,pC,pD,pE){var pF=fN.$3(e,ex,pC,pD,pE);mp.executeServerCommand(cN.newCommand({ns:'tabdoc',cmd:'relative-date-filter'},pF),'immediately',null,null)},doLevelHierarchialFilter:function(e,ex,pC,pD,pE){var pF=fN.$0(e,ex,pC,pD,pE);mp.executeServerCommand(cN.newCommand({ns:'tabdoc',cmd:'hierarchical-filter'},pF),'immediately',null,null)},doMemberHierarchialFilter:function(e,ex,pC,pD,pE){var pF=fN.$1(e,ex,pC,pD,pE);mp.executeServerCommand(cN.newCommand({ns:'tabdoc',cmd:'hierarchical-filter'},pF),'immediately',null,null)},doRangeHierarchialFilter:function(e,ex,pC,pD,pE){var pF=fN.$2(e,ex,pC,pD,pE);mp.executeServerCommand(cN.newCommand({ns:'tabdoc',cmd:'hierarchical-filter'},pF),'immediately',null,null)},resetQuantitativeFilter:function(e,ex){for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];var pE=jF.getVisualModel(bd.get_instance(),pD);if(ss.isNullOrUndefined(pE)){continue}if(fO.canFilterLocally(new kG.$ctor1(e,'filter'),pD)){var pF=[];pE.setFilteredTuples(e,pF);pE.setHiddenTuples(e,pF)}oH.validateVisualModel(pE)}},removeFilterDialogCommands:function(e){var ex=cL.create(e);var pC=ex.get_commandItems();var pD={ns:'tabdoc',cmd:'edit-filter-dialog'}.cmd;var pE=tab.ListExtensions.where(Object).call(null,pC,function(pH){var pI=cC.create(pH).get_commandName();return ss.isValue(pI)&&pI.indexOf(pD)!==-1});for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];ss.remove(pC,pG)}ex.set_commandItems(pC)},$3:function(e,ex,pC,pD,pE){var pF={};cN.addVisualIdToCommand(pF,e);pF['globalFieldName']=ex;pF['datePeriodType']=pC;pF['dateRangeType']=pD;if(pD==='lastn'||pD==='nextn'){pF['rangeN']=pE}return pF},$0:function(e,ex,pC,pD,pE){var pF={};cN.addVisualIdToCommand(pF,e);var pG={};pG['filterLevelAdd']=pC;pG['filterLevelRemove']=pD;pF['globalFieldName']=ex;pF['filterOptions']=pG;pF['filterUpdateType']=pE;return pF},$1:function(e,ex,pC,pD,pE){var pF={};cN.addVisualIdToCommand(pF,e);var pG={};pG['filterAdd']=pC;pG['filterRemove']=pD;pF['globalFieldName']=ex;pF['filterOptions']=pG;pF['filterUpdateType']=pE;return pF},$2:function(e,ex,pC,pD,pE){var pF={};cN.addVisualIdToCommand(pF,e);var pG={};pG['filterRangeAdd']=pC;pG['filterRangeRemove']=pD;pF['globalFieldName']=ex;pF['filterOptions']=pG;pF['filterUpdateType']=pE;return pF},$4:function(e,ex,pC,pD,pE){var pF=new jo(function(pH){for(var pI=0;pI<ex.length;pI++){var pJ=ex[pI];var pK=jF.getVisualModel(bd.get_instance(),pJ);if(ss.isNullOrUndefined(pK)){continue}var pL=fO.canFilterLocally$1(pK,e);if(!pL||!pC()||ss.isNullOrUndefined(pK.get_vizDataModel().getVizDataField(e.get_fieldName()))){if(!pE){jF.setVisualValidAndUpToDateStateOnModel(pH,pK,false)}}else{var pM=[];pM=fN.applyFilter(pK,e.get_fieldName(),pD);pK.setFilteredTuples(e.get_fieldName(),pM);if(!pE){pK.setHiddenTuples(e.get_fieldName(),pM)}jF.setVisualValidAndUpToDateStateOnModel(pH,pK,true)}}});pF.set_commandName((pE?{ns:'tabdoc',cmd:'categorical-filter'}.cmd:{ns:'tabdoc',cmd:'range-filter'}.cmd));var pG=pF;cw.SendCommand(pG)}});var fO=global.tab.FilterClientCommandsHelpers=ss.mkType(a,'tab.FilterClientCommandsHelpers',null,null,{canFilterLocally:function(e,ex){var pC=jF.getVisualModel(bd.get_instance(),ex);return fO.canFilterLocally$1(pC,e)},canFilterLocally$1:function(e,ex){if(ex.get_membershipTarget()==='set'){return false}return ss.isValue(e)&&e.get_shouldUpdate()&&e.hasFilterFieldData(ex.get_fieldName())}});var fP=global.tab.FilterPresModelUtil=ss.mkType(a,'tab.FilterPresModelUtil',null,null,{convertDataTypeEnumToString:function(e){switch(e){case'integer':{return'i'}case'real':{return'r'}case'cstring':{return's'}case'datetime':{return't'}case'boolean':{return'b'}case'date':{return'd'}case'tuple':{return'l'}case'unknown':{return''}default:{throw new ss.Exception('Unsupported datatype: '+e.toString())}}},$3:function(e){var ex=new Object;ex.caption=[e.fieldCaption];ex.name=[e.uniqueName];ex.dataType=fP.convertDataTypeEnumToString(e.dataType);ex.hidden=e.isHidden;return ex},convertDomainTablePresModelToFakeFilterPresModelTable:function(e){var ex=e.categoricalFilter.domainTables;var pC=e.columnObjects;var pD=pC.length;var pE=new Object;pE.column=new Array(pD);pE.schema=new Array(pD);var pF=pE;for(var pG=0;pG<pD;pG++){var pH=pC[pG].uniqueName.toString();pF.column[pG]=pH;pF.schema[pG]=fP.$3(pC[pG])}pF.tuples=[];ex.forEach(function(pI){var pJ={d:pI.label,s:pI.isSelected,t:[{t:'s',v:pI.tuple[0].toString(),s:null}]};pF.tuples.push(pJ)});pF.actual_size=ss.ck(e.actualSize,ss.Int32);return pF},$2:function(e){switch(e){case'check-list':{return'checklist'}case'radio-list':{return'radiolist'}case'dropdown':{return'dropdown'}case'slider':{return'slider'}case'pattern':{return'pattern'}case'type-in-list':{return'typeinlist'}case'check-dropdown':{return'checkdropdown'}default:{return'checklist'}}},$0:function(e){switch(e){case'dimension':{return'd'}case'measure':{return'm'}case'unknown':{return null}default:{return null}}},$4:function(e){var ex=e.toString().split('].[');ex[0]=ex[0].substr(1);ex[ex.length-1]=ex[ex.length-1].substr(0,ex[ex.length-1].length-1);return ex},$1:function(e){switch(e){case'categorical':{return'C'}default:{throw new ss.Exception('Unsupported QuickFilterType: '+e.toString())}}},createFakeFilterPresModelWithQuickFilterPresModel:function(e){var ex=e;var pC=new Object;pC.caption=ex.quickFilterCaption;pC.name=fP.$4(ex.fn);pC.fieldName=ex.fn;pC.membershipTarget=ex.membershipTarget;pC.fieldCaption=ex.fieldCaption;pC.type=fP.$1(e.quickFilterType);pC.table=fP.convertDomainTablePresModelToFakeFilterPresModelTable(ex);pC.role=fP.$0(ex.fieldRole);pC.domainType=ex.filterDomainType;pC.exclude=ex.exclude;pC.all=ex.all;pC.allChecked=ex.allChecked;pC.isTiled=ex.isTiled;pC.allNotChecked=ex.allNotChecked;pC.summary=ex.selectionSummary;pC.mode=fP.$2(ex.categoricalMode);pC.rangeType=ex.categoricalFilter.filtersRangeType.toString();pC.is_searchable=ex.isSearchable;var pD=pC;pD.fieldDatasource=pD.name[0];return pD}});var fQ=global.tab.FilterReferenceUrl=ss.mkType(a,'tab.FilterReferenceUrl',function(e,ex,pC,pD){this.$3=null;this.$2=null;this.$0=null;this.$1=null;this.$3=e;this.$2=ex;this.$0=pC;this.$1=pD},{toUrl:function(){var e=(new mx(this.$3)).toSessionMethodOrSessionRootUrl(this.$1);var ex;switch(this.$0.get_membershipTarget()){case'filter':{ex='filters';break}case'set':{ex='sets';break}default:{throw new ss.NotSupportedException}}e+='/sheets/'+encodeURIComponent(fQ.$0(this.$2))+'/'+ex;if(ss.isValue(this.$0.get_fieldName())){e+='/'+encodeURIComponent(fQ.$0(this.$0.get_fieldName()))}return e}},{$0:function(e){var ex=new ss.ObjectEnumerator(fQ.$2);try{while(ex.moveNext()){var pC=ex.current();e=e.replace(pC.value,pC.key)}}finally{ex.dispose()}return e}});var fR=global.tab.FlipboardModel=ss.mkType(a,'tab.FlipboardModel',function(e){this.$1=null;this.$2$1=null;jC.call(this,e,new kA('flipboard'.toString(),null));this.$1=new nx(this);if(!tsConfig.is_authoring&&ss.isNullOrUndefined(fR.presModelCache)){fR.presModelCache=new ny}},{add_invalidateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_invalidateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_flipboardPresModel:function(){return this.pm},get_storyPointModel:function(){return this.$1.get_currentStoryPoint()},get_dashboardModel:function(){return this.get_storyPointModel().get_dashboardModel()},get_zoneId:function(){return this.parent.get_zone().get_zoneId()},get_currentStoryPointId:function(){return this.get_flipboardPresModel().activeStoryPointId},get_isEmpty:function(){return ss.isNullOrEmptyString(this.get_storyPointModel().get_currentSheet())},invalidated:function(e){this.raiseEvent(this.$2$1,e)},update:function(e,ex){if(ss.isValue(e.activeStoryPointId)){var pC=e.storyPoints[e.activeStoryPointId.toString()];this.$1.update(pC,ex)}this.swapPresModel(e)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)}});var fS=global.tab.FlipboardNavigatorModel=ss.mkType(a,'tab.FlipboardNavigatorModel',function(e){this.$3=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;jC.call(this,e,new kA('flipboardNav'.toString(),null));this.$3=[]},{add_newFlipboardNav:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newFlipboardNav:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_pointWasCaptured:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_pointWasCaptured:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_navArrowVisibilityChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_navArrowVisibilityChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_flipboardNavPresModel:function(){return this.pm},get_currentPointIndex:function(){return this.get_flipboardNavPresModel().currentStorypointIndex},get_storyPoints:function(){return this.get_flipboardNavPresModel().storypointNavItems},get_zone:function(){return this.parent.get_zone()},get_navType:function(){return this.get_flipboardNavPresModel().flipboardNavStyle.flipboardNavType},get_arrowVisibility:function(){return this.get_flipboardNavPresModel().navArrowsVisible},get_width:function(){return this.get_flipboardNavPresModel().selectedStoryPointStyle.w},get_height:function(){return this.get_flipboardNavPresModel().selectedStoryPointStyle.h},get_isStoryEmpty:function(){return this.get_flipboardNavPresModel().isStoryEmpty},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,ex){if(ss.isValue(e)){if(ss.isValue(e.selectedStoryPointStyle)){fZ.notifyFontsFromTextStylePresModel(e.selectedStoryPointStyle.textStyle)}if(ss.isValue(e.unselectedStoryPointStyle)){fZ.notifyFontsFromTextStylePresModel(e.unselectedStoryPointStyle.textStyle)}}var pC=ss.isValue(this.get_flipboardNavPresModel())&&e.navArrowsVisible!==this.get_flipboardNavPresModel().navArrowsVisible;this.$1(e);this.simpleSwapToUpdate(e,this.$2$1,ex);this.$2(ex);if(pC){this.raiseEvent(this.$2$3,ex)}},$1:function(e){if(ss.isNullOrUndefined(this.get_flipboardNavPresModel())){return}ss.clear(this.$3);if(e.storypointNavItems.length!==this.get_flipboardNavPresModel().storypointNavItems.length){return}var ex=this.get_flipboardNavPresModel().currentStorypointIndex;var pC=e.currentStorypointIndex;var pD=this.get_flipboardNavPresModel().storypointNavItems[ex];var pE=e.storypointNavItems[pC];if(ex!==pC&&pD.storyPointId===pE.storyPointId&&!pD.isCaptured&&pE.isCaptured){this.$3.push(pE.storyPointId)}var pF=_.filter(e.storypointNavItems,function(pK,pL){return pK.isCaptured===true&&pL!==e.currentStorypointIndex});for(var pG=0;pG<pF.length;pG++){var pH=pF[pG];var pI={$:pH.storyPointId};var pJ=_.find(this.get_flipboardNavPresModel().storypointNavItems,ss.mkdel({currentId:pI},function(pK){return pK.storyPointId===this.currentId.$}));if(ss.isNullOrUndefined(pJ)){continue}if(!pJ.isCaptured){this.$3.push(pI.$)}}},$2:function(e){for(var ex=0;ex<this.$3.length;ex++){var pC=this.$3[ex];this.raiseEvent$1(ss.UInt32).call(this,this.$2$2,pC,e)}}});var fT=global.tab.FloatingToolbarClientCommands=ss.mkType(a,'tab.FloatingToolbarClientCommands',null,null,{setDefaultMapToolSelectionCommand:function(e){var ex=cN.newCommand({ns:'tabdoc',cmd:'default-map-tool-selection'},null);ex.commandParams={};ex.commandParams['defaultMapToolEnum']=e;cw.SendCommand(new kZ(ex,'immediately',null,null))}});var fU=global.tab.FolderModel=ss.mkType(a,'tab.FolderModel',function(e){this.$1=null;fA.call(this,e)},{get_fields:function(){return this.$1},get_folderRole:function(){return this.pm.folderRole},get_instanceType:function(){return'folder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex}});var fV=global.tab.FolderModelFactory=ss.mkType(a,'tab.FolderModelFactory',null,null,{create:function(e,ex,pC){var pD=fV.$0(e,ex,pC);var pE=(ss.keyExists(pC.get_folders(),e.fn)?pC.get_folders()[e.fn].asFolderNew():new fW(ex));pE.update(e,pD);return pE},$0:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e.fieldList)){return pD}for(var pE=0;pE<e.fieldList.length;pE++){var pF=e.fieldList[pE];pD.push(fC.create(pF,ex,pC))}return pD}});var fW=global.tab.FolderNewModel=ss.mkType(a,'tab.FolderNewModel',function(e){this.$1=null;fA.call(this,e)},{get_fields:function(){return this.$1},get_folderRole:function(){return this.pm.folderRole},get_instanceType:function(){return'folderNew'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex;for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];pD.set_parentFolderName(this.get_globalName())}}});var fX=global.tab.FontFamily=ss.mkType(a,'tab.FontFamily',function(e,ex){this.$1$1=null;this.$1$2=null;this.set_fontGroup(e);this.set_fonts(ex)},{get_fontGroup:function(){return this.$1$1},set_fontGroup:function(e){this.$1$1=e},get_fonts:function(){return this.$1$2},set_fonts:function(e){this.$1$2=e}},{$ctor1:function(){this.$1$1=null;this.$1$2=null}});var fY=global.tab.FontFamilyProviderBuilder=ss.mkType(a,'tab.FontFamilyProviderBuilder',null,null,{createFontFamilyBuilder:function(){return new ok}});var fZ=global.tab.FontNotificationUtil=ss.mkType(a,'tab.FontNotificationUtil',null,null,{add_fontPropertiesIdentified:function(e){fZ.$1$1=ss.delegateCombine(fZ.$1$1,e)},remove_fontPropertiesIdentified:function(e){fZ.$1$1=ss.delegateRemove(fZ.$1$1,e)},add_allFontsFound:function(e){fZ.$1$2=ss.delegateCombine(fZ.$1$2,e)},remove_allFontsFound:function(e){fZ.$1$2=ss.delegateRemove(fZ.$1$2,e)},notifyFontsFromVisualListPresModel:function(e){if(ss.isNullOrUndefined(e)){return}var ex=new ho;var pC={type:'draw-group',drawItems:e.drawItems};fZ.$1(ex.extractFontFromPresModel(pC))},notifyFontsFromTextRegionPresModel:function(e){if(ss.isNullOrUndefined(e)){return}fZ.$1(fZ.$7(e.html))},notifyFontsFromServerButtonZonePresModel:function(e){if(ss.isNullOrUndefined(e)){return}var ex=fZ.$8(e);if(!ss.isNullOrEmptyString(ex.get_fontFamily())){var pC={};fZ.$3(pC,ex);fZ.$1(_.values(pC))}},$8:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.dashboardButtonSharedInfo)||ss.isNullOrUndefined(e.dashboardButtonSharedInfo.buttonVisualStates)||ss.isNullOrUndefined(e.dashboardButtonSharedInfo.buttonVisualStates[e.dashboardButtonSharedInfo.activeVisualStateIndex])||ss.isNullOrUndefined(e.dashboardButtonSharedInfo.buttonVisualStates[e.dashboardButtonSharedInfo.activeVisualStateIndex].buttonCaptionFontFormat)||ss.isNullOrUndefined(e.dashboardButtonSharedInfo.buttonVisualStates[e.dashboardButtonSharedInfo.activeVisualStateIndex].buttonCaptionFontFormat.fontName)){return new ga}var ex=e.dashboardButtonSharedInfo.buttonVisualStates[e.dashboardButtonSharedInfo.activeVisualStateIndex].buttonCaptionFontFormat;var pC=(ex.isFontBold?'font-weight-bold':'font-weight-normal');var pD=new ga;pD.set_fontFamily(ex.fontName);pD.set_weight(fZ.getFontAttribute(pC));return pD},getFontsFromUberTipDataPresModel:function(e){if(ss.isNullOrUndefined(e)){return[]}var ex={};for(var pC=0;pC<e.ubertipPaneDatas.length;pC++){var pD=e.ubertipPaneDatas[pC];var pE=fZ.$7(pD.htmlTooltip);for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];fZ.$3(ex,pG)}}return _.values(ex)},notifyFontsFromUberTipDataPresModel:function(e){fZ.$1(fZ.getFontsFromUberTipDataPresModel(e))},notifyFontsFromPagePresModel:function(e){if(ss.isNullOrUndefined(e)){return}fZ.$1(fZ.$7(e.titleHtml))},notifyFontsFromQuantitativeColorLegendPresModel:function(e){if(ss.isNullOrUndefined(e)){return}var ex={};fZ.$3(ex,fZ.$9(e.labelTextStyle));fZ.$4(ex,e.titleHtml);fZ.$1(_.values(ex))},notifyFontsFromCategoricalLegendPresModel:function(e){if(ss.isNullOrUndefined(e)){return}var ex={};fZ.$3(ex,fZ.$9(e.textStyle));fZ.$3(ex,fZ.$9(e.titleStyleModel));fZ.$3(ex,fZ.$9(e.selectedTextStyleModel));fZ.$4(ex,e.titleHtml);fZ.$1(_.values(ex))},notifyFontsFromServerRenderedLegendPresModel:function(e){if(ss.isNullOrUndefined(e)){return}var ex={};fZ.$4(ex,e.titleHtml);fZ.$1(_.values(ex))},notifyFontsFromUberTipPresModel:function(e){if(ss.isNullOrUndefined(e)){return}fZ.$1(fZ.$7(e.htmlTooltip))},$7:function(e){var ex={};fZ.$4(ex,e);return _.values(ex)},$9:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.fontName)){return new ga}var ex=new ga;ex.set_fontFamily(e.fontName);ex.set_weight(ss.coalesce(e.fontWeight,''));ex.set_style(ss.coalesce(e.fontStyle,''));return ex},notifyFontsFromTextStylePresModel:function(e){var ex=[];var pC=fZ.$9(e);if(!ss.isNullOrEmptyString(pC.get_fontFamily())){ex.push(pC)}fZ.$1(ex)},notifyFontsFromMarkLayoutOutput:function(e){if(ss.isValue(e)){fZ.notifyFontsFromTextStyleTable(e.TextStyleTable)}},notifyFontsFromTextStyleTable:function(e){if(ss.isValue(e)&&ss.isValue(e.font)){var ex=e.font.map(ss.mkdel(this,function(pC,pD){var pE=((ss.isValue(e.font_style)&&pD<e.font_style.length)?fZ.$5(e.font_style[pD]):'font-style-normal');var pF=((ss.isValue(e.font_weight)&&pD<e.font_weight.length)?fZ.$6(e.font_weight[pD]):'font-weight-normal');var pG=new ga;pG.set_fontFamily(pC);pG.set_style(fZ.getFontAttribute(pE));pG.set_weight(fZ.getFontAttribute(pF));return pG}));fZ.$1(ex)}},getFontAttribute:function(e){var ex=3;var pC=e.split('-');return((pC.length===ex)?pC[ex-1]:'')},notifyFontFromTextStyle:function(e){var ex=new ga;ex.set_fontFamily(e.font);ex.set_style(((tab.EnumConversions.tableauFontStyleFromInt(e.font_style)==='font-style-italic')?'italic':'normal'));ex.set_weight(((tab.EnumConversions.fontWeightFromInt(e.font_weight)==='font-weight-bold')?'bold':'normal'));var pC=ex;fZ.$1([pC])},$3:function(e,ex){if(ss.isNullOrEmptyString(ex.get_fontFamily())){return}e[ex.get_hash()]=ex},$4:function(e,ex){if(ss.isNullOrEmptyString(ex)){return}var pC=$(ex).find('[style]').addBack();for(var pD=0;pD<pC.length;pD++){var pE=pC[pD].style.fontFamily;var pF=pC[pD].style.fontWeight;if(ss.isNullOrEmptyString(pE)){continue}var pG=new ga;pG.set_fontFamily(pE);pG.set_weight(pF);fZ.$3(e,pG)}},$2:function(e,ex,pC){var pD='';var pE='';var pF='';if(ss.keyExists(ex,'font_style')&&parseInt(ex['font_style'].dataValues[pC].toString())===1){pE='italic'}if(ss.keyExists(ex,'font_weight')&&parseInt(ex['font_weight'].dataValues[pC].toString())===1){pD='bold'}if(ss.keyExists(ex,'font')){pF=ex['font'].dataValues[pC].toString()}if(ss.isNullOrEmptyString(pF)){return}var pG=new ga;pG.set_fontFamily(pF);pG.set_weight(pD);pG.set_style(pE);var pH=pG;fZ.$3(e,pH)},$5:function(e){switch(e){case 0:{return'font-style-normal'}case 1:{return'font-style-italic'}default:{return'font-style-normal'}}},$6:function(e){switch(e){case 0:{return'font-weight-normal'}case 1:{return'font-weight-bold'}default:{return'font-weight-normal'}}},$1:function(e){if(!ss.staticEquals(fZ.$1$1,null)&&!tab.MiscUtil.isNullOrEmpty$2(e)){fZ.$1$1(e)}},$0:function(){if(!ss.staticEquals(fZ.$1$2,null)){fZ.$1$2()}}});var ga=global.tab.FontProperties=ss.mkType(a,'tab.FontProperties',function(){this.$2='normal';this.$3='normal';this.$1='';this.$0=''},{get_fontFamily:function(){return this.$1},set_fontFamily:function(e){this.$1=e;this.$0=''},get_weight:function(){return this.$3},set_weight:function(e){if(ss.isNullOrEmptyString(e)){this.$3='normal'}else{this.$3=e}this.$0=''},get_style:function(){return this.$2},set_style:function(e){if(ss.isNullOrEmptyString(e)){this.$2='normal'}else{this.$2=e}this.$0=''},get_hash:function(){if(this.$0===''){this.$0=this.get_fontFamily().replace(ga.matchQuotes,'').toLowerCase()+'-<%>-'+this.$3.toLowerCase()+'-<%>-';if(this.get_fontFamily().toLowerCase().indexOf('tableau')!==-1){this.$0+='normal'}else{this.$0+=this.$2.toLowerCase()}}return this.$0},equals$1:function(e){var ex=ss.replaceAllString(ss.replaceAllString(this.get_fontFamily(),"'",''),'"','');var pC=ss.replaceAllString(ss.replaceAllString(e.get_fontFamily(),"'",''),'"','');return ss.compareStrings(ex,pC,true)===0&&ss.compareStrings(this.get_weight(),e.get_weight(),true)===0&&ss.compareStrings(this.get_style(),e.get_style(),true)===0}});var gb=global.tab.FormatContainerModel=ss.mkType(a,'tab.FormatContainerModel',function(e){this.$5=null;this.$6=false;this.$4=ss.mkdict(['line-drop',1]);this.$3$1=null;ge.call(this,e)},{get_typeOfFormatContainer:function(){return this.pm.typeOfFormatContainer},get_items:function(){return this.$5},get_name:function(){if(this.get_isFormatSection()){return this.pm.name}else if(this.get_isFormatPane()){return this.pm.name}else{return null}},get_pickerType:function(){if(this.get_isCompositeContainer()){return this.pm.pickerType}else if(this.get_isTabGroup()){return this.pm.pickerType}else{return'none'}},get_previewProperties:function(){return this.$3$1},set_previewProperties:function(e){this.$3$1=e},get_isCollapsedByDefault:function(){if(this.get_isCollapsibleSection()){return this.pm.collapsed}else{return false}},get_label:function(){if(this.get_isUnitContainer()){return this.pm.label}else if(this.get_isTab()){return this.pm.label}else{return null}},get_isChanged:function(){if(this.get_isUnitContainer()){return this.pm.isChanged}else{return false}},get_clearCommand:function(){if(this.get_isUnitContainer()){return this.pm.clearFormatCommandModel}else{return null}},get_isVisible:function(){return this.$6},set_isVisible:function(e){if(this.$6!==e){this.$6=e;this.raiseUpdated()}},get_subsections:function(){var e=[];var ex=this.asFormatContainer().get_items();for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];e.push(pD)}return e},$2:function(e){this.set_previewProperties({});for(var ex=0;ex<e.length;ex++){var pC=e[ex];if(!pC.get_isFormatControl()){continue}var pD=pC.asFormatControl();var pE=pD.get_widgetKey();switch(pE){case'fontSize':case'lineSize':{this.get_previewProperties()[pE]=pD.get_numericValue();break}case'fontFamily':case'lineVisibility':case'linePattern':{this.get_previewProperties()[pE]=pD.get_textValue();break}case'colorSwatch':{this.get_previewProperties()[pE]=pD.get_colorValue();break}case'bold':case'italics':case'underline':{this.get_previewProperties()[pE]=pD.get_toggleValue();break}default:{break}}}},updatePreviewForTab:function(e){if(e>=0&&this.get_items().length>=e+1&&this.get_items()[e].get_isTab()){this.$2(this.get_items()[e].asFormatContainer().get_items())}},$3:function(){return this.pm.formatItemList.filter(ss.mkdel(this,function(e){return!ss.keyExists(this.$4,e.widgetUniqueId)}))},update:function(e,ex){this.simpleSwapToUpdate(e,ss.mkdel(this,function(){this.raiseUpdated()}),ex);var pC=this.$3();if(ss.isNullOrUndefined(this.$5)){this.$5=[];for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];this.$5.push(ge.createModel(this,pE,ex))}}else if(ss.isValue(pC)){for(var pF=0;pF<pC.length;pF++){var pG=pC[pF];this.$5[pF].update(pG,ex)}}if(this.get_isTabGroup()){this.updatePreviewForTab(0)}else{this.$2(this.get_items())}}},{get_formatPaneModel:function(){return bd.get_instance().get_workbook().get_formatPaneModel()}});var gc=global.tab.FormatControlModel=ss.mkType(a,'tab.FormatControlModel',function(e){ge.call(this,e)},{get_typeOfFormatControl:function(){return this.pm.typeOfFormatControl},get_commandRedirectType:function(){return this.pm.commandRedirectType},get_formatCommand:function(){return this.pm.formatCommandModel},get_simpleCommand:function(){return cJ.deserialize(nj.create(this.get_formatCommand()).get_simpleCommand(),false)},get_widgetKey:function(){return this.pm.formatWidgetKey},get_isEnabled:function(){return this.pm.isEnabled},get_textValue:function(){return this.pm.valueString},get_numericValue:function(){return this.pm.valueInt},get_colorValue:function(){return this.pm.color},get_canBeAuto:function(){return this.pm.canBeAuto},get_canBeNone:function(){return this.pm.canBeNone},get_canMatchMarkColor:function(){return this.pm.canMatchMarkColor},get_hasOpacity:function(){return this.pm.hasOpacity},get_colorSwatchType:function(){return this.pm.formatColorSwatchType},get_selectorValue:function(){return this.pm.valueString},get_toggleValue:function(){return this.pm.bool}});var gd=global.tab.FormatItemExtensions=ss.mkType(a,'tab.FormatItemExtensions',null,null,{hasPreview:function(e){return e==='compositeContainer'||e==='tabGroup'}});var ge=global.tab.FormatItemModel=ss.mkType(a,'tab.FormatItemModel',function(e){this.$2$1=null;jC.call(this,e,new kA('formatItem'.toString(),null))},{add_updated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_typeOfFormatItem:function(){return this.$1().typeOfFormatItem},get_widgetIdentifier:function(){return this.$1().widgetUniqueId},get_isFormatContainer:function(){return this.get_typeOfFormatItem()==='formatContainer'},get_isFormatPane:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatPane'},get_isFormatSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatSection'},get_isCollapsibleSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='collapsibleSection'},get_isCompositeContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='compositeContainer'},get_isUnitContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='unitContainer'},get_isTabGroup:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tabGroup'},get_isTab:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tab'},get_isFormatControl:function(){return this.get_typeOfFormatItem()==='formatControl'},get_isTextControl:function(){return this.get_isFormatControl()&&this.asFormatControl().get_typeOfFormatControl()==='text-control'},raiseUpdated:function(){if(!ss.staticEquals(this.$2$1,null)&&ss.isValue(this.$1())){this.$2$1()}},asFormatContainer:function(){return ss.safeCast(this,gb)},asFormatControl:function(){return ss.safeCast(this,gc)},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},{createModel:function(e,ex,pC){switch(ex.typeOfFormatItem){case'formatContainer':{var pD=new gb(e);pD.update(ex,pC);return pD}case'formatControl':{var pE=new gc(e);pE.update(ex,pC);return pE}default:{return null}}}});var gf=global.tab.FormattingConverters=ss.mkType(a,'tab.FormattingConverters',null,null,{getCSSBorderStyle:function(e){var ex='solid';switch(e){case'bs-dashed':{ex='dashed';break}case'bs-dotted':{ex='dotted';break}case'bs-double':{ex='double';break}case'bs-groove':{ex='groove';break}case'bs-hidden':{ex='hidden';break}case'bs-inset':{ex='inset';break}case'bs-outset':{ex='outset';break}case'bs-ridge':{ex='ridge';break}case'bs-solid':{ex='solid';break}case'bs-none':{ex='none';break}default:{break}}return ex},makeStyledBoxCssDict:function(e,ex){var pC={};if(ss.isValue(e)){pC=gf.makeBorderStyleDict(e);if(e.hasFill){var pD=ct.fromColorCode(e.fillColor);pC['background-color']=(ex?pD.toString():pD.toRgb())}}return pC},makeFormatStyleDict:function(e,ex){if(ss.isNullOrUndefined(e)){return{}}var pC={'font-size':e.fontSize+'pt',color:e.color};if(ss.isValue(e.fontName)&&ss.keyExists(gf.$3,e.fontName)){pC['font-family']=gf.$3[e.fontName]}else if(ss.isValue(e.fontName)){var pD=e.fontName.split(',');tab.FontUtil.addDefaultFontForTableau(pD);for(var pE=0;pE<pD.length;pE++){pD[pE]=tab.FontUtil.addQuotationMarks(pD[pE].trim(),false)}pC['font-family']=pD.join(',');gf.$3[e.fontName]=pC['font-family']}if(ss.isValue(ex)){pC.color=ex}if(e.fontStyle==='font-style-italic'){pC['font-style']='italic'}if(e.fontWeight==='font-weight-bold'){pC['font-weight']='bold'}var pF='none';switch(e.textDecoration){case'text-decoration-overline':{pF='overline';break}case'text-decoration-strikethrough':{pF='line-through';break}case'text-decoration-underline':{pF='underline';break}}if(pF!=='none'){pC['text-decoration']=pF}if(ss.isValue(e.wrapMode)){switch(e.wrapMode){case'text-wrap-off':{pC['white-space']='nowrap';break}case'text-wrap-truncate':{pC['overflow-x']='hidden';break}}}return pC},makeBorderStyleDict:function(e){var ex={};if(ss.isValue(e.uw)){ex['border-width']=e.uw+'px'}if(ss.isValue(e.borderColor)){ex['border-color']=e.borderColor}if(ss.isValue(e.uw)){ex['border-style']=gf.getCSSBorderStyle(e.borderStyle)}if(ss.isValue(e.padding)){var pC=e.padding+'px';ex['padding-bottom']=pC;ex['padding-top']=pC;ex['padding-right']=pC;ex['padding-left']=pC}return ex},getTextBaseline:function(e){var ex='bottom';switch(e){case'v-align-bottom':{ex='bottom';break}case'v-align-top':{ex='top';break}case'v-align-center':{ex='middle';break}default:{break}}return ex},cleanUpFontFamilyStyles:function(e){var ex=e.find('span');for(var pC=0;pC<ex.length;++pC){var pD=ex.eq(pC);var pE=new ii(pD);gf.cleanUpFontFamilyStyling(pE)}},cleanUpFontFamilyStyling:function(e){var ex=e.get_getFontFamily();if(!ss.isNullOrEmptyString(ex)){var pC={};var pD=[];pD.push(ex);if(ss.startsWithString(ex,"'")||ss.startsWithString(ex,'"')){ex=ex.substr(1,ex.length-2)}ex=gf.$1(e,pD,pC,ex,gf.$5,'font-style','fontStyle',false);ex=gf.$1(e,pD,pC,ex,gf.$6,'font-weight','fontWeight',true);gf.$1(e,pD,pC,ex,gf.$4,'font-stretch','fontStretch',false);tab.FontUtil.addDefaultFontForTableau(pD);if(pD.length>1){pC['font-family']=pD.join(',');e.setCSS(pC)}}},$1:function(e,ex,pC,pD,pE,pF,pG,pH){var pI=pD.toLowerCase();for(var pJ=0;pJ<pE.length;pJ++){var pK=pE[pJ];if(ss.endsWithString(pI,pK.item1)){pD=pD.substr(0,pI.lastIndexOf(pK.item1)).trim();ex.push("'"+pD+"'");if(!gf.$0(e,pG)){pC[pF]=pK.item2}if(pH){return pD}}}return pD},$0:function(e,ex){return e.hasStyleProperty(ex)}});var gg=global.tab.FormattingUtil=ss.mkType(a,'tab.FormattingUtil',null,null,{get_getBrowserStoredFontString:function(){return window.sessionStorage.getItem(gg.fontListStorageKey)},get_hasBrowserStoredFontList:function(){return ss.isValue(gg.get_getBrowserStoredFontString())},$0:function(){var ex=gg.get_getBrowserStoredFontString();if(ss.isNullOrUndefined(ex)){return null}var pC=null;try{pC=JSON.parse(ex)}catch(pD){var e=ss.Exception.wrap(pD);tab.ErrorTrace.report(e,false)}return pC},compatibleFontNameList:function(){var e=gg.$0();if(ss.isValue(e)){return e}jk.get_waitHandler().showAndLock();var ex=fY.createFontFamilyBuilder();ex.addFontList((new pb(new nk.$ctor1(bd.get_instance().get_serverFonts()))).get_fontFamilies());ex.addFontList((new nk).get_fontFamilies());var pC=ex.toFontFamilyProvider();var pD=[];var pE=pC.get_fontFamilies();for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];pD.push(pG.get_fontGroup())}window.sessionStorage.setItem(gg.fontListStorageKey,JSON.stringify(pD));jk.get_waitHandler().unlock();jk.get_waitHandler().nudge();return pD}});var gh=global.tab.GetAlertMeasuresFromSelectionCmd=ss.mkType(a,'tab.GetAlertMeasuresFromSelectionCmd',function(){ss.makeGenericType(bl,[Object,gi]).call(this)},{get_commandId:function(){return gh.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-alert-measures-from-selection'},this.c))}});var gi=global.tab.GetAlertMeasuresFromSelectionCmd$Response=ss.mkType(a,'tab.GetAlertMeasuresFromSelectionCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasAlertMeasures:function(){return true}});var gj=global.tab.GetAthenaServiceUrlCmd=ss.mkType(a,'tab.GetAthenaServiceUrlCmd',function(){ss.makeGenericType(bl,[Object,gk]).call(this)},{get_commandId:function(){return gj.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-athena-service-url'},this.c))}});var gk=global.tab.GetAthenaServiceUrlCmd$Response=ss.mkType(a,'tab.GetAthenaServiceUrlCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasAthenaUrl:function(){return true}});var gl=global.tab.GetButtonConfigDialogCmd=ss.mkType(a,'tab.GetButtonConfigDialogCmd',function(){ss.makeGenericType(bl,[Object,gm]).call(this)},{get_commandId:function(){return gl.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-button-config-dialog'},this.c))}});var gm=global.tab.GetButtonConfigDialogCmd$Response=ss.mkType(a,'tab.GetButtonConfigDialogCmd$Response',function(e){this.$$c=null;this.$$c=e});var gn=global.tab.GetCompositeClassNameCmd=ss.mkType(a,'tab.GetCompositeClassNameCmd',function(){ss.makeGenericType(bl,[Object,go]).call(this)},{get_commandId:function(){return gn.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabsrv',cmd:'get-composite-class-name'},this.c))}});var go=global.tab.GetCompositeClassNameCmd$Response=ss.mkType(a,'tab.GetCompositeClassNameCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCompositeClassName:function(){return true}});var gp=global.tab.GetConnectionSettingsPresModelCmd=ss.mkType(a,'tab.GetConnectionSettingsPresModelCmd',function(){ss.makeGenericType(bl,[Object,gq]).call(this)},{get_commandId:function(){return gp.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-connection-settings-pres-model'},this.c))}});var gq=global.tab.GetConnectionSettingsPresModelCmd$Response=ss.mkType(a,'tab.GetConnectionSettingsPresModelCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasConnectionSettings:function(){return true},hasReconnectAuthenticationSettings:function(){return ss.keyExists(this.$$c,'reconnectAuthSettings')}});var gr=global.tab.GetCustomizedViewPromiseResult=ss.mkType(a,'tab.GetCustomizedViewPromiseResult',function(e){this.CV=null;this.errorMessage=null;this.errorMessage=e},null,{$ctor1:function(e){this.CV=null;this.errorMessage=null;this.CV=e}});var gs=global.tab.GetDashboardDragDropCmd=ss.mkType(a,'tab.GetDashboardDragDropCmd',function(){ss.makeGenericType(bl,[Object,gt]).call(this)},{get_commandId:function(){return gs.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-dashboard-drag-drop'},this.c))}});var gt=global.tab.GetDashboardDragDropCmd$Response=ss.mkType(a,'tab.GetDashboardDragDropCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasDragDrop:function(){return true}});var gu=global.tab.GetDashboardPreviewPortSizeCmd=ss.mkType(a,'tab.GetDashboardPreviewPortSizeCmd',function(){ss.makeGenericType(bl,[Object,gv]).call(this)},{get_commandId:function(){return gu.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-dashboard-preview-port-size'},this.c))}});var gv=global.tab.GetDashboardPreviewPortSizeCmd$Response=ss.mkType(a,'tab.GetDashboardPreviewPortSizeCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasPortSizeName:function(){return true},hasWidth:function(){return true},hasHeight:function(){return true}});var gw=global.tab.GetDashboardSizingCmd=ss.mkType(a,'tab.GetDashboardSizingCmd',function(){ss.makeGenericType(bl,[Object,gx]).call(this)},{get_commandId:function(){return gw.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-dashboard-sizing'},this.c))}});var gx=global.tab.GetDashboardSizingCmd$Response=ss.mkType(a,'tab.GetDashboardSizingCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasSizingPresModel:function(){return true}});var gy=global.tab.GetDataAlertConditionInfoMapCmd=ss.mkType(a,'tab.GetDataAlertConditionInfoMapCmd',function(){ss.makeGenericType(bl,[Object,gz]).call(this)},{get_commandId:function(){return gy.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-data-alert-condition-info-map'},this.c))}});var gz=global.tab.GetDataAlertConditionInfoMapCmd$Response=ss.mkType(a,'tab.GetDataAlertConditionInfoMapCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasDataAlertConditionInfoMap:function(){return true}});var gA=global.tab.GetDataAlertInfoCmd=ss.mkType(a,'tab.GetDataAlertInfoCmd',function(){ss.makeGenericType(bl,[Object,gB]).call(this)},{get_commandId:function(){return gA.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-data-alert-info'},this.c))}});var gB=global.tab.GetDataAlertInfoCmd$Response=ss.mkType(a,'tab.GetDataAlertInfoCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasDataAlertMeasureText:function(){return true},hasDataAlertConditionText:function(){return true},hasDataAlertThresholdText:function(){return true}});var gC=global.tab.GetDataHighlighterMenuCmd=ss.mkType(a,'tab.GetDataHighlighterMenuCmd',function(){ss.makeGenericType(bl,[Object,gD]).call(this)},{get_commandId:function(){return gC.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-data-highlighter-menu'},this.c))}});var gD=global.tab.GetDataHighlighterMenuCmd$Response=ss.mkType(a,'tab.GetDataHighlighterMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return true}});var gE=global.tab.GetDataSourceDataPresModelCmd=ss.mkType(a,'tab.GetDataSourceDataPresModelCmd',function(){ss.makeGenericType(bl,[Object,gF]).call(this)},{get_commandId:function(){return gE.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-datasource-data-pres-model'},this.c))}});var gF=global.tab.GetDataSourceDataPresModelCmd$Response=ss.mkType(a,'tab.GetDataSourceDataPresModelCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasData:function(){return true}});var gG=global.tab.GetDropFieldAggregationsCmd=ss.mkType(a,'tab.GetDropFieldAggregationsCmd',function(){ss.makeGenericType(bl,[Object,gH]).call(this)},{get_commandId:function(){return gG.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-drop-field-aggregations'},this.c))}});var gH=global.tab.GetDropFieldAggregationsCmd$Response=ss.mkType(a,'tab.GetDropFieldAggregationsCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasFilterMeasureSelection:function(){return ss.keyExists(this.$$c,'filterSelectMeasure')}});var gI=global.tab.GetDSParamsFromPresModelCmd=ss.mkType(a,'tab.GetDSParamsFromPresModelCmd',function(){ss.makeGenericType(bl,[Object,gJ]).call(this)},{get_commandId:function(){return gI.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-dsparams-from-pres-model'},this.c))}});var gJ=global.tab.GetDSParamsFromPresModelCmd$Response=ss.mkType(a,'tab.GetDSParamsFromPresModelCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasDSParams:function(){return true}});var gK=global.tab.GetFileConnectionFileListCmd=ss.mkType(a,'tab.GetFileConnectionFileListCmd',function(){ss.makeGenericType(bl,[Object,gL]).call(this)},{get_commandId:function(){return gK.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-file-connection-file-list'},this.c))}});var gL=global.tab.GetFileConnectionFileListCmd$Response=ss.mkType(a,'tab.GetFileConnectionFileListCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasFileNames:function(){return true}});var gM=global.tab.GetHasUnusedFilesCmd=ss.mkType(a,'tab.GetHasUnusedFilesCmd',function(){ss.makeGenericType(bl,[Object,gN]).call(this)},{get_commandId:function(){return gM.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-has-unused-files'},this.c))}});var gN=global.tab.GetHasUnusedFilesCmd$Response=ss.mkType(a,'tab.GetHasUnusedFilesCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasHasUnusedFiles:function(){return true}});var gO=global.tab.GetLegendMenuCmd=ss.mkType(a,'tab.GetLegendMenuCmd',function(){ss.makeGenericType(bl,[Object,gP]).call(this)},{get_commandId:function(){return gO.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-legend-menu'},this.c))}});var gP=global.tab.GetLegendMenuCmd$Response=ss.mkType(a,'tab.GetLegendMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return true}});var gQ=global.tab.GetPageCardMenuCmd=ss.mkType(a,'tab.GetPageCardMenuCmd',function(){ss.makeGenericType(bl,[Object,gR]).call(this)},{get_commandId:function(){return gQ.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-page-card-menu'},this.c))}});var gR=global.tab.GetPageCardMenuCmd$Response=ss.mkType(a,'tab.GetPageCardMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return true}});var gS=global.tab.GetParameterControlMenuCmd=ss.mkType(a,'tab.GetParameterControlMenuCmd',function(){ss.makeGenericType(bl,[Object,gT]).call(this)},{get_commandId:function(){return gS.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-parameter-control-menu'},this.c))}});var gT=global.tab.GetParameterControlMenuCmd$Response=ss.mkType(a,'tab.GetParameterControlMenuCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommands:function(){return true}});var gU=global.tab.GetRuntimeDataModelCmd=ss.mkType(a,'tab.GetRuntimeDataModelCmd',function(){ss.makeGenericType(bl,[Object,gV]).call(this)},{get_commandId:function(){return gU.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-runtime-data-model'},this.c))}});var gV=global.tab.GetRuntimeDataModelCmd$Response=ss.mkType(a,'tab.GetRuntimeDataModelCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasRuntimeData:function(){return true}});var gW=global.tab.GetSelectionDataCmd=ss.mkType(a,'tab.GetSelectionDataCmd',function(){ss.makeGenericType(bl,[Object,gX]).call(this)},{get_commandId:function(){return gW.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-selection'},this.c))}});var gX=global.tab.GetSelectionDataCmd$Response=ss.mkType(a,'tab.GetSelectionDataCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasSelectionData:function(){return true}});var gY=global.tab.GetSelectionInfoCmd=ss.mkType(a,'tab.GetSelectionInfoCmd',function(){ss.makeGenericType(bl,[Object,gZ]).call(this)},{get_commandId:function(){return gY.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-selection-info'},this.c))}});var gZ=global.tab.GetSelectionInfoCmd$Response=ss.mkType(a,'tab.GetSelectionInfoCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasSelectionInfos:function(){return true}});var ha=global.tab.GetSupportedConnectionTypesCmd=ss.mkType(a,'tab.GetSupportedConnectionTypesCmd',function(){ss.makeGenericType(bl,[Object,hb]).call(this)},{get_commandId:function(){return ha.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabsrv',cmd:'get-supported-connection-types'},this.c))}});var hb=global.tab.GetSupportedConnectionTypesCmd$Response=ss.mkType(a,'tab.GetSupportedConnectionTypesCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasPresModel:function(){return true}});var hc=global.tab.GetTabbedAuthenticationPresModelCmd=ss.mkType(a,'tab.GetTabbedAuthenticationPresModelCmd',function(){ss.makeGenericType(bl,[Object,hd]).call(this)},{get_commandId:function(){return hc.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-tabbed-authentication-pres-model'},this.c))}});var hd=global.tab.GetTabbedAuthenticationPresModelCmd$Response=ss.mkType(a,'tab.GetTabbedAuthenticationPresModelCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasTabbedAuthenticationPresModel:function(){return true}});var he=global.tab.GetThumbnailCmd=ss.mkType(a,'tab.GetThumbnailCmd',function(){ss.makeGenericType(bl,[Object,hf]).call(this)},{get_commandId:function(){return he.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-thumbnail'},this.c))}});var hf=global.tab.GetThumbnailCmd$Response=ss.mkType(a,'tab.GetThumbnailCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasThumbnailImage:function(){return ss.keyExists(this.$$c,'image')}});var hg=global.tab.GetURLSubstitutionKeywordsCmd=ss.mkType(a,'tab.GetURLSubstitutionKeywordsCmd',function(){ss.makeGenericType(bl,[Object,hh]).call(this)},{get_commandId:function(){return hg.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-url-substitution-keywords'},this.c))}});var hh=global.tab.GetURLSubstitutionKeywordsCmd$Response=ss.mkType(a,'tab.GetURLSubstitutionKeywordsCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasKeywords:function(){return true}});var hi=global.tab.GetWebCategoricalColorDialogCmd=ss.mkType(a,'tab.GetWebCategoricalColorDialogCmd',function(){ss.makeGenericType(bl,[Object,hj]).call(this)},{get_commandId:function(){return hi.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-web-categorical-color-dialog'},this.c))}});var hj=global.tab.GetWebCategoricalColorDialogCmd$Response=ss.mkType(a,'tab.GetWebCategoricalColorDialogCmd$Response',function(e){this.$$c=null;this.$$c=e});var hk=global.tab.GetWebQuantitativeColorDialogCmd=ss.mkType(a,'tab.GetWebQuantitativeColorDialogCmd',function(){ss.makeGenericType(bl,[Object,hl]).call(this)},{get_commandId:function(){return hk.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'get-web-quantitative-color-dialog'},this.c))}});var hl=global.tab.GetWebQuantitativeColorDialogCmd$Response=ss.mkType(a,'tab.GetWebQuantitativeColorDialogCmd$Response',function(e){this.$$c=null;this.$$c=e});var hm=global.tab.GroupAllSelectedZonesCmd=ss.mkType(a,'tab.GroupAllSelectedZonesCmd',function(){ss.makeGenericType(bl,[Object,hn]).call(this)},{get_commandId:function(){return hm.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'group-all-selected-zones'},this.c))}});var hn=global.tab.GroupAllSelectedZonesCmd$Response=ss.mkType(a,'tab.GroupAllSelectedZonesCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasGroupZoneID:function(){return true}});var ho=global.tab.GroupFontExtractor=ss.mkType(a,'tab.GroupFontExtractor',function(){},{canExtractFont:function(e){return e.type==='draw-group'&&!ss.isNullOrUndefined(e.drawItems)},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var ex=e.drawItems;return this.$0(ex)},$0:function(e){var ex={};for(var pC=0;pC<e.length;pC++){var pD=e[pC];for(var pE=0;pE<ho.$1.length;pE++){var pF=ho.$1[pE];if(pF.canExtractFont(pD)){var pG=pF.extractFontFromPresModel(pD);if(ss.isValue(pG)){for(var pH=0;pH<pG.length;pH++){var pI=pG[pH];ex[pI.get_hash()]=pI}}break}}}return _.values(ex)}});var hp=global.tab.GroupModel=ss.mkType(a,'tab.GroupModel',function(e){fv.call(this,e)},{get_instanceType:function(){return'group'},get_isCombinedField:function(){return this.pm.isCombinedField||false}});var hq=global.tab.GroupModelFactory=ss.mkType(a,'tab.GroupModelFactory',null,null,{create:function(e,ex,pC){var pD=(ss.keyExists(pC.get_fields(),e.fn)?pC.get_fields()[e.fn].asGroup():new hp(ex));pD.update(e);return pD}});var hr=global.tab.HasUserSpecificActiveSheetCmd=ss.mkType(a,'tab.HasUserSpecificActiveSheetCmd',function(){ss.makeGenericType(bl,[Object,hs]).call(this)},{get_commandId:function(){return hr.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'has-user-specific-active-sheet'},this.c))}});var hs=global.tab.HasUserSpecificActiveSheetCmd$Response=ss.mkType(a,'tab.HasUserSpecificActiveSheetCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommandResult:function(){return true}});var ht=global.tab.HighlightItemsByPatternMatchCmd=ss.mkType(a,'tab.HighlightItemsByPatternMatchCmd',function(){ss.makeGenericType(bl,[Object,hu]).call(this)},{get_commandId:function(){return ht.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'highlight-items-by-pattern-match'},this.c))}});var hu=global.tab.HighlightItemsByPatternMatchCmd$Response=ss.mkType(a,'tab.HighlightItemsByPatternMatchCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasMatchedItemSet:function(){return ss.keyExists(this.$$c,'dataHighlighterItemSet')}});var hv=global.tab.History=ss.mkType(a,'tab.History',function(e){this.$1=null;this.$3=null;this.$2=null;this.$0();this.$1=e},{get_recoveryStates:function(){if(ss.isValue(this.$1)){var e=[this.$1];for(var ex=0;ex<this.$3.length;ex++){var pC=this.$3[ex];e.push(pC)}return e}else{return this.$3}},get_tailIndex:function(){return this.$3.length-1},$0:function(){this.$3=[];this.$2=[]},add:function(e,ex){var pC=this.$3.length;if(ex!==pC+1){if(pC===0&&ex>0){this.$3=new Array(ex-1>>>0)}}this.$3.push(e);this.$2=[];return pC},trackUndo:function(){if(this.$3.length===0){throw new ss.ArgumentOutOfRangeException}this.$2.push(this.$3.pop());return this.get_tailIndex()>>>0},trackRedo:function(){if(this.$2.length===0){throw new ss.ArgumentOutOfRangeException}this.$3.push(this.$2.pop());return this.get_tailIndex()>>>0},adopt:function(e){if(ss.isNullOrUndefined(e)){return}this.$0();for(var ex=0;ex<e.length;ex++){var pC=e[ex];this.$3.push(pC)}}});var hw=global.tab.HistoryController=ss.mkType(a,'tab.HistoryController',function(){this.$2=null;this.$2=new hv(null)},{get_historyPosition:function(){return this.$2.get_tailIndex()+1>>>0},trackRedo:function(){try{this.$2.trackRedo()}catch(e){e=ss.Exception.wrap(e);if(ss.isInstanceOfType(e,ss.ArgumentOutOfRangeException)){}else{throw e}}},trackUndo:function(){try{this.$2.trackUndo()}catch(e){e=ss.Exception.wrap(e);if(ss.isInstanceOfType(e,ss.ArgumentOutOfRangeException)){}else{throw e}}},revertHistory:function(e,ex){this.$2=new hv(ex);if(ss.isValue(e)){this.$2.adopt(e)}},getHistoryTail:function(e){var ex=((this.$2.get_recoveryStates().length>e)?(e|0):this.$2.get_recoveryStates().length);var pC=this.$2.get_recoveryStates().length-ex;return this.$2.get_recoveryStates().slice(pC,this.$2.get_recoveryStates().length)},$1:function(e,ex){if(ex){ps.redoToPosition(e)}else{ps.undoToPosition(e)}},$0:function(e,ex,pC){var pD=ss.mkdel(this,function(){this.$1(pC-1>>>0,false)});var pE=ss.mkdel(this,function(){this.$1(pC,true)});this.$2.add(ex,pC);hw.$0(pD,pE,ex)}},{$1:function(){return tab.Logger.lazyGetLogger(bn)},$0:function(e,ex,pC){if(!tsConfig.embedded||tsConfig.browserBackButtonUndo){if(ss.isValue(hw.$2)){hw.$2.onBack=e}else{hx.setInitialState(e)}hw.$2=hx.addToHistory(null,ex,pC)}}});var hx=global.tab.HistoryManager=ss.mkType(a,'tab.HistoryManager',null,null,{setInitialState:function(e){var ex=hx.$1(e,null,'');tab.HistoryUtil.replaceState(window.self,ex.associatedState,null,null)},addToHistory:function(e,ex,pC){var pD=hx.$1(e,ex,pC);tab.HistoryUtil.pushState(window.self,pD.associatedState,null,null);return pD},tailSessionStateIds:function(e){var ex=Math.max(0,hx.$8-e);var pC=[];for(var pD=ex;pD<hx.$8;pD++){var pE=hx.$6.get(pD);if(ss.isNullOrUndefined(pE)){continue}var pF=pE.sessionStateId;if(ss.isNullOrEmptyString(pF)){continue}pC.push(pF)}return pC},$1:function(e,ex,pC){hx.$0();var pD={id:hx.$9,key:'_vql_state_'};var pE={onBack:e,onForward:ex,id:hx.$9,associatedState:pD,sessionStateId:pC};hx.$6.set(pE.id,pE);hx.$9++;hx.$8=hx.$9;return pE},$0:function(){if(hx.$8<hx.$9){for(var e=hx.$8+1;e<=hx.$9;e++){hx.$6.delete(e)}}},$3:function(e){if(ss.isNullOrUndefined(e)){return}var ex=e;if(ss.isNullOrUndefined(ex.state)||ss.isNullOrUndefined(ex.state.key)||ex.state.key!=='_vql_state_'){return}hx.$4(ex.state)},$4:function(e){var ex=e.id<hx.$8;var pC=hx.$6.get(e.id);if(ss.isNullOrUndefined(pC)){return}hx.$2(ex,pC);hx.$8=e.id},$2:function(e,ex){if(e){if(!ss.staticEquals(ex.onBack,null)){ex.onBack()}}else if(!ss.staticEquals(ex.onForward,null)){ex.onForward()}}});var hy=global.tab.HitTestSceneCmd=ss.mkType(a,'tab.HitTestSceneCmd',function(){ss.makeGenericType(bl,[Object,hz]).call(this)},{get_commandId:function(){return hy.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'hit-test-scene'},this.c))}});var hz=global.tab.HitTestSceneCmd$Response=ss.mkType(a,'tab.HitTestSceneCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasHits:function(){return true}});var hA=global.tab.HTMLEscape=ss.mkEnum(a,'tab.HTMLEscape',{escape:0,noEscape:1});var hB=global.tab.HybridWidgetsApiResolver=ss.mkType(a,'tab.HybridWidgetsApiResolver',function(){},null,{get_menuApi:function(){var e=hB.$0(Object).call(null,'Instance');if(ss.isNullOrUndefined(e)){throw new ss.InvalidOperationException('Failed to load Menu API @tableau/hybrid-widgets-contract')}return e},findGloballyRegisteredModule:function(){return window['HybridWidgets']},$0:function(e){return function(ex){var pC=$.Deferred();jH.load('@tableau/hybrid-widgets-contract',[]).done(function(pD){var pE=pD[ex];pC.resolve(pE)}).fail(function(pD){});return pC}}});var hC=global.tab.IAjaxCommandService=ss.mkType(a,'tab.IAjaxCommandService');var hD=global.tab.IAnimatablePane=ss.mkType(a,'tab.IAnimatablePane');var hE=global.tab.IBrushingModelInfo=ss.mkType(a,'tab.IBrushingModelInfo');var hF=global.tab.ICommandDispatcher=ss.mkType(a,'tab.ICommandDispatcher');var hG=global.tab.ICommandModel=ss.mkType(a,'tab.ICommandModel');var hH=global.tab.IContinuousRangeModel=ss.mkType(a,'tab.IContinuousRangeModel');var hI=global.tab.IDataSourceDataNotification=ss.mkType(a,'tab.IDataSourceDataNotification');var hJ=global.tab.IDetachableNotificationHandler=ss.mkType(a,'tab.IDetachableNotificationHandler');var hK=global.tab.IDeviceZoneListItem=ss.mkType(a,'tab.IDeviceZoneListItem');var hL=global.tab.IDeviceZoneVisibilityListItem=ss.mkType(a,'tab.IDeviceZoneVisibilityListItem');var hM=global.tab.IDrawItemFontExtractor=ss.mkType(a,'tab.IDrawItemFontExtractor');var hN=global.tab.IExportImageHelper=ss.mkType(a,'tab.IExportImageHelper');var hO=global.tab.IExportPdfHelper=ss.mkType(a,'tab.IExportPdfHelper');var hP=global.tab.IFormattingConverterObject=ss.mkType(a,'tab.IFormattingConverterObject');var hQ=global.tab.IHandleNotifications=ss.mkType(a,'tab.IHandleNotifications');var hR=global.tab.ImageTileTracker=ss.mkType(a,'tab.ImageTileTracker',function(){this.$1=0;this.$0=null;this.$1=0;this.$0=[]},null,{$1:function(){hR.$3=hR.$3||new hR;return hR.$3},$2:function(){return tab.Logger.lazyGetLogger(hR)},incrementPendingCount:function(){hR.$1().$1++},decrementPendingCount:function(){var e=hR.$1();if(e.$1>0){--e.$1;if(e.$1===0){for(var ex=0;ex<e.$0.length;ex++){var pC=e.$0[ex];try{pC()}catch(pD){var e=ss.Exception.wrap(pD)}}hR.reset()}}else{}},callWhenImagesLoaded:function(e){if(hR.$1().$1===0){try{e()}catch(ex){var e=ss.Exception.wrap(ex)}}else{hR.$1().$0.push(e)}},reset:function(){hR.$3=null}});var hS=global.tab.ImageZoneModel=ss.mkType(a,'tab.ImageZoneModel',function(e){this.$1=null;this.$2$1=null;jC.call(this,e,new kA('imageZone'.toString(),null));this.$1=e.get_zone()},{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},get_internalModel:function(){return this.pm},update:function(e,ex){if(ss.isValue(this.get_internalModel())){var pC=this.get_internalModel().imageKey;if(hS.isImageKeyNullOrEmpty(pC)){if(!hS.isImageKeyNullOrEmpty(e.imageKey)){var pD='ImageZone';dv.logUnhideDashboardDelayLoadedHiddenContent(pD,tsConfig.is_authoring)}}}this.simpleSwapToUpdate(e,this.$2$1,ex)}},{isImageKeyNullOrEmpty:function(e){return ss.isNullOrUndefined(e)||tab.MiscUtil.isNullOrEmpty$1(e.toString())}});var hT=global.tab.IModelEventHandler=ss.mkType(a,'tab.IModelEventHandler');var hU=global.tab.InactivityHelper=ss.mkType(a,'tab.InactivityHelper',function(){this.$0=hU.get_timeNow()},{get_inactivityTimeoutInMinutes:function(){return tsConfig.vizqlserver_session_inactivity_timeout_minutes},get_inactivityWarning:function(){return tab.Strings.SessionInactivityWarning},get_isInactive:function(){var e=tab.DateUtil.adjustDateByPeriod(this.$0,'minute',this.get_inactivityTimeoutInMinutes());return hU.get_timeNow()>=e},updateLastInteractedTime:function(){this.$0=hU.get_timeNow()}},{get_timeNow:function(){return ss.utcNow()}});var hV=global.tab.InitializeKeyboardShortcutConfig=ss.mkType(a,'tab.InitializeKeyboardShortcutConfig');var hW=global.tab.IntersectionFontFamilyProviderBuilder=ss.mkType(a,'tab.IntersectionFontFamilyProviderBuilder',function(){this.$0=null;this.$0=null},{addFontList:function(e){if(ss.isNullOrUndefined(this.$0)){this.$0=ss.arrayClone(e);return}var ex=_.intersection(this.$0,e);this.$0=ex},toFontFamilyProvider:function(){if(ss.isNullOrUndefined(this.$0)){return new nk.$ctor2([])}return new nk.$ctor2(Array.prototype.slice.call(this.$0))}});var hX=global.tab.InvalidationInfo=ss.mkType(a,'tab.InvalidationInfo',function(){this.primarySheet=null;this.suppressActivation=null;this.layoutStatus=null;this.cmdResult=null;this.commandName=null});var hY=global.tab.IReadOnlyModelHolder$1=ss.mkType(a,'tab.IReadOnlyModelHolder$1',function(e){var ex=ss.registerGenericInterfaceInstance(hY,[e],{get_model:null,addEventBinding:null,addModelChangedHandler:null,createChildModelHolder:null,newDisposableContext:null,removeEventBinding:null,removeModelChangedHandler:null});return ex});ss.initGenericInterface(hY,1);var hZ=global.tab.IRemoteCommandHandler=ss.mkType(a,'tab.IRemoteCommandHandler');var ia=global.tab.ISessionErrorHandler=ss.mkType(a,'tab.ISessionErrorHandler');var ib=global.tab.IsWebZoneUrlValidCmd=ss.mkType(a,'tab.IsWebZoneUrlValidCmd',function(){ss.makeGenericType(bl,[Object,ic]).call(this)},{get_commandId:function(){return ib.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'is-web-zone-url-valid'},this.c))}});var ic=global.tab.IsWebZoneUrlValidCmd$Response=ss.mkType(a,'tab.IsWebZoneUrlValidCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasIsValid:function(){return true},hasValidationMessage:function(){return ss.keyExists(this.$$c,'validationMessage')}});var id=global.tab.IViewDataDialog=ss.mkType(a,'tab.IViewDataDialog');var ie=global.tab.IVizqlServerRequestHandler=ss.mkType(a,'tab.IVizqlServerRequestHandler');var ig=global.tab.IWaitForCommands=ss.mkType(a,'tab.IWaitForCommands');var ih=global.tab.IWaitForCommandsWithCancel=ss.mkType(a,'tab.IWaitForCommandsWithCancel');var ii=global.tab.JQueryFormattingConverterObject=ss.mkType(a,'tab.JQueryFormattingConverterObject',function(e){this.$0=null;this.$0=e},{get_getFontFamily:function(){return this.$0.css('font-family')},setCSS:function(e){this.$0.css(e)},hasStyleProperty:function(e){return!ss.isNullOrEmptyString(this.$0.prop('style')[e])}});var ij=global.tab.JsModuleConfigurationBuilder=ss.mkType(a,'tab.JsModuleConfigurationBuilder',function(e){this.moduleBeingConfigured=null;this.moduleBeingConfigured=e},{andMarkAsRawJavaScriptModule:function(){this.moduleBeingConfigured.isRawJavaScriptModule=true;return this},andMarkAsAlreadyLoadedInGlobalNamespace:function(){this.moduleBeingConfigured.loadingMethod='alreadyLoaded';return this},andShowLoadingIndicator:function(){this.moduleBeingConfigured.loadingMethod='synchronous';return this},andLoadOnDemandIf:function(e){this.moduleBeingConfigured.loadingMethod=(e?'asynchronous':'alreadyLoaded');return this},andExportResultAs:function(e){if(ss.isNullOrEmptyString(e)){throw new ss.ArgumentNullException('globalName')}this.moduleBeingConfigured.shouldExportResult=true;this.moduleBeingConfigured.exportResultName=e;return this},andWaitUntilModuleReady:function(e){if(ss.staticEquals(e,null)){throw new ss.ArgumentNullException('waitUntilModuleReadyFunc')}this.moduleBeingConfigured.waitUntilModuleReadyFunc=e;return this}});var ik=global.tab.JsModuleInfo=ss.mkType(a,'tab.JsModuleInfo',function(e,ex){this.moduleName=null;this.assemblyName=null;this.loadingMethod=null;this.isRawJavaScriptModule=false;this.shouldExportResult=false;this.exportResultName=null;this.waitUntilModuleReadyFunc=null;this.$0=[];this.$1=[];tab.Param.verifyString(e,'moduleName');this.moduleName=e;this.assemblyName=ss.coalesce(ex,e);this.loadingMethod='asynchronous'},{get_dependencies:function(){return this.$0},get_stylesheetDependencies:function(){return this.$1},get_hasDependencies:function(){return this.$0.length>0},get_hasDependenciesOnStylesheets:function(){return this.$1.length>0},addDependency:function(e){tab.Param.verifyValue(e,'dependency');this.$0.push(e)},addDependencyOnCssFile:function(e){tab.Param.verifyString(e,'cssFile');this.$1.push(e)}});var il=global.tab.LabelPadding=ss.mkType(a,'tab.LabelPadding',function(){this.top=0;this.bottom=0;this.left=0;this.right=0});var im=global.tab.LaunchAlternativeFederationEngineDialogCmd=ss.mkType(a,'tab.LaunchAlternativeFederationEngineDialogCmd',function(){ss.makeGenericType(bl,[Object,io]).call(this)},{get_commandId:function(){return im.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-alternative-federation-engine-dialog'},this.c))}});var io=global.tab.LaunchAlternativeFederationEngineDialogCmd$Response=ss.mkType(a,'tab.LaunchAlternativeFederationEngineDialogCmd$Response',function(e){this.$$c=null;this.$$c=e});var ip=global.tab.LaunchAnnotationRichTextEditorCmd=ss.mkType(a,'tab.LaunchAnnotationRichTextEditorCmd',function(){ss.makeGenericType(bl,[Object,iq]).call(this)},{get_commandId:function(){return ip.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-annotation-rich-text-editor'},this.c))}});var iq=global.tab.LaunchAnnotationRichTextEditorCmd$Response=ss.mkType(a,'tab.LaunchAnnotationRichTextEditorCmd$Response',function(e){this.$$c=null;this.$$c=e});var ir=global.tab.LaunchAuthoringCmd=ss.mkType(a,'tab.LaunchAuthoringCmd',function(){ss.makeGenericType(oU,[Object,it]).call(this)},{get_commandId:function(){return ir.cmdId}});var it=global.tab.LaunchAuthoringCmd$Response=ss.mkType(a,'tab.LaunchAuthoringCmd$Response',function(e){this.$$c=null;this.$$c=e});var iu=global.tab.LaunchAuthoringCommand=ss.mkType(a,'tab.LaunchAuthoringCommand',function(){ir.call(this)},{get_isVisible:function(){var e=tsConfig.isPublic||tsConfig.is_mobile_app;return tsConfig.allow_authoring&&!e},get_isEnabled:function(){return tsConfig.allow_authoring},do$1:function(){var e=oP.createForAuthoringPublishedSheetFromToolbar(tsConfig.repositoryUrl);if(!tsConfig.openAuthoringInTopWindow&&(tabBootstrap.EmbedAndViewportCalculator.get_isEmbeddedInsideAnotherPage()||tsConfig.is_mobile_app)){tab.WindowHelper.open(e.get_uri(),'tableauAuthoring')}else{e.setTopWindowLocation()}}});var iv=global.tab.LaunchCustomSqlDialogCmd=ss.mkType(a,'tab.LaunchCustomSqlDialogCmd',function(){ss.makeGenericType(bl,[Object,iw]).call(this)},{get_commandId:function(){return iv.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-custom-sql-dialog'},this.c))}});var iw=global.tab.LaunchCustomSqlDialogCmd$Response=ss.mkType(a,'tab.LaunchCustomSqlDialogCmd$Response',function(e){this.$$c=null;this.$$c=e});var ix=global.tab.LaunchCustomTooltipRichTextEditorCmd=ss.mkType(a,'tab.LaunchCustomTooltipRichTextEditorCmd',function(){ss.makeGenericType(bl,[Object,iy]).call(this)},{get_commandId:function(){return ix.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-custom-tooltip-rich-text-editor'},this.c))}});var iy=global.tab.LaunchCustomTooltipRichTextEditorCmd$Response=ss.mkType(a,'tab.LaunchCustomTooltipRichTextEditorCmd$Response',function(e){this.$$c=null;this.$$c=e});var iz=global.tab.LaunchHighlighterTitleRichTextEditorCmd=ss.mkType(a,'tab.LaunchHighlighterTitleRichTextEditorCmd',function(){ss.makeGenericType(bl,[Object,iA]).call(this)},{get_commandId:function(){return iz.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-highlighter-title-rich-text-editor'},this.c))}});var iA=global.tab.LaunchHighlighterTitleRichTextEditorCmd$Response=ss.mkType(a,'tab.LaunchHighlighterTitleRichTextEditorCmd$Response',function(e){this.$$c=null;this.$$c=e});var iB=global.tab.LaunchInitialSqlDialogCmd=ss.mkType(a,'tab.LaunchInitialSqlDialogCmd',function(){ss.makeGenericType(bl,[Object,iC]).call(this)},{get_commandId:function(){return iB.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-initial-sql-dialog'},this.c))}});var iC=global.tab.LaunchInitialSqlDialogCmd$Response=ss.mkType(a,'tab.LaunchInitialSqlDialogCmd$Response',function(e){this.$$c=null;this.$$c=e});var iD=global.tab.LaunchLegendTitleRichTextEditorCmd=ss.mkType(a,'tab.LaunchLegendTitleRichTextEditorCmd',function(){ss.makeGenericType(bl,[Object,iE]).call(this)},{get_commandId:function(){return iD.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-legend-title-rich-text-editor'},this.c))}});var iE=global.tab.LaunchLegendTitleRichTextEditorCmd$Response=ss.mkType(a,'tab.LaunchLegendTitleRichTextEditorCmd$Response',function(e){this.$$c=null;this.$$c=e});var iF=global.tab.LaunchMarkLabelRichTextEditorCmd=ss.mkType(a,'tab.LaunchMarkLabelRichTextEditorCmd',function(){ss.makeGenericType(bl,[Object,iG]).call(this)},{get_commandId:function(){return iF.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-mark-label-rich-text-editor'},this.c))}});var iG=global.tab.LaunchMarkLabelRichTextEditorCmd$Response=ss.mkType(a,'tab.LaunchMarkLabelRichTextEditorCmd$Response',function(e){this.$$c=null;this.$$c=e});var iH=global.tab.LaunchModularConnectionDialogCmd=ss.mkType(a,'tab.LaunchModularConnectionDialogCmd',function(){ss.makeGenericType(bl,[Object,iI]).call(this)},{get_commandId:function(){return iH.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-modular-connection-dialog'},this.c))}});var iI=global.tab.LaunchModularConnectionDialogCmd$Response=ss.mkType(a,'tab.LaunchModularConnectionDialogCmd$Response',function(e){this.$$c=null;this.$$c=e});var iJ=global.tab.LaunchPageCardTitleRichTextEditorCmd=ss.mkType(a,'tab.LaunchPageCardTitleRichTextEditorCmd',function(){ss.makeGenericType(bl,[Object,iK]).call(this)},{get_commandId:function(){return iJ.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-page-card-title-rich-text-editor'},this.c))}});var iK=global.tab.LaunchPageCardTitleRichTextEditorCmd$Response=ss.mkType(a,'tab.LaunchPageCardTitleRichTextEditorCmd$Response',function(e){this.$$c=null;this.$$c=e});var iL=global.tab.LaunchParameterTitleRichTextEditorCmd=ss.mkType(a,'tab.LaunchParameterTitleRichTextEditorCmd',function(){ss.makeGenericType(bl,[Object,iM]).call(this)},{get_commandId:function(){return iL.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-parameter-title-rich-text-editor'},this.c))}});var iM=global.tab.LaunchParameterTitleRichTextEditorCmd$Response=ss.mkType(a,'tab.LaunchParameterTitleRichTextEditorCmd$Response',function(e){this.$$c=null;this.$$c=e});var iN=global.tab.LaunchPermissionsPromptCmd=ss.mkType(a,'tab.LaunchPermissionsPromptCmd',function(){ss.makeGenericType(bl,[Object,iO]).call(this)},{get_commandId:function(){return iN.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-permissions-prompt'},this.c))}});var iO=global.tab.LaunchPermissionsPromptCmd$Response=ss.mkType(a,'tab.LaunchPermissionsPromptCmd$Response',function(e){this.$$c=null;this.$$c=e});var iP=global.tab.LaunchQuickFilterTitleRichTextEditorCmd=ss.mkType(a,'tab.LaunchQuickFilterTitleRichTextEditorCmd',function(){ss.makeGenericType(bl,[Object,iQ]).call(this)},{get_commandId:function(){return iP.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-quick-filter-title-rich-text-editor'},this.c))}});var iQ=global.tab.LaunchQuickFilterTitleRichTextEditorCmd$Response=ss.mkType(a,'tab.LaunchQuickFilterTitleRichTextEditorCmd$Response',function(e){this.$$c=null;this.$$c=e});var iR=global.tab.LaunchUseCustomLayoutDialogCmd=ss.mkType(a,'tab.LaunchUseCustomLayoutDialogCmd',function(){ss.makeGenericType(bl,[Object,iS]).call(this)},{get_commandId:function(){return iR.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-use-custom-layout-dialog'},this.c))}});var iS=global.tab.LaunchUseCustomLayoutDialogCmd$Response=ss.mkType(a,'tab.LaunchUseCustomLayoutDialogCmd$Response',function(e){this.$$c=null;this.$$c=e});var iT=global.tab.LaunchWorksheetCaptionRichTextEditorCmd=ss.mkType(a,'tab.LaunchWorksheetCaptionRichTextEditorCmd',function(){ss.makeGenericType(bl,[Object,iU]).call(this)},{get_commandId:function(){return iT.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-worksheet-caption-rich-text-editor'},this.c))}});var iU=global.tab.LaunchWorksheetCaptionRichTextEditorCmd$Response=ss.mkType(a,'tab.LaunchWorksheetCaptionRichTextEditorCmd$Response',function(e){this.$$c=null;this.$$c=e});var iV=global.tab.LaunchWorksheetTitleRichTextEditorCmd=ss.mkType(a,'tab.LaunchWorksheetTitleRichTextEditorCmd',function(){ss.makeGenericType(bl,[Object,iW]).call(this)},{get_commandId:function(){return iV.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-worksheet-title-rich-text-editor'},this.c))}});var iW=global.tab.LaunchWorksheetTitleRichTextEditorCmd$Response=ss.mkType(a,'tab.LaunchWorksheetTitleRichTextEditorCmd$Response',function(e){this.$$c=null;this.$$c=e});var iX=global.tab.LaunchZoneRichTextEditorCmd=ss.mkType(a,'tab.LaunchZoneRichTextEditorCmd',function(){ss.makeGenericType(bl,[Object,iY]).call(this)},{get_commandId:function(){return iX.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'launch-zone-rich-text-editor'},this.c))}});var iY=global.tab.LaunchZoneRichTextEditorCmd$Response=ss.mkType(a,'tab.LaunchZoneRichTextEditorCmd$Response',function(e){this.$$c=null;this.$$c=e});var iZ=global.tab.LayoutSession=ss.mkType(a,'tab.LayoutSession',function(e,ex,pC){bn.call(this,e,ex,pC)},{formatDashboardTempfileReference:function(e,ex,pC){return this.$9('tempfile')+'/?key='+e+(ex?'&keepfile=yes':'')+(pC?'&attachment=yes':'')},saveSharedView:function(e,ex,pC){var pD=function(pI,pJ,pK){pI['button']=e;if(ss.isValue(pI['guid'])){px.guid=pI['guid']}};var pE=ss.mkdel(this,function(pI,pJ,pK){px.guid=null;if(pI.status===410||pI.status===403){this.defaultSessionErrorHandler.handleSessionExpiration(false)}else if(pI.status===401){this.handleAuthenticationFailure()}else{var pL=new Object;pL['button']=e;pC(pL)}});var pF=this.createHandler(null,pD,pE,'none');var pG={};pG['sheet_id']=px.get_currentTabName();pG['parent_id']=px.parentID;pG['primary_content_url']=ex;pG['share_button']=e;var pH=this.basicPostOpts(this.formatSessionMethod('save_shared_view'),pG);pH.async=false;pH.timeout=2000;px.helper(pH,pF)},saveAndOpenMetricsView:function(){window.open(this.formatSessionMethod('save_metrics_view'),'metrics','scrollbars,resizable')},metricsViewDownloadUrl:function(){return this.formatSessionMethod('download_metrics_view')},getAutocompleteInfo:function(e,ex,pC){var pD=function(pG,pH,pI){ex(pG['new_value'])};var pE=bn.basicGetOpts(this.$9('getautocomplete'));var pF=ss.mkdict(['fieldname',pC,'input_string',e]);pE.data=pF;pE.success=pD;px.helper(pE,null)},performPostLoadOperations:function(e,ex){var pC=function(pH,pI,pJ){if(ss.isValue(ex)){ex(pH)}};var pD=ss.mkdel(this,function(pH,pI,pJ){this.$0(pJ,pH,true,null)});var pE=this.createHandler(null,pC,pD,'none');var pF=ss.mkdict(['sheet_id',e]);var pG={data:pF,async:true,type:'GET',headers:ss.mkdict(['Accept','text/javascript']),dataType:'json',url:this.$9('performPostLoadOperations')};px.helper(pG,pE)},$9:function(e){var ex=(new mx(this.get_urlRoot())).toSessionMethodOrSessionRootUrl(e);ex+='/layouts/'+tsConfig.layoutid;return ex}});var ja=global.tab.LayoutTreeItem=ss.mkType(a,'tab.LayoutTreeItem',function(e){this.$1=null;this.parent=null;this.$0=null;this.$0=e;this.$1=[]},{get_children:function(){return this.$1},get_itemKey:function(){return this.$0.name+this.$0.zoneId},get_isFloating:function(){return this.$0.isFloating},get_zoneType:function(){return this.$0.zoneType},get_isHorizontal:function(){return this.$0.isHorizontal},get_name:function(){return this.$0.name},get_zoneID:function(){return this.$0.zoneId},appendChildren:function(e){this.$1.push(e)}});var jb=global.tab.LayoutTreeModel=ss.mkType(a,'tab.LayoutTreeModel',function(e){this.$9=null;this.$8=null;this.$2$1=null;this.rootNodes=null;this.isEditingStateDictionary=null;jC.call(this,e,new kA('dashboardZoneHierarchy'.toString(),null));this.$9={};this.$8={};this.isEditingStateDictionary={};this.rootNodes=[]},{add_layoutTreeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutTreeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,ex){if(!_.isEqual(this.pm,e)){this.$7();this.$1(e);this.$2();this.$3();this.simpleSwapToUpdate(e,this.$2$1,ex)}},saveExpandedState:function(e,ex){this.$8[e]=ex},saveIsEditingState:function(e,ex){this.isEditingStateDictionary[e]=ex},expandTreeToCurrent:function(e){if(ss.isNullOrUndefined(this.$9[e])){return}var ex=this.$9[e].parent;while(ss.isValue(ex)){var pC=ex.get_zoneID();this.$8[pC]=true;ex=this.$9[pC].parent}},isItemExpanded:function(e){return ss.keyExists(this.$8,e)&&this.$8[e]},getItemFromIndex:function(e){return this.$9[e]},getTopLevelItemZoneIds:function(){var e=[];for(var ex=0;ex<this.rootNodes.length;ex++){var pC=this.rootNodes[ex];e.push(pC.get_zoneID())}return e},getItemDescendantsZoneIds:function(e){var ex=[];var pC=this.$6(this.$9[e]);for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];if(!ss.contains(ex,pE.get_zoneID())){ex.push(pE.get_zoneID())}}return ex},$6:function(e){if(!ss.isNullOrUndefined(e)){var ex=ss.arrayClone(this.$9[e.get_zoneID()].get_children());for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];ss.arrayAddRange(ex,this.$6(pD))}return ex}return[]},$5:function(e){var ex=[];var pC=this.$9[e].get_children();for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];ex.push(pE.get_zoneID());if(pE.get_zoneType()!=='layout-group'){ss.arrayAddRange(ex,this.getItemDescendantsZoneIds(pE.get_zoneID()))}}return ex},$4:function(e){var ex=[];var pC=this.$9[e].parent;if(ss.isValue(pC)&&pC.get_zoneID()!==0){ex.push(pC.get_zoneID());ss.arrayAddRange(ex,this.$4(pC.get_zoneID()))}return ex},doZonesShareCommonAncestor:function(e,ex){if(e===0||ex===0){return false}var pC=this.$4(e);pC.push(e);if(ss.contains(pC,ex)){return true}var pD=this.$9[ex];while(ss.isValue(pD)&&pD.get_zoneID()!==0){if(ss.contains(pC,pD.get_zoneID())){return true}else{pD=this.$9[pD.get_zoneID()].parent}}return false},getPeersAndGroupChildrenZoneIds:function(e,ex){var pC=this.getItemPeersZoneIds(e);if(ex!==0){ss.arrayAddRange(pC,this.$5(ex))}return pC},getItemPeersZoneIds:function(e){var ex=this.$9[e].parent;if(ss.isNullOrUndefined(ex)){return this.getTopLevelItemZoneIds()}var pC=[];var pD=ss.getEnumerator(Object.keys(this.$9));try{while(pD.moveNext()){var pE=pD.current();var pF=this.$9[pE].parent;if(ss.isValue(pF)&&pF.get_zoneID()===ex.get_zoneID()){pC.push(this.$9[pE].get_zoneID())}}}finally{pD.dispose()}return pC},$1:function(e){var ex=e.zoneCommonListItems;this.$9=jb.$0(ex);if(ss.isValue(ex)){for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];var pE=pD.parentZoneId;var pF=this.$9[pD.zoneId];var pG=pE===0;if(pG){this.rootNodes.push(pF)}else{var pH=this.$9[pE];if(!ss.isNullOrUndefined(pH)){pH.appendChildren(pF);pF.parent=pH}}}}},$2:function(){if(ss.getKeyCount(this.$9)===0){this.$8={}}else{var e=new ss.ObjectEnumerator(this.$8);try{while(e.moveNext()){var ex=e.current();if(!ss.keyExists(this.$9,ex.key)){delete this.$8[ex.key]}}}finally{e.dispose()}}},$3:function(){if(ss.getKeyCount(this.$9)===0){this.isEditingStateDictionary={}}else{var e=new ss.ObjectEnumerator(this.isEditingStateDictionary);try{while(e.moveNext()){var ex=e.current();if(!ss.keyExists(this.$9,ex.key)){delete this.isEditingStateDictionary[ex.key]}}}finally{e.dispose()}}},$7:function(){this.rootNodes=[]}},{$0:function(e){var ex={};if(ss.isValue(e)){for(var pC=0;pC<e.length;pC++){var pD=e[pC];ex[pD.zoneId]=new ja(pD)}}return ex}});var jc=global.tab.LegacyCategoricalQuickFilterData=ss.mkType(a,'tab.LegacyCategoricalQuickFilterData',function(e,ex,pC,pD){this.$3=null;this.$0=null;this.$4=null;this.$1=false;this.$2=false;this.$3=e;this.$0=ex;this.$2=pC;if(ss.isValue(pD)){this.$4=pD}else{this.$4=[]}},{get_identifier:function(){return this.$0},get_targetSheets:function(){return this.$3},set_targetSheets:function(e){this.$3=e},get_includeAll:function(){return this.$1},set_includeAll:function(e){this.$1=e;this.clearValues()},get_isExclude:function(){return this.$2},addValue:function(e){if(ss.contains(this.$4,e)){return false}this.$4.push(e);return true},clearValues:function(){ss.clear(this.$4)},getFilterValues:function(){return Array.prototype.slice.call(this.$4)},includesValue:function(e){if(this.get_includeAll()){return true}return this.$2!==ss.contains(this.$4,e)},removeValue:function(e){if(ss.contains(this.$4,e)){return false}ss.remove(this.$4,e);return true}});var jd=global.tab.LegacyCategoricalQuickFilterModel=ss.mkType(a,'tab.LegacyCategoricalQuickFilterModel',function(e,ex){this.$1=false;je.call(this,e,ex)},{get_filterType:function(){return'Categorical'},get_mode:function(){switch(this.get_filterPresModel().mode){case'checklist':{return'check-list'}case'radiolist':{return'radio-list'}case'dropdown':{return'dropdown'}case'checkdropdown':{return'check-dropdown'}case'slider':{return'slider'}case'pattern':{return'pattern'}case'typeinlist':{return'type-in-list'}default:{return'check-list'}}},get_pattern:function(){return this.get_filterPresModel().pattern},get_isAllButtonVisible:function(){return this.$1},set_isAllButtonVisible:function(e){this.$1=e},get_isAllMode:function(){return this.get_filterPresModel().all},get_allItemsAreChecked:function(){return this.get_filterPresModel().allChecked},get_noItemsAreChecked:function(){return this.get_filterPresModel().allNotChecked},get_exclude:function(){return this.get_filterPresModel().exclude},get_isTiled:function(){return this.get_filterPresModel().isTiled},get_isSearchable:function(){return this.get_filterPresModel().is_searchable},get_summary:function(){return this.get_filterPresModel().summary},get_underlyingDataSourceIsCube:function(){return this.get_filterPresModel().catIsHier},get_condition:function(){return this.get_filterPresModel().condition},get_limit:function(){return this.get_filterPresModel().limit},get_rangeType:function(){return this.get_filterPresModel().rangeType},get_catFilterTable:function(){return this.get_filterPresModel().table},get_domainActualSize:function(){return this.get_catFilterTable().actual_size},get_tuples:function(){return this.get_catFilterTable().tuples},get_domainType:function(){return this.get_filterPresModel().domainType}});var je=global.tab.LegacyFilterModel=ss.mkType(a,'tab.LegacyFilterModel',function(e,ex){this.$2$1=null;jC.call(this,e,new kA('filter['+ex.name.join('_')+']',null));this.pm=ex},{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_filterPresModel:function(){return this.pm},get_filterType:function(){switch(this.get_filterPresModel().type){case'Q':{return'Quantitative'}case'H':{return'Hierarchical'}case'C':{return'Categorical'}case'RD':{if(this.get_filterPresModel().showRelDatePick){return'RelativeDatePick'}else{return'RelativeDate'}}default:{return'FilterDefault'}}},get_globalFieldName:function(){var e=this.pm;var ex=new String;ex='[';for(var pC=0;pC<e.name.length;++pC){if(ss.endsWithString(ex,']')){ex+='.';ex+='['}ex+=e.name[pC];ex+=']'}return ex},update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){this.pm=e;this.raiseEvent(this.$2$1,ex)}else if(ss.isValue(e)&&e.isTiled){this.raiseEvent(this.$2$1,ex)}}},{buildDataValueFromFilterValue:function(e){return{t:e.t,v:e.v,s:e.s}},$1:function(e){if(ss.isValue(e)){var ex=je.buildDataValueFromFilterValue(e);tableau.format.isDateTimeWithNonMidnightTime(ex)}return false},isQuantitativeTimestampFilter:function(e,ex,pC){var pD=je.$1(ex)||je.$1(pC);if(!pD&&ss.isValue(e)){if(ss.isValue(e.data)){pD=pD||je.$1(e.data.min)||je.$1(e.data.max)}if(!pD&&ss.isValue(e.range)){pD=pD||je.$1(e.range.min)||je.$1(e.range.max)}}return pD},$0:function(e){return e.t==='t'||e.t==='d'},isQuantitativeDateFilter:function(e,ex,pC){if(ss.isValue(ex)){return je.$0(ex)}else if(ss.isValue(pC)){return je.$0(pC)}else if(ss.isValue(e)){if(ss.isValue(e.data)){if(ss.isValue(e.data.min)){return je.$0(e.data.min)}else if(ss.isValue(e.data.max)){return je.$0(e.data.max)}}if(ss.isValue(e.range)){if(ss.isValue(e.range.min)){return je.$0(e.range.min)}else if(ss.isValue(e.range.max)){return je.$0(e.range.max)}}}return false},isNormalValue:function(e){return ss.isValue(e)&&(ss.isNullOrUndefined(e.s)||ss.isNullOrUndefined(e.s))&&ss.isValue(e.v)},timestampsWithSameDateOrNull:function(e){var ex=null;for(var pC=0;pC<e.length;pC++){var pD=e[pC];if(ss.isNullOrUndefined(pD)||pD.s==='n'||ss.isNullOrUndefined(pD.v)&&pD.t==='t'){continue}if(!je.isNormalValue(pD)||pD.t!=='t'){return false}var pE=(ss.Nullable$1.ge(pD.v,0)?Math.floor(pD.v):Math.ceil(pD.v));if(ss.isValue(ex)&&pE!==ex){return false}ex=pE}return ss.isValue(ex)}});var jf=global.tab.LegacyHierarchicalQuickFilterModel=ss.mkType(a,'tab.LegacyHierarchicalQuickFilterModel',function(e,ex){je.call(this,e,ex)},{get_filterType:function(){return'Hierarchical'},get_hierarchyTables:function(){return this.get_filterPresModel().table},get_levels:function(){return this.get_filterPresModel().levels},get_isSearchable:function(){return this.get_filterPresModel().is_searchable}});var jg=global.tab.LegacyLegendModel=ss.mkType(a,'tab.LegacyLegendModel',function(e){this.$2$1=null;jC.call(this,e,new kA('serverRenderedLegend'.toString(),null))},{add_newLegacyLegend:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLegacyLegend:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,ex){fZ.notifyFontsFromServerRenderedLegendPresModel(e);this.simpleSwapToUpdate(e,this.$2$1,ex)}});var jh=global.tab.LegacyQuantitativeQuickFilterModel=ss.mkType(a,'tab.LegacyQuantitativeQuickFilterModel',function(e,ex){je.call(this,e,ex)},{get_filterType:function(){return'Quantitative'},get_range:function(){return this.get_filterPresModel().range},get_data:function(){return this.get_filterPresModel().data},get_dateFormat:function(){return this.get_filterPresModel().date_format},get_editingFormat:function(){return this.get_filterPresModel().editing_format},get_format:function(){return this.get_filterPresModel().format},get_calendarControlStartOfWeek:function(){return this.get_filterPresModel().first_day_of_week},get_dataSourceStartOfWeek:function(){return this.get_filterPresModel().start_of_week},get_quantitativeFilterTable:function(){return this.get_filterPresModel().table},get_domainType:function(){return this.get_filterPresModel().domainType}});var ji=global.tab.LegacyQuickFilterDisplayModel=ss.mkType(a,'tab.LegacyQuickFilterDisplayModel',function(e,ex){this.$4=null;this.$5=null;this.$3=null;this.$2$1=null;jC.call(this,e,new kA(ex,null))},{add_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterTitle:function(){return this.get_quickFilterDisplayPresModel().quickFilterTitle},get_quickFilterCommands:function(){return this.get_quickFilterDisplayPresModel().quickFilterCommands},get_quickFilterDomainCommands:function(){return this.get_quickFilterDisplayPresModel().quickFilterDomainCommands},get_quickFilterModeMatrix:function(){var e=tab.FeatureParamsLookup.getBool(4);if(e){return this.$1()}else{return null}},get_quickFilterDisplayPresModel:function(){return this.pm},get_fieldName:function(){if(ss.isNullOrUndefined(this.get_quickFilterDisplayPresModel().quickFilter)){return''}return this.get_quickFilterDisplayPresModel().quickFilter.fn},get_membershipTarget:function(){var e;var ex=this.get_quickFilterDisplayPresModel().quickFilter;if(ss.isNullOrUndefined(this.get_quickFilterDisplayPresModel().quickFilter)){return'filter'}if(ex.quickFilterType==='categorical'){var pC=ex;e=pC.membershipTarget}else{e='filter'}return e},get_zoneModel:function(){return this.parent.get_zone()},get_contentStyle:function(){return this.get_zoneModel().get_zoneCommonModel().get_contentStyle()},get_blendedZoneContentColor:function(){return this.get_zoneModel().get_blendedZoneContentColor()},get_attributes:function(){return this.$4.attributes},get_width:function(){return this.get_zoneModel().get_width()},get_fakeFilterPresModel:function(){return this.$3},$2:function(e){if(e.quickFilterType==='categorical'){var ex=e;return ex.membershipTarget==='set'}return false},update:function(e,ex,pC){var pD=!_.isEqual(this.$4,ex);this.$4=ex;if(this.isNewPresModelSameAsOld(e)){if(pD){this.raiseEvent$1(Object).call(this,this.$2$1,e,pC)}}else{if(ss.isValue(e)){fZ.notifyFontsFromTextStylePresModel(e.textStyle)}if(ss.isValue(e)&&ss.isValue(e.quickFilterCommands)){this.$5=new cK(this)}this.$5.update(e.quickFilterCommands,pC);var pE=e.quickFilter;if(ss.isValue(pE)&&this.$2(pE)){pE.quickFilterCaption=e.quickFilterTitle.caption.toString();this.$3=fP.createFakeFilterPresModelWithQuickFilterPresModel(pE)}this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,pC)}},$1:function(){var e=[];var ex=['year','qtr','month','day','hour','minute','second','week','weekday','month-year','mdy','none','trunc-year','trunc-qtr','trunc-month','trunc-week','trunc-day','trunc-hour','trunc-minute','trunc-second'];var pC=['check-list','radio-list','dropdown','slider','pattern','type-in-list','check-dropdown'];var pD=['min-max','min-only','max-only','rel-date','rel-pick'];for(var pE=0;pE<ex.length;pE++){var pF=ex[pE];for(var pG=0;pG<pC.length;pG++){var pH=pC[pG];var pI={};pI.aggregation=pF;pI.categoricalMode=pH;e.push(pI)}for(var pJ=0;pJ<pD.length;pJ++){var pK=pD[pJ];var pL={};pL.aggregation=pF;pL.quantitativeMode=pK;e.push(pL)}}return e}});var jj=global.tab.LegacyRelativeDateQuickFilterModel=ss.mkType(a,'tab.LegacyRelativeDateQuickFilterModel',function(e,ex){je.call(this,e,ex)},{get_filterType:function(){return(this.get_isRelativeDatePick()?'RelativeDatePick':'RelativeDate')},get_defaultFormat:function(){return this.get_filterPresModel().default_format},get_fiscalYearStart:function(){return this.get_filterPresModel().fy},get_noTime:function(){return this.get_filterPresModel().noTime},get_isRelativeDatePick:function(){return this.get_filterPresModel().showRelDatePick},get_text:function(){return this.get_filterPresModel().text},get_relativeDateTable:function(){return this.get_filterPresModel().table},get_periodType:function(){return this.get_relativeDateTable().periodType},get_rangeType:function(){return this.get_relativeDateTable().rangeType},get_rangeN:function(){return this.get_relativeDateTable().rangeN},get_anchor:function(){return this.get_relativeDateTable().anchor}});var jk=global.tab.LegacySessionWaitHandler=ss.mkType(a,'tab.LegacySessionWaitHandler',function(){this.$1$1=0},{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},showFullWaitHandlerNow:function(){this.$1(this.$0()+1);jk.get_waitHandler().addrefAndShowFullWaitHandlerNow()},show:function(e,ex){this.$1(this.$0()+1);jk.incrementWait(e,ex)},hide:function(){while(this.$0()>0){this.$1(this.$0()-1);jk.decrementWait()}}},{get_waitHandler:function(){if(ss.isNullOrUndefined(jk.$0)){jk.$0=new oS}return jk.$0},nudgeWait:function(){if(ss.isNullOrUndefined(jk.$0)){return false}jk.$0.nudge();return true},incrementWait:function(e,ex){if(ss.isNullOrUndefined(jk.$0)){return false}jk.$0.addref(e,ex);return true},decrementWait:function(){if(ss.isNullOrUndefined(jk.$0)){return false}jk.$0.release();return true}});var jl=global.tab.LevelModel=ss.mkType(a,'tab.LevelModel',function(e){this.$4$1=null;fv.call(this,e)},{get_levelNumber:function(){return this.pm.levelNumber},get_canHaveChildren:function(){return true},get_instanceType:function(){return'level'},get_linkedAttributes:function(){return this.$4$1},set_linkedAttributes:function(e){this.$4$1=e},update$1:function(e,ex){this.swapAndCopyPresModel(e);this.set_linkedAttributes(ex)}});var jm=global.tab.LevelModelFactory=ss.mkType(a,'tab.LevelModelFactory',null,null,{create:function(e,ex,pC){var pD=jm.$0(e,ex,pC);var pE=(ss.keyExists(pC.get_fields(),e.fn)?pC.get_fields()[e.fn].asLevel():new jl(ex));pE.update$1(e,pD);return pE},$0:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e.attributeAttributeDimensionList)){return pD}for(var pE=0;pE<e.attributeAttributeDimensionList.length;pE++){var pF=e.attributeAttributeDimensionList[pE];pD.push(df.create(pF,ex,pC))}return pD}});var jn=global.tab.LinearRangeTransform=ss.mkType(a,'tab.LinearRangeTransform',function(e,ex){this.$1=0;this.$0=0;kQ.call(this);if(e<=ex){this.$1=e;this.$0=ex}else{this.$1=ex;this.$0=e}},{fractionToValue:function(e){return this.$1+e*(this.$0-this.$1)},valueToFraction:function(e){return((this.$1===this.$0)?0:((e-this.$1)/(this.$0-this.$1)))}});var jo=global.tab.LocalClientCommand=ss.mkType(a,'tab.LocalClientCommand',function(e){co.call(this,'none',e,null,null,null)});var jp=global.tab.LocalUbertipInfo=ss.mkType(a,'tab.LocalUbertipInfo',function(e,ex,pC,pD){this.$1=0;this.$0=null;this.$3=null;this.$2=false;this.$1=e;this.$0=ex;this.$3=pC;this.$2=pD},{get_interactedTupleId:function(){return this.$1},get_affectedTupleIds:function(){return this.$0},get_paneDescriptorKey:function(){return this.$3},get_needRemoteUbertip:function(){return this.$2}});var jq=global.tab.LruCache$2=ss.mkType(a,'tab.LruCache$2',function(e,ex){var pC=ss.registerGenericClassInstance(jq,[e,ex],function(pD){this.$0={};this.$2=new(ss.makeGenericType(h,[ss.makeGenericType(f,[e,ex])]));this.$1=0;this.$1=pD},{add:function(pD,pE){var pF=this.$0[pD];if(ss.isValue(pF)){this.delete$1(pD)}if(ss.getKeyCount(this.$0)===this.$1){this.delete$1(this.$2.$3.$0.$0)}pF=new(ss.makeGenericType(g,[ss.makeGenericType(f,[e,ex])]))(new(ss.makeGenericType(f,[e,ex]))(pD,pE));this.$0[pD]=pF;this.$2.$0(pF)},get:function(pD){var pE=this.$0[pD];if(ss.isValue(pE)){this.$2.$1(pE);this.$2.$0(pE);return pE.$0.$1}return ss.getDefaultValue(ex)},has:function(pD){return ss.keyExists(this.$0,pD)},delete$1:function(pD){if(!this.has(pD)){return}var pE=this.$0[pD];delete this.$0[pD];this.$2.$1(pE)},clear:function(){var pD=_.keys(this.$0);for(var pE=0,pF=pD.length;pE<pF;pE++){this.delete$1(pD[pE])}}});return pC});ss.initGenericClass(jq,2);var jr=global.tab.ManualSortReorderByIndexCmd=ss.mkType(a,'tab.ManualSortReorderByIndexCmd',function(){ss.makeGenericType(bl,[Object,js]).call(this)},{get_commandId:function(){return jr.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'manual-sort-reorder-by-index'},this.c))}});var js=global.tab.ManualSortReorderByIndexCmd$Response=ss.mkType(a,'tab.ManualSortReorderByIndexCmd$Response',function(e){this.$$c=null;this.$$c=e});var jt=global.tab.MapboxMapSourceModel=ss.mkType(a,'tab.MapboxMapSourceModel',function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;jC.call(this,e,new kA('mapboxMapSource'.toString(),null))},{add_styleRefreshRequired:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_styleRefreshRequired:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_dataLayerRefreshRequired:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_dataLayerRefreshRequired:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_featureLayersRefreshRequired:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_featureLayersRefreshRequired:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_hasPresModel:function(){return ss.isValue(this.pm)},get_mapboxMapSourcePresModel:function(){return this.pm},get_accessToken:function(){return this.get_mapboxMapSourcePresModel().mapboxAccessToken},get_baseUrl:function(){return this.get_mapboxMapSourcePresModel().mapboxBaseUrl},get_styleJsonUrl:function(){return this.get_mapboxMapSourcePresModel().mapboxStyleJsonUrl},get_mapCodeFilterKeyword:function(){return this.get_mapboxMapSourcePresModel().mapCodeFilterKeyword},get_mapCode:function(){return this.get_mapboxMapSourcePresModel().mapCode},get_languageCodePropertyKeyword:function(){return this.get_mapboxMapSourcePresModel().mapLanguageCodePropertyKeyword},get_languageCode:function(){return this.get_mapboxMapSourcePresModel().mapLanguageCode},get_enabledMapLayerIds:function(){var e=this.get_mapboxMapSourcePresModel().enabledMapLayerIds;var ex=new Set;if(ss.isValue(e)){for(var pC=0;pC<e.length;pC++){var pD=e[pC];ex.add(pD)}}return ex},get_dataRequestUrl:function(){return this.get_mapboxMapSourcePresModel().mapDataRequestUrl},get_dataColorRamp:function(){return this.get_mapboxMapSourcePresModel().mapDataColorRamp},get_dataInsertAbove:function(){return this.get_mapboxMapSourcePresModel().mapDataInsertAbove},get_dataOpacity:function(){return this.get_mapboxMapSourcePresModel().mapDataOpacity},get_dataSourceLayer:function(){return this.get_mapboxMapSourcePresModel().mapDataSourceLayer},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}var pC=this.$3(e);var pD=this.$1(e);var pE=this.$2(e);this.swapAndCopyPresModel(e);if(pC){this.raiseEvent(this.$2$1,ex)}if(pD&&!pC){this.raiseEvent(this.$2$2,ex)}if(pE&&!pC){this.raiseEvent(this.$2$3,ex)}},$3:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(this.get_mapboxMapSourcePresModel())){return false}return!ss.referenceEquals(this.get_styleJsonUrl(),e.mapboxStyleJsonUrl)||!ss.referenceEquals(this.get_languageCode(),e.mapLanguageCode)||!ss.referenceEquals(this.get_mapCode(),e.mapCode)},$1:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(this.get_mapboxMapSourcePresModel())){return false}return!ss.referenceEquals(this.get_dataRequestUrl(),e.mapDataRequestUrl)||!ss.referenceEquals(this.get_dataColorRamp(),e.mapDataColorRamp)||!ss.referenceEquals(this.get_dataInsertAbove(),e.mapDataInsertAbove)||!ss.referenceEquals(this.get_dataOpacity(),e.mapDataOpacity)||!ss.referenceEquals(this.get_dataSourceLayer(),e.mapDataSourceLayer)},$2:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(this.get_mapboxMapSourcePresModel())||ss.isNullOrUndefined(e.enabledMapLayerIds)||ss.isNullOrUndefined(this.get_mapboxMapSourcePresModel().enabledMapLayerIds)){return false}if(e.enabledMapLayerIds.length!==this.get_mapboxMapSourcePresModel().enabledMapLayerIds.length){return true}var ex=this.get_mapboxMapSourcePresModel().enabledMapLayerIds;ex.sort();var pC=e.enabledMapLayerIds;pC.sort();for(var pD=0;pD<pC.length;pD++){if(!ss.referenceEquals(pC[pD],ex[pD])){return true}}return false}});var ju=global.tab.MapClientCommands=ss.mkType(a,'tab.MapClientCommands',null,null,{boundingBoxPan:function(e,ex){var pC={};pC['mapLatLongRect']=ex;if(ss.isValue(e)){pC['visualIdPresModel']=e}var pD=cN.newCommand({ns:'tabdoc',cmd:'bounding-box-pan'},null);pD.commandParams=pC;mp.executeServerCommand(pD,'afterDelay',null,null)},geographicSearchQuery:function(e,ex,pC,pD,pE){var pF={};pF['geographicSearchSearchString']=ex;pF['geographicSearchLocale']=pC;pF['geographicSearchMaxResults']=pD.toString();if(ss.isValue(e)){pF['visualIdPresModel']=e}var pG=cN.newCommand({ns:'tabdoc',cmd:'geographic-search-query'},null);pG.commandParams=pF;mp.executeServerCommand(pG,'none',function(pH){pE(pH)},null)}});var jv=global.tab.MapOptionsInfoModel=ss.mkType(a,'tab.MapOptionsInfoModel',function(){this.$2$1=null;this.$2$2=null;jC.call(this,null,new kA('lightweightMapOptions'.toString(),null));this.pm={}},{add_updatedMapOptionsInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedMapOptionsInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_stopNotifying:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_stopNotifying:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_lightweightMapOptionsPresModel:function(){return this.pm},get_shouldShowGeographicSearch:function(){return this.get_lightweightMapOptionsPresModel().showGeographicSearch},get_shouldShowFloatingZoomToolbar:function(){return this.get_lightweightMapOptionsPresModel().showFloatingZoomToolbar},get_shouldAllowPanZoom:function(){return this.get_lightweightMapOptionsPresModel().allowPanZoom},get_canToggleGeographicSearch:function(){return this.get_lightweightMapOptionsPresModel().canToggleGeographicSearch},get_shouldShowMapScale:function(){return this.get_lightweightMapOptionsPresModel().showMapScale},get_canToggleMapScale:function(){return this.get_lightweightMapOptionsPresModel().canToggleMapScale},get_canSetMapUnit:function(){return this.get_lightweightMapOptionsPresModel().canSetMapUnit},get_hasPresModel:function(){return ss.isValue(this.get_lightweightMapOptionsPresModel())},get_dialogTitle:function(){return tab.Strings.MapOptionsDialogTitle},get_notificationId:function(){return'doc:map-options-dialog-event'},get_vizID:function(){return this.get_lightweightMapOptionsPresModel().visualIdPresModel},get_mapUnitSelection:function(){return this.get_lightweightMapOptionsPresModel().defaultMapUnitEnum},onNotify:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)},detachNotifications:function(){this.pm=null;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},update:function(e,ex){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}});var jw=global.tab.MapScaleInfoModel=ss.mkType(a,'tab.MapScaleInfoModel',function(e){this.$2$1=null;jC.call(this,e,new kA('mapScaleInfo'.toString(),null))},{add_updatedMapScaleInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedMapScaleInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_mapScaleInfoPresModel:function(){return this.pm},get_shouldShowMapScale:function(){return this.get_mapScaleInfoPresModel().shouldShowMapScale},get_mapScaleMarginOfError:function(){return this.get_mapScaleInfoPresModel().mapScaleMarginOfError},get_mapScaleWidth:function(){return this.get_mapScaleInfoPresModel().mapScaleWidth},get_mapScaleReadoutString:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutString},get_mapScaleReadoutNumber:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutNumber},get_mapScaleReadoutUnit:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutUnit},get_mapScaleFontSizePixels:function(){return this.get_mapScaleInfoPresModel().mapScaleFontSizePixels},get_mapScaleColor:function(){return this.get_mapScaleInfoPresModel().mapScaleColor},get_mapScaleTooltipString:function(){return this.get_mapScaleInfoPresModel().mapScaleTooltipString},get_mapScaleBorderColor:function(){return this.get_mapScaleInfoPresModel().mapScaleBorderColor},get_hasPresModel:function(){return ss.isValue(this.get_mapScaleInfoPresModel())},update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}}});var jx=global.tab.MapServerModel=ss.mkType(a,'tab.MapServerModel',function(e){this.$8=null;this.$6=null;this.$7=null;this.$9=null;this.$3=0;this.$4=0;this.$a=0;this.$5=0;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=false;jC.call(this,e,new kA('mapServer'.toString(),null));this.$8=new kJ(this);this.$6=new jw(this);this.$7=new jt(this);this.$9=new kS(this);this.set_allowLocalPanAndZoom(false);this.$3=0;this.$4=0;this.$a=0;this.$5=0},{add_newMapServerInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMapServerInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_tileSourceChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_tileSourceChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_useFastMapsChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_useFastMapsChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_worldRepeatsChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_worldRepeatsChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_washoutChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_washoutChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_useFastMaps:function(){return this.get_hasPresModel()&&this.$2().clientRequestsMapTiles},get_forceMapsToOffline:function(){return this.$2().mapForceMapsToOffline},get_hasPresModel:function(){return ss.isValue(this.pm)},get_isAttributionVisible:function(){return this.$2().showAttribution},get_minZoom:function(){return this.$2().mapMinZoom},get_maxZoom:function(){return this.$2().mapMaxZoom},get_requestZoom:function(){if(tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.get_allowLocalPanAndZoom()){return this.$a}return this.$2().mapRequestZoom},set_requestZoom:function(e){this.$a=e},get_displayScale:function(){if(tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.get_allowLocalPanAndZoom()){return this.$5}return this.$2().mapDisplayScale},set_displayScale:function(e){this.$5=e},get_zoom:function(){var e=Math.log(this.get_displayScale())/Math.LN2;var ex=this.get_requestZoom()+e;if(this.get_useFastMaps()&&this.get_rasterMapSourceModel().get_hasPresModel()){ex-=tab.MapUtil.getLeafletZoomOffsetForTileSize(this.get_rasterMapSourceModel().get_mapTileSize())}return ex},get_centerLatitude:function(){if(tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.get_allowLocalPanAndZoom()){return this.$3}return this.$2().mapCenterLatitude},set_centerLatitude:function(e){this.$3=e},get_centerLongitude:function(){if(tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.get_allowLocalPanAndZoom()){return this.$4}return this.$2().mapCenterLongitude},set_centerLongitude:function(e){this.$4=e},get_numWorldRepeats:function(){return this.$2().mapWorldRepeats},get_tileUrl:function(){var e=this.$2();var ex;if(tab.MiscUtil.isNullOrEmpty$1(e.mapTileServer.toString())&&!tab.MiscUtil.isNullOrEmpty$1(e.mapFullTileUrl.toString())){ex=e.mapFullTileUrl}else{if(ss.startsWithString(e.mapTileServer.toString(),'http://')||ss.startsWithString(e.mapTileServer.toString(),'https://')){ex=''}else{var pC=tab.WindowHelper.getLocation(window.self).protocol;ex=pC+'//'}ex+=e.mapTileServer;if(!ss.endsWithString(ex,String.fromCharCode(47))&&!ss.startsWithString(e.mapTileUrl.toString(),String.fromCharCode(47))){ex+='/'}ex+=e.mapTileUrl}ex=ss.replaceAllString(ex,'{K}',e.mapServerKey);ex=ss.replaceAllString(ex,'{L}',e.mapLayerRequest);var pD=tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(BrowserSupport.BrowserSupport.DevicePixelRatio(),2);ex=ss.replaceAllString(ex,'{D}',(pD?'@2x':''));ex=ss.replaceAllString(ex,'{X}','{x}');ex=ss.replaceAllString(ex,'{Y}','{y}');ex=ss.replaceAllString(ex,'{Z}','{z}');ex=ss.replaceAllString(ex,'{P}','{p}');return ex},get_hasValidTileLayer:function(){return this.$2().mapHasValidLayer},get_attributionUrl:function(){return this.$2().mapAttributionUrl},get_attributionText:function(){return this.$2().mapAttributionText},get_attributionUrl2:function(){return this.$2().mapAttributionUrl2},get_attributionText2:function(){return this.$2().mapAttributionText2},get_attributionTextColor:function(){return this.$2().mapAttributionTextColor},get_attributionTextSize:function(){return this.$2().mapAttributionTextSize},get_attributionBGColor:function(){return this.$1(this.$2().mapAttributionFill)},get_mapBGFillColor:function(){return this.$1(this.$2().mapPaneBackgroundFill)},get_mapHolderBackgroundColor:function(){return this.$1(this.$2().mapHolderBackgroundColor)},get_hasWashout:function(){return this.$2().mapWashout>0},get_washoutColor:function(){var e=Math.max(0,Math.min(1,this.$2().mapWashout));return new ct(255,255,255,e)},get_mapScaleInfoModel:function(){return this.$6},get_radialSelectionDistanceInfoModel:function(){return this.$8},get_mapboxMapSourceModel:function(){return this.$7},get_rasterMapSourceModel:function(){return this.$9},get_allowLocalPanAndZoom:function(){return this.$2$6},set_allowLocalPanAndZoom:function(e){this.$2$6=e},get_sheetName:function(){var e=ss.safeCast(this.parent,oG);return(ss.isValue(e)?e.get_worksheetName().toString():'')},$2:function(){return this.pm},update:function(e,ex){var pC=ss.isValue(this.$2())&&ss.isValue(e);if(pC){var pD=!ss.referenceEquals(this.$2().mapTileServer,e.mapTileServer);var pE=!ss.referenceEquals(this.$2().mapLayerRequest,e.mapLayerRequest);var pF=ss.isValue(e.rasterMapSource);if(pF&&(pD||pE)){this.raiseEvent(this.$2$2,ex)}var pG=this.$2().clientRequestsMapTiles!==e.clientRequestsMapTiles;if(pG){this.raiseEvent$2(Boolean,Boolean).call(this,this.$2$3,this.$2().clientRequestsMapTiles,e.clientRequestsMapTiles,ex)}var pH=this.$2().mapWorldRepeats!==e.mapWorldRepeats;if(pH){this.raiseEvent(this.$2$4,ex)}var pI=this.$2().mapWashout!==e.mapWashout;if(pI){this.raiseEvent(this.$2$5,ex)}}if(ss.isValue(e)){this.$8.update(e.radialSelectionDistanceInfo);this.$6.update(e.mapScaleInfo,ex);this.$7.update(e.mapboxMapSource,ex);this.$9.update(e.rasterMapSource)}this.simpleSwapToUpdate(e,this.$2$1,ex)},$1:function(e){return ct.fromColorCode(e||'rgb(255,255,255)').toString()}});var jy=global.tab.MarginDefinition=ss.mkType(a,'tab.MarginDefinition',function(){ns.call(this,null,null,null,null,null)},{mergeWithExisitingStyle:function(e){var ex=$.extend({},e);if(ss.isValue(this.defaultSpace)){ex.margin=ss.unbox(this.defaultSpace)}else{delete ex.margin}if(ss.isValue(this.top)){ex.marginTop=ss.unbox(this.top)}else{delete ex.marginTop}if(ss.isValue(this.bottom)){ex.marginBottom=ss.unbox(this.bottom)}else{delete ex.marginBottom}if(ss.isValue(this.left)){ex.marginLeft=ss.unbox(this.left)}else{delete ex.marginLeft}if(ss.isValue(this.right)){ex.marginRight=ss.unbox(this.right)}else{delete ex.marginRight}return ex}},{$ctor1:function(e){ns.call(this,e.margin,e.marginLeft,e.marginRight,e.marginTop,e.marginBottom)}});var jz=global.tab.MarksCardModel=ss.mkType(a,'tab.MarksCardModel',function(e){this.$7=[];this.$6=false;this.$5=0;this.$4=null;this.$2$1=null;this.$2$2=null;jC.call(this,e,new kA('marksCardPresModel'.toString(),null))},{add_newMarksCard:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMarksCard:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_activePaneSpecIdChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_activePaneSpecIdChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_marksCardTabEncodingModels:function(){return this.$7},get_isLayered:function(){return this.$6},get_defaultMarksSpecId:function(){return this.$5},get_activePaneSpecId:function(){return this.$4},set_activePaneSpecId:function(e){if(ss.referenceEquals(this.$4,e)){return}this.$4=e;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}var pC=[];if(ss.isValue(e)&&ss.isValue(e.marksCardTab)){this.$3(e.marksCardTab,pC,ex)}if(ss.isValue(e)&&ss.isValue(e.marksCardTabs)){for(var pD=0;pD<e.marksCardTabs.length;pD++){var pE=e.marksCardTabs[pD];this.$3(pE,pC,ex)}}this.$2(e,pC);this.$7=pC;this.$6=e.isLayered;this.$5=e.marksCardTab.paneSpec;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)},$3:function(e,ex,pC){var pD=_.find(this.$7,function(pE){return pE.equals$1(e)});if(ss.isNullOrUndefined(pD)){pD=new jA(this,e.paneSpec)}pD.update(e,pC);ex.push(pD)},$2:function(e,ex){var pC=this.$1();if(ss.isValue(pC)){var pD=_.find(ex,function(pI){return pI.get_id()===ss.unbox(pC)});if(ss.isValue(pD)){this.$4=pD.get_id();return}}if(ss.isValue(e)&&e.isLayered){var pE=ex.length>this.$7.length&&this.$7.length>0;if(pE){var pF=_.last(ex);if(ss.isValue(pF)){this.$4=pF.get_id();return}}}var pG=_.find(ex,ss.mkdel(this,function(pI){return pI.get_id()===this.$4}));if(ss.isValue(pG)){this.$4=pG.get_id();return}var pH=_.first(ex);if(ss.isValue(pH)){this.$4=pH.get_id();return}this.$4=null},$1:function(){var e=bd.get_instance();var ex=e.modelInstance(nZ).call(e);if(ss.isValue(ex)&&ex.get_hasCalculation()&&ex.get_adHocShelf()==='encoding-shelf'){return ex.get_adHocPaneSpecId()}return null}});var jA=global.tab.MarksCardTabEncodingModel=ss.mkType(a,'tab.MarksCardTabEncodingModel',function(e,ex){this.$1=null;this.$2$1=null;jC.call(this,e,new kA('layer-encoding['+ex+']',null));this.$1=new jB(this)},{add_newMarksCardTabEncoding:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMarksCardTabEncoding:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_id:function(){return this.pm.paneSpec},get_name:function(){return this.pm.name},get_defaultName:function(){return this.pm.layerTitleDefault},get_isTableCalc:function(){return this.pm.isTableCalc},get_isHidden:function(){return this.pm.isHidden},get_isLayerSelectionDisabled:function(){return this.pm.isLayerSelectionDisabled},get_isInExtent:function(){return this.pm.isInExtent},get_paneDescriptorKeys:function(){return this.pm.paneDescriptorKeys},get_encodings:function(){return _.filter(this.pm.encodingUiItems,function(e){return e.isVisible&&e.isEnabled})},get_textEncodingDropdown:function(){return this.getDropdownPresModel('text-encoding')},get_colorEncodingDropdown:function(){return this.getDropdownPresModel('color-encoding')},get_sortEncodingOptions:function(){return this.getDropdownPresModel('sort-encoding')},get_currentPrimitiveType:function(){var e=_.find(this.get_primitiveTypes(),function(ex){return ex.isSelected});return e},get_primitiveTypes:function(){return _.filter(this.pm.primitiveTypeUiItems,function(e){return e.isVisible&&e.isEnabled})},get_heatmapSettingsPresModel:function(){return this.pm.heatmapSettings},get_markSizeModel:function(){return this.$1},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex);if(ss.isNullOrUndefined(this.$1)){this.$1=new jB(this)}this.$1.update(this.getDropdownPresModel('size-encoding'),ex)},equals$1:function(e){return this.get_id()===e.paneSpec},getDropdownPresModel:function(e){var ex=_.filter(this.pm.encodingUiItems,function(pC){return pC.isVisible&&pC.isEnabled&&pC.encodingType===e});if(ss.isNullOrUndefined(ex)||ex.length!==1){return null}return ex[0].marksCardDropdownItem}});var jB=global.tab.MarkSizeModel=ss.mkType(a,'tab.MarkSizeModel',function(e){this.$2=null;this.$3=null;this.$2$1=null;jC.call(this,e,new kA('markSize'.toString(),null));this.$2=e},{add_newMarkSize:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMarkSize:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minMarkSize:function(){return this.pm.minMarkSize},get_maxMarkSize:function(){return this.pm.maxMarkSize},get_currentMarkSize:function(){return this.pm.markSize},get_currentSliderFraction:function(){return tab.DoubleUtil.roundTwoDecimalPlaces(this.$3.valueToFraction(this.get_currentMarkSize()))},get_transform:function(){return this.$3},get_parentModel:function(){return this.$2},update:function(e,ex){if(ss.isValue(e)){this.$1(e)}this.simpleSwapToUpdate(e,this.$2$1,ex)},$1:function(e){switch(e.inflectionPoints.length){case 0:{this.$3=new jn(e.minMarkSize,e.maxMarkSize);break}case 1:{var ex=e.inflectionPoints[0];this.$3=new O(e.minMarkSize,e.maxMarkSize,ex.inflectionFraction,ex.inflectionValue,ex.inflectionFraction,ex.inflectionValue);break}case 2:default:{var pC=e.inflectionPoints[0];var pD=e.inflectionPoints[1];this.$3=new O(e.minMarkSize,e.maxMarkSize,pC.inflectionFraction,pC.inflectionValue,pD.inflectionFraction,pD.inflectionValue);break}}}});var jC=global.tab.Model=ss.mkType(a,'tab.Model',function(e,ex){this.pm=null;this.presModelKey=null;this.parent=null;this.parent=e;this.presModelKey=ex},{getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(false)},getPresModelPath:function(){return this.$0(new kz)},reparent:function(e){this.parent=e},getMutableCopyOfPresModelInternal:function(e){var ex=(e?tab.MiscUtil.cloneObject(this.pm):ky.cloneObjWithScalarsOnly(this.pm));return ex||new Object},swapAndCopyPresModel:function(e){var ex=this.pm;if(ss.isValue(ex)&&ss.isValue(e)){var pC=e;var pD=ex;var pE=Object.keys(pD);for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];if((!ss.keyExists(pC,pG)||typeof(pC[pG])==='undefined')&&(!_.isBoolean(pD[pG])||!jC.removeUndefinedBoolsOnSwapCopy)&&!ss.referenceEquals(pG,'runtimeFinalDatastoreLocal'.toString())&&!ss.referenceEquals(pG,'runtimeData'.toString())){pC[pG]=pD[pG]}}}this.pm=e},swapPresModel:function(e){this.pm=e},simpleSwapToUpdate$1:function(e){return function(ex,pC,pD,pE){this.simpleSwapToUpdate(ex,function(){if(!ss.staticEquals(pC,null)){pC(pD)}},pE)}},simpleSwapToUpdate:function(e,ex,pC){if(this.isNewPresModelSameAsOld(e)){return false}this.swapAndCopyPresModel(e);this.raiseEvent(ex,pC);return true},isNewPresModelSameAsOld:function(e){return _.isEqual(this.pm,e)},raiseEvent$1:function(e){return function(ex,pC,pD){if(ss.staticEquals(ex,null)){return}this.raiseEvent(function(){ex(pC)},pD)}},raiseEvent$2:function(e,ex){return function(pC,pD,pE,pF){if(ss.staticEquals(pC,null)){return}this.raiseEvent(function(){pC(pD,pE)},pF)}},raiseEvent:function(e,ex){if(ss.staticEquals(e,null)){return}if(ss.isValue(this.pm)){}if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.eventHandler)){return}ex.eventHandler.processEvent(e)},$0:function(e){if(!ss.isValue(this.parent)){e.reverse();return e}if(ss.isValue(this.presModelKey)){e.add(this.presModelKey)}var ex=this.parent;return ex.$0(e)}},{nonWorldUpdate:function(e){{var ex=new ej;try{e({eventHandler:ex})}finally{if(ss.isValue(ex)){ex.dispose()}}}}});var jD=global.tab.ModelHolder$1=ss.mkType(a,'tab.ModelHolder$1',function(e){var ex=ss.registerGenericClassInstance(jD,[e],function(){this.$1=null;this.$0=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null;this.$1$3=null},{$2:function(pC){this.$1$1=ss.delegateCombine(this.$1$1,pC)},$3:function(pC){this.$1$1=ss.delegateRemove(this.$1$1,pC)},$6:function(pC){this.$1$2=ss.delegateCombine(this.$1$2,pC)},$7:function(pC){this.$1$2=ss.delegateRemove(this.$1$2,pC)},$4:function(pC){this.$1$3=ss.delegateCombine(this.$1$3,pC)},$5:function(pC){this.$1$3=ss.delegateRemove(this.$1$3,pC)},get_model:function(){return this.$1},set_Model:function(pC){var pD=this.$1;this.$1=pC;if(!ss.referenceEquals(pD,this.$1)){if(ss.isValue(pD)&&!ss.staticEquals(this.$1$2,null)){this.$1$2(pD)}if(ss.isValue(this.$1)&&!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$1)}if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},addModelChangedHandler:function(pC){this.$4(pC);if(ss.isValue(this.$1)){pC()}return this},removeModelChangedHandler:function(pC){this.$5(pC)},addEventBinding:function(pC,pD){this.$2(pC);if(ss.isValue(this.$1)){pC(this.$1)}this.$6(pD);return this},removeEventBinding:function(pC,pD){this.$3(pC);this.$7(pD);if(!ss.staticEquals(pD,null)&&ss.isValue(this.$1)){pD(this.$1)}},createChildModelHolder:function(pC){return function(pD){var pE=new(ss.makeGenericType(jD,[pC]));pE.$0.add$1(this.newDisposableContext().addModelChangedHandler(ss.mkdel(this,function(){var pF=null;if(ss.isValue(this.get_model())){pF=pD(this.get_model())}pE.set_Model(pF)})));this.$0.add$1(pE);return pE}},dispose:function(){this.set_Model(null);this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$0.dispose()},newDisposableContext:function(){return new(ss.makeGenericType(jE,[e]))(this)}},null,null,function(){return[ss.IDisposable,ss.makeGenericType(hY,[e])]});return ex});ss.initGenericClass(jD,1);var jE=global.tab.ModelHolderContext$1=ss.mkType(a,'tab.ModelHolderContext$1',function(e){var ex=ss.registerGenericClassInstance(jE,[e],function(pC){this.$0=null;this.$1=null;this.$0=new tab.DisposableHolder;this.$1=pC},{addModelChangedHandler:function(pC){this.$1.addModelChangedHandler(pC);this.$0.add(ss.mkdel(this,function(){this.$1.removeModelChangedHandler(pC)}));return this},addEventBinding:function(pC,pD){this.$1.addEventBinding(pC,pD);this.$0.add(ss.mkdel(this,function(){this.$1.removeEventBinding(pC,pD)}));return this},dispose:function(){this.$0.dispose()}},null,null,function(){return[ss.IDisposable]});return ex});ss.initGenericClass(jE,1);var jF=global.tab.ModelUtils=ss.mkType(a,'tab.ModelUtils',null,null,{getRegionsForSceneMargin:function(e,ex,pC){var pD=[];switch(e.toString()){case'0':{if(pC){pD.push('topaxis')}if(ex){pD.push('xheader')}break}case'1':{if(ex||pC){pD.push('bottomaxis')}break}case'2':{if(pC){pD.push('rightaxis')}if(ex){pD.push('yheader')}break}case'3':{if(pC){pD.push('leftaxis')}if(ex){pD.push('yheader')}break}}return pD},getPendingZoneContentModel:function(e){if(!kC.get_progressiveLoadEnabled()){return null}var ex=(cw.get_hasInstance()?cw.get():null);if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.get_loader())){return null}return ex.get_loader().getPendingZoneContentModel(e)},getViewSession:function(e){return jF.findContentDashboard(null).getViewSession(e)},getModelsForViz:function(e){return function(ex,pC){var pD=[];if(ss.isValue(ex)){var pE=ex.get_zoneModels();for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];if(ss.isInstanceOfType(pG.get_model(),e)&&ss.referenceEquals(pG.get_worksheetName(),pC.get_worksheetName())){pD.push(pG.get_model())}}}return pD}},isMultiSelectFeatureEnabled:function(e){return tab.FeatureFlags.isEnabled('FlexibleDashboard')&&ss.isValue(e)&&e.get_isFlexibleLayoutEnabled()},getVisualModels:function(e){var ex=jF.findContentDashboard(e);return jF.getVisualModelsFromDashboard(ex)},getVisualModelsFromDashboard:function(e){var ex={};if(ss.isNullOrUndefined(e)){return ex}var pC=e.get_zoneModels();for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];var pF=pE.get_visualModel();if(ss.isValue(pF)&&ss.isValue(pE.get_worksheetName())){ex[pE.get_worksheetName()]=pF}}if(kC.get_progressiveLoadEnabled()){var pG=(cw.get_hasInstance()?cw.get():null);if(ss.isValue(pG)&&ss.isValue(pG.get_loader())){var pH=pG.get_loader().getPendingVisuals();var pI=_.keys(pH);for(var pJ=0;pJ<pI.length;pJ++){var pK=pI[pJ];ex[pK]=pH[pK]}}}return ex},getSheetInfoPresModel:function(e,ex){var pC=e.get_workbook();if(ss.isNullOrUndefined(pC)||ss.isNullOrUndefined(pC.get_sheetsInfo())){return null}var pD=pC.get_sheetsInfo();for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];if(ss.referenceEquals(pF.sheet,ex)){return pF}}return null},getVisualModel:function(e,ex){var pC=null;var pD=jF.findContentDashboard(e);if(ss.isNullOrUndefined(pD)){return pC}var pE=pD.get_zoneModels();for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];var pH=pG.get_visualModel();if(ss.isValue(pH)){var pI=pG.get_worksheetName();if(ss.referenceEquals(pI,ex)){pC=pH;break}}}if(kC.get_progressiveLoadEnabled()&&ss.isNullOrUndefined(pC)){var pJ=(cw.get_hasInstance()?cw.get():null);if(ss.isValue(pJ)&&ss.isValue(pJ.get_loader())){pC=pJ.get_loader().getPendingVisual(ex)}}return pC},getVisualModelFromVisualId:function(e,ex){if(ss.isNullOrUndefined(ex)){ex=bd.get_instance()}var pC=null;var pD=jF.findContentDashboard(ex);if(ss.isNullOrUndefined(pD)){return pC}var pE=pD.get_zoneModels();for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];var pH=pG.get_visualModel();if(ss.isValue(pH)){if(_.isEqual(pH.get_visualId(),e)){pC=pH;break}}}return pC},getVisualId:function(e){return jF.getVisualModel(bd.get_instance(),e).get_visualId()},getFirstAvailableWebZoneName:function(e){var ex=null;var pC=jF.findContentDashboard(e);if(ss.isNullOrUndefined(pC)){return ex}var pD=pC.get_zoneModels();for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];if(pF.get_zoneType()==='web'){var pG=pF.get_zoneId();ex='frame_'+pG.toString();break}}return ex},isActiveZone:function(e){if(jF.isMultiSelectFeatureEnabled(jF.findContentDashboard(null))){return ss.contains(jF.findContentDashboard(null).get_activeZoneIDs(),e)}else{return jF.$0(e)}},$0:function(e){switch(tsConfig.current_sheet_type){case'dashboard':case'story':{return e===jF.findContentDashboard(null).get_activeZoneID()}case'worksheet':default:{return true}}},getZoneIdForSheetName:function(e){var ex=jF.findContentDashboard(null);var pC=ex.get_zoneModels();for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];if(pE.get_zoneType()==='viz'&&ss.referenceEquals(pE.get_worksheetName(),e)){return pE.get_zoneId()|0}}return-1},hasBorder:function(e){return e.get_borderStyle()!=='bs-none'&&e.get_borderWidth()!==0},createFilterModel:function(e,ex){switch(ex.type){case'Q':{return new jh(e,ex)}case'H':{return new jf(e,ex)}case'C':{return new jd(e,ex)}case'RD':{return new jj(e,ex)}default:{return new je(e,ex)}}},findMatchingFilterModel:function(e,ex){if(ss.isValue(ex.get_fakeFilterPresModel())){return new jd(e,ex.get_fakeFilterPresModel())}else{var pC=ex.get_fieldName();return e.get_filterModels()[pC]}},setVisualValidAndUpToDateStateOnModel:function(e,ex,pC){if(ss.isNullOrUndefined(ex)){return}ex.setIsVisualValidAndUpToDate(pC,e.modelUpdateContext)},invalidateVisuals:function(e){if(ss.isNullOrUndefined(e)){return}for(var ex=0;ex<e.length;ex++){var pC=e[ex];var pD=jF.getVisualModel(bd.get_instance(),pC);if(ss.isValue(pD)){oH.invalidateVisualModel(pD)}}},setVisualValidStateOnPresModel:function(e,ex){if(ss.isNullOrUndefined(ex)){return}e.makeMutablePresModel(ex,false).valid=false},invalidateAllVisualPresModels:function(e){if(bd.get_instance().get_isOffline()){return}var ex=bd.get_instance().get_workbook().get_sheetsInfo();for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];jF.setVisualValidStateOnPresModel(e,jF.getVisualModel(bd.get_instance(),pD.sheet))}},getVisualModelOfGivenOrDefaultSheet:function(e,ex){var pC=e.get_zoneModels();for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];if(ss.isValue(pE.get_visualModel())&&(ss.referenceEquals(pE.get_worksheetName(),ex)||ss.isNullOrUndefined(ex))){return pE.get_visualModel()}}return null},findContentDashboard:function(e){if(ss.isNullOrUndefined(e)){e=bd.get_instance()}return e.get_workbook().findContentDashboard()},findActiveVisual:function(){var e=jF.findContentDashboard(null);if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}return e.get_activeVisual()},findActiveOrDefaultVisual:function(e){var ex=jF.findContentDashboard(null);if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.get_zoneModels())){return null}var pC=null;if(ss.isValue(e)){pC=jF.getVisualModelOfGivenOrDefaultSheet(ex,e);if(ss.isValue(pC)){return pC}}pC=ex.get_activeVisual();if(ss.isValue(pC)){return pC}return jF.getVisualModelOfGivenOrDefaultSheet(ex,null)},reValidateVisualModels:function(e){var ex=jF.getVisualModels(bd.get_instance());var pC=_.values(ex);for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];pE.reValidate(e)}},findActivePaneSpecId:function(){var e=jF.findActiveOrDefaultVisual(null);if(ss.isValue(e)&&ss.isValue(e.get_marksCardModel())){return e.get_marksCardModel().get_activePaneSpecId()}return null},hasAnyImpliedSelection:function(){var e=jF.getVisualModels(bd.get_instance());var ex=_.keys(e);for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];var pE=e[pD];if(!pE.get_impliedSelectionModel().isEmpty){return true}}return false},mergeMapPresModelDelta:function(e,ex){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ex)){return}var pC=_.keys(e);for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];var pF=ex[pE];if(typeof(pF)==='undefined'){ex[pE]=e[pE]}else if(pF===null){delete ex[pE]}}}});var jG=global.tab.ModuleLoader=ss.mkType(a,'tab.ModuleLoader',function(e,ex,pC){this.$f={};this.$c={};this.$d={};this.$b=new Set;this.$9=false;this.$e=new jI;this.$a=null;this.$8=null;this.$g=null;this.$h=null;this.$a=e;this.$8=ex;this.$h=pC;this.$9=false;this.$g=$.Deferred()},{onLoadActionReady:function(){this.$g.resolve()},load$1:function(e){return function(ex){var pC=this.load(ss.getTypeFullName(e),ex);return pC}},load:function(e,ex){tab.Param.verifyString(e,'uniqueModuleName');var pC=this.$2(e);if(ss.keyExists(this.$f,pC.moduleName)){return this.$f[pC.moduleName]}var pD=$.Deferred();this.$f[pC.moduleName]=pD;this.$7(Object).call(this,pD,pC.moduleName);var pE='tab.'+pC.assemblyName+'Factory';pD.always(ss.mkdel(this,function(){this.$e.moduleLoaded()}));this.$e.loadRequested();this.$3(pC).done([ss.mkdel(this,function(){this.$5(ex,pC,pE,pD)})]).fail([function(pF){var pG;var pH='Failed to load dependencies for the module: '+pC.moduleName;if(ss.isNullOrUndefined(pF)){pG=new ss.Exception(pH)}else{var pI=new ss.Exception(pF.toString());pG=new ss.Exception(pH,pI)}pD.reject(pG)}]);return pD},$3:function(e){var ex=$.Deferred();if(!e.get_hasDependencies()){ex.resolve()}else{var pC=_.map(e.get_dependencies(),function(pH){return pH.moduleName});var pD=function(){ex.resolve()};var pE=function(pH){ex.reject(pH)};this.loadModulesSequentially(pD,pE,pC)}if(e.get_hasDependenciesOnStylesheets()){var pF=ss.getEnumerator(e.get_stylesheetDependencies());try{while(pF.moveNext()){var pG=pF.current();this.loadCss(pG)}}finally{pF.dispose()}}return ex},$5:function(e,ex,pC,pD){switch(ex.loadingMethod){case'asynchronous':case'synchronous':{this.$6(Object).call(this,e,ex,pC,pD);break}case'alreadyLoaded':default:{if(ex.isRawJavaScriptModule){var pE=null;if(ex.shouldExportResult){var pF=this.$h[ex.exportResultName];if(ss.isValue(pF)){pE=pF}}jG.$3(ex,pE,pD)}else{var pG='vql'+ex.assemblyName.toLowerCase();var pH=ss.load(pG);var pI=jG.$0(ss.getType(pC,pH),e);jG.$3(ex,pI,pD)}break}}},loadModulesSequentially:function(e,ex,pC){pC=pC||[];var pD=0;this.load(pC[pD],[]).done(ss.mkdel(this,function(){this.$4(pC,e,pD+1)})).fail(function(pE){if(!ss.staticEquals(ex,null)){ex(pE)}})},register:function(e){return function(ex,pC){var pD='vql'+ex.toLowerCase();this.$0(pD,(tsConfig.debugMode?(pD+'.debug'):pD));var pE=new ik(ex,pC);this.$c[ss.getTypeFullName(e)]=pE;if(ss.keyExists(this.$f,pE.moduleName)){delete this.$f[pE.moduleName]}return new ij(pE)}},registerDependencyModule:function(e,ex){return this.registerRawJsModule(ex,e,ex)},registerTypicalRawJsModule:function(e){return this.registerRawJsModule(e,e+'.min',e)},registerRawJsModule:function(e,ex,pC){this.$0(e,(tsConfig.debugMode?pC:ex));var pD=new ik(e,null);this.$c[e]=pD;if(ss.keyExists(this.$f,pD.moduleName)){delete this.$f[pD.moduleName]}return(new ij(pD)).andMarkAsRawJavaScriptModule()},registerModulesLoadedCallback:function(e){if(ss.staticEquals(e,null)){throw new ss.ArgumentNullException('callback')}this.$e.registerModulesLoadedCallback(e)},isCssLoaded:function(e){if(this.$b.has(e)){return true}var ex=document.getElementsByTagName('link');for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];if(ss.referenceEquals(pD.getAttribute('href'),e)&&pD.getAttribute('rel')==='stylesheet'){return true}}return false},isScriptLoaded:function(e){var ex=document.getElementsByTagName('script');for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];if(ss.referenceEquals(pD.getAttribute('src'),e)){return true}}return false},loadCss:function(e){if(this.$b.has(e)){return}this.$b.add(e);var ex=document.createElement('link');ex.setAttribute('type','text/css');ex.setAttribute('rel','stylesheet');ex.setAttribute('href',e);document.getElementsByTagName('head')[0].appendChild(ex)},$6:function(e){return function(ex,pC,pD,pE){var pF=pC.moduleName.toLowerCase();if(!pC.isRawJavaScriptModule){pF='vql'+pF}var pG=pC.loadingMethod;if(pG==='synchronous'){jk.get_waitHandler().showAndLock()}var pH=function(){if(pG==='synchronous'){jk.get_waitHandler().unlock();jk.get_waitHandler().nudge()}};var pI=tabBootstrap.MetricsController.createContext('MDLOAD'.toString(),32,'module name: '+pC.moduleName);this.$g.then(ss.mkdel(this,function(){this.$1();this.$a(pF,ss.mkdel(this,function(pJ){var pK;if(pC.isRawJavaScriptModule){pK=pJ}else{var pL=ss.load(pF);pK=jG.$0(ss.getType(pD,pL),ex)}if(pC.shouldExportResult){if(typeof(this.$h[pC.exportResultName])==='function'){throw new ss.Exception('Such function already defined: '+pC.exportResultName)}this.$h[pC.exportResultName]=pJ}var pM=$.Deferred();pM.done(function(){pE.resolve(pK)}).fail(function(pN){pE.reject(pN)}).always(function(){pI.dispose();pH()});jG.$3(pC,pK,pM)}),function(pJ){pH();jG.$4(e).call(null,pJ,pE)})}),null)}},$4:function(e,ex,pC){if(pC>=ss.count(e)){ex();return}this.load(ss.getItem(e,pC),[]).done(ss.mkdel(this,function(){this.$4(e,ex,pC+1)}))},$0:function(e,ex){this.$d[e]=ex;if(this.$9){this.$8({map:ss.mkdict(['*',this.$d])})}},$1:function(){if(this.$9){return}this.$9=true;var e;if(tsConfig.useLocalPaths){e=tableau.util.adjustForLocalPaths(tsConfig.local_static_asset_prefix)}else{e=tsConfig.external_static_asset_prefix}e=e+'/javascripts';this.$8({baseUrl:e,map:ss.mkdict(['*',this.$d]),onNodeCreated:function(ex){if(!tsConfig.useLocalPaths&&tsConfig.xdomain_active){ex.setAttribute('crossorigin','anonymous')}},waitSeconds:0})},$2:function(e){var ex=this.$c[e];if(ss.isNullOrUndefined(ex)){throw new ss.Exception('Unknown module: '+e)}return ex},$7:function(e){return function(ex,pC){ex.fail(ss.mkdel(this,function(pD){var pE=pD;delete this.$f[pC];this.reportException(pE)}))}},reportException:function(e){throw e}},{$0:function(e,ex){return((ex.length===0)?ss.createInstance(e):ss.applyConstructor(e,ex))},getInstance:function(e,ex,pC){return new jG(e,ex,pC)},$3:function(e,ex,pC){if(ss.staticEquals(e.waitUntilModuleReadyFunc,null)){pC.resolve(ex)}else{var pD=e.waitUntilModuleReadyFunc();pD.done([function(){pC.resolve(ex)}]);pD.fail([function(pE){pC.reject(pE)}])}},$2:function(){var e;try{e=window.performance.now()}catch(ex){e=(new Date).getTime()}return e},$4:function(e){return function(ex,pC){var pD=jG.$1(ex);var pE=new ss.Exception(pD);pC.reject(pE)}},$1:function(e){var ex=e.message;if(ss.isValue(e.requireModules)&&e.requireModules.length>0){var pC=e.requireModules.join(',');ex+='; Modules='+pC}if(!ss.isNullOrEmptyString(e.requireType)){ex+='; RequireType='+e.requireType}if(ss.isValue(e.originalError)){ex+='; Original='+JSON.stringify(e.originalError)}return ex}});var jH=global.tab.ModuleManager=ss.mkType(a,'tab.ModuleManager',null,null,{onRequireJsReady:function(){jH.$1.onLoadActionReady()},load$1:function(e){return function(ex){return jH.$1.load$1(e).call(jH.$1,ex)}},load:function(e,ex){return jH.$1.load(e,ex)},loadModulesSequentially:function(e,ex,pC){jH.$1.loadModulesSequentially(e,ex,pC)},register:function(e){return function(ex,pC){return jH.$1.register(e).call(jH.$1,ex,pC)}},registerDependencyModule:function(e,ex){return jH.$1.registerDependencyModule(e,ex)},registerTypicalRawJsModule:function(e){return jH.$1.registerTypicalRawJsModule(e)},registerRawJsModule:function(e,ex,pC){return jH.$1.registerRawJsModule(e,ex,pC)},registerModulesLoadedCallback:function(e){jH.$1.registerModulesLoadedCallback(e)},isCssLoaded:function(e){return jH.$1.isCssLoaded(e)},isScriptLoaded:function(e){return jH.$1.isScriptLoaded(e)},loadCss:function(e){jH.$1.loadCss(e)}});var jI=global.tab.ModuleTracker=ss.mkType(a,'tab.ModuleTracker',function(){this.$3=0;this.$2=[]},{loadRequested:function(){this.$3++},moduleLoaded:function(){this.$3=Math.max(this.$3-1,0);if(this.$0()){this.$1()}else{}},registerModulesLoadedCallback:function(e){if(this.$0()){e();return}this.$2.push(e)},$0:function(){return this.$3===0},$1:function(){for(var e=0;e<this.$2.length;e++){var ex=this.$2[e];_.defer(ex)}this.$2.length=0}});var jJ=global.tab.MovePointAnnotationCmd=ss.mkType(a,'tab.MovePointAnnotationCmd',function(){ss.makeGenericType(bl,[Object,jK]).call(this)},{get_commandId:function(){return jJ.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'move-point-annotation'},this.c))}});var jK=global.tab.MovePointAnnotationCmd$Response=ss.mkType(a,'tab.MovePointAnnotationCmd$Response',function(e){this.$$c=null;this.$$c=e});var jL=global.tab.MovePointAnnotationTargetCmd=ss.mkType(a,'tab.MovePointAnnotationTargetCmd',function(){ss.makeGenericType(bl,[Object,jM]).call(this)},{get_commandId:function(){return jL.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'move-point-annotation-target'},this.c))}});var jM=global.tab.MovePointAnnotationTargetCmd$Response=ss.mkType(a,'tab.MovePointAnnotationTargetCmd$Response',function(e){this.$$c=null;this.$$c=e});var jN=global.tab.MultipleFieldsModel=ss.mkType(a,'tab.MultipleFieldsModel',function(){fA.call(this,null);var e={fn:''};this.swapAndCopyPresModel(e)},{get_instanceType:function(){return'multiple'}});var jO=global.tab.NewDashboardLayoutCmd=ss.mkType(a,'tab.NewDashboardLayoutCmd',function(){ss.makeGenericType(bl,[Object,jP]).call(this)},{get_commandId:function(){return jO.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'new-dashboard-layout'},this.c))}});var jP=global.tab.NewDashboardLayoutCmd$Response=ss.mkType(a,'tab.NewDashboardLayoutCmd$Response',function(e){this.$$c=null;this.$$c=e});var jQ=global.tab.NoopModelEventsHandler=ss.mkType(a,'tab.NoopModelEventsHandler',function(){},{processEvent:function(e){}},{get_noopContext:function(){return jQ.$1.value()}});var jR=global.tab.NotificationCallbackWithPresModel=ss.mkType(a,'tab.NotificationCallbackWithPresModel',function(e,ex){this.$1=null;this.$0=null;this.$1$1=null;this.$1=e;this.$0=ex},{add_stopNotifying:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_stopNotifying:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_notificationId:function(){return this.$1},onNotify:function(e,ex){this.$0(e)}});var jS=global.tab.ObjectClientCommands=ss.mkType(a,'tab.ObjectClientCommands',null,null,{requestObjectContextMenu:function(e,ex,pC,pD){var pE=new bD;pE.c['datasource']=e;pE.c['uniqueName']=pC;pE.c['dataObjectModelObjectId']=ex;pE.invoke().then(pD)},validateObjectCaption:function(e,ex,pC,pD){var pE=new ox;pE.c['datasource']=e;pE.c['dataObjectModelObjectId']=ex;pE.c['proposedName']=pC;var pF=pE;pF.invoke().then(ss.mkdel(this,function(pG){var pH={isValid:pG.$$c['isValid'],errorMessage:pG.$$c['errorMessage']};pD(pH)}),null)},editObjectCaption:function(e,ex){var pC=new eZ;pC.c['objectCaption']=ex;pC.c['dataObjectModelObjectId']=e;pC.invoke()}});var jT=global.tab.OnlineAnalyticsClient=ss.mkType(a,'tab.OnlineAnalyticsClient',function(){this.$4=null;this.$6=null;this.$7=0;this.$8='';this.$9='';this.$b=0;this.$a=null;this.$5=tab.Logger.getLogger(jT,4)},{$3:function(e,ex){this.$1(e).done([ss.mkdel(this,function(){ex['SiteId']=this.$7;ex['SiteLuid']=this.$8;ex['SiteUrlName']=this.$9;ex['UserId']=this.$b;ex['Language']=tsConfig.language;ex['Locale']=tsConfig.locale;ex['SessionId']=tsConfig.sessionIdHash;ex['ProjectId']=tsConfig.current_project_id;ex['WorkbookId']=tsConfig.current_workbook_id;ex['Public']=tsConfig.isPublic;ex['SaaS']=tsConfig.is_saas;this.$a.buildTelemetryAndSend(e,'VizClient',ex)})]);var pC=jT.$1$1;if(!ss.staticEquals(pC,null)){pC(e,ex)}},$2:function(){return jH.load('typescript-telemetry-forwarder',[])},$0:function(){if(tsConfig.is_guest){return null}return pn.get_getSessionInfo().done(ss.mkdel(this,function(e){this.$6=e})).fail(ss.mkdel(this,function(e){}))},$1:function(e){return this.$4||(this.$4=$.when(this.$0(),this.$2()).done([ss.mkdel(this,function(){var ex=false;var pC=ss.isValue(this.$6);if(pC){var pD=this.$6.site;var pE=this.$6.user;pC=ss.isValue(pD)&&ss.isValue(pE);if(pC){this.$7=pD.id;this.$8=pD.luid;this.$9=pD.urlName;this.$b=pE.id}}else if(tab.FeatureFlags.isEnabled('PublicGuestBootstrapTelemetry')&&e==='Bootstrap'&&tsConfig.is_guest){this.$7=-1;this.$8=null;this.$9=null;this.$b=-1;ex=true;pC=true}if(!pC){}if(!ex){this.$a=new TypescriptTelemetryForwarder.TelemetryForwarder}else{this.$a=new TypescriptTelemetryForwarder.TelemetryForwarder(tsConfig.telemetryEndPointOverride)}})]))}},{add_onLogEvent:function(e){jT.$1$1=ss.delegateCombine(jT.$1$1,e)},remove_onLogEvent:function(e){jT.$1$1=ss.delegateRemove(jT.$1$1,e)},get_telemetryEnabled:function(){return tab.FeatureFlags.isEnabled('OnlineAnalyticsPipelineEnabled')&&!tsConfig.is_guest&&!bd.get_instance().get_isOffline()},$0:function(){if(ss.isNullOrUndefined(jT.$1)){jH.registerRawJsModule('typescript-telemetry-forwarder','typescript-telemetry-forwarder.min','typescript-telemetry-forwarder').andExportResultAs('TypescriptTelemetryForwarder');jT.$1=new jT}return jT.$1},logEventDeprecated:function(e,ex){if(jT.get_telemetryEnabled()){jT.logEvent(e,ss.mkdict(ex))}},logEvent:function(e,ex){if(jT.get_telemetryEnabled()){ex=ex||{};jT.$0().$3(e,ex)}},logBootstrapEvent:function(e,ex){ex=ex||{};jT.$0().$3(e,ex)}});var jU=global.tab.OnlineAnalyticsMetricsLogger=ss.mkType(a,'tab.OnlineAnalyticsMetricsLogger',function(){},{logEvent:function(e){if(!jU.isLoggerSupported()){return}var ex=e.parameters;var pC=tabBootstrap.MetricsController.getFriendlyEventDescription(ex.d);if(ss.isNullOrUndefined(pC)){return}var pD=ex.t>>>0;var pE=['Description',pC,'EndTime',pD,'MetricsSessionId',ex.sid,'IsMobile',!!ex.m,'UserAgent',BrowserSupport.BrowserSupport.GetUserAgent()];var pF=ex.e>>>0;if(ss.isValue(pF)){pE.push('ElapsedTime');pE.push(pF)}if(ss.isValue(ex.ei)){pE.push('ExtraInfo');pE.push(ex.ei)}if(ss.isValue(ex.cid)){pE.push('ClientEventId');pE.push(ex.cid)}kx.get_instance().reportEvent('WebClientMetrics',pE)}},{isLoggerSupported:function(){return jT.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebClientMetricsPutIntegration')}});var jV=global.tab.OpenAutomatedInsightsModalCmd=ss.mkType(a,'tab.OpenAutomatedInsightsModalCmd',function(){ss.makeGenericType(bl,[Object,jW]).call(this)},{get_commandId:function(){return jV.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'open-automated-insights-modal'},this.c))}});var jW=global.tab.OpenAutomatedInsightsModalCmd$Response=ss.mkType(a,'tab.OpenAutomatedInsightsModalCmd$Response',function(e){this.$$c=null;this.$$c=e});var jX=global.tab.OpenExplainDataPaneCmd=ss.mkType(a,'tab.OpenExplainDataPaneCmd',function(){ss.makeGenericType(bl,[Object,jY]).call(this)},{get_commandId:function(){return jX.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'open-explain-data-pane'},this.c))}});var jY=global.tab.OpenExplainDataPaneCmd$Response=ss.mkType(a,'tab.OpenExplainDataPaneCmd$Response',function(e){this.$$c=null;this.$$c=e});var jZ=global.tab.OrderClause=ss.mkType(a,'tab.OrderClause',null,null,{orderFieldFromString:function(e){try{return e}catch(ex){return'unknown'}},isInstanceOfType:function(){return true}});var ka=global.tab.OSInfo=ss.mkType(a,'tab.OSInfo',function(e,ex,pC,pD){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.set_description(e);this.set_architecture(ex);this.set_family(pC);this.set_version(pD)},{get_description:function(){return this.$1$1},set_description:function(e){this.$1$1=e},get_architecture:function(){return this.$1$2},set_architecture:function(e){this.$1$2=e},get_family:function(){return this.$1$3},set_family:function(e){this.$1$3=e},get_version:function(){return this.$1$4},set_version:function(e){this.$1$4=e}});var kb=global.tab.PaddingDefinition=ss.mkType(a,'tab.PaddingDefinition',function(){ns.call(this,null,null,null,null,null)},{mergeWithExisitingStyle:function(e){var ex=$.extend({},e);if(ss.isValue(this.defaultSpace)){ex.padding=ss.unbox(this.defaultSpace)}else{delete ex.padding}if(ss.isValue(this.top)){ex.paddingTop=ss.unbox(this.top)}else{delete ex.paddingTop}if(ss.isValue(this.bottom)){ex.paddingBottom=ss.unbox(this.bottom)}else{delete ex.paddingBottom}if(ss.isValue(this.left)){ex.paddingLeft=ss.unbox(this.left)}else{delete ex.paddingLeft}if(ss.isValue(this.right)){ex.paddingRight=ss.unbox(this.right)}else{delete ex.paddingRight}return ex}},{$ctor1:function(e){ns.call(this,e.padding,e.paddingLeft,e.paddingRight,e.paddingTop,e.paddingBottom)}});var kc=global.tab.PageModel=ss.mkType(a,'tab.PageModel',function(e){this.$1=null;this.$2$1=null;jC.call(this,e,new kA('pageModel'.toString(),null));this.$1=e.get_zone()},{add_newPage:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newPage:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_title:function(){return tableau.format.stripFormattedText(this.pm.title)},get_zoneModel:function(){return this.$1},update:function(e,ex,pC){if(this.isNewPresModelSameAsOld(e)){return}fZ.notifyFontsFromPagePresModel(e);if(ex){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,pC)}else{this.swapAndCopyPresModel(e)}}});var kd=global.tab.PageOfItem$1=ss.mkType(a,'tab.PageOfItem$1',function(e){var ex=ss.registerGenericClassInstance(kd,[e],null,null,{isInstanceOfType:function(){return true}});return ex});ss.initGenericClass(kd,1);var ke=global.tab.PageServerCommands=ss.mkType(a,'tab.PageServerCommands',null,null,{changePageBlocking:function(e,ex){var pC=ke.$0(e,ex);mp.executeServerCommand(cN.newCommand({ns:'tabdoc',cmd:'change-page'},pC),'immediately',null,null)},changePageNonblocking:function(e,ex){var pC=ke.$0(e,ex);mp.executeServerCommand(cN.newCommand({ns:'tabdoc',cmd:'change-page'},pC),'none',null,null)},syncedChangePageBlocking:function(e,ex,pC,pD){var pE=ke.$1(ex,pC,pD);var pF=cN.newCommand({ns:'tabsrv',cmd:'synced-change-page-server'},pE);var pG=new co('immediately',function(pH){},pF,null,null);cw.SendCommand(pG)},syncedChangePageNonblocking:function(e,ex,pC,pD){var pE=ke.$1(ex,pC,pD);var pF=cN.newCommand({ns:'tabsrv',cmd:'synced-change-page-server'},pE);var pG=new co('none',function(pH){},pF,null,null);cw.SendCommand(pG)},toggleTrails:function(e){var ex=ke.$2(e);mp.executeServerCommand(cN.newCommand({ns:'tabdoc',cmd:'page-toggle-trails'},ex),'afterDelay',null,null)},$0:function(e,ex){var pC={};cN.addVisualIdToCommand(pC,ex);pC['pageNumber']=e;return pC},$1:function(e,ex,pC){var pD={};cN.addVisualIdToCommand(pD,e);pD['zoneId']=ex;pD['pageNumber']=pC;return pD},$2:function(e){var ex={};cN.addVisualIdToCommand(ex,e);return ex}});var kf=global.tab.PaneIdModel=ss.mkType(a,'tab.PaneIdModel',function(e){this.$0=null;this.update(e)},{get_rowIndex:function(){return this.$0['rowIndex']},get_columnIndex:function(){return this.$0['columnIndex']},get_layerIndex:function(){return this.$0['layerIndex']},get_presModel:function(){return this.$0},update:function(e){this.$0=e}},{$ctor1:function(e,ex,pC,pD){this.$0=null;this.$0={};this.$0['columnIndex']=e;this.$0['rowIndex']=ex;this.$0['layerIndex']=pC;if(pD!==0){this.$0['pageIndex']=pD}}});var kg=global.tab.PanZoomCommandResult=ss.mkEnum(a,'tab.PanZoomCommandResult',{success:'success',failure:'failure'},true);var kh=global.tab.PanZoomCommands=ss.mkType(a,'tab.PanZoomCommands',null,null,{zoomWithAnchorPoint:function(e,ex,pC,pD,pE,pF){var pG=new Object;var pH=oO.create(pG);pH.set_r(e);pH.set_x(ex.x);pH.set_y(ex.y);var pI={};pI['vizRegionRect']=pG;var pJ=tab.PointUtil.toPresModel(ex);pI['zoomAnchorPoint']=pJ;pI['zoomFactor']=pC;pI['visualIdPresModel']=jF.getVisualId(pF);var pK=cN.newCommand({ns:'tabsrv',cmd:'pane-anchor-zoom-server'},pI);var pL=function(){mQ.fireSheetDataChanged();pE('success')};var pM=function(){pE('failure')};var pN=function(pO){return tab.RuntimeWebModule.proxy.localZoomFactorCommand(pO.get_VM(),pO.get_initialStore(),pO.get_finalStore(),pJ.x,pJ.y,pC)};kh.$0(pK,8,pN,pD,pL,pM,pF)},$2:function(e,ex,pC,pD,pE,pF,pG,pH){if(!tsConfig.allow_filter){return}var pI={};var pJ={};pJ.x=e['x'];pJ.y=e['y'];pJ.x=Math.round(pJ.x);pJ.y=Math.round(pJ.y);if(ss.isValue(e['h'])&&ss.isValue(e['w'])){pJ.h=e['h'];pJ.w=e['w']}pI['dragRect']=pJ;pI['zoomIn']=pC;pI['focus']=false;pI['zoomFactor']=pE;if(ss.isValue(ex)){ex=kh.$1(ex);var pK=tab.PointUtil.toPresModel(ex);pI['paneResolverLocation']=pK}pI['visualIdPresModel']=jF.getVisualId(pH);var pL=cN.newCommand({ns:'tabdoc',cmd:'pane-zoom'},pI);var pM=function(pP){if(ss.isValue(pD)){pD.setDeferLayoutUpdates(false)}mQ.fireSheetDataChanged();pG('success')};var pN=function(pP){pG('failure')};var pO=function(pP){return tab.RuntimeWebModule.proxy.localZoomCommand(pP.get_VM(),pP.get_initialStore(),pP.get_finalStore(),pJ.x,pJ.y,pJ.w,pJ.h,pC)};kh.$0(pL,8,pO,pF,pM,pN,pH)},pan:function(e,ex,pC,pD,pE,pF){if(!tsConfig.allow_filter){return}var pG={};pG['r']=e;pG['panLocation']=tab.PointUtil.toPresModel(kh.$1(ex));pG['panAmount']=tab.PointUtil.toPresModel(kh.$1(pC));pG['visualIdPresModel']=jF.getVisualId(pF);var pH=cN.newCommand({ns:'tabsrv',cmd:'pane-pan-server'},pG);var pI=function(){mQ.fireSheetDataChanged();pE('success')};var pJ=function(pL){pE('failure')};var pK=function(pL){var pM=kh.$1(pC);return tab.RuntimeWebModule.proxy.localPanCommand(pL.get_VM(),pL.get_initialStore(),pL.get_finalStore(),pM.x,pM.y)};kh.$0(pH,7,pK,pD,pI,pJ,pF)},$0:function(e,ex,pC,pD,pE,pF,pG){var pH=jF.getVisualModel(bd.get_instance(),pG);var pI=pH.shouldDoLocalCommand();var pJ=pH.get_runtimeReady();var pK=function(pN){pH.updateRuntimeHandles(pN,ex,pC).done([function(){pD()}])};var pL=tabBootstrap.MetricsController.createContext('RTLPRC'.toString(),32,null);var pM=new co('none',function(pN){jF.setVisualValidAndUpToDateStateOnModel(pN,pH,false);if(pI&&pJ){pK(pN);pL.dispose();lO.logVizUsage$1(e.commandName,pL.elapsedMS())}},e,pE,pF);cw.SendCommand(pM);if(pI&&!pJ){pK(null)}},$1:function(e){var ex=e;if(ss.isValue(e)){ex={x:Math.round(e.x),y:Math.round(e.y)}}return ex},zoomDoubleClick:function(e,ex,pC,pD,pE,pF,pG){pC.set_isZoomin(ex);kh.$2(e,e,ex,pC,pD,pE,pF,pG)},zoomIn:function(e,ex,pC,pD,pE,pF){kh.$2(e,ex,true,null,pC,pD,pE,pF)},zoomOut:function(e,ex,pC,pD,pE){kh.$2(e,e,false,null,ex,pC,pD,pE)},requestRestoreFixedAxes:function(e){if(!tsConfig.allow_filter){return}var ex=function(pE){bn.fireStateChanged(pE)};var pC={};pC['visualIdPresModel']=e;var pD=cN.newCommand({ns:'tabsrv',cmd:'restore-fixed-axes'},pC);cw.SendCommand(new kZ(pD,'immediately',ex,function(){}))}});var ki=global.tab.ParameterClientCommands=ss.mkType(a,'tab.ParameterClientCommands',null,null,{getParameterControlMenu:function(e,ex){var pC=new gS;pC.c['globalFieldName']=e;pC.invoke().done(ex)}});var kj=global.tab.ParameterCtrlModel=ss.mkType(a,'tab.ParameterCtrlModel',function(e){this.$1=null;this.$2$1=null;jC.call(this,e,new kA('parameterControl'.toString(),null))},{add_newParameterCtrl:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newParameterCtrl:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_parameterCtrlPresModel:function(){return this.pm},get_parameterCtrlJsonPresModel:function(){return this.get_parameterCtrlPresModel().legacyPresModel},get_zone:function(){return this.get_zoneModel().pm},get_zoneModel:function(){return this.parent.get_zone()},get_parameterName:function(){return this.get_parameterCtrlPresModel().parameterName},get_attributes:function(){return this.$1.attributes},update:function(e,ex,pC){if(ss.isValue(e)){fZ.notifyFontsFromTextStylePresModel(e.textStyle)}this.$1=ex;this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,pC)},updateFrame:function(e,ex){if(!ss.referenceEquals(this.$1,e)){this.$1=e;this.raiseEvent$1(Object).call(this,this.$2$1,this.get_parameterCtrlPresModel(),ex)}}});var kk=global.tab.ParameterServerCommands=ss.mkType(a,'tab.ParameterServerCommands',null,null,{setParameterValue:function(e,ex,pC){kk.setParameterValue$1(e,ex,pC,null,null)},setParameterValue$1:function(e,ex,pC,pD,pE){var pF=kk.$0(e,ex,ss.coalesce(pC,false));var pG=cN.newCommand({ns:'tabdoc',cmd:'set-parameter-value'},pF);mp.executeServerCommand(pG,'immediately',pD,pE)},$0:function(e,ex,pC){var pD={};pD['globalFieldName']=e;pD['valueString']=ex;pD['useUsLocale']=pC;return pD}});var kl=global.tab.PercentTotalTableCalcModel=ss.mkType(a,'tab.PercentTotalTableCalcModel',function(e){this.$3$1=null;oa.call(this,e,new kA('percentTotalTableCalcPresModel'.toString(),null))},{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_allPages:function(){return this.$1().includeAllPages},get_allPagesState:function(){return this.$1().allPagesState},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}});var km=global.tab.PerformTabbedAuthenticationCmd=ss.mkType(a,'tab.PerformTabbedAuthenticationCmd',function(){ss.makeGenericType(oU,[Object,kn]).call(this)},{get_commandId:function(){return km.cmdId}});var kn=global.tab.PerformTabbedAuthenticationCmd$Response=ss.mkType(a,'tab.PerformTabbedAuthenticationCmd$Response',function(e){this.$$c=null;this.$$c=e});var ko=global.tab.PerformTabbedAuthenticationCommand=ss.mkType(a,'tab.PerformTabbedAuthenticationCommand',function(){km.call(this)},{do$1:function(){throw new ss.NotImplementedException},do$2:function(e){var ex=$.Deferred();var pC=this.c['exceptionAttrs'];var pD=this.c['dbPassword'].toString();var pE=this.c['savePasswordAllowed'];be.performAuthentication(pC,pD,pE).done([function(){ex.resolve()}]).fail([function(){ex.reject()}]);return ex.promise()},invoke:function(){var e=$.Deferred();this.do$2(true).done([function(){e.resolve()}]).fail([function(){e.reject()}]);return e.promise()}});var kp=global.tab.PermissionManager=ss.mkType(a,'tab.PermissionManager',null,null,{buildCommandPermission:function(){var e=[];if(tsConfig.allow_filter){e.push(11);e.push(12);e.push(10);e.push(2);e.push(13);e.push(4);e.push(5);e.push(6)}if(tsConfig.allow_select){e.push(1);e.push(9);e.push(23)}if(tsConfig.allow_sheetlink){e.push(8)}if((tsConfig.allow_view_underlying||tsConfig.allow_summary)&&!tsConfig.previewMode){e.push(7)}if(tsConfig.is_authoring){e.push(15);e.push(17);e.push(18);e.push(19);e.push(20);e.push(16);if(tab.FeatureFlags.isEnabled('AIExplainThisMark_AuthoringMode')&&tsConfig.allow_view_underlying){e.push(24)}if(!tsConfig.is_mobile){e.push(21)}e.push(22);if(tab.FeatureFlags.isEnabled('CreateFixedSetOnWeb')){e.push(25);e.push(26)}}else if(tab.FeatureFlags.isEnabled('AIExplainThisMark_ViewingMode')&&tsConfig.allow_view_underlying){e.push(24)}return new cG(e)},filterCommands:function(e,ex){for(var pC=e.length-1;pC>=0;pC--){if(!ex.test(e[pC])){ss.removeAt(e,pC)}}}});var kq=global.tab.PillModel=ss.mkType(a,'tab.PillModel',function(e,ex){this.$1=null;jC.call(this,e,new kA(ex.toString(),null))},{get_encodingType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.encodingType)){return'invalid-encoding'}return this.pm.encodingType},get_alternateEncodings:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.encodingUiItems)){return[]}return _.filter(this.pm.encodingUiItems,function(e){return e.isVisible&&e.isEnabled})},get_filterType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.filterIconType)){return'no-filter'}return this.pm.filterIconType},get_hasDrill:function(){return this.pm.hasDrill||false},get_shouldDrill:function(){return this.get_hasDrill()&&(this.pm.shouldDrill||false)},get_column:function(){return this.$1},get_tooltip:function(){return tableau.format.stripFormattedText(this.pm.tooltip)},get_sideIconToolip:function(){return tableau.format.stripFormattedText(this.pm.iconTooltip)},get_displayName:function(){return this.pm.displayText},get_isContextFilter:function(){return this.pm.isContextFilter},get_contextMenuCommands:function(){return this.pm.commands},get_defaultMenuCommand:function(){return this.pm.standardCommands},get_isMultipleFields:function(){return this.pm.encodingType!=='invalid-encoding'&&ss.isInstanceOfType(this.$1,jN)},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}this.$1=ex;this.swapAndCopyPresModel(e)}});var kr=global.tab.PingSessionCmd=ss.mkType(a,'tab.PingSessionCmd',function(){ss.makeGenericType(bl,[Object,ks]).call(this)},{get_commandId:function(){return kr.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabsrv',cmd:'ping-session'},this.c))}});var ks=global.tab.PingSessionCmd$Response=ss.mkType(a,'tab.PingSessionCmd$Response',function(e){this.$$c=null;this.$$c=e});var kt=global.tab.PlatformInfo=ss.mkType(a,'tab.PlatformInfo',function(){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=null},{get_description:function(){return this.$1$1},set_description:function(e){this.$1$1=e},get_layout:function(){return this.$1$2},set_layout:function(e){this.$1$2=e},get_manufacturer:function(){return this.$1$3},set_manufacturer:function(e){this.$1$3=e},get_name:function(){return this.$1$4},set_name:function(e){this.$1$4=e},get_prerelease:function(){return this.$1$5},set_prerelease:function(e){this.$1$5=e},get_product:function(){return this.$1$6},set_product:function(e){this.$1$6=e},get_userAgent:function(){return this.$1$7},set_userAgent:function(e){this.$1$7=e},get_version:function(){return this.$1$8},set_version:function(e){this.$1$8=e},get_OS:function(){return this.$1$9},set_OS:function(e){this.$1$9=e}},{$1:function(){if(ss.isNullOrUndefined(kt.$5)){jH.registerRawJsModule('platform','platform.min','platform').andExportResultAs('Platform');kt.$5=jH.load('platform',[])}return kt.$5},getInfo:function(){return kt.$4||(kt.$4=kt.$0())},$0:function(){var e=$.Deferred();kt.$1().then(function(){var ex=new kt;ex.set_description(platform.description);ex.set_layout(platform.layout);ex.set_manufacturer(platform.manufacturer);ex.set_name(platform.name);ex.set_prerelease(platform.prerelease);ex.set_product(platform.product);ex.set_userAgent(platform.ua);ex.set_version(platform.version);var pC=platform.os.architecture;var pD=new ka(platform.os.toString(),(ss.isValue(pC)?pC.toString():''),platform.os.family,platform.os.version);ex.set_OS(pD);e.resolve(ex)},function(){e.reject()});return e}});var ku=global.tab.PluginContractModules=ss.mkType(a,'tab.PluginContractModules');var kv=global.tab.PluginDialogNotificationHandler=ss.mkType(a,'tab.PluginDialogNotificationHandler',function(e,ex,pC,pD){this.$6=null;this.$4=null;this.$5=null;this.$7=null;this.$8=null;this.$1$1=null;this.$1$2=null;this.$6=e;this.$0(ex);this.$4=pC;this.$8=pD},{add_stopNotifying:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_stopNotifying:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_notificationId:function(){return this.$1$2},$0:function(e){this.$1$2=e},onNotify:function(e,ex){if(ss.isValue(this.$5)){return}this.$5=ss.createInstance(this.$6);this.$7=document.createElement('div');this.$7.setAttribute('data-tb-test-id','PluginDialogHostNode');this.$4.appendChild(this.$7);this.$5.showDialog(e,this.$7,ss.mkdel(this,this.$2));bd.get_holder().addEventBinding(function(pC){},ss.mkdel(this,function(pC){this.$1()}));this.$3()},$2:function(){this.$5=null;if(ss.isValue(this.$7)){this.$4.removeChild(this.$7);this.$7=null}},$1:function(){if(ss.isValue(this.$5)){this.$5.forceCloseDialog()}},$3:function(){if(ss.isNullOrUndefined(this.$8)||ss.isNullOrUndefined(this.$8.contentClassName)||!ss.referenceEquals(this.$4,document.body)){return}var e=$(this.$4).find('.'+this.$8.contentClassName);if(e.length===0){return}var ex=e.parentsUntil('body').last();var pC=ex.prev();ex.css('z-index',this.$8.customZIndex);pC.css('z-index',this.$8.customZIndex)},dispose:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}this.$2()}});var kw=global.tab.PluginPresentationLayer=ss.mkType(a,'tab.PluginPresentationLayer',function(){this.$0=new tab.DisposableHolder},{invokeCommand:function(e,ex,pC){var pD={ns:e,cmd:ex};if(oY.get_instance().hasCommand(pD)){var pE=oY.get_instance().createCommandWithParams(pD,pC);return pE.invoke()}else{var pF=$.Deferred();var pG=function(pQ){pF.resolve(pQ)};var pH=function(pQ){pF.reject(pQ)};var pI={commandName:ex,commandNamespace:e,commandParams:pC,preserveRootResult:true};var pJ=null;var pK=this.getUIBlockingType(e,ex);var pL=false;var pM=null;if(oY.get_instance().hasCommandLocalOptions(pD)){var pN=oY.get_instance().getCommandLocalOptions(pD);if(!ss.staticEquals(pN.localWorkFactory,null)){pJ=pN.localWorkFactory(pC)}if(ss.isValue(pN.blocking)){pK=ss.unbox(pN.blocking)}pL=pN.suppressConnectionDialog;pM=pN.commandWaiter}var pO=new co(pK,pJ,pI,pG,pH);pO.set_useGlobalConnectionErrorHandling(!pL);var pP=pO;if(ss.isValue(pM)){pP.set_commandWaiter(pM)}cw.SendCommand(pP);return pF.promise()}},dispose:function(){this.$0.dispose()},registerNotificationHandler:function(e,ex){var pC=bd.get_instance();var pD=pC.registerNotificationHandler(e,function(pF,pG){ex(pF)});var pE=function(){pC.unRegisterNotificationHandler(e,pD)};this.$0.add(pE);return pE},getUIBlockingType:function(e,ex){return'immediately'}},{get_instance:function(){kw.$0=kw.$0||new kw;return kw.$0},set_instance:function(e){kw.$0=e}});var kx=global.tab.PluginTelemetry=ss.mkType(a,'tab.PluginTelemetry',function(){},{reportEvent:function(e,ex){jT.logEventDeprecated(e,ex)}},{get_instance:function(){kx.$0=kx.$0||new kx;return kx.$0},set_instance:function(e){kx.$0=e}});var ky=global.tab.PresentationModel=ss.mkType(a,'tab.PresentationModel',null,null,{ensurePath:function(e,ex,pC){var pD=ex;var pE=e;var pF;var pG;var pH=pC.get_pathList();for(var pI=0,pJ=pH.length;pI<pJ;pI++){var pK=pH[pI];var pL=pK.name;pF=pD[pL];pG=(ss.isValue(pE)?pE[pL]:null);if(!ss.isValue(pF)){var pM=pI===pJ-1;var pN=null;if(pK.type===1&&ss.isValue(pG)){var pO=pG;var pP=[];for(var pQ=0;pQ<pO.length;pQ++){pP[pQ]=tab.MiscUtil.cloneObject(pO[pQ])}pN=pP}else if(!pM&&ss.isValue(pG)){pN=ky.cloneObjWithScalarsOnly(pG)}else if(pK.type===1){pN=[]}else{pN=new Object}pD[pL]=pN}pD=pD[pL];pE=pG}return pD},insertAtPath:function(e,ex,pC,pD){ky.ensurePath(e,ex,pC);ky.$0(ex,pC,pD)},cloneObjWithScalarsOnly:function(e){if(!_.isObject(e)){return e}var ex=new Object;var pC=e;var pD=Object.keys(pC);for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];var pG=pC[pF];if(!_.isObject(pG)){ex[pF]=pG}}return ex},$0:function(e,ex,pC){if(ex.get_pathList().length===0){var pD=pC;var pE=new ss.ObjectEnumerator(pD);try{while(pE.moveNext()){var pF=pE.current();e[pF.key]=pF.value}}finally{pE.dispose()}}else{var pG,pH;var pI=e;var pJ=ex.get_pathList();for(pG=0,pH=pJ.length;pG<pH-1;pG++){pI=pI[pJ[pG].name]}pI[pJ[pH-1].name]=pC}}});var kz=global.tab.PresModelPath=ss.mkType(a,'tab.PresModelPath',function(){this.$1=null;this.$0=[]},{get_pathList:function(){return this.$0},get_pathAsString:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=_.map(this.$0,function(e){return e.name}).join(':')}return this.$1},add:function(e){this.$0.push(e);this.$1=null},reverse:function(){this.$0.reverse();this.$1=null}});var kA=global.tab.PresModelPathItem=ss.mkType(a,'tab.PresModelPathItem',function(e,ex){this.name=null;this.type=0;this.name=e;this.type=ss.coalesce(ex,0)});var kB=global.tab.PresModelPathItemType=ss.mkEnum(a,'tab.PresModelPathItemType',{simple:0,array:1});var kC=global.tab.ProgressiveLoader=ss.mkType(a,'tab.ProgressiveLoader',function(){this.$j=null;this.$p=null;this.$m=null;this.$o=null;this.$k=null;this.$i=false;this.$r=null;this.$l=null;this.$s={};this.$n=null;this.$q=null;this.$1$1=null;this.$1$2=null},{add_progressiveLoad:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_progressiveLoad:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_progressiveLoadComplete:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_progressiveLoadComplete:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_hasZonesToLoad:function(){if(ss.isValue(this.$k)&&ss.getKeyCount(this.$k)>0){return true}if(ss.isNullOrUndefined(this.$j)){return false}for(var e=0;e<kC.$8.length;e++){var ex=kC.$8[e];if(ss.isNullOrUndefined(this.$j[ex])){continue}return true}return false},extractZoneContent:function(e){if(!kC.$4(e)){return e}var ex=this.$4(e);if(ss.isNullOrUndefined(ex)){return e}this.$h(ex);ex.zones=this.$5(ex.zones);return e},updateZonesWithVizData:function(e,ex){if(ss.isNullOrUndefined(this.$p)||ss.getKeyCount(this.$p)===0){return}oL.addVizDataToZones(e.presModelMap,this.$p);var pC=_.keys(this.$p);for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];var pF=this.$r[pE]||this.$3(this.$p[pE]);if(ss.isValue(pF)&&ss.isValue(pF.get_visualModel())){var pG=pF.get_visualModel();pG.update(pG.pm,ex)}}},processModelUpdate:function(e,ex,pC){if(!kC.$4(e)||!this.get_hasZonesToLoad()){return e}var pD=this.$4(e);if(ss.isNullOrUndefined(pD)){return e}this.$h(pD);var pE=jC.removeUndefinedBoolsOnSwapCopy;if(pC){jC.removeUndefinedBoolsOnSwapCopy=false}try{var pF=pD.zones;var pG=_.keys(pF);for(var pH=0;pH<pG.length;pH++){var pI=pG[pH];var pJ=pF[pI];if(ss.isNullOrUndefined(pJ)){continue}var pK=this.$9(pJ);if(!ss.contains(kC.zonesThatDeferContentCreation,pK)){continue}var pL=false;var pM=pJ.zoneId;var pN=[kC.$9[pK],6];for(var pO=0;pO<pN.length;pO++){var pP=pN[pO];var pQ=this.$j[pP];if(ss.isValue(pQ)){var pR=pQ.length;for(var pS=0;pS<pR;pS++){var pT=pQ[pS];if(ss.isValue(pT)&&pT.zoneId===pM){pL=true;pQ[pS]=this.$1(pT,pJ,ex);break}}}if(pL){break}}if(!pL&&pK==='viz'){var pU=_.keys(this.$k);for(var pV=0;pV<pU.length;pV++){var pW=pU[pV];var pX=this.$k[pW];if(pM===pX.zoneId){pL=true;this.$k[pW]=this.$1(pX,pJ,ex);break}}}if(pL){pJ=kC.removeZoneContent(pJ)}}}finally{jC.removeUndefinedBoolsOnSwapCopy=pE}return e},start:function(){if(!this.get_hasZonesToLoad()){this.$6();this.$d();return}this.$q=tabBootstrap.MetricsController.createContext('ProgressiveLoad',2,null);this.$q.set_clientEventId(tabBootstrap.ViewerBootstrap.get_instance().get_bootstrapRequestId());this.$e();this.$c();this.$f()},abort:function(){this.stopTimers();this.$d()},setViewport:function(e){var ex=e.get_dimensions();if(ex.w===1&&ex.h===1){return}this.$o={x:ex.l,y:ex.t,w:ex.w,h:ex.h};this.$c()},getPendingVisuals:function(){var e={};var ex=_.keys(this.$p);for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];var pE=this.$p[pD].worksheet;var pF=this.getPendingVisual(pE);if(ss.isValue(pF)){e[pE]=pF}}return e},getPendingVisual:function(e){var ex=null;var pC=_.keys(this.$p);for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];if(ss.referenceEquals(this.$p[pE].worksheet,e)){ex=this.$p[pE];break}}if(ss.isNullOrUndefined(ex)){return null}var pF=this.$r[ex.zoneId]||this.$3(ex);return pF.get_visualModel()},getPendingZoneContentModel:function(e){if(ss.isNullOrUndefined(this.$l)){return null}return this.$l[e]},stopTimers:function(){if(ss.isValue(this.$m)){window.clearTimeout(ss.unbox(this.$m));this.$m=null}},$d:function(){this.$j=null;this.$k=null;this.$p=null;this.$r=null;this.$l=null;this.$n=null;this.$m=null;this.$o=null;ss.clearKeys(this.$s)},$8:function(){var e={};for(var ex=0;ex<kC.$8.length;ex++){var pC=kC.$8[ex];if(pC===6&&ss.isValue(this.$k)&&ss.getKeyCount(this.$k)>0){this.$j[6]=this.$j[6]||[];var pD=_.keys(this.$k);for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];this.$j[6].push(this.$k[pF])}this.$k=null}var pG=this.$j[pC];if(ss.isNullOrUndefined(pG)){continue}var pH=pG.length;var pI=kC.$7[pC];var pJ=0;if(pI.item1===-1){pJ=pH}else{var pK=pI.item2*pH;if(pI.item1<pK){var pL=0;for(var pM=0;pM<pG.length;pM++){var pN=pG[pM];if(ss.isValue(pN)){++pL}}pJ=Math.floor(pK);if(ss.imod(pL,pJ)>0){pJ=pJ+1}}else{pJ=pI.item1}}var pO=0;var pP=0;while(pO<pJ&&pP<pH){var pQ=pG[pP];pG[pP]=null;pP++;if(ss.isNullOrUndefined(pQ)){continue}if(kC.$3(this.$9(pQ))){var pR=pQ.worksheet;if(ss.isValue(this.$k)&&ss.keyExists(this.$k,pR)){var pS=this.$k[pR];delete this.$k[pR];delete this.$p[pS.zoneId];e[pS.zoneId.toString()]=pS}}delete this.$p[pQ.zoneId];var pT=this.$r[pQ.zoneId];if(ss.isValue(pT)){delete this.$r[pQ.zoneId];this.$l=this.$l||{};this.$l[pQ.zoneId]=pT.get_model()}e[pQ.zoneId.toString()]=pQ;++pO}if(pP===pH){this.$j[pC]=null}break}return e},$a:function(e){if(ss.isNullOrUndefined(this.$o)){var ex=new tab.WindowHelper(window.self);var pC=ex.get_innerWidth();var pD=ex.get_innerHeight();var pE=ex.get_pageXOffset();var pF=ex.get_pageYOffset();this.$o={x:pE,y:pF,w:pC,h:pD}}var pG={x:e.zoneCommon.x,y:e.zoneCommon.y,w:e.zoneCommon.w,h:e.zoneCommon.h};return tab.RectXYUtil.intersectsWith(pG,this.$o)},$0:function(){var e=this.$8();if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return null}var ex=tab.MiscUtil.cloneObject(this.$n);kC.getZoneRoot(ex).zones=e;return ex},$e:function(){var e=ss.coalesce(tab.FeatureParamsLookup.getInt(39),0);this.$m=window.setTimeout(ss.mkdel(this,this.$b),e)},$b:function(){var e=this.$0();var ex=this.get_hasZonesToLoad();if(ex){this.$e()}this.$7(e);if(!ex){this.$6();this.$d()}},$7:function(e){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}},$6:function(){if(ss.isValue(this.$q)){this.$q.dispose();this.$q=null}if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$4:function(e){if(ss.isNullOrUndefined(e)){return null}var ex=kC.getZoneRoot(e);if(ss.isNullOrUndefined(ex)&&ss.isNullOrUndefined(this.$n)){return null}this.$2(e);return ex},$5:function(e){if(ss.isNullOrUndefined(e)){return null}kC.$2();this.$p={};this.$j={};this.$r={};var ex=_.keys(e);for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];var pE=e[pD];if(!ss.contains(kC.zonesThatDeferContentCreation,this.$9(pE))){continue}var pF=kC.cloneZone(pE);pE=kC.removeZoneContent(pE);var pG=this.$9(pF);if(pG==='viz'){this.$p[pD]=pF}var pH=5;if(ss.keyExists(kC.$9,pG)){pH=kC.$9[pG]}this.$j[pH]=this.$j[pH]||[];this.$j[pH].push(pF)}return e},$c:function(){if(ss.isNullOrUndefined(this.$j)||this.$i){return}this.$k=this.$k||{};for(var e=0;e<kC.$8.length;e++){var ex=kC.$8[e];if(ex===6){continue}var pC=this.$j[ex];if(ss.isNullOrUndefined(pC)||pC.length===0){continue}var pD=0;var pE=new Array(pC.length);for(var pF=0;pF<pC.length;pF++){var pG=pC[pF];if(this.$a(pG)){pE[pD]=pG;pD++}else if(this.$9(pG)==='viz'){this.$k[pG.worksheet]=pG}else{this.$j[6]=this.$j[6]||[];this.$j[6].push(pG)}}if(pD>0){pE.length=pD;this.$j[ex]=pE}else{this.$j[ex]=null}}this.$i=true},$g:function(e){if(ss.isNullOrUndefined(e)||e.length===0){return null}var ex=e.length;var pC={};var pD=new Array(ex);for(var pE=0;pE<ex;pE++){var pF=e[pE];var pG=pF.zoneCommon.y*5000+pF.zoneCommon.x;while(ss.isValue(pC[pG])){pG+=1}pC[pG]=pF;pD[pE]=pG}pD=pD.sort(function(pK,pL){return((pK>pL)?1:-1)});for(var pH=0;pH<ex;pH++){var pI=pD[pH];var pJ=pC[pI];e[pH]=pJ}return e},$f:function(){if(ss.isNullOrUndefined(this.$j)){return}for(var e=0;e<kC.$8.length;e++){var ex=kC.$8[e];if(ex===6){continue}var pC=this.$j[ex];this.$j[ex]=this.$g(pC)}},$3:function(e){var ex=jF.findContentDashboard(null);var pC=new pA(ex.zonesModel,ex,e.zoneId);pC.update(e,jQ.get_noopContext());this.$r[e.zoneId]=pC;return pC},$1:function(e,ex,pC){var pD=this.$r[e.zoneId]||this.$3(e);var pE=kC.cloneZone(ex);pD.update(pE,pC);return pE},$h:function(e){$.extend(this.$s,kC.$0(e))},$9:function(e){if(ss.isNullOrUndefined(e)){return'invalid'}if(ss.isValue(e.zoneCommon)){return e.zoneCommon.zoneType}return ss.coalesce(this.$s[e.zoneId],'invalid')},$2:function(e){if(ss.isNullOrUndefined(e)){return}var ex=this.$n;var pC=e;var pD=null;this.$n=kC.$1(pC,ex);pD=this.$n;pC=pC.workbookPresModel;ex=(ss.isNullOrUndefined(ex)?null:ex.workbookPresModel);pD.workbookPresModel=kC.$1(pC,ex);if(ss.isNullOrUndefined(pC)){return}pD=pD.workbookPresModel;pC=pC.dashboardPresModel;ex=(ss.isNullOrUndefined(ex)?null:ex.dashboardPresModel);pD.dashboardPresModel=kC.$1(pC,ex);if(ss.isNullOrUndefined(pC)){return}if(e.workbookPresModel.dashboardPresModel.isStory){pD=pD.dashboardPresModel;pC=pC.zones;ex=(ss.isNullOrUndefined(ex)?null:ex.zones);var pE=null;var pF='';if(ss.isValue(pC)){var pG=pC;var pH=_.keys(pG);for(var pI=0;pI<pH.length;pI++){var pJ=pH[pI];if(this.$9(pG[pJ])!=='flipboard'){continue}pE=pG[pJ];pF=pJ;break}}if(ss.isNullOrUndefined(pE)){pD.zones=ex;return}pD.zones={};pD.zones[pF]=ky.cloneObjWithScalarsOnly(pE);pD=pD.zones[pF];pC=pC[pF].presModelHolder;ex=(ss.isNullOrUndefined(ex)?null:ex[pF].presModelHolder);pD.presModelHolder=kC.$1(pC,ex);if(ss.isNullOrUndefined(pC)){return}pD=pD.presModelHolder;pC=pC['flipboard'];ex=(ss.isNullOrUndefined(ex)?null:ex['flipboard']);pD['flipboard']=kC.$1(pC,ex);if(ss.isNullOrUndefined(pC)){return}var pK=pC.activeStoryPointId;pD=pD['flipboard'];pC=pC.storyPoints;ex=(ss.isNullOrUndefined(ex)?null:ex.storyPoints);pD.storyPoints=kC.$1(pC,ex);if(ss.isNullOrUndefined(pC)){return}pD=pD.storyPoints;pC=pC[pK.toString()];ex=(ss.isNullOrUndefined(ex)?null:ex[pK.toString()]);pD[pK.toString()]=kC.$1(pC,ex);if(ss.isNullOrUndefined(pC)){return}pD=pD[pK.toString()];pC=pC.dashboardPresModel;ex=(ss.isNullOrUndefined(ex)?null:ex.dashboardPresModel);pD.dashboardPresModel=kC.$1(pC,ex)}}},{get_progressiveLoadEnabled:function(){return!tsConfig.is_authoring&&!tsConfig.isPublic&&!tsConfig.is_viewDataClient},cloneZone:function(e){if(ss.isNullOrUndefined(e)){return e}var ex=e.presModelHolder;e.presModelHolder=null;var pC=tab.MiscUtil.cloneObject(e);pC.presModelHolder=ex;e.presModelHolder=ex;return pC},removeZoneContent:function(e){if(ss.isValue(e)){var ex=e;delete ex['presModelHolder']}return e},getZoneRoot:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)){return null}var ex=e.workbookPresModel.dashboardPresModel;if(ex.isStory){var pC=ex.zones;ex=null;var pD=_.keys(pC);for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];var pG=pC[pF];if(ss.isValue(pG.zoneCommon)&&pG.zoneCommon.zoneType!=='flipboard'){continue}var pH=pA.getContent(pG,'flipboard');if(ss.isNullOrUndefined(pH)||ss.isNullOrUndefined(pH.storyPoints)){return null}var pI=pH.storyPoints[pH.activeStoryPointId.toString()];if(ss.isNullOrUndefined(pI)){return null}ex=pI.dashboardPresModel;break}}return ex},$0:function(e){var ex={};if(ss.isValue(e)&&ss.isValue(e.zones)){var pC=_.values(e.zones);for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];if(ss.isValue(pE)&&ss.isValue(pE.zoneCommon)){ex[pE.zoneId]=pE.zoneCommon.zoneType}}}return ex},$4:function(e){if(ss.isNullOrUndefined(e)){return false}var ex=e.workbookPresModel;if(ss.isNullOrUndefined(ex)){return false}var pC=ex.dashboardPresModel;if(ss.isNullOrUndefined(pC)){return false}var pD=pC.zones;if(ss.isNullOrUndefined(pD)){return false}return true},$2:function(){if(ss.isValue(kC.$9)){return}kC.$9={};kC.$9['flipboard-nav']=1;kC.$9['flipboard']=1;kC.$9['viz']=2;kC.$9['color']=3;kC.$9['shape']=3;kC.$9['size']=3;kC.$9['map']=3;kC.$9['filter']=4;kC.$9['highlighter']=4;kC.$9['paramctrl']=4;kC.$9['current-page']=4;kC.$9['web']=5;kC.$9['bitmap']=5;kC.$9['dashboard-object']=5;kC.$7={};kC.$7[1]={item1:-1,item2:1};kC.$7[2]={item1:1,item2:0.33};kC.$7[3]={item1:3,item2:0.33};kC.$7[4]={item1:3,item2:0.33};kC.$7[5]={item1:-1,item2:1};kC.$7[6]={item1:-1,item2:1}},$3:function(e){switch(e){case'color':case'size':case'shape':case'filter':{return true}}return false},$1:function(e,ex){if(ss.isNullOrUndefined(e)){return ex}return ky.cloneObjWithScalarsOnly(e)}});var kD=global.tab.QuantitativeColorLegendModel=ss.mkType(a,'tab.QuantitativeColorLegendModel',function(e,ex){this.$2$1=null;jC.call(this,e,new kA(ex,null))},{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quantColorLegendPresModel:function(){return this.pm},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}fZ.notifyFontsFromQuantitativeColorLegendPresModel(e);this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}});var kE=global.tab.QuantitativeFilterData=ss.mkType(a,'tab.QuantitativeFilterData',function(e,ex,pC,pD,pE,pF){this.$5=null;this.$2=null;this.$1=null;this.$0=null;this.$4=null;this.$3=null;this.$5=e;this.$2=ex;this.$1=pC;this.$0=pD;this.$4=pE;this.$3=pF},{get_filterField:function(){return this.$2},get_identifier:function(){return new kG.$ctor1(this.get_filterField(),'filter')},get_currentMaxVal:function(){return this.$0},get_currentMinVal:function(){return this.$1},get_targetSheets:function(){return this.$5},get_previousMaxVal:function(){return this.$3},get_previousMinVal:function(){return this.$4},valueInRange:function(e){var ex=true;if(ss.isValue(this.$1)){ex=ex&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(e,ss.unbox(this.$1))}if(ss.isValue(this.$0)){ex=ex&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(e,ss.unbox(this.$0))}return ex}});var kF=global.tab.QuickFilterDateFormatUtil=ss.mkType(a,'tab.QuickFilterDateFormatUtil',null,null,{$0:function(e){return e==='trunc-day'||e==='trunc-week'||e==='trunc-month'||e==='trunc-qtr'||e==='trunc-year'},getDateTimeFormatMode:function(e,ex,pC,pD){if(ss.isNullOrUndefined(pC)||ss.isNullOrUndefined(pC.isAutoFormat)||!pC.isAutoFormat){return 0}if(kF.$0(ex)){return 0}if(kF.isPureTime(e,ex)){return 1}if(pD===2){return 2}for(var pE=0;pE<e.length;pE++){var pF=e[pE];if(ss.isNullOrUndefined(pF)||!ss.isValue(pF.v)){continue}var pG=je.buildDataValueFromFilterValue(pF);if(tableau.format.isDateTimeWithNonMidnightTime(pG)){return 2}}return 0},isPureTime:function(e,ex){var pC=je.timestampsWithSameDateOrNull(e);return pC&&!kF.$0(ex)}});var kG=global.tab.QuickFilterIdentifier=ss.mkType(a,'tab.QuickFilterIdentifier',function(e,ex){this.$1$1=null;this.$1$2=null;this.set_fieldName(e);if(ss.isNullOrUndefined(ex)){ex='filter'}this.set_membershipTarget(ex)},{get_fieldName:function(){return this.$1$1},set_fieldName:function(e){this.$1$1=e},get_membershipTarget:function(){return this.$1$2},set_membershipTarget:function(e){this.$1$2=e}},{$ctor1:function(e,ex){this.$1$1=null;this.$1$2=null;this.set_fieldName(e);if(ss.isNullOrUndefined(ex)){ex='filter'}this.set_membershipTarget(ex)}});var kH=global.tab.QuickSortCmd=ss.mkType(a,'tab.QuickSortCmd',function(){ss.makeGenericType(bl,[Object,kI]).call(this)},{get_commandId:function(){return kH.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'quick-sort'},this.c))}});var kI=global.tab.QuickSortCmd$Response=ss.mkType(a,'tab.QuickSortCmd$Response',function(e){this.$$c=null;this.$$c=e});var kJ=global.tab.RadialSelectionDistanceInfoModel=ss.mkType(a,'tab.RadialSelectionDistanceInfoModel',function(e){jC.call(this,e,new kA('radialSelectionDistanceInfo'.toString(),null))},{get_radialSelectionDistanceInfoPresModel:function(){return this.pm},get_earthRadius:function(){return this.get_radialSelectionDistanceInfoPresModel().earthRadius},get_fontSizePixels:function(){return this.get_radialSelectionDistanceInfoPresModel().fontSize},get_largeUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().largeUnitDisplay},get_latLongRect:function(){return this.get_radialSelectionDistanceInfoPresModel().mapLatLongRect},get_mapHeight:function(){return this.get_radialSelectionDistanceInfoPresModel().h},get_mapWidth:function(){return this.get_radialSelectionDistanceInfoPresModel().w},get_readoutOffsetPixels:function(){return this.get_radialSelectionDistanceInfoPresModel().readoutOffset},get_shouldShowDistance:function(){return this.get_radialSelectionDistanceInfoPresModel().shouldShowDistance},get_sigFigs:function(){return this.get_radialSelectionDistanceInfoPresModel().sigFigs},get_smallToLargeUnitDivisor:function(){return this.get_radialSelectionDistanceInfoPresModel().unitDivisor},get_smallUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().smallUnitDisplay},get_unitTransition:function(){return this.get_radialSelectionDistanceInfoPresModel().unitTransition},get_decimalMark:function(){return this.get_radialSelectionDistanceInfoPresModel().decimalMark},get_fontColor:function(){return this.get_radialSelectionDistanceInfoPresModel().distanceFontColor},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}});var kK=global.tab.RaiseConnectionsSucceededNotificationCmd=ss.mkType(a,'tab.RaiseConnectionsSucceededNotificationCmd',function(){ss.makeGenericType(oU,[Object,kL]).call(this)},{get_commandId:function(){return kK.cmdId}});var kL=global.tab.RaiseConnectionsSucceededNotificationCmd$Response=ss.mkType(a,'tab.RaiseConnectionsSucceededNotificationCmd$Response',function(e){this.$$c=null;this.$$c=e});var kM=global.tab.RaiseConnectionsSucceededNotificationCommand=ss.mkType(a,'tab.RaiseConnectionsSucceededNotificationCommand',function(){kK.call(this)},{do$1:function(){bd.get_instance().raiseNotification('doc:tabbed-auth-dialog-connected-event',null,null)}});var kN=global.tab.RaiseDialogClosedNotificationCmd=ss.mkType(a,'tab.RaiseDialogClosedNotificationCmd',function(){ss.makeGenericType(oU,[Object,kO]).call(this)},{get_commandId:function(){return kN.cmdId}});var kO=global.tab.RaiseDialogClosedNotificationCmd$Response=ss.mkType(a,'tab.RaiseDialogClosedNotificationCmd$Response',function(e){this.$$c=null;this.$$c=e});var kP=global.tab.RaiseDialogClosedNotificationCommand=ss.mkType(a,'tab.RaiseDialogClosedNotificationCommand',function(){kN.call(this)},{do$1:function(){bd.get_instance().raiseNotification('doc:tabbed-auth-dialog-closed-event',null,null)}});var kQ=global.tab.RangeTransform=ss.mkType(a,'tab.RangeTransform',function(){},{fractionToValue:null,valueToFraction:null});var kR=global.tab.RankTableCalcModel=ss.mkType(a,'tab.RankTableCalcModel',function(e){this.$3$1=null;oa.call(this,e,new kA('rankTableCalcPresModel'.toString(),null))},{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_rankTypeValues:function(){return this.$1().rankTypeValues},get_rankTypeCaptions:function(){return this.$1().rankTypeCaptions},get_rankTypeIndex:function(){return this.$1().rankTypeIndex},get_rankType:function(){return this.get_rankTypeValues()[this.get_rankTypeIndex()]},get_rankTypeState:function(){return this.$1().rankTypeState},get_sortDirectionValues:function(){return this.$1().sortDirectionValues},get_sortDirectionCaptions:function(){return this.$1().sortDirectionCaptions},get_sortDirectionIndex:function(){return this.$1().sortDirectionIndex},get_sortDirection:function(){return this.get_sortDirectionValues()[this.get_sortDirectionIndex()]},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}});var kS=global.tab.RasterMapSourceModel=ss.mkType(a,'tab.RasterMapSourceModel',function(e){jC.call(this,e,new kA('rasterMapSource'.toString(),null))},{get_hasPresModel:function(){return ss.isValue(this.pm)},get_rasterMapSourcePresModel:function(){return this.pm},get_minShrink:function(){return this.get_rasterMapSourcePresModel().mapMinShrink},get_maxStretch:function(){return this.get_rasterMapSourcePresModel().mapMaxStretch},get_intermediateTileLevels:function(){return this.get_rasterMapSourcePresModel().mapIntermediateLevels},get_mapTileSize:function(){return this.get_rasterMapSourcePresModel().mapTileSize},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}});var kT=global.tab.Recipient=ss.mkType(a,'tab.Recipient',null,null,{$ctor:function(e){var ex={};ex.recipientType=0;ex.recipientType=e;return ex},isInstanceOfType:function(){return true}});var kU=global.tab.RecipientType=ss.mkEnum(a,'tab.RecipientType',{recipientNone:0,recipientUser:1,recipientGroup:2});var kV=global.tab.ReferenceLineElement=ss.mkType(a,'tab.ReferenceLineElement',function(e,ex,pC,pD,pE,pF,pG,pH,pI,pJ){kV.$0.call(this,e,ex,pC,pD,pE,pF);if(pG.length>0){this.$1=new r(pH,pI,pG,pJ)}},{get_lineWidth:function(){return this.$1$1},set_lineWidth:function(e){this.$1$1=e},get_lineColor:function(){return this.$1$2},set_lineColor:function(e){this.$1$2=e},get_linePattern:function(){return this.$1$3},set_linePattern:function(e){this.$1$3=e},get_lineJoin:function(){return this.$1$4},set_lineJoin:function(e){this.$1$4=e},get_lineCap:function(){return this.$1$5},set_lineCap:function(e){this.$1$5=e},get_id:function(){return this.$1$6},set_id:function(e){this.$1$6=e},get_hasFillAbove:function(){return this.$1.$3()},get_hasFillBelow:function(){return this.$1.$5()},get_fillColorCount:function(){return this.$1.$2()},get_hasLine:function(){return ss.isValue(this.$4)},get_hasLabel:function(){return ss.isValue(this.$3)},get_hasFill:function(){return ss.isValue(this.$1)},get_scope:function(){return this.$1$7},set_scope:function(e){this.$1$7=e},get_labelBackgroundColor:function(){return this.$3.$2()},get_instantRefLineIsEnabled:function(){return this.$1$8},set_instantRefLineIsEnabled:function(e){this.$1$8=e},setPaneSection:function(e,ex,pC){this.$5[e]={item1:ex,item2:pC}},getRange:function(e){if(!ss.keyExists(this.$5,e)){return{item1:0,item2:0}}return this.$5[e]},getLinePixelPosition:function(e,ex,pC){return this.$4.$2(e,ex,pC)},getEndPoints:function(e,ex){return this.$4.$0(e,ex)},getHitTestBound:function(e,ex,pC){return this.$4.$1(e,ex,this.get_lineWidth(),pC)},getCellClipInfo:function(e){var ex=0;var pC=0;var pD=0;if(this.get_scope()===0){if(this.$2){ex=2;pD=this.$0[e]}else{ex=1;pC=this.$0[e]}}return{item1:ex,item2:pC,item3:pD}},getTextRunOffset:function(e){return this.$3.$6(e)},getTextRunCount:function(e){return this.$3.$5(e)},getLabelWidth:function(e){return this.$3.$9(e)},getLabelHeight:function(e){return this.$3.$3(e)},isTextAlignEnd:function(e){return this.$3.$a(e)},getTextStyle:function(e){return this.$3.$8(e)},computeLabelBox:function(e,ex,pC){return this.$3.$0(e,ex,pC,this.get_lineWidth(),this.$2)},computeLabelTextStartPosition:function(e,ex,pC){return this.$3.$1(e,ex,pC,this.get_lineWidth(),this.$2)},getTextRun:function(e){return this.$3.$4(e)},getTextRunPosition:function(e){return this.$3.$7(e)},getFillColor:function(e){return this.$1.$0(e)},getFillRect:function(e,ex,pC){return this.$1.$1(this.$2,e,ex,pC)}},{$ctor1:function(e,ex,pC,pD,pE,pF,pG,pH,pI,pJ,pK){kV.$0.call(this,e,ex,pC,pD,pG,pH);this.set_lineWidth(pE.LineWidth[pF]);var pL=tab.EnumConversions.linePatternFromInt(pE.LinePattern[pF]);if(pL==='none'){this.set_linePattern('solid');this.set_lineColor(new ct(0,0,0,0))}else{this.set_linePattern(pL);this.set_lineColor(ct.fromArgbInt(pE.LineColor[pF]))}this.set_lineJoin('bevel');this.set_lineCap(((this.get_lineWidth()>1)?'flat':'square'));if(ss.isValue(pI)&&pI.text_run.length>0){this.$3=new q(pK,pI,pJ,ct.fromArgbInt(pE.LabelBackgroundColor[pF]))}},$0:function(e,ex,pC,pD,pE,pF){this.$4=null;this.$3=null;this.$1=null;this.$2=false;this.$0=null;this.$5={};this.$1$1=0;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=0;this.$1$7=0;this.$1$8=false;this.set_lineWidth(0);this.set_lineColor(ct.fromArgbInt(0));this.set_linePattern('none');this.set_id(e);this.$0=pE;this.set_scope(pC);this.set_instantRefLineIsEnabled(pD);this.$2=ex;this.$4=new p(this.$2,pF)}});var kW=global.tab.ReferenceLinesModel=ss.mkType(a,'tab.ReferenceLinesModel',function(e,ex){this.$4=new n;this.$3=new n;jC.call(this,e,new kA('ReferenceLines',null));this.$4=this.$2(ex.RefLines);this.$3=this.$2(ex.InstantRefLines)},{getRefLines:function(e){return this.$4.$2(e)},getInstantRefLines:function(e){return this.$3.$2(e)},getRefLineById:function(e){return this.$4.$1(e)},getInstantRefLineById:function(e){return this.$3.$1(e)},getRefBands:function(e){return this.$4.$0(e)},getInstantRefBands:function(e){return this.$3.$0(e)},$1:function(e,ex,pC){if(!ss.isValue(e.Details)||!ss.isValue(e.LayoutElements)){return}var pD=e.LayoutElements;if(pD.SpecId.length===0){return}var pE=new l(e);var pF=null;var pG=pE.$9[0];var pH=pE.$8[0];var pI=pE.$l[0];var pJ=0;var pK=0;for(var pL=0;pL<pE.$9.length;++pL){var pM=pE.$9[pL];pK=_.indexOf(pE.$a,pM);if(pK===-1){break}var pN=pE.$0[pL];if(pN!==1&&pN!==2){continue}var pO=pN===1;if(pL===0||pM!==pG){if(ss.isValue(pF)){pF.$1(pH,pJ,pL);pF.$0(pI,ex,pC)}pF=new m(pE,pK,pL,pO,pM);pG=pM;pI=pE.$l[pK];pH=pE.$8[pL];pJ=pL}else if(pH!==pE.$8[pL]){pF.$1(pH,pJ,pL);pH=pE.$8[pL];pJ=pL}}pF.$1(pH,pJ,pE.$9.length);pF.$0(pI,ex,pC);fZ.notifyFontsFromTextStyleTable(pE.$f);fZ.notifyFontsFromTextStyleTable(pE.$j)},$2:function(e){if(ss.isNullOrUndefined(e)){return new n}var ex={};var pC={};var pD=ss.getEnumerator(Object.keys(e));try{while(pD.moveNext()){var pE=pD.current();if(!ss.keyExists(ex,pE)){ex[pE]=[]}if(!ss.keyExists(pC,pE)){pC[pE]=[]}this.$1(e[pE],ex[pE],pC[pE])}}finally{pD.dispose()}var pF=new n;pF.$5=kW.$0(ex);pF.$4=kW.$1(ex);pF.$3=kW.$1(pC);return pF}},{$1:function(e){var ex=function(pF,pG){return pF.item1-pG.item1};var pC={};var pD=new ss.ObjectEnumerator(e);try{while(pD.moveNext()){var pE=pD.current();pE.value.sort(ex);pC[pE.key]=pE.value.map(function(pF){return pF.item2})}}finally{pD.dispose()}return pC},$0:function(e){var ex={};var pC=new ss.ObjectEnumerator(e);try{while(pC.moveNext()){var pD=pC.current();for(var pE=0;pE<pD.value.length;pE++){var pF=pD.value[pE];var pG=pF.item2.get_id();if(!ss.keyExists(ex,pG)){ex[pG]=[]}ex[pG].push(pF.item2)}}}finally{pC.dispose()}return ex}});var kX=global.tab.RelationalTableModel=ss.mkType(a,'tab.RelationalTableModel',function(e){this.$3$1=null;fA.call(this,e)},{get_columns:function(){return this.$3$1},set_columns:function(e){this.$3$1=e},get_instanceType:function(){return'relationalTable'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.set_columns(ex)}});var kY=global.tab.RelationalTableModelFactory=ss.mkType(a,'tab.RelationalTableModelFactory',null,null,{create:function(e,ex,pC){var pD=kY.$0(e,ex,pC);var pE=(ss.keyExists(pC.get_tables(),e.fn)?pC.get_tables()[e.fn].asRelationalTable():new kX(ex));pE.update(e,pD);return pE},$0:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e.columnList)){return pD}for(var pE=0;pE<e.columnList.length;pE++){var pF=e.columnList[pE];pD.push(fw.create(pF,ex,pC))}return pD}});var kZ=global.tab.RemoteClientCommand=ss.mkType(a,'tab.RemoteClientCommand',function(e,ex,pC,pD){co.call(this,ex,null,e,pC,pD)},null,{create:function(e,ex,pC,pD){return new kZ(e,ex,pC,pD)}});var la=global.tab.RemoteCommandHandlerFactory=ss.mkType(a,'tab.RemoteCommandHandlerFactory',null,null,{create:function(e){if(ss.isValue(tabBootstrap.WorkbookSessionService.get_instance())){return la.$0(tabBootstrap.WorkbookSessionService.get_instance())}else{return la.$1(e)}},$0:function(e){var ex=new en(e);ex.$0().$1(ex,'tabdoc',{ns:'tabdoc',cmd:'get-world-update'}.cmd,200);return ex},$1:function(e){var ex=new oV(e);ex.$0().$1(ex,'tabsrv',{ns:'tabsrv',cmd:'render-tooltip-server'}.cmd,135);var pC=new cM;pC.commandNamespace={ns:'tabdoc',cmd:'highlight-items'}.ns;pC.commandName={ns:'tabdoc',cmd:'highlight-items'}.cmd;var pD=new cM;pD.commandNamespace={ns:'tabdoc',cmd:'clear-highlighting'}.ns;pD.commandName={ns:'tabdoc',cmd:'clear-highlighting'}.cmd;var pE=new cM;pE.commandNamespace={ns:'tabdoc',cmd:'highlight-items-by-pattern-match'}.ns;pE.commandName={ns:'tabdoc',cmd:'highlight-items-by-pattern-match'}.cmd;var pF=[pC,pD,pE];ex.$0().$0(ex,pF,135);return ex}});var lb=global.tab.RemoveAnnotationCmd=ss.mkType(a,'tab.RemoveAnnotationCmd',function(){ss.makeGenericType(bl,[Object,lc]).call(this)},{get_commandId:function(){return lb.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'remove-annotation'},this.c))}});var lc=global.tab.RemoveAnnotationCmd$Response=ss.mkType(a,'tab.RemoveAnnotationCmd$Response',function(e){this.$$c=null;this.$$c=e});var ld=global.tab.RemoveZoneFromDeviceLayoutCmd=ss.mkType(a,'tab.RemoveZoneFromDeviceLayoutCmd',function(){ss.makeGenericType(bl,[Object,le]).call(this)},{get_commandId:function(){return ld.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'remove-zone-from-device-layout'},this.c))}});var le=global.tab.RemoveZoneFromDeviceLayoutCmd$Response=ss.mkType(a,'tab.RemoveZoneFromDeviceLayoutCmd$Response',function(e){this.$$c=null;this.$$c=e});var lf=global.tab.RemoveZoneFromGroupCmd=ss.mkType(a,'tab.RemoveZoneFromGroupCmd',function(){ss.makeGenericType(bl,[Object,lg]).call(this)},{get_commandId:function(){return lf.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'remove-zone-from-group'},this.c))}});var lg=global.tab.RemoveZoneFromGroupCmd$Response=ss.mkType(a,'tab.RemoveZoneFromGroupCmd$Response',function(e){this.$$c=null;this.$$c=e});var lh=global.tab.ReplaceFileConnectionFromFileUploadCmd=ss.mkType(a,'tab.ReplaceFileConnectionFromFileUploadCmd',function(){ss.makeGenericType(bl,[Object,li]).call(this)},{get_commandId:function(){return lh.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'replace-file-connection-from-file-upload'},this.c))}});var li=global.tab.ReplaceFileConnectionFromFileUploadCmd$Response=ss.mkType(a,'tab.ReplaceFileConnectionFromFileUploadCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasDataSourceError:function(){return ss.keyExists(this.$$c,'dataSourceCreationError')},hasConnectionFileInfo:function(){return ss.keyExists(this.$$c,'connectionFileInfo')}});var lj=global.tab.RepoPathObject=ss.mkType(a,'tab.RepoPathObject',function(e){this.$3=null;this.$2=null;this.$0=null;this.$1=null;var ex=e.split('/');this.$3=ex[0].replace(new RegExp('^ds:'),'');this.$1=ex[0];this.$2=ex[1];if(ex.length>2){if(ex.length===3){throw new ss.Exception("new RepoPathObject() encountered repo path'"+e+"' with a badly formed customized view")}this.$0=ex[2]+'/'+ex[3]}else{this.$0=''}},{get_workbookId:function(){return this.$3},get_sheetId:function(){return this.$2},get_customizedView:function(){return this.$0},get_originalViewURL:function(){return ss.formatString('{0}/{1}',this.get_workbookId(),this.get_sheetId())},get_catalogId:function(){return this.$1}});var lk=global.tab.ReportMapboxParamsFailureCmd=ss.mkType(a,'tab.ReportMapboxParamsFailureCmd',function(){ss.makeGenericType(bl,[Object,ll]).call(this)},{get_commandId:function(){return lk.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'report-mapbox-params-failure'},this.c))}});var ll=global.tab.ReportMapboxParamsFailureCmd$Response=ss.mkType(a,'tab.ReportMapboxParamsFailureCmd$Response',function(e){this.$$c=null;this.$$c=e});var lm=global.tab.ResetDashboardCurrentLayoutCmd=ss.mkType(a,'tab.ResetDashboardCurrentLayoutCmd',function(){ss.makeGenericType(bl,[Object,ln]).call(this)},{get_commandId:function(){return lm.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'reset-dashboard-current-layout'},this.c))}});var ln=global.tab.ResetDashboardCurrentLayoutCmd$Response=ss.mkType(a,'tab.ResetDashboardCurrentLayoutCmd$Response',function(e){this.$$c=null;this.$$c=e});var lo=global.tab.ResetDashboardCurrentLayoutSizingCmd=ss.mkType(a,'tab.ResetDashboardCurrentLayoutSizingCmd',function(){ss.makeGenericType(bl,[Object,lp]).call(this)},{get_commandId:function(){return lo.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'reset-dashboard-current-layout-sizing'},this.c))}});var lp=global.tab.ResetDashboardCurrentLayoutSizingCmd$Response=ss.mkType(a,'tab.ResetDashboardCurrentLayoutSizingCmd$Response',function(e){this.$$c=null;this.$$c=e});var lq=global.tab.ResetFieldCaptionCmd=ss.mkType(a,'tab.ResetFieldCaptionCmd',function(){ss.makeGenericType(bl,[Object,lr]).call(this)},{get_commandId:function(){return lq.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'reset-field-caption'},this.c))}});var lr=global.tab.ResetFieldCaptionCmd$Response=ss.mkType(a,'tab.ResetFieldCaptionCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasInvalidNames:function(){return true}});var ls=global.tab.ResizeAxisRegionCmd=ss.mkType(a,'tab.ResizeAxisRegionCmd',function(){ss.makeGenericType(bl,[Object,lt]).call(this);this.set_uiBlocking('immediately')},{get_commandId:function(){return ls.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'resize-axis-region'},this.c))}});var lt=global.tab.ResizeAxisRegionCmd$Response=ss.mkType(a,'tab.ResizeAxisRegionCmd$Response',function(e){this.$$c=null;this.$$c=e});var lu=global.tab.ResizeCellWebCmd=ss.mkType(a,'tab.ResizeCellWebCmd',function(){ss.makeGenericType(bl,[Object,lv]).call(this);this.set_uiBlocking('immediately')},{get_commandId:function(){return lu.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'resize-cell-web'},this.c))}});var lv=global.tab.ResizeCellWebCmd$Response=ss.mkType(a,'tab.ResizeCellWebCmd$Response',function(e){this.$$c=null;this.$$c=e});var lw=global.tab.ResizeEntityModel=ss.mkType(a,'tab.ResizeEntityModel',function(e){jC.call(this,e,new kA('resizeEntity'.toString(),null))},{get_count:function(){return this.pm.count},get_fieldName:function(){return this.pm.fn},get_height:function(){return this.pm.h},get_width:function(){return this.pm.w},update:function(e){this.swapAndCopyPresModel(e)}});var lx=global.tab.ResizeHeaderRegionCmd=ss.mkType(a,'tab.ResizeHeaderRegionCmd',function(){ss.makeGenericType(bl,[Object,ly]).call(this);this.set_uiBlocking('immediately')},{get_commandId:function(){return lx.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'resize-header-region'},this.c))}});var ly=global.tab.ResizeHeaderRegionCmd$Response=ss.mkType(a,'tab.ResizeHeaderRegionCmd$Response',function(e){this.$$c=null;this.$$c=e});var lz=global.tab.ResizeHeaderWebCmd=ss.mkType(a,'tab.ResizeHeaderWebCmd',function(){ss.makeGenericType(bl,[Object,lA]).call(this);this.set_uiBlocking('immediately')},{get_commandId:function(){return lz.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'resize-header-web'},this.c))}});var lA=global.tab.ResizeHeaderWebCmd$Response=ss.mkType(a,'tab.ResizeHeaderWebCmd$Response',function(e){this.$$c=null;this.$$c=e});var lB=global.tab.ResizeInfoModel=ss.mkType(a,'tab.ResizeInfoModel',function(e){this.$2$1=null;this.cellSize=null;this.$2$2=null;this.$2$3=null;jC.call(this,e,new kA('resizeInfo'.toString(),null))},{add_resizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_resizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_totalCols:function(){return(ss.isValue(this.pm)?this.pm.colCount:0)},get_totalRows:function(){return(ss.isValue(this.pm)?this.pm.rowCount:0)},get_sheetHeight:function(){return this.pm.h},get_sheetWidth:function(){return this.pm.w},get_columnHeaders:function(){return this.$2$2},set_columnHeaders:function(e){this.$2$2=e},get_rowHeaders:function(){return this.$2$3},set_rowHeaders:function(e){this.$2$3=e},get_areRowHeadersWidthAdjustable:function(){return ss.isValue(this.get_rowHeaders())&&this.get_rowHeaders().length!==0&&this.get_rowHeaders()[this.get_rowHeaders().length-1].get_width()!==0},get_areColHeadersHeightAdjustable:function(){return ss.isValue(this.get_columnHeaders())&&this.get_columnHeaders().length!==0&&this.get_columnHeaders()[this.get_columnHeaders().length-1].get_height()!==0},get_areCellHeightsAdjustable:function(){return this.get_areRowHeadersWidthAdjustable()&&this.pm.cellHeightResizerEnabled},get_areCellWidthsAdjustable:function(){return this.get_areColHeadersHeightAdjustable()&&this.pm.cellWidthResizerEnabled},get_totalColumnHeadersHeight:function(){var e=0;var ex=this.get_columnHeaders();for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];e+=pD.get_height()}return e},update:function(e,ex){if(ss.isNullOrUndefined(this.cellSize)){this.cellSize=new lw(this)}if(ss.isValue(e.resizeEntity)){this.cellSize.update(e.resizeEntity)}if(ss.isValue(e.rowResizers)){this.set_rowHeaders([]);for(var pC=0;pC<e.rowResizers.length;pC++){var pD=e.rowResizers[pC];var pE=new lw(this);pE.update(pD);this.get_rowHeaders().push(pE)}}if(ss.isValue(e.colResizers)){this.set_columnHeaders([]);for(var pF=0;pF<e.colResizers.length;pF++){var pG=e.colResizers[pF];var pH=new lw(this);pH.update(pG);this.get_columnHeaders().push(pH)}}this.simpleSwapToUpdate(e,this.$2$1,ex)}});var lC=global.tab.ResizePointAnnotationCmd=ss.mkType(a,'tab.ResizePointAnnotationCmd',function(){ss.makeGenericType(bl,[Object,lD]).call(this)},{get_commandId:function(){return lC.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'resize-point-annotation'},this.c))}});var lD=global.tab.ResizePointAnnotationCmd$Response=ss.mkType(a,'tab.ResizePointAnnotationCmd$Response',function(e){this.$$c=null;this.$$c=e});var lE=global.tab.ResizerViewModelParams=ss.mkType(a,'tab.ResizerViewModelParams',function(e,ex,pC,pD,pE,pF){this.visualId=null;this.offset=0;this.length=0;this.isXResizer=false;this.minimumOffset=0;this.maximumOffset=0;this.visualId=e;this.offset=ex;this.length=pC;this.isXResizer=pD;this.minimumOffset=pE;this.maximumOffset=pF});var lF=global.tab.ResponseStatusCode=ss.mkEnum(a,'tab.ResponseStatusCode',{noResponse:0,unauthorized:401,badRequest:400,forbidden:403,notFound:404,timeout:408,conflict:409,gone:410,payloadTooLarge:413,tooManyRequests:429,internalServerError:500,badGateway:502,serviceUnavailable:503});var lG=global.tab.RichTextClientCommands=ss.mkType(a,'tab.RichTextClientCommands',null,null,{isRichTextEditingCommand:function(e){if(ss.isNullOrUndefined(e)){return false}return lG.isRichTextEditingCommand$1(e.commandName)},isRichTextEditingCommand$1:function(e){if(ss.isNullOrUndefined(e)){return false}return e.toString().indexOf('rich-text-editor')!==-1},callRichTextEditingCommand:function(e){if(ss.referenceEquals(e.commandName.toString(),{ns:'tabdoc',cmd:'launch-custom-tooltip-rich-text-editor'}.cmd)){lG.launchCustomTooltipRichTextEditor$1(e.commandParams['worksheet'],e.commandParams['paneSpec'])}else if(ss.referenceEquals(e.commandName.toString(),{ns:'tabdoc',cmd:'launch-worksheet-title-rich-text-editor'}.cmd)){lG.launchWorksheetTitleRichTextEditor(e.commandParams['worksheet'])}else if(ss.referenceEquals(e.commandName.toString(),{ns:'tabdoc',cmd:'launch-worksheet-caption-rich-text-editor'}.cmd)){lG.launchWorksheetCaptionRichTextEditor(e.commandParams['worksheet'])}else if(ss.referenceEquals(e.commandName.toString(),{ns:'tabdoc',cmd:'launch-legend-title-rich-text-editor'}.cmd)){lG.launchLegendTitleRichTextEditor(e.commandParams['worksheet'],e.commandParams['legendType'],e.commandParams['legendColumns'])}else if(ss.referenceEquals(e.commandName.toString(),{ns:'tabdoc',cmd:'launch-quick-filter-title-rich-text-editor'}.cmd)){lG.launchQuickFilterTitleRichTextEditor(e.commandParams['worksheet'],e.commandParams['fn'])}else if(ss.referenceEquals(e.commandName.toString(),{ns:'tabdoc',cmd:'launch-page-card-title-rich-text-editor'}.cmd)){lG.launchPageCardTitleRichTextEditor(e.commandParams['worksheet'])}else if(ss.referenceEquals(e.commandName.toString(),{ns:'tabdoc',cmd:'launch-parameter-title-rich-text-editor'}.cmd)){lG.launchParameterTitleRichTextEditor(e.commandParams['parameterName'])}else if(ss.referenceEquals(e.commandName.toString(),{ns:'tabdoc',cmd:'launch-mark-label-rich-text-editor'}.cmd)){lG.launchMarkLabelRichTextEditor(e.commandParams['worksheet'],e.commandParams['paneSpec'])}else if(ss.referenceEquals(e.commandName.toString(),{ns:'tabdoc',cmd:'launch-highlighter-title-rich-text-editor'}.cmd)){lG.launchHighlighterTitleRichTextEditor(e.commandParams['worksheet'],e.commandParams['fn'])}else{var ex=ss.isValue(e.commandParams['isNewZone'])&&e.commandParams['isNewZone'];lG.launchTextObjectRichTextEditor(e.commandParams['zoneId'],ex)}},launchTextObjectRichTextEditor:function(e,ex){var pC=new iX;pC.c['dashboard']=tsConfig.current_sheet_name;pC.c['zoneId']=e|0;pC.c['isNewZone']=ex;pC.c['richTextEditorConfiguration']=lH.get_instance();pC.set_uiBlocking('afterDelay');var pD=pC;pD.invoke()},launchWorksheetTitleRichTextEditor:function(e){var ex=new iV;ex.c['worksheet']=e;ex.c['richTextEditorConfiguration']=lH.get_instance();ex.set_uiBlocking('afterDelay');var pC=ex;if(tsConfig.current_sheet_type==='dashboard'){pC.c['dashboard']=tsConfig.current_sheet_name}pC.invoke()},launchWorksheetCaptionRichTextEditor:function(e){var ex=new iT;ex.c['worksheet']=e;ex.c['richTextEditorConfiguration']=lH.get_instance();ex.set_uiBlocking('afterDelay');var pC=ex;if(tsConfig.current_sheet_type==='dashboard'){pC.c['dashboard']=tsConfig.current_sheet_name}pC.invoke()},launchLegendTitleRichTextEditor:function(e,ex,pC){var pD=new iD;pD.c['worksheet']=e;pD.c['legendType']=ex;pD.c['legendColumns']=pC;pD.c['richTextEditorConfiguration']=lH.get_instance();pD.set_uiBlocking('afterDelay');var pE=pD;if(tsConfig.current_sheet_type==='dashboard'){pE.c['dashboard']=tsConfig.current_sheet_name}pE.invoke()},launchParameterTitleRichTextEditor:function(e){var ex=new iL;ex.c['parameterName']=e;ex.c['richTextEditorConfiguration']=lH.get_instance();ex.set_uiBlocking('afterDelay');var pC=ex;if(tsConfig.current_sheet_type==='dashboard'){pC.c['dashboard']=tsConfig.current_sheet_name}else{pC.c['worksheet']=tsConfig.current_sheet_name}pC.invoke()},launchAnnotationRichTextEditor:function(e,ex){var pC=new ip;pC.c['worksheet']=e;pC.c['objectIds']=ex;pC.c['richTextEditorConfiguration']=lH.get_instance();pC.set_uiBlocking('afterDelay');var pD=pC;pD.invoke()},launchCustomTooltipRichTextEditor:function(e){lG.launchCustomTooltipRichTextEditor$1(tsConfig.current_sheet_name,e)},launchCustomTooltipRichTextEditor$1:function(e,ex){var pC=new ix;pC.c['worksheet']=e;pC.c['richTextEditorConfiguration']=lH.get_instance();pC.set_uiBlocking('afterDelay');pC.c['paneSpec']=ex|0;var pD=pC;pD.invoke()},launchQuickFilterTitleRichTextEditor:function(e,ex){var pC=new iP;pC.c['worksheet']=e;pC.c['fn']=ex;pC.c['richTextEditorConfiguration']=lH.get_instance();pC.set_uiBlocking('afterDelay');var pD=pC;if(tsConfig.current_sheet_type==='dashboard'){pD.c['dashboard']=tsConfig.current_sheet_name}pD.invoke()},launchPageCardTitleRichTextEditor:function(e){var ex=new iJ;ex.c['worksheet']=e;ex.c['richTextEditorConfiguration']=lH.get_instance();ex.set_uiBlocking('afterDelay');var pC=ex;if(tsConfig.current_sheet_type==='dashboard'){pC.c['dashboard']=tsConfig.current_sheet_name}pC.invoke()},launchMarkLabelRichTextEditor:function(e,ex){var pC=new iF;pC.c['worksheet']=e;pC.c['paneSpec']=ex|0;pC.c['richTextEditorConfiguration']=lH.get_instance();pC.set_uiBlocking('afterDelay');var pD=pC;if(tsConfig.current_sheet_type==='dashboard'){pD.c['dashboard']=tsConfig.current_sheet_name}pD.invoke()},launchHighlighterTitleRichTextEditor:function(e,ex){var pC=new iz;pC.c['worksheet']=e;pC.c['fn']=ex;pC.c['richTextEditorConfiguration']=lH.get_instance();pC.set_uiBlocking('afterDelay');var pD=pC;pD.invoke()},removeRichTextCommands:function(e){var ex=cL.create(e);var pC=ex.get_commandItems();var pD=tab.ListExtensions.where(Object).call(null,pC,function(pG){return lG.isRichTextEditingCommand$1(cC.create(pG).get_commandName())});for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];ss.remove(pC,pF)}ex.set_commandItems(pC)}});var lH=global.tab.RichTextEditorConfigurationFactory=ss.mkType(a,'tab.RichTextEditorConfigurationFactory',null,null,{get_instance:function(){if(ss.isValue(lH.$2)){return lH.$2}lH.$2={contentSecurityPolicy:lH.$0(),fontFamilies:gg.compatibleFontNameList(),fontSizes:gg.fontSizes};if(tsConfig.is_desktop){lH.$2.staticAssetsPath='./dist'}else{lH.$2.cssFontRules=lH.$1();lH.$2.staticAssetsPath=tsConfig.local_static_asset_prefix}return lH.$2},set_instance:function(e){lH.$2=e},clear:function(){lH.set_instance(null)},$0:function(){var e=ss.replaceAllString(tsConfig.external_static_asset_prefix,tsConfig.local_static_asset_prefix,'');return ss.formatString("default-src 'none'; script-src 'self'; connect-src 'self'; img-src * data:; style-src 'self' 'unsafe-inline'; font-src 'self' {0};",e)},$1:function(){var e='';var ex=mq.get_allCustomFonts();for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];e+='@font-face\n{\n'+tab.StyleUtil.createCSSRules(pD.toCSSRules())+'}\n'}return e}});var lI=global.tab.RightAreaDrawerCommands=ss.mkType(a,'tab.RightAreaDrawerCommands',null,null,{showRightAreaDrawer:function(e){bd.get_instance().get_rightAreaDrawer().set_typeOfContentBeingLoaded(e);bd.get_instance().get_rightAreaDrawer().set_isOpen(true)},hideRightAreaDrawer:function(){bd.get_instance().get_rightAreaDrawer().set_typeOfContentBeingLoaded(0);bd.get_instance().get_rightAreaDrawer().set_isOpen(false)},setTypeOfContentBeingLoaded:function(e){bd.get_instance().get_rightAreaDrawer().set_typeOfContentBeingLoaded(e)}});var lJ=global.tab.RightAreaDrawerModel=ss.mkType(a,'tab.RightAreaDrawerModel',function(e){this.$2$1=null;this.$2$2=null;this.$1=false;this.$2=0;jC.call(this,e,new kA('',null))},{add_updated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_contentChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_contentChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_isOpen:function(){return this.$1},set_isOpen:function(e){if(this.$1!==e){this.$1=e;jC.nonWorldUpdate(ss.mkdel(this,function(ex){this.raiseEvent(this.$2$1,ex)}))}},get_typeOfContentBeingLoaded:function(){return this.$2},set_typeOfContentBeingLoaded:function(e){if(this.$2!==e){this.$2=e;jC.nonWorldUpdate(ss.mkdel(this,function(ex){this.raiseEvent(this.$2$2,ex)}))}}});var lK=global.tab.RightAreaDrawerModel$LoadingContentType=ss.mkEnum(a,'tab.RightAreaDrawerModel$LoadingContentType',{none:0,commenting:1,DDA:2,lineage:3,metrics:4,relatedViewRecommendations:5,dataMonitoring:6,hybridSidePane:7});var lL=global.tab.RuntimeAnimLoader=ss.mkType(a,'tab.RuntimeAnimLoader',null,null,{get_moduleInitialized:function(){return lL.$2},get_startedLoad:function(){return lL.$3},setupModule:function(){if(lL.$3||!tab.RuntimeUtil.canUseRuntime(bd.get_instance().get_renderMode())){return}lL.$3=true;var e=tabBootstrap.MetricsController.createContext('EMLOAD'.toString(),32,null);lL.$0().done([function(){e.dispose();var ex=function(){lL.$2.resolve()};var pC=function(pD){lL.$2.reject();tab.ErrorTrace.report(pD,false)};tab.RuntimeWebModule.proxy.initializeRuntime().then(ex,pC)}])},$0:function(){var e=$.Deferred();var ex={};var pC=function(){e.resolve();return true};var pD=function(pG){return tsConfig.external_static_asset_prefix+'/javascripts/'+pG};var pE=function(pG){tab.RuntimeUtil.abortEmscripten();ba.abortEmscripten();tab.ErrorTrace.report(new ss.JsErrorException(pG),false)};ex.onRuntimeInitialized=pC;ex.locateFile=pD;ex.onAbort=pE;var pF=window.self;pF['RuntimeWebModule']=ex;jH.load('runtimeanimweb',[]);return e.promise()}});var lM=global.tab.RuntimeDataResponseParser=ss.mkType(a,'tab.RuntimeDataResponseParser',function(e){lM.$ctor1.call(this,e.$$c['runtimeData'])},{get_dataStore:function(){return this.$1$1},set_dataStore:function(e){this.$1$1=e},get_vtl:function(){return this.$1$2},set_vtl:function(e){this.$1$2=e},get_dataStoreUpdater:function(){return this.$1$3},set_dataStoreUpdater:function(e){this.$1$3=e},get_aborted:function(){return this.$1$4},set_aborted:function(e){this.$1$4=e}},{$ctor1:function(e){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=false;this.set_dataStore(e.runtimeLayoutInputDatastore);this.set_vtl(e.runtimeVtl);this.set_dataStoreUpdater(e.runtimeDatastoreUpdater);this.set_aborted(e.runtimeDatastoreAborted)}});var lN=global.tab.RuntimeStatusView=ss.mkType(a,'tab.RuntimeStatusView',function(){this.$4=null;this.$3=false;this.$2=false},{get_isRuntimeSupported:function(){return this.$3},set_isRuntimeSupported:function(e){this.$3=e;this.$1()},get_isRuntimeReady:function(){return this.$2},set_isRuntimeReady:function(e){this.$2=e;this.$1()},addDebugViewToElement:function(e){if(ss.isNullOrUndefined(this.$4)){this.$4=$('<div></div>');this.$4.appendTo(e)}this.$0()},$0:function(){if(this.get_isRuntimeSupported()){var e='';if(!this.$2){e=' pending-runtime'}this.$4.html("<div class='tab-RuntimeDebugStatus"+e+"'>RE</div>")}else{this.$4.html("<div class='tab-RuntimeDebugStatus no-runtime'>NR</div>")}},$1:function(){if(!ss.isNullOrUndefined(this.$4)){this.$0()}}});var lO=global.tab.RuntimeTelemetry=ss.mkType(a,'tab.RuntimeTelemetry',null,null,{logAborted:function(e){jT.logEvent('RuntimeClientEvents',ss.mkdict(['EventName',lO.$2[e]]))},logVizUsage:function(e,ex){lO.$0(lO.$2[e],ex)},logVizUsage$1:function(e,ex){lO.$0(e,ex)},$0:function(e,ex){jT.logEvent('RuntimeClientEvents',ss.mkdict(['EventName',e,'ElapsedTime',ex]))}});var lP=global.tab.RuntimeTelemetry$RuntimeTelemetryEventType=ss.mkEnum(a,'tab.RuntimeTelemetry$RuntimeTelemetryEventType',{runtimeLoaded:0,runtimeAborted:1});var lQ=global.tab.SaveServerCommands=ss.mkType(a,'tab.SaveServerCommands',null,null,{$2:function(){return tab.Logger.lazyGetLogger(lQ)},saveWorkbook:function(e){var ex=function(pC){pv.getWorldUpdate(function(){if(ss.isValue(e)){e(pC)}})};lQ.$0('publish',tsConfig.workbookName,tsConfig.current_project_id.toString(),tsConfig.showTabsWorkbook,null,null,ex,null,cw.get().legacySession,bd.get_instance().get_workbook().get_oAuthCredentialIds())},saveWorkbookWithCredential:function(e,ex){var pC=function(pD){pv.getWorldUpdate(function(){if(ss.isValue(e)){e(pD)}})};lQ.$0('publish',tsConfig.workbookName,tsConfig.current_project_id.toString(),tsConfig.showTabsWorkbook,ex,null,pC,null,cw.get().legacySession,bd.get_instance().get_workbook().get_oAuthCredentialIds())},saveWorkbookAs:function(e,ex,pC,pD,pE,pF,pG,pH){lQ.$0('publish_as',e,ex,pC,pD,pE,pG,pH,cw.get().legacySession,pF)},SaveWorkbookAs:function(e,ex,pC,pD,pE,pF,pG,pH){lQ.saveWorkbookAs(e,ex.id,pC,pD,pE,pF,pG,pH)},SaveDatasource:function(e,ex,pC,pD,pE,pF){var pG=cw.get().legacySession;var pH=function(pN,pO,pP){var pQ=lQ.$1(Object).call(null,pP.responseText);pE(pQ)};var pI=function(pN,pO,pP){var pQ=lQ.$1(Object).call(null,pN.responseText);if(ss.isValue(pF)&&ss.isValue(pQ)){pF(pQ)}else{pG.$0(pP,pN,false,null)}};var pJ={type:'POST',dataType:'json',url:cw.$0('publish_ds',pG)};var pK=ss.mkdict(['project',pD.toString(),'datasource',e,'name',ex,'oauth_credential_ids',bd.get_instance().get_workbook().get_oAuthCredentialIds()]);if(ss.isValue(pC)){pK['no_overwrite']=ss.unbox(pC)}var pL=px.getMultipartData(null,pK);pJ.contentType='multipart/form-data; boundary='+pL.header;pJ.data=pL.body;var pM=new mr(pG,null,pH,pI,true,true);px.helper(pJ,pM)},$1:function(e){return function(ex){var pC;try{pC=JSON.parse(ex)}catch(pD){pC=null}return pC}},$0:function(e,ex,pC,pD,pE,pF,pG,pH,pI,pJ){var pK=function(pQ,pR,pS){var pT=pQ;if(ss.keyExists(pT,'workbook')){var pU=pT['workbook'];pG(pU)}else{pG(null)}};var pL=function(pQ,pR,pS){var pT=lQ.$1(Object).call(null,pQ.responseText);var pU=lQ.$1(Object).call(null,pQ.responseText);if(ss.isValue(pH)&&ss.isValue(pT)){pH(pT)}else if(pQ.status===403&&ss.isValue(pU)&&pU.code===60011){pI.get_sessionErrorHandler().handleSessionForbiddenAction(pU.code,pU.message)}else{pI.get_sessionErrorHandler().handleCommandFailure(pS,pQ,null,false)}};var pM={type:'POST',dataType:'json',url:cw.$0(e,pI)};var pN=ss.mkdict(['project',pC,'name',ex,'display_tabs',pD]);if(ss.isValue(pE)){pN['save_db_passwords']=ss.unbox(pE)}if(ss.isValue(pF)){pN['no_overwrite']=ss.unbox(pF)}if(ss.isValue(pJ)){pN['oauth_credential_ids']=pJ}var pO=px.getMultipartData(null,pN);pM.contentType='multipart/form-data; boundary='+pO.header;pM.data=pO.body;var pP=new mr(pI,null,pK,pL,true,true);px.helper(pM,pP)},transitionSessionAfterLogon:function(e){cw.get().$0(e)}});var lR=global.tab.SceneDataUtil=ss.mkType(a,'tab.SceneDataUtil',null,null,{isPaneFlagSet:function(e,ex){return(e&lR.$2[ex])!==0},isMarkFlagSet:function(e,ex){return(e&lR.$1[ex])!==0},isCustomShape:function(e){return!ss.keyExists(lR.shapeMapping,e.toString())},getFogBlendFactor:function(e){var ex=0.185000002384186;var pC=0.275000005960464;var pD=75;var pE=e.get_r()<=pD&&e.get_g()<=pD&&e.get_b()<=pD;return(pE?pC:ex)},fogColorTransform:function(e,ex,pC){var pD=ex.get_r()+e.get_r()*pC>>>0;var pE=ex.get_g()+e.get_g()*pC>>>0;var pF=ex.get_b()+e.get_b()*pC>>>0;return new ct(pD,pE,pF,e.get_a())},applyFogToBackgroundColor:function(e,ex){var pC=245;if(e.get_r()>=pC&&e.get_g()>=pC&&e.get_b()>=pC){e=new ct(pC,pC,pC,e.get_a())}var pD=(1-ex)*e.get_r()>>>0;var pE=(1-ex)*e.get_g()>>>0;var pF=(1-ex)*e.get_b()>>>0;return new ct(pD,pE,pF,e.get_a())},createColorCollection:function(e,ex,pC){var pD={};pD['colorOverrideOpaque']=e.toRgb();pD['colorOverrideNone']=e.toRgba();pD['colorOverrideFog']=lR.fogColorTransform(e,ex,pC).toRgba();return pD},createOpaqueColorCollection:function(e){var ex={};var pC=ct.fromColorCode(e['colorOverrideNone']);ex['colorOverrideNone']=pC.toRgb();pC=ct.fromColorCode(e['colorOverrideFog']);ex['colorOverrideFog']=pC.toRgb();pC=ct.fromColorCode(e['colorOverrideOpaque']);ex['colorOverrideOpaque']=pC.toRgb();return ex},applyFoggingToColor:function(e,ex){var pC=lR.getFogBlendFactor(ex);var pD=lR.applyFogToBackgroundColor(ex,pC);return lR.fogColorTransform(e,pD,pC)},convertShapeToNumber:function(e){var ex;var pC=ss.isValue(e.get_palette())&&ss.unbox(e.get_palette())==='filled';switch(e.get_shapeType()){case'circle':{ex=(pC?'shapeIDFilledCircle':'shapeIDCircle');break}case'square':{ex=(pC?'shapeIDFilledSquare':'shapeIDSquare');break}case'plus':{ex=(pC?'shapeIDFilledPlus':'shapeIDPlus');break}case'times':{ex=(pC?'shapeIDFilledTimes':'shapeIDTimes');break}case'asterisk':{ex=(pC?'shapeIDFilledStar':'shapeIDAsterisk');break}case'diamond':{ex=(pC?'shapeIDFilledDiamond':'shapeIDDiamond');break}case'triangle':{ex=(pC?'shapeIDFilledTriangle':'shapeIDTriangle');break}case'down-triangle':{ex=(pC?'shapeIDFilledDownTriangle':'shapeIDDownTriangle');break}case'left-triangle':{ex=(pC?'shapeIDFilledLeftTriangle':'shapeIDLeftTriangle');break}case'right-triangle':{ex=(pC?'shapeIDFilledRightTriangle':'shapeIDRightTriangle');break}default:{throw new ss.Exception('Unable to map ShapeType to ShapeID')}}return parseInt(lR.reverseShapeMapping[ex])},getNumPaneItems:function(e){return e.endIndex-e.startIndex|0},calcCellClip:function(e){var ex=0;var pC=lR.isPaneFlagSet(e,'clip-to-cell-x');var pD=lR.isPaneFlagSet(e,'clip-to-cell-y');if(pC&&pD){ex=3}else if(pC){ex=1}else if(pD){ex=2}return ex},isSupportedStampShape:function(e){if(!ss.keyExists(lR.reverseShapeMapping,e)){return false}var ex=true;switch(e){case'shapeIDFilledSquare':case'shapeIDSquare':{ex=false;break}default:{break}}return ex}});var lS=global.tab.SceneElementModel=ss.mkType(a,'tab.SceneElementModel',function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;jC.call(this,null,new kA('sceneElement'.toString(),null));this.swapPresModel(e);this.set_sceneElementPM(e);this.set_paneId(new kf(e.paneId));this.set_bounds({minX:e.floatLeft,minY:e.floatTop,maxX:e.floatLeft+e.floatWidth,maxY:e.floatTop+e.floatHeight})},{get_sceneElementPM:function(){return this.$2$1},set_sceneElementPM:function(e){this.$2$1=e},get_paneId:function(){return this.$2$2},set_paneId:function(e){this.$2$2=e},get_index:function(){return this.get_sceneElementPM().uindex},get_paneIndex:function(){return this.get_sceneElementPM().paneIndex},get_tupleId:function(){return this.get_sceneElementPM().tupleId},get_bounds:function(){return this.$2$3},set_bounds:function(e){this.$2$3=e},get_visualPart:function(){return this.get_sceneElementPM().visualPart},get_detail:function(){return this.get_sceneElementPM().sceneModelDetailEnum},get_hitType:function(){return this.get_sceneElementPM().sceneModelHitType},get_detailId:function(){return this.get_sceneElementPM().detailId},get_cellId:function(){return this.get_sceneElementPM().cellId},get_worldOffset:function(){return this.get_sceneElementPM().worldOffset},get_markState:function(){return this.get_sceneElementPM().markState},get_hitDistance:function(){return this.get_sceneElementPM().distance},get_overlayHit:function(){return this.get_sceneElementPM().useForOverlayHitTest}});var lT=global.tab.SceneMarginLocation=ss.mkEnum(a,'tab.SceneMarginLocation',{top:0,bottom:1,right:2,left:3});var lU=global.tab.SceneMarginModel=ss.mkType(a,'tab.SceneMarginModel',function(e,ex){this.$i=0;this.$k=null;this.$c=null;this.$2=null;this.$b=null;this.$h=null;this.$e=null;this.$4=null;this.$3=null;this.$d=null;this.$f=null;this.$6=null;this.$7=null;this.$j=null;this.$a=null;this.$g=null;this.$5=0;this.$9=false;this.$8=false;this.$1$1=null;this.$1$2=null;var pC=e.get_finalDataStore();this.$i=ex;this.$b=pC.SceneMargin.Styles.HeaderStyleAndShading;this.$h=pC.SceneMargin.Layout.SceneMarginLayout;this.$7=pC.SceneMargin.FieldLabels;this.$k=pC.TickPlacement;this.$c=pC.SceneMargin.LabelSkip;this.$2=pC.AxisOutput;this.$j=pC.SceneMargin.NodeSorts;if(lU.isHorizontal(ex)){this.$e=pC.SceneMargin.XNodes;this.$4=pC.SceneMargin.Styles.BorderStyles.X;this.$3=this.$2.XAxisTable;this.$d=pC.SceneMargin.Layout.XElementsLayout;this.$f=this.$b.XNodeLevelStyles;this.$6=pC.SceneMargin.Styles.ElidedXNodeLabels;this.$a=this.$b.XPerLevelHeaderStyles.HeaderDepth}else{this.$e=pC.SceneMargin.YNodes;this.$4=pC.SceneMargin.Styles.BorderStyles.Y;this.$3=this.$2.YAxisTable;this.$d=pC.SceneMargin.Layout.YElementsLayout;this.$f=this.$b.YNodeLevelStyles;this.$6=pC.SceneMargin.Styles.ElidedYNodeLabels;this.$a=this.$b.YPerLevelHeaderStyles.HeaderDepth}this.$g=pC.Viewpoint.PerPaneExtents;this.$5=pC.PaneCount.ColumnCount},{add_newSceneMargin:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_newSceneMargin:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_hasHeaders:function(){return this.$9},set_hasHeaders:function(e){this.$9=e},get_hasAxes:function(){return this.$8},set_hasAxes:function(e){this.$8=e},get_visualID:function(){return this.$1$2},set_visualID:function(e){this.$1$2=e},get_headerStyleAndShading:function(){return this.$b},get_tickPlacement:function(){return this.$k},get_labelSkipTable:function(){return this.$c},get_nodeData:function(){return this.$e},get_borderStyles:function(){return this.$4},get_sceneMarginLocation:function(){return this.$i},get_sceneMarginLayout:function(){return this.$h},get_layoutTable:function(){return this.$d},get_nodeLevelStyles:function(){return this.$f},get_axisTable:function(){return this.$3},get_axisOutput:function(){return this.$2},get_paneExtents:function(){return this.$g},get_columnCount:function(){return this.$5},get_elidedNodeLabels:function(){return this.$6},get_fieldLabels:function(){return this.$7},get_sortIndicatorData:function(){return this.$j},get_headerDepths:function(){return this.$a},getFoldStateOfNodes:function(){var e=this.$e.IsLeaf;var ex=this.$3.FoldState;var pC=0;var pD=[];for(var pE=0;pE<e.length;pE++){if(this.$8&&e[pE]){pD.push(ex[pC]);pC++}else{pD.push(0)}}return pD},update:function(e){this.raiseEvent(this.$1$1,e)},raiseEvent:function(e,ex){if(ss.staticEquals(e,null)){return}if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.eventHandler)){return}ex.eventHandler.processEvent(e)},isHorizontal:function(){return lU.isHorizontal(this.$i)},$1:function(e){if(this.$i===e){return true}else if(this.$i===0){return e===1}else if(this.$i===2){return e===3}return false},$0:function(e){return e===0||e===1},shouldDisableCellResize:function(){if(!tsConfig.is_authoring){return true}var e=_.filter(this.$h.ElementType,ss.mkdel(this,function(ex,pC){return this.$1(this.$h.SceneMarginLocation[pC])&&this.$0(ex)}));return!tab.MiscUtil.isNullOrEmpty$2(e)},sendCellResizeCommand:function(e,ex,pC){var pD=new lu;pD.c['visualIdPresModel']=this.get_visualID();pD.c['baseCoord']=e|0;pD.c['isXAxis']=this.isHorizontal();pD.c['isFolded']=ex;pD.c['size']=pC|0;pD.invoke()},sendHeaderResizeCommand:function(e,ex){var pC=new lz;pC.c['visualIdPresModel']=this.get_visualID();pC.c['size']=ex|0;pC.c['isXAxis']=this.isHorizontal();pC.c['fn']=e;pC.set_uiBlocking('immediately');pC.invoke()},sendAxisResizeCommand:function(e,ex){var pC=new ls;pC.c['visualIdPresModel']=this.get_visualID();pC.c['sizeDelta']=ex|0;pC.c['isXAxis']=this.isHorizontal();pC.c['isFolded']=e;pC.set_uiBlocking('immediately');pC.invoke()}},{isKeyboardAccessibilityEnabled:function(){return tab.FeatureFlags.isEnabled('RuntimeVizHeaderRefactor')&&tab.FeatureFlags.isEnabled('RuntimeKeyboardAccessibility')&&bd.get_instance().get_isLocalRenderMode()},isHorizontal:function(e){return e===1||e===0}});var lV=global.tab.SceneModel=ss.mkType(a,'tab.SceneModel',function(e){this.$e={};this.$c={};this.$7=[];this.$8=[];this.$a=null;this.$d=null;this.$b=null;this.$9=false;this.$2$1=null;this.$2$2=null;jC.call(this,e,new kA('scene'.toString(),null));this.$a=[];this.$d=[]},{add_newSceneModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSceneModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_parentVisualModel:function(){return this.parent},get_visualListModels:function(){return this.$e},get_sceneMarginModelMap:function(){return this.$c},get_refLineVisualLists:function(){return this.$a},get_trendLineVisualLists:function(){return this.$d},get_referenceLines:function(){return this.$2$2},set_referenceLines:function(e){this.$2$2=e},get_drawFirstParts:function(){return this.$7},get_drawLastParts:function(){return this.$8},get_paneDescriptorCount:function(){return ss.getKeyCount(this.get_sceneRuntimeData().get_finalDataStore().PDMarks)},get_sceneRuntimeData:function(){if(ss.isNullOrUndefined(this.$b)){if(_.isNull(this.pm)||_.isNull(this.pm.runtimeRenderInputDatastore)){this.$b=new tab.RuntimeData('',this.$9)}else{this.$b=new tab.RuntimeData(this.pm.runtimeRenderInputDatastore,this.$9)}}return this.$b},set_sceneRuntimeData:function(e){this.$b=e},invokeNewSceneModel:function(){this.$2$1()},update:function(e,ex,pC){this.$9=pC;if(ss.isValue(e.markShapeList)){bd.get_instance().get_shapeManager().updateCustomImageMap(e.markShapeList)}this.$5(e,pC);this.$3();this.$6(this.$7,this.get_sceneRuntimeData().get_drawFirsts(),true,ex);this.$6(this.$8,this.get_sceneRuntimeData().get_drawLasts(),false,ex);this.$2();var pD=ss.isNullOrUndefined(e.userPaneInfo);e.currentPage=e.currentPage||0;this.swapAndCopyPresModel(e);if(pD){this.pm.userPaneInfo=null}this.$1();this.$4();this.raiseEvent(this.$2$1,ex)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},runtimeSceneMarginSupported:function(){if(!tab.FeatureFlags.isEnabled('RuntimeVizHeaderRefactor')){return false}if(ss.isNullOrUndefined(this.$b)){return false}var e=this.$b.get_finalDataStore().SceneMargin;if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.Layout)){return false}return true},runtimeRegionSupported:function(e){if(!this.runtimeSceneMarginSupported()){return false}switch(e){case'bottom-axis':case'x-labels':case'y-labels':case'left-axis':case'top-axis':case'right-axis':{return true}}return false},$1:function(){var e=this.get_sceneRuntimeData().get_panes();ss.clear(this.$a);ss.clear(this.$d);if(ss.isValue(e)){for(var ex=0;ex<e.length;ex++){var pC=e[ex];if(ss.isValue(pC.drawPane)){for(var pD=0;pD<pC.drawPane.length;pD++){var pE=pC.drawPane[pD];if(ss.isValue(pE)){if(pE.visualPart==='ref-lines'){this.$a.push(pE)}else if(pE.visualPart==='trend-lines'){this.$d.push(pE)}}}}}}},$3:function(){ss.clearKeys(this.get_sceneMarginModelMap());if(tab.MiscUtil.isNullOrEmpty(this.get_sceneRuntimeData())){ss.clearKeys(this.get_visualListModels());return}var e=new ss.ObjectEnumerator(this.get_visualListModels());try{while(e.moveNext()){var ex=e.current();var pC={$:ex.key};var pD=_.find(this.get_sceneRuntimeData().get_drawFirsts(),ss.mkdel({currentPart:pC},function(pE){return this.currentPart.$===pE.visualPart}));if(ss.isNullOrUndefined(pD)){pD=_.find(this.get_sceneRuntimeData().get_drawLasts(),ss.mkdel({currentPart:pC},function(pE){return this.currentPart.$===pE.visualPart}))}if(ss.isNullOrUndefined(pD)){delete this.get_visualListModels()[pC.$]}}}finally{e.dispose()}},$5:function(e,ex){if(ss.isValue(e.runtimeFinalDatastoreLocal)&&ss.isValue(this.$b)){var pC=new tab.DatastoreHandle(e.runtimeFinalDatastoreLocal,null);tab.RuntimeWebModule.proxy.marshallDatastore(pC).done(ss.mkdel(this,function(pD){this.$b.update(pD,ex)}))}else if(ss.isValue(e.runtimeRenderInputDatastore)){if(!tab.FeatureFlags.isEnabled('AnimationStoreOptimization')){this.$b=new tab.RuntimeData(e.runtimeRenderInputDatastore,ex)}}else{this.$b=null}},$6:function(e,ex,pC,pD){ss.clear(e);for(var pE=0;pE<ex.length;pE++){var pF=ex[pE];fZ.notifyFontsFromVisualListPresModel(pF);var pG=pF.visualPart;if(!ss.keyExists(this.$e,pG)){this.$e[pG]=new oF(this)}if(pC&&ss.contains(e,pG)){continue}e.push(pG);this.$e[pG].update(pF,pD);if(this.runtimeRegionSupported(pG)){var pH=jF.visualPartToSceneMarginLocationMap[pG];if(!ss.keyExists(this.get_sceneMarginModelMap(),pH)){this.$c[pH]=new lU(this.$b,pH)}if(pG==='left-axis'||pG==='bottom-axis'||pG==='top-axis'||pG==='right-axis'){this.$c[pH].set_hasAxes(true)}else if(pG==='y-labels'||pG==='x-labels'){this.$c[pH].set_hasHeaders(true)}}}},$2:function(){var e=this.get_sceneRuntimeData().get_panes();if(ss.isValue(e)){for(var ex=0;ex<e.length;ex++){var pC=e[ex];for(var pD=0;pD<pC.drawPane.length;pD++){var pE=pC.drawPane[pD];fZ.notifyFontsFromVisualListPresModel(pE)}}}if(ss.isValue(this.get_sceneRuntimeData())&&ss.isValue(this.get_sceneRuntimeData().get_finalDataStore().PDMarks)){var pF=new ss.ObjectEnumerator(this.get_sceneRuntimeData().get_finalDataStore().PDMarks);try{while(pF.moveNext()){var pG=pF.current();fZ.notifyFontsFromMarkLayoutOutput(pG.value)}}finally{pF.dispose()}}},$4:function(){this.set_referenceLines(null);if(ss.isValue(this.get_sceneRuntimeData().get_finalDataStore().RefLines)){this.set_referenceLines(new kW(this,this.get_sceneRuntimeData().get_finalDataStore()))}}});var lW=global.tab.SceneUtils=ss.mkType(a,'tab.SceneUtils',null,null,{getPaneDescriptorKeyFromRuntimeData:function(e,ex){var pC=new ss.ObjectEnumerator(ex.PDMarks);try{while(pC.moveNext()){var pD=pC.current();var pE=pD.value;var pF=pE.Encodings.tuple_id;var pG=_.find(pF,function(pH){return pH===e});if(ss.isValue(pG)){return pD.key}}}finally{pC.dispose()}return''}});var lX=global.tab.Schedule=ss.mkType(a,'tab.Schedule',function(e){this.$9=null;this.$8=null;this.$9=e;try{this.$8=this.generateFrequencyDescription()}catch(ex){this.set_scheduleFrequencyDescription('Invalid schedule')}},{get_schedulePresModel:function(){return this.$9},set_schedulePresModel:function(e){this.$9=e},get_scheduleFrequencyDescription:function(){return this.$8},set_scheduleFrequencyDescription:function(e){this.$8=e},generateFrequencyDescription:function(){var e=new Date;var ex=0-e.getTimezoneOffset();var pC=0;var pD=this.$9.scheduleDetails.startTime;var pE=0;var pF='';if(tsConfig.display_schedules_in_client_timezone){pC=ex-this.$9.serverTimezoneOffset;pD=lX.$2(this.$9.scheduleDetails.startTime,pC);pE=lX.$0(this.$9.scheduleDetails.startTime,pC)}switch(this.$9.scheduleType){case'Hourly':{pF=this.$2(pD,pC);break}case'Daily':{pF=this.$0(pD);break}case'Weekly':{pF=this.$4(pD,pE);break}case'Monthly':{pF=this.$3(pD,pE);break}default:{throw new ss.Exception('Unknown schedule type: '+this.$9.scheduleType)}}if(!this.$9.parallel){pF=tab.Strings.SerialScheduleDescription(pF,tab.Strings.SerialScheduleDescriptionSuffix)}return pF},$7:function(e,ex,pC){var pD=ss.idiv(e,60);if(ex===0){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else if(pD===1){return tab.Strings.ScheduleEveryOneHourDescription}else{return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(ss.idiv(e,60),lX.$1(pC))}}else if(ex===15){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(pD===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ex)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(pD,lX.$1(pC))}}else if(ex===30){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else{if(pD===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ex)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(pD,lX.$1(pC))}}else if(ex===45){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(pD===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ex)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(pD,lX.$1(pC))}}else{throw new ss.Exception('Unsupported schedule minutes after the hour: '+ex)}},$2:function(e,ex){var pC=ss.imod(this.$9.scheduleDetails.endTime+ex,1440);if(e===pC){return this.$7(this.$9.scheduleDetails.recurrenceMinutes,ss.imod(e,60),e)}var pD;if(this.$9.scheduleDetails.recurrenceMinutes<60){pD=tab.Strings.Minutes(this.$9.scheduleDetails.recurrenceMinutes)}else if(this.$9.scheduleDetails.recurrenceMinutes>60){pD=tab.Strings.Hours(ss.idiv(this.$9.scheduleDetails.recurrenceMinutes,60))}else{pD=tab.Strings.Hour}return tab.Strings.ScheduleHourlyDescription(pD,lX.$1(e),lX.$1(pC))},$0:function(e){return tab.Strings.ScheduleDailyDescription(lX.$1(e))},$4:function(e,ex){var pC=this.$9.scheduleDetails.recurrenceDaysOfWeek;if(ex!==0){pC=this.$6(this.$9.scheduleDetails.recurrenceDaysOfWeek,ex)}var pD=this.$1(pC);return tab.Strings.ScheduleWeeklyDescription(lX.$1(e),pD)},$6:function(e,ex){var pC=[];for(var pD=0;pD<e.length;pD++){var pE=ss.indexOf(lX.$8,e[pD]);var pF=ss.imod(pE+ex+lX.$8.length,lX.$8.length);pC.push(lX.$8[pF])}return pC},$1:function(e){switch(e.length){case 1:{return lX.$7[e[0]]}case 2:{return tab.Strings.ListLengthTwo(lX.$7[e[0]],lX.$7[e[1]])}case 3:{return tab.Strings.ListLengthThree(lX.$7[e[0]],lX.$7[e[1]],lX.$7[e[2]])}case 4:{return tab.Strings.ListLengthFour(lX.$7[e[0]],lX.$7[e[1]],lX.$7[e[2]],lX.$7[e[3]])}case 5:{return tab.Strings.ListLengthFive(lX.$7[e[0]],lX.$7[e[1]],lX.$7[e[2]],lX.$7[e[3]],lX.$7[e[4]])}case 6:{return tab.Strings.ListLengthSix(lX.$7[e[0]],lX.$7[e[1]],lX.$7[e[2]],lX.$7[e[3]],lX.$7[e[4]],lX.$7[e[5]])}case 7:{return tab.Strings.ListLengthSeven(lX.$7[e[0]],lX.$7[e[1]],lX.$7[e[2]],lX.$7[e[3]],lX.$7[e[4]],lX.$7[e[5]],lX.$7[e[6]])}default:{throw new ss.Exception('Unknown list length: '+e.length)}}},$3:function(e,ex){var pC=this.$9.scheduleDetails.recurrenceDayOfMonth;if(ex!==0){pC=this.$5(this.$9.scheduleDetails.recurrenceDayOfMonth,ex)}if(pC==='Last'){return tab.Strings.ScheduleMonthlyDescriptionLast(lX.$1(e))}else if(pC==='SecondToLast'){return tab.Strings.ScheduleMonthlyDescriptionSecondToLast(lX.$1(e))}var pD=pC.charCodeAt(pC.length-1);var pE='';if(pD===49){pE=tab.Strings.FirstEnding(pC)}else if(pD===50&&pC!=='12'){pE=tab.Strings.SecondEnding(pC)}else if(pD===51&&pC!=='13'){pE=tab.Strings.ThirdEnding(pC)}else{pE=tab.Strings.NumberEnding(pC)}return tab.Strings.ScheduleMonthlyDescription(pE,lX.$1(e))},$5:function(e,ex){var pC=new Date;var pD=(new Date(pC.getFullYear(),pC.getMonth()+1,0)).getDate();if(e==='Last'){if(ex>0){return'1'}else if(ex<0){return'SecondToLast'}else{return'Last'}}if(e==='1'&&ex<0){return'Last'}var pE=parseInt(e);var pF=ss.imod(pE+ex+pD,pD);return pF.toString()}},{$1:function(e){var ex=new Date;ex.setHours(ss.idiv(e,60));ex.setMinutes(ss.imod(e,60));ex.setSeconds(0);return ex.toLocaleTimeString()},$2:function(e,ex){var pC=e+ex;pC=ss.imod(pC,1440);if(pC<0){pC=1440+pC}return pC},$0:function(e,ex){var pC=e+ex;if(pC>1440){return 1}else if(pC<0){return-1}return 0}});var lY=global.tab.SchemaClientCommands=ss.mkType(a,'tab.SchemaClientCommands',null,null,{addFieldToSheet:function(e,ex){var pC={};pC['fn']=e;pC['worksheet']=tsConfig.current_sheet_name;var pD=jF.getVisualModel(bd.get_instance(),tsConfig.current_sheet_name);var pE=pD.get_marksCardModel().get_activePaneSpecId();if(ss.isValue(pE)){pC['paneSpec']=pE}var pF=cN.newCommand({ns:'tabdoc',cmd:'add-to-sheet'},pC);cw.SendCommand(kZ.create(pF,'immediately',function(pG){ex()},function(pG){ex()}))},validateFieldCaption:function(e,ex,pC){var pD={};pD['uniqueName']=e;pD['caption']=ex;var pE=cN.newCommand({ns:'tabdoc',cmd:'validate-field-caption'},pD);mp.executeServerCommand(pE,'none',function(pF){pC(pF)},null)},editFieldCaption:function(e,ex,pC){var pD={};pD['uniqueName']=e;pD['caption']=ex;var pE=cN.newCommand({ns:'tabdoc',cmd:'edit-schema-caption'},pD);cw.SendCommand(new co('none',function(pF){var pG=pF.makeMutablePresModel(pC.get_fieldsModel(),false);for(var pH=0;pH<pG.length;++pH){if(ss.referenceEquals(pG[pH].fn,e)){pG[pH].fieldCaption=ex;break}}},pE,null,null))},validateDrillPathName:function(e,ex,pC,pD){var pE={};pE['datasource']=e;if(ss.isValue(ex)){pE['drillPathName']=ex}pE['newDrillPath']=pC;var pF=cN.newCommand({ns:'tabdoc',cmd:'validate-drill-path-name'},pE);mp.executeServerCommand(pF,'afterDelay',function(pG){pD(pG)},null)},addDrillPath:function(e,ex,pC){var pD={};pD['datasource']=e;pD['newDrillPath']=ex;pD['fieldVector']=pC;var pE=cN.newCommand({ns:'tabdoc',cmd:'add-drill-path'},pD);mp.executeServerCommand(pE,'immediately',cN.createCommandRedirectSuccessHandler(null),null)},renameDrillPath:function(e,ex,pC){var pD={};pD['datasource']=e;pD['drillPathName']=ex;pD['newDrillPath']=pC;var pE=cN.newCommand({ns:'tabdoc',cmd:'rename-drill-path'},pD);mp.executeServerCommand(pE,'immediately',cN.createCommandRedirectSuccessHandler(null),null)},validateFieldFolderName:function(e,ex,pC,pD,pE){var pF={};pF['datasource']=e;if(ss.isValue(ex)){pF['fieldFolderName']=ex}pF['proposedName']=pC;pF['folderRole']=pD;var pG=cN.newCommand({ns:'tabdoc',cmd:'validate-schema-field-folder-name'},pF);mp.executeServerCommand(pG,'afterDelay',function(pH){pE(pH)},null)},addFieldFolder:function(e,ex,pC,pD,pE){var pF={};pF['datasource']=e;pF['newFieldFolderName']=ex;pF['fieldVector']=pC;pF['drillpathVector']=pD;pF['folderRole']=pE;var pG=cN.newCommand({ns:'tabdoc',cmd:'add-field-folder'},pF);mp.executeServerCommand(pG,'immediately',cN.createCommandRedirectSuccessHandler(null),null)},renameFieldFolder:function(e,ex,pC,pD){var pE={};pE['datasource']=e;pE['fieldFolderName']=ex;pE['proposedName']=pC;pE['folderRole']=pD;var pF=cN.newCommand({ns:'tabdoc',cmd:'validate-and-edit-schema-field-folder-name'},pE);mp.executeServerCommand(pF,'immediately',cN.createCommandRedirectSuccessHandler(null),null)},setActiveDataSourceName:function(e,ex){var pC={};pC['datasource']=e;var pD=(ex?{ns:'tabdoc',cmd:'set-active-data-source-name'}:{ns:'tabdoc',cmd:'set-active-datasource'});var pE=cN.newCommand(pD,pC);pE.commandParams['datasource']=e;var pF=bd.get_instance().get_workbook().get_uiMode()==='data-tab';var pG=null;if(pF){pG=function(pI){var pJ=pI.makeMutablePresModel(bd.get_instance().get_workbook().get_dataSchema(),false);pJ.datasource=e}}var pH=$.Deferred();cw.SendCommand(new co((pF?'none':'immediately'),pG,pE,function(pI){pH.resolve()},function(pI){pH.reject()}));return pH},dropOnSchemaDrillPath:function(e,ex,pC,pD){var pE=new eQ;pE.c['datasource']=e;pE.c['columns']=ex.filter(function(pG){return pG.get_isColumn()&&ss.referenceEquals(pG.get_dataSourceName(),e)}).map(function(pG){return pG.get_qualifiedLocalName()});pE.c['drillpathVector']=ex.filter(function(pG){return pG.get_isDrillPath()&&ss.referenceEquals(pG.get_dataSourceName(),e)}).map(function(pG){return pG.get_localName().toString()});pE.c['drillPathName']=pC.get_localName();pE.set_uiBlocking('immediately');var pF=pE;pF.invoke().done(function(pG){pD(pG.$$c['dropCommandModel'])})},dropOnSchemaField:function(e,ex,pC,pD){var pE=new eS;pE.c['datasource']=e;pE.c['columns']=ex.filter(function(pG){return pG.get_isColumn()&&ss.referenceEquals(pG.get_dataSourceName(),e)}).map(function(pG){return pG.get_qualifiedLocalName()});pE.c['drillpathVector']=ex.filter(function(pG){return pG.get_isDrillPath()&&ss.referenceEquals(pG.get_dataSourceName(),e)}).map(function(pG){return pG.get_localName().toString()});pE.c['fieldNameLocal']=pC.get_qualifiedLocalName();pE.set_uiBlocking('immediately');var pF=pE;pF.invoke().done(function(pG){pD(pG.$$c['dropCommandModel'])})},dropOnSchemaSection:function(e,ex,pC,pD,pE){var pF=new eU;pF.c['datasource']=e;pF.c['columns']=ex.filter(function(pH){return pH.get_isColumn()&&ss.referenceEquals(pH.get_dataSourceName(),e)}).map(function(pH){return pH.get_qualifiedLocalName()});pF.c['drillpathVector']=ex.filter(function(pH){return pH.get_isDrillPath()&&ss.referenceEquals(pH.get_dataSourceName(),e)}).map(function(pH){return pH.get_localName().toString()});pF.c['folderRole']=pC;pF.c['fieldFolderName']=pD;pF.set_uiBlocking('immediately');var pG=pF;pG.invoke().done(function(pH){pE(pH.$$c['dropCommandModel'])})},requestSchemaContextMenu:function(e,ex){var pC=cN.newCommand({ns:'tabdoc',cmd:'build-data-schema-context-menu'},null);var pD={};pD['datasource']=e;pC.commandParams=pD;cw.SendCommand(kZ.create(pC,'none',function(pE){ex(pE)},null))},requestSchemaMultipleFieldsContextMenu:function(e,ex,pC){var pD=new bv;pD.c['datasource']=e;pD.c['fieldNames']=ex;var pE=pD;pE.invoke().then(function(pF){pC(pF.$$c['commands'])},null)},requestSchemaFieldContextMenu:function(e,ex,pC){var pD=new bv;pD.c['datasource']=e;pD.c['fn']=ex;var pE=pD;pE.invoke().then(function(pF){pC(pF.$$c['commands'])},null)},requestDataTabFieldContextMenu:function(e,ex,pC){var pD=new bx;pD.c['datasource']=e;pD.c['fieldVector']=ex;var pE=pD;pE.invoke().then(pC)},requestSchemaFieldChangeDataTypeMenu:function(e,ex,pC){var pD=new bF;pD.c['datasource']=e;pD.c['fieldVector']=ex;var pE=pD;pE.invoke().then(pC)},requestSchemaDrillPathContextMenu:function(e,ex,pC){var pD=cN.newCommand({ns:'tabdoc',cmd:'build-data-schema-drill-path-context-menu'},null);var pE={};pE['datasource']=e;pE['drillPathName']=ex;pD.commandParams=pE;cw.SendCommand(kZ.create(pD,'none',function(pF){pC(pF)},null))},requestSchemaFieldFolderContextMenu:function(e,ex,pC,pD){var pE=cN.newCommand({ns:'tabdoc',cmd:'build-data-schema-field-folder-context-menu'},null);var pF={};pF['datasource']=e;pF['fieldFolderName']=ex;pF['folderRole']=pC;pE.commandParams=pF;cw.SendCommand(kZ.create(pE,'none',function(pG){pD(pG)},null))},requestSchemaDataSourceContextMenu:function(e,ex){var pC=cN.newCommand({ns:'tabdoc',cmd:'build-data-schema-data-source-context-menu'},null);var pD={};pD['datasource']=e;pD['allowSaveDataSource']=tsConfig.allow_save_data_source;pD['hasAllowAddNewDatasourceCapability']=tsConfig.allow_add_new_datasource;pD['isMobile']=tsConfig.is_mobile;pC.commandParams=pD;cw.SendCommand(kZ.create(pC,'none',function(pE){ex(pE)},null))},convertUnnamedFields:function(e){var ex=$.Deferred();var pC={};pC['fieldVector']=e;var pD=new kZ(cN.newCommand({ns:'tabdoc',cmd:'convert-unnamed-fields'},pC),'immediately',function(pE){ex.resolve(pE)},function(pE){ex.reject()});cw.SendCommand(pD);return ex.promise()},toggleFieldBlending:function(e,ex){var pC=$.Deferred();var pD={};pD['globalFieldName']=e;pD['worksheet']=tsConfig.current_sheet_name;var pE=new co('immediately',ex,cN.newCommand({ns:'tabdoc',cmd:'toggle-field-blending'},pD),function(pF){pC.resolve(pF)},function(pF){pC.reject()});cw.SendCommand(pE);return pC.promise()},renameDataSource:function(e,ex,pC){if(ss.isNullOrEmptyString(e)){return}var pD={};pD['datasource']=e;pD['newDatasource']=ex;var pE=function(pG){var pH=bd.get_instance().get_workbook().get_dataSchema().findDataSourceByName(e);var pI=pG.makeMutablePresModel(pH,false);pI.datasourceCaption=ex};var pF=new co('none',pE,cN.newCommand({ns:'tabdoc',cmd:'rename-data-source'},pD),null,function(pG){pC()});cw.SendCommand(pF)},getHasUnusedFiles:function(e){var ex=new gM;var pC=function(pD){e(pD.$$c['bool'])};ex.invoke().then(pC)}});var lZ=global.tab.SchemaCommandLocalOptions=ss.mkType(a,'tab.SchemaCommandLocalOptions',null,null,{$0:function(){var e=function(pE){return function(pF){var pG=ss.safeCast(pE['datasource'],String);var pH=ss.safeCast(pE['newDatasource'],String);var pI=bd.get_instance().get_workbook().get_dataSchema().findDataSourceByName(pG);var pJ=pF.makeMutablePresModel(pI,false);pJ.datasourceCaption=pH}};var ex=oY.get_instance();var pC={ns:'tabdoc',cmd:{ns:'tabdoc',cmd:'rename-data-source'}.cmd};var pD=new cD;pD.localWorkFactory=e;pD.blocking='none';ex.registerCommandLocalOptions(pC,pD)},$1:function(){var e=bd.get_instance().get_workbook().get_uiMode()==='data-tab';var ex=null;if(e){ex=function(pF){return function(pG){var pH=ss.safeCast(pF['datasource'],String);var pI=pG.makeMutablePresModel(bd.get_instance().get_workbook().get_dataSchema(),false);pI.datasource=pH}};var pC=oY.get_instance();var pD={ns:'tabdoc',cmd:{ns:'tabdoc',cmd:'set-active-data-source-name'}.cmd};var pE=new cD;pE.localWorkFactory=ex;pE.blocking='none';pC.registerCommandLocalOptions(pD,pE)}}});var ma=global.tab.SchemaUtils=ss.mkType(a,'tab.SchemaUtils',null,null,{getDataSourceNames:function(e){return _.map(e.get_dataSources(),function(ex){return ex.get_caption().toString()})},isValidNewDatasourceCaption$1:function(e,ex,pC){var pD=ma.getDataSourceNames(ex);return ma.isValidNewDatasourceCaption(e.get_caption(),pD,pC)},isValidNewDatasourceCaption:function(e,ex,pC){pC=(!ss.isNullOrEmptyString(pC)?pC.trim():null);return!(ss.isNullOrEmptyString(pC)||ss.referenceEquals(pC,e)||pC.toString().length>254||ss.contains(ex,pC))}});var mb=global.tab.SelectByTupleValueCmd=ss.mkType(a,'tab.SelectByTupleValueCmd',function(){ss.makeGenericType(bl,[Object,mc]).call(this)},{get_commandId:function(){return mb.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'select-by-tuple-value'},this.c))}});var mc=global.tab.SelectByTupleValueCmd$Response=ss.mkType(a,'tab.SelectByTupleValueCmd$Response',function(e){this.$$c=null;this.$$c=e});var md=global.tab.SelectDataServerDataSourceForProxyCmd=ss.mkType(a,'tab.SelectDataServerDataSourceForProxyCmd',function(){ss.makeGenericType(bl,[Object,me]).call(this)},{get_commandId:function(){return md.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabsrv',cmd:'select-dataserver-data-source-for-proxy'},this.c))}});var me=global.tab.SelectDataServerDataSourceForProxyCmd$Response=ss.mkType(a,'tab.SelectDataServerDataSourceForProxyCmd$Response',function(e){this.$$c=null;this.$$c=e});var mf=global.tab.SelectExtensionAndAddToDashboardCmd=ss.mkType(a,'tab.SelectExtensionAndAddToDashboardCmd',function(){ss.makeGenericType(bl,[Object,mg]).call(this)},{get_commandId:function(){return mf.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'select-extension-and-add-to-dashboard'},this.c))}});var mg=global.tab.SelectExtensionAndAddToDashboardCmd$Response=ss.mkType(a,'tab.SelectExtensionAndAddToDashboardCmd$Response',function(e){this.$$c=null;this.$$c=e});var mh=global.tab.SelectionClientCommands=ss.mkType(a,'tab.SelectionClientCommands',function(){},null,{$u:function(){return tab.Logger.lazyGetLogger(mh)},setActiveZone:function(e,ex,pC){if(!tsConfig.allow_select){return}if(jF.isActiveZone(e)&&!jF.isMultiSelectFeatureEnabled(jF.findContentDashboard(null))){return}cw.SendCommand(mh.$5(e,pC,ex))},setActiveZones:function(e,ex){if(!tsConfig.allow_select){return}if(!jF.isMultiSelectFeatureEnabled(jF.findContentDashboard(null))){return}var pC=new my;pC.c['dashboard']=tsConfig.current_sheet_name;pC.c['dashboardPm']=jF.findContentDashboard(null).pm.sheetPath;pC.c['zoneIds']=e;pC.invoke()},clearActiveZone:function(){mh.setActiveZone(0,'replace',null)},updateShowMeCommandsForSelectedFields:function(e,ex,pC){var pD={};pD['fieldVector']=e;pD['worksheet']=tsConfig.current_sheet_name;pD['datasource']=ex;var pE=cN.newCommand({ns:'tabdoc',cmd:'get-show-me'},pD);cw.SendCommand(kZ.create(pE,'none',function(pF){pC(pF)},function(pF){pC(null)}))},toggleLegendHighlight:function(e,ex,pC,pD,pE){if(!tsConfig.allow_highlight){return}var pF=mh.$b(ex,pC,pD,pE,e);cw.SendCommand(pF)},selectRectRegionAndDoUbertip$1:function(e,ex,pC,pD,pE,pF,pG,pH){if(!tsConfig.allow_select){return}var pI=mh.$j(ex,e,pC,pD,pF,pG,pH);var pJ=cN.newCommand({ns:'tabsrv',cmd:'select-region-no-return-server'},pI);mh.$l(pE,pJ)},selectRectRegionAndDoUbertip:function(e,ex,pC,pD,pE,pF){if(!tsConfig.allow_select){return}var pG=mh.$i(ex,e,pC,pD,pF);var pH=cN.newCommand({ns:'tabsrv',cmd:'select-region-no-return-server'},pG);mh.$l(pE,pH)},selectCircleRegionAndDoUbertip:function(e,ex,pC,pD,pE,pF,pG){if(!tsConfig.allow_select){return}var pH=mh.$i(ex,e,pD,pE,null);mh.$2(pH,pC,pG);var pI=cN.newCommand({ns:'tabsrv',cmd:'select-radial-region-no-return-server'},pH);mh.$l(pF,pI)},selectCircleRegionAndDoUbertip$1:function(e,ex,pC,pD,pE,pF,pG,pH,pI){if(!tsConfig.allow_select){return}var pJ=mh.$j(ex,e,pD,pE,pH,pI,null);mh.$2(pJ,pC,pG);var pK=cN.newCommand({ns:'tabsrv',cmd:'select-radial-region-no-return-server'},pJ);mh.$l(pF,pK)},selectPolyRegionAndDoUbertip:function(e,ex,pC,pD,pE,pF){if(!tsConfig.allow_select){return}var pG=mh.$i(ex,e,pD,pE,null);mh.$3(pG,pC);var pH=cN.newCommand({ns:'tabsrv',cmd:'select-lasso-region-no-return-server'},pG);mh.$l(pF,pH)},selectPolyRegionAndDoUbertip$1:function(e,ex,pC,pD,pE,pF,pG,pH){if(!tsConfig.allow_select){return}var pI=mh.$j(ex,e,pD,pE,pG,pH,null);mh.$3(pI,pC);var pJ=cN.newCommand({ns:'tabsrv',cmd:'select-lasso-region-no-return-server'},pI);mh.$l(pF,pJ)},clearAllSelections:function(e){if(!tsConfig.allow_select){return}var ex=jF.getZoneIdForSheetName(e.worksheet);if(ex!==-1&&!jF.isActiveZone(ex>>>0)){mh.setActiveZone(ex>>>0,'replace',null);return}var pC=mh.$7(e);cw.SendCommand(pC)},selectLegendItemsLocal:function(e,ex,pC,pD,pE,pF,pG,pH){if(mh.$m(tab.MiscUtil.isNullOrEmpty$3(pC),pG)){return false}var pI=mh.buildSelectLegendItemsLocalCommand(e,ex,pC,pD,pE,pF,pH);cw.SendCommand(pI);return true},selectLegendItemsRemote:function(e,ex,pC,pD,pE,pF,pG){if(mh.$m(ex.length===0,pF)){return false}var pH=mh.$8(e,ex,pC,pD,pE,pG);cw.SendCommand(pH);return true},clearHighlighting:function(e,ex,pC,pD){var pE=cN.newCommand({ns:'tabdoc',cmd:'clear-highlighting'},null);var pF={};cN.addVisualIdToCommand(pF,pC);pF['fn']=ex;pE.commandParams=pF;var pG=new co('none',function(pH){if(pD){mh.$e(pH,pC);mh.$n([],e,jF.getVisualModelFromVisualId(pC,null),pH)}},pE,null,null);cw.SendCommand(pG)},highlightItems:function(e,ex,pC,pD,pE){var pF=cN.newCommand({ns:'tabdoc',cmd:'highlight-items'},null);var pG={};cN.addVisualIdToCommand(pG,pD);pG['fn']=ex;pG['objectIds']=pC;pF.commandParams=pG;var pH=new co('none',function(pI){if(pE){if(pC.length===0){mh.$e(pI,pD)}mh.$n(pC,e,jF.getVisualModelFromVisualId(pD,null),pI)}},pF,null,null);cw.SendCommand(pH)},selectNode:function(e,ex,pC,pD,pE,pF,pG,pH){if(!tsConfig.allow_select){return}var pI=mh.$9(e,ex,pC,pD,pE,pF,pG,pH);cw.SendCommand(pI)},selectMarksLocal:function(e,ex,pC,pD,pE,pF){if(!tsConfig.allow_select){return}if(bd.get_instance().get_isOffline()){var pG=mh.buildSelectMarksLocalCommand(e,ex,pC,pD,null,pF);cw.SendCommand(pG);pE();tabBootstrap.ViewerBootstrap.get_instance().apiResponder.sendEventNotification('api.MarksSelectionChangedEvent',ex.worksheet,null)}else{var pH=mh.buildSelectMarksLocalCommand(e,ex,pC,pD,pE,pF);cw.SendCommand(pH)}},selectRefLinesLocal:function(e,ex,pC,pD,pE){if(!tsConfig.allow_select){return}if(bd.get_instance().get_isOffline()){var pF=mh.$a(e,ex,pC,null,pE);cw.SendCommand(pF);pD()}else{var pG=mh.$a(e,ex,pC,pD,pE);cw.SendCommand(pG)}},buildSelectMarksLocalCommand:function(e,ex,pC,pD,pE,pF){var pG=jF.getZoneIdForSheetName(ex.worksheet);var pH=jF.getVisualModelFromVisualId(ex,null);var pI=pH.get_selectionsModel();var pJ=pI.tupleSelection;var pK=R.computeCommandBlockingOptionForLocallyRenderedSelection(ex);var pL;if(tab.FeatureFlags.isEnabled('RuntimeUnifySelectionCommands')){pL=cN.newCommand({ns:'tabdoc',cmd:'select-mark'},mh.$k(e,'tuples',pC,ex,pG>>>0,pF))}else{pL=cN.newCommand({ns:'tabdoc',cmd:'select'},mh.$k(e,'tuples',pC,ex,pG>>>0,pF))}var pM=pG!==-1&&!jF.isActiveZone(pG>>>0);var pN=pM||!bd.get_instance().get_isTableCalcHighlightingMode();var pO=function(pQ){if(pM){mh.setActiveZoneLocal(pG>>>0,pQ,pF)}if(bd.get_instance().get_isTableCalcHighlightingMode()){return}var pR=mn.resolveMarkSelection(pC,e,pJ,pD);var pS=pQ.makeMutablePresModel(pJ,false);pS.objectIds=pR;if(pC!=='toggle'&&pC!=='range'){mh.$f(pQ,pI.nodeSelection,pH)}var pT=pI.get_allLegendSelections();for(var pU=0;pU<pT.length;pU++){var pV=pT[pU];mh.$f(pQ,pV,pH)}mh.$c(pQ,ex,true);var pW=pH.getEffectiveSelectedTuples(pR);R.executeActions(ex,'on-select',pW,pQ,true);mh.updateInstantRefLineLocal(pH,pQ,pW)};var pP=new co(pK,(pN?pO:null),pL,function(pQ){if(ss.isValue(pE)){pE()}},null);return pP},$a:function(e,ex,pC,pD,pE){var pF=jF.getZoneIdForSheetName(ex.worksheet);var pG=cN.newCommand({ns:'tabdoc',cmd:'select'},mh.$k(e,'ref-lines',pC,ex,pF>>>0,pE));var pH=pF!==-1&&!jF.isActiveZone(pF>>>0);var pI=function(pK){if(pH){mh.setActiveZoneLocal(pF>>>0,pK,pE)}var pL=jF.getVisualModelFromVisualId(ex,null);var pM=pL.get_selectionsModel().refLineSelection;var pN=mn.resolveRefLineSelection(pC,e,pM);mh.clearAllIncludingMasterSelection(pK);R.executeActions(ex,'on-select',[],pK,true);var pO=pK.makeMutablePresModel(pM,false);pO.objectIds=pN};var pJ=new co('none',pI,pG,function(pK){if(ss.isValue(pD)){pD()}},null);return pJ},$7:function(e){var ex={};cN.addVisualIdToCommand(ex,e);var pC=cN.newCommand({ns:'tabsrv',cmd:'select-none'},ex);var pD=new co((bd.get_instance().get_isLocalRenderMode()?'none':'afterDelay'),function(pE){if(bd.get_instance().get_isLocalRenderMode()){var pF=mh.clearAllIncludingMasterSelection(pE);if(pF){R.executeActions(e,'on-select',[],pE,true);mh.$d(jF.getVisualModelFromVisualId(e,null),pE)}}},pC,null,null);return pD},$1:function(e,ex){if(ss.isNullOrUndefined(e)||!e.get_isBrushingComputed()){return}var pC=jF.getVisualModels(bd.get_instance());var pD=_.keys(pC);for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];if(!e.hasBrushingForSheet(pF)){continue}var pG=pC[pF];mh.$s(e,ex,pG,pF);mh.$r(e,ex,pG,pF);mh.$q(e,ex,pG,pF);var pH=e.getLegendBrushing(pF);var pI=pG.get_brushingsModel().get_allLegendSelections();for(var pJ=0;pJ<pI.length;pJ++){var pK=pI[pJ];mh.$o(ex,pK,pH)}}},$o:function(e,ex,pC){var pD=ex.get_selectionPresModel().legendSelectionInfo;var pE=[];var pF=bs.$0(pD.legendType,pD.legendColumns);if(ss.isValue(pC[pF])){pE=pC[pF]}if(pE.length!==0||ex.get_selectionPresModel().objectIds.length!==0){var pG=e.makeMutablePresModel(ex,false);pG.objectIds=pE}},$q:function(e,ex,pC,pD){var pE=e.getNodeBrushing(pD);if(pE.length!==0||!pC.get_brushingsModel().nodeSelection.isEmpty){var pF=ex.makeMutablePresModel(pC.get_brushingsModel().nodeSelection,false);pF.selectedNodes=pE}},$r:function(e,ex,pC,pD){var pE=pC.get_brushingsModel().trendLineSelection;var pF=e.getTrendlineBrushing(pD);if(pF.length!==0||pE.get_selectionPresModel().objectIds.length!==0){var pG=ex.makeMutablePresModel(pE,false);pG.objectIds=pF}},$s:function(e,ex,pC,pD){var pE=e.getTupleBrushing(pD);if(pE.length!==0||pC.get_brushingsModel().tupleSelection.get_selectionPresModel().objectIds.length!==0){var pF=ex.makeMutablePresModel(pC.get_brushingsModel().tupleSelection,false);pF.objectIds=pE;mh.updateInstantRefLineLocal(pC,ex,pE)}},$0:function(e){var ex=jF.getVisualModels(bd.get_instance());var pC=ss.getEnumerator(Object.keys(ex));try{while(pC.moveNext()){var pD=pC.current();var pE=ex[pD];if(pE.get_brushingsModel().get_isEmpty()){continue}var pF=e.makeMutablePresModel(pE.get_brushingsModel().tupleSelection,false);pF.objectIds=[];var pG=e.makeMutablePresModel(pE.get_brushingsModel().nodeSelection,false);pG.selectedNodes=[];var pH=pE.get_brushingsModel().get_allLegendSelections();for(var pI=0;pI<pH.length;pI++){var pJ=pH[pI];if(pJ.isEmpty){continue}var pK=e.makeMutablePresModel(pJ,false);var pL=[];pK.objectIds=pL}mh.$d(pE,e)}}finally{pC.dispose()}},$6:function(e,ex,pC){var pD=cN.newCommand({ns:'tabdoc',cmd:'set-active-zone'},null);var pE={};pE['dashboardPm']=pC||jF.findContentDashboard(null).pm.sheetPath;pE['zoneId']=e;var pF=jF.findContentDashboard(null).pm;if(ss.isValue(pF)&&pF.isFlexibleLayout){if(jF.findContentDashboard(null).pm.activeZoneIds.length===0){pE['zoneSelectionType']='replace'}else{pE['zoneSelectionType']=ex}}pD.commandParams=pE;return pD},$n:function(e,ex,pC,pD){var pE=pC.get_vizDataModel();if(ss.isNullOrUndefined(pE)){return}var pF=pE.getVizDataField(ex.get_fieldName());var pG=[pF.get_fieldCaption()];var pH=bs.createBrushingComputer(ex,pC,e,pG,true);mh.$1(pH,pD)},$p:function(e,ex,pC,pD){var pE=null;if(ex.get_isHighlightEnabled()){pE=bs.createBrushingComputer(ex,pC,e,ex.get_fieldCaptions(),ex.get_isOneWay())}mh.$1(pE,pD)},$c:function(e,ex,pC){var pD=false;var pE=jF.getVisualModels(bd.get_instance());var pF=ss.getEnumerator(Object.keys(pE));try{while(pF.moveNext()){var pG=pF.current();var pH=!ss.isNullOrUndefined(ex)&&ss.referenceEquals(pG,ex.worksheet);if(!pC||!pH){var pI=jF.findContentDashboard(null);var pJ=!pC&&pH||!R.isWorksheetSourceOfASelectTriggeredFilterAction(pI,pG);var pK=pE[pG];var pL=pK.get_selectionsModel().selectionModels;for(var pM=0;pM<pL.length;pM++){var pN=pL[pM];if(pJ||pN.get_selectionType()!=='tuples'&&pN.get_selectionType()!=='nodes'){pD=mh.$g(e,pN,true)||pD}}}}}finally{pF.dispose()}return pD},clearAllIncludingMasterSelection:function(e){var ex=false;var pC=jF.getVisualModels(bd.get_instance());var pD=ss.getEnumerator(Object.keys(pC));try{while(pD.moveNext()){var pE=pD.current();var pF=pC[pE];var pG=pF.get_selectionsModel().selectionModels;for(var pH=0;pH<pG.length;pH++){var pI=pG[pH];ex=mh.$g(e,pI,true)||ex}}}finally{pD.dispose()}return ex},$j:function(e,ex,pC,pD,pE,pF,pG){var pH=mh.$i(e,ex,pC,pD,pG);pH['zoneId']=pF;pH['zoneSelectionType']=pE;return pH},$i:function(e,ex,pC,pD,pE){var pF={};cN.addVisualIdToCommand(pF,pD);var pG=new Object;var pH=oO.create(pG);pH.set_x(Math.round(e.x));pH.set_y(Math.round(e.y));pH.set_w(Math.round(e.w||0));pH.set_h(Math.round(e.h||0));pH.set_r(ex);if(ss.isValue(pE)){pH.set_fns(pE)}pF['vizRegionRect']=pG;pF['mouseAction']=pC;return pF},$2:function(e,ex,pC){var pD={};pD.center={};pD.center.x=Math.round(ex.center.x);pD.center.y=Math.round(ex.center.y);pD.radius=Math.round(ex.radius);e['radialSelection']=pD;e['radialDistanceHitTest']=pC},$3:function(e,ex){var pC=ex.length;var pD=new Array(pC);for(var pE=0;pE<pC;pE++){var pF={};pF.x=Math.round(ex[pE].x);pF.y=Math.round(ex[pE].y);pD[pE]=pF}e['lassoSelection']=pD},$h:function(e,ex,pC,pD,pE,pF){var pG={};cN.addVisualIdToCommand(pG,ex);pG['legendNames']=pC.get_legendNames();pG['legendType']=pD;pG['objectIds']=e;pG['zoneId']=pE;pG['zoneSelectionType']=pF;return pG},$f:function(e,ex,pC){if(ss.isValue(ex)){mh.$g(e,ex,false);if(ex.get_selectionType()==='nodes'){pC.$1(e.modelUpdateContext)}}},$k:function(e,ex,pC,pD,pE,pF){var pG={};if(ss.isValue(pD)){cN.addVisualIdToCommand(pG,pD)}var pH={objectIds:e,selectionType:ex};pG['selection']=pH;pG['selectOptions']=mh.$v[pC];pG['zoneId']=pE;pG['zoneSelectionType']=pF;return pG},setActiveZoneLocal:function(e,ex,pC){var pD=jF.findContentDashboard(null);if(ss.isNullOrUndefined(pD)||ss.isNullOrUndefined(pD.pm)){return}var pE=ex.makeMutablePresModel(pD,false);if(tab.FeatureFlags.isEnabled('FlexibleDashboard')&&pE.isFlexibleLayout){if(pC==='addorremove'){if(ss.contains(pE.activeZoneIds,e)){pE.activeZoneIds=Array.prototype.slice.call(tab.ListExtensions.where(ss.UInt32).call(null,pE.activeZoneIds,function(pF){return pF!==e}))}else{pE.activeZoneIds=pE.activeZoneIds.concat([e])}}else if(pC==='addorkeep'){if(!ss.contains(pE.activeZoneIds,e)){pE.activeZoneIds=pE.activeZoneIds.concat([e])}}else if(pC==='replace'){pE.activeZoneIds=[e]}}else if(tab.FeatureFlags.isEnabled('FlexibleDashboard')){pE.activeZoneIds=[e]}else{pE.activeZoneId=e}},$g:function(e,ex,pC){if(ex.isEmpty){return false}var pD=e.makeMutablePresModel(ex,false);pD.objectIds=[];pD.selectedNodes=[];if(pC){ex.setOverriddenTupleIds([],e.modelUpdateContext)}return true},$b:function(e,ex,pC,pD,pE){var pF=!jF.isActiveZone(pE);var pG={};pG['r']=ex;pG['legendNames']=pC;cN.addVisualIdToCommand(pG,e);if(pF){mh.$4(pE,pG)}var pH=cN.newCommand({ns:'tabsrv',cmd:'toggle-legend-server'},pG);var pI=function(pJ){if(ss.isValue(pD)){pD(pJ)}};return new co('immediately',function(pJ){if(pF){mh.setActiveZoneLocal(pE,pJ,'replace')}},pH,pI,null)},$4:function(e,ex){ex['dashboardPm']=jF.findContentDashboard(null).pm.sheetPath;ex['zoneId']=e},$l:function(e,ex){ex.commandNamespace='tabsrv';var pC=new co('afterDelay',null,ex,function(){e()},null);cw.SendCommand(pC)},$e:function(e,ex){var pC=jF.getVisualModelFromVisualId(ex,null);var pD=pC.get_selectionsModel();var pE=pD.get_allLegendSelections();for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];mh.$g(e,pG,false)}mh.$d(pC,e)},buildSelectLegendItemsLocalCommand:function(e,ex,pC,pD,pE,pF,pG){var pH=jF.getVisualModelFromVisualId(pD,null);var pI=pH.get_selectionsModel();var pJ=pI.getLegendSelection(pF,pE.get_legendNames());var pK=mn.resolveLegendSelection(ex,pC,pE,pJ);var pL=cN.newCommand({ns:'tabdoc',cmd:'select-legend-items'},mh.$h(pK,pD,pE,pF,e,pG));var pM=new co('none',ss.mkdel(this,function(pN){mh.setActiveZoneLocal(e,pN,pG);if(!pJ.isAnyLegendItemSelected()&&pK.length===0&&!jF.isActiveZone(e)){return}var pO=pN.makeMutablePresModel(pJ,false);pO.objectIds=pK;pO.legendSelectionInfo={legendType:pE.get_legendTypeEnum(),legendColumns:pE.get_legendNames()};mh.$f(pN,pI.tupleSelection,pH);mh.$f(pN,pI.nodeSelection,pH);var pP=pI.get_allLegendSelections();for(var pQ=0;pQ<pP.length;pQ++){var pR=pP[pQ];if(!ss.referenceEquals(pR,pJ)){mh.$f(pN,pR,pH)}}mh.$c(pN,pD,true);mh.$p(pK,pE,pH,pN)}),pL,null,null);return pM},$8:function(e,ex,pC,pD,pE,pF){var pG=cN.newCommand({ns:'tabdoc',cmd:'select-legend-items'},mh.$h(ex,pC,pD,pE,e,pF));return new co('none',null,pG,null,null)},$m:function(e,ex){if(!tsConfig.allow_select){return true}if(e&&!ex){return true}return false},$9:function(e,ex,pC,pD,pE,pF,pG,pH){var pI=jF.getZoneIdForSheetName(pF.worksheet);var pJ=jF.getVisualModelFromVisualId(pF,null);var pK=pJ.get_selectionsModel();var pL=pK.nodeSelection;var pM=R.computeCommandBlockingOptionForLocallyRenderedSelection(pF);var pN=2;var pO=null;if(ss.isValue(pE.extentsWidth)&&ss.isValue(pE.extentsHeight)){var pP=pE.extentsX||0;var pQ=pE.extentsY||0;pO={x:pP,y:pQ,w:pE.extentsWidth,h:pE.extentsHeight}}var pR=tab.RectXYUtil.shiftCoordsTowardsCenter(ex,pO,pN);var pS={x:pR.x,y:pR.y,w:0,h:0};var pT=cN.newCommand({ns:'tabsrv',cmd:'select-region-no-return-server'},null);pT.commandParams=mh.$i(pS,e,pC,pF,null);pT.commandParams['zoneSelectionType']=(pH?'addorremove':'replace');var pU=pI!==-1&&!jF.isActiveZone(pI>>>0);if(pU){mh.$4(pI>>>0,pT.commandParams)}var pV=pU||!bd.get_instance().get_isTableCalcHighlightingMode();var pW=function(pY){if(pU){var pZ=(pH?'addorremove':'replace');mh.setActiveZoneLocal(pI>>>0,pY,pZ)}if(bd.get_instance().get_isTableCalcHighlightingMode()){return}var qa=pY.makeMutablePresModel(pL,false);mn.resolveNodeSelection(pC,pD.get_groupItemNodes(),pE,pL,qa);var qb=pC!=='toggle'&&pC!=='range';var qc=pK.tupleSelection.get_ids();if(qb){mh.$f(pY,pK.tupleSelection,pJ);qc=[]}var qd=pK.get_allLegendSelections();for(var qe=0;qe<qd.length;qe++){var qf=qd[qe];mh.$f(pY,qf,pJ)}mh.$c(pY,pF,true);pJ.$3(qa.selectedNodes,pY.modelUpdateContext);var qg=pJ.getEffectiveSelectedTuples(qc);R.executeActions(pF,'on-select',qg,pY,true);mh.updateInstantRefLineLocal(pJ,pY,qg)};var pX=new co(pM,(pV?pW:null),pT,function(){if(ss.isValue(pG)){pG()}},null);return pX},$5:function(e,ex,pC){var pD=new co('none',function(pE){mh.setActiveZoneLocal(e,pE,pC)},mh.$6(e,pC,ex),null,null);return pD},$d:function(e,ex){mh.updateInstantRefLineLocal(e,ex,[])},updateInstantRefLineLocal:function(e,ex,pC){if(!tab.FeatureFlags.isEnabled('RuntimeInstantRefLine')||!tab.FeatureFlags.isEnabled('RuntimeWebInstantRefLine')){return}var pD=function(pE){var pF=new tab.RuePacker;pF.addInt64Array((new tab.LayoutInputStoreKeys).selectionData().tupleSelection().toString(),tab.RuePacker.uInt32ArrayToInt64Array(pC));return tab.RuntimeWebModule.proxy.rueUpdateCommandHex(pE.get_VM(),tab.HexEncoder.encodeBufferToHex(pF.pack()))};e.updateRuntimeHandles(ex,1,pD)}});var mi=global.tab.SelectionModel=ss.mkType(a,'tab.SelectionModel',function(e,ex){this.$7=null;this.$a=null;this.$9=null;this.$8=null;this.$2$1=null;this.isEmpty=false;jC.call(this,e,new kA(ex.toString(),null));this.isEmpty=true},{add_newSelection:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelection:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_selectionPresModel:function(){if(ss.isValue(this.$7)){var e={};e.selectionType='tuples';e.objectIds=this.$7;return e}return this.$6()},get_selectionType:function(){return this.$6().selectionType},get_nodes:function(){return this.$6().selectedNodes},get_ids:function(){if(ss.isValue(this.$7)){return this.$7}return this.$6().objectIds},get_hashKey:function(){var e=this.get_selectionType().toString();if(this.get_selectionType()==='legend-items'){e+='-'+this.get_selectionPresModel().legendSelectionInfo.legendType+':'+this.get_selectionPresModel().legendSelectionInfo.legendColumns.join(';')}return e},$6:function(){return this.pm},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},isObjectSelected:function(e){if(ss.isNullOrUndefined(this.$6())){return false}if(ss.isNullOrUndefined(this.get_ids())){return false}return ss.contains(this.get_ids(),e)},isLegendItemSelected:function(e){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isNullOrUndefined(this.$8)){this.$8={};if(ss.isValue(this.get_ids())){var ex=this.get_ids();for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];this.$8[pD]=true}}}return ss.keyExists(this.$8,e.objectId)},isAnyLegendItemSelected:function(){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isValue(this.get_ids())){return this.get_ids().length>0}return false},isNodeSelected$1:function(e){if(this.isEmpty||ss.isNullOrUndefined(e)){return false}return ss.isValue(this.$1(e))},isNodeSelected$2:function(e,ex,pC){if(ss.isNullOrUndefined(this.$9)){this.$9=new Set;var pD=this.$6();if(ss.isValue(pD.selectedNodes)){for(var pE=0;pE<pD.selectedNodes.length;pE++){var pF=pD.selectedNodes[pE];this.$9.add(this.$3(pF.nodeHash,pF.axisOrientation,(ss.isValue(pF.pageIndex)?pF.pageIndex:0)))}}}return this.$9.size!==0&&this.$9.has(this.$3(e,ex,pC))},isNodeSelected:function(e){return this.isNodeSelected$1(e.node)},findNodeSelection:function(e){return this.$1(e.node)},isNodeAncestorSelected:function(e){if(ss.isNullOrUndefined(e.node)||ss.isNullOrUndefined(e.node.columnIndices)){return false}var ex=e.node;var pC=ex.columnIndices;var pD=ex.aliasIndices;for(var pE=0;pE<ex.columnIndices.length;pE++){var pF=ss.arrayExtract(pC,pE);var pG=ss.arrayExtract(pD,pE);if(ss.isValue(this.$2(pF,pG,ex.axisOrientation,null,ex.duplicateIndex,ex.pageIndex))){return true}}return false},setOverriddenTupleIds:function(e,ex){if(this.$6().selectionType!=='tuples'){return}if(_.isEqual(this.$7,e)||tab.MiscUtil.isNullOrEmpty(this.$7)&&tab.MiscUtil.isNullOrEmpty(e)){return}this.$7=e;this.$5();this.raiseEvent(this.$2$1,ex)},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)&&ss.isNullOrUndefined(this.$7)){return}this.$a=null;this.$9=null;this.$8=null;this.$7=null;this.swapAndCopyPresModel(e);this.$5();this.raiseEvent(this.$2$1,ex)},isNewPresModelSameAsOld:function(e){if(ss.isNullOrUndefined(this.pm)!==ss.isNullOrUndefined(e)){return false}var ex=e;if(ex.selectionType!==this.get_selectionPresModel().selectionType){return false}if(ss.isValue(ex.objectIds)&&!_.isEqual(ex.objectIds,this.get_selectionPresModel().objectIds)){return false}if(ss.isValue(ex.selectedNodes)&&!_.isEqual(ex.selectedNodes,this.get_selectionPresModel().selectedNodes)){return false}if(ss.isValue(ex.legendSelectionInfo)&&!_.isEqual(ex.legendSelectionInfo,this.get_selectionPresModel().legendSelectionInfo)){return false}return true},$3:function(e,ex,pC){var pD=new ss.StringBuilder;pD.append(e);pD.append(':');pD.append(ex);pD.append(':');pD.append(pC);return pD.toString()},$4:function(e,ex,pC,pD){return ss.isValue(e.nodeHash)&&e.nodeHash===pC&&ss.isValue(e.axisOrientation)&&e.axisOrientation===ex&&(!ss.isValue(e.pageIndex)&&pD===0||ss.isValue(e.pageIndex)&&e.pageIndex===pD)},$1:function(e){return this.$2(e.columnIndices,e.aliasIndices,e.axisOrientation,e.fn,e.duplicateIndex,e.pageIndex)},$2:function(e,ex,pC,pD,pE,pF){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(ex)&&ss.isNullOrUndefined(pD)&&ss.isNullOrUndefined(pC)){return null}if(ss.isNullOrUndefined(this.$a)){this.$a={};var pG=this.$6();if(ss.isValue(pG.selectedNodes)){for(var pH=0;pH<pG.selectedNodes.length;pH++){var pI=pG.selectedNodes[pH];this.$a[mi.$0(pI.columnIndices,pI.aliasIndices,pI.axisOrientation,pI.fn,pI.duplicateIndex,pI.pageIndex)]=pI}}}if(ss.getKeyCount(this.$a)===0){return null}return this.$a[mi.$0(e,ex,pC,pD,pE,pF)]},createSelectionToken:function(){return this.get_selectionPresModel()},$5:function(){this.isEmpty=tab.MiscUtil.isNullOrEmpty(this.get_ids())&&tab.MiscUtil.isNullOrEmpty(this.$6().selectedNodes)}},{$0:function(e,ex,pC,pD,pE,pF){var pG=new ss.StringBuilder;if(ss.isValue(e)){pG.append(e.join(';'))}pG.append('=');if(ss.isValue(ex)){pG.append(ex.join(';'))}pG.append('=');if(ss.isValue(pC)){pG.append(pC)}pG.append('=');if(ss.isValue(pD)){pG.append(pD);pG.append('+');if(ss.isValue(pE)){pG.append(pE)}}pG.append('=');if(ss.isValue(pF)){pG.append(pF)}return pG.toString()}});var mj=global.tab.SelectionsDifference=ss.mkType(a,'tab.SelectionsDifference',function(e,ex,pC){this.$1$1=false;this.$1$2=0;this.$1$3=null;this.set_invalidateViz(e);this.set_reason(ex);this.set_objectIds(pC||[])},{get_invalidateViz:function(){return this.$1$1},set_invalidateViz:function(e){this.$1$1=e},get_reason:function(){return this.$1$2},set_reason:function(e){this.$1$2=e},get_objectIds:function(){return this.$1$3},set_objectIds:function(e){this.$1$3=e}},{noDifference:function(){return new mj(false,0,null)}});var mk=global.tab.SelectionsDiffReason=ss.mkEnum(a,'tab.SelectionsDiffReason',{none:0,noPreviousToCompare:1,differentTuples:2,differentTrendOrRefLines:3});var ml=global.tab.SelectionsModel=ss.mkType(a,'tab.SelectionsModel',function(e,ex){this.$2$1=null;this.selectionModels=null;this.tupleSelection=null;this.nodeSelection=null;this.refLineSelection=null;this.trendLineSelection=null;jC.call(this,e,new kA(ex,1));this.selectionModels=[];var pC=jQ.get_noopContext();this.tupleSelection=this.$1('tuples',pC);this.nodeSelection=this.$1('nodes',pC);this.trendLineSelection=this.$1('trend-lines',pC);this.refLineSelection=this.$1('ref-lines',pC)},{add_newSelections:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelections:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_isEmpty:function(){for(var e=0;e<this.selectionModels.length;e++){var ex=this.selectionModels[e];if(!ex.isEmpty){return false}}return true},get_hasPaneTableObjectSelection:function(){for(var e=0;e<this.selectionModels.length;e++){var ex=this.selectionModels[e];if(!ex.isEmpty&&ex.get_selectionType()!=='legend-items'&&ex.get_selectionType()!=='nodes'){return true}}return false},get_allLegendSelections:function(){return _.filter(this.selectionModels,function(e){return e.get_selectionType()==='legend-items'})},get_brushVizForNodeSelection:function(){if(this.nodeSelection.isEmpty){return false}var e=this.nodeSelection.get_nodes();for(var ex=0;ex<e.length;ex++){var pC=e[ex];if(mn.isCategoricalAndTupleAssociatedHeader(pC)){return true}}return false},getLegendSelection:function(e,ex){var pC=_.find(this.selectionModels,function(pD){return pD.get_selectionType()==='legend-items'&&ss.isValue(pD.get_selectionPresModel())&&pD.get_selectionPresModel().legendSelectionInfo.legendType===e&&_.isEqual(pD.get_selectionPresModel().legendSelectionInfo.legendColumns,ex)});if(ss.isNullOrUndefined(pC)){pC=this.$1('legend-items',jQ.get_noopContext());pC.get_selectionPresModel().legendSelectionInfo.legendType=e;pC.get_selectionPresModel().legendSelectionInfo.legendColumns=ex}return pC},update:function(e,ex){var pC=_.compact(e);var pD=[];var pE=[];for(var pF=0;pF<pC.length;pF++){var pG=pC[pF];var pH;if(pG.selectionType==='legend-items'){pH=this.getLegendSelection(pG.legendSelectionInfo.legendType,pG.legendSelectionInfo.legendColumns)}else{pH=this.$2(pG.selectionType)}if(ss.isNullOrUndefined(pH)){pH=new mi(this,this.selectionModels.length);this.selectionModels.push(pH)}var pI=parseInt(pH.presModelKey.name);pD[pI]=pG;pH.update(pG,ex);pE.push(pH.get_hashKey())}for(var pJ=0;pJ<this.selectionModels.length;pJ++){var pK=this.selectionModels[pJ];if(ss.contains(pE,pK.get_hashKey())){continue}var pL=ml.$0(pK.get_selectionType());if(pL.selectionType==='legend-items'){pL.legendSelectionInfo=pK.get_selectionPresModel().legendSelectionInfo}pK.update(pL,ex);var pM=parseInt(pK.presModelKey.name);pD[pM]=pK.get_selectionPresModel()}for(var pN=0;pN<pD.length;++pN){e[pN]=pD[pN]}var pO=new mm;pO.selections=e;var pP=pO;if(this.isNewPresModelSameAsOld(pP)){return}this.swapAndCopyPresModel(pP);this.raiseEvent(this.$2$1,ex)},$2:function(e){return _.find(this.selectionModels,function(ex){return ex.get_selectionType()===e})},$1:function(e,ex){var pC=new mi(this,this.selectionModels.length);this.selectionModels.push(pC);var pD=ml.$0(e);pC.update(pD,ex);return pC},createSelectionsToken:function(){return this.pm},computeSelectionsDiff:function(e,ex,pC){if(ss.isNullOrUndefined(e)){return new mj(true,1,null)}var pD=mj.noDifference();for(var pE=0;pE<e.selections.length;pE++){var pF=e.selections[pE];switch(pF.selectionType){case'ref-lines':case'trend-lines':{var pG=pF.objectIds||[];var pH=ml.$1(pG,this.$2(pF.selectionType).get_ids());if(pH.length>0){return new mj(true,3,null)}break}case'tuples':{var pI=pF.objectIds;var pJ=this.tupleSelection.get_ids();var pK=(ss.isValue(ex)?ex.objectIds:[]);var pL=(ss.isValue(pC)?pC.get_ids():[]);var pM=pI.length+pK.length!==0!==(pJ.length+pL.length!==0);if(pM){return new mj(true,2,null)}var pN=ml.$1(pI,pJ);var pO=ml.$1(pK,pL);var pP=[];ss.arrayAddRange(pP,pN);ss.arrayAddRange(pP,pO);pD=new mj(false,2,Array.prototype.slice.call(pP));break}default:{break}}}return pD},hasTupleSelection:function(){if(ss.isNullOrUndefined(this.pm)){return false}var e=this.pm.selections;return _.any(e,function(ex){return ex.selectionType==='tuples'&&ex.objectIds.length>0})}},{$0:function(e){var ex={selectionType:e};switch(e){case'ref-lines':case'trend-lines':case'annotations':case'tuples':{ex.objectIds=[];break}case'legend-items':{ex.legendSelectionInfo={};ex.objectIds=[];break}case'nodes':{ex.selectedNodes=[];break}default:{break}}return ex},$1:function(e,ex){var pC=[];var pD=new Set;for(var pE=0;pE<e.length;pE++){var pF=e[pE];pD.add(pF)}for(var pG=0;pG<ex.length;pG++){var pH=ex[pG];if(pD.has(pH)){pD.delete(pH)}else{pC.push(pH)}}pD.forEach(function(pI){pC.push(pI)});return pC},computeTupleDictionaryDifference:function(e,ex){var pC=tab.MapUtility.createCopy(String,ss.UInt32).call(null,e);var pD=tab.MapUtility.createCopy(String,ss.UInt32).call(null,ex);var pE=[];pC.forEach(function(pF,pG){if(!pD.has(pG)){pE.push(pC.get(pG))}else{pD.delete(pG)}});pD.forEach(function(pF,pG){pE.push(pD.get(pG))});return pE}});var mm=global.tab.SelectionsPresModel=ss.mkType(a,'tab.SelectionsPresModel',function(){this.selections=null});var mn=global.tab.SelectionUtils=ss.mkType(a,'tab.SelectionUtils',null,null,{isCategoricalAndTupleAssociatedHeader:function(e){if(tab.MiscUtil.isNullOrEmpty(e)){return false}return!mn.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(e)&&tab.MiscUtil.isNullOrEmpty$1(e.fn)&&!tab.MiscUtil.isNullOrEmpty(e.columnIndices)},isHeaderFullyQuantitativeOrHaveNoAssociatedTuples:function(e){if(tab.MiscUtil.isNullOrEmpty(e)){return false}return tab.MiscUtil.isNullOrEmpty(e.columnIndices)&&!tab.MiscUtil.isNullOrEmpty$1(e.fn)},isQuantitative:function(e){return ss.isValue(e)&&ss.isValue(e.node)&&ss.isValue(e.node.fn)},resolveLegendSelection:function(e,ex,pC,pD){var pE=[];if(ss.isValue(ex)){var pF=pD.get_selectionPresModel()||{};switch(e){case'toggle':{if(ss.isValue(pF.objectIds)){ss.arrayAddRange(pE,pF.objectIds)}for(var pG=0;pG<ex.length;pG++){var pH=ex[pG];var pI=ss.indexOf(pE,pH.objectId);if(pI>=0){ss.removeAt(pE,pI)}else{pE.push(pH.objectId)}}break}case'range':{pE=mn.$2(ex,pC,pF);break}case'simple':{var pJ=(ss.isValue(pF.objectIds)?pF.objectIds:[]);if(pJ.length<=1){for(var pK=0;pK<ex.length;pK++){var pL=ex[pK];var pM=ss.indexOf(pJ,pL.objectId);if(pM>=0){ss.removeAt(pE,pM)}else{pE.push(pL.objectId)}}}else{ss.arrayAddRange(pE,_.pluck(ex,'objectId'.toString()))}break}}}return Array.prototype.slice.call(pE)},resolveMarkSelection:function(e,ex,pC,pD){var pE=[];switch(e){case'simple':{if(!pD&&ex.length===1&&pC.get_ids().length===1&&ex[0]===pC.get_ids()[0]){ss.clear(pE)}else{ss.arrayAddRange(pE,ex)}break}case'range':case'toggle':{ss.arrayAddRange(pE,pC.get_ids());for(var pF=0;pF<ex.length;pF++){var pG=ex[pF];if(!pC.isObjectSelected(pG)){pE.push(pG)}else if(!pD){ss.remove(pE,pG)}}break}}return Array.prototype.slice.call(pE)},resolveRefLineSelection:function(e,ex,pC){var pD=[];if(e==='simple'||e==='toggle'){if(ex.length===1&&pC.get_ids().length===1&&ex[0]===pC.get_ids()[0]){ss.clear(pD)}else{ss.arrayAddRange(pD,ex)}}return Array.prototype.slice.call(pD)},resolveNodeSelection:function(e,ex,pC,pD,pE){var pF=null;if(ss.isValue(pC)){switch(e){case'simple':{pF=mn.$4(pC,pD);break}case'toggle':{pF=mn.$5(pC,pD);break}case'range':{pF=mn.$3(ex,pC,pD);break}}}pE.selectedNodes=pF||[]},$2:function(e,ex,pC){var pD=[];if(!ss.isValue(pC.objectIds)){return pD}ss.arrayAddRange(pD,pC.objectIds);ss.arrayAddRange(pD,_.pluck(e,'objectId'.toString()));var pE=pC.objectIds[pC.objectIds.length-1];var pF=-1;for(var pG=0;pG<ex.get_items().length;pG++){if(ex.get_items()[pG].objectId===pE){pF=pG}}var pH=((e.length>0)?ss.indexOf(ex.get_items(),e[0]):-1);if(pF<0||pH<0){return _.uniq(pD)}var pI=Math.min(pF,pH);var pJ=pI+Math.abs(pF-pH)+1;for(var pK=pI;pK<pJ;pK++){pD.push(ex.get_items()[pK].objectId)}return _.uniq(pD)},$0:function(e,ex,pC,pD){var pE=new Set;for(var pF=0;pF<e.length;pF++){var pG=e[pF];if(ss.isValue(pG.node.columnIndices)){tab.SetUtilities.addAll(ss.Int32).call(null,pE,pG.node.columnIndices)}}for(var pH=0;pH<ex.length;pH++){var pI=(pC?ex[ex.length-1-pH]:ex[pH]);if(ss.isValue(pI.columnIndices)&&tab.SetUtilities.interserctWith(ss.Int32).call(null,pE,pI.columnIndices).size===0){continue}var pJ=mn.$1(e,pI,pD);if(pJ!==-1){return pJ}}return-1},$1:function(e,ex,pC){if(ss.isValue(pC)&&!_.isEqual(pC,ex.columnIndices)){return-1}for(var pD=0;pD<e.length;pD++){var pE=e[pD];if(_.isEqual(pE.node,ex)){return pD}}return-1},$3:function(e,ex,pC){var pD=mn.nodeSelectionFromDrawGroup(ex);var pE=pC.get_nodes().slice(0);if(tab.MiscUtil.isNullOrEmpty(pD.columnIndices)&&tab.MiscUtil.isNullOrEmpty$1(pD.fn)){return pE}if(pE.length===0){pE.push(pD);return pE}var pF=mn.isCategoricalAndTupleAssociatedHeader(pD);var pG=mn.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(pD);var pH=!pF&&!pG;var pI=mn.$0(e,pC.get_nodes(),true,(pF?pD.columnIndices:null));if(pI===-1){if(pF||pH&&!pC.isNodeAncestorSelected(ex)){pE.push(pD)}return pE}if(pC.isNodeSelected(ex)||pC.isNodeAncestorSelected(ex)){return pE}var pJ=mn.$0(e,pC.get_nodes(),false,null);var pK=mn.nodeSelectionFromDrawGroup(e[pJ]);if(pF){if(!_.isEqual(pK.columnIndices,pD.columnIndices)){pE.push(pD);return pE}}else{var pL=mn.$1(e,pK,null)!==-1;if(pG&&!pL){return pE}if(pH&&!pL){pE.push(pD);return pE}}var pM=ss.indexOf(e,ex);var pN=Math.min(pI,pM);var pO=pN+Math.abs(pI-pM)+1;for(var pP=pN;pP<pO;pP++){var pQ=e[pP];var pR=!pF||_.isEqual(pQ.node.columnIndices,pD.columnIndices);if(pR&&!pC.isNodeAncestorSelected(pQ)&&!pC.isNodeSelected(pQ)){pE.push(mn.nodeSelectionFromDrawGroup(pQ))}}return pE},$4:function(e,ex){if(!ex.isNodeSelected(e)||ex.get_nodes().length>1){return[mn.nodeSelectionFromDrawGroup(e)]}return null},$5:function(e,ex){var pC=[];ss.arrayAddRange(pC,ex.get_nodes());var pD=ex.findNodeSelection(e);if(ss.isValue(pD)){ss.remove(pC,pD)}else if(!ex.isNodeAncestorSelected(e)){pC.push(mn.nodeSelectionFromDrawGroup(e))}return Array.prototype.slice.call(pC)},nodeSelectionFromDrawGroup:function(e){var ex={};if(!ss.isValue(e.node)){return ex}var pC=e.node;if(ss.isValue(pC.columnIndices)){ex.columnIndices=pC.columnIndices||[]}if(ss.isValue(pC.aliasIndices)){ex.aliasIndices=pC.aliasIndices||[]}if(ss.isValue(pC.fn)){ex.fn=pC.fn}if(ss.isValue(pC.axisOrientation)){ex.axisOrientation=pC.axisOrientation}if(ss.isValue(pC.duplicateIndex)){ex.duplicateIndex=pC.duplicateIndex}if(ss.isValue(pC.pageIndex)){ex.pageIndex=pC.pageIndex}if(ss.isValue(pC.nodeHash)){ex.nodeHash=pC.nodeHash}return ex}});var mo=global.tab.SelfServiceSchedule=ss.mkType(a,'tab.SelfServiceSchedule',function(e,ex,pC){this.scheduledAction=null;this.scheduleType=null;this.scheduleDetails=null;this.scheduledAction=e;this.scheduleType=ex;this.scheduleDetails=pC});var mp=global.tab.ServerCommands=ss.mkType(a,'tab.ServerCommands',null,null,{get_interceptorCount:function(){var e=0;var ex=new ss.ObjectEnumerator(mp.$3);try{while(ex.moveNext()){var pC=ex.current();e+=pC.value.length}}finally{ex.dispose()}return e},$1:function(e,ex){return e+':'+ex},executeServerCommand:function(e,ex,pC,pD){if(mp.$0(e)){return}cw.SendCommand(kZ.create(e,ex,pC,pD))},executeRemoteCommand:function(e){var ex=e.get_remoteCommands();var pC=ex[0];if(mp.$0(pC)){return}cw.SendCommand(e)},intercept:function(e,ex){for(var pC=0;pC<e.length;pC++){var pD=e[pC];mp.addCommandInterceptor(ex,pD.ns,pD.cmd)}return ex},addCommandInterceptor:function(e,ex,pC){var pD=mp.$1(ex,pC);var pE=mp.$3[pD];if(ss.isNullOrUndefined(pE)){pE=[];mp.$3[pD]=pE}pE.push(e);return e},removeIntercept:function(e,ex){for(var pC=0;pC<e.length;pC++){var pD=e[pC];mp.removeCommandInterceptor(ex,pD.ns,pD.cmd)}},removeCommandInterceptor:function(e,ex,pC){var pD=mp.$1(ex,pC);var pE=mp.$3[pD];if(!ss.isNullOrUndefined(pE)){for(var pF=0;pF<pE.length;pF++){if(ss.staticEquals(pE[pF],e)){ss.removeAt(pE,pF);if(pE.length===0){delete mp.$3[pD];return}}}}},clearAllCommandInterceptors:function(){ss.clearKeys(mp.$3)},$0:function(e){var ex=mp.$3[mp.$1(e.commandNamespace,e.commandName)];if(ss.isValue(ex)){for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];if(pD(e)===1){return true}}}return false}});var mq=global.tab.ServerFonts=ss.mkType(a,'tab.ServerFonts',null,null,{get_effectiveDefaultFontFamily:function(){return[ss.formatString('"{0}"',(BrowserSupport.BrowserSupport.IsHighDpi()?'Benton Sans':'Benton Sans Low-DPI')),'Arial','Helvetica','sans-serif'].join(', ')},get_allCustomFonts:function(){return _.union(mq.tableauFontNames,mq.effectiveBentonSans)}});var mr=global.tab.SessionAjaxCallManager=ss.mkType(a,'tab.SessionAjaxCallManager',function(e,ex,pC,pD,pE,pF){this.$5=null;this.$2=null;this.$4=null;this.$3=null;this.$1=false;this.$5=e;this.$2=ex;this.$4=pC;this.$3=pD;if(ss.isNullOrUndefined(pE)||pE){this.$1=jk.incrementWait(pF,true)}},{get_completedDelegate:function(){return ss.mkdel(this,this.onComplete)},get_successDelegate:function(){return ss.mkdel(this,this.onSuccess)},get_errorDelegate:function(){return ss.mkdel(this,this.onError)},onComplete:function(e,ex){try{if(ss.isValue(this.$2)){this.$2(e,ex)}}finally{this.$0()}},onSuccess:function(e,ex,pC){try{var pD=ss.isInstanceOfType(e,Error);if(pD){this.$5.$0(e,pC,false,null)}else if(pC.status===202){var pE=pC['args'];var pF=new ms(this.$5,pE);pF.requestStatus();pD=true}if(!pD){if(ss.isValue(this.$4)){this.$4(e,ex,pC)}}}finally{this.$0()}},onError:function(e,ex,pC){try{if(ss.isValue(this.$3)){this.$3(e,ex,pC)}else{this.$5.$0(pC,e,false,null)}}finally{this.$0()}},$0:function(){if(this.$1){this.$1=false;jk.decrementWait()}}});var ms=ss.mkType(a,'tab.SessionAjaxHandler',function(e,ex){this.$6=false;this.$5=null;this.$7=0;this.$4=1000;this.$9='';this.$8=null;this.$8=e;this.$5=ex;this.$9=e.formatSessionMethod('status')},{requestStatus:function(){var e=ss.mkdel(this,function(pE,pF,pG){this.$1(pF,pG)});var ex=ss.mkdel(this,function(pE,pF,pG){this.$0(pE,pF)});var pC=new mr(this.$8,null,e,ex,false,false);var pD={};pD.type='GET';pD.url=this.$9;pD.cache=false;px.helper(pD,pC)},$1:function(e,ex){if(ex.status===204){this.$6=true}this.$2(e,ex)},$0:function(e,ex){if(ss.isNullOrUndefined(this.$5.complete)){this.$5.complete(e,ex)}},$2:function(e,ex){++this.$7;if(ss.imod(this.$7,10)===0&&this.$4<4000){this.$4*=2}if(!this.$6){window.setTimeout(ss.mkdel(this,function(){this.requestStatus()}),this.$4)}else{var pC=this.$5['skipResendOriginal'];if(ss.isValue(pC)&&pC){if(ss.isValue(this.$5.complete)){this.$5.complete(ex,e)}}else{window.setTimeout(ss.mkdel(this,function(){this.$3()}),0)}}},$3:function(){if(!this.$5.async){delete this.$5['async']}px.helper(this.$5,null)}});var mt=global.tab.SessionCommands=ss.mkType(a,'tab.SessionCommands',null,null,{ping:function(){(new kr).invoke()}});var mu=global.tab.SessionHeartbeat=ss.mkType(a,'tab.SessionHeartbeat',null,null,{onVizportalPinged:function(){var e=tab.DateUtil.get_nowAsTime();mu.$1=e;if(e-mu.$2>mu.$4){mu.$2=e;mt.ping()}},onVizqlPinged:function(){var e=tab.DateUtil.get_nowAsTime();mu.$2=e;if(e-mu.$1>mu.$3){mu.$1=e;pn.extendWorkgroupSession()}}});var mv=global.tab.SessionRecoveryErrorHandler=ss.mkType(a,'tab.SessionRecoveryErrorHandler',function(e){this.$5=null;this.$4=null;this.$3=false;this.$5=e},{handleCommandFailure:function(e,ex,pC,pD){if(tabBootstrap.ViewerBootstrap.get_instance().get_sessionBeingCleared()){return false}var pE=oP.createForCurrentWindowLocation(null);if(!this.$1(ex.status)){return false}if(this.$3){return false}if(this.$2(tsConfig.sessionid)){return true}this.$0(pE);return true},$2:function(e){return ss.isValue(this.$4)&&ss.equalsT(this.$4,e)},$1:function(e){return e===410||e===404||e===502||e===503},$0:function(e){e.set_ignoreStickySession(true);ef.$1(this.$5);this.$4=tsConfig.sessionid;mw.switchToViz$1(e,ss.mkdel(this,function(ex,pC){this.$3=this.$2(tsConfig.sessionid);this.$4=null;e.set_ignoreStickySession(false)}),ss.mkdel(this,function(ex){var pC=20;var pD=ex.get_history().getHistoryTail(pC);mv.raiseSessionRecoveryAttemptEvent(pD,ex.get_sessionInactivityHelper());tabBootstrap.ViewerBootstrap.get_instance().bootstrapRecoverSession(this.$4,pD)}))}},{$0:function(e){mv.$1$1=ss.delegateCombine(mv.$1$1,e)},$1:function(e){mv.$1$1=ss.delegateRemove(mv.$1$1,e)},get_sessionRecoveryAttemptHandled:function(){return!ss.staticEquals(mv.$1$1,null)},supportsVizType:function(e){if(e.get_isCustomizedView()){return false}return e.get_isAuthorNewWorkbookUri()||e.get_isAuthoringUri()||e.get_isViewingUri()},subscribeToSessionRecoveryAttempt:function(e){if(!mv.get_sessionRecoveryAttemptHandled()){mv.addSessionRecoveryAttemptHandler(e)}},addSessionRecoveryAttemptHandler:function(e){mv.$0(e)},removeSessionRecoveryAttemptHandler:function(e){mv.$1(e)},raiseSessionRecoveryAttemptEvent:function(e,ex){if(mv.get_sessionRecoveryAttemptHandled()&&e.length>0){mv.$1$1(ex)}},supportsSession:function(e){return!tsConfig.is_guest&&mv.supportsVizType(e)}});var mw=global.tab.SessionServerCommands=ss.mkType(a,'tab.SessionServerCommands',null,null,{cancelLatestSetTimeout:function(){window.clearTimeout(mw.$2)},destroySessionAndForward$1:function(e,ex){var pC=2000;var pD=function(){if(ss.referenceEquals(tab.WindowHelper.getLocation(e).href,ex)){tab.WindowHelper.reload(e,true)}else{tab.WindowHelper.setLocationHref(e,ex)}};var pE=null;pE=function(){pD();mw.cancelLatestSetTimeout();pC*=2;mw.$2=window.setTimeout(pE,pC)};var pF=function(){pD();if(BrowserSupport.BrowserSupport.IsMac()&&(BrowserSupport.BrowserSupport.IsChrome()||BrowserSupport.BrowserSupport.IsFF())){mw.$2=window.setTimeout(pE,pC)}};mw.destroySessionAndForward(pF)},destroySessionAndForward:function(e){var ex=function(){e()};mw.$1(ex)},$1:function(e){var ex=cw.get().legacySession;jk.get_waitHandler().showAndLock();cw.get().resetAllContentReady();var pC=ex.createHandler(e,function(){},function(){},'immediately');var pD={type:'DELETE',url:ex.formatSessionMethod('destroy'),headers:ss.mkdict(['Accept','text/javascript']),dataType:'json'};px.helper(pD,pC)},switchToViz:function(e){var ex=oP.createForCurrentWindowLocation(null);ex.updateForViewingSheet(e);mw.switchToViz$1(ex,null,null)},switchToViz$1:function(e,ex,pC){ex=ex||function(pH,pI){};pC=pC||function(pH){tabBootstrap.ViewerBootstrap.get_instance().bootstrap()};var pD=mw.$0(e);var pE={type:'GET',url:e.get_path(),headers:ss.mkdict(['Accept','text/javascript']),dataType:'json',data:pD};var pF=cw.get().legacySession;var pG=pF.createHandler(ex,function(pH,pI,pJ){cw.get().switchViz(pH,e,pC)},null,'immediately');px.helper(pE,pG)},$0:function(e){var ex={};var pC=new ss.ObjectEnumerator(e.get_queryParams());try{while(pC.moveNext()){var pD=pC.current();if(pD.value.length===1){ex[pD.key]=pD.value[0]}else{ex[pD.key]=pD.value}}}finally{pC.dispose()}ex[':jsonOnly']='true';return ex}});var mx=global.tab.SessionUrl=ss.mkType(a,'tab.SessionUrl',function(e){this.$1=null;this.$1=e},{$0:function(){return this.$1+'/sessions/'+tsConfig.sessionid},toSessionCommandUrl:function(e,ex){return this.$0()+'/commands/'+e+'/'+ex},toMethodUrl:function(e){return this.$1+'/'+e},toSessionMethodUrl:function(e){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,tsConfig.sessionid,this.$1)},toSessionMethodOrSessionRootUrl:function(e){return(ss.isValue(e)?this.toSessionMethodUrl(e):this.$0())}});var my=global.tab.SetActiveZonesCmd=ss.mkType(a,'tab.SetActiveZonesCmd',function(){ss.makeGenericType(bl,[Object,mz]).call(this)},{get_commandId:function(){return my.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'set-active-zones'},this.c))}});var mz=global.tab.SetActiveZonesCmd$Response=ss.mkType(a,'tab.SetActiveZonesCmd$Response',function(e){this.$$c=null;this.$$c=e});var mA=global.tab.SetDashboardCurrentLayoutCmd=ss.mkType(a,'tab.SetDashboardCurrentLayoutCmd',function(){ss.makeGenericType(bl,[Object,mB]).call(this)},{get_commandId:function(){return mA.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'set-dashboard-current-layout'},this.c))}});var mB=global.tab.SetDashboardCurrentLayoutCmd$Response=ss.mkType(a,'tab.SetDashboardCurrentLayoutCmd$Response',function(e){this.$$c=null;this.$$c=e});var mC=global.tab.SetDashboardSizingWithValidationCmd=ss.mkType(a,'tab.SetDashboardSizingWithValidationCmd',function(){ss.makeGenericType(bl,[Object,mD]).call(this)},{get_commandId:function(){return mC.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'set-dashboard-sizing-with-validation'},this.c))}});var mD=global.tab.SetDashboardSizingWithValidationCmd$Response=ss.mkType(a,'tab.SetDashboardSizingWithValidationCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasValidatedSizing:function(){return true}});var mE=global.tab.SetIsDevicePreviewVisibleCmd=ss.mkType(a,'tab.SetIsDevicePreviewVisibleCmd',function(){ss.makeGenericType(bl,[Object,mF]).call(this)},{get_commandId:function(){return mE.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'set-is-device-preview-visible'},this.c))}});var mF=global.tab.SetIsDevicePreviewVisibleCmd$Response=ss.mkType(a,'tab.SetIsDevicePreviewVisibleCmd$Response',function(e){this.$$c=null;this.$$c=e});var mG=global.tab.SetIsMobileAppChromeVisibleCmd=ss.mkType(a,'tab.SetIsMobileAppChromeVisibleCmd',function(){ss.makeGenericType(bl,[Object,mH]).call(this)},{get_commandId:function(){return mG.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'set-is-mobileapp-chrome-visible'},this.c))}});var mH=global.tab.SetIsMobileAppChromeVisibleCmd$Response=ss.mkType(a,'tab.SetIsMobileAppChromeVisibleCmd$Response',function(e){this.$$c=null;this.$$c=e});var mI=global.tab.SetVariablesPromptRespondedCmd=ss.mkType(a,'tab.SetVariablesPromptRespondedCmd',function(){ss.makeGenericType(bl,[Object,mJ]).call(this)},{get_commandId:function(){return mI.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'set-variables-prompt-responded'},this.c))}});var mJ=global.tab.SetVariablesPromptRespondedCmd$Response=ss.mkType(a,'tab.SetVariablesPromptRespondedCmd$Response',function(e){this.$$c=null;this.$$c=e});var mK=global.tab.ShapeManager=ss.mkType(a,'tab.ShapeManager',function(){this.$3={};this.$2={};this.$4={};this.$1$1=null},{add_shapeLoaded:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_shapeLoaded:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_imageKeys:function(){return _.keys(this.$3)},getImageElement:function(e){if(ss.keyExists(this.$3,e)){return this.$3[e].imageElement}return null},getCachedCanvas:function(e){return this.$2[e]},generateCachedCanvas:function(e,ex){var pC=null;if(ss.isValue(ex)){pC=ex();if(ss.isValue(pC)){this.$2[e]=pC}}return pC},getCachedStampCanvas:function(e){return this.$4[e]},generateCachedStampCanvas:function(e,ex){if(ss.getKeyCount(this.$4)>=mK.get_canvasCacheCapacity()){this.clearShapeStampCache()}if(!ss.isValue(ex)){return null}var pC=ex();if(!ss.isValue(pC)){return null}this.$4[e]=pC;return pC},updateCustomImageMap:function(e){for(var ex=0;ex<e.length;ex++){var pC=e[ex];if(ss.isValue(pC)){this.$1(pC)}}},$1:function(e){var ex=e.shapeId;var pC=ex.toString();var pD=null;var pE=0;var pF=false;if(ss.keyExists(this.$3,pC)){pF=true;pD=this.$3[pC].imageElement;pE=this.$3[pC].imageSize}var pG=e.image;var pH=pG.length;if(pF&&(!ss.isValue(pD)||pH<=pE)){return}var pI=document.createElement('img');pI.src='data:image/png;base64,'+pG;this.$3[pC]={imageElement:pI,imageSize:pH};var pJ=null;pJ=ss.thisFix(ss.mkdel(this,function(){if(pF){ss.clearKeys(this.$2)}this.$0(ex);pI.removeEventListener('load',pJ,false)}));pI.addEventListener('load',pJ,false)},hasShape:function(e){return ss.keyExists(this.$3,e.toString())&&this.$3[e.toString()].imageElement.complete},$0:function(e){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}},clearShapeStampCache:function(){ss.clearKeys(this.$4)}},{get_canvasCacheCapacity:function(){return(BrowserSupport.BrowserSupport.IsMobile()?50:200)},getCacheKey$1:function(e,ex,pC,pD,pE,pF){return e+';'+ex+';'+pC+';'+pD+';'+pE+';'+pF},getCacheKey:function(e,ex,pC,pD,pE){return e+';'+ex+';'+pC+';'+pD+';'+pE}});var mL=global.tab.ShapeModel=ss.mkType(a,'tab.ShapeModel',function(e,ex){this.$0=null;this.$1=null;this.$0=e;this.$1=ex},{get_palette:function(){return this.$0},get_shapeType:function(){return this.$1},equals$1:function(e){return ss.isValue(e)&&ss.referenceEquals(this.$0,e.$0)&&this.$1===e.$1},toString:function(){if(ss.isNullOrUndefined(this.$0)){return this.get_shapeType().toString()}return':'+this.get_palette()+'/'+this.get_shapeType()}},{fromString:function(e){var ex=new RegExp('^(:([^\\/]+)\\/)?([^\\/]+)$');var pC=ex.exec(e);if(ss.isNullOrUndefined(pC)){return null}var pD=pC[2];var pE=pC[3];if(ss.isNullOrUndefined(pE)){return null}var pF=null;if(ss.isValue(pD)){if(ss.referenceEquals(pD,'filled'.toString())){pF='filled'}else{return null}}var pG=pE;return new mL(pF,pG)}});var mM=global.tab.SheetClientCommandPromises=ss.mkType(a,'tab.SheetClientCommandPromises',null,null,{createSheet:function(e,ex){var pC={};if(ss.isValue(e)){pC['newSheet']=e}pC['insertAtEnd']=ex;pC['shouldChangeUiMode']=true;var pD=cN.newCommand({ns:'tabdoc',cmd:'new-worksheet'},pC);var pE=$.Deferred();mp.executeServerCommand(pD,'immediately',function(pF){pE.resolve(tsConfig.current_sheet_name)},function(pF){pE.reject(pF.get_message())});return pE.promise()},goToSheet:function(e){var ex=$.Deferred();if(ss.referenceEquals(e,tsConfig.current_sheet_name)){ex.resolve(e);return ex.promise()}var pC={};pC['targetSheet']=e;var pD=cN.newCommand({ns:'tabsrv',cmd:'ensure-layout-for-sheet'},pC);mp.executeServerCommand(pD,'immediately',null,function(pF){ex.reject(pF.get_message())});var pE=null;pE=function(pF){ex.resolve(pF.item2);cw.get().remove_tabChangeCompleted(pE)};cw.get().add_tabChangeCompleted(pE);return ex.promise()}});var mN=global.tab.SheetClientCommands=ss.mkType(a,'tab.SheetClientCommands',null,null,{switchSheets:function(e){if(ss.isNullOrUndefined(e.oldSheetName)){e.oldSheetName=tsConfig.current_sheet_name}if(ss.equals(e.sheetName,e.oldSheetName)&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){return}cw.get().prepareForSheetChange();var ex=mN.createSwitchSheetsCommand(e.sheetName);mp.executeServerCommand(ex,'immediately',e.successCallback,e.errorCallback)},createSwitchSheetsCommand:function(e){var ex={};ex['targetSheet']=e;return cN.newCommand({ns:'tabsrv',cmd:'ensure-layout-for-sheet'},ex)},goToSheet:function(e){cw.get().prepareForSheetChange();var ex={};ex['sheet']=e;var pC=cN.newCommand({ns:'tabdoc',cmd:'goto-sheet'},ex);mp.executeServerCommand(pC,'immediately',null,null)},ensureLayoutForSheet:function(e){var ex=mN.createSwitchSheetsCommand(e);mp.executeServerCommand(ex,'immediately',null,null)},createSheet:function(e,ex){var pC=cN.newCommand({ns:'tabdoc',cmd:'new-worksheet'},null);mN.$0(pC,e,ex);mp.executeServerCommand(pC,'immediately',null,null)},deleteSheet:function(e){var ex={};ex['sheet']=e;ex['promptDeleteSheetsWithVizInTooltip']=false;var pC=cN.newCommand({ns:'tabdoc',cmd:'delete-sheet'},ex);mp.executeServerCommand(pC,'immediately',null,null)},validateNewSheetName:function(e,ex,pC){if(!ss.referenceEquals(ex.trim(),ex)){return false}return!(ss.isNullOrEmptyString(ex)||ss.referenceEquals(ex,e)||ss.contains(pC,ex))},tryRenameSheet:function(e,ex,pC){ex=ex.toString().trim();if(mN.validateNewSheetName(e,ex,pC)){mN.renameSheet(e,ex);return true}else{return false}},renameSheet:function(e,ex){var pC={};pC['sheet']=e;pC['newSheet']=ex;var pD=cN.newCommand({ns:'tabdoc',cmd:'rename-sheet'},pC);mp.executeServerCommand(pD,'immediately',null,null)},createDashboardOrStory:function(e,ex,pC){var pD=(pC?{ns:'tabdoc',cmd:'new-storyboard'}:{ns:'tabdoc',cmd:'new-dashboard'});var pE=cN.newCommand(pD,null);mN.$0(pE,e,ex);mp.executeServerCommand(pE,'immediately',null,null)},$0:function(e,ex,pC){e.commandParams={};if(ss.isValue(ex)){e.commandParams['newSheet']=ex}if(pC){e.commandParams['insertAtEnd']=pC.toString()}e.commandParams['shouldChangeUiMode']=true},getSheetTabContextMenu:function(e,ex){var pC=cN.newCommand({ns:'tabdoc',cmd:'build-sheet-tab-context-menu'},null);pC.commandParams={};if(ss.isValue(e)){pC.commandParams['sheetName']=e}mp.executeServerCommand(pC,'none',function(pD){ex(pD)},null)},getSheetListContextMenu:function(e,ex,pC){var pD=new bJ;pD.c['sheetName']=e;pD.c['addAsFloating']=ex;var pE=pD;pE.invoke().then(pC)},getLayoutTreeContextMenu:function(e,ex,pC){var pD=new bB;pD.c['dashboard']=e;pD.c['zoneId']=ex|0;var pE=pD;pE.invoke().then(pC)},getCaptionContextMenu:function(e,ex,pC){var pD=new bt;pD.c['sheetName']=e;var pE=pD;if(ss.isValue(ex)){pE.c['dashboard']=ex}pE.invoke().then(pC)},getTitleContextMenu:function(e,ex,pC){var pD=new bL;pD.c['sheetName']=e;var pE=pD;if(ss.isValue(ex)){pE.c['dashboard']=ex}pE.invoke().then(pC)},reorderSheets:function(e,ex){var pC={};pC['positionToInsertTabsAt']=e;pC['sheetTabPositions']=ex;var pD=cN.newCommand({ns:'tabdoc',cmd:'reorder-sheets'},pC);mp.executeServerCommand(pD,'immediately',null,null)},setPortSize:function(e,ex,pC){var pD=cN.newCommand({ns:'tabsrv',cmd:'set-port-size'},null);pD.commandParams={};pD.commandParams['sheet']=tsConfig.current_sheet_name;pD.commandParams['worksheetPort']=nm.sanitizePresModel(e);pD.commandParams['dashboardPort']=nm.sanitizePresModel(ex);pD.commandParams['storyPort']=nm.sanitizePresModel(pC);mp.executeServerCommand(pD,'immediately',null,null)}});var mO=global.tab.SheetListItemModel=ss.mkType(a,'tab.SheetListItemModel',function(e,ex){jC.call(this,e,new kA(ex.toString(),null))},{get_isDashboard:function(){return this.pm.isDashboard},get_isIncluded:function(){return this.pm.isIncluded},get_name:function(){return this.pm.name},update:function(e){this.swapAndCopyPresModel(e)}});var mP=global.tab.SheetListModel=ss.mkType(a,'tab.SheetListModel',function(e){this.$2=null;this.$1=null;this.$2$1=null;jC.call(this,e,new kA('sheetList'.toString(),null));this.$1=new k(this)},{add_sheetListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sheetListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sheets:function(){return this.$2},update:function(e,ex){if(ss.isValue(e.sheetListItems)){this.$2=[];for(var pC=0;pC<e.sheetListItems.length;pC++){var pD=new mO(this.$1,pC);pD.update(e.sheetListItems[pC]);this.$2.push(pD)}}this.simpleSwapToUpdate(e,this.$2$1,ex)}});var mQ=global.tab.SheetSession=ss.mkType(a,'tab.SheetSession',function(e,ex,pC,pD){this.sheetId=null;bn.call(this,e,pC,pD);this.sheetId=ex},{get_visualId:function(){return jF.getVisualId(this.sheetId)},requestHSMChildren:function(e,ex,pC,pD){if(!tsConfig.allow_filter){return}var pE=function(pK,pL,pM){pC(pK)};var pF=this.createHandler(null,pE,null,'none');var pG=new Object;pG['name']='file';pG['filename']='file';pG['contentType']='text/javascript';pG['content']=JSON.stringify(ex);var pH=ss.mkdict(['_method','PUT']);var pI=px.getMultipartData(pG,pH);var pJ={type:'POST',url:this.formatFilterReference(this.sheetId,e,'show_children'),dataType:'json',contentType:'multipart/form-data; boundary='+pI.header,data:pI.body};px.helper(pJ,pF)},getFilterItems:function(e,ex,pC,pD,pE){if(!tsConfig.allow_filter){return}var pF=function(pJ,pK,pL){nv.notifyDeferredBootstrapComplete();pD(pJ)};var pG=this.createHandler(null,pF,null,'none');var pH={};pH['fromIndex']=pC.get_from();pH['toIndex']=pC.get_to();pH['domain']=ex;var pI=bn.basicGetOpts(this.formatFilterReference(this.sheetId,e,'getfilteritems'));pI.data=pH;px.helper(pI,pG)},searchFilter:function(e,ex,pC,pD,pE,pF,pG){if(!tsConfig.allow_filter){return null}var pH=function(pN,pO,pP){nv.notifyDeferredBootstrapComplete();var pQ=pN;pF(pQ)};var pI=function(pN,pO,pP){pG(pP)};var pJ=this.createHandler(null,pH,pI,'none');var pK=(pD?'searchwithindex':'search');var pL=bn.basicGetOpts(this.formatFilterReference(this.sheetId,e,pK));var pM=ss.mkdict(['query',ex,'maxRows',pC,'domain',pE]);pL.data=pM;return px.helper(pL,pJ)},formatFilterReference:function(e,ex,pC){return(new fQ(this.get_urlRoot(),e,ex,pC)).toUrl()}},{add_sheetDataChanged:function(e){mQ.$2$1=ss.delegateCombine(mQ.$2$1,e)},remove_sheetDataChanged:function(e){mQ.$2$1=ss.delegateRemove(mQ.$2$1,e)},fireSheetDataChanged:function(){if(ss.isValue(mQ.$2$1)){mQ.$2$1()}}});var mR=global.tab.ShelfItemsArrayModel=ss.mkType(a,'tab.ShelfItemsArrayModel',function(e){jC.call(this,e,new kA('shelfItems'.toString(),1))});var mS=global.tab.ShelfListArrayModel=ss.mkType(a,'tab.ShelfListArrayModel',function(e){jC.call(this,e,new kA('shelfList'.toString(),1))});var mT=global.tab.ShelfModel=ss.mkType(a,'tab.ShelfModel',function(e,ex){this.$2=null;this.$2$1=null;jC.call(this,e,new kA(ex.toString(),null))},{add_shelfChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shelfChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_paneId:function(){return(ss.isValue(this.$1().paneSpec)?this.$1().paneSpec:0)},get_shelfType:function(){return this.$1().shelfType},get_pills:function(){return this.$2},get_tooltip:function(){return tableau.format.stripFormattedText(this.$1().tooltip)},get_isVisible:function(){return this.$1().showShelf},$1:function(){return this.pm},findPill:function(e){return _.find(this.get_pills(),function(ex){return ex.pm.shelfItemId===e})},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,ex,pC){if(this.isNewPresModelSameAsOld(e)){return}if(e.shelfItems===null){this.$2=[]}else if(ss.isValue(e.shelfItems)){var pD=[];var pE=new mR(this);for(var pF=0;pF<e.shelfItems.length;pF++){var pG=e.shelfItems[pF];var pH=pG.fn;var pI;if(ss.isNullOrEmptyString(pH)&&e.shelfType==='encoding-shelf'){pI=new jN}else{pI=ex.findField(pH)}if(ss.isNullOrUndefined(pI)){pG.isInvalid=true}if(pG.isInvalid){var pJ=new fv(new fD('',ex.findDataSourceFromGlobalFieldName(pH)));var pK={type:'column',fn:pH,description:pH,fieldIconIdx:0};pJ.update(pK);pI=pJ}var pL=new kq(pE,pF);pL.update(pG,pI);pD.push(pL)}this.$2=pD}this.swapAndCopyPresModel(e);this.raiseEvent$1(mT).call(this,this.$2$1,this,pC)}});var mU=global.tab.ShelvesModel=ss.mkType(a,'tab.ShelvesModel',function(e){this.$3=[];this.$2$1=null;jC.call(this,e,new kA('shelves'.toString(),null))},{add_newShelves:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newShelves:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shelves:function(){return this.$3},findShelf:function(e){return this.$2(this.$3,e)},update:function(e,ex,pC,pD){if(this.isNewPresModelSameAsOld(e)){return}this.swapAndCopyPresModel(e);this.$1(e,ex,pC,pD);this.raiseEvent(this.$2$1,pD)},$1:function(e,ex,pC,pD){if(ss.isValue(e)){var pE=ss.arrayClone(this.$3);for(var pF=0;pF<e.shelfList.length;pF++){var pG={$:e.shelfList[pF]};if(ss.isNullOrUndefined(pG.$.paneSpec)&&ss.isValue(pC)){pG.$.paneSpec=ss.unbox(pC)}var pH=_.find(this.$3,ss.mkdel({shelf:pG},function(pK){return pK.get_shelfType()===this.shelf.$.shelfType&&pK.get_paneId()===(this.shelf.$.paneSpec||0)}));if(ss.isValue(pH)){ss.remove(pE,pH);pH.update(pG.$,ex,pD)}else{this.$3.push(mU.createShelfModel(this,pG.$,ex,pF,pD))}}for(var pI=0;pI<pE.length;pI++){var pJ=pE[pI];ss.remove(this.$3,pJ)}}},$2:function(e,ex){return _.find(e,function(pC){return pC.get_shelfType()===ex})}},{createShelfModel:function(e,ex,pC,pD,pE){var pF=new mT(new mS(e),pD);pF.update(ex,pC,pE);return pF}});var mV=global.tab.ShowActionListDialogForDashboardCmd=ss.mkType(a,'tab.ShowActionListDialogForDashboardCmd',function(){ss.makeGenericType(bl,[Object,mW]).call(this)},{get_commandId:function(){return mV.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'show-action-list-dialog-for-dashboard'},this.c))}});var mW=global.tab.ShowActionListDialogForDashboardCmd$Response=ss.mkType(a,'tab.ShowActionListDialogForDashboardCmd$Response',function(e){this.$$c=null;this.$$c=e});var mX=global.tab.ShowActionListDialogForWorksheetCmd=ss.mkType(a,'tab.ShowActionListDialogForWorksheetCmd',function(){ss.makeGenericType(bl,[Object,mY]).call(this)},{get_commandId:function(){return mX.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'show-action-list-dialog-for-worksheet'},this.c))}});var mY=global.tab.ShowActionListDialogForWorksheetCmd$Response=ss.mkType(a,'tab.ShowActionListDialogForWorksheetCmd$Response',function(e){this.$$c=null;this.$$c=e});var mZ=global.tab.ShowDashboardTitleCmd=ss.mkType(a,'tab.ShowDashboardTitleCmd',function(){ss.makeGenericType(bl,[Object,na]).call(this)},{get_commandId:function(){return mZ.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'show-dashboard-title'},this.c))}});var na=global.tab.ShowDashboardTitleCmd$Response=ss.mkType(a,'tab.ShowDashboardTitleCmd$Response',function(e){this.$$c=null;this.$$c=e});var nb=global.tab.ShowEditAxisDialogCmd=ss.mkType(a,'tab.ShowEditAxisDialogCmd',function(){ss.makeGenericType(bl,[Object,nc]).call(this)},{get_commandId:function(){return nb.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'show-edit-axis-dialog'},this.c))}});var nc=global.tab.ShowEditAxisDialogCmd$Response=ss.mkType(a,'tab.ShowEditAxisDialogCmd$Response',function(e){this.$$c=null;this.$$c=e});var nd=global.tab.ShowFieldEditingUICmd=ss.mkType(a,'tab.ShowFieldEditingUICmd',function(){ss.makeGenericType(bl,[Object,ne]).call(this)},{get_commandId:function(){return nd.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'show-field-editing-ui'},this.c))}});var ne=global.tab.ShowFieldEditingUICmd$Response=ss.mkType(a,'tab.ShowFieldEditingUICmd$Response',function(e){this.$$c=null;this.$$c=e});var nf=global.tab.ShowImageObjectConfigDialogCmd=ss.mkType(a,'tab.ShowImageObjectConfigDialogCmd',function(){ss.makeGenericType(bl,[Object,ng]).call(this)},{get_commandId:function(){return nf.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'show-image-object-config-dialog'},this.c))}});var ng=global.tab.ShowImageObjectConfigDialogCmd$Response=ss.mkType(a,'tab.ShowImageObjectConfigDialogCmd$Response',function(e){this.$$c=null;this.$$c=e});var nh=global.tab.ShowTrendLineEditorCmd=ss.mkType(a,'tab.ShowTrendLineEditorCmd',function(){ss.makeGenericType(bl,[Object,ni]).call(this)},{get_commandId:function(){return nh.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'show-trend-line-editor'},this.c))}});var ni=global.tab.ShowTrendLineEditorCmd$Response=ss.mkType(a,'tab.ShowTrendLineEditorCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCommandRedirectType:function(){return ss.keyExists(this.$$c,'commandRedirectType')},hasPaneSpecificationId:function(){return ss.keyExists(this.$$c,'paneSpec')},hasTrendLine:function(){return ss.keyExists(this.$$c,'trendLine')}});var nj=global.tab.SimpleCommandsPresModelWrapper=ss.mkType(a,'tab.SimpleCommandsPresModelWrapper',function(e){this.$0=null;this.$0=e},{get_simpleCommand:function(){return this.$0['simpleCommand'.toString()]},set_simpleCommand:function(e){this.$0['simpleCommand'.toString()]=e}},{create:function(e){if(ss.isNullOrUndefined(e)){return null}return new nj(e)}});var nk=global.tab.SimpleFontListProvider=ss.mkType(a,'tab.SimpleFontListProvider',function(){this.$1=null;this.$0(nk.fontFaces)},{get_fontFamilies:function(){return Array.prototype.slice.call(this.$1)},toSimpleFontList:function(){return nk.$0(this.$1)},$0:function(e){this.$1=[];if(ss.isNullOrUndefined(e)){return}var ex=ss.getEnumerator(e);try{while(ex.moveNext()){var pC=ex.current();this.$1.push(new fX(pC,[pC]))}}finally{ex.dispose()}}},{$ctor1:function(e){this.$1=null;this.$0(e)},$ctor2:function(e){this.$1=null;this.$1=ss.arrayFromEnumerable(e)},$0:function(e){var ex=[];var pC=ss.getEnumerator(e);try{while(pC.moveNext()){var pD=pC.current();var pE=pD.get_fonts();for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];ex.push(pG)}}}finally{pC.dispose()}return Array.prototype.slice.call(ex)}});var nl=global.tab.SizeItemModel=ss.mkType(a,'tab.SizeItemModel',function(e,ex){this.$2$1=null;jC.call(this,e,new kA(ex.toString(),null))},{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_name:function(){return this.pm.name},get_width:function(){return this.pm.w},get_height:function(){return this.pm.h},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}});var nm=global.tab.SizePresModelUtils=ss.mkType(a,'tab.SizePresModelUtils',null,null,{unionPresModels:function(e,ex){var pC={};pC.w=Math.max(e.w,ex.w);pC.h=Math.max(e.h,ex.h);return pC},sanitizePresModel:function(e){return{h:Math.floor(e.h),w:Math.floor(e.w)}}});var nn=global.tab.SortFromIndicatorCmd=ss.mkType(a,'tab.SortFromIndicatorCmd',function(){ss.makeGenericType(bl,[Object,no]).call(this)},{get_commandId:function(){return nn.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'sort-from-indicator'},this.c))}});var no=global.tab.SortFromIndicatorCmd$Response=ss.mkType(a,'tab.SortFromIndicatorCmd$Response',function(e){this.$$c=null;this.$$c=e});var np=global.tab.SortIndicatorsModel=ss.mkType(a,'tab.SortIndicatorsModel',function(e){this.$2$1=null;jC.call(this,e,new kA('sortIndicators'.toString(),null))},{add_newSortIndicators:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSortIndicators:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sortIndicatorsPresModel:function(){return this.pm},update:function(e,ex){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,ex)}});var nq=global.tab.SortingTelemetry=ss.mkType(a,'tab.SortingTelemetry',null,null,{$3:function(){return tab.FeatureFlags.isEnabled('OnlineAnalyticsPipelineEnabled')&&tab.FeatureFlags.isEnabled('SortingEntryPointsTelemetry')},logSortFromIndicator:function(e,ex){if(!nq.$3()){return}var pC=ss.mkdict(['EntryPoint','SortIndicator','IndicatorType',nq.$0(e),'RegionOrientation',nq.$1(ex),'RegionType',nq.$2(ex)]);jT.logEvent('SortingEvents',pC)},logSortFromMenuItem:function(e,ex){if(!nq.$3()){return}var pC=ss.mkdict(['EntryPoint','SortIndicatorMenu','SortType',(ss.isValue(e)?e.toString():''),'SortDirection',(ss.isValue(ex)?ex.toString():'')]);jT.logEvent('SortingEvents',pC)},logSortFromToolbar:function(e,ex){if(!nq.$3()){return}var pC=ss.mkdict(['EntryPoint','Toolbar','UseNestedSortForComparativeSort',e.toString(),'SortDirection',(ss.isValue(ex)?ex.toString():'')]);jT.logEvent('SortingEvents',pC)},$0:function(e){if(ss.isNullOrUndefined(e)){return'Unknown'}return e},$2:function(e){if(ss.isNullOrUndefined(e)){return''}return e.sortRegion},$1:function(e){if(ss.isNullOrUndefined(e)){return''}return(e.isHorizontal?'Horizontal':'Vertical')}});var nr=global.tab.SortServerCommands=ss.mkType(a,'tab.SortServerCommands',null,null,{sortFromIndicatorAndLogTelemetry:function(e,ex,pC,pD,pE){nr.$1(e,ex,pC);nq.logSortFromIndicator(pD,pE)},sortFromSceneMarginIndicator:function(e,ex,pC){if(tab.FeatureFlags.isEnabled('RuntimeVizHeaderRefactor')){nr.$1(e,ex,pC)}},sortFromCommandItem:function(e,ex){var pC=jF.getZoneIdForSheetName(ex.worksheet);var pD=nr.createCommandFromItem(e,ex);var pE=new co('afterDelay',function(pG){if(nr.$0(pC)){mh.setActiveZoneLocal(pC>>>0,pG,'replace')}},pD,null,null);cw.SendCommand(pE);var pF=pD.commandParams;nq.logSortFromMenuItem(pF['sortBy'],pF['sortOrder'])},createCommandFromItem:function(e,ex){var pC=cC.create(e);var pD=cJ.deserialize(pC.get_command(),false);cN.addVisualIdToCommand(pD.commandParams,ex);return pD},quickSort:function(e){var ex=jF.findActiveVisual();if(ss.isValue(ex)){nr.quickSort$1(ex.get_visualId(),e)}else{}},quickSort$1:function(e,ex){var pC=new kH;pC.c['sortOrder']=ex;pC.c['visualIdPresModel']=e;pC.set_uiBlocking('afterDelay');pC.invoke();nq.logSortFromToolbar(true,ex)},$0:function(e){return tsConfig.allow_select&&e!==-1&&!jF.isActiveZone(e>>>0)},$1:function(e,ex,pC){var pD=tab.PointUtil.toPresModel({x:Math.floor(e.x),y:Math.floor(e.y)});var pE=tab.PointUtil.toPresModel({x:Math.floor(ex.x),y:Math.floor(ex.y)});var pF=new nn;pF.c['vizLocation']=pD;pF.c['scrollOffset']=pE;pF.c['visualIdPresModel']=pC;pF.set_uiBlocking('afterDelay');var pG=pF;var pH=jF.getZoneIdForSheetName(pC.worksheet);if(nr.$0(pH)){var pI=cN.newCommand({ns:'tabdoc',cmd:'set-active-zone'},null);var pJ={};pJ['dashboardPm']=jF.findContentDashboard(null).pm.sheetPath;pJ['zoneId']=pH;pI.commandParams=pJ;var pK=new co('afterDelay',function(pL){mh.setActiveZoneLocal(pH>>>0,pL,'replace')},pI,function(pL){pG.invoke()},null);cw.SendCommand(pK)}else{pG.invoke()}}});var ns=global.tab.SpacingDefinition=ss.mkType(a,'tab.SpacingDefinition',function(e,ex,pC,pD,pE){this.defaultSpace=null;this.left=null;this.right=null;this.bottom=null;this.top=null;this.$0=null;this.defaultSpace=e;this.left=ex;this.right=pC;this.top=pD;this.bottom=pE},{get_defaultValue:function(){return ss.coalesce(this.defaultSpace,0)},set_defaultValue:function(e){this.defaultSpace=e},get_leftValue:function(){var e=this.left;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_leftValue:function(e){this.left=e},get_topValue:function(){var e=this.top;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_topValue:function(e){this.top=e},get_rightValue:function(){var e=this.right;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_rightValue:function(e){this.right=e},get_bottomValue:function(){var e=this.bottom;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_bottomValue:function(e){this.bottom=e},get_allSidesTheSame:function(){var e=this.$0;if(ss.isNullOrUndefined(e)){e=ss.isNullOrUndefined(this.bottom)&&ss.isNullOrUndefined(this.top)&&ss.isNullOrUndefined(this.left)&&ss.isNullOrUndefined(this.right)}return e},set_allSidesTheSame:function(e){this.$0=e;if(e){this.top=null;this.bottom=null;this.left=null;this.right=null}},mergeWithExisitingStyle:null});var nt=global.tab.StartNewDataAlertCmd=ss.mkType(a,'tab.StartNewDataAlertCmd',function(){ss.makeGenericType(bl,[Object,nu]).call(this);this.set_uiBlocking('immediately')},{get_commandId:function(){return nt.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'start-new-data-alert'},this.c))}});var nu=global.tab.StartNewDataAlertCmd$Response=ss.mkType(a,'tab.StartNewDataAlertCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasAlertMeasures:function(){return true},hasDefaultAlertMeasure:function(){return true},hasDefaultAlertMeasureCaption:function(){return true},hasDefaultConditionPresModel:function(){return true},hasRefLineSpecId:function(){return true},hasAlertConditionMet:function(){return true},hasIsViewSaveNeeded:function(){return true}});var nv=global.tab.StartupUtils=ss.mkType(a,'tab.StartupUtils',null,null,{add_modelsInitialized:function(e){nv.$1$1=ss.delegateCombine(nv.$1$1,e)},remove_modelsInitialized:function(e){nv.$1$1=ss.delegateRemove(nv.$1$1,e)},add_clientFullyLoaded:function(e){nv.$1$2=ss.delegateCombine(nv.$1$2,e)},remove_clientFullyLoaded:function(e){nv.$1$2=ss.delegateRemove(nv.$1$2,e)},add_deferredBootstrapComplete:function(e){nv.$1$3=ss.delegateCombine(nv.$1$3,e)},remove_deferredBootstrapComplete:function(e){nv.$1$3=ss.delegateRemove(nv.$1$3,e)},reset:function(){nv.$2=false;nv.$1=false;nv.$3=false;bd.resetInstance()},callOnceAfterInitialBootstrap:function(e){if(nv.$2){e()}else{var ex=null;ex=function(){e();nv.remove_clientFullyLoaded(ex)};nv.add_clientFullyLoaded(ex)}},callOnceAfterDeferredBootstrap:function(e){if(nv.$1){e()}else{var ex=null;ex=function(){e();nv.remove_deferredBootstrapComplete(ex)};nv.add_deferredBootstrapComplete(ex)}},resetTsConfig:function(e){window['tsConfig']=e},callAfterModelsInitialized:function(e){if(nv.$3){e()}else{var ex=null;ex=function(){e();nv.remove_modelsInitialized(ex)};nv.add_modelsInitialized(ex)}},callEachTimeModelsInitialized:function(e,ex){nv.add_modelsInitialized(e);ex.add$1(new tab.CallOnDispose(function(){nv.remove_modelsInitialized(e)}))},notifyModelsInitialized:function(){if(nv.$3){return}nv.$3=true;if(!ss.staticEquals(nv.$1$1,null)){nv.$1$1()}},notifyClientFullyLoaded:function(){if(nv.$2){return}nv.$2=true;if(!ss.staticEquals(nv.$1$2,null)){nv.$1$2()}},notifyDeferredBootstrapComplete:function(){if(nv.$1||!tsConfig.is_deferred_bootstrap){return}nv.$1=true;tsConfig.is_deferred_bootstrap=false;if(!ss.staticEquals(nv.$1$3,null)){nv.$1$3()}}});var nw=global.tab.StoryPointModel=ss.mkType(a,'tab.StoryPointModel',function(e,ex){this.$4=null;this.$2$1=null;this.$2$2=null;jC.call(this,e,new kA(ex.toString(),0));this.$4=new dx(this)},{add_dashboardDisposal:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_dashboardDisposal:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newStoryPoint:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newStoryPoint:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_dashboardModel:function(){return this.$4},get_isBackingSheetDashboard:function(){return this.$3().isBackingSheetDashboard},$3:function(){return this.pm},get_storyPointId:function(){return this.$3().storyPointId},get_currentSheet:function(){return this.$3().currentSheet},update:function(e,ex){if(!ss.isValue(e)){return}if(ss.isValue(this.$3())&&(ss.isNullOrEmptyString(this.get_currentSheet())||this.get_storyPointId()!==e.storyPointId||this.$1(e))){bd.get_instance().get_shapeManager().clearShapeStampCache();this.presModelKey=new kA(e.storyPointId.toString(),0);if(ss.isValue(this.$4)){this.raiseEvent(this.$2$1,ex);this.$4=null}this.$4=new dx(this);this.$2(e.dashboardPresModel,ex);this.raiseEvent(this.$2$2,ex)}else{this.$2(e.dashboardPresModel,ex)}this.swapPresModel(e)},$2:function(e,ex){if(ss.isValue(e)){this.get_dashboardModel().update(e,ex)}},$1:function(e){return ss.isNullOrEmptyString(e.currentSheet.toString())&&!ss.isNullOrEmptyString(this.get_currentSheet())}});var nx=global.tab.StoryPointsModel=ss.mkType(a,'tab.StoryPointsModel',function(e){this.$1=null;jC.call(this,e,new kA('storyPoints'.toString(),null))},{get_currentStoryPoint:function(){return this.$1},update:function(e,ex){if(!ss.isValue(this.$1)){this.$1=new nw(this,e.storyPointId)}this.$1.update(e,ex)}});var ny=global.tab.StoryPointsPresModelCache=ss.mkType(a,'tab.StoryPointsPresModelCache',function(){this.$3=null;this.$3=new(ss.makeGenericType(jq,[String,B]))(ny.$7);pu.get().add_onCommandResponse(ss.mkdel(this,this.$0));ny.$6=new ss.Lazy(function(){return[{ns:'tabdoc',cmd:'capture-story-point'}.cmd,{ns:'tabdoc',cmd:'delete-story-point'}.cmd,{ns:'tabdoc',cmd:'duplicate-active-story-point'}.cmd,{ns:'tabdoc',cmd:'edit-story-point-caption'}.cmd,{ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.cmd,{ns:'tabdoc',cmd:'get-storyboard'}.cmd,{ns:'tabdoc',cmd:'insert-story-point'}.cmd,{ns:'tabdoc',cmd:'next-story-point'}.cmd,{ns:'tabdoc',cmd:'new-blank-story-point'}.cmd,{ns:'tabdoc',cmd:'previous-story-point'}.cmd,{ns:'tabdoc',cmd:'replace-story-point'}.cmd,{ns:'tabdoc',cmd:'revert'}.cmd,{ns:'tabdoc',cmd:'revert-story-point'}.cmd,{ns:'tabsrv',cmd:'revert-workbook'}.cmd,{ns:'tabdoc',cmd:'save-active-story-point-as-new'}.cmd,{ns:'tabdoc',cmd:'set-active-story-point'}.cmd,{ns:'tabdoc',cmd:'toggle-storypoints-nav-arrows'}.cmd]});if(ss.isValue(ny.$5)){this.$3.add(ny.$5.item1.toString(),ny.$5.item2);ny.$5=null}},{hasStoryPoint:function(e){return this.$3.has(e.toString())},getStoryPoint:function(e){var ex=this.$3.get(e.toString());return ex.$0()},addStoryPoint:function(e,ex){this.$3.add(e.toString(),new B(ex))},$0:function(e){var ex=e.get_worldUpdateCommand();var pC=e.get_applicationPresModel();var pD=e.get_sheetChanged();if(this.$2(pC,pD)){this.$1()}if(!ny.$3(pC)){return}if(!_.contains(ny.$6.value(),ex.commandName)){return}var pE=ny.$1(pC);if(ss.isNullOrUndefined(pE)){return}var pF=pE.storyPointId.toString();this.$3.add(pF,new B(pE))},$2:function(e,ex){if(ny.$2(e)){return false}if(!e.workbookPresModel.dashboardPresModel.isStory||ex){return true}return false},$1:function(){this.$3.clear();ny.$5=null},dispose:function(){this.$1();pu.get().remove_onCommandResponse(ss.mkdel(this,this.$0))}},{$0:function(e){if(!ny.$3(e)){return}var ex=ny.$1(e);if(ss.isValue(ex)){var pC=new B(ex);ny.$5={item1:ex.storyPointId,item2:pC}}pu.get().remove_onBootstrapResponse(ny.$0)},$3:function(e){if(ny.$2(e)||!e.workbookPresModel.dashboardPresModel.isStory||e.renderMode!=='render-mode-client'){return false}return true},$2:function(e){if(ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel.zones)){return true}return false},$1:function(e){if(e.renderMode!=='render-mode-client'){return null}if(ny.$2(e)){return null}var ex=null;var pC=e.workbookPresModel.dashboardPresModel.zones;var pD=_.keys(pC);for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];var pG=pC[pF];if(ss.isNullOrUndefined(pG)){continue}ex=pA.getContent(pG,'flipboard');if(ss.isValue(ex)){break}}if(ss.isNullOrUndefined(ex)){return null}var pH=ex.activeStoryPointId.toString();var pI=ex.storyPoints[pH];return pI}});var nz=global.tab.StoryState=ss.mkType(a,'tab.StoryState',function(){this.$1$1=false;this.$1$2=0;this.$1$3=null;var e=bd.get_instance().get_workbook();this.set_isStory(e.get_isCurrentSheetStoryboard()&&ss.isValue(e.get_storyboard().get_flipboard()));if(this.get_isStory()){this.set_sheetName(e.get_storyboard().get_sheetName());this.set_storyPointId(e.get_storyboard().get_flipboard().get_currentStoryPointId())}},{get_isStory:function(){return this.$1$1},set_isStory:function(e){this.$1$1=e},get_storyPointId:function(){return this.$1$2},set_storyPointId:function(e){this.$1$2=e},get_sheetName:function(){return this.$1$3},set_sheetName:function(e){this.$1$3=e}});var nA=global.tab.StructuredMeasureModel=ss.mkType(a,'tab.StructuredMeasureModel',function(e){this.$4$1=null;fv.call(this,e)},{get_instanceType:function(){return'structuredMeasure'},get_canHaveChildren:function(){return true},get_measures:function(){return this.$4$1},set_measures:function(e){this.$4$1=e},update$1:function(e,ex){this.swapAndCopyPresModel(e);this.set_measures(ex)}});var nB=global.tab.StructuredMeasureModelFactory=ss.mkType(a,'tab.StructuredMeasureModelFactory',null,null,{create:function(e,ex,pC){var pD=nB.$0(e,ex,pC);var pE=(ss.keyExists(pC.get_fields(),e.fn)?pC.get_fields()[e.fn].asStructuredMeasure():new nA(ex));pE.update$1(e,pD);return pE},$0:function(e,ex,pC){var pD=[];if(ss.isNullOrUndefined(e.structuredMeasureList)){return pD}for(var pE=0;pE<e.structuredMeasureList.length;pE++){var pF=e.structuredMeasureList[pE];pD.push(nB.create(pF,ex,pC))}return pD}});var nC=global.tab.StyledBoxModel=ss.mkType(a,'tab.StyledBoxModel',function(e){this.$1=null;this.$2=null;this.$2$1=null;jC.call(this,e,new kA('styledBox'.toString(),0));this.$1=new jy;this.$2=new kb},{add_styleUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_styleUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_styledBoxPresModel:function(){return ss.coalesce(this.pm,new Object)},get_hasFill:function(){return ss.coalesce(this.get_styledBoxPresModel().hasFill,false)},get_fillColor:function(){return ss.coalesce(this.get_styledBoxPresModel().fillColor,'rgba(0, 0, 0, 0)')},get_margin:function(){return this.$1.get_defaultValue()},get_marginTop:function(){return this.$1.get_topValue()},get_marginLeft:function(){return this.$1.get_leftValue()},get_marginBottom:function(){return this.$1.get_bottomValue()},get_marginRight:function(){return this.$1.get_rightValue()},get_marginDefinition:function(){return new jy.$ctor1(this.get_styledBoxPresModel())},get_padding:function(){return this.$2.get_defaultValue()},get_paddingTop:function(){return this.$2.get_topValue()},get_paddingLeft:function(){return this.$2.get_leftValue()},get_paddingBottom:function(){return this.$2.get_bottomValue()},get_paddingRight:function(){return this.$2.get_rightValue()},get_paddingDefinition:function(){return new kb.$ctor1(this.get_styledBoxPresModel())},get_borderStyle:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyle,'bs-none')},get_borderStyleTop:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleTop,this.get_borderStyle())},get_borderStyleLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleLeft,this.get_borderStyle())},get_borderStyleBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleBottom,this.get_borderStyle())},get_borderStyleRight:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleRight,this.get_borderStyle())},get_borderColor:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColor,'rgba(0, 0, 0, 0)')},get_borderColorTop:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorTop,this.get_borderColor())},get_borderColorLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorLeft,this.get_borderColor())},get_borderColorBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorBottom,this.get_borderColor())},get_borderColorRight:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorRight,this.get_borderColor())},get_borderWidth:function(){return ss.coalesce(this.get_styledBoxPresModel().uw,0)},get_borderWidthTop:function(){return ss.coalesce(this.get_styledBoxPresModel().uwt,this.get_borderWidth())},get_borderWidthLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().uwl,this.get_borderWidth())},get_borderWidthBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().uwb,this.get_borderWidth())},get_borderWidthRight:function(){return ss.coalesce(this.get_styledBoxPresModel().uwr,this.get_borderWidth())},get_border:function(){return new bq(this.get_borderWidth(),this.get_borderStyle(),this.get_borderColor(),0)},get_borderTop:function(){return new bq(this.get_borderWidthTop(),this.get_borderStyleTop(),this.get_borderColorTop(),1)},get_borderLeft:function(){return new bq(this.get_borderWidthLeft(),this.get_borderStyleLeft(),this.get_borderColorLeft(),2)},get_borderBottom:function(){return new bq(this.get_borderWidthBottom(),this.get_borderStyleBottom(),this.get_borderColorBottom(),4)},get_borderRight:function(){return new bq(this.get_borderWidthRight(),this.get_borderStyleRight(),this.get_borderColorRight(),3)},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}this.pm=e;this.$2=new kb.$ctor1(this.get_styledBoxPresModel());this.$1=new jy.$ctor1(this.get_styledBoxPresModel());this.raiseEvent(this.$2$1,ex)}});var nD=global.tab.TabbedAuthenticationDialogCommands=ss.mkType(a,'tab.TabbedAuthenticationDialogCommands',null,null,{useTabbedAuthDialog:function(e){return ss.isValue(e)&&ss.isValue(e.dataSourceConnectionAttemptInfos)&&e.dataSourceConnectionAttemptInfos.length>1&&!dQ.hasPublishedFederatedConnections(e)},showTabbedAuthenticationDialog:function(e,ex,pC){var pD=new hc;pD.c['connectionFullNames']=e;pD.c['editingConnection']=ex;pD.c['connectionAttemptInfo']=pC;var pE=pD;pE.invoke()}});var nE=global.tab.TableCalcIdentifierModel=ss.mkType(a,'tab.TableCalcIdentifierModel',function(e){this.$1=null;this.$0=null;this.update(e)},{get_nestingLevel:function(){return this.$1},get_fieldName:function(){return this.$0},update:function(e){if(ss.isNullOrUndefined(e)){this.$1='primary';this.$0='';return}this.$1=e.calcNestingLevel;this.$0=e.fn}});var nF=global.tab.TableCalcModel=ss.mkType(a,'tab.TableCalcModel',function(e){this.$4=null;this.$3=null;this.$2$1=null;this.$2$2=null;jC.call(this,e,new kA('tableCalculationPresModel'.toString(),null));this.set_tableCalcIdentifier(new nE(null));this.$3=new nG(this)},{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$2:function(){return this.pm},get_hasTableCalc:function(){return ss.isValue(this.pm)},get_tableCalcTypeWidgetState:function(){return this.$2().tableCalcTypeState},get_tableCalcType:function(){return(this.get_hasTableCalc()?this.get_tableCalcTypeValues()[this.get_tableCalcTypeIndex()]:'none')},get_tableCalcTypeIndex:function(){return this.$2().tableCalcTypeIndex|0},get_tableCalcTypeCaptions:function(){return this.$2().tableCalcTypeCaptions},get_tableCalcTypeValues:function(){return this.$2().tableCalcTypeValues},get_typeSpecificTableCalcModel:function(){return this.$4},get_tableCalcOrderingModel:function(){return this.$3},get_tableCalcIdentifier:function(){return this.$2$2},set_tableCalcIdentifier:function(e){this.$2$2=e},update:function(e,ex){var pC=e;if(this.isNewPresModelSameAsOld(pC)){return}this.swapAndCopyPresModel(pC);if(this.get_hasTableCalc()){this.get_tableCalcIdentifier().update(pC.tableCalcIdentifier);this.$3.update(pC.tableCalcOrderingPresModel,ex);this.$1(ex)}else{this.get_tableCalcIdentifier().update(null);this.$3.update(null,ex)}this.raiseEvent(this.$2$1,ex)},$1:function(e){var ex=null;var pC=null;switch(this.get_tableCalcType()){case'diff':case'pct-diff':case'pct-value':{ex=ey;pC='differenceTableCalcPresModel'.toString();break}case'pct-total':{ex=kl;pC='percentTotalTableCalcPresModel'.toString();break}case'rank':case'pct-rank':{ex=kR;pC='rankTableCalcPresModel'.toString();break}case'cumulative':{ex=dp;pC='cumulativeTableCalcPresModel'.toString();break}case'window':{ex=ph;pC='windowTableCalcPresModel'.toString();break}case'custom':{ex=dr;pC='customTableCalcPresModel'.toString();break}default:{break}}if(ss.isNullOrUndefined(ex)){this.$4=null;return}if(ss.isNullOrUndefined(this.$4)||!ss.referenceEquals(ss.getInstanceType(this.$4),ex)){this.$4=new ex(this)}this.$4.update(nF.$0(this.$2(),pC),e)}},{$0:function(e,ex){if(!(ex in e.presModelHolder)){return null}return e.presModelHolder[ex]}});var nG=global.tab.TableCalcOrderingModel=ss.mkType(a,'tab.TableCalcOrderingModel',function(e){this.$2$1=null;jC.call(this,e,new kA('tableCalcOrderingPresModel'.toString(),null))},{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_orderingTypeValues:function(){return this.get_ordering().orderingTypeValues},get_orderingTypeIndex:function(){return this.get_ordering().orderingTypeIndex},get_orderingTypeCaptions:function(){return this.get_ordering().orderingTypeCaptions},get_addressingIndexes:function(){return this.get_ordering().addressingIndices},get_addressingInvalidIndexes:function(){return this.get_ordering().addressingInvalidIndices},get_addressingCaptions:function(){return this.get_ordering().addressingCaptions},get_addressingValues:function(){return this.get_ordering().addressingValues},get_addressingState:function(){return this.get_ordering().addressingState},get_atTheLevelState:function(){return this.get_ordering().atTheLevelState},get_atTheLevelCaptions:function(){return this.get_ordering().atTheLevelCaptions},get_atTheLevelValues:function(){return this.get_ordering().atTheLevelValues},get_atTheLevelIndex:function(){return this.get_ordering().atTheLevelIndex},get_isAtTheLevelFieldInvalid:function(){return this.get_ordering().atTheLevelFieldIsInvalid},get_atTheLevelInvalidFieldCaption:function(){return this.get_ordering().atTheLevelInvalidFieldCaption},get_atTheLevelSpecialCaption:function(){return this.get_ordering().atTheLevelSpecialCaption},get_atTheLevelSpecialValue:function(){return''},get_atTheLevelValue:function(){return((this.get_atTheLevelIndex()===-1)?this.get_atTheLevelSpecialValue():this.get_atTheLevelValues()[this.get_atTheLevelIndex()])},get_restartEveryState:function(){return this.get_ordering().restartEveryState},get_restartEveryCaptions:function(){return this.get_ordering().restartEveryCaptions},get_restartEveryIndex:function(){return this.get_ordering().restartEveryIndex},get_isRestartEveryFieldInvalid:function(){return this.get_ordering().restartEveryFieldIsInvalid},get_restartEveryValues:function(){return this.get_ordering().restartEveryValues},get_restartEverySpecialCaption:function(){return this.get_ordering().restartEverySpecialCaption},get_restartEverySpecialValue:function(){return''},get_restartEveryValue:function(){return((this.get_restartEveryIndex()===-1)?this.get_restartEverySpecialValue():this.get_restartEveryValues()[this.get_restartEveryIndex()])},get_sortState:function(){return this.get_ordering().sortState},get_sortAggState:function(){return this.get_ordering().sortAggState},get_sortModeIsAuto:function(){return this.get_ordering().sortModeIsAuto},get_sortModeCaption:function(){return this.get_ordering().sortModeCaption},get_sortField:function(){if(this.get_ordering().sortModeIsAuto){return null}return this.get_ordering().sortFieldValues[this.get_ordering().sortFieldIndex]},get_isSortFieldInvalid:function(){return this.get_ordering().sortFieldIsInvalid},get_sortFieldCaptions:function(){return this.get_ordering().sortFieldCaptions},get_sortFieldIndex:function(){return this.get_ordering().sortFieldIndex|0},get_sortFieldValues:function(){return this.get_ordering().sortFieldValues},get_sortAgg:function(){if(this.get_ordering().sortModeIsAuto){return null}return this.get_ordering().sortAggValues[this.get_ordering().sortAggIndvValues]},get_sortAggCaptions:function(){return this.get_ordering().sortAggCaptions},get_sortAggIndex:function(){return this.get_ordering().sortAggIndvValues|0},get_sortAggValues:function(){return this.get_ordering().sortAggValues},get_sortDirectionValues:function(){return this.get_ordering().sortDirectionValues},get_sortDirectionIndex:function(){return this.get_ordering().sortDirectionIndex|0},get_sortDirectionCaptions:function(){return this.get_ordering().sortDirectionCaptions},get_ordering:function(){return(ss.isValue(this.pm)?this.pm:null)},get_hasOrdering:function(){return ss.isValue(this.get_ordering())},get_tableCalcIdentifier:function(){return(ss.isNullOrUndefined(this.parent)?new nE(null):this.parent.get_tableCalcIdentifier())},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}});var nH=global.tab.TableCalcReferenceModel=ss.mkType(a,'tab.TableCalcReferenceModel',function(e){this.$2$1=null;jC.call(this,e,new kA('tableCalcReferenceOptionsPresModel'.toString(),null))},{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_relativeValues:function(){return this.pm.relativeValues},get_relativeCaptions:function(){return this.pm.relativeCaptions},get_fixedValues:function(){return this.pm.fixedValues},get_fixedCaptions:function(){return this.pm.fixedCaptions},get_paramValues:function(){return this.pm.paramValues},get_paramCaptions:function(){return this.pm.paramCaptions},get_referenceOptionsSets:function(){return this.pm.referenceOptionsSets},get_selectionIndex:function(){return this.pm.referenceIndex},get_referenceWidgetState:function(){return this.pm.referenceOptionsState},get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new nE(null):e.get_tableCalcIdentifier())},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}});var nI=global.tab.TabResources=ss.mkType(a,'tab.TabResources',function(){},null,{getResourceName:function(e){return e.substring(e.lastIndexOf('/')+1,e.lastIndexOf('.'))},lookupResourceAlias:function(e){return(ss.keyExists(nI.$1,e)?nI.$1[e]:'')},lookupFullResourceAlias:function(e){var ex=e.split('/');var pC=((ex.length>0)?ex[ex.length-1]:e);return nI.lookupResourceAlias(pC)},lookupTabRes:function(e){return nI.lookupResourceAlias(e)},lookupDefaultTabRes:function(e){return':/'+tsConfig.locale+'/'+nI.lookupResourceAlias(e)}});var nJ=global.tab.TelemetryUtils=ss.mkType(a,'tab.TelemetryUtils',null,null,{generateUUID:function(){var e=function(){var pC='0123456789abcdefghijklmnopqrstuvwxyz';return String.fromCharCode(pC.charCodeAt(Math.floor(Math.random()*pC.length)))};var ex=function(pC){var pD='';for(var pE=0;pE<pC;++pE){pD+=e()}return pD};return(new Date).getTime().toString(32).toLowerCase()+'$'+ex(4)+'-'+ex(2)+'-'+ex(2)+'-'+ex(2)+'-'+ex(6)}});var nK=global.tab.TextRegionModel=ss.mkType(a,'tab.TextRegionModel',function(e,ex){this.$2$1=null;jC.call(this,e,new kA(ex,null))},{add_newText:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newText:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.pm.halign},get_html:function(){return this.pm.html},get_orientation:function(){return this.pm.orientation},get_styledBox:function(){return this.pm.styledBox},get_vAlign:function(){return this.pm.valign},get_sheetName:function(){return this.pm.worksheet},update:function(e,ex){if(this.simpleSwapToUpdate(e,this.$2$1,ex)){fZ.notifyFontsFromTextRegionPresModel(e)}}});var nL=global.tab.ThumbnailUtils=ss.mkType(a,'tab.ThumbnailUtils',null,null,{getThumbnailUriStrings:function(e,ex){var pC=tsConfig.repository_urls;var pD={};for(var pE=0;pE<pC.length;++pE){var pF=pC[pE];var pG=new lj(pF);var pH=pG.get_originalViewURL();pD[ex[pE]]=e.formatThumbnailReference(pH)}return pD},getThumbnailUriString:function(e){var ex=cw.get().legacySession;var pC=ss.replaceAllString(e,' ','');var pD=tsConfig.workbookName+'/'+pC;pD=encodeURI(pD);var pE=new lj(pD);var pF=pE.get_originalViewURL();return ex.formatThumbnailReference(pF)}});var nM=global.tab.ToggleAutomaticLayoutModeCmd=ss.mkType(a,'tab.ToggleAutomaticLayoutModeCmd',function(){ss.makeGenericType(bl,[Object,nN]).call(this)},{get_commandId:function(){return nM.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'toggle-automatic-layout-mode'},this.c))}});var nN=global.tab.ToggleAutomaticLayoutModeCmd$Response=ss.mkType(a,'tab.ToggleAutomaticLayoutModeCmd$Response',function(e){this.$$c=null;this.$$c=e});var nO=global.tab.ToggleINDJoinSemanticsCmd=ss.mkType(a,'tab.ToggleINDJoinSemanticsCmd',function(){ss.makeGenericType(bl,[Object,nP]).call(this)},{get_commandId:function(){return nO.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'toggle-ind-join-semantics'},this.c))}});var nP=global.tab.ToggleINDJoinSemanticsCmd$Response=ss.mkType(a,'tab.ToggleINDJoinSemanticsCmd$Response',function(e){this.$$c=null;this.$$c=e});var nQ=global.tab.ToggleINDJoinSemanticsWrapperCmd=ss.mkType(a,'tab.ToggleINDJoinSemanticsWrapperCmd',function(){ss.makeGenericType(oU,[Object,nR]).call(this)},{get_commandId:function(){return nQ.cmdId}});var nR=global.tab.ToggleINDJoinSemanticsWrapperCmd$Response=ss.mkType(a,'tab.ToggleINDJoinSemanticsWrapperCmd$Response',function(e){this.$$c=null;this.$$c=e});var nS=global.tab.ToggleUseExtractCmd=ss.mkType(a,'tab.ToggleUseExtractCmd',function(){ss.makeGenericType(bl,[Object,nT]).call(this)},{get_commandId:function(){return nS.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabsrv',cmd:'toggle-use-extract'},this.c))}});var nT=global.tab.ToggleUseExtractCmd$Response=ss.mkType(a,'tab.ToggleUseExtractCmd$Response',function(e){this.$$c=null;this.$$c=e});var nU=global.tab.ToolbarModel=ss.mkType(a,'tab.ToolbarModel',function(e){this.$2$1=null;jC.call(this,e,new kA('toolbarPresModel'.toString(),null))},{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_vizCommandItems:function(){var e=null;if(ss.isValue(this.pm)){var ex=cL.create(this.pm.vizCommands);e=ex.get_commandItems()}return e},get_nonVizCommandItems:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e=cL.create(this.pm.nonVizCommands);return e.get_commandItems()},update:function(e,ex){if(ss.isValue(e)){this.simpleSwapToUpdate(e,this.$2$1,ex)}}});var nV=global.tab.ToolbarServerCommands=ss.mkType(a,'tab.ToolbarServerCommands',null,null,{get_authoringVizUri:function(){var e;var ex=null;if(ss.isNullOrEmptyString(ex)){e=oP.createForAuthoringPublishedSheet(tsConfig.repositoryUrl)}else{e=oP.createForAuthoringUnpublishedSheet(tsConfig.repositoryUrl,ex)}e.trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar();e.removeHash();return e},setAutoUpdate:function(e){var ex={};ex['state']=e;var pC=cN.newCommand({ns:'tabsrv',cmd:'set-auto-update-server'},ex);mp.executeServerCommand(pC,'immediately',null,null)},refreshData:function(){var e={};e['deltaTime']=0;e['shouldRefreshDs']=true;var ex=cN.newCommand({ns:'tabsrv',cmd:'refresh-data-server'},e);mp.executeServerCommand(ex,'immediately',null,null)},launchEditing:function(){var e=nV.get_authoringVizUri();if(!tsConfig.openAuthoringInTopWindow&&(tabBootstrap.EmbedAndViewportCalculator.get_isEmbeddedInsideAnotherPage()||tsConfig.is_mobile_app)){tab.WindowHelper.open(e.get_uri(),'tableauAuthoring')}else{e.setTopWindowLocation()}},downloadWorkbook:function(e,ex){var pC;if(ss.isValue(e)){pC=e}else{pC=tsConfig.downloadURI}var pD;if(tsConfig.is_metrics_view){pD=cw.get().legacySession.metricsViewDownloadUrl()}else{pD=nV.$0(pC)}if(ss.isValue(ex)){pD=pD+'?formatVersion='+ex}window.open(pD)},exportData:function(){var e=null;if(ss.isValue(jF.findActiveOrDefaultVisual(null))){e=jF.findActiveOrDefaultVisual(null).get_worksheetName()}var ex=jF.findContentDashboard(null).getViewSession(e);if(ss.isValue(ex)){var pC=jF.findActiveOrDefaultVisual(null).get_visualId();oz.contructViewData(ex.getViewUrl()).open$1(pC)}},exportImage:function(e){var ex=[];var pC=[];if(jF.findContentDashboard(null).get_isDashboard()){var pD=e.get_sheetScrollPositions();if(ss.isValue(pD)){var pE=ss.getEnumerator(Object.keys(pD));try{while(pE.moveNext()){var pF=pE.current();var pG=pD[pF];var pH=pG.x;var pI=pG.y;if(pH!==0||pI!==0){pC.push({x:pH,y:pI});ex.push(pF)}}}finally{pE.dispose()}}}fk.exportImage(tsConfig.current_sheet_name,ex,pC,true)},exportPdf:function(e,ex){e.triggerExportPdfUI(ex,true)},$0:function(e){if(ss.isValue(e)){var ex=e.match(nV.$2);if(ss.isValue(ex)&&ex.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+ex[1]}}return e}});var nW=global.tab.TrackingCommandDispatcher=ss.mkType(a,'tab.TrackingCommandDispatcher',function(){this.$2=[];this.$3=null},{dispatch:function(e,ex){return function(pC){if(!ss.staticEquals(this.$3,null)){return $.Deferred().reject()}this.$0(e,ex).call(this,pC);var pD=$.Deferred();var pE=ee.get_instance();pE.dispatch(e,ex).call(pE,pC).done(function(pF){pD.resolve(pF)}).fail(function(){pD.reject()}).always(ss.mkdel(this,function(){this.$1(e,ex).call(this,pC)}));return pD}},deferUntilCommandsComplete:function(e){this.$3=e;if(this.$2.length===0){this.$3()}},$0:function(e,ex){return function(pC){this.$2.push(pC)}},$1:function(e,ex){return function(pC){ss.remove(this.$2,pC);if(this.$2.length===0&&!ss.staticEquals(this.$3,null)){this.$3()}}}});var nX=global.tab.Transaction=ss.mkType(a,'tab.Transaction',function(e){this.$2=null;this.$1=null;this.modelUpdateContext=null;this.modelUpdateContext=e;this.$2=[];this.$1=[]},{$0:function(){return this.$1},get_transactedChange:function(){return nX.$0(this.$2)},makeMutablePresModel:function(e,ex){var pC=e.getPresModelPath();for(var pD=0;pD<this.$2.length;pD++){var pE=this.$2[pD];if(_.isEqual(pE.$1(),pC)){return pE.$0()}}var pF=e.getMutableCopyOfPresModel();this.$2.push(new u(pC,pF));if(!ex){this.$1.push(new u(pC,e.pm))}return pF}},{$0:function(e){if(e.length===0){return null}e=_.sortBy(e,function(pG){return pG.$1().get_pathList().length});var ex=bd.get_instance().pm;var pC=ky.cloneObjWithScalarsOnly(ex);if(ss.isNullOrUndefined(pC)){pC=new Object}var pD=pC;for(var pE=0;pE<e.length;pE++){var pF=e[pE];ky.insertAtPath(ex,pD,pF.$1(),pF.$0())}return pD},$1:function(e){var ex=nX.$0(e);if(ss.isValue(ex)&&ss.isValue(ex.presentationLayerNotification)){ex.presentationLayerNotification=null}return ex}});var nY=global.tab.Transactor=ss.mkType(a,'tab.Transactor',function(){this.$1=null;this.$0={}},{get_hasTransactedState:function(){return ss.getKeyCount(this.$0)>0},beginTransaction:function(e){if(ss.isValue(this.$1)){throw new ss.Exception('Internal error: nested transaction')}this.$1=new nX(e);return this.$1},rollbackTransaction:function(){this.$1=null},endTransaction:function(){var e=ss.getEnumerator(this.$1.$0());try{while(e.moveNext()){var ex=e.current();if(!ss.keyExists(this.$0,ex.$1().get_pathAsString())){this.$0[ex.$1().get_pathAsString()]=ex}}}finally{e.dispose()}var pC=this.$1.get_transactedChange();this.$1=null;return pC},resetTransactedState:function(){ss.clearKeys(this.$0)},rollbackTransactions:function(e){if(this.get_hasTransactedState()){bd.get_instance().update(nX.$1(_.values(this.$0)),e)}},containsTransaction:function(e){return ss.keyExists(this.$0,e)}});var nZ=global.tab.TypeInCalculationModel=ss.mkType(a,'tab.TypeInCalculationModel',function(e){bU.call(this,e,new kA('typeInPill'.toString(),null))},{get_notificationId:function(){return'doc:type-in-pill-event'},get_isAdhoc:function(){return true},onNotify:function(e,ex){this.update(e,ex)}});var oa=global.tab.TypeSpecificTableCalcModel=ss.mkType(a,'tab.TypeSpecificTableCalcModel',function(e,ex){jC.call(this,e,ex)},{get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new nE(null):e.get_tableCalcIdentifier())},update:null});var ob=global.tab.UbertipButtonMenuModel=ss.mkType(a,'tab.UbertipButtonMenuModel',function(){cB.call(this)},{get_itemCount:function(){return this.$1().get_commandItems().length},get_hasItems:function(){return this.get_itemCount()>0},get_defaultItem:function(){return this.$1().get_defaultItem()},$1:function(){return cL.create(this.get_wrappedCommandItemPresModel().get_commands())}});var oc=global.tab.UbertipButtonModel=ss.mkType(a,'tab.UbertipButtonModel',function(){this.$2$1=null;this.$2$2=false;this.$2$3=null;jC.call(this,null,new kA('ubertipButton',null))},{get_serializedCommand:function(){return this.$2$1},set_serializedCommand:function(e){this.$2$1=e},get_isMenuButton:function(){return ss.isValue(this.get_wrappedCommandItemPresModel())&&ss.isValue(this.get_wrappedCommandItemPresModel().get_commands())},get_asMenuButton:function(){return this},get_isPlaceholder:function(){return this.$2$2},set_isPlaceholder:function(e){this.$2$2=e},get_legacyCommandModel:function(){return this.$2$3},set_legacyCommandModel:function(e){this.$2$3=e},get_status:null,get_commandType:null,get_name:null,get_description:null,get_imageRes:null,get_wrappedCommandItemPresModel:null});var od=global.tab.UberTipClientCommands=ss.mkType(a,'tab.UberTipClientCommands',null,null,{executeUbertipAction:function(e,ex,pC){var pD=new jo(function(pE){R.executeAction(e,ex,pC,pE)});cw.SendCommand(pD)},executeUbertipCommand:function(e){switch(e.get_commandType()){case 1:{mh.clearAllSelections(jF.findActiveOrDefaultVisual(null).get_visualId());break}case 2:case 10:case 24:{var ex=od.$6(e);mp.executeServerCommand(ex,'immediately',null,null);break}case 4:case 5:case 11:case 12:case 13:case 15:case 17:case 18:case 22:case 16:{mp.executeServerCommand(e.command,'immediately',null,null);break}case 21:{mp.executeServerCommand(e.command,'immediately',cN.createCommandRedirectSuccessHandler(null),null);break}case 23:{var pC=cN.newCommand({ns:'tabdoc',cmd:'select-by-tuple-value'},e.command.commandParams);mp.executeServerCommand(pC,'immediately',null,null);break}case 6:case 9:case 7:default:{return}}},localAndRemoteUberTipCommand:function(e,ex,pC,pD,pE,pF,pG,pH,pI){var pJ=od.$0(e,ex,pC,pE,pF,pG,pH,pI,pD);cw.SendCommand(pJ)},$0:function(e,ex,pC,pD,pE,pF,pG,pH,pI){var pJ=new b(od.$2(ex,pD,pE),od.$5(e,ex,pC,pH,null,pI),od.$3(true,pF),pG);return pJ},localOnlyUbertipCommand:function(e,ex,pC){var pD=od.$1(e,ex,pC);pD.set_commandName({ns:'tabsrv',cmd:'render-tooltip-server'}.cmd);cw.SendCommand(pD)},$1:function(e,ex,pC){var pD=new b(od.$2(e,ex,pC),null,null,null);return pD},remoteOnlyUbertipCommand:function(e,ex,pC,pD,pE,pF,pG,pH,pI,pJ){var pK=od.$4(e,ex,pC,pD,pE,pF,pG,pH,pI,pJ);cw.SendCommand(pK)},$4:function(e,ex,pC,pD,pE,pF,pG,pH,pI,pJ){var pK=R.computePossibleLocalWorkForRemoteHoverActions(ex,pH,pI);var pL=new b(pK,od.$5(e,ex,pC,pF,pG,pJ),od.$3(false,pD),pE);return pL},$2:function(e,ex,pC){return function(pD){var pE=of.createLocalUberTipModel(jF.getVisualModelFromVisualId(e,null),ex,tsConfig.is_authoring);if(ss.isValue(pE)){pE.isUpdate=false;pE.buttonModels=oe.filterUbertipButtonsByCommandPermissions(pE.buttonModels,od.$8)}pC(pE);R.executeActions(e,'on-hover',[ex.get_interactedTupleId()],pD,false)}},$5:function(e,ex,pC,pD,pE,pF){var pG={};cN.addVisualIdToCommand(pG,ex);if(ss.isValue(pF)){pG['tupleIds']=[ss.unbox(pF)]}var pH=new Object;var pI=oO.create(pH);pI.set_r(e);pI.set_x(Math.round(pC.x));pI.set_y(Math.round(pC.y));pI.set_w(Math.round(pC.w));pI.set_h(Math.round(pC.h));pI.set_fns(pE);pG['vizRegionRect']=pH;pG['allowHoverActions']=tsConfig.is_mobile||pD==='on-hover';pG['allowPromptText']=true;pG['allowWork']=tsConfig.is_mobile;pG['useInlineImages']=true;return cN.newCommand({ns:'tabsrv',cmd:'render-tooltip-server'},pG)},$3:function(e,ex){return function(pC){if(!ss.isValue(pC)){return}var pD=pC.toString();var pE=(ss.isNullOrEmptyString(pD)?null:JSON.parse(pD));oe.updateUbertipFromPresModel(e,pE,ex,od.$8)}},$6:function(e){var ex=cN.duplicateCommand(e.command);var pC=ex.commandParams;var pD=pC['tupleId'];delete pC['tupleId'];if(!ss.keyExists(pC,'selectAtPoint')&&ss.isValue(pD)){var pE=[parseInt(pD.toString())>>>0];var pF={objectIds:pE,selectionType:'tuples'};pC['selection']=pF}return ex}});var oe=global.tab.UbertipModelUtils=ss.mkType(a,'tab.UbertipModelUtils',null,null,{updateUbertipFromPresModel:function(e,ex,pC,pD){fZ.notifyFontsFromUberTipPresModel(ex);var pE=of.deserializeUbertip(ex);if(ss.isValue(pE)){pE.isUpdate=e;pE.buttonModels=oe.filterUbertipButtonsByCommandPermissions(pE.buttonModels,pD)}if(ss.isValue(pC)){pC(pE)}fZ.$0()},filterUbertipButtonsByCommandPermissions:function(e,ex){return _.filter(e,function(pC){if(pC.get_isMenuButton()){return true}if(!ex.test(pC)){return false}return true})}});var of=global.tab.UbertipSerializer=ss.mkType(a,'tab.UbertipSerializer',null,null,{$d:function(){return tab.Logger.lazyGetLogger(of)},deserializeUbertip:function(e){if(ss.isNullOrUndefined(e)){return null}var ex=[];if(ss.isValue(e.selectionRelaxationCommands)){of.$1(e.selectionRelaxationCommands,ex,0)}var pC=[];if(ss.isValue(e.actions)){of.$1(e.actions,pC,0)}var pD={};if(ss.isValue(e.commands)){pD.buttonModels=of.$2(e)}pD.tooltipHtml=of.$a(e.htmlTooltip);pD.selectionHtml=of.$a(e.htmlSelection);pD.overlayImage=of.$a(e.overlayImage);pD.overlayImageKey=of.$a(e.overlayImageKey);pD.tupleId=e.tupleId;pD.interactedTupleId=e.tupleId;pD.imageRegion=e.r;pD.tupleSelected=e.tupleSelected||false;pD.refLineSelected=e.refLineSelected||false;pD.trendLineSelected=e.trendLineSelected||false;pD.isExplicitlyEmpty=e.isEmpty||false;pD.tooltipOffset=tab.PointUtil.fromPresModel(e.tooltipOffset);pD.markBounds=tab.RecordCast.rectPresModelAsRectXY(e.markTooltipRect);pD.contentCommands=ex;pD.actions=pC;if(ss.isValue(pD.overlayImage)||ss.isValue(pD.overlayImageKey)){var pE=e.overlayAnchors.length;pD.overlayAnchors=new Array(pE);for(var pF=0;pF<pE;++pF){var pG=e.overlayAnchors[pF];var pH=tab.PointUtil.fromPresModel(pG);pD.overlayAnchors[pF]={x:pH.x,y:pH.y}}}if(ss.isValue(pD.tooltipHtml)||ss.isValue(pD.selectionHtml)||ss.isValue(pD.buttonModels)&&pD.buttonModels.length>0||pC.length>0){return pD}return null},$9:function(e){if(ss.isNullOrUndefined(e)){return null}return e.get_vizDataModel()},createLocalUberTipModel:function(e,ex,pC){var pD=ex.get_interactedTupleId();var pE=ex.get_affectedTupleIds();var pF=ex.get_paneDescriptorKey();var pG=of.$9(e);if(ss.isNullOrUndefined(pG)){return null}var pH=pG.get_ubertipData();var pI=of.$8(pH,pF);var pJ=of.$6(pI.htmlTooltip,e.get_visualId(),pD);var pK=bd.get_instance().get_dataDictionary();var pL=pI.htmlTooltip;var pM=pG.getVizDataField(pH.fn);if(ss.isValue(pM)){var pN=oJ.lookupRawDataValue(pD,pM,pK);if(ss.contains(pI.fieldVector,pN)){pL=pI.htmlTooltipModified}}var pO=oL.constructHtml(pK,pL,pG,[pD]);var pP=null;var pQ=false;if(pE.length>1&&pI.showButtons){pQ=true;pP=of.$7(pK,pG,pE,pI.summaryField)}var pR=[];var pS=pD;if(pS<0){pS=0}var pT=oL.hasTupleWithNonTotalValue(pG,pK,pE);if(pI.showButtons&&pG.hasDimensionColumnNotMeasureNames()){if(pT){pR=of.$3(pH.standardCommands,pS)}if(pQ){pR=of.$3(pH.multiselectCommands,pS)}pR=_.filter(pR,function(pY){return pY.get_commandType()!==10});if(pC){var pU=of.$5();pR.push(pU)}}var pV=(pT?R.getMenuUrlActionsForUbertipModel(e.get_visualId()):[]);var pW=pI.htmlTooltip.toString().length===0;if(ss.isValue(pO)||ss.isValue(pP)||pR.length>0||pV.length>0){var pX={tooltipHtml:pO,selectionHtml:pP,tupleId:pS,interactedTupleId:pD,isExplicitlyEmpty:pW,actionPMs:pV,buttonModels:pR,contentCommands:pJ,visualId:e.get_visualId()};return pX}return null},$5:function(){var e=new cE;e.set_CommandType(10);e.imageRes=nI.lookupResourceAlias('TQRC_SPLIT');e.set_Name('');var ex=e;if(tsConfig.is_mobile){var pC=tab.Strings.UbertipTooltip_GroupMobile;var pD=tab.Strings.UbertipTooltip_SplitMobile;ex.description=((pD.length>pC.length)?pD:pC)}var pE=new cF;pE.update(ex,true);return pE},paneContainsViT:function(e,ex){if(ss.isNullOrUndefined(e)){return false}var pC=e.get_vizDataModel();if(ss.isNullOrUndefined(pC)){return false}var pD=pC.get_ubertipData();if(ss.isNullOrUndefined(pD)){return false}if(ss.isNullOrUndefined(ex)){for(var pE=0;pE<pD.ubertipPaneDatas.length;pE++){var pF=pD.ubertipPaneDatas[pE];if(oL.objectContainsVizInTooltip($(pF.htmlTooltip))){return true}}return false}else{return oL.objectContainsVizInTooltip($(of.$8(pD,ex).htmlTooltip))}},$8:function(e,ex){if(e.ubertipPaneDatas.length===1){return e.ubertipPaneDatas[0]}for(var pC=0;pC<e.ubertipPaneDatas.length;pC++){var pD=e.ubertipPaneDatas[pC];if(ss.isValue(pD.paneDescriptor)){if(ss.referenceEquals(pD.paneDescriptor.paneDescrKey,ex)){return pD}}}return null},$6:function(e,ex,pC){if(pC===0){return[]}var pD=$(e);var pE=pD.find('a.relax-selection');var pF=pE.length;var pG=[];for(var pH=0;pH<pF;pH++){var pI=pE.eq(pH);var pJ=pI.children().eq(0);var pK=ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(pJ.text(),'<[','['),']>',']'),'>>','>'),'<<','<');var pL=pI.attr('href');var pM=of.$0(ex,pK,pL,pC);pG[pH]=pM}return pG},$0:function(e,ex,pC,pD){var pE={};pE['visualIdPresModel']=e;pE['worksheet']=e.worksheet;pE['fn']=ex;pE['tupleId']=pD.toString();var pF=cN.newCommand({ns:'tabdoc',cmd:'select-by-tuple-value'},pE);var pG=new cE;pG.set_CommandType(23);pG.set_Name(pC);pG.command=pF;var pH=pG;return pH},$7:function(e,ex,pC,pD){var pE=ex.getVizDataField(pD||'');if(ss.isValue(pE)){var pF=[];$.extend.apply(null,[true,pF].concat(of.$e));pF[2]=pC.length.toString();pF[4]=tab.Strings.UbertipItemsSelected;if(pE.get_aggType()!=='sum'){pF[8]=tab.Strings.SumOf}pF[10]=pD;pF[14]='&lt;'+pD+'&gt;';var pG=pF.join('');return oL.constructHtml(e,pG,ex,pC)}else{of.$f[2]=pC.length.toString();of.$f[4]=tab.Strings.UbertipItemsSelected;return of.$f.join('')}},$b:function(){return tsConfig.is_mobile},$1:function(e,ex,pC){var pD=cL.create(e);if(ss.isNullOrUndefined(pD)||ss.isNullOrUndefined(pD.get_commandItems())){return}var pE=pD.get_commandItems();for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];var pH=cC.create(pG);var pI=new cE;pI.command=cJ.deserialize(pH.get_command(),false);var pJ=pI;if(ss.isValue(pJ.command)){of.buildCommandModelFromWrapper(pJ,pH,pC);ex.push(pJ)}if(ss.isValue(pH.get_commands())){of.$1(pH.get_commands(),ex,pC)}}},$2:function(e){var ex=e.commands;return of.$3(ex,0)},$3:function(e,ex){var pC=cL.create(e);if(ss.isNullOrUndefined(pC)||ss.isNullOrUndefined(pC.get_commandItems())){return[]}var pD=[];var pE=pC.get_commandItems();for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];var pH=cC.create(pG).get_command();var pI=ss.isNullOrUndefined(pH);if(pI){var pJ=new ob;pJ.update(pG,ex);pD.push(pJ)}else{var pK=new cB;pK.update(pG,ex);pD.push(pK)}}if(of.$b()){pD.push(of.$4())}return pD},$4:function(){var e=new cE;e.set_CommandType(1);e.set_Name(tab.Strings.UbertipClearSelection);e.status='enabled';var ex=e;var pC=new cF;pC.update(ex,false);return pC},buildCommandModelFromWrapper:function(e,ex,pC){of.setCommandType(e);e.set_Name(ex.get_name());e.description=ex.get_descriptionText();if(!tab.MiscUtil.isNullOrEmpty$1(ex.get_iconRes())){e.imageRes=nI.lookupFullResourceAlias(ex.get_iconRes())}var pD=ex.get_enabled();e.status=((ss.isNullOrUndefined(pD)||pD)?'enabled':'disabled');if(pC!==0&&!ss.isValue(e.command.commandParams['selectAtPoint'])){e.command.commandParams['tupleId']=pC.toString()}},setCommandType:function(e){var ex=cJ.getCommandType(e.command);if(ss.isValue(ex)){e.set_CommandType(ss.unbox(ex))}},$a:function(e){return(ss.isNullOrEmptyString(e)?null:e)}});var og=global.tab.UngroupGroupContainerCmd=ss.mkType(a,'tab.UngroupGroupContainerCmd',function(){ss.makeGenericType(bl,[Object,oh]).call(this)},{get_commandId:function(){return og.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'ungroup-group-container'},this.c))}});var oh=global.tab.UngroupGroupContainerCmd$Response=ss.mkType(a,'tab.UngroupGroupContainerCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasZoneIDs:function(){return ss.keyExists(this.$$c,'zoneIds')}});var oi=global.tab.UngroupLayoutContainerCmd=ss.mkType(a,'tab.UngroupLayoutContainerCmd',function(){ss.makeGenericType(bl,[Object,oj]).call(this)},{get_commandId:function(){return oi.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'ungroup-layout-container'},this.c))}});var oj=global.tab.UngroupLayoutContainerCmd$Response=ss.mkType(a,'tab.UngroupLayoutContainerCmd$Response',function(e){this.$$c=null;this.$$c=e});var ok=global.tab.UnionFontFamilyProviderBuilder=ss.mkType(a,'tab.UnionFontFamilyProviderBuilder',function(){this.$0=null;this.$0={}},{addFontList:function(e){for(var ex=0;ex<e.length;ex++){var pC=e[ex];var pD=pC.get_fonts();for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];this.$0[pF]=pC.get_fontGroup()}}},toFontFamilyProvider:function(){if(ss.isNullOrUndefined(this.$0)){return new nk.$ctor2([])}var e=[];var ex={};var pC=ss.getEnumerator(Object.keys(this.$0));try{while(pC.moveNext()){var pD=pC.current();var pE=this.$0[pD];var pF=ex[pE.toLowerCase()];if(ss.isNullOrUndefined(pF)){pF=new cR(pE);e.push(pF);ex[pE.toLowerCase()]=pF}pF.addFont(pD)}}finally{pC.dispose()}e=_.sortBy(e,function(pG){return pG.get_fontGroup().toLowerCase()});return new nk.$ctor2(e)}});var ol=global.tab.UpdateAreaAnnotationCmd=ss.mkType(a,'tab.UpdateAreaAnnotationCmd',function(){ss.makeGenericType(bl,[Object,om]).call(this)},{get_commandId:function(){return ol.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'update-area-annotation'},this.c))}});var om=global.tab.UpdateAreaAnnotationCmd$Response=ss.mkType(a,'tab.UpdateAreaAnnotationCmd$Response',function(e){this.$$c=null;this.$$c=e});var on=global.tab.UpdateDataAlertCmd=ss.mkType(a,'tab.UpdateDataAlertCmd',function(){ss.makeGenericType(bl,[Object,oo]).call(this)},{get_commandId:function(){return on.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'update-data-alert'},this.c))}});var oo=global.tab.UpdateDataAlertCmd$Response=ss.mkType(a,'tab.UpdateDataAlertCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasAlertConditionMet:function(){return true}});var op=global.tab.UpdateDataTabDataSourceHeaderCmd=ss.mkType(a,'tab.UpdateDataTabDataSourceHeaderCmd',function(){ss.makeGenericType(bl,[Object,oq]).call(this)},{get_commandId:function(){return op.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'update-datatab-datasource-header'},this.c))}});var oq=global.tab.UpdateDataTabDataSourceHeaderCmd$Response=ss.mkType(a,'tab.UpdateDataTabDataSourceHeaderCmd$Response',function(e){this.$$c=null;this.$$c=e});var or=global.tab.UriPathStripper=ss.mkType(a,'tab.UriPathStripper',null,null,{getModuleFromPath:function(e,ex){var pC=tsConfig.site_root||'';var pD=e.indexOf(pC,0);var pE;if(pD===-1){pE=e.substr(1)}else{var pF=pD+pC.length;pE=e.substr(pF+1)}for(var pG=0;pG<ex.length;pG++){var pH=ex[pG];if(ss.startsWithString(pE,pH+'/')||ss.referenceEquals(pE,pH)){return pH}}return''},getMeatFromPath:function(e,ex){var pC=or.getModuleFromPath(e,ex);var pD=e.indexOf(pC,0);return e.substr(pD+pC.length+1)}});var os=global.tab.UrlStringReplacementOutcome=ss.mkEnum(a,'tab.UrlStringReplacementOutcome',{success:'success',urlConstructionFail:'urlConstructionFail',notEnoughInfoYet:'notEnoughInfoYet'},true);var ot=global.tab.UserFactory=ss.mkType(a,'tab.UserFactory',null,null,{currentUser:function(){return{id:tsConfig.current_user_id,friendlyName:tsConfig.current_user_friendly_name,username:tsConfig.current_user_name,hasEmail:!ss.isNullOrEmptyString(tsConfig.current_user_email),recipientType:1}},copy:function(e){return{username:e.username,friendlyName:e.friendlyName,id:e.id,hasEmail:e.hasEmail,dataAlertRecipientErrorCode:e.dataAlertRecipientErrorCode}}});var ou=global.tab.UserInteractionStateTelemetry=ss.mkType(a,'tab.UserInteractionStateTelemetry',null,null,{$3:function(e,ex){if(!ou.$0('UserInteractionStateBlockedMs')){ou.$h=e;ou.$g=ex;window.performance.mark('UserInteractionStateBlockedMs')}},$4:function(){if(!ou.$0('UserInteractionStateElapsedModalGlassMs')){window.performance.mark('UserInteractionStateElapsedModalGlassMs')}},$5:function(){if(!ou.$0('UserInteractionStateElapsedModalSpinnerMs')){window.performance.mark('UserInteractionStateElapsedModalSpinnerMs')}},$1:function(e,ex){var pC={};pC['Source']=e;pC['Event']=ex;pC['BlockedMs']=ou.$2('UserInteractionStateBlockedMs');pC['ElapsedModalGlassMs']=ou.$2('UserInteractionStateElapsedModalGlassMs');pC['ElapsedModalSpinnerMs']=ou.$2('UserInteractionStateElapsedModalSpinnerMs');pC['WaitFeedbackType']=ou.$h;pC['ShowFeedback']=ou.$g;var pD=pC;jT.logEvent('UserInteractionState',pD)},$2:function(e){if(!ou.$0(e)){return null}var ex='UserInteractionState'+'MeasuredTime';var pC='UserInteractionState'+'LastLogged';window.performance.clearMarks(pC);window.performance.mark(pC);window.performance.measure(ex,e,pC);var pD=window.performance.getEntriesByName(ex)[0].duration;window.performance.clearMeasures(ex);return pD},$0:function(e){return window.performance.getEntriesByName(e).length>0},$6:function(e,ex){if(ou.$0('UserInteractionStateBlockedMs')){ou.$1(e,ex)}window.performance.clearMarks('UserInteractionStateBlockedMs');window.performance.clearMarks('UserInteractionStateElapsedModalGlassMs');window.performance.clearMarks('UserInteractionStateElapsedModalSpinnerMs');ou.$h=null;ou.$g=null}});var ov=global.tab.ValidateDataValueCmd=ss.mkType(a,'tab.ValidateDataValueCmd',function(){ss.makeGenericType(bl,[Object,ow]).call(this)},{get_commandId:function(){return ov.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'validate-data-value'},this.c))}});var ow=global.tab.ValidateDataValueCmd$Response=ss.mkType(a,'tab.ValidateDataValueCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasCaptionedValue:function(){return ss.keyExists(this.$$c,'captionedDataValue')}});var ox=global.tab.ValidateSchemaObjectCaptionCmd=ss.mkType(a,'tab.ValidateSchemaObjectCaptionCmd',function(){ss.makeGenericType(bl,[Object,oy]).call(this)},{get_commandId:function(){return ox.cmdId},invoke:function(){return this.invoke$1(cN.newCommand({ns:'tabdoc',cmd:'validate-schema-object-caption'},this.c))}});var oy=global.tab.ValidateSchemaObjectCaptionCmd$Response=ss.mkType(a,'tab.ValidateSchemaObjectCaptionCmd$Response',function(e){this.$$c=null;this.$$c=e},{hasIsValid:function(){return true},hasErrorMsg:function(){return ss.keyExists(this.$$c,'errorMessage')}});var oz=global.tab.ViewDataDialogFactory=ss.mkType(a,'tab.ViewDataDialogFactory',null,null,{contructViewData:function(e){return oz.$1(e)}});var oA=global.tab.ViewGeometryModel=ss.mkType(a,'tab.ViewGeometryModel',function(e){jC.call(this,e,new kA('geometry',null))},{update:function(e){this.pm=e}});var oB=global.tab.ViewSession=ss.mkType(a,'tab.ViewSession',function(e,ex,pC,pD,pE){this.viewid=null;mQ.call(this,e,ex,pD,pE);this.viewid=pC},{get_viewId:function(){return this.viewid},set_viewId:function(e){if(ss.referenceEquals(this.viewid,e)){return}this.viewid=e},getViewUrl:function(){return new oC(this.get_urlRoot(),this.viewid)},executeAction:function(e,ex,pC){if(e.get_commandType()===9){this.$9(e)}else{var pD=cN.newCommand({ns:'tabdoc',cmd:'run-action'},e.command.commandParams);mp.executeServerCommand(pD,'immediately',ex,pC)}},$9:function(e){if(ss.isNullOrUndefined(e)||e.get_commandType()!==9){return}var ex={};ex.url=e.command.commandParams.url;ex.target=e.command.commandParams.target;R.launchActionUrls([ex],this.get_commonDialogProvider())}});var oC=global.tab.ViewUrl=ss.mkType(a,'tab.ViewUrl',function(e,ex){this.$2=null;this.$3=null;this.$2=e;this.$3=ex},{$1:function(e){return this.toViewMethodUrl('region')+'?r='+e},toRegionTileUrl:function(e,ex,pC){if(oC.canUseTileCacheUrl(e)){return this.toTileUrl(e,ex,0,0,'',pC)}return this.$1(ex)+'&'+pC},$0:function(e,ex){var pC='';if(!tab.MiscUtil.isNullOrEmpty$1(ex)){pC='&fn='+encodeURIComponent(ex)}return this.toViewMethodUrl('region')+'?r='+e+pC},toLegendRegionTileUrl:function(e,ex,pC,pD,pE){pD=(ss.isNullOrUndefined(pD)?'':pD);if(oC.canUseTileCacheUrl(e)){return this.toTileUrl(e,ex+pD,0,0,pC,pE)}return this.$0(ex,pC)+'&'+pE},toTileUrl:function(e,ex,pC,pD,pE,pF){if(oC.canUseTileCacheUrl(e)){var pG=e;var pH;if(!tab.MiscUtil.isNullOrEmpty$1(pE)){pH='?fn='+encodeURIComponent(pE)+'&'+pF}else{pH='?='+pF}return ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(pG,'%SESSIONID%',tsConfig.sessionid),'[r]',ex),'[x]',pC.toString()),'[y]',pD.toString())+pH}var pI=this.toViewMethodUrl('tile');return pI+'?r='+ex+'&x='+pC+'&y='+pD+'&'+pF},toViewMethodUrl:function(e){var ex=(new mx(this.$2)).toSessionMethodOrSessionRootUrl(e);ex+='/views/'+this.$3;return ex}},{canUseTileCacheUrl:function(e){return ss.isValue(e)&&e.length>6}});var oD=global.tab.VisualColumnHelpers=ss.mkType(a,'tab.VisualColumnHelpers',null,null,{copyArray:function(e,ex,pC){return Array.prototype.slice.call(e,ex,ex+pC)},transformColumn:function(e,ex){if(ss.isNullOrUndefined(e)){return false}e.transform(ex);return true},buildColorTable:function(e,ex,pC,pD){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ex)||!ex.has('color_idx')){return null}var pE=1;if(ex.has('alpha')&&ex.get('alpha').c){var pF=ex.get('alpha');pE=pF.v[(pF.c?0:0)]}var pG=[];var pH={};var pI=ex.get('color_idx');var pJ=pI.length;for(var pK=0;pK<pJ;pK++){var pL=pI.v[(pI.c?0:pK)];if(ss.keyExists(pH,pL)){pI.v[(pI.c?0:pK)]=pH[pL]}else{var pM=ct.fromArgbInt(e.colorList[pL]);pM=new ct(pM.get_r(),pM.get_g(),pM.get_b(),pE*pM.get_a());pG.push(lR.createColorCollection(pM,pC,pD));pI.v[(pI.c?0:pK)]=pG.length-1;pH[pL]=pI.v[(pI.c?0:pK)]}}return pG},buildOpaqueColorTable:function(e){if(ss.isNullOrUndefined(e)){return null}var ex=[];for(var pC=0,pD=e.length;pC<pD;pC++){ex[pC]=lR.createOpaqueColorCollection(e[pC])}return ex}});var oE=global.tab.VisualColumnIterator=ss.mkType(a,'tab.VisualColumnIterator',function(e){this.v=null;this.length=0;this.isValid=false;this.c=false;this.v=e;this.isValid=ss.isValue(this.v)&&this.v.length>0;this.length=(this.isValid?this.v.length:0);this.c=false},{gv:function(e){return this.v[e]},setValue:function(e,ex){this.v[e]=ex},transform:function(e){if(this.isValid&&!ss.staticEquals(e,null)){for(var ex=0;ex<this.length;ex++){this.v[ex]=e(this.v[ex])}}}},{create:function(e){if(ss.isNullOrUndefined(e)){return null}if(e.length===1){return new K(e)}return new oE(e)}});var oF=global.tab.VisualListModel=ss.mkType(a,'tab.VisualListModel',function(e){this.$1=null;this.$2$1=null;jC.call(this,e,new kA('visuallist',null))},{add_newVisualList:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisualList:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListPresModel:function(){return this.pm},get_groupItemNodes:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=[];var e=this.get_visualListPresModel().drawItems;for(var ex=0;ex<e.length;ex++){var pC=e[ex];if(pC.type==='draw-group'){this.$1.push(pC)}}}return this.$1},update:function(e,ex){fZ.notifyFontsFromVisualListPresModel(e);if(this.isNewPresModelSameAsOld(e)){return}this.$1=null;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}});var oG=global.tab.VisualModel=ss.mkType(a,'tab.VisualModel',function(e){this.$C=null;this.$v=null;this.$m=null;this.$q={};this.$s=null;this.$j=null;this.$D=null;this.$B=null;this.$x=null;this.$w=null;this.$E=null;this.$I=null;this.$o=null;this.$G=null;this.$F=null;this.$k=null;this.$t=null;this.$u=null;this.$i=null;this.$r=null;this.$h=null;this.$n=null;this.$H=false;this.$l=false;this.$p=false;this.$y=null;this.$z=$.Deferred();this.$A=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.resizeInfoModel=null;this.animationStyleSettingsModel=null;jC.call(this,e,new kA('visual'.toString(),null));this.$u=new Map;this.$i=new Map;this.$r=new Map;this.$h=new Map;this.$C=new ml(this,'selectionList'.toString());this.$v=new mi(null,-1);this.$m=new ml(this,'brushingSelectionList'.toString());this.$H=true;this.$l=false;this.$p=false;this.$A=new lN;this.$v.update(ml.$0('tuples'),jQ.get_noopContext())},{add_newVisual:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisual:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newHiddenTuples:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newHiddenTuples:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newFilteredTuples:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newFilteredTuples:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_urlInfoCacheChange:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_urlInfoCacheChange:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_visualValidStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_visualValidStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_brushingFromActionChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_brushingFromActionChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_colorDictionaryChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_colorDictionaryChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},add_annotationHitBoxesChanged:function(e){this.$2$10=ss.delegateCombine(this.$2$10,e)},remove_annotationHitBoxesChanged:function(e){this.$2$10=ss.delegateRemove(this.$2$10,e)},get_totalMarks:function(){return this.pm.totalMarks},get_shouldShowStats:function(){return this.pm.shouldShowStats},get_selectedMarks:function(){return this.pm.selectedMarks},get_numberOfRows:function(){return this.pm.numberOfRows},get_numberOfColumns:function(){return this.pm.numberOfColumns},get_lastComputedCalculation:function(){return this.pm.lastComputedCalculation},get_worksheetName:function(){return this.get_visualId().worksheet},get_visualId:function(){return this.pm.visualIdPresModel},get_identifier:function(){return this.pm.visualdocId},get_containerGeometry:function(){return this.get_zone().get_zoneCommonModel().get_zoneContentRectXY()},get_tooltipMode:function(){return this.pm.tooltipMode},get_scenePresModel:function(){return this.pm.scene},get_shelves:function(){return this.$D},get_analyticsModel:function(){return this.$j},get_marksCardModel:function(){return this.$x},get_selectionsModel:function(){return this.$C},get_impliedSelectionModel:function(){return this.$v},get_brushingsModel:function(){return this.$m},get_showMeModel:function(){return this.$E},get_sceneModel:function(){return this.$B},get_mapServerModel:function(){return this.$w},get_tileCacheUrl:function(){return this.$n},get_filters:function(){return _.values(this.$q)},get_filterModels:function(){return this.$q},get_geometryModel:function(){return this.$t},get_sortIndicatorsModel:function(){return this.$F},get_axisRegionModel:function(){return this.$k},get_vizDataModel:function(){return this.$I},get_titleModel:function(){return this.$G},get_captionModel:function(){return this.$o},get_hiddenTuples:function(){return this.$i},get_filteredTuples:function(){return this.$h},get_isMap:function(){return this.pm.isMap},get_hasBackgroundImage:function(){return this.pm.hasBackgroundImage},get_floatingToolbarVisibility:function(){return this.pm.floatingToolbarVisibility},get_geoSearchVisibility:function(){return this.pm.geographicSearchVisibility},get_vizNavigationSetting:function(){return this.pm.vizNavigationSetting},get_defaultMapTool:function(){return this.pm.defaultMapToolEnum},get_hasModifiedAxes:function(){return this.pm.hasModifiedAxes},get_backgroundColor:function(){return ct.fromColorCode(this.pm.bgColor)},get_paneBGColor:function(){return this.pm.paneColor},get_headerBGColor:function(){return this.pm.headerColor},get_shouldUpdate:function(){return bd.get_instance().get_autoUpdate()},get_invalidSheets:function(){var e=jF.findContentDashboard(null);return e.get_invalidSheets()},get_isVisualValidAndUpToDate:function(){return this.$H},get_isVisualValid:function(){return this.pm.valid},get_isBrushedFromAction:function(){return this.$l},get_emptyHighlightFogAll:function(){return this.$p},get_zone:function(){var e=ss.safeCast(this.parent,pz);return e.get_zone()},get_runtimeData:function(){return this.$y},get_runtimeReady:function(){return this.$z.state()==='resolved'},get_runtimeHandles:function(){return this.$z},get_runtimeStatusView:function(){return this.$A},get_blockMarkAnimationForNextCommand:function(){if(ss.isNullOrUndefined(this.pm.blockMarkAnimationForNextCommand)){return false}return this.pm.blockMarkAnimationForNextCommand},invokeNewVisual:function(){this.$2$1()},setIsVisualValidAndUpToDate:function(e,ex){if(this.pm.valid&&e!==this.$H){this.$H=e;this.raiseEvent(this.$2$5,ex)}},setIsBrushedFromAction:function(e,ex){if(this.$l!==e){this.$l=e;this.raiseEvent(this.$2$6,ex)}},setEmptyHighlightFogAll:function(e,ex){if(this.$p!==e){this.$p=e;this.raiseEvent(this.$2$9,ex)}},getAnnotationList:function(){if(ss.isValue(this.pm.annotationList)){return this.pm.annotationList}return[]},vizDataContainsDuplicateCaption:function(e){if(ss.isNullOrUndefined(this.get_vizDataModel())){return false}return _.filter(this.get_vizDataModel().get_fieldCaptions(),function(ex){return ss.referenceEquals(ex,e)}).length>1},setFilteredTuples:function(e,ex){this.$r.set(e,ex);var pC=new Map;this.$r.forEach(function(pE){for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];pC.set(pG.toString(),pG)}});var pD=this.$h.size!==pC.size;if(!pD){tab.MapUtility.forEachWithInterrupt(String,ss.UInt32).call(null,this.$h,function(pE,pF){if(!pC.has(pF)){pD=true;throw new tab.LoopBreakException}})}if(pD){this.$h=pC;if(ss.isValue(this.$2$3)){this.$2$3()}}},setHiddenTuples:function(e,ex){this.$u.set(e,ex);var pC=new Map;this.$u.forEach(function(pE){for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];pC.set(pG.toString(),pG)}});var pD=this.$i.size!==pC.size;if(!pD){tab.MapUtility.forEachWithInterrupt(String,ss.UInt32).call(null,this.$i,function(pE,pF){if(!pC.has(pF)){pD=true;throw new tab.LoopBreakException}})}if(pD){this.$i=pC;if(ss.isValue(this.$2$2)){this.$2$2()}}},getMutableCopyOfPresModel:function(){var e=this.pm.scene;var ex=this.pm.markLabels;var pC=this.pm.vizData;delete this.pm['scene'.toString()];delete this.pm['vizData'.toString()];delete this.pm['markLabels'.toString()];var pD=jC.prototype.getMutableCopyOfPresModel.call(this);this.pm.scene=e;this.pm.vizData=pC;this.pm.markLabels=ex;return pD},reValidate:function(e){if(this.get_isVisualValidAndUpToDate()!==this.pm.valid){this.$H=this.pm.valid;this.raiseEvent(this.$2$5,e)}},$c:function(e){if(ss.isNullOrUndefined(this.$k)){this.$k=[]}if(ss.isValue(e.$.axisRegions)){this.$k=e.$.axisRegions}},update:function(e,ex){e={$:e};if(ss.isNullOrUndefined(this.$D)){this.$D=new mU(this)}if(ss.isValue(e.$.shelves)){var pC=this.$2(e.$);this.$D.update(e.$.shelves,bd.get_instance().get_workbook().get_dataSchema(),pC,ex)}if(ss.isValue(e.$.analyticsPane)){if(ss.isNullOrUndefined(this.$j)){this.$j=new W(this)}this.$j.update(e.$.analyticsPane,ex)}if(ss.isValue(e.$.vizData)){if(ss.isNullOrUndefined(this.$I)){this.$I=new oK(this)}this.$I.update(e.$.vizData,ex)}var pD=ba.animationIsEnabledFor$1(e.$);this.$g(e.$,ex,pD);if(ss.isValue(e.$.colorDictionary)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.colorDictionary,e.$.colorDictionary)){this.raiseEvent(this.$2$7,ex)}}if(ss.isValue(e.$.vizNavigationSetting)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.vizNavigationSetting,e.$.vizNavigationSetting)){this.raiseEvent(this.$2$8,ex)}}if(ss.isValue(e.$.annotationList)){this.raiseEvent(this.$2$10,ex)}if(ss.isNullOrUndefined(this.$x)){this.$x=new jz(this)}if(ss.isValue(e.$.marksCardPresModel)){this.$x.update(e.$.marksCardPresModel,ex)}if(ss.isValue(e.$.selectionList)&&e.$.selectionList.length>0){this.$C.update(e.$.selectionList,ex)}if(ss.isValue(e.$.brushingSelectionList)){this.$m.update(e.$.brushingSelectionList,ex)}this.$3(this.$C.nodeSelection.get_nodes(),ex);if(!ss.isValue(this.$E)){this.$E=new cK(this)}if(ss.isValue(e.$.showMeCommands)){this.$E.update(e.$.showMeCommands,ex)}this.$d(e.$,ex);var pE=e.$.filtersJson||'';var pF=(ss.isNullOrEmptyString(pE)?null:JSON.parse(pE));if(this.$a(pF,pE)){this.$s=pE;if(ss.isValue(pF)){var pG={};for(var pH=0;pH<pF.length;pH++){var pI=pF[pH];var pJ=tableau.format.formatQualifiedName(pI.name);var pK=this.$q[pJ];if(ss.isNullOrUndefined(pK)){pK=jF.createFilterModel(this,pI)}pK.update(pI,ex);pG[pJ]=pK}this.$q=pG}}var pL=null;if(!ss.isNullOrEmptyString(e.$.cacheUrlInfoJson)){var pM=JSON.parse(e.$.cacheUrlInfoJson);pL=pM['url'].toString()}if(!ss.referenceEquals(this.get_tileCacheUrl(),pL)){this.$n=pL;this.$6(ex)}var pN=e.$.geometryJson||'';if(!ss.isValue(this.$t)){this.$t=new oA(this)}var pO=(ss.isNullOrEmptyString(pN)?null:JSON.parse(pN));this.$t.update(pO);if(ss.isNullOrUndefined(this.$G)){this.$G=new nK(this,'visualTitle'.toString())}if(ss.isValue(e.$.visualTitle)){this.$G.update(e.$.visualTitle,ex)}if(!ss.isValue(this.$o)){this.$o=new nK(this,'visualCaption'.toString())}if(ss.isValue(e.$.visualCaption)){this.$o.update(e.$.visualCaption,ex)}if(!ss.isValue(this.$F)){this.$F=new np(this)}if(ss.isValue(e.$.sortIndicators)){this.$F.update(e.$.sortIndicators,ex)}this.$c(e);this.setEmptyHighlightFogAll(e.$.emptyHighlightFogAll,ex);if(ss.isNullOrUndefined(this.resizeInfoModel)){this.resizeInfoModel=new lB(this)}if(ss.isValue(e.$.resizeInfo)){this.resizeInfoModel.update(e.$.resizeInfo,ex)}if(ss.isNullOrUndefined(this.animationStyleSettingsModel)){this.animationStyleSettingsModel=new Z(this)}if(ss.isValue(e.$.animationStyleSettings)){this.animationStyleSettingsModel.update(e.$.animationStyleSettings,ex)}if(!ss.referenceEquals(e.$,this.pm)){this.swapAndCopyPresModel(e.$);this.reValidate(ex);this.$b(ex)}},$b:function(e){this.raiseEvent(this.$2$1,e)},$6:function(e){if(ss.isValue(this.get_tileCacheUrl())){this.raiseEvent(this.$2$4,e)}},$a:function(e,ex){if(ss.isNullOrUndefined(this.$s)){return true}if(ss.isValue(e)){var pC=_.find(e,function(pD){return pD.isTiled});if(ss.isValue(pC)){return true}}return!ss.referenceEquals(this.$s,ex)},hasFilterFieldData:function(e){return ss.isValue(this.get_vizDataModel())&&ss.indexOf(this.get_vizDataModel().get_filterFields(),e)!==-1},getEffectiveSelectedTuples:function(e){var ex;var pC=this.$v.get_ids();if(tab.MiscUtil.isNullOrEmpty(pC)){ex=e}else if(tab.MiscUtil.isNullOrEmpty(e)){ex=pC}else{var pD=[];ss.arrayAddRange(pD,e);ss.arrayAddRange(pD,pC);ex=Array.prototype.slice.call(pD)}return ex},$3:function(e,ex){var pC=bs.getTuplesAssociatedWithSelectedNodes(this,e);this.$v.setOverriddenTupleIds(pC,ex)},$1:function(e){this.$v.setOverriddenTupleIds([],e)},$2:function(e){if(ss.isValue(e)&&ss.isValue(e.marksCardPresModel)&&ss.isValue(e.marksCardPresModel.paneSpec)){return e.marksCardPresModel.paneSpec}return jF.findActivePaneSpecId()},shouldDoLocalCommand:function(){return tab.RuntimeUtil.canUseRuntime(bd.get_instance().get_renderMode())&&bd.get_instance().get_isLocalRenderMode()&&(!this.get_mapServerModel().get_hasPresModel()||this.get_mapServerModel().get_useFastMaps())&&ss.isValue(this.get_runtimeData())&&ss.isValue(this.get_runtimeData().get_finalDataStore().SupportedIncrementalUpdates)&&ss.isValue(this.get_runtimeData().get_finalDataStore().SupportedIncrementalUpdates.SupportedClientUpdates)},requestRuntimeDataAndUpdateVM:function(){if(!this.shouldDoLocalCommand()){return}this.$A.set_isRuntimeSupported(true);lL.setupModule();if(!lL.get_startedLoad()){return}var e=this.$7();var ex=$.Deferred();this.$z=ex.promise();var pC=tabBootstrap.MetricsController.createContext('RTLOAD'.toString(),32,null);var pD=ss.mkdel(this,function(pF){var pG=new lM(pF);if(pG.get_aborted()){pC.dispose();tab.RuntimeUtil.abortEmscripten();ba.abortEmscripten();lO.logAborted(1);return}lL.get_moduleInitialized().done([ss.mkdel(this,function(){this.$9(pG,e).done(ss.mkdel(this,function(pH){this.$A.set_isRuntimeReady(true);ex.resolve(pH);pC.dispose();lO.logVizUsage(0,pC.elapsedMS())}))})])});var pE=new gU;pE.c['visualIdPresModel']=this.get_visualId();pE.c['isRuntimeInitialDatastoreRequired']=ss.isNullOrUndefined(e);pE.invoke().then(pD,null)},updateRuntimeHandles:function(e,ex,pC){var pD=$.Deferred();if(!this.$5(ex)){return pD.reject()}var pE=function(){pD.reject()};this.get_runtimeHandles().done(ss.mkdel(this,function(pF){pC(pF).done(ss.mkdel(this,function(pG){this.$f(new tab.RuntimeHandles(pF.get_VM(),pF.get_initialStore(),pG));if(ss.isValue(e)){var pH=e.makeMutablePresModel(this.get_sceneModel(),false);pH.runtimeFinalDatastoreLocal=pG.handleValue;pD.resolve()}})).fail(pE)})).fail(pE);return pD.promise()},$5:function(e){if(ss.isValue(this.get_runtimeData())&&ss.isValue(this.get_runtimeData().get_finalDataStore().SupportedIncrementalUpdates)){var ex=this.get_runtimeData().get_finalDataStore().SupportedIncrementalUpdates.SupportedClientUpdates;if(ss.isValue(ex)){return _.indexOf(ex,e)>-1}}return false},$f:function(e){var ex=$.Deferred();ex.resolve(e);this.$z=ex.promise()},$8:function(){this.$z=$.Deferred().promise()},$7:function(){var e=null;if(this.get_runtimeReady()){this.get_runtimeHandles().done(function(ex){e=ex})}return e},$9:function(ex,pC){var pD=$.Deferred();if(ss.isValue(ex.get_dataStore())){try{tab.RuntimeWebModule.proxy.loadBinaryDatastoreHex(ex.get_dataStore()).done(function(e){tab.RuntimeWebModule.proxy.buildVMHex(ex.get_vtl(),e).done(function(pE){tab.RuntimeWebModule.proxy.executeVM(pE).done(function(pF){if(ss.isValue(ex.get_dataStoreUpdater())){tab.RuntimeWebModule.proxy.loadAndApplyDataStoreUpdaterHex(ex.get_dataStoreUpdater(),pE).done(function(pG){pD.resolve(new tab.RuntimeHandles(pE,e,pG))})}else{pD.resolve(new tab.RuntimeHandles(pE,e,pF))}})})})}catch(pE){var e=ss.Exception.wrap(pE);tab.RuntimeUtil.abortEmscripten();ba.abortEmscripten();tab.ErrorTrace.report(e,false)}}else if(ss.isValue(pC)){tab.RuntimeWebModule.proxy.loadAndApplyDataStoreUpdaterHex(ex.get_dataStoreUpdater(),pC.get_VM()).done(function(e){pD.resolve(new tab.RuntimeHandles(pC.get_VM(),pC.get_initialStore(),e))})}else if(ex.get_aborted()){tab.RuntimeUtil.abortEmscripten();ba.abortEmscripten()}return pD.promise()},$g:function(e,ex,pC){if(ss.isNullOrUndefined(this.$B)){this.$B=new lV(this)}if(ss.isValue(e.scene)){if(ss.isValue(this.$u)){var pD=this.$i.size>0;this.$u=new Map;this.$i=new Map;if(pD){this.raiseEvent(this.$2$2,ex)}}if(ss.isValue(this.$r)){var pE=this.$h.size>0;this.$r=new Map;this.$h=new Map;if(pE){this.raiseEvent(this.$2$3,ex)}}this.$B.update(e.scene,ex,pC);var pF=this.$B.pm;if(ss.isValue(pF.runtimeRenderInputDatastore)||ss.isValue(pF.runtimeFinalDatastoreLocal)){this.$y=this.$B.get_sceneRuntimeData()}if(!ss.isValue(pF.runtimeFinalDatastoreLocal)){this.$e(e)}}},$d:function(e,ex){if(ss.isNullOrUndefined(this.$w)){this.$w=new jx(this);this.$w.set_allowLocalPanAndZoom(this.shouldDoLocalCommand());this.$w.add_useFastMapsChanged(ss.mkdel(this,function(pD,pE){if(pD===false&&pE===true){this.$8();this.requestRuntimeDataAndUpdateVM()}}))}if(!e.isMap){this.$w.update(null,ex);return}if(tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&ss.isValue(this.$y)&&this.shouldDoLocalCommand()){var pC=this.get_runtimeData().get_finalDataStore().Viewpoint;this.$w.set_centerLatitude(pC.PerPaneExtents.MapCenterLatitude[0]);this.$w.set_centerLongitude(pC.PerPaneExtents.MapCenterLongitude[0]);this.$w.set_requestZoom(pC.MapLayersModelUpdate.ActualZoomLevel);this.get_mapServerModel().set_displayScale(pC.MapLayersModelUpdate.DisplayScale);return}if(ss.isValue(e.mapServer)){this.$w.update(e.mapServer,ex);this.get_mapServerModel().set_allowLocalPanAndZoom(this.shouldDoLocalCommand());return}},$e:function(e){if(tab.RuntimeUtil.isRuntimeDataPresModelNullOrEmpty(e.runtimeData)){return}if(!lL.get_startedLoad()){return}var ex=this.$7();var pC=$.Deferred();this.$z=pC.promise();var pD=tabBootstrap.MetricsController.createContext('RTLOAD'.toString(),32,null);var pE=new lM.$ctor1(e.runtimeData);lL.get_moduleInitialized().done([ss.mkdel(this,function(){this.$9(pE,ex).done(ss.mkdel(this,function(pF){this.$A.set_isRuntimeReady(true);pC.resolve(pF);pD.dispose();lO.logVizUsage(0,pD.elapsedMS())}))})])},$4:function(){if(ss.isNullOrUndefined(this.$B)||ss.isNullOrUndefined(this.$B.get_visualListModels())||!tab.FeatureFlags.isEnabled('RuntimeDisplayListSizeTelemetry')){return}var e='DisplayListSizes';var ex=ss.mkdict(['misc','Misc','annotations','Annotations','axis-rules','AxisRules','top-axis','TopAxis','bottom-axis','BottomAxis','left-axis','LeftAxis','right-axis','RightAxis','background','Background','borders','Borders','caption','Caption','cell-borders','CellBorders','decoration','Decoration','drop-lines','DropLines','x-labels','XLabels','y-labels','YLabels','legends','Legends','marks','Marks','mark-labels','MarkLabels','mark-trails','MarkTrails','ref-bands','RefBands','ref-lines','RefLines','pane-borders','PaneBorders','scroll-bars','ScrollBars','title','Title','trend-lines','TrendLines','upper-map-layers','UpperMapLayers']);var pC={};pC['VizId']=this.get_zone().get_zoneId();var pD=new ss.ObjectEnumerator(this.$B.get_visualListModels());try{while(pD.moveNext()){var pE=pD.current();var pF=JSON.stringify(pE.value.get_visualListPresModel()).length;pC[ex[pE.key]]=pF}}finally{pD.dispose()}jT.logEvent(e,pC)}},{$0:function(){return tab.Logger.lazyGetLogger(oG)}});var oH=global.tab.VizClientCommands=ss.mkType(a,'tab.VizClientCommands',null,null,{invalidateVisualModel:function(e){oH.$0(e,false)},validateVisualModel:function(e){oH.$0(e,true)},$0:function(e,ex){var pC=new jo(function(pD){jF.setVisualValidAndUpToDateStateOnModel(pD,e,ex)});cw.SendCommand(pC)},setUIMode:function(e,ex,pC){var pD=$.Deferred();var pE=bd.get_instance().get_workbook();if(pE.get_uiMode()===e){pD.resolve();return pD.promise()}var pF=ss.referenceEquals(pC,tsConfig.current_sheet_name);var pG=e==='document'&&pF;var pH=new cg;pH.c['uiMode']=e;pH.set_uiBlocking((pG?'none':'immediately'));var pI=pH;if(!ss.isNullOrEmptyString(pC)){pI.c['sheetName']=pC}if(jT.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){if(e==='data-tab'){jT.logEvent('Authoring_DataTab_Open',ss.mkdict(['Source',ex]))}else if(pE.get_uiMode()==='data-tab'){jT.logEvent('Authoring_DataTab_Close',ss.mkdict(['ReturnToSameSheet',pF]))}}if(pG){pI.set_localWork(function(pJ){var pK=pJ.makeMutablePresModel(pE,false);pK.uiMode=e})}pI.invoke().done(function(){if(pF){var pJ=eh.constructEnsureLayoutForSheetCommand();cw.SendCommand(pJ)}pD.resolve()});return pD.promise()}});var oI=global.tab.VizDataField=ss.mkType(a,'tab.VizDataField',function(e,ex){this.$a=null;this.$d=null;this.$c=false;this.$b=false;this.$e=null;this.$a=e;this.$d=ex;this.$e={};this.$6();this.$c=this.$1();this.$b=this.$0()},{get_hasDataValues:function(){return this.$c},get_hasAliases:function(){return this.$b},get_dataType:function(){return this.$a.dataType},get_fieldName:function(){return this.$a.fn},get_fieldCaption:function(){return this.$a.fieldCaption},get_baseColumnName:function(){return this.$a.baseColumnName},get_role:function(){return this.$a.fieldRole},get_aggType:function(){return this.$a.aggregation},get_specialValuesOverride:function(){return this.$a.specialValueText},get_filterContext:function(){return this.$a.filterContext},get_vizColumnDoNotUse:function(){return this.$a},$8:function(){return this.$a.paneIndices},$9:function(){return this.$a.columnIndices},$7:function(){return tab.Logger.lazyGetLogger(oI)},isTupleIdValid:function(e){for(var ex=0;ex<this.$a.paneIndices.length;++ex){var pC=this.$a.paneIndices[ex];var pD=this.$5(e,pC);if(ss.isValue(pD)){return true}}return false},tupleIdsThatPass:function(e){var ex=[];for(var pC=0;pC<this.$a.paneIndices.length;pC++){var pD=this.$a.paneIndices[pC];var pE=this.$d[pD].vizPaneColumns[0];for(var pF=0;pF<pE.tupleIds.length;pF++){var pG=pE.tupleIds[pF];if(e(pG)){ex.push(pG)}}}return ex},$2:function(e){var ex=this.$3(e,0);var pC={};var pD=0;for(var pE=0;pE<ex.tupleIds.length;pE++){var pF=ex.tupleIds[pE];pC[pF]=pD++}this.$e[e]=pC},$5:function(e,ex){if(!ss.keyExists(this.$e,ex)){this.$2(ex)}return this.$e[ex][e]},getAliasIndex:function(e){var ex=null;if(!this.get_hasAliases()){return ex}for(var pC=0;pC<this.$a.paneIndices.length;++pC){var pD=this.$a.paneIndices[pC];var pE=this.$5(e,pD);if(ss.isValue(pE)){var pF=this.$a.columnIndices[pC];var pG=this.$3(pD,pF);ex=pG.aliasIndices[pE];break}}return ex},getDataValueIndex:function(e){var ex=null;if(this.get_hasDataValues()){for(var pC=0;pC<this.$a.paneIndices.length;++pC){var pD=this.$a.paneIndices[pC];var pE=this.$5(e,pD);if(ss.isValue(pE)){var pF=this.$a.columnIndices[pC];var pG=this.$3(pD,pF);ex=pG.valueIndices[pE];break}}}return ex},getPaneDescriptorKey:function(e){var ex=null;for(var pC=0;pC<this.$a.paneIndices.length;++pC){var pD=this.$8()[pC];var pE=this.$5(e,pD);if(ss.isValue(pE)){var pF=this.$4(pD);ex=pF.paneDescriptor.paneDescrKey;break}}return ex},$4:function(e){var ex=null;if(this.$d.length>e){ex=this.$d[e]}else{}return ex},$3:function(e,ex){var pC=null;var pD=this.$4(e);if(ss.isValue(pD)){if(pD.vizPaneColumns.length>ex){pC=pD.vizPaneColumns[ex]}else{}}return pC},$1:function(){var e=false;for(var ex=0;ex<this.$8().length;ex++){var pC=this.$8()[ex];var pD=this.$9()[ex];var pE=this.$3(pC,pD);if(ss.isValue(pE)){e=e||ss.isValue(pE.valueIndices)&&pE.valueIndices.length>0}}return e},$0:function(){var e=false;for(var ex=0;ex<this.$8().length;ex++){var pC=this.$8()[ex];var pD=this.$9()[ex];var pE=this.$3(pC,pD);if(ss.isValue(pE)){e=e||ss.isValue(pE.aliasIndices)&&pE.aliasIndices.length>0}}return e},$6:function(){}});var oJ=global.tab.VizDataLookup=ss.mkType(a,'tab.VizDataLookup',null,null,{lookupDisplayValue:function(e,ex,pC){if(!ex.isTupleIdValid(e)){oJ.$2(e,ex.get_fieldCaption());return null}if(ex.get_hasAliases()){var pD=oJ.lookupAlias(e,ex,pC);if(ss.isValue(pD)){return pD}}if(ex.get_hasDataValues()){var pE=oJ.$3(e,ex,pC);if(ss.isValue(pE)){return pE}}oJ.$2(e,ex.get_fieldCaption());return null},$2:function(e,ex){var pC=ss.formatString('Failed trying to look up the display value for tuple id "{0}" because it is invalid for field "{1}"',e,ex)},$1:function(e){return ss.Nullable$1.lt(e,0)},$0:function(e){return ss.Nullable$1.sub(ss.Nullable$1.neg(e),1)},lookupAlias:function(e,ex,pC){if(!ex.isTupleIdValid(e)){oJ.$2(e,ex.get_fieldCaption());return null}var pD=ex.getAliasIndex(e);return oJ.lookupAliasFromIndex(pD,ex,pC)},lookupAliasFromIndex:function(e,ex,pC){var pD=null;if(ss.isValue(e)){if(oJ.$1(e)){e=oJ.$0(e);pD=pC.getRawValue('cstring',ss.unbox(e));if(tableau.format.isSpecialValue(pD)){pD=tableau.format.formatSpecial(pD,ex.get_specialValuesOverride())}}else{var pE=e;pD=oJ.$4(pE,ex,pC)}}return pD},lookupRawDataValue:function(e,ex,pC){var pD=ex.getDataValueIndex(e);return oJ.lookupRawDataValueFromIndex(pD,ex,pC)},lookupRawDataValueFromIndex:function(e,ex,pC){var pD=null;if(ss.isValue(e)){var pE;var pF=ss.unbox(e);if(pF>=0){pE=ex.get_dataType()}else{pF=-pF-1;pE='cstring'}var pG=pC.getRawValue(pE,pF);if(ss.isValue(pG)){pD=pG.toString()}}return pD},$3:function(e,ex,pC){var pD=ex.getDataValueIndex(e);return oJ.$4(pD,ex,pC)},$4:function(e,ex,pC){var pD=null;var pE=oJ.lookupRawDataValueFromIndex(e,ex,pC);if(ss.isValue(pE)){if(tableau.format.isSpecialValue(pE)){pD=tableau.format.formatSpecial(pE,ex.get_specialValuesOverride())}else{pD=tableau.format.formatString(pE,ex.get_vizColumnDoNotUse())}}return pD},reverseLookupAlias:function(e,ex,pC,pD){var pE=null;if(pC.get_hasAliases()){ex.forEachTupleId(function(pF){var pG=oJ.lookupAlias(pF,pC,pD);if(ss.compareStrings(pG,e,false)===0){pE=pC.getAliasIndex(pF);return false}return true})}return pE},buildAliasReverseLookup:function(e,ex,pC){var pD={};if(ex.get_hasAliases()){e.forEachTupleId(function(pE){var pF=oJ.lookupAlias(pE,ex,pC);if(ss.isNullOrUndefined(pD[pF])){pD[pF]=ex.getAliasIndex(pE)}return true})}return pD},isSpecial:function(e,ex,pC,pD){var pE=oJ.lookupRawDataValue(e,ex,pC);if(ss.isNullOrUndefined(pE)){var pF=ex.getAliasIndex(e);if(ss.isValue(pF)){if(oJ.$1(pF)){pF=oJ.$0(pF)}var pG=pF;pE=oJ.lookupRawDataValueFromIndex(pG,ex,pC)}if(ss.isNullOrUndefined(pE)){return false}}return(ss.isNullOrUndefined(pD)?tableau.format.isSpecialValue(pE):ss.referenceEquals(pE,pD))}});var oK=global.tab.VizDataModel=ss.mkType(a,'tab.VizDataModel',function(e){this.$4=null;this.$6=null;this.$5=null;this.$2$1=null;jC.call(this,e,new kA('vizData'.toString(),null));this.$4=[];this.$5=[]},{add_newVizData:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVizData:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasTupleIdColumn:function(){return ss.isValue(this.$6)},get_highlightCaptions:function(){return this.$3().highlightCaptions},get_filterFields:function(){return this.$3().filterFields},get_fieldCaptions:function(){return this.$5},get_ubertipData:function(){return this.$3().ubertipData},$3:function(){return this.pm},$1:function(){return this.$3().paneColumnsData},$2:function(){return this.$1().paneColumnsList},getVizDataFieldByIndex:function(e){if(e>=0&&e<this.$4.length){return this.$4[e]}return null},getColumnIndex:function(e){if(ss.isNullOrUndefined(this.$1())){return-1}var ex=this.$1().vizDataColumns;for(var pC=0;pC<ex.length;++pC){if(oL.isFieldCaptionOfColumn(ex[pC],e)){return pC}}for(var pD=0;pD<ex.length;++pD){if(oL.isFieldNameOfColumn(ex[pD],e)){return pD}}return-1},getVizDataField:function(e){return this.getVizDataFieldByIndex(this.getColumnIndex(e))},hasDimensionColumnNotMeasureNames:function(){if(ss.isValue(this.$1())){var e=this.$1().vizDataColumns;for(var ex=0;ex<e.length;ex++){var pC=e[ex];if(pC.fieldRole==='dimension'&&pC.localBaseColumnName!=='[:Measure Names]'){return true}}}return false},hasTupleId:function(e){var ex=false;if(this.get_hasTupleIdColumn()){this.forEachVizDataField(function(pC,pD){if(pC.isTupleIdValid(e)){ex=true;return false}return true})}return ex},forEachTupleId:function(e){for(var ex=0;ex<this.$2().length;++ex){var pC=this.$2()[ex].vizPaneColumns[0];for(var pD=0;pD<pC.tupleIds.length;pD++){var pE=pC.tupleIds[pD];var pF=!e(pE);if(pF){break}}}},forEachVizDataField:function(e){var ex=this.$4.length;for(var pC=0;pC<ex;++pC){var pD=this.$4[pC];if(ss.isNullOrUndefined(pD)){continue}var pE=!e(pD,pC);if(pE){break}}},update:function(e,ex){var pC=this.simpleSwapToUpdate(e,this.$2$1,ex);if(!pC){return}if(ss.isValue(e.ubertipData)){fZ.notifyFontsFromUberTipDataPresModel(e.ubertipData)}if(ss.isValue(this.$1())){this.$6=null;ss.clear(this.$4);this.$5=[];var pD=this.$1().vizDataColumns;for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];if(pF.fn==='[system:visual].[tuple_id]'){this.$6=pF;this.$4.push(null);continue}this.$5.push(pF.fieldCaption);var pG=new oI(pF,this.$1().paneColumnsList);this.$4.push(pG)}}}});var oL=global.tab.VizDataUtils=ss.mkType(a,'tab.VizDataUtils',null,null,{constructUrl:function(e,ex,pC,pD,pE){var pF=function(pG,pH,pI){if(ss.isNullOrEmptyString(pH)){if(ss.isValue(pD)){return oL.$6(e,pG,pD,1,ex,pI)}return null}var pJ=oL.$1(e,pG,pH,ex);if(ex.shouldUrlEscape){pJ=encodeURIComponent(pJ)}return pJ};return oL.decodeAndReplaceData(ex.url,'<','>',pC,pF)},constructUrlForFilterActionFromTargetURL:function(e,ex,pC,pD,pE){var pF=function(pN,pO,pP){return oL.$5(e,pN,pE,pP,pC)};var pG=ex.toString().split('?');if(pG.length===1){return ex}var pH=pG[0]+'?';var pI=pG[1].split('&');var pJ=[];for(var pK=0;pK<pI.length;pK++){var pL=pI[pK];var pM=oL.decodeAndReplaceData(pL,'<','>',pD,pF);if(pM.item2==='success'){pJ.push(pM.item1)}}pH+=pJ.join('&');return pH},constructUrlFromString:function(e,ex,pC,pD,pE,pF){var pG=function(pI,pJ,pK){if(ss.isNullOrEmptyString(pJ)){return oL.$2(e,pI,pD,1)}else{return oL.$1(e,pI,pJ,pF)}};var pH=oL.decodeAndReplaceData(ex,'<','>',pC,pG);return pH.item1},constructHtml:function(e,ex,pC,pD){var pE=function(pI,pJ,pK){return oL.$2(e,pI,pD,0)};var pF=oL.decodeAndReplaceData(ex,'&lt;','&gt;',pC,pE);var pG=$(pF.item1);var pH=[];oL.getNodesOfInvalidFields(pG,pH);oL.$0(pG,pH);oL.updateVizInTooltipPlaceholderStyles(pG);return(oL.shouldShowUbertipHTML(pG)?pG.wrap('<div></div>').parent().html():'')},updateVizInTooltipPlaceholderStyles:function(e){if(bd.get_instance().get_isOffline()){e.find('span[data-tableau="VizInTooltip"]').remove();return}var ex=e.find('span[data-tableau="VizInTooltip"]');ex.addClass('tab-ubertipPlaceholder');var pC=Math.min(ex.length,oL.lastWidthAndHeightForVizInTooltips.length);for(var pD=0;pD<pC;pD++){ex[pD].style.width=oL.lastWidthAndHeightForVizInTooltips[pD].item1;ex[pD].style.height=oL.lastWidthAndHeightForVizInTooltips[pD].item2}},updateLastVizInTooltipSizes:function(e){var ex=$(e);var pC=ex.find('span[data-tableau="VizInTooltip"]'+' img');var pD=pC.length;oL.widestVizInTooltip=0;for(var pE=0;pE<pD;pE++){var pF=parseInt(pC[pE].getAttribute('height'));var pG=parseInt(pC[pE].getAttribute('width'));oL.lastWidthAndHeightForVizInTooltips[pE]={item1:(pG+'px').toString(),item2:(pF+'px').toString()};if(pG>oL.widestVizInTooltip){oL.widestVizInTooltip=pG}}},decodeAndReplaceData:function(e,ex,pC,pD,pE){var pF='success';var pG=oL.$4(e,'escaped_open_tag');var pH=oL.$4(e,'escaped_close_tag');var pI=ss.replaceAllString(ss.replaceAllString(e,ex+ex,pG),pC+pC,pH);var pJ=pI.split(ex);var pK=new ss.StringBuilder(pJ.shift());for(var pL=0;pL<pJ.length;pL++){var pM=pJ[pL];var pN=pM.split(pC);var pO=ss.htmlDecode(ss.replaceAllString(ss.replaceAllString(pN[0],pG,ex),pH,pC));var pP=pN[1];var pQ=true;var pR=pO.lastIndexOf(String.fromCharCode(126));var pS=pO.lastIndexOf(String.fromCharCode(93));if(pR>=0&&(pS===-1||pS<pR)){var pT=pO.substr(pR);pO=pO.substr(0,pR);if(pT==='~na'){pQ=false}}if(oL.$7(pO)){pQ=false}var pU=null;if(oL.$8(pO)){var pV=pO.indexOf('(');pU=pO.substring(0,pV);pO=pO.substring(pV+1,pO.length-1)}var pW=pO.indexOf(String.fromCharCode(91));var pX=pO.lastIndexOf(String.fromCharCode(93));if(pW>=0&&pW<pX){pO=pO.substring(pW+1,pX)}if(ss.startsWithString(pO,'Parameters.')){return{item1:'',item2:'notEnoughInfoYet'}}var pY=pD.getVizDataField(pO);if(ss.isNullOrUndefined(pY)){return{item1:'',item2:'urlConstructionFail'}}var pZ=pE(pY,pU,pQ);if(ss.isNullOrUndefined(pZ)){pF='urlConstructionFail'}else{pK.append(pZ)}pK.append(pP)}var qa=ss.replaceAllString(ss.replaceAllString(pK.toString(),pG,ex),pH,pC);return{item1:qa,item2:pF}},hasTupleWithNonTotalValue:function(e,ex,pC){for(var pD=0;pD<pC.length;pD++){var pE={$:pC[pD]};var pF={$:false};e.forEachVizDataField(ss.mkdel({tupleId:pE,tupleHasTotal:pF},function(pG,pH){if(pG.get_role()==='dimension'){if(oJ.isSpecial(this.tupleId.$,pG,ex,'%all%')){this.tupleHasTotal.$=true;return false}}return true}));if(!pF.$){return true}}return false},isFieldNameOfColumn:function(e,ex){var pC=oL.stripNewlines(e.fn);var pD=oL.stripNewlines(ex);var pE='['+pD+']';return ss.referenceEquals(pD,pC)||ss.referenceEquals(pD,oL.stripNewlines(e.fnDisagg))||ss.referenceEquals(pE,pC)||ss.referenceEquals(pE,oL.stripNewlines(e.localBaseColumnName))},isFieldCaptionOfColumn:function(e,ex){return ss.referenceEquals(oL.stripNewlines(ex),oL.stripNewlines(e.fieldCaption))},$4:function(e,ex){var pC=ex;while(e.indexOf(pC)>-1){pC+=Math.random()*10000|0}return pC},stripNewlines:function(e){return(ss.isValue(e)?e.replace(oL.$a,''):null)},objectContainsVizInTooltip:function(e){return e.has('span[data-tableau="VizInTooltip"]').length!==0},shouldShowUbertipHTML:function(e){return!tab.MiscUtil.isNullOrEmpty$1(e.text().trim())||oL.objectContainsVizInTooltip(e)},getNodesOfInvalidFields:function(e,ex){var pC='';var pD=e.contents().get();for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];if(pF.nodeType===3){pC+=pF.textContent||(pF.textContent||'')}else{oL.getNodesOfInvalidFields($(pF),ex)}}if(pC.indexOf('~~~???~~~')!==-1){ex.push(e)}},getVizDataForSheet:function(e,ex){if(!ss.keyExists(e,ex)){return null}var pC=e[ex].presModelHolder;return pC['genVizDataPresModel']},addVizDataToZones:function(e,ex){var pC=_.keys(ex);var pD=_.keys(e);for(var pE=0;pE<pD.length;pE++){var pF=pD[pE];for(var pG=0;pG<pC.length;pG++){var pH=pC[pG];var pI=ex[pH];if(pI.zoneCommon.zoneType==='viz'&&ss.referenceEquals(pI.sheet,pF)){var pJ=pI.presModelHolder['visual'.toString()];if(ss.isValue(pJ)){pJ.vizData=oL.getVizDataForSheet(e,pF)}break}}}},$0:function(e,ex){for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];var pE=oL.$3(e,pD,'tr');if(ss.isValue(pE)){pE.remove()}else{var pF=oL.$3(e,pD,'div');if(ss.isValue(pF)){pF.remove()}else{pD.remove()}}}},$3:function(e,ex,pC){var pD=ex;if(ss.isValue(e)&&ss.isValue(ex)&&e.find(ex).length===1){while(!ss.referenceEquals(pD[0],e[0])){if(ss.referenceEquals(pD[0].tagName.toLowerCase(),pC)){return pD}pD=pD.parent()}}return null},$6:function(e,ex,pC,pD,pE,pF){var pG=[];for(var pH=0;pH<pC.length;pH++){var pI=pC[pH];var pJ=(pF?oJ.lookupAlias(pI,ex,e):oJ.lookupRawDataValue(pI,ex,e));if(ss.isNullOrUndefined(pJ)){continue}if(oJ.isSpecial(pI,ex,e,null)){continue}if(pJ.indexOf(pE.delimiter)!==-1){pJ=ss.replaceAllString(pJ,pE.delimiter,pE.escapeString+pE.delimiter)}if(pE.shouldUrlEscape){pJ=encodeURIComponent(pJ)}pG.push(pJ)}if(pG.length===0){return null}if(pG.length>1&&ss.isNullOrUndefined(pE.delimiter)){return null}var pK=pG.join(pE.delimiter);if(pD===0){pK=tab.EscapingUtil.escapeHtml(pK)}return pK},$5:function(e,ex,pC,pD,pE){var pF=[];for(var pG=0;pG<pC.length;pG++){var pH=pC[pG];var pI=(pD?oJ.lookupAlias(pH,ex,e):oJ.lookupRawDataValue(pH,ex,e));pI=oL.replaceUrlStringSpecialValues(pI);pI=ss.replaceAllString(pI,pE.delimiter,pE.escapeString+pE.delimiter);pF.push(pI)}return encodeURIComponent(pF.join(pE.delimiter))},replaceUrlStringSpecialValues:function(e){switch(e){case'%null%':{return'~~null~'}case'%skipped%':{return'~~skipped~'}case'%ragged%':{return'~~ragged~'}default:{return e}}},$2:function(e,ex,pC,pD){var pE;if(pC.length>1){if(!ex.get_hasDataValues()){return'...'}var pF=new Array(pC.length);for(var pG=0;pG<pC.length;++pG){var pH=oJ.lookupRawDataValue(pC[pG],ex,e);if(pH===null||tableau.format.isSpecialValue(pH)){pH='0'}else if(typeof(pH)==='undefined'||pH.length===0){return'...'}pF[pG]=pH}var pI=0;for(var pJ=0;pJ<pF.length;++pJ){pI+=parseFloat(pF[pJ])}pE=tableau.format.formatString(pI.toString(),ex.get_vizColumnDoNotUse())}else if(pC.length===1){var pK=oJ.lookupDisplayValue(pC[0],ex,e);if(ss.isNullOrUndefined(pK)){return'~~~???~~~'}pE=pK}else{return''}if(pD===0){return tab.EscapingUtil.escapeHtml(pE)}else{return pE}},$7:function(e){return ss.startsWithString(e,'DAY(')||ss.startsWithString(e,'MONTH(')||ss.startsWithString(e,'YEAR(')},$8:function(e){return ss.startsWithString(e,'FILTERMIN(')||ss.startsWithString(e,'FILTERMAX(')||ss.startsWithString(e,'FILTERVALUES(')},$1:function(e,ex,pC,pD){if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.get_filterContext())){return''}var pE=ex.get_filterContext();var pF;switch(pC){case'FILTERMIN':{pF=pE.filterMinIndices;break}case'FILTERMAX':{pF=pE.filterMaxIndices;break}case'FILTERVALUES':{pF=pE.filterValueIndices;break}default:{return''}}if(tab.MiscUtil.isNullOrEmpty(pF)){return''}var pG=[];var pH=(ss.isValue(pD)?pD.delimiter:null);var pI=(ss.isValue(pD)?pD.escapeString:null);for(var pJ=0;pJ<pF.length;pJ++){var pK=pF[pJ];var pL=oJ.lookupRawDataValueFromIndex(pK,ex,e);if(ss.isValue(pH)&&ss.isValue(pI)&&ss.isValue(pL)){if(pL.indexOf(pH)!==-1){pL=ss.replaceAllString(pL,pH,pI+pH)}}pG.push(pL)}return pG.join(pH||',')}});var oM=global.tab.VizPortalServer=ss.mkType(a,'tab.VizPortalServer',null,null,{createRequest:function(e,ex,pC,pD){var pE=function(pF){if(oM.$4(pF)){pD(oM.$2(pF))}else{pC(pF)}};return oM.$5(e,ex,pE,pD)},createRequestWithPartialFailureHandling:function(e,ex,pC,pD,pE){var pF=function(pG){if(oM.$4(pG)){pD(pG)}else{pC(pG)}};return oM.$5(e,ex,pF,pE)},$1:function(e){var ex=new Object;ex.type='POST';ex.url=e;var pC=oM.$6();if(ss.isValue(pC)){ex.headers=ss.mkdict(['X-XSRF-TOKEN',pC])}ex.success=function(pD,pE,pF){if(ss.isValue(pD)){document.open();document.write(pD.toString());document.close()}};return ex},$0:function(e){return oM.$5(e.methodName,e.methodParams,e.success,e.error)},$5:function(e,ex,pC,pD){var pE=new Object;pE.type='POST';pE.contentType='application/json;charset=UTF-8';pE.dataType='json';pE.url='/vizportal/api/web/v1/'+e;var pF=oM.$6();if(ss.isValue(pF)){pE.headers=ss.mkdict(['X-XSRF-TOKEN',pF])}pE.data=JSON.stringify(ss.mkdict(['method',e,'params',ex]));pE.success=function(pG,pH,pI){pC(oM.$3(pG))};pE.error=function(){pD(0)};return pE},$6:function(){var e=document.cookie.match(new RegExp('(^|;) ?XSRF-TOKEN=([^;]*)(;|$)'));return(ss.isValue(e)?e[2]:null)},$4:function(e){if(ss.keyExists(e,'errors')){var ex=e['errors'];return ex.length>0}else{return false}},$2:function(e){if(ss.keyExists(e,'errors')){var ex=e['errors'];if(ex.length>0&&ss.keyExists(ex[0],'code')){return ex[0]['code']}}return 0},$3:function(e){var ex=e;return ex['result']}});var oN=global.tab.VizqlSessionRequest=ss.mkType(a,'tab.VizqlSessionRequest',function(e,ex,pC,pD){this.methodName=null;this.methodParams=null;this.success=null;this.error=null;this.methodName=e;this.methodParams=ex;this.success=pC;this.error=pD});var oO=global.tab.VizRegionRectWrapper=ss.mkType(a,'tab.VizRegionRectWrapper',function(e){this.$0=null;this.$0=e},{get_r:function(){return this.$0['r'.toString()]},set_r:function(e){this.$0['r'.toString()]=e},get_fns:function(){return this.$0['fieldVector'.toString()]},set_fns:function(e){this.$0['fieldVector'.toString()]=e},get_x:function(){return this.$0['x'.toString()]},set_x:function(e){this.$0['x'.toString()]=e},get_y:function(){return this.$0['y'.toString()]},set_y:function(e){this.$0['y'.toString()]=e},get_w:function(){return this.$0['w'.toString()]},set_w:function(e){this.$0['w'.toString()]=e},get_h:function(){return this.$0['h'.toString()]},set_h:function(e){this.$0['h'.toString()]=e}},{create:function(e){return new oO(e)}});var oP=global.tab.VizUriModel=ss.mkType(a,'tab.VizUriModel',function(e){this.explicitNotGuest=false;this.$p=0;this.$j='';this.$q='';this.$o='';this.$h='';this.$m={};this.$i='';this.$k='';this.$l='';this.$n='';if(ss.getKeyCount(oP.$p)===0){oP.$4()}if(ss.isValue(e)){this.$6(e)}},{get_isViewingUri:function(){return this.$p===1},get_isAuthoringUri:function(){return this.$p===2},get_isAuthorNewWorkbookUri:function(){return this.$p===3||this.$p===7},get_isInvalid:function(){return this.$p===0},get_isAdminUri:function(){return this.$p===4},get_isSharedViewUri:function(){return this.$p===5},get_isRevisionHistoryUri:function(){return this.$p===6},get_isNlpLandingPageUri:function(){return this.$p===9},get_isNlpExplorationPageUri:function(){return this.$p===8},get_isCustomizedView:function(){return!tab.MiscUtil.isNullOrEmpty$1(this.$i)},get_absoluteUri:function(){return this.$7()},get_uri:function(){return this.$c()},get_path:function(){return this.$b()},get_queryParams:function(){return this.$m},get_retry:function(){return this.$8(':retry')},set_retry:function(e){this.$f(':retry',e)},get_retryBootstrapAttempts:function(){return this.$a(':retryBootstrapAttempts')},set_retryBootstrapAttempts:function(e){this.$g(':retryBootstrapAttempts',e)},get_originalView:function(){return this.$8(':original_view')},set_originalView:function(e){this.$f(':original_view',e);if(e){this.$i=''}},get_showVizHome:function(){return this.$8(':showVizHome')},set_showVizHome:function(e){this.$f(':showVizHome',e)},get_ignoreStickySession:function(){return this.$8(':ignore_sticky_session')},set_ignoreStickySession:function(e){this.$f(':ignore_sticky_session',e)},get_showSaveAs:function(){return this.$8(':showSaveAs')},set_showSaveAs:function(e){this.$f(':showSaveAs',e)},get_showComments:function(){return this.$8(':showComments')},set_showComments:function(e){this.$f(':showComments',e);if(e){this.set_showDataAlertId(null);this.set_showDataAlerts(false)}},get_showDataAlertId:function(){return(ss.keyExists(this.$m,':showDataAlertId')?this.$m[':showDataAlertId'][0]:null)},set_showDataAlertId:function(e){if(ss.isNullOrEmptyString(e)){delete this.$m[':showDataAlertId']}else{this.$m[':showDataAlertId']=[e];this.set_showDataAlerts(false);this.set_showComments(false)}},get_showDataAlerts:function(){return this.$8(':showDataAlerts')},set_showDataAlerts:function(e){this.$f(':showDataAlerts',e);if(e){this.set_showDataAlertId(null);this.set_showComments(false)}},get_graphQLTableId:function(){return(ss.keyExists(this.$m,':graphQLTableId')?this.$m[':graphQLTableId'][0]:null)},set_graphQLTableId:function(e){if(ss.isNullOrEmptyString(e)){delete this.$m[':graphQLTableId']}else{this.$m[':graphQLTableId']=[e]}},get_graphQLDatabaseId:function(){return(ss.keyExists(this.$m,':graphQLDatabaseId')?this.$m[':graphQLDatabaseId'][0]:null)},set_graphQLDatabaseId:function(e){if(ss.isNullOrEmptyString(e)){delete this.$m[':graphQLDatabaseId']}else{this.$m[':graphQLDatabaseId']=[e]}},get_editDataAlertId:function(){return(ss.keyExists(this.$m,':editDataAlertId')?this.$m[':editDataAlertId'][0]:null)},set_editDataAlertId:function(e){if(ss.isNullOrEmptyString(e)){delete this.$m[':editDataAlertId']}else{this.$m[':editDataAlertId']=[e]}},get_showDataAlertsPanel:function(){return this.get_showDataAlerts()||!ss.isNullOrEmptyString(this.get_showDataAlertId())},get_deviceLayout:function(){return(ss.keyExists(this.$m,':device')?this.$m[':device'][0]:null)},set_deviceLayout:function(e){if(ss.isValue(e)){this.$m[':device']=[];this.$m[':device'].push(ss.unbox(e).toString())}else{delete this.$m[':device']}},$8:function(e){return ss.keyExists(this.$m,e)&&tab.MiscUtil.toBoolean(this.$m[e][0],false)},$f:function(e,ex){if(ex){this.$m[e]=[];this.$m[e].push('yes')}else{delete this.$m[e]}},$a:function(e){var ex={$:0};if(ss.keyExists(this.$m,e)){ss.Int32.tryParse(this.$m[e][0],ex)}return ex.$},$g:function(e,ex){if(ex>0){this.$m[e]=[];this.$m[e].push(ex.toString())}else{delete this.$m[e]}},removeQueryParam:function(e){delete this.$m[e];return this},removeAllQueryParams:function(){ss.clearKeys(this.$m);return this},clone:function(){var e=new oP(null);e.$j=this.$j;e.$p=this.$p;e.$q=this.$q;e.$o=this.$o;e.$h=this.$h;e.$m=this.$m;e.$i=this.$i;e.$k=this.$k;e.$l=this.$l;e.explicitNotGuest=this.explicitNotGuest;var ex=e;return ex},trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar:function(){var e={};var ex=ss.getEnumerator(Object.keys(this.$m));try{while(ex.moveNext()){var pC=ex.current();var pD=decodeURIComponent(pC);if(ss.startsWithString(pD,':ff_')||ss.contains(oP.$7,pD)){e[pC]=this.$m[pC]}}}finally{ex.dispose()}this.$m=e;return this},fullPageLoad:function(e){e=e||tabBootstrap.Utility.get_locationWindow();this.setWindowLocation(null);window.setTimeout(function(){tab.WindowHelper.reload(e,false)},300)},replaceState:function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.HistoryUtil.replaceState(e,new Object,'',this.get_uri())},setWindowLocation:function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.WindowHelper.setLocationHref(e,this.get_uri())},setTopWindowLocation:function(){this.setWindowLocation(window.top)},matchesCurrentWindowLocationUri:function(e){return ss.referenceEquals(this.get_uri(),oP.createForCurrentWindowLocation(e).get_uri())},matchesCurrentWindowLocationAbsoluteUri:function(){return ss.referenceEquals(this.get_absoluteUri(),oP.createForCurrentWindowLocation(null).get_absoluteUri())},matchesCurrentWindowLocationPath:function(e){return ss.referenceEquals(this.get_path(),oP.createForCurrentWindowLocation(e).get_path())},removeHash:function(){this.$k='';return this},$7:function(){var e=this.$c();var ex=this.$l;if(!ss.startsWithString(e,'/')){ex+='/'}ex+=e;return ex},$c:function(){var e=new ss.StringBuilder;e.append(this.$b());var ex=tab.MiscUtil.replaceUriQueryParameters('',this.$m);if(!tab.MiscUtil.isNullOrEmpty$1(ex)){e.append(ex)}e.append(this.$9());return e.toString()},$b:function(){var e=[];if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.site_root)&&!this.get_isAdminUri()){e.push(tsConfig.site_root)}else{e.push('')}e.push(this.$e(this.$p));if(this.$p===2){e.push(this.$q);e.push(this.$o);if(!tab.MiscUtil.isNullOrEmpty$1(this.$h)){e.push(encodeURIComponent(this.$h))}}else if(this.$p===1){e.push(this.$q);e.push(this.$o);if(!tab.MiscUtil.isNullOrEmpty$1(this.$i)){e.push(this.$i)}}else if(this.$p===4){e.push(this.$q);e.push(this.$o)}else if(this.$p===3||this.$p===7){e.push(this.$q)}else if(this.$p===5){e.push(tsConfig.guid)}else if(this.$p===6){e.push(this.$q);if(!tab.MiscUtil.isNullOrEmpty$1(this.$o)){e.push(this.$o)}e.push('history');e.push(this.$n)}else if(this.get_isNlpLandingPageUri()||this.get_isNlpExplorationPageUri()){e.push(this.$j)}return e.join('/')},$9:function(){if(this.explicitNotGuest){return'#guest=n'}return this.$k},$6:function(e){var ex=_.keys(oP.$o);var pC=or.getModuleFromPath(e.pathname,ex);this.$p=this.$d(pC);var pD=or.getMeatFromPath(e.pathname,ex);if(this.$p===1){this.$5(pD)}else if(this.$p===2){this.$2(pD)}else if(this.$p===3||this.$p===7){this.$1(pD)}else if(this.$p===4){this.$0(pD)}else if(this.$p===6){this.$4(pD)}else if(this.get_isNlpLandingPageUri()||this.get_isNlpExplorationPageUri()){this.$3(pD)}this.$m=oP.$3(e);this.$k=e.hash;this.$l=BrowserSupport.BrowserSupport.GetOrigin(e)},$5:function(e){var ex=e.split('/');this.$q=ex[0];this.$o=ex[1];if(ex.length>2){if(ex.length===3){this.$i=ex[2]}this.$i=ex[2]+'/'+ex[3]}},$2:function(e){var ex=e.split('/');this.$q=ex[0];this.$o=ex[1];if(ex.length>2){this.$h=decodeURIComponent(ex[2])}},$0:function(e){var ex=e.split('/');this.$q=ex[0];this.$o=ex[1]},$1:function(e){this.$q=e},$4:function(e){var ex=e.split('/');this.$q=ex[0];if(ex.length>3){this.$o=decodeURIComponent(ex[1]);this.$n=decodeURIComponent(ex[3])}else{this.$n=decodeURIComponent(ex[2])}},$3:function(e){this.$j=e},$e:function(e){return oP.$p[e]},$d:function(e){return oP.$o[e]},updateForViewingSheet:function(e){if(!this.get_isViewingUri()&&!this.get_isAuthoringUri()&&!this.get_isAdminUri()&&!this.get_isSharedViewUri()&&!this.get_isRevisionHistoryUri()){throw new ss.Exception('Cannot call UpdateForViewingNewTab() from a VizUriModel that does not have VizUriType Viewing')}var ex=new lj(e);this.$q=ex.get_workbookId();this.$o=ex.get_sheetId();this.$h='';return this},updateForCustomizedView:function(e){if(!this.get_isViewingUri()){throw new ss.Exception('Cannot call UpdateForCustomizedView() from a VizUriModel that does not have VizUriType Viewing')}var ex=e.startViewId;if(ss.isNullOrUndefined(ex)){ex=this.$o}this.$o=ex;this.$i=ss.formatString('{0}/{1}',oP.encodeUserName(e.owner.username),e.urlId);this.$h='';this.set_originalView(false);return this}},{createForCurrentWindowLocation:function(e){return new oP(tab.WindowHelper.getLocation(e||tabBootstrap.Utility.get_locationWindow()))},$5:function(e,ex){var pC=new lj(ex);e.$q=pC.get_workbookId();e.$o=pC.get_sheetId();e.$i=pC.get_customizedView();e.$h='';return e},createForViewingSheet:function(e){var ex=oP.$0(null);ex.$p=(tsConfig.is_revision_history_preview?6:(ex.$p=1));return oP.$5(ex,e)},createForViewingSheetNoQueryParamsNoHash:function(e){var ex=oP.$0(null);ex.$p=1;ex.removeAllQueryParams();ex.removeHash();return oP.$5(ex,e)},createForCurrentWindowLocationAndVizState:function(e,ex){var pC=oP.createForCurrentWindowLocation(null);var pD=new lj(e);pC.$q=pD.get_workbookId();pC.$o=pD.get_sheetId();pC.$i=pD.get_customizedView();pC.$h=ex;return pC},createForAuthoringUnpublishedSheet:function(e,ex){var pC=oP.createForAuthoringPublishedSheet(e);pC.$h=ex;return pC},createForAuthoringPublishedSheet:function(e){var ex=oP.$0(null);ex.$p=2;var pC=new lj(e);ex.$q=pC.get_workbookId();ex.$o=pC.get_sheetId();ex.$h='';return ex},createForAuthoringPublishedSheetFromToolbar:function(e){var ex=oP.createForAuthoringPublishedSheet(e).trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar().removeHash();return ex},createInvalid:function(){var e=new oP(null);e.$p=0;var ex=e;return ex},createForDeviceLayout:function(e){var ex=oP.createForCurrentWindowLocation(null);ex.set_deviceLayout(e);return ex},$4:function(){var e=ss.getEnumerator(Object.keys(oP.$o));try{while(e.moveNext()){var ex=e.current();oP.$p[oP.$o[ex]]=ex}}finally{e.dispose()}},$0:function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}var ex=tab.WindowHelper.getLocation(e);var pC=new oP(ex);pC.$m=oP.$3(ex);pC.$k=ex.hash;pC.$l=BrowserSupport.BrowserSupport.GetOrigin(ex);var pD=pC;return pD},$3:function(e){var ex=tab.UriExtensions.getUriQueryParameters(e.href);for(var pC=0;pC<oP.$d.length;pC++){var pD=oP.$d[pC];if(ss.keyExists(ex,pD)){delete ex[pD]}}return ex},encodeUserName:function(e){var ex=tab.MiscUtil.percentEncode(e,oP.$q);return ss.replaceAllString(ex,'%40','@')},createVizUriModelForAuthoringSheetInWorkbook:function(e,ex){var pC;var pD=oP.$2(e,ex);if(pD.length>0){pC=oP.createForAuthoringPublishedSheet(ex.repositoryUrl+'/'+pD)}else{var pE=oP.$1(ex);pC=oP.createForAuthoringUnpublishedSheet(ex.repositoryUrl+'/'+pE,e)}if(tab.MiscUtil.isNullOrEmpty(pC)){pC=oP.createInvalid()}return pC},createVizUriModelForViewingSheetInWorkbook:function(e,ex){var pC=oP.$2(e,ex);return((pC.length>0)?oP.createForViewingSheet(ex.repositoryUrl+'/'+pC):oP.createInvalid())},$2:function(e,ex){var pC=_.find(ex.views,function(pD){return ss.referenceEquals(pD.name,e)});return(ss.isNullOrUndefined(pC)?'':pC.sheetId)},$1:function(e){var ex=_.first(e.views);return(ss.isNullOrUndefined(ex)?'':ex.sheetId)}});var oQ=global.tab.VizUriType=ss.mkEnum(a,'tab.VizUriType',{invalid:0,viewing:1,authoring:2,authorNewWorkbookFromDataSource:3,admin:4,sharedView:5,revisionHistory:6,authorNewWorkbook:7,nlpExplorationPage:8,nlpLandingPage:9});var oR=global.tab.WaitFeedbackType=ss.mkEnum(a,'tab.WaitFeedbackType',{immediateGlassAndSpinner:0,immediateGlassDelayedSpinner:1,delayedGlassAndSpinner:2});var oS=global.tab.WaitHandler=ss.mkType(a,'tab.WaitHandler',function(){this.$f=null;this.$m=null;this.$k=0;this.$l=null;this.$i=false;this.$h=false;this.$d=null;this.$g=null;this.$o=null;this.$j=0;this.$e=ss.coalesce(tab.FeatureParamsLookup.getInt(48),2000);this.$n=ss.coalesce(tab.FeatureParamsLookup.getInt(49),2000);this.$f=$('#'+'loadingGlassPane');this.$f.on('mousedown',ss.mkdel(this,this.$4));this.$f.on('mouseup',ss.mkdel(this,this.$5));this.$f.on(BrowserSupport.BrowserSupport.MouseWheelEvent(),function(ex){ex.preventDefault()});this.$m=$('#'+'loadingSpinner');this.$k=0;this.$i=true;this.$h=false;var e=ss.mkdel(this,this.$8);document.body.addEventListener('keydown',e,true);document.body.addEventListener('keyup',e,true);document.body.addEventListener('keypress',e,true)},{$4:function(e){e.stopImmediatePropagation();if(ss.referenceEquals(e.currentTarget,this.$f[0])){this.$j=e.timeStamp}},$5:function(e){if(ss.referenceEquals(e.currentTarget,this.$f[0])&&e.timeStamp-this.$j>500){console.warn('Element #'+'loadingGlassPane'+'received a mouseup event without receiving a mousedown event within '+500+'ms prior. '+'This usually happens when a `UIBlocking.Immediate` command is dispatched by a `blur` event in the middle of a mouse click. '+'This can result in click events not firing as expected. See http://l/NwDZCa for troubleshooting options.')}},$8:function(e){var ex=$(e.target).closest("[style*='z-index']");var pC=false;if(ex.length>0){var pD=ex.css('zIndex');var pE=((pD==='auto')?ex[0].style.getPropertyValue('z-index'):pD);var pF={$:0};ss.Int32.tryParse(pE,pF);pC=pF.$>=1000}if(!pC&&this.$i&&this.$k>0){e.stopImmediatePropagation()}},isBusy:function(){return this.$k>0},addref:function(e,ex){this.$k+=1;if(this.$k===1&&!this.$i&&!this.$h){var pC=(e?1:2);this.$c(pC,ex)}},addrefAndShowFullWaitHandlerNow:function(){this.$k+=1;this.$c(0,true)},showAndLock:function(){if(!this.$i){this.$c(0,true)}this.$7()},$7:function(){this.$h=true},unlock:function(){this.$h=false},release:function(){this.$k-=1;if(this.$k<0){this.$k=0}this.nudge()},nudge:function(){if(this.$k>0||this.$h){return}this.$6()},reset:function(){this.$0();this.$m.hide().css('opacity','0');oS.$4();if(this.$f.length===0){return}var e=ss.mkdel(this,function(ex){ex.css('cursor','default').hide();var pC=$('.'+'facadedom');if(pC.length>0){pC.remove()}});oS.loadingElementFadeOut(this.$f,300,e)},onNextHide:function(e){this.$l=e},$0:function(){this.$d=tab.MiscUtil.clearTimeout(this.$d);this.$g=tab.MiscUtil.clearTimeout(this.$g);this.$o=tab.MiscUtil.clearTimeout(this.$o)},$6:function(){if(ss.isValue(this.$l)){this.$l();this.$l=null;this.$0()}else{this.reset()}this.$i=false;oS.$4()},$c:function(e,ex){this.$0();this.$a(e,ex);this.$i=true;oS.$1(e,ex)},$a:function(e,ex){switch(e){case 0:{this.$9(0);if(ex){this.$2();this.$b()}break}case 1:{this.$9(0);if(ex){this.$2();this.$3()}break}case 2:{this.$1();if(ex){this.$2();this.$3()}break}}},$1:function(){this.$d=window.setTimeout(ss.mkdel(this,function(){this.$9(0)}),400)},$2:function(){this.$g=window.setTimeout(ss.mkdel(this,function(){this.$9(0.419999986886978)}),this.$e)},$9:function(e){if(this.$f.css('display')!=='none'&&ss.referenceEquals(this.$f.css('opacity'),e.toString())){return}this.$f.css('cursor','wait');oS.$0(this.$f,500,e);oS.$2()},$3:function(){this.$o=window.setTimeout(ss.mkdel(this,this.$b),this.$n)},$b:function(){oS.$0(this.$m,250,1);oS.$3()}},{add_unblocked:function(e){oS.$1$1=ss.delegateCombine(oS.$1$1,e)},remove_unblocked:function(e){oS.$1$1=ss.delegateRemove(oS.$1$1,e)},add_blocked:function(e){oS.$1$2=ss.delegateCombine(oS.$1$2,e)},remove_blocked:function(e){oS.$1$2=ss.delegateRemove(oS.$1$2,e)},add_displayedModalGlass:function(e){oS.$1$3=ss.delegateCombine(oS.$1$3,e)},remove_displayedModalGlass:function(e){oS.$1$3=ss.delegateRemove(oS.$1$3,e)},add_displayedModalSpinner:function(e){oS.$1$4=ss.delegateCombine(oS.$1$4,e)},remove_displayedModalSpinner:function(e){oS.$1$4=ss.delegateRemove(oS.$1$4,e)},$1:function(e,ex){if(!ss.staticEquals(oS.$1$2,null)){oS.$1$2(e,ex)}},$2:function(){if(!ss.staticEquals(oS.$1$3,null)){oS.$1$3()}},$3:function(){if(!ss.staticEquals(oS.$1$4,null)){oS.$1$4()}},$4:function(){if(!ss.staticEquals(oS.$1$1,null)){oS.$1$1()}},$0:function(e,ex,pC){e.css('opacity','0');e.css('transition',ex+'ms opacity');e.show();e.css('display');e.css('opacity',pC.toString())},loadingElementFadeOut:function(e,ex,pC){e.css('transition',ex+'ms opacity');window.setTimeout(function(){e.css('opacity','0')},0);window.setTimeout(function(){pC(e)},ex)}});var oT=global.tab.WarningDialogModel=ss.mkType(a,'tab.WarningDialogModel',function(e){this.$2$1=null;jC.call(this,e,new kA('doc:warning-message-event'.toString(),null))},{add_newWarningMessage:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWarningMessage:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_title:function(){if(!tab.MiscUtil.isNullOrEmpty(this.pm)){return this.pm.titleString}return''},get_text:function(){if(!tab.MiscUtil.isNullOrEmpty(this.pm)){return this.pm.warning1}return''},get_warningType:function(){return this.pm.warningType},get_notificationId:function(){return'doc:warning-message-event'},onNotify:function(e,ex){this.swapPresModel(e);this.raiseEvent(this.$2$1,ex)}});var oU=global.tab.WebBaseCmd$2=ss.mkType(a,'tab.WebBaseCmd$2',function(e,ex){var pC=ss.registerGenericClassInstance(oU,[e,ex],function(){this.$2$1=false;this.$2$2=false;this.$2$3=false;this.$2$4=false;this.$2$5=false;ss.makeGenericType(bl,[e,ex]).call(this)},{get_isChecked:function(){return this.$2$1},set_isChecked:function(pD){this.$2$1=pD},get_isDefault:function(){return this.$2$2},set_isDefault:function(pD){this.$2$2=pD},get_isEnabled:function(){return this.$2$3},set_isEnabled:function(pD){this.$2$3=pD},get_isRadioOn:function(){return this.$2$4},set_isRadioOn:function(pD){this.$2$4=pD},get_isVisible:function(){return this.$2$5},set_isVisible:function(pD){this.$2$5=pD},createCommand:function(){return new jo(ss.mkdel(this,function(pD){this.do$1()}))},transfer:function(pD){if(ss.isValue(pD)){_.each(_.difference(Object.keys(pD),Object.keys(this.c)),ss.mkdel(this,function(pE){this.c[pE]=pD[pE]}))}},do$1:null,do$2:function(pD){return null},invoke:function(){var pD=$.Deferred();this.do$1();pD.resolve();return pD.promise()}},null,function(){return ss.makeGenericType(bl,[e,ex])});return pC});ss.initGenericClass(oU,2);var oV=global.tab.WebCommandHandler=ss.mkType(a,'tab.WebCommandHandler',function(e){this.$5=null;this.$3=0;this.$4=null;this.$1$1=null;this.$1$2=null;this.$5=e;this.$3=0;this.$4=new z;this.$4.$3(ss.mkdel(this,this.$1))},{add_onRemoteCommandResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onRemoteCommandResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onRemoteCommandException:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onRemoteCommandException:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},$0:function(){return this.$4},cancelRunningCommand:function(e,ex,pC){this.$5.cancelRunningCommand(e,function(pD,pE){ex(pD,pE)},pC)},executeSingleRemoteCommand:function(e,ex,pC){if(this.$4.$2(e,ex,pC)===0){return}var pD='cn: '+e.commandName;var pE=tabBootstrap.MetricsController.createContext('EXEREM'.toString(),4,pD);var pF=this.$3;var pG=ss.mkdel(this,function(pI){pE.dispose();this.$1(pF,e,pI);pC(pI)});var pH=ss.mkdel(this,function(pI,pJ,pK){if(ss.isValue(pK)){pE.set_clientEventId(pK.requestId)}pE.dispose();if(pJ){return}var pL=tabBootstrap.CommandResponseHandler.getException(pI);if(ss.isValue(pL)){pG(pL);return}this.$2(pF,e,pI);var pM=tabBootstrap.CommandResponseHandler.getConnectionAttemptInfo(pI);if(ss.isValue(pM)&&pM.dataSourceConnectionAttemptInfos.length>0){if(pM.dataSourceConnectionAttemptInfos.length===1){var pN=new tab.DataSourceConnectionAttemptErrorResponse.$ctor1(pM.dataSourceConnectionAttemptInfos[0]);pC(new ss.Exception(JSON.stringify(pN)))}else{pC(new ss.Exception(tab.Strings.DataSourceGenericErrorMsg))}}else{var pO=tabBootstrap.CommandResponseHandler.getCommandReturnValue(pI,e);ex(pO,pK)}});this.$5.executeServerCommand(e,pH,pG);this.$3=this.$3+1>>>0},$1:function(e,ex,pC){if(!ss.staticEquals(this.$1$2,null)){this.$1$2(e,ex,pC)}},$2:function(e,ex,pC){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e,ex,pC)}}});var oW=global.tab.WebCommandItemWrapper=ss.mkType(a,'tab.WebCommandItemWrapper',function(e){this.$1=null;cC.call(this,e);var ex=cJ.deserialize(this.get_command(),false);var pC={ns:ex.commandNamespace,cmd:ex.commandName};this.$1=oY.get_instance().createCommand(pC);this.$1.set_isChecked(cC.prototype.get_isChecked.call(this));this.$1.set_isDefault(cC.prototype.get_isDefault.call(this));this.$1.set_isEnabled(cC.prototype.get_enabled.call(this));this.$1.set_isRadioOn(cC.prototype.get_isRadioOn.call(this));this.$1.set_isVisible(cC.prototype.get_isVisible.call(this));this.$1.transfer(ex.commandParams);KeyboardShortcuts.KeyboardShortcutManager.TryUpdateKeyboardShortcut(pC.cmd,this)},{get_isChecked:function(){return(ss.isValue(this.$1)?this.$1.get_isChecked():cC.prototype.get_isChecked.call(this))},get_isDefault:function(){return(ss.isValue(this.$1)?this.$1.get_isDefault():cC.prototype.get_isDefault.call(this))},get_enabled:function(){return(ss.isValue(this.$1)?this.$1.get_isEnabled():cC.prototype.get_enabled.call(this))},get_isRadioOn:function(){return(ss.isValue(this.$1)?this.$1.get_isRadioOn():cC.prototype.get_isRadioOn.call(this))},get_isVisible:function(){return(ss.isValue(this.$1)?this.$1.get_isVisible():cC.prototype.get_isVisible.call(this))}});var oX=global.tab.WebCommandKeyboardShortcut$2=ss.mkType(a,'tab.WebCommandKeyboardShortcut$2',function(e,ex){var pC=ss.registerGenericClassInstance(oX,[e,ex],function(pD,pE,pF,pG,pH,pI,pJ){this.$7=null;this.$0=null;this.$6=new ss.Lazy(function(){return ss.createInstance(e)});this.$3=null;this.$1=null;this.$2=null;this.$4=false;this.$5=false;KeyboardShortcuts.CommandKeyboardShortcut.call(this);this.$0=pD;this.$3=pI;this.$2=pG;this.$4=pE;this.$5=pF;this.$1=pH;KeyboardShortcuts.KeyboardShortcutManager.AssociateShortcutWithCommand.apply(null,[this,this.$6.value().get_commandId()].concat(pJ))},{getKeyComboOrKeyCombos:function(){return this.$0},getCommandId:function(){return this.$6.value().get_commandId()},shouldRequireCommandCheck:function(){return false},getAdditionalOptions:function(){return this.$3||KeyboardShortcuts.CommandKeyboardShortcut.prototype.getAdditionalOptions.call(this)},updateShortcutAction:function(pD){this.$7=pD},isAllowed:function(pD){var pE=ss.staticEquals(this.$2,null)||this.$2(pD);var pF=(ss.isNullOrUndefined(this.$7)?this.$6.value().get_isEnabled():this.$7.shouldBeEnabled());var pG=!this.$4||pF;var pH=(ss.isNullOrUndefined(this.$7)?this.$6.value().get_isVisible():this.$7.shouldBeVisible());var pI=!this.$5||pH;return pE&&pG&&pI&&KeyboardShortcuts.CommandKeyboardShortcut.prototype.isAllowed.call(this,pD)},executeShortcut:function(pD){if(!ss.staticEquals(this.$1,null)){this.$1(pD,this.$6.value())}else{this.$6.value().invoke()}}},null,function(){return KeyboardShortcuts.CommandKeyboardShortcut},function(){return[KeyboardShortcuts.IKeyboardShortcut]});return pC});ss.initGenericClass(oX,2);var oY=global.tab.WebCommandRegistry=ss.mkType(a,'tab.WebCommandRegistry',function(){this.$1={};this.$0={}},{registerCommandLocalOptions:function(e,ex){var pC=cN.serialize(e);if(!this.hasCommandLocalOptions(e)){this.$0[pC]=ex}else{}},hasCommandLocalOptions:function(e){return ss.keyExists(this.$0,cN.serialize(e))},getCommandLocalOptions:function(e){var ex=cN.serialize(e);if(!this.hasCommandLocalOptions(e)){}return this.$0[ex]},registerCommand:function(e,ex){this.$1[cN.serialize(e)]=ex},hasCommand:function(e){return ss.keyExists(this.$1,cN.serialize(e))},createCommand:function(e){if(this.hasCommand(e)){var ex=this.$1[cN.serialize(e)];return ss.createInstance(ex)}throw new ss.Exception('creating unregistered web command')},createCommandWithParams:function(e,ex){if(this.hasCommand(e)){var pC=this.$1[cN.serialize(e)];var pD=ss.createInstance(pC);pD.transfer(ex);return pD}throw new ss.Exception('creating unregistered web command')}},{get_instance:function(){return oY.$1}});var oZ=global.tab.WebEditConnectionCmd=ss.mkType(a,'tab.WebEditConnectionCmd',function(){ss.makeGenericType(oU,[Object,pa]).call(this)},{get_commandId:function(){return oZ.cmdId}});var pa=global.tab.WebEditConnectionCmd$Response=ss.mkType(a,'tab.WebEditConnectionCmd$Response',function(e){this.$$c=null;this.$$c=e});var pb=global.tab.WebFilteredFontListProvider=ss.mkType(a,'tab.WebFilteredFontListProvider',function(e){this.$1=null;this.$1=[];pb.$2(e.toSimpleFontList());this.$0(e)},{get_fontFamilies:function(){return Array.prototype.slice.call(this.$1)},$0:function(e){var ex=e.get_fontFamilies();for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];var pE=[];var pF=pD.get_fonts();for(var pG=0;pG<pF.length;pG++){var pH=pF[pG];if(pb.get_supportedFonts()[pH]){pE.push(pH)}}if(pE.length>0){this.$1.push(new fX(pD.get_fontGroup(),Array.prototype.slice.call(pE)))}}},toSimpleFontList:function(){return nk.$0(this.$1)}},{get_supportedFonts:function(){return pb.$9},$4:function(){var e=window.self.document;return e.fonts&&e.fonts.check&&!e.fonts.check('12px NotARealFontToCheck')},$3:function(e){if(tab.FeatureFlags.isEnabled('CanvasFontFiltering')){var ex=document.createElement('canvas');var pC=ex.getContext('2d');for(var pD=0;pD<pb.baseFontNames.length;pD++){var pE=pb.baseFontNames[pD];pb.$7[pE]=pb.$1(pC,pE)}for(var pF=0;pF<pb.specialMacOSFontNames.length;pF++){var pG=pb.specialMacOSFontNames[pF];pb.$7[pG]=pb.$1(pC,pG)}}else{if(pb.$4()){return}for(var pH=0;pH<pb.baseFontNames.length;pH++){var pI=pb.baseFontNames[pH];var pJ=$('<span></span>').css({'font-size':pb.baseFontSize,'font-family':pI}).text(pb.fontTestText);e.append(pJ);pb.$7[pI]=pJ.get(0).offsetWidth;pb.$6[pI]=pJ.get(0).offsetHeight;pJ.remove()}}},checkIfFontExists:function(e,ex){var pC=false;if(pb.$4()){return window.self.document.fonts.check(ss.formatString('{0} "{1}"',pb.baseFontSize,e))}for(var pD=0;pD<pb.baseFontNames.length;pD++){var pE=pb.baseFontNames[pD];var pF=ss.formatString('"{0}", {1}',e,pE);var pG=$('<span></span>').css({'font-size':pb.baseFontSize,'font-family':pF}).text(pb.fontTestText);gf.cleanUpFontFamilyStyles(pG);ex.append(pG);pC=pC||pb.$7[pE]!==pG.get(0).offsetWidth||pb.$6[pE]!==pG.get(0).offsetHeight;if(pC){break}pG.remove()}return pC},$2:function(e){var ex=tabBootstrap.MetricsController.createContext('ComputeFonts',32,null);if(tab.FeatureFlags.isEnabled('CanvasFontFiltering')){pb.$0(e)}else{var pC=$('<div></div>').css('visibility','hidden');pb.$8.append(pC);var pD=ss.getEnumerator(e);try{while(pD.moveNext()){var pE=pD.current();if(ss.keyExists(pb.get_supportedFonts(),pE)||ss.contains(pb.baseFontNames,pE)){continue}pb.get_supportedFonts()[pE]=pb.checkIfFontExists(pE,pC)}}finally{pD.dispose()}pC.remove()}ex.dispose()},$1:function(e,ex){e.font=pb.baseFontSize+' '+ss.replaceAllString(ex,'"','');return e.measureText(pb.fontTestText).width},$0:function(e){var ex=pb.baseFontNames.concat(pb.specialMacOSFontNames);var pC=document.createElement('canvas');var pD=pC.getContext('2d');if(ss.getKeyCount(pb.$7)===0){for(var pE=0;pE<ex.length;pE++){var pF=ex[pE];pb.$7[pF]=pb.$1(pD,pF)}}var pG=ss.getEnumerator(e);try{while(pG.moveNext()){var pH=pG.current();if(ss.contains(pb.baseFontNames,pH)){continue}var pI=pb.$1(pD,pH);var pJ=true;for(var pK=0;pK<ex.length;pK++){var pL=ex[pK];if(pb.$7[pL]===pI&&ss.indexOf(pb.specialMacOSFontNames,pH)===-1){pJ=false;break}}pb.get_supportedFonts()[pH]=pJ}}finally{pG.dispose()}}});var pc=global.tab.WebRenameConnectionCmd=ss.mkType(a,'tab.WebRenameConnectionCmd',function(){ss.makeGenericType(oU,[Object,pd]).call(this)},{get_commandId:function(){return pc.cmdId}});var pd=global.tab.WebRenameConnectionCmd$Response=ss.mkType(a,'tab.WebRenameConnectionCmd$Response',function(e){this.$$c=null;this.$$c=e});var pe=global.tab.WebViewDataDialog=ss.mkType(a,'tab.WebViewDataDialog',function(e){this.$0=null;this.$0=e},{open$1:function(e){var ex=this.formatUnderlyingDataURL$1(null,e);pe.$1(ex)},open:function(e){if(ss.isNullOrUndefined(e)||e.get_commandType()!==7){return}var ex=this.formatUnderlyingDataURL(e);pe.$1(ex)},formatUnderlyingDataURL:function(e){if(!ss.isValue(e.command)||!ss.isValue(e.command.commandParams)){return this.formatUnderlyingDataURL$1(null,null)}var ex=e.command.commandParams;var pC=null;var pD=null;if(ss.keyExists(ex,'selectAtPoint')){var pE=JSON.parse(ex['selectAtPoint']);pC=tab.PointUtil.fromPresModel(pE)}if(ss.keyExists(ex,'visualIdPresModel')){pD=JSON.parse(ex['visualIdPresModel'])}else if(ss.keyExists(ex,'visualId')){pD=ex['visualId']}return this.formatUnderlyingDataURL$1(pC,pD)},formatUnderlyingDataURL$1:function(e,ex){var pC=this.$0.toViewMethodUrl('viewData');var pD=new ss.StringBuilder(pC);pD.append('?maxrows=200');if(ss.isValue(e)){pD.append('&select_x=').append(e.x);pD.append('&select_y=').append(e.y)}if(ss.isValue(ex)){pD.append('&viz=').append(encodeURIComponent(JSON.stringify(ex)))}if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.features_json)){var pE=JSON.parse(tsConfig.features_json);var pF=new ss.ObjectEnumerator(pE);try{while(pF.moveNext()){var pG=pF.current();var pH=encodeURIComponent(pG.key);var pI=encodeURIComponent(pG.value.toString());pD.append('&:ff_'+pH+'='+pI)}}finally{pF.dispose()}}return pD.toString()}},{create:function(e){return new pe(e)},handleViewData:function(e,ex){var pC=e;var pD=pC.dataProviderPresModel.visualIdPresModel;var pE=jF.getViewSession(pD.worksheet);var pF=new cE;pF.set_CommandType(7);pF.command=cN.newCommand({ns:'tabdoc',cmd:'viewData'},{});var pG=pF;pG.command.commandParams['visualId']=pD;(new pe(pE.getViewUrl())).open(pG)},$0:function(e){return e+tsConfig.sessionid.replace(new RegExp('[^A-Za-z0-9_]','g'),'_')},$1:function(e){window.open(e,pe.$0('vud'),'scrollbars,resizable')}});var pf=global.tab.WebZoneModel=ss.mkType(a,'tab.WebZoneModel',function(e){this.$1=null;this.$2$1=null;jC.call(this,e,new kA('webZone'.toString(),null));this.$1=e.get_zone()},{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},get_url:function(){return this.$1.pm.url},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}});var pg=global.tab.WidgetPlugins=ss.mkType(a,'tab.WidgetPlugins',null,null,{registerWidgetPluginModule:function(e,ex){var pC=jH.registerRawJsModule(e,ex+'.min',ex).andLoadOnDemandIf(true).moduleBeingConfigured;pC.addDependency(ku.menuApiContract);pC.addDependency(ku.hybridWidgetsContract);return pC}});var ph=global.tab.WindowTableCalcModel=ss.mkType(a,'tab.WindowTableCalcModel',function(e){this.$3$1=null;oa.call(this,e,new kA('windowTableCalcPresModel'.toString(),null))},{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$2:function(){return this.pm},$1:function(){return this.$2().aggregationIndex},get_aggregationValues:function(){return this.$2().aggregationValues},get_aggregationCaptions:function(){return this.$2().aggregationCaptions},get_aggregation:function(){return this.get_aggregationValues()[this.$1()]},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},get_numberOfPrevValues:function(){return this.$2().numberOfPrevValues},get_numberOfNextValues:function(){return this.$2().numberOfNextValues},get_minPrevOrNextValues:function(){return this.$2().minPrevOrNextValues},get_maxPrevOrNextValues:function(){return this.$2().maxPrevOrNextValues},get_summaryCaption:function(){return this.$2().summaryCaption},get_includeCurrentValue:function(){return this.$2().includeCurrent},get_nullIfIncomplete:function(){return this.$2().nullIfIncomplete},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}});var pi=global.tab.WorkbookModel=ss.mkType(a,'tab.WorkbookModel',function(e){this.$8=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.$2$12=null;this.$2$13=null;this.$2$14=null;this.$2$15=null;jC.call(this,e,new kA('workbookPresModel'.toString(),null));this.$8=new cK(this);this.set_dataSchema(new dX(this));this.set_formatPaneModel(new gb(this));this.set_oAuthCredentialIds([])},{add_dashboardUpdated:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_dashboardUpdated:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_dashboardDeleted:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_dashboardDeleted:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_sheetsChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_sheetsChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_uiModeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_uiModeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_newDataSchemaModel:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_newDataSchemaModel:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_sheetTypeChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_sheetTypeChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},get_sheetType:function(){return ss.coalesce(pi.$1(this.pm),'worksheet')},get_dataSchema:function(){return this.$2$10},set_dataSchema:function(e){this.$2$10=e},get_commands:function(){return this.$8},get_uiMode:function(){return(ss.isNullOrUndefined(this.pm)?'document':this.pm.uiMode)},$6:function(){return this.$2$11},$7:function(e){this.$2$11=e},get_isCurrentSheetStoryboard:function(){return ss.isValue(this.$6())&&ss.isValue(this.$6().pm)&&this.$6().pm.isStory},get_isCurrentSheetDashboard:function(){return ss.isValue(this.$6())&&this.$6().get_isDashboard()},get_currentSheetStoryPointId:function(){if(this.get_isCurrentSheetStoryboard()){var e=this.get_storyboard().get_flipboard();if(ss.isValue(e)){return e.get_currentStoryPointId()}}return 0},get_storyboard:function(){var e=this.findContentDashboard();if(ss.isValue(e)&&ss.referenceEquals(e.get_sheetName(),this.$6().get_sheetName())){return null}return this.$6()},get_hasPublishedSheets:function(){return this.get_sheetsInfo().some(function(e){return e.isPublished})},get_sheetsInfo:function(){return this.$2$12},set_sheetsInfo:function(e){this.$2$12=e},get_isWorkbookIncomplete:function(){return this.get_removedDataSourceCount()>0||this.get_removedSheetCount()>0},get_isWorkbookModifiedAuthoring:function(){return ss.isValue(this.pm)&&this.pm.workbookModified},get_isCurrentDashboardModified:function(){return ss.isValue(this.$6())&&ss.isValue(this.$6().pm)&&ss.isValue(this.$6().pm.modifiedSheets)&&this.$6().pm.modifiedSheets.length>0},get_removedDataSourceCount:function(){return this.pm.removedDatasourceCount||0},get_removedSheetCount:function(){return this.pm.removedSheetCount||0},get_outerDashboardRepositoryUrl:function(){return((ss.isValue(this.$6())&&ss.isValue(this.$6().pm)&&ss.isValue(this.$6().pm.sheetLayoutInfo))?this.$6().pm.sheetLayoutInfo.repositoryUrl:null)},get_outerDashboardSize:function(){if(ss.isNullOrUndefined(this.$6())){return null}var e=this.$6().get_dashboardSize();return{w:e.w,h:e.h}},get_connectionPromptModel:function(){return this.$2$13},set_connectionPromptModel:function(e){this.$2$13=e},get_oAuthCredentialIds:function(){return this.$2$14},set_oAuthCredentialIds:function(e){this.$2$14=e},get_formatPaneModel:function(){return this.$2$15},set_formatPaneModel:function(e){this.$2$15=e},get_isDataTabUIMode:function(){return this.get_uiMode()==='data-tab'},handleWorldReset:function(){this.$7(null);this.set_dataSchema(null)},withOuterDashboard:function(e){if(ss.isValue(this.$6())){e(this.$6());return}var ex=null;ex=ss.mkdel(this,function(pC){e(pC);this.remove_dashboardUpdated(ex)});this.add_dashboardUpdated(ex)},withDashboard:function(e){var ex=this.findContentDashboard();if(ss.isValue(ex)){e(ex);return}var pC=null;pC=ss.mkdel(this,function(pD){e(pD.get_contentDashboard());this.remove_dashboardUpdated(pC)});this.add_dashboardUpdated(pC)},$2:function(e){return pi.$0(e)&&ss.isValue(pi.$1(this.pm))&&this.get_sheetType()!==e.dashboardPresModel.sheetLayoutInfo.sheetType},addDashboardUpdatedHandler:function(e){this.add_dashboardUpdated(e);if(ss.isValue(this.$6())){e(this.$6())}},removeDashboardHandler:function(e){this.remove_dashboardUpdated(e)},findContentDashboard:function(){return(ss.isNullOrUndefined(this.$6())?null:this.$6().get_contentDashboard())},$1:function(e){return ss.isValue(e.dashboardPresModel)&&ss.isValue(e.dashboardPresModel.sheetLayoutInfo)&&!ss.referenceEquals(e.dashboardPresModel.sheetLayoutInfo.sheetName,tsConfig.current_sheet_name)},get_hasPrompt:function(){return ss.isValue(this.get_connectionPromptModel())&&!ss.isNullOrEmptyString(this.get_connectionPromptModel().get_connectionName())},$5:function(e,ex){if(!ss.isValue(this.get_dataSchema())){this.set_dataSchema(new dX(this));this.raiseEvent$1(dX).call(this,this.$2$8,this.get_dataSchema(),e)}if(ss.isValue(ex.schemaViewer)){this.get_dataSchema().update(ex.schemaViewer,e)}},$4:function(e,ex){this.set_connectionPromptModel(new dP(this));this.get_connectionPromptModel().update(e.variablePromptDialog);if(!ss.isNullOrEmptyString(this.get_connectionPromptModel().get_connectionName())){this.raiseEvent$1(dP).call(this,this.$2$6,this.get_connectionPromptModel(),ex)}else{this.raiseEvent(this.$2$7,ex)}},$3:function(e,ex){if(typeof(e.dashboardPresModel)==='undefined'){}else if(e.dashboardPresModel===null){var pC=this.$6();this.$7(null);this.raiseEvent$1(dx).call(this,this.$2$3,pC,ex)}else{if(!ss.isValue(this.$6())){this.$7(new dx(this));this.raiseEvent$1(dx).call(this,this.$2$2,this.$6(),ex)}this.$6().update(e.dashboardPresModel,ex)}},update:function(e,ex){if(ss.isValue(e.variablePromptDialog)){this.$4(e,ex)}if(ss.isValue(e.workbookModified)&&(ss.isNullOrUndefined(this.pm)||this.get_isWorkbookModifiedAuthoring()!==e.workbookModified)){this.raiseEvent(function(){pi.fireWorkbookModifiedChanged(e.workbookModified)},ex)}if(this.$2(e)){this.raiseEvent$1(Object).call(this,this.$2$9,e.dashboardPresModel.sheetLayoutInfo.sheetType,ex)}var pC=false;if(this.$1(e)){this.handleWorldReset();pC=true}this.$5(ex,e);this.$3(e,ex);if(ss.isValue(e.commands)){this.$8.update(e.commands,ex)}if(ss.isValue(e.sheetsInfo)&&!_.isEqual(e.sheetsInfo,this.get_sheetsInfo())){this.set_sheetsInfo(e.sheetsInfo);pC=true}if(pC){this.raiseEvent$1(pi).call(this,this.$2$4,this,ex)}e.uiMode=e.uiMode||'document';if(ss.isNullOrUndefined(this.pm)||this.pm.uiMode!==e.uiMode){this.raiseEvent(this.$2$5,ex)}if(ss.isValue(e.formatPane)){this.get_formatPaneModel().update(e.formatPane,ex)}this.swapAndCopyPresModel(e)}},{add_workbookModifiedChanged:function(e){pi.$2$1=ss.delegateCombine(pi.$2$1,e)},remove_workbookModifiedChanged:function(e){pi.$2$1=ss.delegateRemove(pi.$2$1,e)},$1:function(e){if(pi.$0(e)){return e.dashboardPresModel.sheetLayoutInfo.sheetType}return null},$0:function(e){return ss.isValue(e)&&ss.isValue(e.dashboardPresModel)&&ss.isValue(e.dashboardPresModel.sheetLayoutInfo)},fireWorkbookModifiedChanged:function(e){if(!ss.staticEquals(pi.$2$1,null)){pi.$2$1(e)}P.get().onWorkbookModifiedChanged(e)}});var pj=global.tab.WorkbookTemplateCreationRefreshExtractJob=ss.mkType(a,'tab.WorkbookTemplateCreationRefreshExtractJob',function(e,ex){this.$1$1=false;this.$1$2=0;this.set_jobInProgress(e);this.set_jobId(ex)},{get_jobInProgress:function(){return this.$1$1},set_jobInProgress:function(e){this.$1$1=e},get_jobId:function(){return this.$1$2},set_jobId:function(e){this.$1$2=e}});var pk=global.tab.WorkbookTemplatesEnabledState=ss.mkEnum(a,'tab.WorkbookTemplatesEnabledState',{enabled:'enabled',invalidpermissions:'invalidpermissions',servicedown:'servicedown',featureflagoff:'featureflagoff'},true);var pl=global.tab.WorkgroupDataAlert=ss.mkType(a,'tab.WorkgroupDataAlert',function(e,ex){this.$1=null;this.$0=null;this.$1=e;this.$0=ex},{get_id:function(){return this.$1.id},get_title:function(){return this.$1.title},get_deviceType:function(){return this.$1.deviceType},get_owner:function(){return this.$0},get_recipientsCount:function(){return this.$1.recipientsCount},get_notificationIntervalInMinutes:function(){return this.$1.notificationIntervalInMinutes},get_lastChecked:function(){return this.$1.lastChecked},get_lastSentForCurrentUser:function(){return this.$1.lastSentForCurrentUser},get_isCurrentUserSubscribed:function(){return this.$1.isCurrentUserSubscribed},get_viewType:function(){return this.$1.context.type},get_viewName:function(){return this.$1.context.name},get_customizedViewId:function(){return((this.get_viewType()==='view')?null:this.$1.context.id)},get_targetUrlId:function(){return this.$1.context.targetUrlId},get_dataSpecification:function(){return this.$1.dataSpecification},get_isSuspended:function(){return tab.FeatureFlags.isEnabled('SuspendDataAlerts')&&this.$1.suspendState!=='NotSuspended'},get_failureCount:function(){return this.$1.failureCount},get_isPublic:function(){return this.$1.isPublic}});var pm=global.tab.WorkgroupDataSource=ss.mkType(a,'tab.WorkgroupDataSource',function(e,ex,pC){this.$1=null;this.$2=null;this.$0=null;this.$1=e;this.$2=ex;this.$0=pC},{get_certificationDetails:function(){return this.$1.certificationDetails},get_name:function(){return this.$1.name},get_description:function(){return this.$1.description},get_id:function(){return this.$1.id},get_datasourceId:function(){return this.$1.datasourceId},get_connectionTypeDisplayName:function(){return this.$1.connectionTypeDisplayName},get_repositoryUrl:function(){return this.$1.repositoryUrl},get_connectedWorkbooksCount:function(){return this.$1.connectedWorkbooksCount},get_dataConnectionsCount:function(){return this.$1.dataConnectionsCount},get_ownerId:function(){return this.$1.ownerId},get_owner:function(){return this.$0},get_projectId:function(){return this.$1.projectId},get_project:function(){return this.$2},get_usageInfo:function(){return this.$1.usageInfo},get_connectionDetails:function(){return this.$1.connectionDetails},get_lastRefreshedAt:function(){return this.$1.lastRefreshedAt},get_hasExtracts:function(){return this.$1.hasExtracts},get_lastRefreshedDescription:function(){if(tab.MiscUtil.isNullOrEmpty$1(this.$1.lastRefreshedAt)){return tab.Strings.ServerDataSourceLive}var e={};e.format=bd.get_instance().get_localeDateFormat();e.locale=tsConfig.locale;e.timeFormat=bd.get_instance().get_localeTimeFormat();e.locale_formatting_strings=tableau.format.defaultLocaleStrings;var ex=new Date(this.$1.lastRefreshedAt);var pC=new Date(Date.UTC(ex.getFullYear(),ex.getMonth(),ex.getDate(),ex.getHours(),ex.getMinutes(),ex.getSeconds(),ex.getMilliseconds()));return tableau.format.formatJsDateTime(pC,e,2,'t')},get_connectsToDescription:function(){if(ss.isNullOrUndefined(this.get_connectionDetails())){return''}var e;if(this.get_connectionDetails().type==='database'||this.get_connectionDetails().type==='webdata-direct'){e=this.get_connectionDetails().serverName}else if(this.get_connectionDetails().type==='file'){e=pm.$0(this.get_connectionDetails().fileName)}else{e=this.get_connectionDetails().name}if(this.get_dataConnectionsCount()>1){return tab.Strings.ServerDataSourceConnectsToSeveral(e,this.get_dataConnectionsCount()-1)}else{return e}}},{$0:function(e){var ex=(ss.isValue(e)?e.match(pm.$2):null);return(ss.isValue(ex)?ex[1]:e)}});var pn=global.tab.WorkgroupServerCommands=ss.mkType(a,'tab.WorkgroupServerCommands',null,null,{get_getSessionInfo:function(){var e=$.Deferred();if(!tsConfig.is_guest){px.helper(oM.createRequest('getSessionInfo',null,function(ex){e.resolve(ex)},function(ex){e.reject(ex)}),null)}else{e.reject()}return e},getExtensionLoadStatus:function(e){var ex=$.Deferred();var pC={};pC['path']=tsConfig.site_url_name;pC['url']=e.url;pC['requireFullData']=ss.contains(e.extensionPermissions,'full-data');pC['isSandboxed']=e.extensionIsSandboxed;px.helper(oM.createRequest('getExtensionLoadStatus',pC,function(pD){ex.resolve(pD)},function(pD){ex.reject(pD)}),null);return ex},getWritableProjects:function(e){var ex=[];M.$0(Object).call(null,'getWritableProjects',new d,function(pC){var pD=M.$3(Object).call(null,pC,pn.$j);ss.arrayAddRange(ex,pD.items);return pD},function(){e(ex)})},getDestinationProjects:function(e,ex){var pC=$.Deferred();var pD=[];M.$1(Object).call(null,'getDestinationProjects',pn.$7(0,e,ex),function(pE){var pF=M.$3(Object).call(null,pE,pn.$h);pD=pD.concat.apply(pD,pF.items);return pF},function(){pC.resolve(pD)},function(){pC.reject()});return pC.promise()},extendWorkgroupSession:function(){if(!tsConfig.is_guest){px.helper(oM.createRequest('getSessionInfo',null,function(){},function(){}),null)}},getSchedules:function(e){var ex=[];M.$0(lX).call(null,'getSchedules',new d,function(pC){var pD=M.$3(lX).call(null,pC,pn.$k);ss.arrayAddRange(ex,pD.items);return pD},function(){e(ex)})},getSiteUsers:function(e,ex){var pC=pn.$9(e);pn.$d(pC,ex)},getSiteUsersWithoutGuest:function(e,ex){var pC=pn.$9(e);pC.$2()['includeGuestIfEnabled']=false;pn.$d(pC,ex)},$d:function(e,ex){var pC=[];M.$0(Object).call(null,'getUsers',e,function(pD){var pE=M.$3(Object).call(null,pD,pn.$l);pC.push.apply(pC,pE.items);return pE},function(){ex(pC)})},isWorkbookTemplateEnabled:function(){var e=$.Deferred();var ex=function(pD){var pE=ss.Enum.parse(pk,pD['enabledState'].toString());e.resolve(pE)};var pC=function(pD){e.reject()};px.helper(oM.createRequest('isWorkbookTemplatesEnabled',{},ex,pC),null);return e},retrieveAllWorkbookTemplates:function(){var e=$.Deferred();var ex=function(pD){if(ss.isValue(pD['errors'])||ss.isNullOrUndefined(pD['workbookTemplates'])){e.reject()}else{var pE=pD['workbookTemplates'];e.resolve(new pr(pE))}};var pC=function(pD){e.reject()};px.helper(oM.createRequest('getAllWorkbookTemplates',{},ex,pC),null);return e},getWorkbookTemplateCreationRefreshExtractJob:function(e){var ex=$.Deferred();var pC=function(pF){var pG=/^\s*true\s*$/i.test(pF['jobInProgress'].toString());var pH=parseInt(pF['jobId'].toString());ex.resolve(new pj(pG,pH))};var pD=function(pF){ex.reject()};var pE=ss.mkdict(['id',e]);px.helper(oM.createRequest('getWorkbookTemplateCreationRefreshExtractJob',pE,pC,pD),null);return ex},getBackgroundJobProgressState:function(e){var ex=$.Deferred();var pC=function(pF){var pG=pF['actions'];if(pG.length===0){ex.resolve('error')}else if(pG[0]['state'].toString()!=='completed'){ex.resolve('inProgress')}else if(/^\s*true\s*$/i.test(pG[0]['succeeded'].toString())){ex.resolve('success')}else{ex.resolve('error')}};var pD=function(pF){ex.reject()};var pE=ss.mkdict(['actionId',e]);px.helper(oM.createRequest('getBackgroundActionInfo',pE,pC,pD),null);return ex},getDataAlertForDataAlertId:function(e,ex){var pC=$.Deferred();var pD=[];M.$1(Object).call(null,'getDataAlerts',pn.$2(0,e,ex),function(pE){var pF=M.$3(Object).call(null,pE,pn.$f);var pG=_.indexBy(pn.$l(pE),'id');if(ss.isValue(pF)){pD=pD.concat(_.map(pF.items,function(pH){var pI=pG[pH.ownerId];return new pl(pH,pI)}))}return pF},function(){pC.resolve(pD)},function(){pC.reject()});return pC},getDataAlertsForView:function(e){var ex=$.Deferred();var pC=function(pE){var pF=_.indexBy(pn.$l(pE),'id');var pG=pn.$f(pE);var pH=pG.map(function(pI){var pJ=pF[pI.ownerId];return new pl(pI,pJ)});ex.resolve(pH)};var pD={};pD['viewId']=e;px.helper(oM.createRequest('getDataAlertsForView',pD,pC,function(){ex.reject()}),null);return ex},getUsersForDataAlertId:function(e){var ex=$.Deferred();var pC=[];M.$1(Object).call(null,'getUsersForDataAlert',pn.$a(0,e),function(pD){var pE=M.$3(Object).call(null,pD,pn.$l);if(ss.isValue(pE)){_.each(pE.items,function(pF){if(ss.isNullOrUndefined(pF.dataAlertRecipientErrorCode)){pF.dataAlertRecipientErrorCode=0}pC.push(pF)})}return pE},function(){ex.resolve(pC)},function(){ex.reject()});return ex},checkIfUserCanReceiveDataAlert:function(e){var ex=ss.mkdict(['context',pn.$1(null),'userId',e]);var pC=$.Deferred();var pD=function(pF){pC.resolve()};var pE=function(pF){pC.reject(pF)};px.helper(oM.createRequest('checkIfUserCanReceiveDataAlert',ex,pD,pE),null);return pC},checkIfCanSupportExtractRefreshSubscription:function(e){var ex=ss.mkdict(['workbookId',e]);var pC=$.Deferred();var pD=function(pF){pC.resolve(pF['convertible'])};var pE=function(){pC.reject()};px.helper(oM.createRequest('checkIfCanSupportExtractRefreshSubscription',ex,pD,pE),null);return pC},fetchPageOfDataSources:function(e,ex,pC){var pD=$.Deferred();M.$2(Object).call(null,'getDatasources',pn.$6(e,ex,pC),function(pE){var pF=M.$3(Object).call(null,pE,pn.$g);var pG=_.indexBy(pn.$j(pE),'id');var pH=_.indexBy(pn.$l(pE),'id');var pI={items:_.map(pF.items,function(pJ){var pK=pG[pJ.projectId.toString()];var pL=pH[pJ.ownerId.toString()];return new pm(pJ,pK,pL)}),moreItems:pF.moreItems};pD.resolve(pI);return pF});return pD.promise()},$c:function(e){var ex=$.Deferred();var pC='id';M.$2(Object).call(null,'getDatasources',pn.$3(e),function(pD){var pE=M.$3(Object).call(null,pD,pn.$g);var pF=_.indexBy(pn.$j(pD),pC);var pG=_.indexBy(pn.$l(pD),pC);var pH={items:_.map(pE.items,function(pI){var pJ=pF[pI.projectId.toString()];var pK=pG[pI.ownerId.toString()];return new pm(pI,pJ,pK)}),moreItems:pE.moreItems};ex.resolve(pH);return pE});return ex.promise()},fetchDataSourcesByRepositoryUrl:function(e,ex){var pC=[];pn.$c(ex).done(function(pD){ss.arrayAddRange(pC,pD.items);e(pC)})},fetchDataSourcesByWorkbookId:function(e,ex){var pC=[];pn.$b(e,pn.$5(ex),pC)},getDatasources:function(e,ex,pC){var pD=[];pn.$b(e,pn.$6(0,ex,pC),pD)},fetchPageOfSiteUsers:function(e,ex){var pC=$.Deferred();var pD=pn.$9(e);pD.$1(ex);pD.$2()['includeGuestIfEnabled']=false;M.$2(Object).call(null,'getUsers',pD,function(pE){var pF=M.$3(Object).call(null,pE,pn.$l);pC.resolve(pF);return pF});return pC.promise()},fetchPageOfGroups:function(e,ex){var pC=$.Deferred();var pD=pn.$8(e);pD.$1(ex);M.$2(Object).call(null,'getGroups',pD,function(pE){var pF=M.$3(Object).call(null,pE,pn.$i);pC.resolve(pF);return pF});return pC.promise()},$b:function(e,ex,pC){M.$0(Object).call(null,'getDatasources',ex,function(pD){var pE=M.$3(Object).call(null,pD,pn.$g);var pF=_.indexBy(pn.$j(pD),'id');var pG=_.indexBy(pn.$l(pD),'id');if(ss.isValue(pE)){pC=pC.concat(_.map(pE.items,function(pH){var pI=pF[pH.projectId.toString()];var pJ=pG[pH.ownerId.toString()];return new pm(pH,pI,pJ)}))}return pE},function(){e(pC)})},$7:function(e,ex,pC){var pD={field:'name',ascending:true};var pE=new d.$1(pD,{});pE.$1(e);var pF=pE;pF.$2()['contentType']=ex;pF.$2()['sourceIds']=pC;return pF},$8:function(e){var ex={field:'name',ascending:true};var pC={operator:'and',clauses:[{operator:'matches',value:e}]};return new d.$1(ex,pC)},$9:function(e){var ex={field:'displayName',ascending:true};var pC={operator:'and',clauses:[{operator:'matches',value:e}]};return new d.$1(ex,pC)},$2:function(e,ex,pC){var pD={operator:'and',clauses:[{field:'viewId',operator:'eq',value:ex},{field:'id',operator:'eq',value:pC}]};var pE={field:'title',ascending:true};var pF=new d.$1(pE,pD);pF.$1(e);var pG=pF;return pG},$a:function(e,ex){var pC={field:'displayName',ascending:true};var pD=new d.$1(pC,null);pD.$1(e);var pE=pD;pE.$2()['dataAlertId']=ex;return pE},$5:function(e){var ex={operator:'and',clauses:[{field:'workbookId',operator:'eq',value:e}]};return pn.$4(0,null,ex,null)},$6:function(e,ex,pC){var pD={operator:'and',clauses:[{field:'isPublished',operator:'eq',value:true}]};return pn.$4(e,ex,pD,pC)},$4:function(e,ex,pC,pD){if(ss.isValue(pD)){pC.clauses=pC.clauses.concat([{operator:'matches',value:pD}])}var pE=new d.$0(ex,pC);pE.$1(e);var pF=pE;return pF},$3:function(e){var ex={field:'name',ascending:true};var pC={operator:'and',clauses:[{field:'isPublished',operator:'eq',value:true},{field:'repositoryUrl',operator:'eq',value:e}]};var pD=new d.$1(ex,pC);pD.$1(0);var pE=pD;return pE},setUserEmail:function(e,ex,pC){pn.$e(function(pD){var pE=ss.mkdict(['userId',pD,'email',e]);px.helper(oM.createRequest('updateUserEmail',pE,ex,pC),null)},pC)},$e:function(e,ex){var pC=tsConfig.current_user_name;var pD=tsConfig.current_user_domain_name;var pE=[{field:'username',operator:'eq',value:pC},{field:'domainName',operator:'eq',value:pD}];var pF=ss.mkdict(['filter',{clauses:pE}]);px.helper(oM.createRequest('getServerUsers',pF,function(pG){var pH=pG['users'];if(ss.isValue(pH)&&pH.length>0&&ss.keyExists(pH[0],'id')){var pI=pH[0]['id'];e(pI)}else{ex(oM.$2(pG))}},ex),null)},createSubscription:function(e,ex,pC,pD,pE,pF){var pG=pn.$0(pC.get_schedulePresModel().id,e,ex,ss.coalesce(pD,'Always'),null,true,false,false,null,null);px.helper(oM.createRequest('createSubscription',pG,pE,pF),null)},createSubscriptions:function(e,ex,pC,pD,pE,pF,pG,pH,pI,pJ,pK,pL,pM,pN,pO){var pP=pn.$0(pD.get_schedulePresModel().id,e,ex,ss.coalesce(pE,'Always'),pI,pK,pL,pM,pN,pO);pP['userIds']=pC;pP['groupIds']=pJ;px.helper(oM.createRequestWithPartialFailureHandling('createSubscriptions',pP,pF,pG,pH),null)},createDataAlert:function(e,ex,pC){var pD=pn.buildCreateDataAlertRequestParams(e);px.helper(oM.createRequest('createDataAlert',pD,ex,pC),null)},updateDataAlert:function(e,ex,pC,pD,pE,pF){var pG=pn.buildUpdateDataAlertRequestParams(e,ex,pC.map(function(pH){return pH.id.toString()}),pD.map(function(pH){return pH.id.toString()}));px.helper(oM.createRequest('updateDataAlert',pG,pE,pF),null)},deleteDataAlerts:function(e,ex,pC){var pD=ss.mkdict(['ids',e]);px.helper(oM.createRequest('deleteDataAlerts',pD,ex,pC),null)},resumeDataAlerts:function(e,ex,pC){var pD=ss.mkdict(['ids',e]);px.helper(oM.createRequest('resumeDataAlerts',pD,ex,pC),null)},removeUsersFromDataAlerts:function(e,ex,pC,pD){var pE=ss.mkdict(['dataAlertIds',e,'userIds',ex]);px.helper(oM.createRequest('removeUsersFromDataAlerts',pE,pC,pD),null)},addUsersToDataAlerts:function(e,ex,pC,pD){var pE=ss.mkdict(['dataAlertIds',e,'userIds',ex]);px.helper(oM.createRequest('addUsersToDataAlerts',pE,pC,pD),null)},setDataAlertsOwner:function(e,ex,pC,pD){var pE=ss.mkdict(['ids',e,'ownerId',ex]);px.helper(oM.createRequest('setDataAlertsOwner',pE,pC,pD),null)},buildCreateDataAlertRequestParams:function(e){var ex=ss.mkdict(['title',e.get_title(),'device',e.get_deviceType(),'dataAlertSpecification',JSON.stringify(e.get_measurePresModel()),'dataAlertCondition',JSON.stringify(e.get_conditionPresModel()),'notificationIntervalInMinutes',e.get_notificationIntervalInMinutes(),'userIds',e.get_userIds(),'context',pn.$1(null),'public',e.get_isPublic()]);if(e.get_createMetricFromDDA()){ex['createMetricFromDDA']=true}return ex},$1:function(e){var ex;var pC;if(ss.isValue(e)&&ss.isValue(e.get_customizedViewId())){ex='customizedView';pC=e.get_customizedViewId()+''}else if(ss.isValue(tsConfig.current_custom_view_id)){ex='customizedView';pC=tsConfig.current_custom_view_id+''}else{ex='view';pC=tsConfig.current_view_id}return ss.mkdict(['contextType',ex,'id',pC])},buildUpdateDataAlertRequestParams:function(e,ex,pC,pD){var pE=ss.mkdict(['dataAlertId',ex,'title',e.get_title(),'dataAlertSpecification',JSON.stringify(e.get_measurePresModel()),'dataAlertCondition',JSON.stringify(e.get_conditionPresModel()),'notificationIntervalInMinutes',e.get_notificationIntervalInMinutes(),'userIdsToAdd',pC,'userIdsToRemove',pD,'public',e.get_isPublic()]);return pE},logOff:function(e){var ex=function(pC){var pD=pC['redirectUrl'];if(ss.isValue(pD)&&pD.indexOf('/saml/logout')!==-1){px.helper(oM.$1(pD),null)}else{tab.WindowHelper.setLocationHref(window.self,(ss.isValue(pD)?pD:'/'))}};px.helper(oM.createRequest('logout',{},ex,e),null)},createCommentingServer:function(){return new cO(oM.$0,cw.get().legacySession)},$0:function(e,ex,pC,pD,pE,pF,pG,pH,pI,pJ){return ss.mkdict(['scheduleId',e,'subject',ex.trim(),'targetType',(pC?'Workbook':'View'),'targetId',(pC?tsConfig.current_workbook_id:tsConfig.current_view_id),'customizedViewId',tsConfig.current_custom_view_id,'dataConditionType',pD,'subscriptionMessage',pE,'attachImage',pF,'attachPdf',pG,'subscribeOnExtractRefresh',pH,'pageOrientation',pI,'pageSizeOption',pJ])},$j:function(e){return _.map(e['projects'],function(ex){return ex})},$h:function(e){return _.map(e['projects'],function(ex){return ex})},$k:function(e){return _.map(e['schedules'],function(ex){return new lX(ex)})},$l:function(e){return _.map(e['users'],ss.mkdel(this,function(ex){var pC='dataAlertRecipientErrorCode';var pD={username:(ss.isNullOrUndefined(ex['username'])?'':ex['username'].toString()),friendlyName:(ss.isNullOrUndefined(ex['displayName'])?'':ex['displayName'].toString()),id:(ss.isNullOrUndefined(ex['id'])?0:parseInt(ex['id'].toString())),hasEmail:(ss.isNullOrUndefined(ex['hasEmail'])?false:ex['hasEmail']),recipientType:1};if(ss.isValue(ex[pC])){pD.dataAlertRecipientErrorCode=parseInt(ex[pC].toString())|0}return pD}))},$i:function(e){return _.map(e['groups'],ss.mkdel(this,function(ex){return{name:ex['name'].toString(),id:parseInt(ex['id'].toString()),userCount:parseInt(ex['userCount'].toString()),recipientType:2}}))},$f:function(e){return e['dataAlerts']},$g:function(e){return e['datasources']}});var po=global.tab.WorkgroupServerErrorCode=ss.mkEnum(a,'tab.WorkgroupServerErrorCode',{pending:-1,none:0,unlicensedUserError:90,userInvalidEmailAddress:10011,ddaDatasourceError:210006,ddaNoViewPermissionsError:210007,ddaNoDownloadPermissionsError:210008});var pp=global.tab.WorkgroupServerOauthSettings=ss.mkType(a,'tab.WorkgroupServerOauthSettings',function(e){this.$0=null;this.$0=e},{isGenericAuthSupported:function(e){var ex=_.find(this.$0,function(pC){return ss.referenceEquals(pC.type,e)});return ss.isValue(ex)&&ex.supportsGenericAuth},getDisplayName:function(e,ex){var pC=_.find(this.$0,function(pE){return ss.referenceEquals(pE.type,e)});if(ss.isValue(pC)){var pD=(ss.keyExists(pC.displayNames,ex)?ex:'en_US');return pC.displayNames[pD]}else{return e}}});var pq=global.tab.WorkgroupServerRequest=ss.mkType(a,'tab.WorkgroupServerRequest',function(e,ex,pC,pD){this.methodName=null;this.methodParams=null;this.success=null;this.error=null;this.methodName=e;this.methodParams=ex;this.success=pC;this.error=pD});var pr=global.tab.WorkgroupWorkbookTemplates=ss.mkType(a,'tab.WorkgroupWorkbookTemplates',function(e){this.$0=null;this.$0=e},{get_templates:function(){return this.$0}});var ps=global.tab.WorksheetServerCommands=ss.mkType(a,'tab.WorksheetServerCommands',null,null,{revert:function(e){var ex=cN.newCommand({ns:'tabsrv',cmd:'revert-workbook'},null);cw.SendCommand(kZ.create(ex,'immediately',e,null))},undo:function(){var e=cN.newCommand({ns:'tabdoc',cmd:'undo'},null);e.commandParams={};cw.SendCommand(kZ.create(e,'immediately',null,null))},undo$1:function(e,ex){var pC=cN.newCommand({ns:'tabdoc',cmd:'undo'},null);pC.commandParams={};cw.SendCommand(kZ.create(pC,'immediately',e,ex))},undoToPosition:function(e){var ex=cN.newCommand({ns:'tabdoc',cmd:'undo'},null);ex.commandParams=ps.$0(e);cw.SendCommand(kZ.create(ex,'immediately',null,null))},redo:function(){var e=cN.newCommand({ns:'tabdoc',cmd:'redo'},null);e.commandParams={};cw.SendCommand(kZ.create(e,'immediately',null,null))},redo$1:function(e,ex){var pC=cN.newCommand({ns:'tabdoc',cmd:'redo'},null);pC.commandParams={};cw.SendCommand(kZ.create(pC,'immediately',e,ex))},redoToPosition:function(e){var ex=cN.newCommand({ns:'tabdoc',cmd:'redo'},null);ex.commandParams=ps.$0(e);cw.SendCommand(kZ.create(ex,'immediately',null,null))},clearFuture:function(){var e=cN.newCommand({ns:'tabdoc',cmd:'clear-future'},null);e.commandParams={};cw.SendCommand(kZ.create(e,'immediately',null,null))},$0:function(e){var ex={};ex['undoPosition']=e;return ex}});var pt=global.tab.WorldCheckpointHolder=ss.mkType(a,'tab.WorldCheckpointHolder',function(e){this.$0=null;this.$1=null;this.currentWorldDiffersFromCheckpoint=false;this.$0=e;this.currentWorldDiffersFromCheckpoint=false},{checkpointAppPresModel:function(){this.$1=bd.get_instance().pm;this.currentWorldDiffersFromCheckpoint=false},revertLocalChanges:function(){if(this.currentWorldDiffersFromCheckpoint){jC.nonWorldUpdate(ss.mkdel(this,function(e){e.dialogProvider=this.$0;bd.get_instance().update(this.$1,e)}));this.currentWorldDiffersFromCheckpoint=false}},markCurrentWorldAsDirty:function(){this.currentWorldDiffersFromCheckpoint=true},worldCheckpoint:function(){var e=tab.MiscUtil.cloneObject(this.$1);return e}});var pu=global.tab.WorldUpdateInterceptor=ss.mkType(a,'tab.WorldUpdateInterceptor',function(){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null},{add_onBootstrapResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onBootstrapResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onCommandResponse:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onCommandResponse:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_onDashboardLoadComplete:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_onDashboardLoadComplete:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},raiseOnProgressiveLoadComplete:function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}},raiseOnBootstrapResponse:function(e){var ex=this.$1$1;if(!ss.staticEquals(ex,null)){ex(e)}},raiseOnCommandResponse:function(e){var ex=this.$1$2;if(!ss.staticEquals(ex,null)){ex(e)}},raiseOnDashboardLoadComplete:function(){if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}}},{get:function(){return pu.$1.value()}});var pv=global.tab.WorldUpdateServerCommands=ss.mkType(a,'tab.WorldUpdateServerCommands',null,null,{getWorldUpdate:function(e){var ex=cN.newCommand({ns:'tabdoc',cmd:'get-world-update'},pv.$0());mp.executeRemoteCommand(new pw(ex,e))},$0:function(){var e={};e['sheet']=tsConfig.current_sheet_name;return e}});var pw=global.tab.WorldUpdateServerCommands$GetWorldUpdateClientCommand=ss.mkType(a,'tab.WorldUpdateServerCommands$GetWorldUpdateClientCommand',function(e,ex){kZ.call(this,e,'immediately',ex,ex)},{get_isOneAtATime:function(){return true}});var px=global.tab.XhrUtil=ss.mkType(a,'tab.XhrUtil',function(){},{request:function(e){var ex='X-Tsi-Supports-Accepted';e.headers=e.headers||{};if(ss.keyExists(e.headers,ex)&&e.headers[ex]===false){delete e.headers[ex]}else{e.headers[ex]=true}if(ss.isValue(px.$1)&&px.$1.length>0){e.headers['X-Tsi-Active-Tab']=encodeURIComponent(px.$1)}if(ss.isValue(e.complete)){var pC=e.complete;e.complete=function(pH,pI){pH['args']=e;pC(pH,pI)}}if(ss.isValue(e.success)){var pD=e.success;e.success=function(pH,pI,pJ){pJ['args']=e;pD(pH,pI,pJ)}}if(ss.isValue(e.error)){var pE=e.error;e.error=function(pH,pI,pJ){pH['args']=e;pE(pH,pI,pJ)}}if(ss.isValue(e.beforeSend)){var pF=e.beforeSend;e.beforeSend=function(pH){pH['args']=e;pF(pH)}}e.traditional=true;var pG=e;return $.ajax(pG)}},{get_currentTabName:function(){return px.$1},set_currentTabName:function(e){px.$1=e},helper:function(e,ex){var pC=new px;if(!ss.isValue(e.success)&&ss.isValue(ex)){e.success=ex.get_successDelegate()}if(!ss.isValue(e.complete)&&ss.isValue(ex)){e.complete=ex.get_completedDelegate()}if(!ss.isValue(e.error)&&ss.isValue(ex)){e.error=ex.get_errorDelegate()}return pC.request(e)},getMultipartData:function(e,ex){var pC=px.randomString();var pD='--'+pC;var pE='\r\n';var pF=new ss.StringBuilder;if(ss.isValue(e)){pF.append(pD);pF.append(pE);pF.append('Content-Disposition: form-data; name="');pF.append(e['name']);pF.append('"');if('filename'in e){pF.append('; filename="');pF.append(e['filename']);pF.append('"')}pF.append(pE);pF.append('Content-Type: ');pF.append(e['contentType']);pF.append(pE);pF.append(pE);pF.append(e['content']);pF.append(pE)}if(ss.isValue(ex)){var pG=new ss.ObjectEnumerator(ex);try{while(pG.moveNext()){var pH=pG.current();pF.append(pD);pF.append(pE);pF.append('Content-Disposition: form-data; name="');pF.append(pH.key);pF.append('"');pF.append(pE);pF.append(pE);if(ss.isInstanceOfType(pH.value,String)){pF.append(pH.value)}else{pF.append(JSON.stringify(pH.value))}pF.append(pE)}}finally{pG.dispose()}}pF.append(pD);pF.append('--');pF.append(pE);var pI={header:pC,body:pF.toString()};return pI},randomString:function(){var e='0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';var ex=8;var pC='';for(var pD=0;pD<ex;pD++){var pE=Math.random()*e.length;var pF=pE|0;pC+=e.substring(pF,pF+1)}return pC}});var py=global.tab.ZoneCommonModel=ss.mkType(a,'tab.ZoneCommonModel',function(e,ex){this.$4=null;this.$1=null;this.$2=null;this.$3=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=false;jC.call(this,e,new kA(ex.toString(),0));this.$4=new nC(this);this.$1=new nC(this);this.set_blockLocalReset(false)},{add_resizeZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_resizeZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_changeZoneTitleVisibility:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_changeZoneTitleVisibility:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_changeZoneFloatingState:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_changeZoneFloatingState:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_changeZoneGroupingState:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_changeZoneGroupingState:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_changeZoneIsFixedSize:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_changeZoneIsFixedSize:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneDescription:function(){return this.get_zoneCommonPresModel().name},get_zoneCommonPresModel:function(){return ss.coalesce(this.pm,new Object)},get_zoneId:function(){return this.get_zoneCommonPresModel().zoneId},get_parentZoneId:function(){return this.get_zoneCommonPresModel().parentZoneId},get_zoneType:function(){return ss.coalesce(this.get_zoneCommonPresModel().zoneType,'invalid')},get_objectType:function(){return ss.coalesce(this.get_zoneCommonPresModel().dashboardObjectType,'invalid')},get_zoneLayoutType:function(){return ss.coalesce(this.get_zoneCommonPresModel().zoneLayoutType,'trivial')},get_contentX:function(){return this.get_zoneCommonPresModel().contentX},get_contentY:function(){return this.get_zoneCommonPresModel().contentY},get_contentHeight:function(){return this.get_zoneCommonPresModel().contentH-2*this.get_contentBorderWidth()},get_contentWidth:function(){return this.get_zoneCommonPresModel().contentW-2*this.get_contentBorderWidth()},get_height:function(){return this.get_zoneCommonPresModel().h},get_width:function(){return this.get_zoneCommonPresModel().w},get_x:function(){var e=this.$2;if(ss.isNullOrUndefined(e)){e=this.get_zoneCommonPresModel().x}return e},get_y:function(){var e=this.$3;if(ss.isNullOrUndefined(e)){e=this.get_zoneCommonPresModel().y}return e},get_zoneContentRectXY:function(){return{x:this.get_contentX(),y:this.get_contentY(),w:this.get_contentWidth(),h:this.get_contentHeight()}},get_isFixedSize:function(){return this.get_zoneCommonPresModel().isFixedSize},get_isFloating:function(){return this.get_zoneCommonPresModel().isFloating},get_isZoneInGroup:function(){return this.get_zoneCommonPresModel().isZoneInGroup},get_hasTitle:function(){return this.get_zoneCommonPresModel().hasTitle},get_canHaveTitle:function(){return this.get_zoneCommonPresModel().canHaveTitle},get_canFloat:function(){return this.get_zoneCommonPresModel().canFloat},get_isHorizontal:function(){return this.get_zoneCommonPresModel().isHorizontal},get_hasBorder:function(){return jF.hasBorder(this.get_zoneStyle())},get_contentBorderWidth:function(){if(jF.hasBorder(this.get_contentStyle())){return this.get_contentStyle().get_borderWidth()|0}return 0},get_zoneStyle:function(){return this.$4},get_contentStyle:function(){return this.$1},get_blockLocalReset:function(){return this.$2$6},set_blockLocalReset:function(e){this.$2$6=e},update:function(e,ex){this.resetLocalPosition(ex);if(ss.isValue(e)){e.parentZoneId=e.parentZoneId||0;e.isFixedSize=e.isFixedSize||false;e.isFloating=e.isFloating||false;e.isZoneInGroup=e.isZoneInGroup||false;e.isHorizontal=e.isHorizontal||false;e.canHaveTitle=ss.coalesce(e.canHaveTitle,true);e.canFloat=ss.coalesce(e.canFloat,true);e.contentW=e.contentW||e.w;e.contentH=e.contentH||e.h;e.contentX=e.contentX||e.x;e.contentY=e.contentY||e.y;if(!this.isNewZoneSizeSameAsOld(e)){this.raiseEvent(this.$2$1,ex)}if(ss.isValue(e.styledBox)){this.$4.update(e.styledBox,ex)}if(ss.isValue(e.globalStyledBox)){this.$1.update(e.globalStyledBox,ex)}}if(ss.isValue(this.get_zoneCommonPresModel())&&this.get_zoneCommonPresModel().hasTitle!==e.hasTitle){this.raiseEvent(this.$2$2,ex)}if(ss.isValue(this.get_zoneCommonPresModel())&&this.get_zoneCommonPresModel().isFixedSize!==e.isFixedSize){this.raiseEvent(this.$2$5,ex)}if(ss.isValue(this.get_zoneCommonPresModel())&&(this.get_zoneCommonPresModel().isFloating!==e.isFloating||this.get_zoneCommonPresModel().canFloat!==e.canFloat)){this.raiseEvent(this.$2$3,ex)}if(ss.isValue(this.get_zoneCommonPresModel())&&this.get_zoneCommonPresModel().isZoneInGroup!==e.isZoneInGroup){this.raiseEvent(this.$2$4,ex)}this.swapAndCopyPresModel(e)},updateSingleZoneLocalPosition:function(e,ex){if(ss.referenceEquals(this.$2,e)&&ss.referenceEquals(this.$3,ex)){return}this.$2=e;this.$3=ex;jC.nonWorldUpdate(ss.mkdel(this,function(pC){this.raiseEvent(this.$2$1,pC)}))},resetLocalPosition:function(e){if(!this.get_blockLocalReset()&&(ss.isValue(this.$3)||ss.isValue(this.$2))){this.$3=null;this.$2=null;this.raiseEvent(this.$2$1,e)}},isNewZoneSizeSameAsOld:function(e){if(!ss.isValue(e)){return true}if(ss.isValue(this.pm)){return ss.coalesce(e.contentH,e.h)===this.get_contentHeight()&&ss.coalesce(e.contentW,e.w)===this.get_contentWidth()&&ss.coalesce(e.contentX,e.x)===this.get_contentX()&&ss.coalesce(e.contentY,e.y)===this.get_contentY()&&e.h===this.get_height()&&e.w===this.get_width()&&e.x===this.get_x()&&e.y===this.get_y()}return false}});var pz=global.tab.ZoneContentWrapperModel=ss.mkType(a,'tab.ZoneContentWrapperModel',function(e){jC.call(this,e,new kA('presModelHolder'.toString(),null))},{get_zone:function(){return ss.safeCast(this.parent,pA)}});var pA=global.tab.ZoneModel=ss.mkType(a,'tab.ZoneModel',function(e,ex,pC){this.$u=null;this.$x=null;this.$w=null;this.$s=null;this.$p=null;this.$t=null;this.$r=false;this.$q=false;this.$v=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;jC.call(this,e,new kA(pC.toString(),0));this.$u=ex;this.$w=new py(this,pC);this.$p=new cK(this)},{add_newZoneContent:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZoneContent:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_updateZIndex:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_updateZIndex:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_removeZoneContent:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_removeZoneContent:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_updateZone:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_updateZone:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_childrenAdded:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_childrenAdded:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_zoneVisibilityChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_zoneVisibilityChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_flexibleDragHide:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_flexibleDragHide:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_flexibleDragShow:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_flexibleDragShow:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_vizClicked:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_vizClicked:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},get_model:function(){return this.$x},get_dashboardModel:function(){return this.$u},get_zoneCommonModel:function(){return this.$w},get_visualModel:function(){if(this.$w.get_zoneType()==='viz'){return this.$x}return null},get_worksheetName:function(){if(ss.isNullOrUndefined(this.pm)){return null}else{return this.pm.worksheet}},get_zoneDescription:function(){return this.get_zoneCommonModel().get_zoneDescription()},get_zoneId:function(){if(ss.isNullOrUndefined(this.pm)){return 0}return this.pm.zoneId},get_parentZoneId:function(){return this.get_zoneCommonModel().get_parentZoneId()},get_zoneType:function(){return this.get_zoneCommonModel().get_zoneType()},get_objectType:function(){return this.get_zoneCommonModel().get_objectType()},get_isStorySpecific:function(){return!ss.isNullOrUndefined(this.pm.storyPointId)&&this.pm.storyPointId!==0},get_contentHeight:function(){return this.get_zoneCommonModel().get_contentHeight()},get_contentWidth:function(){return this.get_zoneCommonModel().get_contentWidth()},get_contentX:function(){return this.get_zoneCommonModel().get_contentX()},get_contentY:function(){return this.get_zoneCommonModel().get_contentY()},get_zoneContentBounds:function(){return{l:0,t:0,w:this.get_contentWidth(),h:this.get_contentHeight()}},get_height:function(){return this.get_zoneCommonModel().get_height()},get_width:function(){return this.get_zoneCommonModel().get_width()},get_x:function(){return this.get_zoneCommonModel().get_x()},get_y:function(){return this.get_zoneCommonModel().get_y()},get_isFloating:function(){return this.get_zoneCommonModel().get_isFloating()},get_isZoneInGroup:function(){return this.get_zoneCommonModel().get_isZoneInGroup()},get_isZoneResizable:function(){return this.get_isZoneInGroup()||this.get_isFloating()},get_hasTitle:function(){return this.get_zoneCommonModel().get_hasTitle()},get_canHaveTitle:function(){return this.get_zoneCommonModel().get_canHaveTitle()},get_canFloat:function(){return this.get_zoneCommonModel().get_canFloat()},get_isHorizontal:function(){return this.get_zoneCommonModel().get_isHorizontal()},get_hasBorder:function(){return this.get_zoneCommonModel().get_hasBorder()},get_styledBoxModel:function(){return this.get_zoneCommonModel().get_zoneStyle()},get_contentType:function(){return pA.$0(this.pm)},get_titleHeight:function(){if(ss.isNullOrUndefined(this.pm)){return 0}return this.pm.titleHeight},get_titleWidth:function(){if(ss.isNullOrUndefined(this.pm)){return 0}return this.pm.titleWidth},get_hasSpace:function(){if(ss.isNullOrUndefined(this.pm)){return false}return this.pm.hasSpace},get_isSelectionDisabled:function(){if(ss.isNullOrUndefined(this.pm)){return false}return this.pm.isSelectionDisabled},get_isVisible:function(){if(ss.isNullOrUndefined(this.pm)){return false}return this.pm.isVisible},get_isZoneInContainer:function(){if(this.get_parentZoneId()!==0){var e=this.get_dashboardModel().getZone(this.get_parentZoneId());return this.isFlexibleLayoutContainer(e)}return false},get_contextMenuCommands:function(){if(this.$w.get_zoneType()==='filter'){var e=this.get_model();return e.get_quickFilterCommands()}return{}},get_chromeCommands:function(){return this.$p},get_drawnZoneColor:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.bgColor)){this.$t=this.$t||ct.convertColorForCanvas(this.pm.bgColor);return this.$t}return null},get_blendedZoneContentColor:function(){if(ss.isNullOrUndefined(this.pm)){return''}return this.pm.blendedZoneContentColor},get_relativeZoneZIndex:function(){if(ss.isValue(this.$v)){return ss.unbox(this.$v)}if(ss.isValue(this.pm)){return this.pm.zoneZOrder+1>>>0}return 0},get_associatedSheet:function(){if(ss.isNullOrUndefined(this.pm)){return''}return this.pm.sheet},get_isDependentOnViz:function(){switch(this.$w.get_zoneType()){case'viz':case'color':case'shape':case'size':case'map':{return true}}return false},get_hasContent:function(){if(ss.isNullOrUndefined(this.pm)){return false}return ss.isNullOrUndefined(this.pm.presModelHolder)||Object.keys(this.pm.presModelHolder).length>0},get_blockLocalReset:function(){return this.$w.get_blockLocalReset()},set_blockLocalReset:function(e){this.$w.set_blockLocalReset(e)},raiseRemoveZoneContent:function(e){this.raiseEvent(this.$2$3,e)},raiseChildrenAdded:function(e){this.raiseEvent(this.$2$5,e)},handlePaneTableSelectionClick:function(e,ex,pC){this.$2$9(e,ex,pC)},handleFlexibleDragShow:function(){if(this.get_zoneType()==='layout-grid'||this.get_zoneType()==='layout-stack'||this.get_zoneType()==='layout-group'){var e=this.get_dashboardModel().layoutTreeModel.getItemDescendantsZoneIds(this.get_zoneId());for(var ex=0;ex<e.length;ex++){var pC=e[ex];this.get_dashboardModel().getZone(pC).$2$8()}}this.get_dashboardModel().raiseEventIfFlexibleZoneDragChanged();this.$2$8()},handleFlexibleDragHide:function(){if(this.get_zoneType()==='layout-grid'||this.get_zoneType()==='layout-stack'||this.get_zoneType()==='layout-group'){var e=this.get_dashboardModel().layoutTreeModel.getItemDescendantsZoneIds(this.get_zoneId());for(var ex=0;ex<e.length;ex++){var pC=e[ex];if(ss.isValue(this.get_dashboardModel().getZone(pC).$2$7)){this.get_dashboardModel().getZone(pC).$2$7()}}}if(ss.isValue(this.$2$7)){this.$2$7()}},update:function(e,ex){this.$n(ex);if(this.$k(e)){return}pA.$1(e);var pC=false;var pD=!this.get_zoneCommonModel().isNewZoneSizeSameAsOld(e.zoneCommon);if(ss.isValue(e.zoneCommon)){this.$w.update(e.zoneCommon,ex);this.checkForUsableZoneSize(e)}if(ss.isNullOrUndefined(this.pm)||!ss.referenceEquals(this.pm.bgColor,e.bgColor)){this.$t=null}if(ss.isValue(e.zoneChromeCommands)){this.$p.update(e.zoneChromeCommands,ex)}if(ss.isValue(e.presModelHolder)){this.$2(e,ex,pD)}else{this.$1(e,ex)}this.$l(e.zoneTitle);if(ss.isValue(this.pm)){if(e.isVisible!==this.pm.isVisible){pC=true}}this.swapAndCopyPresModel(e);if(pC){this.raiseEvent(this.$2$6,ex)}this.raiseEvent(this.$2$4,ex)},$k:function(e){if(ss.isNullOrUndefined(e)){return true}if(!ss.referenceEquals(e,this.pm)){return false}if(ss.isNullOrUndefined(e.zoneCommon)){return true}else if(e.zoneCommon.zoneType==='flipboard'){var ex=pA.getContent(e,pA.$8);var pC=this.$x;return ss.isValue(pC)&&ss.referenceEquals(ex,pC.get_flipboardPresModel())}else if(e.zoneCommon.zoneType==='flipboard-nav'){var pD=pA.getContent(e,pA.$9);var pE=this.$x;return ss.isValue(pE)&&ss.referenceEquals(pD,pE.get_flipboardNavPresModel())}else{return true}},$l:function(e){var ex=(ss.isNullOrUndefined(this.pm)?{}:this.pm.zoneTitle);if(ss.isValue(e)&&!_.isEqual(ex,e)){fZ.notifyFontsFromTextRegionPresModel(e)}},$1:function(e,ex){if(ss.isValue(this.pm)&&ss.isValue(this.$x)&&!ss.referenceEquals(e.frameJson,this.pm.frameJson)){var pC=pA.$3(e.frameJson);var pD=e.zoneCommon;var pE=ss.isValue(pD)&&pD.zoneType==='filter'||ss.isValue(pC.attributes)&&ss.keyExists(pC.attributes,'type')&&ss.referenceEquals(pC.attributes['type'].toString(),'filter'.toString());var pF=ss.isValue(pD)&&pD.zoneType==='set-membership';if(this.$r&&(pE||pF)){var pG=this.$x;pG.update(pG.get_quickFilterDisplayPresModel(),pC,ex)}if(ss.referenceEquals(pA.$0(this.pm),pA.$d)){var pH=this.$x;pH.updateFrame(pC,ex)}}},$2:function(e,ex,pC){if(!ss.isValue(this.$s)){this.$s=new pz(this)}var pD=pA.$0(e);if(ss.isValue(this.pm)&&!ss.referenceEquals(this.get_contentType(),pD)){this.$x=null}var pE=false;if(ss.isNullOrUndefined(this.$x)&&this.get_zoneCommonModel().get_zoneType()!=='filter'&&this.get_zoneCommonModel().get_zoneType()!=='set-membership'){var pF=jF.getPendingZoneContentModel(this.$w.get_zoneId());if(ss.isValue(pF)){pE=true;this.$x=pF;this.$x.reparent(this.$s);this.raiseNewZoneContent(this.$x,ex)}}if(!pE){this.$3(pD,e,pC,ex)}},updateLocalPropertiesForZonePreview:function(e,ex){this.$w.updateSingleZoneLocalPosition(this.get_x()+e,this.get_y()+ex);this.$o();var pC=this.$u.zonesModel.getChildren(this.get_zoneId());if(pC.length>0){for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];pE.updateLocalPropertiesForZonePreview(e,ex)}}},$o:function(){if(ss.isNullOrUndefined(this.$v)){this.$v=this.pm.zoneZOrder+988>>>0;jC.nonWorldUpdate(ss.mkdel(this,function(e){this.raiseEvent(this.$2$2,e)}))}},$n:function(e){if(!this.get_blockLocalReset()){this.$w.resetLocalPosition(e);this.$m(e)}},resetZoneAndChildrenLocalChanges:function(e){this.$n(e);var ex=this.$u.zonesModel.getChildren(this.get_zoneId());if(ex.length>0){for(var pC=0;pC<ex.length;pC++){var pD=ex[pC];pD.resetZoneAndChildrenLocalChanges(e)}}},$m:function(e){if(ss.isValue(this.$v)){this.$v=null;this.raiseEvent(this.$2$2,e)}},$3:function(e,ex,pC,pD){if(ss.referenceEquals(e,pA.$n)){this.$i(ex,pD)}else if(ss.referenceEquals(e,pA.$l)){this.$h(ex,pD)}else if(ss.referenceEquals(e,pA.$k)){this.$g(ex,pD)}else if(ss.referenceEquals(e,pA.$f)){this.$d(ex,pD)}else if(ss.referenceEquals(e,pA.$e)){this.$c(ex,pD)}else if(ss.referenceEquals(e,pA.$5)||ss.referenceEquals(e,pA.$j)||ss.referenceEquals(e,pA.$i)||ss.referenceEquals(e,pA.$b)){this.$9(e,ex,pD)}else if(ss.referenceEquals(e,pA.$d)){this.$b(ex,pD)}else if(ss.referenceEquals(e,pA.$c)){this.$a(ex,pC,pD)}else if(ss.referenceEquals(e,pA.$9)){this.$7(ex,pD)}else if(ss.referenceEquals(e,pA.$8)){this.$6(ex,pD)}else if(!tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')&&ss.referenceEquals(e,pA.$h)){this.$f(ex,pD)}else if(ss.referenceEquals(e,pA.$o)){this.$j(ex,pD)}else if(ss.referenceEquals(e,pA.$g)){this.$e(ex,pD)}else if(ss.referenceEquals(e,pA.$7)){this.$5(ex,pD)}else if(ss.referenceEquals(e,pA.$a)){this.$8(ex,pD)}else if(ss.referenceEquals(e,pA.$6)){this.$4(ex,pD)}},$4:function(e,ex){var pC=pA.getContent(e,pA.$6);if(ss.isNullOrUndefined(this.$x)){this.$x=new dW(this.$s);this.raiseNewZoneContent(this.$x,ex)}var pD=this.$x;pD.update(pC,ex)},$8:function(e,ex){var pC=pA.getContent(e,pA.$a);if(ss.isNullOrUndefined(this.$x)){var pD=!e.isVisible&&(ss.isNullOrUndefined(pC.imageKey)||tab.MiscUtil.isNullOrEmpty$1(pC.imageKey.toString()));if(pD){var pE='ImageZone';dv.logDashboardDelayLoadingForHiddenZones(pE,tsConfig.is_authoring)}this.$x=new hS(this.$s);this.raiseNewZoneContent(this.$x,ex)}var pF=this.$x;pF.update(pC,ex)},$5:function(e,ex){var pC=pA.getContent(e,pA.$7);if(ss.isNullOrUndefined(this.$x)){this.$x=new fq(this.$s);this.raiseNewZoneContent(this.$x,ex)}var pD=this.$x;pD.update(pC,ex)},$e:function(e,ex){var pC=pA.getContent(e,pA.$g);if(ss.isNullOrUndefined(this.$x)){this.$x=new bP(this.$s,pA.$g);this.raiseNewZoneContent(this.$x,ex)}var pD=this.$x;pD.update(pC,ex)},$j:function(e,ex){var pC=pA.getContent(e,pA.$o);if(ss.isNullOrUndefined(this.$x)){this.$x=new pf(this.$s);this.raiseNewZoneContent(this.$x,ex)}var pD=this.$x;pD.update(pC,ex)},$f:function(e,ex){var pC=pA.getContent(e,pA.$h);if(ss.isNullOrUndefined(this.$x)){this.$x=new jg(this.$s);this.raiseNewZoneContent(this.$x,ex)}var pD=this.$x;pD.update(pC,ex)},$6:function(e,ex){var pC=pA.getContent(e,pA.$8);if(ss.isNullOrUndefined(this.$x)){this.$x=new fR(this.$s);this.raiseNewZoneContent(this.$x,ex)}var pD=this.$x;pD.update(pC,ex)},$7:function(e,ex){var pC=pA.getContent(e,pA.$9);if(ss.isNullOrUndefined(this.$x)){this.$x=new fS(this.$s);this.raiseNewZoneContent(this.$x,ex)}var pD=this.$x;pD.update(pC,ex)},$a:function(e,ex,pC){var pD=pA.getContent(e,pA.$c);if(ss.isNullOrUndefined(this.$x)){this.$x=new kc(this.$s);this.raiseNewZoneContent(this.$x,pC)}var pE=!ex||ss.isNullOrUndefined(this.pm);var pF=this.$x;pF.update(pD,pE,pC)},$b:function(e,ex){var pC=pA.getContent(e,pA.$d);var pD=pA.$3(pC.parameterCtrlJson);pC.legacyPresModel=pD;var pE=this.$q;this.$q=true;if(ss.isNullOrUndefined(this.$x)||!pE){this.$x=new kj(this.$s);this.raiseNewZoneContent(this.$x,ex)}var pF=pA.$3(e.frameJson);var pG=this.$x;pG.update(pC,pF,ex)},$9:function(e,ex,pC){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||bd.get_instance().get_isLocalRenderMode()){var pD=pA.getContent(ex,e);if(ss.isNullOrUndefined(this.$x)){var pE=this.$w.get_zoneType();this.$x=new cf(this.$s,e,pA.$2(pE));this.raiseNewZoneContent(this.$x,pC)}var pF=this.$x;pF.update(pD,pC)}},$c:function(e,ex){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||bd.get_instance().get_isLocalRenderMode()){var pC=pA.getContent(e,pA.$e);if(ss.isNullOrUndefined(this.$x)){this.$x=new kD(this.$s,pA.$e);this.raiseNewZoneContent(this.$x,ex)}var pD=this.$x;pD.update(pC,ex)}},$d:function(e,ex){var pC=pA.getContent(e,pA.$f);var pD=this.$r;this.$r=true;if(ss.isNullOrUndefined(this.$x)||!pD){this.$x=new ji(this.$s,pA.$f);this.raiseNewZoneContent(this.$x,ex)}var pE=pA.$3(e.frameJson);var pF=this.$x;pF.update(pC,pE,ex)},$g:function(e,ex){var pC=pA.getContent(e,pA.$k);if(ss.isNullOrUndefined(this.$x)){this.$x=new nK(this.$s,pA.$k);this.raiseNewZoneContent(this.$x,ex)}var pD=this.$x;pD.update(pC,ex)},$h:function(e,ex){var pC=pA.getContent(e,pA.$l);if(ss.isNullOrUndefined(this.$x)){this.$x=new nK(this.$s,pA.$l);this.raiseNewZoneContent(this.$x,ex)}var pD=this.$x;pD.update(pC,ex)},$i:function(e,ex){var pC=pA.getContent(e,pA.$n);if(ss.isNullOrUndefined(this.$x)){this.$x=new oG(this.$s);this.raiseNewZoneContent(this.$x,ex)}var pD=this.$x;pD.update(pC,ex)},contentBorderWidth:function(){return this.$w.get_contentBorderWidth()},raiseNewZoneContent:function(e,ex){this.raiseEvent$1(jC).call(this,this.$2$1,e,ex)},checkForUsableZoneSize:function(e){if(ss.isValue(e)&&ss.isValue(e.zoneCommon)){var ex=e.zoneCommon;if(ex.w===0&&ex.h===0){var pC='DashboardAuthoring_UnusableSizeZone';var pD='ZoneType';var pE='Width';var pF='Height';var pG='IsFoating';var pH='IsVisible';jT.logEvent(pC,ss.mkdict([pD,ex.zoneType.toString(),pE,ex.w,pF,ex.h,pG,ex.isFloating,pH,e.isVisible]))}}},isFlexibleLayoutContainer:function(e){return e.get_zoneType()==='layout-stack'||e.get_zoneType()==='layout-grid'}},{$0:function(e){var ex=e.presModelHolder;if(ss.isNullOrUndefined(ex)){return null}if(ss.getKeyCount(ex)===1){var pC=ss.getEnumerator(Object.keys(ex));try{while(pC.moveNext()){var pD=pC.current();return pD}}finally{pC.dispose()}}return''},getContent:function(e,ex){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.presModelHolder)){return null}if(!(ex in e.presModelHolder)){return null}return e.presModelHolder[ex]},$1:function(e){e.sheet=e.sheet||'';e.titleWidth=e.titleWidth||0;e.titleHeight=e.titleHeight||0;e.isSelectionDisabled=e.isSelectionDisabled||false;e.hasSpace=e.hasSpace||false},$3:function(e){return(ss.isNullOrEmptyString(e)?null:JSON.parse(e))},$2:function(e){switch(e){case'color':{return'color'}case'shape':{return'shape'}case'size':{return'size'}case'map':{return'map'}}return'color'}});var pB=global.tab.ZonesModel=ss.mkType(a,'tab.ZonesModel',function(e){this.$a=null;this.$9=null;this.$8=null;this.$2$1=null;this.$2$2=null;jC.call(this,e,new kA('zones'.toString(),null));this.set_zonePresModels({});this.$a={};this.$9={}},{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_removedZone:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_removedZone:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_zoneModels:function(){if(ss.isNullOrUndefined(this.$8)){this.$8=_.values(this.$a)}return this.$8},get_zonePresModels:function(){return this.pm},set_zonePresModels:function(e){this.pm=e},numOfZones:function(){return ss.getKeyCount(this.$a)},getZone:function(e){return this.$a[pB.$0(e)]},hasZone:function(e){return ss.keyExists(this.$a,pB.$0(e))},getChildren:function(e){var ex=pB.$0(e);if(!ss.keyExists(this.$9,ex)){this.$9[ex]=_.filter(this.get_zoneModels(),function(pC){return pC.get_parentZoneId()===e})}return this.$9[pB.$0(e)].slice(0)},update:function(ex,pC){this.$4('Zones before update: ');this.$5(ex,pC);this.$9={};var pD={};var pE=_.keys(ex);for(var pF=0;pF<pE.length;pF++){var pG=pE[pF];var pH=ex[pG];if(ss.isNullOrUndefined(pH)){continue}var pI=pH.zoneId;try{var pJ=pB.$0(pI);if(!ss.isValue(this.$a[pJ])){this.$2(pH,pJ,pD,pC)}else{this.$6(pH,pJ,pD,pC)}this.$a[pJ].update(pH,pC)}catch(pO){var e=ss.Exception.wrap(pO);tab.ErrorTrace.report(e,false)}}this.swapAndCopyPresModel(ex);if(tsConfig.is_authoring){var pK=_.keys(pD);for(var pL=0;pL<pK.length;pL++){var pM=pK[pL];var pN=this.getZone(pM);if(ss.isValue(pN)){pN.raiseChildrenAdded(pC)}}}this.$4('Zones after update: ')},$2:function(e,ex,pC,pD){var pE=new pA(this,this.parent,e.zoneId);this.$a[ex]=pE;this.raiseEvent$1(pA).call(this,this.$2$1,this.$a[ex],pD);this.$8=null;if(ss.isValue(e.zoneCommon)){pC[e.zoneCommon.parentZoneId]=true}},$6:function(e,ex,pC,pD){if(ss.isValue(e.zoneCommon)&&this.$a[ex].get_parentZoneId()!==e.zoneCommon.parentZoneId){pC[e.zoneCommon.parentZoneId]=true}if(ss.isValue(e.presModelHolder)&&(this.$1(ex,e)||this.$7(ex,e))){this.$a[ex].raiseRemoveZoneContent(pD);this.raiseEvent$1(pA).call(this,this.$2$1,this.$a[ex],pD)}},$1:function(e,ex){return ss.isValue(this.$a[e].get_contentType())&&!ss.referenceEquals(this.$a[e].get_contentType(),pA.$0(ex))},$7:function(e,ex){return ss.isValue(this.$a[e].get_worksheetName())&&!ss.referenceEquals(this.$a[e].get_worksheetName(),ex.sheet)},$3:function(e){return ss.replaceAllString(e,'z_','')},$5:function(e,ex){var pC=_.keys(this.$a);for(var pD=0;pD<pC.length;pD++){var pE=pC[pD];var pF=this.$a[pE];var pG=e[this.$3(pE)];if(pG===null){delete e[pE];delete this.get_zonePresModels()[pE];this.removeZone(pF,ex);continue}if(ss.isValue(pG)&&ss.isValue(pG.zoneCommon)&&pF.get_zoneCommonModel().get_zoneType()!==pG.zoneCommon.zoneType){this.removeZone(pF,ex)}}},removeZone:function(e,ex){e.raiseRemoveZoneContent(ex);this.raiseEvent$1(pA).call(this,this.$2$2,e,ex);delete this.$a[pB.$0(e.get_zoneId())];this.$8=null},$4:function(e){var ex=new ss.StringBuilder;ex.appendLine(e);var pC=new ss.ObjectEnumerator(this.get_zonePresModels());try{while(pC.moveNext()){var pD=pC.current();if(ss.isValue(pD.value)&&ss.isValue(pD.value.zoneCommon)){ex.append('[ ');ex.append(pD.value.zoneId);ex.append(' ');ex.append(pD.value.zoneCommon.zoneType);ex.append(' ] ');ex.appendLine()}}}finally{pC.dispose()}}},{$0:function(e){return'z_'+e}});ss.initClass(co);ss.initClass(b,co);ss.initClass(d);d.$1.prototype=d.$0.prototype=d.prototype;ss.initClass(jC);ss.initClass(i,jC);ss.initClass(j,jC);ss.initClass(k,jC);ss.initClass(l);ss.initClass(m);ss.initClass(n);ss.initClass(o);ss.initClass(p);ss.initClass(q);ss.initClass(r);ss.initClass(u);ss.initClass(v);ss.initClass(w);w.$0.prototype=w.prototype;ss.initClass(x);ss.initClass(y);ss.initClass(z);ss.initClass(B);ss.initInterface(hQ,{get_notificationId:null,onNotify:null});ss.initClass(C,null,[hQ]);ss.initClass(D);ss.initClass(E);ss.initClass(F);ss.initClass(I,jC);ss.initClass(J,jC);ss.initClass(oE);ss.initClass(K,oE);ss.initClass(L);ss.initClass(M);ss.initClass(N);ss.initClass(kQ);ss.initClass(O,kQ);ss.initClass(P);ss.initClass(R);ss.initClass(S,ss.makeGenericType(bl,[Object,T]));ss.initClass(T);ss.initClass(U,ss.makeGenericType(bl,[Object,V]));ss.initClass(V);ss.initClass(W,jC);ss.initClass(X);ss.initClass(Y);ss.initClass(Z,jC);ss.initClass(ba);ss.initClass(bb);ss.initClass(bc);ss.initClass(bd,jC);ss.initClass(be);ss.initClass(bf,ss.makeGenericType(bl,[Object,bg]));ss.initClass(bg);ss.initClass(bh,ss.makeGenericType(bl,[Object,bi]));ss.initClass(bi);ss.initClass(bj);ss.initClass(bm);ss.initInterface(ie,{formatMethod:null,formatSessionMethod:null,createHandler:null});ss.initInterface(hC,{executeServerCommand:null,cancelRunningCommand:null});ss.initClass(bn,null,[ie,hC]);ss.initClass(bo,ss.makeGenericType(bl,[Object,bp]));ss.initClass(bp);ss.initClass(bq);ss.initClass(bs);ss.initClass(bt,ss.makeGenericType(bl,[Object,bu]));ss.initClass(bu);ss.initClass(bv,ss.makeGenericType(bl,[Object,bw]));ss.initClass(bw);ss.initClass(bx,ss.makeGenericType(bl,[Object,by]));ss.initClass(by);ss.initClass(bz,ss.makeGenericType(bl,[Object,bA]));ss.initClass(bA);ss.initClass(bB,ss.makeGenericType(bl,[Object,bC]));ss.initClass(bC);ss.initClass(bD,ss.makeGenericType(bl,[Object,bE]));ss.initClass(bE);ss.initClass(bF,ss.makeGenericType(bl,[Object,bG]));ss.initClass(bG);ss.initClass(bH,ss.makeGenericType(bl,[Object,bI]));ss.initClass(bI);ss.initClass(bJ,ss.makeGenericType(bl,[Object,bK]));ss.initClass(bK);ss.initClass(bL,ss.makeGenericType(bl,[Object,bM]));ss.initClass(bM);ss.initClass(bN,ss.makeGenericType(bl,[Object,bO]));ss.initClass(bO);ss.initClass(bP,jC);ss.initClass(bQ,ss.makeGenericType(bl,[Object,bR]));ss.initClass(bR);ss.initClass(bU,jC);ss.initClass(bS,bU,[hQ]);ss.initClass(bT,jC);ss.initClass(bV);ss.initClass(bW);ss.initClass(bY);ss.initClass(bZ,ss.makeGenericType(bl,[Object,ca]));ss.initClass(ca);ss.initClass(cb,ss.makeGenericType(bl,[Object,cc]));ss.initClass(cc);ss.initClass(cd,ss.makeGenericType(bl,[Object,ce]));ss.initClass(ce);ss.initInterface(hE,{getItemNamesFromObjectId:null});ss.initClass(cf,jC,[hE]);ss.initClass(cg,ss.makeGenericType(bl,[Object,ch]));ss.initClass(ch);ss.initClass(ci,ss.makeGenericType(bl,[Object,cj]));ss.initClass(cj);ss.initClass(ck,ss.makeGenericType(bl,[Object,cl]));ss.initClass(cl);ss.initClass(cm,ss.makeGenericType(bl,[Object,cn]));ss.initClass(cn);ss.initClass(cp);ss.initClass(cr,ss.makeGenericType(bl,[Object,cs]));ss.initClass(cs);ss.initClass(ct);ss.initClass(cu,jC);ss.initClass(cv);ss.initClass(cw);ss.initClass(cx);ss.initClass(cy);ss.initClass(cz);ss.initInterface(hG,{get_commandType:null,get_name:null});ss.initClass(oc,jC,[hG]);ss.initClass(cB,oc,[hG]);ss.initClass(cC,null,[ss.IDisposable]);ss.initClass(cD);ss.initClass(cE,null,[hG]);ss.initClass(cF,oc,[hG]);ss.initClass(cG);ss.initClass(cH);ss.initClass(cI,ss.EventArgs);ss.initClass(cJ);ss.initClass(cK,jC);ss.initClass(cL);cL.$ctor1.prototype=cL.prototype;ss.initClass(cM);ss.initClass(cN);ss.initClass(cO,null,[Object]);ss.initClass(cP,jC,[hQ]);ss.initClass(cQ);ss.initClass(fX);fX.$ctor1.prototype=fX.prototype;ss.initClass(cR,fX);ss.initClass(cS,ss.makeGenericType(bl,[Object,cT]));ss.initClass(cT);ss.initClass(cU,ss.makeGenericType(bl,[Object,cV]));ss.initClass(cV);ss.initClass(cW,ss.makeGenericType(bl,[Object,cX]));ss.initClass(cX);ss.initClass(cY,ss.makeGenericType(bl,[Object,cZ]));ss.initClass(cZ);ss.initClass(da,ss.makeGenericType(bl,[Object,db]));ss.initClass(db);ss.initClass(dc);ss.initClass(dd);ss.initClass(fA,jC);ss.initClass(dg,fA);ss.initClass(de,dg);ss.initClass(df);ss.initClass(dh,fA);ss.initClass(di,fA);ss.initClass(dj);ss.initClass(dk,fA);ss.initClass(dl);ss.initClass(dm,dg);ss.initClass(dn);ss.initClass(oa,jC);ss.initClass(dp,oa);ss.initClass(dq);ss.initClass(dr,oa);ss.initClass(kw,null,[ss.IDisposable]);ss.initClass(ds,kw,[ss.IDisposable]);ss.initClass(dt);ss.initClass(du);ss.initClass(dv);ss.initInterface(hJ,{add_stopNotifying:null,remove_stopNotifying:null},[hQ]);ss.initClass(dw,jC,[hJ,hQ]);ss.initClass(dx,jC);ss.initClass(dy,jC);ss.initClass(dz,ss.makeGenericType(bl,[Object,dA]));ss.initClass(dA);ss.initClass(dB,ss.makeGenericType(bl,[Object,dC]));ss.initClass(dC);ss.initClass(dD,ss.makeGenericType(oU,[Object,dE]));ss.initClass(dE);ss.initClass(dF,dD);ss.initClass(dG);ss.initClass(dH,jC);ss.initClass(dI,jC);ss.initClass(dJ);dJ.$ctor2.prototype=dJ.$ctor1.prototype=dJ.prototype;ss.initClass(dK);ss.initClass(dL);ss.initClass(dM,jC,[hJ,hQ]);ss.initClass(dN);ss.initClass(dO);ss.initClass(dP,jC);ss.initClass(dQ);ss.initClass(dR,jC);ss.initClass(dS,jC);ss.initClass(dT,jC);ss.initClass(dU,jC);ss.initClass(dV,jC);ss.initClass(dW,jC,[hE]);ss.initClass(dX,jC);ss.initClass(dY,jC,[hQ]);ss.initClass(dZ,jC,[hJ,hQ]);ss.initClass(eb,jC);ss.initClass(ec,jC);ss.initClass(ed);ss.initInterface(hF,{dispatch:null});ss.initClass(ee,null,[hF]);ss.initInterface(ia,{handleCommandFailure:null});ss.initClass(ef,null,[ia]);ss.initClass(eg);ss.initClass(eh);ss.initClass(ei,null,[ia]);ss.initInterface(hT,{processEvent:null});ss.initClass(ej,null,[hT,ss.IDisposable]);ss.initClass(ek);ss.initClass(el,ss.makeGenericType(bl,[Object,em]));ss.initClass(em);ss.initInterface(hZ,{add_onRemoteCommandResponse:null,remove_onRemoteCommandResponse:null,add_onRemoteCommandException:null,remove_onRemoteCommandException:null,executeSingleRemoteCommand:null,cancelRunningCommand:null});ss.initClass(en,null,[hZ]);ss.initInterface(id,{open$1:null,open:null});ss.initClass(eo,null,[id]);ss.initClass(ep,jC);ep.$ctor1.prototype=ep.prototype;ss.initClass(eq,jC);ss.initClass(er);ss.initInterface(hK,{get_zoneType:null,get_zoneId:null,get_zoneName:null,get_direction:null,get_formattedText:null,get_zoneParam:null,get_dashboardObjectType:null,get_label:null});ss.initClass(es,jC,[hK]);ss.initClass(et,jC);ss.initInterface(hL,{get_isVisible:null,get_isEnabled:null});ss.initClass(eu,jC,[hL]);ss.initClass(ev,jC);ss.initClass(ew);ss.initClass(ey,oa);ss.initClass(ez,ss.makeGenericType(bl,[Object,eA]));ss.initClass(eA);ss.initClass(eB,ss.makeGenericType(bl,[Object,eC]));ss.initClass(eC);ss.initClass(ga);ss.initClass(eD,ga);ss.initClass(eE);ss.initClass(eF,ss.makeGenericType(oU,[Object,eG]));ss.initClass(eG);ss.initClass(eH,eF);ss.initClass(eI);ss.initClass(eJ,ss.makeGenericType(oU,[Object,eK]));ss.initClass(eK);ss.initInterface(hM,{canExtractFont:null,extractFontFromPresModel:null});ss.initClass(eL,null,[hM]);ss.initClass(eM,fA);ss.initClass(eN);ss.initClass(eO,ss.makeGenericType(bl,[Object,eP]));ss.initClass(eP);ss.initClass(eQ,ss.makeGenericType(bl,[Object,eR]));ss.initClass(eR);ss.initClass(eS,ss.makeGenericType(bl,[Object,eT]));ss.initClass(eT);ss.initClass(eU,ss.makeGenericType(bl,[Object,eV]));ss.initClass(eV);ss.initClass(eW,jC);ss.initClass(eX,ss.makeGenericType(bl,[Object,eY]));ss.initClass(eY);ss.initClass(eZ,ss.makeGenericType(bl,[Object,fa]));ss.initClass(fa);ss.initClass(fb,jC);ss.initClass(fc);ss.initClass(fd,ss.makeGenericType(bl,[Object,fe]));ss.initClass(fe);ss.initClass(ff,ss.makeGenericType(bl,[Object,fg]));ss.initClass(fg);ss.initClass(fh,ss.makeGenericType(bl,[Object,fi]));ss.initClass(fi);ss.initClass(hU);ss.initClass(fj,hU);ss.initClass(fk);ss.initClass(fm);ss.initClass(fn,null,[ia]);ss.initClass(fo,null,[hJ,hQ]);ss.initClass(fp);ss.initClass(fq,jC);ss.initClass(fr);ss.initClass(fs);ss.initClass(ft);ss.initClass(fu);ss.initClass(fv,fA);ss.initClass(fw);ss.initClass(fx,fA);ss.initClass(fy);ss.initClass(fB);ss.initClass(fC);ss.initClass(fD,jC);ss.initClass(fF);ss.initClass(fG);ss.initClass(fH);ss.initClass(fN);ss.initClass(fO);ss.initClass(fP);ss.initClass(fQ);ss.initClass(fR,jC);ss.initClass(fS,jC);ss.initClass(fT);ss.initClass(fU,fA);ss.initClass(fV);ss.initClass(fW,fA);ss.initClass(fY);ss.initClass(fZ);ss.initClass(ge,jC);ss.initClass(gb,ge);ss.initClass(gc,ge);ss.initClass(gd);ss.initClass(gf);ss.initClass(gg);ss.initClass(gh,ss.makeGenericType(bl,[Object,gi]));ss.initClass(gi);ss.initClass(gj,ss.makeGenericType(bl,[Object,gk]));ss.initClass(gk);ss.initClass(gl,ss.makeGenericType(bl,[Object,gm]));ss.initClass(gm);ss.initClass(gn,ss.makeGenericType(bl,[Object,go]));ss.initClass(go);ss.initClass(gp,ss.makeGenericType(bl,[Object,gq]));ss.initClass(gq);ss.initClass(gr);gr.$ctor1.prototype=gr.prototype;ss.initClass(gs,ss.makeGenericType(bl,[Object,gt]));ss.initClass(gt);ss.initClass(gu,ss.makeGenericType(bl,[Object,gv]));ss.initClass(gv);ss.initClass(gw,ss.makeGenericType(bl,[Object,gx]));ss.initClass(gx);ss.initClass(gy,ss.makeGenericType(bl,[Object,gz]));ss.initClass(gz);ss.initClass(gA,ss.makeGenericType(bl,[Object,gB]));ss.initClass(gB);ss.initClass(gC,ss.makeGenericType(bl,[Object,gD]));ss.initClass(gD);ss.initClass(gE,ss.makeGenericType(bl,[Object,gF]));ss.initClass(gF);ss.initClass(gG,ss.makeGenericType(bl,[Object,gH]));ss.initClass(gH);ss.initClass(gI,ss.makeGenericType(bl,[Object,gJ]));ss.initClass(gJ);ss.initClass(gK,ss.makeGenericType(bl,[Object,gL]));ss.initClass(gL);ss.initClass(gM,ss.makeGenericType(bl,[Object,gN]));ss.initClass(gN);ss.initClass(gO,ss.makeGenericType(bl,[Object,gP]));ss.initClass(gP);ss.initClass(gQ,ss.makeGenericType(bl,[Object,gR]));ss.initClass(gR);ss.initClass(gS,ss.makeGenericType(bl,[Object,gT]));ss.initClass(gT);ss.initClass(gU,ss.makeGenericType(bl,[Object,gV]));ss.initClass(gV);ss.initClass(gW,ss.makeGenericType(bl,[Object,gX]));ss.initClass(gX);ss.initClass(gY,ss.makeGenericType(bl,[Object,gZ]));ss.initClass(gZ);ss.initClass(ha,ss.makeGenericType(bl,[Object,hb]));ss.initClass(hb);ss.initClass(hc,ss.makeGenericType(bl,[Object,hd]));ss.initClass(hd);ss.initClass(he,ss.makeGenericType(bl,[Object,hf]));ss.initClass(hf);ss.initClass(hg,ss.makeGenericType(bl,[Object,hh]));ss.initClass(hh);ss.initClass(hi,ss.makeGenericType(bl,[Object,hj]));ss.initClass(hj);ss.initClass(hk,ss.makeGenericType(bl,[Object,hl]));ss.initClass(hl);ss.initClass(hm,ss.makeGenericType(bl,[Object,hn]));ss.initClass(hn);ss.initClass(ho,null,[hM]);ss.initClass(hp,fv);ss.initClass(hq);ss.initClass(hr,ss.makeGenericType(bl,[Object,hs]));ss.initClass(hs);ss.initClass(ht,ss.makeGenericType(bl,[Object,hu]));ss.initClass(hu);ss.initClass(hv);ss.initClass(hw);ss.initClass(hx);ss.initClass(hy,ss.makeGenericType(bl,[Object,hz]));ss.initClass(hz);ss.initClass(hB);ss.initInterface(hD,{getMarkAnimationController:null,updateAnimationFrame:null,drawAnimationFrame:null,getSheetId:null});ss.initInterface(hH,{add_sliderFractionUpdated:null,remove_sliderFractionUpdated:null,get_currentFraction:null,setCurrentFraction:null});ss.initInterface(hI,{returnDataSourceDataModel:null});ss.initInterface(hN,{get_sheetScrollPositions:null});ss.initInterface(hO,{triggerExportPdfUI:null});ss.initInterface(hP,{get_getFontFamily:null,setCSS:null,hasStyleProperty:null});ss.initClass(hR);ss.initClass(hS,jC);ss.initClass(hV);ss.initClass(hW);ss.initClass(hX);ss.initClass(ib,ss.makeGenericType(bl,[Object,ic]));ss.initClass(ic);ss.initInterface(ig,{handleCommandStarted:null,handleCommandCompleted:null,handleCommandError:null});ss.initInterface(ih,{handleCancel:null},[ig]);ss.initClass(ii,null,[hP]);ss.initClass(ij);ss.initClass(ik);ss.initClass(il);ss.initClass(im,ss.makeGenericType(bl,[Object,io]));ss.initClass(io);ss.initClass(ip,ss.makeGenericType(bl,[Object,iq]));ss.initClass(iq);ss.initClass(ir,ss.makeGenericType(oU,[Object,it]));ss.initClass(it);ss.initClass(iu,ir);ss.initClass(iv,ss.makeGenericType(bl,[Object,iw]));ss.initClass(iw);ss.initClass(ix,ss.makeGenericType(bl,[Object,iy]));ss.initClass(iy);ss.initClass(iz,ss.makeGenericType(bl,[Object,iA]));ss.initClass(iA);ss.initClass(iB,ss.makeGenericType(bl,[Object,iC]));ss.initClass(iC);ss.initClass(iD,ss.makeGenericType(bl,[Object,iE]));ss.initClass(iE);ss.initClass(iF,ss.makeGenericType(bl,[Object,iG]));ss.initClass(iG);ss.initClass(iH,ss.makeGenericType(bl,[Object,iI]));ss.initClass(iI);ss.initClass(iJ,ss.makeGenericType(bl,[Object,iK]));ss.initClass(iK);ss.initClass(iL,ss.makeGenericType(bl,[Object,iM]));ss.initClass(iM);ss.initClass(iN,ss.makeGenericType(bl,[Object,iO]));ss.initClass(iO);ss.initClass(iP,ss.makeGenericType(bl,[Object,iQ]));ss.initClass(iQ);ss.initClass(iR,ss.makeGenericType(bl,[Object,iS]));ss.initClass(iS);ss.initClass(iT,ss.makeGenericType(bl,[Object,iU]));ss.initClass(iU);ss.initClass(iV,ss.makeGenericType(bl,[Object,iW]));ss.initClass(iW);ss.initClass(iX,ss.makeGenericType(bl,[Object,iY]));ss.initClass(iY);ss.initClass(iZ,bn,[ie,hC]);ss.initClass(ja);ss.initClass(jb,jC);ss.initClass(jc);ss.initClass(je,jC);ss.initClass(jd,je);ss.initClass(jf,je);ss.initClass(jg,jC);ss.initClass(jh,je);ss.initClass(ji,jC);ss.initClass(jj,je);ss.initClass(jk);ss.initClass(jl,fv);ss.initClass(jm);ss.initClass(jn,kQ);ss.initClass(jo,co);ss.initClass(jp);ss.initClass(jr,ss.makeGenericType(bl,[Object,js]));ss.initClass(js);ss.initClass(jt,jC);ss.initClass(ju);ss.initClass(jv,jC,[hJ,hQ]);ss.initClass(jw,jC);ss.initClass(jx,jC);ss.initClass(ns);ss.initClass(jy,ns);jy.$ctor1.prototype=jy.prototype;ss.initClass(jz,jC);ss.initClass(jA,jC);ss.initClass(jB,jC);ss.initClass(jF);ss.initClass(jG);ss.initClass(jH);ss.initClass(jI);ss.initClass(jJ,ss.makeGenericType(bl,[Object,jK]));ss.initClass(jK);ss.initClass(jL,ss.makeGenericType(bl,[Object,jM]));ss.initClass(jM);ss.initClass(jN,fA);ss.initClass(jO,ss.makeGenericType(bl,[Object,jP]));ss.initClass(jP);ss.initClass(jQ,null,[hT]);ss.initClass(jR,null,[hJ,hQ]);ss.initClass(jS);ss.initClass(jT);ss.initClass(jU);ss.initClass(jV,ss.makeGenericType(bl,[Object,jW]));ss.initClass(jW);ss.initClass(jX,ss.makeGenericType(bl,[Object,jY]));ss.initClass(jY);ss.initClass(jZ);ss.initClass(ka);ss.initClass(kb,ns);kb.$ctor1.prototype=kb.prototype;ss.initClass(kc,jC);ss.initClass(ke);ss.initClass(kf);kf.$ctor1.prototype=kf.prototype;ss.initClass(kh);ss.initClass(ki);ss.initClass(kj,jC);ss.initClass(kk);ss.initClass(kl,oa);ss.initClass(km,ss.makeGenericType(oU,[Object,kn]));ss.initClass(kn);ss.initClass(ko,km);ss.initClass(kp);ss.initClass(kq,jC);ss.initClass(kr,ss.makeGenericType(bl,[Object,ks]));ss.initClass(ks);ss.initClass(kt);ss.initClass(ku);ss.initClass(kv,null,[hJ,hQ,ss.IDisposable]);ss.initClass(kx);ss.initClass(ky);ss.initClass(kz);ss.initClass(kA);ss.initClass(kC);ss.initClass(kD,jC);ss.initClass(kE);ss.initClass(kF);ss.initClass(kG);kG.$ctor1.prototype=kG.prototype;ss.initClass(kH,ss.makeGenericType(bl,[Object,kI]));ss.initClass(kI);ss.initClass(kJ,jC);ss.initClass(kK,ss.makeGenericType(oU,[Object,kL]));ss.initClass(kL);ss.initClass(kM,kK);ss.initClass(kN,ss.makeGenericType(oU,[Object,kO]));ss.initClass(kO);ss.initClass(kP,kN);ss.initClass(kR,oa);ss.initClass(kS,jC);ss.initClass(kT);ss.initClass(kV);kV.$ctor1.prototype=kV.$0.prototype=kV.prototype;ss.initClass(kW,jC);ss.initClass(kX,fA);ss.initClass(kY);ss.initClass(kZ,co);ss.initClass(la);ss.initClass(lb,ss.makeGenericType(bl,[Object,lc]));ss.initClass(lc);ss.initClass(ld,ss.makeGenericType(bl,[Object,le]));ss.initClass(le);ss.initClass(lf,ss.makeGenericType(bl,[Object,lg]));ss.initClass(lg);ss.initClass(lh,ss.makeGenericType(bl,[Object,li]));ss.initClass(li);ss.initClass(lj);ss.initClass(lk,ss.makeGenericType(bl,[Object,ll]));ss.initClass(ll);ss.initClass(lm,ss.makeGenericType(bl,[Object,ln]));ss.initClass(ln);ss.initClass(lo,ss.makeGenericType(bl,[Object,lp]));ss.initClass(lp);ss.initClass(lq,ss.makeGenericType(bl,[Object,lr]));ss.initClass(lr);ss.initClass(ls,ss.makeGenericType(bl,[Object,lt]));ss.initClass(lt);ss.initClass(lu,ss.makeGenericType(bl,[Object,lv]));ss.initClass(lv);ss.initClass(lw,jC);ss.initClass(lx,ss.makeGenericType(bl,[Object,ly]));ss.initClass(ly);ss.initClass(lz,ss.makeGenericType(bl,[Object,lA]));ss.initClass(lA);ss.initClass(lB,jC);ss.initClass(lC,ss.makeGenericType(bl,[Object,lD]));ss.initClass(lD);ss.initClass(lE);ss.initClass(lG);ss.initClass(lH);ss.initClass(lI);ss.initClass(lJ,jC);ss.initClass(lL);ss.initClass(lM);lM.$ctor1.prototype=lM.prototype;ss.initClass(lN);ss.initClass(lO);ss.initClass(lQ);ss.initClass(lR);ss.initClass(lS,jC);ss.initClass(lU);ss.initClass(lV,jC);ss.initClass(lW);ss.initClass(lX);ss.initClass(lY);ss.initClass(lZ);ss.initClass(ma);ss.initClass(mb,ss.makeGenericType(bl,[Object,mc]));ss.initClass(mc);ss.initClass(md,ss.makeGenericType(bl,[Object,me]));ss.initClass(me);ss.initClass(mf,ss.makeGenericType(bl,[Object,mg]));ss.initClass(mg);ss.initClass(mh);ss.initClass(mi,jC);ss.initClass(mj);ss.initClass(ml,jC);ss.initClass(mm);ss.initClass(mn);ss.initClass(mo);ss.initClass(mp);ss.initClass(mq);ss.initClass(mr);ss.initClass(ms);ss.initClass(mt);ss.initClass(mu);ss.initClass(mv,null,[ia]);ss.initClass(mw);ss.initClass(mx);ss.initClass(my,ss.makeGenericType(bl,[Object,mz]));ss.initClass(mz);ss.initClass(mA,ss.makeGenericType(bl,[Object,mB]));ss.initClass(mB);ss.initClass(mC,ss.makeGenericType(bl,[Object,mD]));ss.initClass(mD);ss.initClass(mE,ss.makeGenericType(bl,[Object,mF]));ss.initClass(mF);ss.initClass(mG,ss.makeGenericType(bl,[Object,mH]));ss.initClass(mH);ss.initClass(mI,ss.makeGenericType(bl,[Object,mJ]));ss.initClass(mJ);ss.initClass(mK);ss.initClass(mL);ss.initClass(mM);ss.initClass(mN);ss.initClass(mO,jC);ss.initClass(mP,jC);ss.initClass(mQ,bn,[ie,hC]);ss.initClass(mR,jC);ss.initClass(mS,jC);ss.initClass(mT,jC);ss.initClass(mU,jC);ss.initClass(mV,ss.makeGenericType(bl,[Object,mW]));ss.initClass(mW);ss.initClass(mX,ss.makeGenericType(bl,[Object,mY]));ss.initClass(mY);ss.initClass(mZ,ss.makeGenericType(bl,[Object,na]));ss.initClass(na);ss.initClass(nb,ss.makeGenericType(bl,[Object,nc]));ss.initClass(nc);ss.initClass(nd,ss.makeGenericType(bl,[Object,ne]));ss.initClass(ne);ss.initClass(nf,ss.makeGenericType(bl,[Object,ng]));ss.initClass(ng);ss.initClass(nh,ss.makeGenericType(bl,[Object,ni]));ss.initClass(ni);ss.initClass(nj);ss.initClass(nk);nk.$ctor1.prototype=nk.$ctor2.prototype=nk.prototype;ss.initClass(nl,jC);ss.initClass(nm);ss.initClass(nn,ss.makeGenericType(bl,[Object,no]));ss.initClass(no);ss.initClass(np,jC);ss.initClass(nq);ss.initClass(nr);ss.initClass(nt,ss.makeGenericType(bl,[Object,nu]));ss.initClass(nu);ss.initClass(nv);ss.initClass(nw,jC);ss.initClass(nx,jC);ss.initClass(ny,null,[ss.IDisposable]);ss.initClass(nz);ss.initClass(nA,fv);ss.initClass(nB);ss.initClass(nC,jC);ss.initClass(nD);ss.initClass(nE);ss.initClass(nF,jC);ss.initClass(nG,jC);ss.initClass(nH,jC);ss.initClass(nI);ss.initClass(nJ);ss.initClass(nK,jC);ss.initClass(nL);ss.initClass(nM,ss.makeGenericType(bl,[Object,nN]));ss.initClass(nN);ss.initClass(nO,ss.makeGenericType(bl,[Object,nP]));ss.initClass(nP);ss.initClass(nQ,ss.makeGenericType(oU,[Object,nR]));ss.initClass(nR);ss.initClass(nS,ss.makeGenericType(bl,[Object,nT]));ss.initClass(nT);ss.initClass(nU,jC);ss.initClass(nV);ss.initClass(nW,null,[hF]);ss.initClass(nX);ss.initClass(nY);ss.initClass(nZ,bU,[hQ]);ss.initClass(ob,cB,[hG]);ss.initClass(od);ss.initClass(oe);ss.initClass(of);ss.initClass(og,ss.makeGenericType(bl,[Object,oh]));ss.initClass(oh);ss.initClass(oi,ss.makeGenericType(bl,[Object,oj]));ss.initClass(oj);ss.initClass(ok);ss.initClass(ol,ss.makeGenericType(bl,[Object,om]));ss.initClass(om);ss.initClass(on,ss.makeGenericType(bl,[Object,oo]));ss.initClass(oo);ss.initClass(op,ss.makeGenericType(bl,[Object,oq]));ss.initClass(oq);ss.initClass(or);ss.initClass(ot);ss.initClass(ou);ss.initClass(ov,ss.makeGenericType(bl,[Object,ow]));ss.initClass(ow);ss.initClass(ox,ss.makeGenericType(bl,[Object,oy]));ss.initClass(oy);ss.initClass(oz);ss.initClass(oA,jC);ss.initClass(oB,mQ,[ie,hC]);ss.initClass(oC);ss.initClass(oD);ss.initClass(oF,jC);ss.initClass(oG,jC);ss.initClass(oH);ss.initClass(oI);ss.initClass(oJ);ss.initClass(oK,jC);ss.initClass(oL);ss.initClass(oM);ss.initClass(oN);ss.initClass(oO);ss.initClass(oP);ss.initClass(oS);ss.initClass(oT,jC,[hQ]);ss.initClass(oV,null,[hZ]);ss.initClass(oW,cC,[ss.IDisposable]);ss.initClass(oY);ss.initClass(oZ,ss.makeGenericType(oU,[Object,pa]));ss.initClass(pa);ss.initClass(pb);ss.initClass(pc,ss.makeGenericType(oU,[Object,pd]));ss.initClass(pd);ss.initClass(pe,null,[id]);ss.initClass(pf,jC);ss.initClass(pg);ss.initClass(ph,oa);ss.initClass(pi,jC);ss.initClass(pj);ss.initClass(pl);ss.initClass(pm);ss.initClass(pn);ss.initClass(pp);ss.initClass(pq);ss.initClass(pr);ss.initClass(ps);ss.initClass(pt);ss.initClass(pu);ss.initClass(pv);ss.initClass(pw,kZ);ss.initClass(px);ss.initClass(py,jC);ss.initClass(pz,jC);ss.initClass(pA,jC);ss.initClass(pB,jC);(function(){var e={};e[{ns:'tabdoc',cmd:'connection-count-entity'}.cmd]='AllowCancellationSlowMetaData';e[{ns:'tabdoc',cmd:'connection-fetch-entity'}.cmd]='AllowCancellationSlowMetaData';e[{ns:'tabdoc',cmd:'drop-nowhere'}.cmd]='CancelWorldUpdate';e[{ns:'tabdoc',cmd:'get-datasource-data-pres-model'}.cmd]='InvalidFeatureFlag';e[{ns:'tabdoc',cmd:'level-drill-up-down'}.cmd]='CancelWorldUpdate';e[{ns:'tabdoc',cmd:'categorical-filter'}.cmd]='AllowCancellationCategoricalFilter';e[{ns:'tabdoc',cmd:'categorical-filter-by-index'}.cmd]='AllowCancellationCategoricalFilter';e[{ns:'tabdoc',cmd:'categorical-filter-init-with-domain'}.cmd]='WebFilterDialogDeferDomain';e[{ns:'tabdoc',cmd:'categorical-filter-set-range-type-deferred'}.cmd]='WebFilterDialogDeferDomain';e[{ns:'tabdoc',cmd:'keep-only-or-exclude'}.cmd]='CancelWorldUpdate';e[{ns:'tabdoc',cmd:'get-show-data-pres-model'}.cmd]='AllowCancellationGetShowDataPresModel';e[{ns:'tabsrv',cmd:'export-crosstab-to-excel-server'}.cmd]='InvalidFeatureFlag';e[{ns:'tabsrv',cmd:'power-point-export-server'}.cmd]='InvalidFeatureFlag';e[{ns:'tabsrv',cmd:'refresh-data-server'}.cmd]='AllowCancellationRefreshDataServer';cv.$2=e})();(function(){oS.$1$1=null;oS.$1$2=null;oS.$1$3=null;oS.$1$4=null;oS.waitGlassId='loadingGlassPane';oS.waitSpinnerId='loadingSpinner';oS.telemetryPrefix='WaitHandler';oS.$7=500;oS.$5=300;oS.$6=500;oS.$8=250;oS.glassShowDelay=400;oS.glassDefaultOpacity=0;oS.glassDelayedOpacity=0.419999986886978})();(function(){jk.$0=null})();(function(){jG.$6='vql';jG.$5=0})();(function(){jH.$1=jG.getInstance(function(e,ex,pC){requirejs([e],ex,pC)},function(e){requirejs.config(e)},window.self)})();(function(){px.guid='';px.parentID='';px.$1=''})();(function(){cH.$0=null})();(function(){cJ.$7=15;cJ.$a={};cJ.$8={};cJ.$9=[];cJ.$a[{ns:'tabdoc',cmd:'keep-only-or-exclude'}.cmd]=2;cJ.$a[{ns:'tabdoc',cmd:'quick-sort'}.cmd]=4;cJ.$a[{ns:'tabdoc',cmd:'sort-nested'}.cmd]=5;cJ.$a[{ns:'tabdoc',cmd:'clear-sorts'}.cmd]=6;cJ.$a[{ns:'tabdoc',cmd:'run-action'}.cmd]=8;cJ.$a[{ns:'tabdoc',cmd:'load-url'}.cmd]=9;cJ.$a[{ns:'tabdoc',cmd:'merge-or-split'}.cmd]=10;cJ.$a[{ns:'tabdoc',cmd:'ranged-by-value-merge'}.cmd]=10;cJ.$a[{ns:'tabdoc',cmd:'ranged-by-index-merge'}.cmd]=10;cJ.$a[{ns:'tabdoc',cmd:'legend-group-or-ungroup'}.cmd]=13;cJ.$a[{ns:'tabdoc',cmd:'label-drill'}.cmd]=12;cJ.$a[{ns:'tabdoc',cmd:'level-drill'}.cmd]=12;cJ.$a[{ns:'tabdoc',cmd:'level-drill-up-down'}.cmd]=12;cJ.$a[{ns:'tabdoc',cmd:'remove-reference-line'}.cmd]=15;cJ.$a[{ns:'tabdoc',cmd:'show-reference-line-constant-value-editor'}.cmd]=21;cJ.$a[{ns:'tabdoc',cmd:'trend-lines'}.cmd]=17;cJ.$a[{ns:'tabdoc',cmd:'show-trend-line-editor'}.cmd]=16;cJ.$a[{ns:'tabdoc',cmd:'show-col-totals'}.cmd]=18;cJ.$a[{ns:'tabdoc',cmd:'show-row-totals'}.cmd]=18;cJ.$a[{ns:'tabdoc',cmd:'remove-subtotals'}.cmd]=18;cJ.$a[{ns:'tabdoc',cmd:'set-totals-type'}.cmd]=19;cJ.$a[{ns:'tabdoc',cmd:'set-reference-line-formula'}.cmd]=20;cJ.$a[{ns:'tabdoc',cmd:'show-reference-line-editor'}.cmd]=22;cJ.$a[{ns:'tabdoc',cmd:'select-by-tuple-value'}.cmd]=23;cJ.$a[{ns:'tabdoc',cmd:'open-automated-insights-modal'}.cmd]=24;cJ.$a[{ns:'tabdoc',cmd:'open-explain-data-pane'}.cmd]=24;cJ.$a[{ns:'tabdoc',cmd:'open-explain-data-ubertip'}.cmd]=24;cJ.$a[{ns:'tabdoc',cmd:'view-selected-data'}.cmd]=7;cJ.$a[{ns:'tabdoc',cmd:'create-fixed-set'}.cmd]=25;cJ.$a[{ns:'tabdoc',cmd:'modify-marks-in-set-v2'}.cmd]=26})();(function(){lX.$5='Last';lX.$6='SecondToLast';lX.$4=60*24;lX.$8=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];lX.$7=ss.mkdict(['Sun',tab.Strings.Sunday,'Mon',tab.Strings.Monday,'Tue',tab.Strings.Tuesday,'Wed',tab.Strings.Wednesday,'Thu',tab.Strings.Thursday,'Fri',tab.Strings.Friday,'Sat',tab.Strings.Saturday])})();(function(){jC.removeUndefinedBoolsOnSwapCopy=true})();(function(){ct.defaultAlpha=1;ct.white=new ct(255,255,255,1);ct.black=new ct(0,0,0,1);ct.alphaMultiplier=1.5;ct.luminanceThresholdForFakingLineColor=0.800000011920929;ct.luminanceThresholdForLightColor=0.314999997615814;ct.$9=0.999989986419678;ct.$g=[0,5.07705190066E-06,2.33280046661E-05,5.69217657122E-05,0.000107187362341,0.000175123977503,0.000261543754548,0.000367136269816,0.000492503787191,0.000638182842167,0.000804658499513,0.000992374304074,0.00120173952244,0.00143313458967,0.00168691531679,0.0019634162134,0.00226295316071,0.00258582559623,0.00293231832394,0.003302703032,0.0036972395789,0.00411617709328,0.00455975492253,0.00502820345686,0.00552174485024,0.00604059365485,0.00658495738258,0.00715503700457,0.00775102739766,0.00837311774515,0.00902149189801,0.00969632870166,0.0103978022926,0.0111260823684,0.0118813344348,0.0126637200316,0.0134733969401,0.0143105193749,0.0151752381596,0.0160677008909,0.0169880520893,0.01793643334,0.0189129834237,0.0199178384388,0.0209511319148,0.0220129949193,0.0231035561579,0.0242229420675,0.0253712769047,0.0265486828285,0.0277552799781,0.0289911865471,0.0302565188524,0.0315513914002,0.0328759169484,0.0342302065651,0.0356143696849,0.037028514162,0.0384727463202,0.0399471710015,0.0414518916115,0.0429870101627,0.0445526273164,0.0461488424224,0.0477757535562,0.0494334575559,0.0511220500565,0.0528416255229,0.0545922772818,0.056374097552,0.0581871774737,0.0600316071363,0.0619074756055,0.0638148709487,0.0657538802603,0.0677245896854,0.0697270844426,0.0717614488462,0.0738277663278,0.0759261194563,0.0780565899581,0.0802192587362,0.0824142058885,0.0846415107254,0.0869012517877,0.0891935068622,0.0915183529989,0.0938758665256,0.0962661230633,0.0986891975411,0.10114516421,0.103634096655,0.106156067813,0.108711149979,0.111299414825,0.113920933406,0.116575776179,0.119264013005,0.12198571317,0.124740945387,0.127529777813,0.130352278056,0.133208513184,0.136098549737,0.139022453735,0.141980290686,0.144972125597,0.147998022983,0.151058046871,0.154152260812,0.15728072789,0.160443510725,0.163640671485,0.166872271891,0.170138373223,0.173439036332,0.176774321641,0.180144289154,0.183548998465,0.186988508759,0.190462878822,0.193972167048,0.19751643144,0.201095729621,0.204710118837,0.208359655961,0.212044397502,0.215764399609,0.219519718075,0.223310408341,0.227136525505,0.230998124323,0.234895259216,0.238827984272,0.242796353254,0.246800419602,0.250840236436,0.254915856566,0.25902733249,0.263174716398,0.267358060184,0.271577415438,0.275832833461,0.280124365261,0.28445206156,0.288815972797,0.293216149132,0.297652640449,0.302125496359,0.306634766203,0.311180499058,0.315762743736,0.320381548792,0.325036962521,0.329729032968,0.334457807924,0.339223334935,0.344025661302,0.348864834083,0.353740900097,0.358653905926,0.363603897921,0.368590922197,0.373615024646,0.37867625093,0.383774646488,0.388910256539,0.394083126083,0.399293299903,0.404540822568,0.409825738436,0.415148091656,0.420507926168,0.425905285707,0.431340213807,0.4368127538,0.442322948819,0.4478708418,0.453456475486,0.459079892424,0.464741134974,0.470440245304,0.476177265397,0.481952237051,0.487765201878,0.493616201311,0.499505276603,0.505432468828,0.511397818885,0.517401367497,0.523443155214,0.529523222417,0.535641609315,0.54179835595,0.547993502197,0.554227087766,0.560499152204,0.566809734897,0.573158875068,0.579546611783,0.58597298395,0.592438030321,0.598941789493,0.605484299911,0.612065599866,0.618685727499,0.625344720802,0.632042617621,0.638779455651,0.645555272445,0.652370105411,0.659223991813,0.666116968776,0.673049073281,0.680020342172,0.687030812155,0.694080519797,0.701169501531,0.708297793656,0.715465432335,0.7226724536,0.729918893352,0.737204787361,0.744530171267,0.751895080583,0.759299550695,0.766743616862,0.774227314218,0.781750677774,0.789313742416,0.796916542908,0.804559113895,0.812241489898,0.819963705324,0.827725794455,0.835527791461,0.843369730392,0.851251645185,0.859173569659,0.867135537521,0.875137582365,0.883179737673,0.891262036813,0.899384513047,0.907547199522,0.915750129279,0.923993335252,0.932276850265,0.940600707036,0.948964938178,0.9573695762,0.965814653503,0.974300202389,0.982826255054,0.991392843593,1];ct.$a=new RegExp('#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})','i');ct.$c=new RegExp('rgb\\((\\d+), ?(\\d+), ?(\\d+)\\)','i');ct.$d=new RegExp('rgba\\((\\d+), ?(\\d+), ?(\\d+), ?(\\d+|0\\.\\d+|1\\.0)\\)','i');ct.whiteHoverColor=new ct(255,255,255,0.449999988079071);ct.blackHoverColor=new ct(0,0,0,0.449999988079071);ct.$b=77;ct.$e=null;ct.$f=new tab.FifoCache(100)})();(function(){ga.defaultWeight='normal';ga.defaultStyle='normal';ga.hashSeparator='-<%>-';ga.matchQuotes=new RegExp('[\'"]','g')})();(function(){eL.boldWeight='bold';eL.normalWeight='normal'})();(function(){ho.$1=[new ho,new eL]})();(function(){fZ.fontPropertyName='font';fZ.$1$1=null;fZ.$1$2=null})();(function(){eq.$1={}})();(function(){oP.appParam=':app';oP.$i=':retry';oP.$h=':retryBootstrapAttempts';oP.$f=':original_view';oP.$m=':showSaveAs';oP.$e=':jsdebug';oP.$g=':render';oP.$c=':ignore_sticky_session';oP.$j=':showComments';oP.$9=':editDataAlertId';oP.$k=':showDataAlertId';oP.$l=':showDataAlerts';oP.$n=':showVizHome';oP.$8=':device';oP.$a=':graphQLDatabaseId';oP.$b=':graphQLTableId';oP.$7=[':app',':jsdebug',':render',':graphQLDatabaseId',':graphQLTableId'];oP.$o=ss.mkdict(['askData',8,'authoring',2,'authoringNewWorkbook',3,'newWorkbook',7,'shared',5,'startAskData',9,'views',1,'vizql/showadminview',4,'workbooks',6]);oP.$d=[':bootstrapWhenNotified'];oP.$p={};oP.$q={};var e=function(ex,pC){for(var pD=ex;pD<=pC;pD=pD+1&65535){var pE=String.fromCharCode(pD);oP.$q[pE]=pE}};e(97,122);e(65,90);e(48,57);e(95,95);e(45,46)})();(function(){hx.$7='_vql_state_';hx.$6=new Map;hx.$9=0;hx.$8=0;tab.WindowHelper.addListener(window.self,'popstate',hx.$3)})();(function(){fQ.$2=null;fQ.$2=ss.mkdict(['%2F',new RegExp('\\/','g'),'%3F',new RegExp('\\?','g')])})();(function(){pu.$1=new ss.Lazy(function(){return new pu})})();(function(){fA.nameOfMeasuresColumn=':Measure Names';fA.nameOfMeasureValuesColumn='Multiple Values'})();(function(){jQ.$1=new ss.Lazy(ss.mkdel(this,function(){return{eventHandler:new jQ}}))})();(function(){bq.$2=bq.$0()})();(function(){P.instance=null})();(function(){mK.$1='data:image/png;base64,';mK.selectionBorderSize=1})();(function(){cz.successResult=new cz(true,null)})();(function(){hR.$3=null})();(function(){kt.platformLibrary='platform';kt.platformMinifiedLibrary='platform.min';kt.$5=null;kt.$4=null;kt.$3=tab.Logger.getLogger(kt,4)})();(function(){o.$0=35;o.$1=1})();(function(){pA.zoneMargin=4;pA.rootZoneID=0;pA.$m=0;pA.$n='visual'.toString();pA.$l='dashboardTitle'.toString();pA.$k='dashboardText'.toString();pA.$e='quantitativeColorLegend'.toString();pA.$5='colorLegend'.toString();pA.$j='categoricalSizeLegend'.toString();pA.$i='categoricalShapeLegend'.toString();pA.$b='categoricalMapLegend'.toString();pA.$d='parameterControl'.toString();pA.$c='pageModel'.toString();pA.$h='serverRenderedLegend'.toString();pA.$a='imageZone'.toString();pA.$o='webZone'.toString();pA.$g='serverButtonZone'.toString();pA.$7='addInZone'.toString();pA.$f='quickFilterDisplay'.toString();pA.$6='dataHighlighter'.toString();pA.$9='flipboardNav'.toString();pA.$8='flipboard'.toString()})();(function(){kC.$6=6;kC.zonesThatDeferContentCreation=['viz','size','shape','color','map','filter','paramctrl','current-page','bitmap','web','dashboard-object','highlighter'];kC.$8=[1,2,3,4,5,6];kC.$9=null;kC.$7=null})();(function(){bd.$3=new(ss.makeGenericType(jD,[bd]));bd.$4=bd.$0()})();(function(){oL.vizInTooltipSpanTag='span[data-tableau="VizInTooltip"]';oL.unknownFieldMarker='~~~???~~~';oL.noLocalSummary='...';oL.invalidTupleId=0;oL.urlStringNull='~~null~';oL.urlStringSkipped='~~skipped~';oL.urlStringRagged='~~ragged~';oL.lastWidthAndHeightForVizInTooltips=[];oL.widestVizInTooltip=0;oL.$a=new RegExp('(\\r|\\n)','g')})();(function(){mp.$3={}})();(function(){la.$2=135;la.$3=200})();(function(){cw.unknownOutcomeLoggingMessage='Unknown recovery outcome: ';cw.$c='CommandController';cw.$e=false;cw.$f=false;cw._instance=null;cw.$1$8=null;cw.$1$17=null;cw.fireDeferredUrlActions=false;cw.$d=[{ns:'tabsrv',cmd:'synced-change-page-server'}.cmd,{ns:'tabsrv',cmd:'render-tooltip-server'}.cmd,{ns:'tabdoc',cmd:'hide-zone'}.cmd,{ns:'tabsrv',cmd:'select-none'}.cmd,{ns:'tabdoc',cmd:'set-active-zone'}.cmd,{ns:'tabdoc',cmd:'hit-test-scene'}.cmd];cw.$1$18=null})();(function(){fu.charBufferForIndividualErrorOverhead=20;fu.charBufferForReportOverhead=160;fu.$5=5000;fu.$6=120;fu.$7='...truncated';fu.$8=0;if(typeof(tsConfig)==='undefined'){return}var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){tab.ErrorTrace.install();fu.$8=window.setInterval(fu.$2,5000)}})();(function(){jT.telemetryForwarderLibrary='typescript-telemetry-forwarder';jT.telemetryForwarderLibraryMinifiedLibrary='typescript-telemetry-forwarder.min';jT.serviceName='VizClient';jT.$1=null;jT.$1$1=null})();(function(){cg.cmdId={ns:'tabdoc',cmd:'change-workbook-ui-mode'}})();(function(){bJ.cmdId={ns:'tabdoc',cmd:'build-sheet-list-context-menu'}})();(function(){bB.cmdId={ns:'tabdoc',cmd:'build-layout-tree-context-menu'}})();(function(){bt.cmdId={ns:'tabdoc',cmd:'build-caption-context-menu'}})();(function(){bL.cmdId={ns:'tabdoc',cmd:'build-title-context-menu'}})();(function(){gn.cmdId={ns:'tabsrv',cmd:'get-composite-class-name'}})();(function(){mI.cmdId={ns:'tabdoc',cmd:'set-variables-prompt-responded'}})();(function(){md.cmdId={ns:'tabsrv',cmd:'select-dataserver-data-source-for-proxy'}})();(function(){gE.cmdId={ns:'tabdoc',cmd:'get-datasource-data-pres-model'}})();(function(){ha.cmdId={ns:'tabsrv',cmd:'get-supported-connection-types'}})();(function(){gI.cmdId={ns:'tabdoc',cmd:'get-dsparams-from-pres-model'}})();(function(){ci.cmdId={ns:'tabdoc',cmd:'check-connection'}})();(function(){nS.cmdId={ns:'tabsrv',cmd:'toggle-use-extract'}})();(function(){op.cmdId={ns:'tabdoc',cmd:'update-datatab-datasource-header'}})();(function(){oY.$1=new oY})();(function(){dO.$2=null;var e=oY.get_instance();var ex={ns:'tabdoc',cmd:{ns:'tabdoc',cmd:'check-connection'}.cmd};var pC=new cD;pC.suppressConnectionDialog=true;e.registerCommandLocalOptions(ex,pC)})();(function(){cQ.excel='excel';cQ.text='csv';cQ.server='sqlproxy';cQ.$2=[];cQ.$4=null;cQ.$3={};cQ.$5=null;cQ.$2.push('excel');cQ.$2.push('excel-direct');cQ.$2.push('csv');cQ.$2.push('textscan');cQ.$2.push('ogrdirect')})();(function(){dQ.exceptionAttributesClass='class';dQ.exceptionAttributesFilename='filename';dQ.exceptionAttributesDirectory='directory'})();(function(){eh.$5='badpassword';eh.$4='badoauthcredentials';eh.$6='NoAssociatedCustomOAuthKey'})();(function(){jF.visualPartToVizImageRegionForSceneMarginsMap=null;jF.vizImageRegionToVisualPartForSceneMarginsMap=null;jF.visualPartToSceneMarginLocationMap=null;jF.visualPartToVizImageRegionForSceneMarginsMap={};jF.visualPartToVizImageRegionForSceneMarginsMap['left-axis']='leftaxis';jF.visualPartToVizImageRegionForSceneMarginsMap['right-axis']='rightaxis';jF.visualPartToVizImageRegionForSceneMarginsMap['top-axis']='topaxis';jF.visualPartToVizImageRegionForSceneMarginsMap['bottom-axis']='bottomaxis';jF.visualPartToVizImageRegionForSceneMarginsMap['y-labels']='yheader';jF.visualPartToVizImageRegionForSceneMarginsMap['x-labels']='xheader';jF.vizImageRegionToVisualPartForSceneMarginsMap={};jF.vizImageRegionToVisualPartForSceneMarginsMap['leftaxis']='left-axis';jF.vizImageRegionToVisualPartForSceneMarginsMap['rightaxis']='right-axis';jF.vizImageRegionToVisualPartForSceneMarginsMap['topaxis']='top-axis';jF.vizImageRegionToVisualPartForSceneMarginsMap['bottomaxis']='bottom-axis';jF.vizImageRegionToVisualPartForSceneMarginsMap['yheader']='y-labels';jF.vizImageRegionToVisualPartForSceneMarginsMap['xheader']='x-labels';jF.visualPartToSceneMarginLocationMap={};jF.visualPartToSceneMarginLocationMap['left-axis']=3;jF.visualPartToSceneMarginLocationMap['right-axis']=2;jF.visualPartToSceneMarginLocationMap['top-axis']=0;jF.visualPartToSceneMarginLocationMap['bottom-axis']=1;jF.visualPartToSceneMarginLocationMap['y-labels']=3;jF.visualPartToSceneMarginLocationMap['x-labels']=0})();(function(){cx.$c=new RegExp('\\S+','g')})();(function(){gb.$0='font'})();(function(){pi.$2$1=null})();(function(){py.rootZoneID=0})();(function(){jx.$1='@2x';jx.$0='rgb(255,255,255)'})();(function(){ls.cmdId={ns:'tabdoc',cmd:'resize-axis-region'}})();(function(){lz.cmdId={ns:'tabdoc',cmd:'resize-header-web'}})();(function(){lu.cmdId={ns:'tabdoc',cmd:'resize-cell-web'}})();(function(){gU.cmdId={ns:'tabdoc',cmd:'get-runtime-data-model'}})();(function(){lO.usageTable='RuntimeClientEvents';lO.usageColumnName='EventName';lO.metricsTimeColumnName='ElapsedTime';var e={};e[0]='LOADED';e[1]='ABORTED';lO.$2=e})();(function(){var e=bd.get_instance();e.addModel(nZ).call(e)})();(function(){Y.$f=new Map;Y.$c=new Map;Y.$b=new Map;Y.$a=new Map;Y.$d=new Map;Y.$9='AnimationEventTestData';Y.$e='AnimationEventTestDataEntry';Y.$g=0})();(function(){lL.$2=$.Deferred();lL.$3=false})();(function(){ba.$7=false;ba.$8=false;ba.$9=new Map;var e=tab.FeatureFlags.isEnabled;window.window['__tabRuntimeIsFfEnabled']=e})();(function(){X.$2=false;X.$3=-1;X.$1$1=null})();(function(){oK.tupleIdColumnName='[system:visual].[tuple_id]';oK.measureNamesColumnName='[:Measure Names]'})();(function(){ny.$7=(tsConfig.is_mobile?4:8);ny.$6=null;ny.$5=null;if(!tsConfig.is_authoring){pu.get().add_onBootstrapResponse(ny.$0)}})();(function(){my.cmdId={ns:'tabdoc',cmd:'set-active-zones'}})();(function(){R.$t=['http:','https:','mailto:','news:','gopher:','tsc:','tsl:','sms:','tel:'];R.$r=false;R.$q=false;R.$s={}})();(function(){mh.$v=null;mh.$v={};mh.$v['simple']='select-options-simple';mh.$v['toggle']='select-options-toggle';mh.$v['range']='select-options-range';mh.$v['menu']='select-options-menu'})();(function(){bs.$5='date-time';bs.$4='all'})();(function(){bn.$2=204;bn.$1$1=null;bn.$1$2=null})();(function(){hw.$2=null})();(function(){mw.$2=0})();(function(){mv.$1$1=null})();(function(){hc.cmdId={ns:'tabdoc',cmd:'get-tabbed-authentication-pres-model'}})();(function(){ef.$4=false;ef.$2=2;ef.$3=2})();(function(){nv.$2=false;nv.$1=false;nv.$3=false;nv.$1$1=null;nv.$1$2=null;nv.$1$3=null})();(function(){mQ.$2$1=null})();(function(){dx.$5=false;dx.facadeDomClass='facadedom';dx.defaultGridSize=20;dx.$2$1=null;dx.$2$19=null})();(function(){fR.presModelCache=null})();(function(){dv.authoring='Authoring';dv.view='View';dv.zoneType='ZoneType';dv.authoringMode='AuthoringMode';dv.delayLoadingForHiddenZones='Dashboard_DelayLoadingForHiddenZones';dv.unhideDelayLoadedHiddenContent='Dashboard_UnhideDelayLoadedHiddenContent'})();(function(){cP.primaryTableCalcIndex=0;cP.secondaryTableCalcIndex=1;var e=bd.get_instance();e.addModel(cP).call(e)})();(function(){pm.$2=new RegExp('[/\\\\]([^/\\\\]*)$')})();(function(){ee.$0=null})();(function(){kr.cmdId={ns:'tabsrv',cmd:'ping-session'}})();(function(){mu.$3=5*60*1000;mu.$1=tab.DateUtil.get_nowAsTime();mu.$4=5*60*1000;mu.$2=tab.DateUtil.get_nowAsTime()})();(function(){bY.$a='Cancel_Command';bY.$2='CommandName';bY.$3='UNKNOWN';bY.$4='ElapsedTimeToCancelMS';bY.$5='ElapsedTimeToProcessCancelResponseMS';bY.$6='CancelStatus';bY.$9='Success';bY.$8='NothingToCancel';bY.$7='Failure'})();(function(){KeyboardShortcuts.KeyboardShortcutTelemetry.OnTelemetryEvent=jT.logEvent})();(function(){S.cmdId={ns:'tabsrv',cmd:'add-dataserver-data-source'}})();(function(){U.cmdId={ns:'tabdoc',cmd:'add-object-to-dashboard'}})();(function(){cY.cmdId={ns:'tabdoc',cmd:'create-annotation'}})();(function(){nk.fontFaces=['Arial','Courier New','Tableau Bold','Tableau Book','Tableau Light','Tableau Medium','Tableau Regular','Tableau Semibold','Times New Roman']})();(function(){gf.cssFontStyle='font-style';gf.cssFontWeight='font-weight';gf.cssFontStretch='font-stretch';gf.cssFontFamily='font-family';gf.javascriptFontStyle='fontStyle';gf.javascriptFontWeight='fontWeight';gf.javascriptFontStretch='fontStretch';gf.$6=[{item1:'thin',item2:'100'},{item1:'extra-light',item2:'200'},{item1:'extra light',item2:'200'},{item1:'light',item2:'300'},{item1:'normal',item2:'400'},{item1:'regular',item2:'400'},{item1:'book',item2:'400'},{item1:'medium',item2:'500'},{item1:'demi-bold',item2:'600'},{item1:'demibold',item2:'600'},{item1:'semi-bold',item2:'600'},{item1:'semibold',item2:'600'},{item1:'demi',item2:'600'},{item1:'bold',item2:'700'},{item1:'heavy',item2:'800'},{item1:'black',item2:'900'}];gf.$4=[{item1:'compressed',item2:'extra-condensed'},{item1:'narrow',item2:'condensed'},{item1:'condensed',item2:'condensed'}];gf.$5=[{item1:'italic',item2:'italic'}];gf.$3={}})();(function(){pb.baseFontNames=['monospace','sans-serif','serif','cursive','fantasy'];pb.fontTestText='ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 1234567890';pb.baseFontSize='12px';pb.specialMacOSFontNames=['Arial','Avenir Roman','Courier New','Geeza Pro','Papyrus','PingFang HK','Songti SC','Symbol','Times New Roman','Webdings','Wingdings','Wingdings 2','Wingdings 3'];pb.$9={};pb.$8=$(document.body);pb.$7={};pb.$6={};nv.callAfterModelsInitialized(function(){var e=$('<div></div>').css('visibility','hidden');pb.$8.append(e);pb.$3(e);e.remove()})})();(function(){gg.fontListStorageKey='auth-font-list';gg.fontSizes=[8,9,10,11,12,14,15,16,18,20,22,24,26,28,36,48,72]})();(function(){mq.tableauLight='Tableau Light';mq.tableauBook='Tableau Book';mq.tableauRegular='Tableau Regular';mq.tableauMedium='Tableau Medium';mq.tableauSemibold='Tableau Semibold';mq.tableauBold='Tableau Bold';mq.bentonSansLight='Benton Sans Light';mq.bentonSansBook='Benton Sans Book';mq.bentonSansBookItalic='Benton Sans Book Italic';mq.bentonSansMedium='Benton Sans Medium';mq.bentonSansSemiDemi='Benton Sans SemiDemi';mq.bentonSansSemiDemiItalic='Benton Sans SemiDemi Italic';mq.bentonSans='Benton Sans';mq.bentonSansLowDpi='Benton Sans Low-DPI';mq.tableauFontWoffPaths=ss.mkdict(['Tableau Light',tableau.util.assetUrl('/fonts/Tableau-Light.woff',false),'Tableau Book',tableau.util.assetUrl('/fonts/Tableau-Book.woff',false),'Tableau Regular',tableau.util.assetUrl('/fonts/Tableau-Regular.woff',false),'Tableau Medium',tableau.util.assetUrl('/fonts/Tableau-Medium.woff',false),'Tableau Semibold',tableau.util.assetUrl('/fonts/Tableau-Semibold.woff',false),'Tableau Bold',tableau.util.assetUrl('/fonts/Tableau-Bold.woff',false)]);mq.bentonSansWoffPaths=ss.mkdict(['Benton Sans Light',tableau.util.assetUrl('/fonts/BentonSans-Light.woff',false),'Benton Sans Book',tableau.util.assetUrl('/fonts/BentonSans-Book.woff',false),'Benton Sans Book Italic',tableau.util.assetUrl('/fonts/BentonSans-Book_Italic.woff',false),'Benton Sans Medium',tableau.util.assetUrl('/fonts/BentonSans-Medium.woff',false),'Benton Sans SemiDemi',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi.woff',false),'Benton Sans SemiDemi Italic',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi_Italic.woff',false)]);var e=new eD;e.set_fontFamily('Tableau Light');e.woffLocation=mq.tableauFontWoffPaths['Tableau Light'];var ex=new eD;ex.set_fontFamily('Tableau Light');ex.set_weight('bold');ex.woffLocation=mq.tableauFontWoffPaths['Tableau Medium'];var pC=new eD;pC.set_fontFamily('Tableau Book');pC.woffLocation=mq.tableauFontWoffPaths['Tableau Book'];var pD=new eD;pD.set_fontFamily('Tableau Book');pD.set_weight('bold');pD.woffLocation=mq.tableauFontWoffPaths['Tableau Medium'];var pE=new eD;pE.set_fontFamily('Tableau Regular');pE.woffLocation=mq.tableauFontWoffPaths['Tableau Regular'];var pF=new eD;pF.set_fontFamily('Tableau Regular');pF.set_weight('bold');pF.woffLocation=mq.tableauFontWoffPaths['Tableau Semibold'];var pG=new eD;pG.set_fontFamily('Tableau Medium');pG.woffLocation=mq.tableauFontWoffPaths['Tableau Medium'];var pH=new eD;pH.set_fontFamily('Tableau Medium');pH.set_weight('bold');pH.woffLocation=mq.tableauFontWoffPaths['Tableau Bold'];var pI=new eD;pI.set_fontFamily('Tableau Semibold');pI.woffLocation=mq.tableauFontWoffPaths['Tableau Semibold'];var pJ=new eD;pJ.set_fontFamily('Tableau Semibold');pJ.set_weight('bold');pJ.woffLocation=mq.tableauFontWoffPaths['Tableau Bold'];var pK=new eD;pK.set_fontFamily('Tableau Bold');pK.woffLocation=mq.tableauFontWoffPaths['Tableau Bold'];var pL=new eD;pL.set_fontFamily('Tableau Bold');pL.set_weight('bold');pL.woffLocation=mq.tableauFontWoffPaths['Tableau Bold'];mq.tableauFontNames=[e,ex,pC,pD,pE,pF,pG,pH,pI,pJ,pK,pL];var e=new eD;e.set_fontFamily('Benton Sans');e.set_weight('bold');e.woffLocation=mq.bentonSansWoffPaths['Benton Sans Medium'];var ex=new eD;ex.set_fontFamily('Benton Sans');ex.woffLocation=mq.bentonSansWoffPaths['Benton Sans Book'];mq.bentonSansFontNames=[e,ex];var e=new eD;e.set_fontFamily('Benton Sans Low-DPI');e.set_weight('bold');e.woffLocation=mq.bentonSansWoffPaths['Benton Sans Medium'];var ex=new eD;ex.set_fontFamily('Benton Sans Low-DPI');ex.woffLocation=mq.bentonSansWoffPaths['Benton Sans SemiDemi'];mq.bentonSansLowDpiFontNames=[e,ex];mq.effectiveBentonSans=(BrowserSupport.BrowserSupport.IsHighDpi()?mq.bentonSansFontNames:mq.bentonSansLowDpiFontNames)})();(function(){lH.$2=null;lH.defaultContentSecurityPolicy="default-src 'none'; script-src 'self'; connect-src 'self'; img-src * data:; style-src 'self' 'unsafe-inline'; font-src 'self' {0};"})();(function(){lb.cmdId={ns:'tabdoc',cmd:'remove-annotation'}})();(function(){ol.cmdId={ns:'tabdoc',cmd:'update-area-annotation'}})();(function(){jJ.cmdId={ns:'tabdoc',cmd:'move-point-annotation'}})();(function(){lC.cmdId={ns:'tabdoc',cmd:'resize-point-annotation'}})();(function(){jL.cmdId={ns:'tabdoc',cmd:'move-point-annotation-target'}})();(function(){bf.cmdId={ns:'tabdoc',cmd:'autofit-with1-dcontainers'}})();(function(){bh.cmdId={ns:'tabdoc',cmd:'autofit-with1-dcontainers-multi-run'}})();(function(){bo.cmdId={ns:'tabdoc',cmd:'block-extension'}})();(function(){bv.cmdId={ns:'tabdoc',cmd:'build-data-schema-field-context-menu'}})();(function(){bx.cmdId={ns:'tabdoc',cmd:'build-data-tab-field-context-menu'}})();(function(){bz.cmdId={ns:'tabdoc',cmd:'build-device-layout-list-context-menu'}})();(function(){bD.cmdId={ns:'tabdoc',cmd:'build-object-context-menu'}})();(function(){bF.cmdId={ns:'tabdoc',cmd:'build-schema-change-data-type-menu'}})();(function(){bH.cmdId={ns:'tabdoc',cmd:'build-server-axis-context-menu'}})();(function(){bN.cmdId={ns:'tabdoc',cmd:'build-zone-list-node-context-menu'}})();(function(){bQ.cmdId={ns:'tabdoc',cmd:'calculation-auto-complete'}})();(function(){var e=bd.get_instance();e.addModel(bS).call(e)})();(function(){bZ.cmdId={ns:'tabdoc',cmd:'categorical-filter-by-index'}})();(function(){cb.cmdId={ns:'tabdoc',cmd:'categorical-filter'}})();(function(){cd.cmdId={ns:'tabdoc',cmd:'categorical-filter-init-with-domain'}})();(function(){ck.cmdId={ns:'tabsrv',cmd:'check-extract-action-needed'}})();(function(){cm.cmdId={ns:'tabdoc',cmd:'clear-device-layout'}})();(function(){cr.cmdId={ns:'tabdoc',cmd:'close-data-alert-dialog'}})();(function(){nI.$1={};nI.$1['TQRC_UBERTIP_GROUP']='tableau-1.3/res/vizTooltips/Tooltip_Set.png';nI.$1['TQRC_UBERTIP_GROUP_2X']='tableau-1.3/res/vizTooltips/Tooltip_Set@2x.png';nI.$1['TQRC_UBERTIP_GROUP_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Set_Active.png';nI.$1['TQRC_UBERTIP_GROUP_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Set_Active@2x.png';nI.$1['TQRC_DRILL_DOWN']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down.png';nI.$1['TQRC_DRILL_DOWN_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down@2x.png';nI.$1['TQRC_DRILL_DOWN_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active.png';nI.$1['TQRC_DRILL_DOWN_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active@2x.png';nI.$1['TQRC_DRILL_UP']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up.png';nI.$1['TQRC_DRILL_UP_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up@2x.png';nI.$1['TQRC_DRILL_UP_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Active.png';nI.$1['TQRC_DRILL_UP_ACTIVE_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Action@2x.png';nI.$1['TQRC_EXCLUDE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude.png';nI.$1['TQRC_EXCLUDE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude@2x.png';nI.$1['TQRC_EXCLUDE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active.png';nI.$1['TQRC_EXCLUDE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active@2x.png';nI.$1['TQRC_KEEP_ONLY']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly.png';nI.$1['TQRC_KEEP_ONLY_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly@2x.png';nI.$1['TQRC_KEEP_ONLY_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active.png';nI.$1['TQRC_KEEP_ONLY_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active@2x.png';nI.$1['TQRC_EXPLAINDATA']='tableau-1.3/res/vizTooltips/Tooltip_ExplainData.png';nI.$1['TQRC_EXPLAINDATA_2X']='tableau-1.3/res/vizTooltips/Tooltip_ExplainData@2x.png';nI.$1['TQRC_EXPLAINDATA_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_ExplainData_Active.png';nI.$1['TQRC_EXPLAINDATA_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_ExplainData_Active@2x.png';nI.$1['TQRC_MERGE']='tableau-1.3/res/vizTooltips/Tooltip_Group.png';nI.$1['TQRC_MERGE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group@2x.png';nI.$1['TQRC_MERGE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active.png';nI.$1['TQRC_MERGE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active@2x.png';nI.$1['TQRC_VIEWDATA']='tableau-1.3/res/vizTooltips/Tooltip_ViewData.png';nI.$1['TQRC_VIEWDATA_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_ViewData_Active.png';nI.$1['TQRC_SORT_ASCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending.png';nI.$1['TQRC_SORT_ASCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending@2x.png';nI.$1['TQRC_SORT_ASCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending_Active.png';nI.$1['TQRC_SORT_ASCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending_Active@2x.png';nI.$1['TQRC_SORT_DESCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending.png';nI.$1['TQRC_SORT_DESCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending@2x.png';nI.$1['TQRC_SORT_DESCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending_Active.png';nI.$1['TQRC_SORT_DESCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending_Active@2x.png';nI.$1['TQRC_SPLIT']='tableau-1.3/res/vizTooltips/Tooltip_Split.png';nI.$1['TQRC_SPLIT_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split@2x.png';nI.$1['TQRC_SPLIT_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active.png';nI.$1['TQRC_SPLIT_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active@2x.png';nI.$1['TQRC_SHOWME_BIN']='tableau-1.3/res/showme/ShowMe_NumericBin.png';nI.$1['TQRC_SHOWME_BIN_2X']='tableau-1.3/res/showme/ShowMe_NumericBin@2x.png';nI.$1['TQRC_SHOWME_SUGGESTED']='tableau-1.3/res/showme/ShowMe_Check.png';nI.$1['TQRC_SHOWME_SUGGESTED_2X']='tableau-1.3/res/showme/ShowMe_Check@2x.png';nI.$1['TQRC_SHOWME_CLOSE']='tableau-1.3/res/showme/ShowMe_Close.png';nI.$1['TQRC_SHOWME_CLOSE_2X']='tableau-1.3/res/showme/ShowMe_Close@2x.png';nI.$1['TQRC_SHOWME_CLOSE_PRESS']='tableau-1.3/res/showme/ShowMe_Close_Active.png';nI.$1['TQRC_SHOWME_CLOSE_PRESS_2X']='tableau-1.3/res/showme/ShowMe_Close_Active@2x.png';nI.$1['TQRC_SHOWME_DATE']='tableau-1.3/res/showme/ShowMe_Date.png';nI.$1['TQRC_SHOWME_DATE_2X']='tableau-1.3/res/showme/ShowMe_Date@2x.png';nI.$1['TQRC_SHOWME_GEO']='tableau-1.3/res/showme/ShowMe_Geo.png';nI.$1['TQRC_SHOWME_GEO_2X']='tableau-1.3/res/showme/ShowMe_Geo@2x.png';nI.$1['TQRC_SHOWME_AREAMEAS']='tableau-1.3/res/showme/ShowMe_AreaContinuous.png';nI.$1['TQRC_SHOWME_AREADIM']='tableau-1.3/res/showme/ShowMe_AreaDiscrete.png';nI.$1['TQRC_SHOWME_FILLEDMAPS']='tableau-1.3/res/showme/ShowMe_AreaMap.png';nI.$1['TQRC_SHOWME_BOXPLOT']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker.png';nI.$1['TQRC_SHOWME_BUBBLE']='tableau-1.3/res/showme/ShowMe_Bubble.png';nI.$1['TQRC_SHOWME_BULLET']='tableau-1.3/res/showme/ShowMe_Bullet.png';nI.$1['TQRC_SHOWME_CIRCLE']='tableau-1.3/res/showme/ShowMe_Circles.png';nI.$1['TQRC_SHOWME_BARLINE']='tableau-1.3/res/showme/ShowMe_DualCombination.png';nI.$1['TQRC_SHOWME_DUALLINE']='tableau-1.3/res/showme/ShowMe_DualLine.png';nI.$1['TQRC_SHOWME_GANTT']='tableau-1.3/res/showme/ShowMe_Gantt.png';nI.$1['TQRC_SHOWME_HEATMAP']='tableau-1.3/res/showme/ShowMe_HeatMap.png';nI.$1['TQRC_SHOWME_SPOTTABLE']='tableau-1.3/res/showme/ShowMe_HighlightTable.png';nI.$1['TQRC_SHOWME_HISTOGRAM']='tableau-1.3/res/showme/ShowMe_Histogram.png';nI.$1['TQRC_SHOWME_BARHORIZONTAL']='tableau-1.3/res/showme/ShowMe_HorizontalBars.png';nI.$1['TQRC_SHOWME_LINEMEAS']='tableau-1.3/res/showme/ShowMe_LinesContinuous.png';nI.$1['TQRC_SHOWME_LINEDIM']='tableau-1.3/res/showme/ShowMe_LinesDiscrete.png';nI.$1['TQRC_SHOWME_PIES']='tableau-1.3/res/showme/ShowMe_Pie.png';nI.$1['TQRC_SHOWME_SCATSING']='tableau-1.3/res/showme/ShowMe_Scatter.png';nI.$1['TQRC_SHOWME_BARSIDEBY']='tableau-1.3/res/showme/ShowMe_SideBySideBars.png';nI.$1['TQRC_SHOWME_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/ShowMe_SideBySideCircles.png';nI.$1['TQRC_SHOWME_BARSTACKED']='tableau-1.3/res/showme/ShowMe_StackedBars.png';nI.$1['TQRC_SHOWME_MAPS']='tableau-1.3/res/showme/ShowMe_SymbolMap.png';nI.$1['TQRC_SHOWME_TEXTTABLE']='tableau-1.3/res/showme/ShowMe_TextTable.png';nI.$1['TQRC_SHOWME_TREEMAP']='tableau-1.3/res/showme/ShowMe_TreeMap.png';nI.$1['TQRC_SHOWME_AREAMEAS_2X']='tableau-1.3/res/showme/ShowMe_AreaContinuous@2x.png';nI.$1['TQRC_SHOWME_AREADIM_2X']='tableau-1.3/res/showme/ShowMe_AreaDiscrete@2x.png';nI.$1['TQRC_SHOWME_FILLEDMAPS_2X']='tableau-1.3/res/showme/ShowMe_AreaMap@2x.png';nI.$1['TQRC_SHOWME_BOXPLOT_2X']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker@2x.png';nI.$1['TQRC_SHOWME_BUBBLE_2X']='tableau-1.3/res/showme/ShowMe_Bubble@2x.png';nI.$1['TQRC_SHOWME_BULLET_2X']='tableau-1.3/res/showme/ShowMe_Bullet@2x.png';nI.$1['TQRC_SHOWME_CIRCLE_2X']='tableau-1.3/res/showme/ShowMe_Circles@2x.png';nI.$1['TQRC_SHOWME_BARLINE_2X']='tableau-1.3/res/showme/ShowMe_DualCombination@2x.png';nI.$1['TQRC_SHOWME_DUALLINE_2X']='tableau-1.3/res/showme/ShowMe_DualLine@2x.png';nI.$1['TQRC_SHOWME_GANTT_2X']='tableau-1.3/res/showme/ShowMe_Gantt@2x.png';nI.$1['TQRC_SHOWME_HEATMAP_2X']='tableau-1.3/res/showme/ShowMe_HeatMap@2x.png';nI.$1['TQRC_SHOWME_SPOTTABLE_2X']='tableau-1.3/res/showme/ShowMe_HighlightTable@2x.png';nI.$1['TQRC_SHOWME_HISTOGRAM_2X']='tableau-1.3/res/showme/ShowMe_Histogram@2x.png';nI.$1['TQRC_SHOWME_BARHORIZONTAL_2X']='tableau-1.3/res/showme/ShowMe_HorizontalBars@2x.png';nI.$1['TQRC_SHOWME_LINEDIM_2X']='tableau-1.3/res/showme/ShowMe_LinesDiscrete@2x.png';nI.$1['TQRC_SHOWME_LINEMEAS_2X']='tableau-1.3/res/showme/ShowMe_LinesContinuous@2x.png';nI.$1['TQRC_SHOWME_PIES_2X']='tableau-1.3/res/showme/ShowMe_Pie@2x.png';nI.$1['TQRC_SHOWME_SCATSING_2X']='tableau-1.3/res/showme/ShowMe_Scatter@2x.png';nI.$1['TQRC_SHOWME_BARSIDEBY_2X']='tableau-1.3/res/showme/ShowMe_SideBySideBars@2x.png';nI.$1['TQRC_SHOWME_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/ShowMe_SideBySideCircles@2x.png';nI.$1['TQRC_SHOWME_BARSTACKED_2X']='tableau-1.3/res/showme/ShowMe_StackedBars@2x.png';nI.$1['TQRC_SHOWME_MAPS_2X']='tableau-1.3/res/showme/ShowMe_SymbolMap@2x.png';nI.$1['TQRC_SHOWME_TEXTTABLE_2X']='tableau-1.3/res/showme/ShowMe_TextTable@2x.png';nI.$1['TQRC_SHOWME_TREEMAP_2X']='tableau-1.3/res/showme/ShowMe_TreeMap@2x.png';nI.$1['TQRC_SHOWME_1_BARSTACKED']='tableau-1.3/res/showme/enabled/BarStacked.png';nI.$1['TQRC_SHOWME_1_BARSIDEBY']='tableau-1.3/res/showme/enabled/BarSideBySide.png';nI.$1['TQRC_SHOWME_1_BARHORIZONTAL']='tableau-1.3/res/showme/enabled/BarHorizontal.png';nI.$1['TQRC_SHOWME_1_BARLINE']='tableau-1.3/res/showme/enabled/BarLine.png';nI.$1['TQRC_SHOWME_1_CIRCLE']='tableau-1.3/res/showme/enabled/Circle.png';nI.$1['TQRC_SHOWME_1_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/enabled/CircleSideBySide.png';nI.$1['TQRC_SHOWME_1_GANTT']='tableau-1.3/res/showme/enabled/Gantt.png';nI.$1['TQRC_SHOWME_1_HEATMAP']='tableau-1.3/res/showme/enabled/HeatMap.png';nI.$1['TQRC_SHOWME_1_HISTOGRAM']='tableau-1.3/res/showme/enabled/Histogram.png';nI.$1['TQRC_SHOWME_1_LINEDIM']='tableau-1.3/res/showme/enabled/LineDimension.png';nI.$1['TQRC_SHOWME_1_LINEMEAS']='tableau-1.3/res/showme/enabled/LineMeasure.png';nI.$1['TQRC_SHOWME_1_AREAMEAS']='tableau-1.3/res/showme/enabled/FilledLineContinuous.png';nI.$1['TQRC_SHOWME_1_AREADIM']='tableau-1.3/res/showme/enabled/FilledLineDiscrete.png';nI.$1['TQRC_SHOWME_1_SCATSING']='tableau-1.3/res/showme/enabled/ScatterSingle.png';nI.$1['TQRC_SHOWME_1_TEXTTABLE']='tableau-1.3/res/showme/enabled/TextTable.png';nI.$1['TQRC_SHOWME_1_SPOTTABLE']='tableau-1.3/res/showme/enabled/SpotTable.png';nI.$1['TQRC_SHOWME_1_MAPS']='tableau-1.3/res/showme/enabled/Maps.png';nI.$1['TQRC_SHOWME_1_FILLEDMAPS']='tableau-1.3/res/showme/enabled/FilledMaps.png';nI.$1['TQRC_SHOWME_1_PIES']='tableau-1.3/res/showme/enabled/Pies.png';nI.$1['TQRC_SHOWME_1_DUALLINE']='tableau-1.3/res/showme/enabled/DualAxis.png';nI.$1['TQRC_SHOWME_1_BULLET']='tableau-1.3/res/showme/enabled/Bullet.png';nI.$1['TQRC_SHOWME_1_TREEMAP']='tableau-1.3/res/showme/enabled/Treemap.png';nI.$1['TQRC_SHOWME_1_BUBBLE']='tableau-1.3/res/showme/enabled/Bubble.png';nI.$1['TQRC_SHOWME_1_BOXPLOT']='tableau-1.3/res/showme/enabled/Boxplot.png';nI.$1['TQRC_SHOWME_1_BARSTACKED_2X']='tableau-1.3/res/showme/enabled/BarStacked@2x.png';nI.$1['TQRC_SHOWME_1_BARSIDEBY_2X']='tableau-1.3/res/showme/enabled/BarSideBySide@2x.png';nI.$1['TQRC_SHOWME_1_BARHORIZONTAL_2X']='tableau-1.3/res/showme/enabled/BarHorizontal@2x.png';nI.$1['TQRC_SHOWME_1_BARLINE_2X']='tableau-1.3/res/showme/enabled/BarLine@2x.png';nI.$1['TQRC_SHOWME_1_CIRCLE_2X']='tableau-1.3/res/showme/enabled/Circle@2x.png';nI.$1['TQRC_SHOWME_1_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/enabled/CircleSideBySide@2x.png';nI.$1['TQRC_SHOWME_1_GANTT_2X']='tableau-1.3/res/showme/enabled/Gantt@2x.png';nI.$1['TQRC_SHOWME_1_HEATMAP_2X']='tableau-1.3/res/showme/enabled/HeatMap@2x.png';nI.$1['TQRC_SHOWME_1_HISTOGRAM_2X']='tableau-1.3/res/showme/enabled/Histogram@2x.png';nI.$1['TQRC_SHOWME_1_LINEDIM_2X']='tableau-1.3/res/showme/enabled/LineDimension@2x.png';nI.$1['TQRC_SHOWME_1_LINEMEAS_2X']='tableau-1.3/res/showme/enabled/LineMeasure@2x.png';nI.$1['TQRC_SHOWME_1_AREAMEAS_2X']='tableau-1.3/res/showme/enabled/FilledLineContinuous@2x.png';nI.$1['TQRC_SHOWME_1_AREADIM_2X']='tableau-1.3/res/showme/enabled/FilledLineDiscrete@2x.png';nI.$1['TQRC_SHOWME_1_SCATSING_2X']='tableau-1.3/res/showme/enabled/ScatterSingle@2x.png';nI.$1['TQRC_SHOWME_1_TEXTTABLE_2X']='tableau-1.3/res/showme/enabled/TextTable@2x.png';nI.$1['TQRC_SHOWME_1_SPOTTABLE_2X']='tableau-1.3/res/showme/enabled/SpotTable@2x.png';nI.$1['TQRC_SHOWME_1_MAPS_2X']='tableau-1.3/res/showme/enabled/Maps@2x.png';nI.$1['TQRC_SHOWME_1_FILLEDMAPS_2X']='tableau-1.3/res/showme/enabled/FilledMaps@2x.png';nI.$1['TQRC_SHOWME_1_PIES_2X']='tableau-1.3/res/showme/enabled/Pies@2x.png';nI.$1['TQRC_SHOWME_1_DUALLINE_2X']='tableau-1.3/res/showme/enabled/DualAxis@2x.png';nI.$1['TQRC_SHOWME_1_BULLET_2X']='tableau-1.3/res/showme/enabled/Bullet@2x.png';nI.$1['TQRC_SHOWME_1_TREEMAP_2X']='tableau-1.3/res/showme/enabled/Treemap@2x.png';nI.$1['TQRC_SHOWME_1_BUBBLE_2X']='tableau-1.3/res/showme/enabled/Bubble@2x.png';nI.$1['TQRC_SHOWME_1_BOXPLOT_2X']='tableau-1.3/res/showme/enabled/Boxplot@2x.png';nI.$1['TQRC_SHOWME_0_BARSTACKED']='tableau-1.3/res/showme/disabled/BarStacked.png';nI.$1['TQRC_SHOWME_0_BARSIDEBY']='tableau-1.3/res/showme/disabled/BarSideBySide.png';nI.$1['TQRC_SHOWME_0_BARHORIZONTAL']='tableau-1.3/res/showme/disabled/BarHorizontal.png';nI.$1['TQRC_SHOWME_0_BARLINE']='tableau-1.3/res/showme/disabled/BarLine.png';nI.$1['TQRC_SHOWME_0_CIRCLE']='tableau-1.3/res/showme/disabled/Circle.png';nI.$1['TQRC_SHOWME_0_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/disabled/CircleSideBySide.png';nI.$1['TQRC_SHOWME_0_GANTT']='tableau-1.3/res/showme/disabled/Gantt.png';nI.$1['TQRC_SHOWME_0_HEATMAP']='tableau-1.3/res/showme/disabled/HeatMap.png';nI.$1['TQRC_SHOWME_0_HISTOGRAM']='tableau-1.3/res/showme/disabled/Histogram.png';nI.$1['TQRC_SHOWME_0_LINEDIM']='tableau-1.3/res/showme/disabled/LineDimension.png';nI.$1['TQRC_SHOWME_0_LINEMEAS']='tableau-1.3/res/showme/disabled/LineMeasure.png';nI.$1['TQRC_SHOWME_0_AREAMEAS']='tableau-1.3/res/showme/disabled/FilledLineContinuous.png';nI.$1['TQRC_SHOWME_0_AREADIM']='tableau-1.3/res/showme/disabled/FilledLineDiscrete.png';nI.$1['TQRC_SHOWME_0_SCATSING']='tableau-1.3/res/showme/disabled/ScatterSingle.png';nI.$1['TQRC_SHOWME_0_TEXTTABLE']='tableau-1.3/res/showme/disabled/TextTable.png';nI.$1['TQRC_SHOWME_0_SPOTTABLE']='tableau-1.3/res/showme/disabled/SpotTable.png';nI.$1['TQRC_SHOWME_0_MAPS']='tableau-1.3/res/showme/disabled/Maps.png';nI.$1['TQRC_SHOWME_0_FILLEDMAPS']='tableau-1.3/res/showme/disabled/FilledMaps.png';nI.$1['TQRC_SHOWME_0_PIES']='tableau-1.3/res/showme/disabled/Pies.png';nI.$1['TQRC_SHOWME_0_DUALLINE']='tableau-1.3/res/showme/disabled/DualAxis.png';nI.$1['TQRC_SHOWME_0_BULLET']='tableau-1.3/res/showme/disabled/Bullet.png';nI.$1['TQRC_SHOWME_0_TREEMAP']='tableau-1.3/res/showme/disabled/Treemap.png';nI.$1['TQRC_SHOWME_0_BUBBLE']='tableau-1.3/res/showme/disabled/Bubble.png';nI.$1['TQRC_SHOWME_0_BOXPLOT']='tableau-1.3/res/showme/disabled/Boxplot.png';nI.$1['TQRC_SHOWME_0_BARSTACKED_2X']='tableau-1.3/res/showme/disabled/BarStacked@2x.png';nI.$1['TQRC_SHOWME_0_BARSIDEBY_2X']='tableau-1.3/res/showme/disabled/BarSideBySide@2x.png';nI.$1['TQRC_SHOWME_0_BARHORIZONTAL_2X']='tableau-1.3/res/showme/disabled/BarHorizontal@2x.png';nI.$1['TQRC_SHOWME_0_BARLINE_2X']='tableau-1.3/res/showme/disabled/BarLine@2x.png';nI.$1['TQRC_SHOWME_0_CIRCLE_2X']='tableau-1.3/res/showme/disabled/Circle@2x.png';nI.$1['TQRC_SHOWME_0_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/disabled/CircleSideBySide@2x.png';nI.$1['TQRC_SHOWME_0_GANTT_2X']='tableau-1.3/res/showme/disabled/Gantt@2x.png';nI.$1['TQRC_SHOWME_0_HEATMAP_2X']='tableau-1.3/res/showme/disabled/HeatMap@2x.png';nI.$1['TQRC_SHOWME_0_HISTOGRAM_2X']='tableau-1.3/res/showme/disabled/Histogram@2x.png';nI.$1['TQRC_SHOWME_0_LINEDIM_2X']='tableau-1.3/res/showme/disabled/LineDimension@2x.png';nI.$1['TQRC_SHOWME_0_LINEMEAS_2X']='tableau-1.3/res/showme/disabled/LineMeasure@2x.png';nI.$1['TQRC_SHOWME_0_AREAMEAS_2X']='tableau-1.3/res/showme/disabled/FilledLineContinuous@2x.png';nI.$1['TQRC_SHOWME_0_AREADIM_2X']='tableau-1.3/res/showme/disabled/FilledLineDiscrete@2x.png';nI.$1['TQRC_SHOWME_0_SCATSING_2X']='tableau-1.3/res/showme/disabled/ScatterSingle@2x.png';nI.$1['TQRC_SHOWME_0_TEXTTABLE_2X']='tableau-1.3/res/showme/disabled/TextTable@2x.png';nI.$1['TQRC_SHOWME_0_SPOTTABLE_2X']='tableau-1.3/res/showme/disabled/SpotTable@2x.png';nI.$1['TQRC_SHOWME_0_MAPS_2X']='tableau-1.3/res/showme/disabled/Maps@2x.png';nI.$1['TQRC_SHOWME_0_FILLEDMAPS_2X']='tableau-1.3/res/showme/disabled/FilledMaps@2x.png';nI.$1['TQRC_SHOWME_0_PIES_2X']='tableau-1.3/res/showme/disabled/Pies@2x.png';nI.$1['TQRC_SHOWME_0_DUALLINE_2X']='tableau-1.3/res/showme/disabled/DualAxis@2x.png';nI.$1['TQRC_SHOWME_0_BULLET_2X']='tableau-1.3/res/showme/disabled/Bullet@2x.png';nI.$1['TQRC_SHOWME_0_TREEMAP_2X']='tableau-1.3/res/showme/disabled/Treemap@2x.png';nI.$1['TQRC_SHOWME_0_BUBBLE_2X']='tableau-1.3/res/showme/disabled/Bubble@2x.png';nI.$1['TQRC_SHOWME_0_BOXPLOT_2X']='tableau-1.3/res/showme/disabled/Boxplot@2x.png';nI.$1['TQRC_ANALYTICSPANE_DROP_TABLE']='tableau-1.3/res/analyticspane/drop/table.png';nI.$1['TQRC_ANALYTICSPANE_DROP_PANE']='tableau-1.3/res/analyticspane/drop/pane.png';nI.$1['TQRC_ANALYTICSPANE_DROP_CELL']='tableau-1.3/res/analyticspane/drop/cell.png';nI.$1['TQRC_ANALYTICSPANE_DROP_LINEAR']='tableau-1.3/res/analyticspane/drop/trend-linear.png';nI.$1['TQRC_ANALYTICSPANE_DROP_POLY']='tableau-1.3/res/analyticspane/drop/trend-polynomial.png';nI.$1['TQRC_ANALYTICSPANE_DROP_POWER']='tableau-1.3/res/analyticspane/drop/trend-power.png';nI.$1['TQRC_ANALYTICSPANE_DROP_LOG']='tableau-1.3/res/analyticspane/drop/trend-logarithmic.png';nI.$1['TQRC_ANALYTICSPANE_DROP_EXP']='tableau-1.3/res/analyticspane/drop/trend-exponential.png';nI.$1['TQRC_ANALYTICSPANE_DROP_SUBTOTAL']='tableau-1.3/res/analyticspane/drop/sub-total.png';nI.$1['TQRC_ANALYTICSPANE_DROP_COLUMN']='tableau-1.3/res/analyticspane/drop/column-total.png';nI.$1['TQRC_ANALYTICSPANE_DROP_ROW']='tableau-1.3/res/analyticspane/drop/row-total.png';nI.$1['TQRC_ANALYTICSPANE_DROP_FORECAST']='tableau-1.3/res/analyticspane/drop/forecast.png';nI.$1['TQRC_ANALYTICSPANE_DROP_CLUSTER']='tableau-1.3/res/analyticspane/drop/cluster.png';nI.$1['TQRC_ANALYTICSPANE_DROP_OUTLIER']='tableau-1.3/res/analyticspane/drop/outliers.png';nI.$1['TQRC_ANALYTICSPANE_REFLINE']='tableau-1.3/res/analyticspane/refline.png';nI.$1['TQRC_ANALYTICSPANE_REFBAND']='tableau-1.3/res/analyticspane/refband.png';nI.$1['TQRC_ANALYTICSPANE_DISTBAND']='tableau-1.3/res/analyticspane/distband.png';nI.$1['TQRC_ANALYTICSPANE_BOXPLOT']='tableau-1.3/res/analyticspane/boxplot.png';nI.$1['TQRC_ANALYTICSPANE_TOTAL']='tableau-1.3/res/analyticspane/total.png';nI.$1['TQRC_ANALYTICSPANE_TRENDLINE']='tableau-1.3/res/analyticspane/trendline.png';nI.$1['TQRC_ANALYTICSPANE_95ANDMEDIAN']='tableau-1.3/res/analyticspane/95andmedian.png';nI.$1['TQRC_ANALYTICSPANE_FORECAST']='tableau-1.3/res/analyticspane/forecast.png';nI.$1['TQRC_ANALYTICSPANE_CLUSTER']='tableau-1.3/res/analyticspane/cluster.png';nI.$1['TQRC_SDI_DASHBOARD']='tableau-1.3/res/icons/action-source-dest-dashboard.png';nI.$1['TQRC_SDI_STORY']='tableau-1.3/res/icons/action-source-dest-story.png';nI.$1['TQRC_SDI_WORKSHEET']='tableau-1.3/res/icons/action-source-dest-worksheet.png'})();(function(){cG.$0='granted'})();(function(){cS.cmdId={ns:'tabdoc',cmd:'convert-to-floating-zone'}})();(function(){cU.cmdId={ns:'tabdoc',cmd:'copy-temp-file-to-session-specific-storage'}})();(function(){cW.cmdId={ns:'tabdoc',cmd:'create-and-establish-connection'}})();(function(){da.cmdId={ns:'tabdoc',cmd:'create-data-source-from-file-upload'}})();(function(){dc.normal='normal';dc.italic='italic';dc.oblique='oblique';dc.initial='initial';dc.inherit='inherit'})();(function(){dd.normal='normal';dd.bold='bold'})();(function(){dq.$8='get_customized_view';dq.$9='get_customized_views';dq.$b='set_default_customized_view';dq.$7='destroy_customized_view';dq.$a='save_customized_view';dq.$c='update_customized_view'})();(function(){kw.$0=null})();(function(){gl.cmdId={ns:'tabdoc',cmd:'get-button-config-dialog'}})();(function(){dt.$1='get-button-config-dialog'})();(function(){eO.cmdId={ns:'tabdoc',cmd:'drop-on-dashboard'}})();(function(){nf.cmdId={ns:'tabdoc',cmd:'show-image-object-config-dialog'}})();(function(){mV.cmdId={ns:'tabdoc',cmd:'show-action-list-dialog-for-dashboard'}})();(function(){mX.cmdId={ns:'tabdoc',cmd:'show-action-list-dialog-for-worksheet'}})();(function(){mA.cmdId={ns:'tabdoc',cmd:'set-dashboard-current-layout'}})();(function(){mE.cmdId={ns:'tabdoc',cmd:'set-is-device-preview-visible'}})();(function(){el.cmdId={ns:'tabdoc',cmd:'delete-dashboard-layout'}})();(function(){jO.cmdId={ns:'tabdoc',cmd:'new-dashboard-layout'}})();(function(){nM.cmdId={ns:'tabdoc',cmd:'toggle-automatic-layout-mode'}})();(function(){iR.cmdId={ns:'tabdoc',cmd:'launch-use-custom-layout-dialog'}})();(function(){gs.cmdId={ns:'tabdoc',cmd:'get-dashboard-drag-drop'}})();(function(){he.cmdId={ns:'tabdoc',cmd:'get-thumbnail'}})();(function(){lm.cmdId={ns:'tabdoc',cmd:'reset-dashboard-current-layout'}})();(function(){lo.cmdId={ns:'tabdoc',cmd:'reset-dashboard-current-layout-sizing'}})();(function(){eX.cmdId={ns:'tabdoc',cmd:'edit-dashboard-device-layout'}})();(function(){gu.cmdId={ns:'tabdoc',cmd:'get-dashboard-preview-port-size'}})();(function(){ld.cmdId={ns:'tabdoc',cmd:'remove-zone-from-device-layout'}})();(function(){dB.cmdId={ns:'tabdoc',cmd:'dashboard-show-grid'}})();(function(){dz.cmdId={ns:'tabdoc',cmd:'dashboard-set-grid-size'}})();(function(){gw.cmdId={ns:'tabdoc',cmd:'get-dashboard-sizing'}})();(function(){mC.cmdId={ns:'tabdoc',cmd:'set-dashboard-sizing-with-validation'}})();(function(){mZ.cmdId={ns:'tabdoc',cmd:'show-dashboard-title'}})();(function(){hg.cmdId={ns:'tabdoc',cmd:'get-url-substitution-keywords'}})();(function(){ib.cmdId={ns:'tabdoc',cmd:'is-web-zone-url-valid'}})();(function(){dD.cmdId={ns:'tabdoc',cmd:'dashboard-show-grid-web-wrapper'}})();(function(){oY.get_instance().registerCommand(dD.cmdId,dF)})();(function(){nt.cmdId={ns:'tabdoc',cmd:'start-new-data-alert'}})();(function(){on.cmdId={ns:'tabdoc',cmd:'update-data-alert'}})();(function(){gA.cmdId={ns:'tabdoc',cmd:'get-data-alert-info'}})();(function(){gy.cmdId={ns:'tabdoc',cmd:'get-data-alert-condition-info-map'}})();(function(){fh.cmdId={ns:'tabdoc',cmd:'evaluate-data-alert'}})();(function(){bd.get_holder().addEventBinding(function(e){e.addModel(dM).call(e)},function(e){e.removeModel(dM).call(e)})})();(function(){dN.everyTime=0;dN.hourly=60;dN.daily=60*24;dN.weekly=1440*7;dN.onlyOnce=2147483647;var e={};e[0]=tab.Strings.NotificationIntervalEveryTime;e[60]=tab.Strings.NotificationIntervalHourly;e[1440]=tab.Strings.NotificationIntervalDaily;e[10080]=tab.Strings.NotificationIntervalWeekly;e[2147483647]=tab.Strings.NotificationIntervalOnlyOnce;dN.$1=e})();(function(){eg.$0=null})();(function(){ku.dialogApiContract=null;ku.hybridWidgetsContract=null;ku.menuApiContract=null;ku.stylingComponentsContract=null;ku.dialogApiContract=jH.registerRawJsModule('@tableau/dialog-api-contract','dialog-api-contract-web.min','dialog-api-contract-web').andLoadOnDemandIf(true).moduleBeingConfigured;ku.menuApiContract=jH.registerRawJsModule('@tableau/menu-api-contract','menu-api-contract-web.min','menu-api-contract-web').andLoadOnDemandIf(true).moduleBeingConfigured;if(tsConfig.is_desktop){ku.hybridWidgetsContract=jH.registerRawJsModule('@tableau/hybrid-widgets-contract','hybrid-widgets-web.min','hybrid-widgets-web').andMarkAsAlreadyLoadedInGlobalNamespace().andExportResultAs('HybridWidgets').moduleBeingConfigured}else{ku.hybridWidgetsContract=jH.registerRawJsModule('@tableau/hybrid-widgets-contract','hybrid-widgets-web.min','hybrid-widgets-web').andLoadOnDemandIf(true).andExportResultAs('HybridWidgets').moduleBeingConfigured}ku.stylingComponentsContract=jH.registerRawJsModule('@tableau/styling-components-contract','styling-components-contract-web.min','styling-components-contract-web').andLoadOnDemandIf(true).moduleBeingConfigured})();(function(){ew.$2=null;ew.$2=ew.$0();var e=new ew(null,null)})();(function(){ez.cmdId={ns:'tabdoc',cmd:'display-data-alert'}})();(function(){eB.cmdId={ns:'tabsrv',cmd:'double-click-region-no-return-server'}})();(function(){eF.cmdId={ns:'tabdoc',cmd:'download-as-version'}})();(function(){pe.$3='vud';pe.$2='scrollbars,resizable'})();(function(){oz.$1=null;if(tsConfig.is_desktop){oz.$1=eo.create}else{bd.get_holder().addEventBinding(function(e){e.registerNotificationHandler('doc:view-selected-data-event',pe.handleViewData)},function(e){});oz.$1=pe.create}})();(function(){bd.get_instance().registerNotificationHandler('doc:file-download-notification_old-event',fk.$3);bd.get_instance().registerNotificationHandler('doc:export-file-notification-event',fk.$2)})();(function(){nV.$2=new RegExp('^https?://[^/]+(.*)$')})();(function(){oY.get_instance().registerCommand(eF.cmdId,eH)})();(function(){bd.get_instance().registerNotificationHandler('doc:file-download-notification-event',eI.$0)})();(function(){eJ.cmdId={ns:'tabdoc',cmd:'download-workbook'}})();(function(){eQ.cmdId={ns:'tabdoc',cmd:'drop-on-schema-drill-path'}})();(function(){eS.cmdId={ns:'tabdoc',cmd:'drop-on-schema-field'}})();(function(){eU.cmdId={ns:'tabdoc',cmd:'drop-on-schema-section'}})();(function(){eZ.cmdId={ns:'tabdoc',cmd:'edit-object-caption'}})();(function(){fd.cmdId={ns:'tabdoc',cmd:'establish-connection'}})();(function(){ff.cmdId={ns:'tabdoc',cmd:'establish-connection-no-undo'}})();(function(){mf.cmdId={ns:'tabdoc',cmd:'select-extension-and-add-to-dashboard'}})();(function(){iN.cmdId={ns:'tabdoc',cmd:'launch-permissions-prompt'}})();(function(){ek.registerHandler('doc:permissions-update-event',fp.$0)})();(function(){fH.$1=null;fH.$0='Authoring_DataTab_FileUpload_'})();(function(){gh.cmdId={ns:'tabdoc',cmd:'get-alert-measures-from-selection'}})();(function(){gj.cmdId={ns:'tabdoc',cmd:'get-athena-service-url'}})();(function(){gp.cmdId={ns:'tabdoc',cmd:'get-connection-settings-pres-model'}})();(function(){gC.cmdId={ns:'tabdoc',cmd:'get-data-highlighter-menu'}})();(function(){gG.cmdId={ns:'tabdoc',cmd:'get-drop-field-aggregations'}})();(function(){gK.cmdId={ns:'tabdoc',cmd:'get-file-connection-file-list'}})();(function(){gM.cmdId={ns:'tabdoc',cmd:'get-has-unused-files'}})();(function(){gO.cmdId={ns:'tabdoc',cmd:'get-legend-menu'}})();(function(){gQ.cmdId={ns:'tabdoc',cmd:'get-page-card-menu'}})();(function(){gS.cmdId={ns:'tabdoc',cmd:'get-parameter-control-menu'}})();(function(){gW.cmdId={ns:'tabdoc',cmd:'get-selection'}})();(function(){gY.cmdId={ns:'tabdoc',cmd:'get-selection-info'}})();(function(){hi.cmdId={ns:'tabdoc',cmd:'get-web-categorical-color-dialog'}})();(function(){hk.cmdId={ns:'tabdoc',cmd:'get-web-quantitative-color-dialog'}})();(function(){hm.cmdId={ns:'tabdoc',cmd:'group-all-selected-zones'}})();(function(){hr.cmdId={ns:'tabdoc',cmd:'has-user-specific-active-sheet'}})();(function(){ht.cmdId={ns:'tabdoc',cmd:'highlight-items-by-pattern-match'}})();(function(){hy.cmdId={ns:'tabdoc',cmd:'hit-test-scene'}})();(function(){hB.hybridWidgetContractModuleGlobalExportName='HybridWidgets';hB.$1='@tableau/hybrid-widgets-contract';hB.$2='Instance'})();(function(){KeyboardShortcuts.KeyboardShortcutManager.UpdateConfig({isDebug:tsConfig.debugMode,userPreferredLocale:tsConfig.locale})})();(function(){im.cmdId={ns:'tabdoc',cmd:'launch-alternative-federation-engine-dialog'}})();(function(){ip.cmdId={ns:'tabdoc',cmd:'launch-annotation-rich-text-editor'}})();(function(){ir.cmdId={ns:'tabdoc',cmd:'launch-authoring'}})();(function(){oY.get_instance().registerCommand(ir.cmdId,iu)})();(function(){iv.cmdId={ns:'tabdoc',cmd:'launch-custom-sql-dialog'}})();(function(){ix.cmdId={ns:'tabdoc',cmd:'launch-custom-tooltip-rich-text-editor'}})();(function(){iz.cmdId={ns:'tabdoc',cmd:'launch-highlighter-title-rich-text-editor'}})();(function(){iB.cmdId={ns:'tabdoc',cmd:'launch-initial-sql-dialog'}})();(function(){iD.cmdId={ns:'tabdoc',cmd:'launch-legend-title-rich-text-editor'}})();(function(){iF.cmdId={ns:'tabdoc',cmd:'launch-mark-label-rich-text-editor'}})();(function(){iH.cmdId={ns:'tabdoc',cmd:'launch-modular-connection-dialog'}})();(function(){iJ.cmdId={ns:'tabdoc',cmd:'launch-page-card-title-rich-text-editor'}})();(function(){iL.cmdId={ns:'tabdoc',cmd:'launch-parameter-title-rich-text-editor'}})();(function(){iP.cmdId={ns:'tabdoc',cmd:'launch-quick-filter-title-rich-text-editor'}})();(function(){iT.cmdId={ns:'tabdoc',cmd:'launch-worksheet-caption-rich-text-editor'}})();(function(){iV.cmdId={ns:'tabdoc',cmd:'launch-worksheet-title-rich-text-editor'}})();(function(){iX.cmdId={ns:'tabdoc',cmd:'launch-zone-rich-text-editor'}})();(function(){jr.cmdId={ns:'tabdoc',cmd:'manual-sort-reorder-by-index'}})();(function(){ox.cmdId={ns:'tabdoc',cmd:'validate-schema-object-caption'}})();(function(){kx.$0=null})();(function(){jV.cmdId={ns:'tabdoc',cmd:'open-automated-insights-modal'}})();(function(){jX.cmdId={ns:'tabdoc',cmd:'open-explain-data-pane'}})();(function(){kf.currentPage=4294967295})();(function(){km.cmdId={ns:'tabdoc',cmd:'perform-tabbed-authentication'}})();(function(){oY.get_instance().registerCommand(km.cmdId,ko)})();(function(){kH.cmdId={ns:'tabdoc',cmd:'quick-sort'}})();(function(){kK.cmdId={ns:'tabdoc',cmd:'raise-connections-succeeded-notification'}})();(function(){oY.get_instance().registerCommand(kK.cmdId,kM)})();(function(){kN.cmdId={ns:'tabdoc',cmd:'raise-dialog-closed-notification'}})();(function(){oY.get_instance().registerCommand(kN.cmdId,kP)})();(function(){lf.cmdId={ns:'tabdoc',cmd:'remove-zone-from-group'}})();(function(){lh.cmdId={ns:'tabdoc',cmd:'replace-file-connection-from-file-upload'}})();(function(){lk.cmdId={ns:'tabdoc',cmd:'report-mapbox-params-failure'}})();(function(){lq.cmdId={ns:'tabdoc',cmd:'reset-field-caption'}})();(function(){lx.cmdId={ns:'tabdoc',cmd:'resize-header-region'}})();(function(){lG.$0='rich-text-editor'})();(function(){lR.shapeMapping=null;lR.reverseShapeMapping=null;lR.$2=null;lR.$1=null;lR.lineInterpolationMapping=null;lR.$2={};lR.$2['enable-pan-x']=1<<0;lR.$2['enable-pan-y']=1<<1;lR.$2['enable-zoom-x']=1<<2;lR.$2['enable-zoom-y']=1<<3;lR.$2['enable-scale-x']=1<<4;lR.$2['enable-scale-y']=1<<5;lR.$2['clip-to-cell-x']=1<<6;lR.$2['clip-to-cell-y']=1<<7;lR.$2['clip-to-cell-for-selection']=1<<8;lR.$2['x-axis-on-top']=1<<9;lR.$2['y-axis-on-right']=1<<10;lR.$2['has-cells-x']=1<<11;lR.$2['has-cells-y']=1<<12;lR.$2['is-hidden']=1<<13;lR.$2['is-inert']=1<<14;lR.$1={};lR.$1['end']=1<<0;lR.$1['endprimitive']=1<<1;lR.$1['closedprimitive']=1<<2;lR.$1['marked']=1<<3;lR.$1['markediflabel']=1<<4;lR.$1['debug']=1<<7;lR.$1['user']=1<<16;lR.shapeMapping=ss.mkdict(['0','shapeIDCircle','1','shapeIDSquare','2','shapeIDPlus','3','shapeIDTimes','4','shapeIDAsterisk','5','shapeIDDiamond','6','shapeIDTriangle','7','shapeIDDownTriangle','8','shapeIDLeftTriangle','9','shapeIDRightTriangle','4194304','shapeIDFilledCircle','4194305','shapeIDFilledSquare','4194306','shapeIDFilledPlus','4194307','shapeIDFilledTimes','4194308','shapeIDFilledStar','4194309','shapeIDFilledDiamond','4194310','shapeIDFilledTriangle','4194311','shapeIDFilledDownTriangle','4194312','shapeIDFilledLeftTriangle','4194313','shapeIDFilledRightTriangle','-4194304','shapeIDUnscaledFilledCircle']);lR.reverseShapeMapping={};var e=_.keys(lR.shapeMapping);for(var ex=0;ex<e.length;ex++){var pC=e[ex];lR.reverseShapeMapping[lR.shapeMapping[pC]]=pC}lR.lineInterpolationMapping=ss.mkdict(['0','lim-linear','1','lim-step','2','lim-jump'])})();(function(){lW.blackColor=null;var e=(new ct(0,0,0,1)).toRgba();lW.blackColor={};lW.blackColor['colorOverrideNone']=e;lW.blackColor['colorOverrideFog']=e;lW.blackColor['colorOverrideOpaque']=e})();(function(){lZ.$0();lZ.$1()})();(function(){ma.maxDatasourceCaptionLength=254})();(function(){mb.cmdId={ns:'tabdoc',cmd:'select-by-tuple-value'}})();(function(){mG.cmdId={ns:'tabdoc',cmd:'set-is-mobileapp-chrome-visible'}})();(function(){nb.cmdId={ns:'tabdoc',cmd:'show-edit-axis-dialog'}})();(function(){nd.cmdId={ns:'tabdoc',cmd:'show-field-editing-ui'}})();(function(){nh.cmdId={ns:'tabdoc',cmd:'show-trend-line-editor'}})();(function(){nn.cmdId={ns:'tabdoc',cmd:'sort-from-indicator'}})();(function(){nq.$c='SortingEvents';nq.$4='IndicatorType';nq.$5='RegionOrientation';nq.$6='RegionType';nq.$a='SortType';nq.$7='SortDirection';nq.$f='UseNestedSortForComparativeSort';nq.$b='EntryPoint';nq.$8='SortIndicator';nq.$9='SortIndicatorMenu';nq.$d='Toolbar';nq.$e='Unknown'})();(function(){nO.cmdId={ns:'tabdoc',cmd:'toggle-ind-join-semantics'}})();(function(){nQ.cmdId={ns:'tabdoc',cmd:'toggle-indjoin-semantics-wrapper'}})();(function(){of.$e=['<span style="white-space:pre"><div class="uberSelection"style="text-align:center;"><span>&nbsp;&nbsp;</span>','<span style="font-weight:bold;">','','</span><span> ','','  </span><span>','·','  </span><span>','',' </span><span>','','</span><span>',': ','</span><span style="font-weight:bold;">','','</span><span>&nbsp;&nbsp;','</span></div></span>'];of.$f=['<div class="uberSelection"style="text-align:center;"><span></span>','<span style="font-weight:bold;"> ','',' </span><span>','','</span><div> ']})();(function(){od.$8=kp.buildCommandPermission()})();(function(){og.cmdId={ns:'tabdoc',cmd:'ungroup-group-container'}})();(function(){oi.cmdId={ns:'tabdoc',cmd:'ungroup-layout-container'}})();(function(){ou.blockedTelemetryKey='BlockedMs';ou.elapsedModalGlassTelemetryKey='ElapsedModalGlassMs';ou.elapsedModalSpinnerTelemetryKey='ElapsedModalSpinnerMs';ou.waitFeedbackTypeTelemetryKey='WaitFeedbackType';ou.showFeedbackTelemetryKey='ShowFeedback';ou.$d='UserInteractionState';ou.$f='Window';ou.$e='Unblocked';ou.$c='Source';ou.$9='Event';ou.$8='UserInteractionState'+'BlockedMs';ou.$a='UserInteractionState'+'ElapsedModalGlassMs';ou.$b='UserInteractionState'+'ElapsedModalSpinnerMs';ou.$h=null;ou.$g=null;if(ss.isNullOrUndefined(window.performance)||!(typeof(window.performance['getEntriesByName'])==='function')){return}window.addEventListener('blur',function(){ou.$1('Window','Blur')});window.addEventListener('focus',function(){ou.$1('Window','Focus')});window.addEventListener('popstate',function(){ou.$1('Window','History')});window.addEventListener('hashchange',function(){ou.$1('Window','Hashchange')});window.addEventListener('load',function(){ou.$1('Window','Load')});window.addEventListener('beforeunload',function(){ou.$1('Window','Beforeunload')});window.addEventListener('unload',function(){ou.$1('Window','Unload')});oS.add_unblocked(function(){ou.$6('WaitHandler','Unblocked')});oS.add_blocked(ou.$3);oS.add_displayedModalGlass(ou.$4);oS.add_displayedModalSpinner(ou.$5)})();(function(){ov.cmdId={ns:'tabdoc',cmd:'validate-data-value'}})();(function(){var e=bd.get_instance();e.addModel(oT).call(e)})();(function(){oZ.cmdId={ns:'tabdoc',cmd:'web-edit-connection'}})();(function(){pc.cmdId={ns:'tabdoc',cmd:'web-rename-connection'}})()})();;
/*! BEGIN TableauRuntime */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'tabruntime');var b=ss.mkType(a,'tab.$0',function(e){this.$b=0;this.$9=0;this.$e=0;this.$a=new Array;this.$d=new Array;this.$7=new Array;this.$c=null;this.$8=null;this.$c=e;this.$a.push(true);this.$8={};this.$d.push(this.$8);this.$7.push([])},{$0:function(){var e=this.$c.data.opCodes.length;this.$e=0;while(this.$e<e){var dp=this.$c.data.opCodes[this.$e];if(3===dp){this.$3()}else{this.$1(dp)}++this.$e}if(b.$0){var dq=new tab.ReadOnlyProxy;this.$8=dq.instrument(this.$8)}return this.$8},$2:function(e){var dp=null;if(e===5){dp=this.$c.data.intBuffer[this.$b++]}else if(e===4){dp=this.$c.data.doubleBuffer[this.$9++]}else if(e===6){dp=true}else if(e===7){dp=false}var dq=[];var dr=this.$c.data.intBuffer[this.$b++];for(var ds=0;ds<dr;++ds){dq[ds]=dp}return dq},$3:function(){if(ss.arrayPeekBack(this.$a)){this.$d.pop()}else{this.$7.pop()}this.$a.pop()},$1:function(e){var dp=null;var dq='';var dr=ss.arrayPeekBack(this.$a);var ds=ss.arrayPeekBack(this.$d);var dt=ss.arrayPeekBack(this.$7);if(dr){var du=this.$c.data.intBuffer[this.$b++];if(du<0){dq=-du}else{dq=this.$c.stringTable[du]}}if(65===e){++this.$e;var dv=this.$c.data.opCodes[this.$e];dp=this.$2(dv)}else if(64===e){dp=this.$5()}else if(e>=32&&e<64){dp=this.$6(e)}else{dp=this.$4(e)}if(dr){ds[dq]=dp}else{dt.push(dp)}},$5:function(){var e=this.$c.data.intBuffer[this.$b++];var dp=this.$c.data.intBuffer[this.$b++];var dq=[];var dr;if(ss.isValue(this.$c.jabba)){dr=this.$c.jabba.unpacked[e]}else{dr=new Uint32Array(this.$c.heap,e,dp)}var ds=this.$c.stringTable;for(var dt=0;dt<dr.length;dt++){var du=dr[dt];dq.push(ds[du])}return dq},$6:function(e){var dp=this.$c.data.intBuffer[this.$b++];var dq=this.$c.data.intBuffer[this.$b++];if(ss.isValue(this.$c.jabba)){return this.$c.jabba.unpacked[dp]}else{return bc.getMappedArray(e,this.$c.heap,dp,dq)}},$4:function(e){switch(e){case 1:{this.$a.push(true);this.$d.push({});return ss.arrayPeekBack(this.$d)}case 2:{this.$a.push(false);this.$7.push([]);return ss.arrayPeekBack(this.$7)}case 4:{return this.$c.data.doubleBuffer[this.$9++]}case 5:{return this.$c.data.intBuffer[this.$b++]}case 6:{return true}case 7:{return false}case 8:{return this.$c.stringTable[this.$c.data.intBuffer[this.$b++]]}case 9:{return null}}throw new ss.Exception('Invalid OpCode: '+e.toString())}});var c=ss.mkType(a,'tab.$1',null,null,{$0:function(e,dp){var dq=new Object;dq.type=null;dq.value=null;dq.type=e;dq.value=dp;return dq},isInstanceOfType:function(){return true}});var d=global.tab.AdjustAxisRangeOutputTableKeys=ss.mkType(a,'tab.AdjustAxisRangeOutputTableKeys',function(){bl.call(this)},{min:function(){return new bl.$ctor2(this.get_base().add('Min'))},max:function(){return new bl.$ctor2(this.get_base().add('Max'))},paneId:function(){return new bl.$ctor2(this.get_base().add('PaneId'))},uniqueID:function(){return new bl.$ctor2(this.get_base().add('UniqueID'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var f=global.tab.AnnexedDataKeys=ss.mkType(a,'tab.AnnexedDataKeys',function(){bl.call(this)},{drawFirsts:function(){return new bl.$ctor2(this.get_base().add('DrawFirsts'))},drawLasts:function(){return new bl.$ctor2(this.get_base().add('DrawLasts'))},sceneMarginBackgroundColor:function(){return new bl.$ctor2(this.get_base().add('SceneMarginBackgroundColor'))},inheritedSceneBackgroundColor:function(){return new bl.$ctor2(this.get_base().add('InheritedSceneBackgroundColor'))},isSceneBackgroundOpaque:function(){return new bl.$ctor2(this.get_base().add('IsSceneBackgroundOpaque'))},labelStore:function(){return new bp.$ctor1(this.get_base().add('LabelStore'))},mapPackage:function(){return new bz.$ctor1(this.get_base().add('MapPackage'))},panes:function(){return new bY.$ctor1(this.get_base().add('Panes'))},userPaneInfo:function(){return new dg.$ctor1(this.get_base().add('UserPaneInfo'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var g=global.tab.AxisDescriptorHeadersTableKeys=ss.mkType(a,'tab.AxisDescriptorHeadersTableKeys',function(){bl.call(this)},{id:function(){return new bl.$ctor2(this.get_base().add('Id'))},nodeId:function(){return new bl.$ctor2(this.get_base().add('NodeId'))},duplicateFieldIndex:function(){return new bl.$ctor2(this.get_base().add('DuplicateFieldIndex'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var h=global.tab.AxisDescriptorNodesTableKeys=ss.mkType(a,'tab.AxisDescriptorNodesTableKeys',function(){bl.call(this)},{id:function(){return new bl.$ctor2(this.get_base().add('Id'))},parentId:function(){return new bl.$ctor2(this.get_base().add('ParentId'))},headerId:function(){return new bl.$ctor2(this.get_base().add('HeaderId'))},isLeaf:function(){return new bl.$ctor2(this.get_base().add('IsLeaf'))},label:function(){return new bl.$ctor2(this.get_base().add('Label'))},borderStartLevel:function(){return new bl.$ctor2(this.get_base().add('BorderStartLevel'))},enclosedIndex:function(){return new bl.$ctor2(this.get_base().add('EnclosedIndex'))},level:function(){return new bl.$ctor2(this.get_base().add('Level'))},hierarchicalParentNodeIndex:function(){return new bl.$ctor2(this.get_base().add('HierarchicalParentNodeIndex'))},hierarchicalParentLevel:function(){return new bl.$ctor2(this.get_base().add('HierarchicalParentLevel'))},leftmostLeafIndex:function(){return new bl.$ctor2(this.get_base().add('LeftmostLeafIndex'))},numLeaves:function(){return new bl.$ctor2(this.get_base().add('NumLeaves'))},totalType:function(){return new bl.$ctor2(this.get_base().add('TotalType'))},canShowHoverSortIndicator:function(){return new bl.$ctor2(this.get_base().add('CanShowHoverSortIndicator'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var i=global.tab.AxisModelDataTableKeys=ss.mkType(a,'tab.AxisModelDataTableKeys',function(){bl.call(this)},{dataType:function(){return new bl.$ctor2(this.get_base().add('DataType'))},scaleType:function(){return new bl.$ctor2(this.get_base().add('ScaleType'))},canShowHoverSortIndicator:function(){return new bl.$ctor2(this.get_base().add('CanShowHoverSortIndicator'))},hasSortIndicator:function(){return new bl.$ctor2(this.get_base().add('HasSortIndicator'))},sortDirection:function(){return new bl.$ctor2(this.get_base().add('SortDirection'))},sortIndicatorType:function(){return new bl.$ctor2(this.get_base().add('SortIndicatorType'))},sortIndicatorTooltip:function(){return new bl.$ctor2(this.get_base().add('SortIndicatorTooltip'))},foldState:function(){return new bl.$ctor2(this.get_base().add('FoldState'))},isReversed:function(){return new bl.$ctor2(this.get_base().add('IsReversed'))},includeZero:function(){return new bl.$ctor2(this.get_base().add('IncludeZero'))},omitSpecials:function(){return new bl.$ctor2(this.get_base().add('OmitSpecials'))},useAutoSubtitle:function(){return new bl.$ctor2(this.get_base().add('UseAutoSubtitle'))},axisTitle:function(){return new bl.$ctor2(this.get_base().add('AxisTitle'))},axisSubtitle:function(){return new bl.$ctor2(this.get_base().add('AxisSubtitle'))},duplicateFieldNameIndex:function(){return new bl.$ctor2(this.get_base().add('DuplicateFieldNameIndex'))},titlePadding:function(){return new bl.$ctor2(this.get_base().add('TitlePadding'))},titleStyleIndex:function(){return new bl.$ctor2(this.get_base().add('TitleStyleIndex'))},perFieldStyleIndex:function(){return new bl.$ctor2(this.get_base().add('PerFieldStyleIndex'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var j=global.tab.AxisProducerInputKeys=ss.mkType(a,'tab.AxisProducerInputKeys',function(){bl.call(this)},{xAxisModelData:function(){return new i.$ctor1(this.get_base().add('XAxisModelData'))},yAxisModelData:function(){return new i.$ctor1(this.get_base().add('YAxisModelData'))},xAxisRangeData:function(){return new l.$ctor1(this.get_base().add('XAxisRangeData'))},yAxisRangeData:function(){return new l.$ctor1(this.get_base().add('YAxisRangeData'))},style:function(){return new cg.$ctor1(this.get_base().add('Style'))},titleStyle:function(){return new bl.$ctor2(this.get_base().add('TitleStyle'))},titleFontMetrics:function(){return new bl.$ctor2(this.get_base().add('TitleFontMetrics'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var k=global.tab.AxisProducerOutputKeys=ss.mkType(a,'tab.AxisProducerOutputKeys',function(){bl.call(this)},{xAxisTable:function(){return new r.$ctor1(this.get_base().add('XAxisTable'))},yAxisTable:function(){return new r.$ctor1(this.get_base().add('YAxisTable'))},style:function(){return new cg.$ctor1(this.get_base().add('Style'))},titleStyle:function(){return new bl.$ctor2(this.get_base().add('TitleStyle'))},titleFontMetrics:function(){return new bl.$ctor2(this.get_base().add('TitleFontMetrics'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var l=global.tab.AxisRangeDataTableKeys=ss.mkType(a,'tab.AxisRangeDataTableKeys',function(){bl.call(this)},{rangeType:function(){return new bl.$ctor2(this.get_base().add('RangeType'))},min:function(){return new bl.$ctor2(this.get_base().add('Min'))},max:function(){return new bl.$ctor2(this.get_base().add('Max'))},fieldId:function(){return new bl.$ctor2(this.get_base().add('FieldId'))},uniqueID:function(){return new bl.$ctor2(this.get_base().add('UniqueID'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var m=global.tab.AxisRangeKeys=ss.mkType(a,'tab.AxisRangeKeys',function(){bl.call(this)},{domainMin:function(){return new bl.$ctor2(this.get_base().add('DomainMin'))},domainMax:function(){return new bl.$ctor2(this.get_base().add('DomainMax'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var n=global.tab.AxisRangeTableColumnsKeys=ss.mkType(a,'tab.AxisRangeTableColumnsKeys',function(){bl.call(this)},{cellCount:function(){return new bl.$ctor2(this.get_base().add('CellCount'))},dataType:function(){return new bl.$ctor2(this.get_base().add('DataType'))},min:function(){return new bl.$ctor2(this.get_base().add('Min'))},max:function(){return new bl.$ctor2(this.get_base().add('Max'))},rangeType:function(){return new bl.$ctor2(this.get_base().add('RangeType'))},scaleType:function(){return new bl.$ctor2(this.get_base().add('ScaleType'))},foldState:function(){return new bl.$ctor2(this.get_base().add('FoldState'))},isReversed:function(){return new bl.$ctor2(this.get_base().add('IsReversed'))},includeZero:function(){return new bl.$ctor2(this.get_base().add('IncludeZero'))},pixelSize:function(){return new bl.$ctor2(this.get_base().add('PixelSize'))},uniqueID:function(){return new bl.$ctor2(this.get_base().add('UniqueID'))},barLabelsOverflow:function(){return new bl.$ctor2(this.get_base().add('BarLabelsOverflow'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var o=global.tab.AxisRangeTableKeys=ss.mkType(a,'tab.AxisRangeTableKeys',function(){bl.call(this)},{cellCount:function(){return new bl.$ctor2(this.get_base().add('CellCount'))},dataType:function(){return new bl.$ctor2(this.get_base().add('DataType'))},min:function(){return new bl.$ctor2(this.get_base().add('Min'))},max:function(){return new bl.$ctor2(this.get_base().add('Max'))},rangeType:function(){return new bl.$ctor2(this.get_base().add('RangeType'))},scaleType:function(){return new bl.$ctor2(this.get_base().add('ScaleType'))},foldState:function(){return new bl.$ctor2(this.get_base().add('FoldState'))},isReversed:function(){return new bl.$ctor2(this.get_base().add('IsReversed'))},includeZero:function(){return new bl.$ctor2(this.get_base().add('IncludeZero'))},pixelSize:function(){return new bl.$ctor2(this.get_base().add('PixelSize'))},uniqueID:function(){return new bl.$ctor2(this.get_base().add('UniqueID'))},barLabelsOverflow:function(){return new bl.$ctor2(this.get_base().add('BarLabelsOverflow'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var p=global.tab.AxisSizeTableKeys=ss.mkType(a,'tab.AxisSizeTableKeys',function(){bl.call(this)},{pixelSize:function(){return new bl.$ctor2(this.get_base().add('PixelSize'))},barLabelsOverflow:function(){return new bl.$ctor2(this.get_base().add('BarLabelsOverflow'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var q=global.tab.AxisTableColumnsKeys=ss.mkType(a,'tab.AxisTableColumnsKeys',function(){bl.call(this)},{dataType:function(){return new bl.$ctor2(this.get_base().add('DataType'))},min:function(){return new bl.$ctor2(this.get_base().add('Min'))},max:function(){return new bl.$ctor2(this.get_base().add('Max'))},rangeType:function(){return new bl.$ctor2(this.get_base().add('RangeType'))},scaleType:function(){return new bl.$ctor2(this.get_base().add('ScaleType'))},canShowHoverSortIndicator:function(){return new bl.$ctor2(this.get_base().add('CanShowHoverSortIndicator'))},hasSortIndicator:function(){return new bl.$ctor2(this.get_base().add('HasSortIndicator'))},sortDirection:function(){return new bl.$ctor2(this.get_base().add('SortDirection'))},sortIndicatorType:function(){return new bl.$ctor2(this.get_base().add('SortIndicatorType'))},sortIndicatorTooltip:function(){return new bl.$ctor2(this.get_base().add('SortIndicatorTooltip'))},foldState:function(){return new bl.$ctor2(this.get_base().add('FoldState'))},isReversed:function(){return new bl.$ctor2(this.get_base().add('IsReversed'))},includeZero:function(){return new bl.$ctor2(this.get_base().add('IncludeZero'))},useAutoSubtitle:function(){return new bl.$ctor2(this.get_base().add('UseAutoSubtitle'))},uniqueID:function(){return new bl.$ctor2(this.get_base().add('UniqueID'))},axisTitle:function(){return new bl.$ctor2(this.get_base().add('AxisTitle'))},axisSubtitle:function(){return new bl.$ctor2(this.get_base().add('AxisSubtitle'))},duplicateFieldNameIndex:function(){return new bl.$ctor2(this.get_base().add('DuplicateFieldNameIndex'))},titlePadding:function(){return new bl.$ctor2(this.get_base().add('TitlePadding'))},titleStyleIndex:function(){return new bl.$ctor2(this.get_base().add('TitleStyleIndex'))},perFieldStyleIndex:function(){return new bl.$ctor2(this.get_base().add('PerFieldStyleIndex'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var r=global.tab.AxisTableKeys=ss.mkType(a,'tab.AxisTableKeys',function(){bl.call(this)},{dataType:function(){return new bl.$ctor2(this.get_base().add('DataType'))},min:function(){return new bl.$ctor2(this.get_base().add('Min'))},max:function(){return new bl.$ctor2(this.get_base().add('Max'))},rangeType:function(){return new bl.$ctor2(this.get_base().add('RangeType'))},scaleType:function(){return new bl.$ctor2(this.get_base().add('ScaleType'))},canShowHoverSortIndicator:function(){return new bl.$ctor2(this.get_base().add('CanShowHoverSortIndicator'))},hasSortIndicator:function(){return new bl.$ctor2(this.get_base().add('HasSortIndicator'))},sortDirection:function(){return new bl.$ctor2(this.get_base().add('SortDirection'))},sortIndicatorType:function(){return new bl.$ctor2(this.get_base().add('SortIndicatorType'))},sortIndicatorTooltip:function(){return new bl.$ctor2(this.get_base().add('SortIndicatorTooltip'))},foldState:function(){return new bl.$ctor2(this.get_base().add('FoldState'))},isReversed:function(){return new bl.$ctor2(this.get_base().add('IsReversed'))},includeZero:function(){return new bl.$ctor2(this.get_base().add('IncludeZero'))},useAutoSubtitle:function(){return new bl.$ctor2(this.get_base().add('UseAutoSubtitle'))},uniqueID:function(){return new bl.$ctor2(this.get_base().add('UniqueID'))},axisTitle:function(){return new bl.$ctor2(this.get_base().add('AxisTitle'))},axisSubtitle:function(){return new bl.$ctor2(this.get_base().add('AxisSubtitle'))},duplicateFieldNameIndex:function(){return new bl.$ctor2(this.get_base().add('DuplicateFieldNameIndex'))},titlePadding:function(){return new bl.$ctor2(this.get_base().add('TitlePadding'))},titleStyleIndex:function(){return new bl.$ctor2(this.get_base().add('TitleStyleIndex'))},perFieldStyleIndex:function(){return new bl.$ctor2(this.get_base().add('PerFieldStyleIndex'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var s=global.tab.Base64HeapDecoder=ss.mkType(a,'tab.Base64HeapDecoder',null,null,{$0:function(e){if(ss.isNullOrUndefined(s.$2)){s.$2=new Array(1<<2);for(var dp=0;dp<s.$3.length;++dp){s.$2[s.$3.charCodeAt(dp)]=dp}}if(e===61){return 0}else{return s.$2[e]}},decodedLength:function(e){var dp=0;var dq=e.length;var dr=dq;if(e.charCodeAt(dq-2)===61){dp=4;dr-=2;if(e.charCodeAt(dq-1)!==61){throw new ss.Exception('Received incorrectly formatted base64 string!')}}else if(e.charCodeAt(dq-1)===61){dr-=1;dp=2}return ss.idiv(dr*6-dp,8)},run:function(e,dp,dq){var dr=dq.length;var ds=0,dt=0,du=0,dv=0;var dw=0;var dx=s.decodedLength(dq);for(var dy=0;dy<dr;dy+=4){ds=s.$0(dq.charCodeAt(dy));dt=s.$0(dq.charCodeAt(dy+1));du=s.$0(dq.charCodeAt(dy+2));dv=s.$0(dq.charCodeAt(dy+3));dp[e++]=ds<<2|dt>>>4;dw++;if(dw<dx){dp[e++]=(dt&15)<<4|du>>>2;dw++}if(dw<dx){dp[e++]=(du&3)<<6|dv&63;dw++}}}});var t=global.tab.BorderStylesProducerInputKeys=ss.mkType(a,'tab.BorderStylesProducerInputKeys',function(){bl.call(this)},{x:function(){return new cd.$ctor1(this.get_base().add('X'))},y:function(){return new cd.$ctor1(this.get_base().add('Y'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var u=global.tab.CommonEncodingsKeys=ss.mkType(a,'tab.CommonEncodingsKeys',function(){bl.call(this)},{colorEncodingKeys:function(){return new bl.$ctor2(this.get_base().add('ColorEncodingKeys'))},shapeEncodingKeys:function(){return new bl.$ctor2(this.get_base().add('ShapeEncodingKeys'))},sizeEncodingKeys:function(){return new bl.$ctor2(this.get_base().add('SizeEncodingKeys'))},measureNamesKeys:function(){return new bl.$ctor2(this.get_base().add('MeasureNamesKeys'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var v=global.tab.ComposedTextResultKeys=ss.mkType(a,'tab.ComposedTextResultKeys',function(){bl.call(this)},{height:function(){return new bl.$ctor2(this.get_base().add('Height'))},textRunCount:function(){return new bl.$ctor2(this.get_base().add('TextRunCount'))},textRunOffset:function(){return new bl.$ctor2(this.get_base().add('TextRunOffset'))},textRunTable:function(){return new cW.$ctor1(this.get_base().add('TextRunTable'))},width:function(){return new bl.$ctor2(this.get_base().add('Width'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var w=global.tab.ComputeAxisExtentsOutputsKeys=ss.mkType(a,'tab.ComputeAxisExtentsOutputsKeys',function(){bl.call(this)},{minResult:function(){return new bl.$ctor2(this.get_base().add('minResult'))},maxResult:function(){return new bl.$ctor2(this.get_base().add('maxResult'))},zeroResult:function(){return new bl.$ctor2(this.get_base().add('zeroResult'))},minRangeResult:function(){return new bl.$ctor2(this.get_base().add('minRangeResult'))},maxRangeResult:function(){return new bl.$ctor2(this.get_base().add('maxRangeResult'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var x=global.tab.ComputeTreemapLayoutOutputTableKeys=ss.mkType(a,'tab.ComputeTreemapLayoutOutputTableKeys',function(){bl.call(this)},{x:function(){return new bl.$ctor2(this.get_base().add('X'))},x1:function(){return new bl.$ctor2(this.get_base().add('X1'))},y:function(){return new bl.$ctor2(this.get_base().add('Y'))},y1:function(){return new bl.$ctor2(this.get_base().add('Y1'))},tupleId:function(){return new bl.$ctor2(this.get_base().add('TupleId'))},markId:function(){return new bl.$ctor2(this.get_base().add('MarkId'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var y=global.tab.ConstraintSystemKeys=ss.mkType(a,'tab.ConstraintSystemKeys',function(){bl.call(this)},{expressions:function(){return new J.$ctor1(this.get_base().add('Expressions'))},constants:function(){return new K.$ctor1(this.get_base().add('Constants'))},constraints:function(){return new z.$ctor1(this.get_base().add('Constraints'))},variableNames:function(){return new dj.$ctor1(this.get_base().add('VariableNames'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var z=global.tab.ConstraintTableKeys=ss.mkType(a,'tab.ConstraintTableKeys',function(){bl.call(this)},{expression1:function(){return new bl.$ctor2(this.get_base().add('Expression1'))},expression2:function(){return new bl.$ctor2(this.get_base().add('Expression2'))},comparisonKind:function(){return new bl.$ctor2(this.get_base().add('ComparisonKind'))},priority:function(){return new bl.$ctor2(this.get_base().add('Priority'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var A=global.tab.DatastoreHandle=ss.mkType(a,'tab.DatastoreHandle',function(e,dp){bL.call(this,e,dp)},{get_typeCode:function(){return 16}});var B=global.tab.DateTimeTickPerHeaderInputTableKeys=ss.mkType(a,'tab.DateTimeTickPerHeaderInputTableKeys',function(){bl.call(this)},{headerIndex:function(){return new bl.$ctor2(this.get_base().add('HeaderIndex'))},vtlBlockIndex:function(){return new bl.$ctor2(this.get_base().add('VtlBlockIndex'))},columnFormatIndex:function(){return new bl.$ctor2(this.get_base().add('ColumnFormatIndex'))},showMajorTicks:function(){return new bl.$ctor2(this.get_base().add('ShowMajorTicks'))},showMinorTicks:function(){return new bl.$ctor2(this.get_base().add('ShowMinorTicks'))},dateTimeOriginReference:function(){return new bl.$ctor2(this.get_base().add('DateTimeOriginReference'))},dateTimeSpacingReference:function(){return new bl.$ctor2(this.get_base().add('DateTimeSpacingReference'))},dateTimeSpacingUnitsReference:function(){return new bl.$ctor2(this.get_base().add('DateTimeSpacingUnitsReference'))},majorLabelWidthReference:function(){return new bl.$ctor2(this.get_base().add('MajorLabelWidthReference'))},labelFormat:function(){return new bl.$ctor2(this.get_base().add('LabelFormat'))},subtitleString:function(){return new bl.$ctor2(this.get_base().add('SubtitleString'))},daysLabelFormat:function(){return new bl.$ctor2(this.get_base().add('DaysLabelFormat'))},daysLabelWidth:function(){return new bl.$ctor2(this.get_base().add('DaysLabelWidth'))},daysSubtitle:function(){return new bl.$ctor2(this.get_base().add('DaysSubtitle'))},hoursLabelFormat:function(){return new bl.$ctor2(this.get_base().add('HoursLabelFormat'))},hoursLabelWidth:function(){return new bl.$ctor2(this.get_base().add('HoursLabelWidth'))},hoursSubtitle:function(){return new bl.$ctor2(this.get_base().add('HoursSubtitle'))},hoursTruncatedLabelFormat:function(){return new bl.$ctor2(this.get_base().add('HoursTruncatedLabelFormat'))},hoursTruncatedLabelWidth:function(){return new bl.$ctor2(this.get_base().add('HoursTruncatedLabelWidth'))},hoursTruncatedSubtitle:function(){return new bl.$ctor2(this.get_base().add('HoursTruncatedSubtitle'))},labelHeight:function(){return new bl.$ctor2(this.get_base().add('LabelHeight'))},perpendicularLabels:function(){return new bl.$ctor2(this.get_base().add('PerpendicularLabels'))},fiscalYearStart:function(){return new bl.$ctor2(this.get_base().add('FiscalYearStart'))},labelStyleIndex:function(){return new bl.$ctor2(this.get_base().add('LabelStyleIndex'))},monthsLabelFormat:function(){return new bl.$ctor2(this.get_base().add('MonthsLabelFormat'))},monthsLabelWidth:function(){return new bl.$ctor2(this.get_base().add('MonthsLabelWidth'))},monthsSubtitle:function(){return new bl.$ctor2(this.get_base().add('MonthsSubtitle'))},minorDTOriginReference:function(){return new bl.$ctor2(this.get_base().add('MinorDTOriginReference'))},minorDTSpacingReference:function(){return new bl.$ctor2(this.get_base().add('MinorDTSpacingReference'))},minorDTSpacingUnitsReference:function(){return new bl.$ctor2(this.get_base().add('MinorDTSpacingUnitsReference'))},minutesLabelFormat:function(){return new bl.$ctor2(this.get_base().add('MinutesLabelFormat'))},minutesLabelWidth:function(){return new bl.$ctor2(this.get_base().add('MinutesLabelWidth'))},minutesSubtitle:function(){return new bl.$ctor2(this.get_base().add('MinutesSubtitle'))},minutesTruncatedLabelFormat:function(){return new bl.$ctor2(this.get_base().add('MinutesTruncatedLabelFormat'))},minutesTruncatedLabelWidth:function(){return new bl.$ctor2(this.get_base().add('MinutesTruncatedLabelWidth'))},minutesTruncatedSubtitle:function(){return new bl.$ctor2(this.get_base().add('MinutesTruncatedSubtitle'))},quartersLabelFormat:function(){return new bl.$ctor2(this.get_base().add('QuartersLabelFormat'))},quartersLabelWidth:function(){return new bl.$ctor2(this.get_base().add('QuartersLabelWidth'))},quartersSubtitle:function(){return new bl.$ctor2(this.get_base().add('QuartersSubtitle'))},secondsLabelFormat:function(){return new bl.$ctor2(this.get_base().add('SecondsLabelFormat'))},secondsLabelWidth:function(){return new bl.$ctor2(this.get_base().add('SecondsLabelWidth'))},secondsSubtitle:function(){return new bl.$ctor2(this.get_base().add('SecondsSubtitle'))},targetTickSpacing:function(){return new bl.$ctor2(this.get_base().add('TargetTickSpacing'))},weeksLabelFormat:function(){return new bl.$ctor2(this.get_base().add('WeeksLabelFormat'))},weeksLabelWidth:function(){return new bl.$ctor2(this.get_base().add('WeeksLabelWidth'))},weeksSubtitle:function(){return new bl.$ctor2(this.get_base().add('WeeksSubtitle'))},yearsLabelFormat:function(){return new bl.$ctor2(this.get_base().add('YearsLabelFormat'))},yearsLabelWidth:function(){return new bl.$ctor2(this.get_base().add('YearsLabelWidth'))},yearsSubtitle:function(){return new bl.$ctor2(this.get_base().add('YearsSubtitle'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var C=global.tab.DomainLookupKeys=ss.mkType(a,'tab.DomainLookupKeys',function(){bl.call(this)},{domainMax:function(){return new bl.$ctor2(this.get_base().add('DomainMax'))},domainMin:function(){return new bl.$ctor2(this.get_base().add('DomainMin'))},lookup:function(){return new bl.$ctor2(this.get_base().add('Lookup'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var D=global.tab.DropSpotDataKeys=ss.mkType(a,'tab.DropSpotDataKeys',function(){bl.call(this)},{labelStyles:function(){return new bl.$ctor2(this.get_base().add('LabelStyles'))},sceneMarginData:function(){return new E.$ctor1(this.get_base().add('SceneMarginData'))},padding:function(){return new bl.$ctor2(this.get_base().add('Padding'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var E=global.tab.DropSpotTextTableKeys=ss.mkType(a,'tab.DropSpotTextTableKeys',function(){bl.call(this)},{sceneMarginLocation:function(){return new bl.$ctor2(this.get_base().add('SceneMarginLocation'))},label:function(){return new bl.$ctor2(this.get_base().add('Label'))},labelStyleIndex:function(){return new bl.$ctor2(this.get_base().add('LabelStyleIndex'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var F=global.tab.EllipsisTableKeys=ss.mkType(a,'tab.EllipsisTableKeys',function(){bl.call(this)},{paneIndex:function(){return new bl.$ctor2(this.get_base().add('PaneIndex'))},cellX:function(){return new bl.$ctor2(this.get_base().add('CellX'))},cellY:function(){return new bl.$ctor2(this.get_base().add('CellY'))},x:function(){return new bl.$ctor2(this.get_base().add('X'))},y:function(){return new bl.$ctor2(this.get_base().add('Y'))},xFloat:function(){return new bl.$ctor2(this.get_base().add('XFloat'))},yFloat:function(){return new bl.$ctor2(this.get_base().add('YFloat'))},width:function(){return new bl.$ctor2(this.get_base().add('Width'))},height:function(){return new bl.$ctor2(this.get_base().add('Height'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var G=global.tab.EmscriptenSupport=ss.mkType(a,'tab.EmscriptenSupport',function(){},null,{getExceptionInformation:function(e){var dp=e.get_message().split(' ',1);if(dp.length===1){var dq=parseInt(dp[0]);var dr=RuntimeWebModule.HEAPU32[RuntimeWebModule.HEAPU32[dq>>2]+8>>>2];if(dr===0){return e}var ds=RuntimeWebModule.dynCall_ii(dr,dq);if(ds===0){return e}var dt=ds;for(;dt<RuntimeWebModule.HEAPU8.length;dt++){if(RuntimeWebModule.HEAPU8[dt]===0){break}}try{var du=dh.decode(RuntimeWebModule.HEAPU8.subarray(ds,dt));return new ss.Exception("Emscripten thrown exception: '"+du+"'",e)}catch(dv){return e}}return e}});var H=global.tab.EncodingsTableKeys=ss.mkType(a,'tab.EncodingsTableKeys',function(){bl.call(this)},{cellX:function(){return new bl.$ctor2(this.get_base().add('CellX'))},cellY:function(){return new bl.$ctor2(this.get_base().add('CellY'))},clipHeight:function(){return new bl.$ctor2(this.get_base().add('ClipHeight'))},clipWidth:function(){return new bl.$ctor2(this.get_base().add('ClipWidth'))},color:function(){return new bl.$ctor2(this.get_base().add('Color'))},geometry:function(){return new bl.$ctor2(this.get_base().add('Geometry'))},height:function(){return new bl.$ctor2(this.get_base().add('Height'))},isMarkStacked:function(){return new bl.$ctor2(this.get_base().add('IsMarkStacked'))},markFlags:function(){return new bl.$ctor2(this.get_base().add('MarkFlags'))},markId:function(){return new bl.$ctor2(this.get_base().add('MarkId'))},paneIndex:function(){return new bl.$ctor2(this.get_base().add('PaneIndex'))},paneCol:function(){return new bl.$ctor2(this.get_base().add('PaneCol'))},panePage:function(){return new bl.$ctor2(this.get_base().add('PanePage'))},paneRow:function(){return new bl.$ctor2(this.get_base().add('PaneRow'))},predictionIntervalLowerEnd:function(){return new bl.$ctor2(this.get_base().add('PredictionIntervalLowerEnd'))},predictionIntervalUpperEnd:function(){return new bl.$ctor2(this.get_base().add('PredictionIntervalUpperEnd'))},predictionWhiskerWidth:function(){return new bl.$ctor2(this.get_base().add('PredictionWhiskerWidth'))},rho:function(){return new bl.$ctor2(this.get_base().add('Rho'))},rho1:function(){return new bl.$ctor2(this.get_base().add('Rho1'))},scaledEndPoint:function(){return new bl.$ctor2(this.get_base().add('ScaledEndPoint'))},shapeId:function(){return new bl.$ctor2(this.get_base().add('ShapeId'))},size:function(){return new bl.$ctor2(this.get_base().add('Size'))},sizeLabel:function(){return new bl.$ctor2(this.get_base().add('SizeLabel'))},textRunCount:function(){return new bl.$ctor2(this.get_base().add('TextRunCount'))},textRunOffset:function(){return new bl.$ctor2(this.get_base().add('TextRunOffset'))},theta:function(){return new bl.$ctor2(this.get_base().add('Theta'))},theta1:function(){return new bl.$ctor2(this.get_base().add('Theta1'))},trailId:function(){return new bl.$ctor2(this.get_base().add('TrailId'))},tupleId:function(){return new bl.$ctor2(this.get_base().add('TupleId'))},width:function(){return new bl.$ctor2(this.get_base().add('Width'))},userPaneRow:function(){return new bl.$ctor2(this.get_base().add('UserPaneRow'))},userPaneCol:function(){return new bl.$ctor2(this.get_base().add('UserPaneCol'))},webClientShouldRenderLabel:function(){return new bl.$ctor2(this.get_base().add('WebClientShouldRenderLabel'))},weight:function(){return new bl.$ctor2(this.get_base().add('Weight'))},x:function(){return new bl.$ctor2(this.get_base().add('X'))},x1:function(){return new bl.$ctor2(this.get_base().add('X1'))},xNext:function(){return new bl.$ctor2(this.get_base().add('XNext'))},xPrev:function(){return new bl.$ctor2(this.get_base().add('XPrev'))},y:function(){return new bl.$ctor2(this.get_base().add('Y'))},y1:function(){return new bl.$ctor2(this.get_base().add('Y1'))},yNext:function(){return new bl.$ctor2(this.get_base().add('YNext'))},yPrev:function(){return new bl.$ctor2(this.get_base().add('YPrev'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var I=global.tab.EnumConversions=ss.mkType(a,'tab.EnumConversions',null,null,{tableauFontStyleFromInt:function(e){if(ss.isNullOrUndefined(I.$8)){I.$8=['font-style-normal','font-style-italic']}return I.$8[e]},textDecorationFromInt:function(e){if(ss.isNullOrUndefined(I.$9)){I.$9=['text-decoration-none','text-decoration-underline','text-decoration-overline','text-decoration-strikethrough']}return I.$9[e]},fontWeightFromInt:function(e){if(ss.isNullOrUndefined(I.$1)){I.$1=['font-weight-normal','font-weight-bold']}return I.$1[e]},textOrientFromInt:function(e){if(ss.isNullOrUndefined(I.$a)){I.$a=['text-orient-auto','text-orient-horizontal','text-orient-vertical-up','text-orient-vertical-down']}return I.$a[e]},textWrapModeFromInt:function(e){if(ss.isNullOrUndefined(I.$b)){I.$b=['text-wrap-off','text-wrap-truncate','text-wrap-on','text-wrap-auto']}return I.$b[e]},datePeriodTypeFromInt:function(e){if(ss.isNullOrUndefined(I.$0)){I.$0=['year','quarter','month','week','day','hour','minute','second','iso-year','iso-quarter','iso-week']}return I.$0[e]},labelHAlignmentFromInt:function(e){if(ss.isNullOrUndefined(I.$2)){I.$2=['h-align-left','h-align-center','h-align-right','h-align-auto']}return I.$2[e]},labelVAlignmentFromInt:function(e){if(ss.isNullOrUndefined(I.$3)){I.$3=['v-align-bottom','v-align-center','v-align-top','v-align-auto']}return I.$3[e]},linePatternFromInt:function(e){if(ss.isNullOrUndefined(I.$6)){I.$6=['none','solid','dashed','dotted']}return I.$6[e]},lineCapFromInt:function(e){if(ss.isNullOrUndefined(I.$4)){I.$4=['flat','square','round','triangle']}return I.$4[e]},lineJoinFromInt:function(e){if(ss.isNullOrUndefined(I.$5)){I.$5=['bevel','miter','round']}return I.$5[e]},zoomTypeFromInt:function(e){if(ss.isNullOrUndefined(I.$e)){I.$e=['percent','entire-view','fit-width','fit-height']}return I.$e[e]},primitiveFromInt:function(e){if(ss.isNullOrUndefined(I.$7)){I.$7=['shape','line','bar','polar-bar','text','label','pie','area','polygon','multipolygon','square','heatmap','count']}return I.$7[e]},vizTypeFromInt:function(e){if(ss.isNullOrUndefined(I.$d)){I.$d=['standard','oo-stacked','gantt-stacked','treemap','bubble','wordle','highlight','count']}return I.$d[e]},visualPartFromInt:function(e){if(ss.isNullOrUndefined(I.$c)){I.$c=['misc','annotations','axis-rules','top-axis','bottom-axis','left-axis','right-axis','background','borders','caption','cell-borders','decoration','drop-lines','x-labels','y-labels','legends','marks','mark-labels','mark-trails','ref-bands','ref-lines','pane-borders','scroll-bars','title','trend-lines','upper-map-layers','header','axis']}return I.$c[e]}});var J=global.tab.ExpressionCoefficientTableKeys=ss.mkType(a,'tab.ExpressionCoefficientTableKeys',function(){bl.call(this)},{expressionID:function(){return new bl.$ctor2(this.get_base().add('ExpressionID'))},coefficient:function(){return new bl.$ctor2(this.get_base().add('Coefficient'))},variableID:function(){return new bl.$ctor2(this.get_base().add('VariableID'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var K=global.tab.ExpressionConstantTableKeys=ss.mkType(a,'tab.ExpressionConstantTableKeys',function(){bl.call(this)},{expressionID:function(){return new bl.$ctor2(this.get_base().add('ExpressionID'))},constant:function(){return new bl.$ctor2(this.get_base().add('Constant'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var L=global.tab.ExtendedDomainKeys=ss.mkType(a,'tab.ExtendedDomainKeys',function(){bl.call(this)},{haveAnyMarks:function(){return new bl.$ctor2(this.get_base().add('HaveAnyMarks'))},paneExtentsStaticInput:function(){return new bU.$ctor1(this.get_base().add('PaneExtentsStaticInput'))},paneExtentsPixelPositions:function(){return new bT.$ctor1(this.get_base().add('PaneExtentsPixelPositions'))},paneExtents:function(){return new bW.$ctor1(this.get_base().add('PaneExtents'))},paneCount:function(){return new bQ.$ctor1(this.get_base().add('PaneCount'))},pageIntervalTable:function(){return new bP.$ctor1(this.get_base().add('PageIntervalTable'))},noMarksColumnTemplate:function(){return new bl.$ctor2(this.get_base().add('NoMarksColumnTemplate'))},noPanesColumnTemplate:function(){return new bl.$ctor2(this.get_base().add('NoPanesColumnTemplate'))},paneRow:function(){return new bl.$ctor2(this.get_base().add('PaneRow'))},paneCol:function(){return new bl.$ctor2(this.get_base().add('PaneCol'))},mappedRows:function(){return new bl.$ctor2(this.get_base().add('MappedRows'))},mappedCols:function(){return new bl.$ctor2(this.get_base().add('MappedCols'))},rangePaddingMin:function(){return new bl.$ctor2(this.get_base().add('RangePaddingMin'))},mapBoundaries:function(){return new bx.$ctor1(this.get_base().add('MapBoundaries'))},showEntireImageHasImages:function(){return new bl.$ctor2(this.get_base().add('ShowEntireImageHasImages'))},lockedRatio:function(){return new bv.$ctor1(this.get_base().add('LockedRatio'))},mapProvider:function(){return new bA.$ctor1(this.get_base().add('MapProvider'))},mapLayersModelUpdate:function(){return new by.$ctor1(this.get_base().add('MapLayersModelUpdate'))},x:function(){return new M.$ctor1(this.get_base().add('X'))},y:function(){return new M.$ctor1(this.get_base().add('Y'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var M=global.tab.ExtendedDomainPerAxisKeys=ss.mkType(a,'tab.ExtendedDomainPerAxisKeys',function(){bl.call(this)},{axisSizes:function(){return new p.$ctor1(this.get_base().add('AxisSizes'))},ranges:function(){return new o.$ctor1(this.get_base().add('Ranges'))},uniqueRanges:function(){return new o.$ctor1(this.get_base().add('UniqueRanges'))},rangeMap:function(){return new bl.$ctor2(this.get_base().add('RangeMap'))},pointExtendedRanges:function(){return new bl.$ctor2(this.get_base().add('PointExtendedRanges'))},beforeMarkExtendRanges:function(){return new bl.$ctor2(this.get_base().add('BeforeMarkExtendRanges'))},afterMarkExtendRanges:function(){return new bl.$ctor2(this.get_base().add('AfterMarkExtendRanges'))},relevantRanges:function(){return new bl.$ctor2(this.get_base().add('RelevantRanges'))},refLineExtents:function(){return new cw.$ctor1(this.get_base().add('RefLineExtents'))},showEntireImagePaneIndex:function(){return new bl.$ctor2(this.get_base().add('ShowEntireImagePaneIndex'))},showEntireImageMax:function(){return new bl.$ctor2(this.get_base().add('ShowEntireImageMax'))},showEntireImageMin:function(){return new bl.$ctor2(this.get_base().add('ShowEntireImageMin'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var N=global.tab.FallbackTextDecoder=ss.mkType(a,'tab.FallbackTextDecoder',function(){},null,{decode:function(e){var dp,dq,dr,ds,dt,du;var dv=0;var dw='';var dx=e.length;while(dv<dx){dp=e[dv++];if(dp===0){return dw}if((dp&128)===0){dw+=String.fromCharCode(dp);continue}dq=e[dv++]&63;if((dp&224)===192){dw+=String.fromCharCode((dp&31)<<6|dq);continue}dr=e[dv++]&63;if((dp&240)===224){dp=(dp&15)<<12|dq<<6|dr}else{ds=e[dv++]&63;if((dp&248)===240){dp=(dp&7)<<18|dq<<12|dr<<6|ds}else{dt=e[dv++]&63;if((dp&252)===248){dp=(dp&3)<<24|dq<<18|dr<<12|ds<<6|dt}else{du=e[dv++]&63;dp=(dp&1)<<30|dq<<24|dr<<18|ds<<12|dt<<6|du}}}if(dp<65536){dw+=String.fromCharCode(dp)}else{var dy=dp-65536;dw+=String.fromCharCode(55296|dy>>10,56320|dy&1023)}}return dw}});var O=global.tab.FallbackTextEncoder=ss.mkType(a,'tab.FallbackTextEncoder',function(){},null,{$0:function(e){var dp=0;for(var dq=0;dq<e.length;dq++){var dr=e.charCodeAt(dq);if(dr>=55296&&dr<=57343){dr=65536+((dr&1023)<<10)|e.charCodeAt(++dq)&1023}if(dr<=127){++dp}else if(dr<=2047){dp+=2}else if(dr<=65535){dp+=3}else if(dr<=2097151){dp+=4}else if(dr<=67108863){dp+=5}else{dp+=6}}return dp},encode:function(e){var dp=O.$0(e);var dq=new Uint8Array(dp);var dr=0;for(var ds=0;ds<e.length;ds++){var dt=e.charCodeAt(ds);if(dt>=55296&&dt<=57343){dt=65536+((dt&1023)<<10)|e.charCodeAt(++ds)&1023}if(dt<=127){dq[dr++]=dt}else if(dt<=2047){dq[dr++]=192|dt>>6;dq[dr++]=128|dt&63}else if(dt<=65535){dq[dr++]=224|dt>>12;dq[dr++]=128|dt>>6&63;dq[dr++]=128|dt&63}else if(dt<=2097151){dq[dr++]=240|dt>>18;dq[dr++]=128|dt>>12&63;dq[dr++]=128|dt>>6&63;dq[dr++]=128|dt&63}else if(dt<=67108863){dq[dr++]=248|dt>>24;dq[dr++]=128|dt>>18&63;dq[dr++]=128|dt>>12&63;dq[dr++]=128|dt>>6&63;dq[dr++]=128|dt&63}else{dq[dr++]=252|dt>>30;dq[dr++]=128|dt>>24&63;dq[dr++]=128|dt>>18&63;dq[dr++]=128|dt>>12&63;dq[dr++]=128|dt>>6&63;dq[dr++]=128|dt&63}}return dq}});var P=global.tab.FieldLabelsTextAndShadingTableKeys=ss.mkType(a,'tab.FieldLabelsTextAndShadingTableKeys',function(){bl.call(this)},{sceneMarginLocation:function(){return new bl.$ctor2(this.get_base().add('SceneMarginLocation'))},sceneMarginFieldLabelsText:function(){return new bl.$ctor2(this.get_base().add('SceneMarginFieldLabelsText'))},fillColor:function(){return new bl.$ctor2(this.get_base().add('FillColor'))},highlightedFillColor:function(){return new bl.$ctor2(this.get_base().add('HighlightedFillColor'))},labelStyleIndex:function(){return new bl.$ctor2(this.get_base().add('LabelStyleIndex'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var Q=global.tab.FlattenedAxisDescriptorKeys=ss.mkType(a,'tab.FlattenedAxisDescriptorKeys',function(){bl.call(this)},{nodes:function(){return new h.$ctor1(this.get_base().add('Nodes'))},headers:function(){return new g.$ctor1(this.get_base().add('Headers'))},perHeaderFields:function(){return new ch.$ctor1(this.get_base().add('PerHeaderFields'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var R=global.tab.FormattedTextInputKeys=ss.mkType(a,'tab.FormattedTextInputKeys',function(){bl.call(this)},{fontMetrics:function(){return new bl.$ctor2(this.get_base().add('FontMetrics'))},styleTable:function(){return new cZ.$ctor1(this.get_base().add('StyleTable'))},runOffset:function(){return new bl.$ctor2(this.get_base().add('RunOffset'))},runCount:function(){return new bl.$ctor2(this.get_base().add('RunCount'))},runTable:function(){return new cW.$ctor1(this.get_base().add('RunTable'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var S=global.tab.GridLineProducerInputKeys=ss.mkType(a,'tab.GridLineProducerInputKeys',function(){bl.call(this)},{x:function(){return new ce.$ctor1(this.get_base().add('X'))},y:function(){return new ce.$ctor1(this.get_base().add('Y'))},isQuantitativeTickType:function(){return new bl.$ctor2(this.get_base().add('IsQuantitativeTickType'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var T=global.tab.GridLineProducerOutputKeys=ss.mkType(a,'tab.GridLineProducerOutputKeys',function(){bl.call(this)},{zeroPoint:function(){return new bl.$ctor2(this.get_base().add('ZeroPoint'))},isQuantitativeTickType:function(){return new bl.$ctor2(this.get_base().add('IsQuantitativeTickType'))},x:function(){return new cf.$ctor1(this.get_base().add('X'))},y:function(){return new cf.$ctor1(this.get_base().add('Y'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var U=global.tab.HeaderLevelStyleDataTableKeys=ss.mkType(a,'tab.HeaderLevelStyleDataTableKeys',function(){bl.call(this)},{headerDepth:function(){return new bl.$ctor2(this.get_base().add('HeaderDepth'))},labelStyleIndex:function(){return new bl.$ctor2(this.get_base().add('LabelStyleIndex'))},brushedStyleIndex:function(){return new bl.$ctor2(this.get_base().add('BrushedStyleIndex'))},highlightedStyleIndex:function(){return new bl.$ctor2(this.get_base().add('HighlightedStyleIndex'))},selectedStyleIndex:function(){return new bl.$ctor2(this.get_base().add('SelectedStyleIndex'))},subtotalsStyleIndex:function(){return new bl.$ctor2(this.get_base().add('SubtotalsStyleIndex'))},brushedSubtotalsStyleIndex:function(){return new bl.$ctor2(this.get_base().add('BrushedSubtotalsStyleIndex'))},highlightedSubtotalsStyleIndex:function(){return new bl.$ctor2(this.get_base().add('HighlightedSubtotalsStyleIndex'))},selectedSubtotalsStyleIndex:function(){return new bl.$ctor2(this.get_base().add('SelectedSubtotalsStyleIndex'))},grandTotalsStyleIndex:function(){return new bl.$ctor2(this.get_base().add('GrandTotalsStyleIndex'))},brushedGrandTotalsStyleIndex:function(){return new bl.$ctor2(this.get_base().add('BrushedGrandTotalsStyleIndex'))},highlightedGrandTotalsStyleIndex:function(){return new bl.$ctor2(this.get_base().add('HighlightedGrandTotalsStyleIndex'))},selectedGrandTotalsStyleIndex:function(){return new bl.$ctor2(this.get_base().add('SelectedGrandTotalsStyleIndex'))},fillColor:function(){return new bl.$ctor2(this.get_base().add('FillColor'))},brushedFillColor:function(){return new bl.$ctor2(this.get_base().add('BrushedFillColor'))},highlightedFillColor:function(){return new bl.$ctor2(this.get_base().add('HighlightedFillColor'))},selectedFillColor:function(){return new bl.$ctor2(this.get_base().add('SelectedFillColor'))},textFitStyle:function(){return new bl.$ctor2(this.get_base().add('TextFitStyle'))},leftPadding:function(){return new bl.$ctor2(this.get_base().add('LeftPadding'))},rightPadding:function(){return new bl.$ctor2(this.get_base().add('RightPadding'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var V=global.tab.HeatmapInputEncodingKeys=ss.mkType(a,'tab.HeatmapInputEncodingKeys',function(){bl.call(this)},{size:function(){return new bl.$ctor2(this.get_base().add('Size'))},palette:function(){return new bl.$ctor2(this.get_base().add('Palette'))},steps:function(){return new bl.$ctor2(this.get_base().add('Steps'))},isReversed:function(){return new bl.$ctor2(this.get_base().add('IsReversed'))},minRequiredDensity:function(){return new bl.$ctor2(this.get_base().add('MinRequiredDensity'))},intensity:function(){return new bl.$ctor2(this.get_base().add('Intensity'))},maxValue:function(){return new bl.$ctor2(this.get_base().add('MaxValue'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var W=global.tab.HeatmapOutputEncodingKeys=ss.mkType(a,'tab.HeatmapOutputEncodingKeys',function(){bl.call(this)},{kernelRadius:function(){return new bl.$ctor2(this.get_base().add('KernelRadius'))},palette:function(){return new bl.$ctor2(this.get_base().add('Palette'))},steps:function(){return new bl.$ctor2(this.get_base().add('Steps'))},minValue:function(){return new bl.$ctor2(this.get_base().add('MinValue'))},maxValue:function(){return new bl.$ctor2(this.get_base().add('MaxValue'))},underlyingMarkSize:function(){return new bl.$ctor2(this.get_base().add('UnderlyingMarkSize'))},underlyingMarkColor:function(){return new bl.$ctor2(this.get_base().add('UnderlyingMarkColor'))},intensity:function(){return new bl.$ctor2(this.get_base().add('Intensity'))},markWeights:function(){return new bl.$ctor2(this.get_base().add('MarkWeights'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var X=global.tab.HeatmapProducerInputKeys=ss.mkType(a,'tab.HeatmapProducerInputKeys',function(){bl.call(this)},{encoding:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new V.$ctor1(this.get_base().add('Encoding').add(e))}return new V.$ctor1(this.get_base().add('Encoding').add(ss.formatString("'{0}'",e)))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var Y=global.tab.HeatmapProducerOutputKeys=ss.mkType(a,'tab.HeatmapProducerOutputKeys',function(){bl.call(this)},{encoding:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new W.$ctor1(this.get_base().add('Encoding').add(e))}return new W.$ctor1(this.get_base().add('Encoding').add(ss.formatString("'{0}'",e)))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var Z=global.tab.HexEncoder=ss.mkType(a,'tab.HexEncoder',function(){},null,{$0:function(){if(!Z.$3){Z.$3=true;Z.$2=new Array(256);for(var e=0;e<16;e++){Z.$2[e]='0'+e.toString(16)}for(var dp=16;dp<256;dp++){Z.$2[dp]=dp.toString(16)}}},encodeBufferToHex:function(e){Z.$0();var dp=new Array(e.byteLength*2);for(var dq=0;dq<e.byteLength;dq++){dp[dq]=Z.$2[e[dq]]}return dp.join('')}});var ba=global.tab.HexHeapDecoder=ss.mkType(a,'tab.HexHeapDecoder',null,null,{decodedLength:function(e){return ss.idiv(e.length,2)},run:function(e,dp,dq){var dr=0;while(dr<dq.length){dp[e++]=ba.$1[dq.charCodeAt(dr++)]*16|ba.$1[dq.charCodeAt(dr++)]}}});var bb=global.tab.HiddenMarksKeys=ss.mkType(a,'tab.HiddenMarksKeys',function(){bl.call(this)},{paneIndex:function(){return new bl.$ctor2(this.get_base().add('PaneIndex'))},cellIndex:function(){return new bl.$ctor2(this.get_base().add('CellIndex'))},min:function(){return new bl.$ctor2(this.get_base().add('Min'))},max:function(){return new bl.$ctor2(this.get_base().add('Max'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bc=global.tab.HuttUtils=ss.mkType(a,'tab.HuttUtils',function(){},null,{getMappedArray:function(e,dp,dq,dr){switch(e){case 32:{return new Uint8Array(dp,dq,dr)}case 33:{return new Uint16Array(dp,dq,dr)}case 34:{return new Uint32Array(dp,dq,dr)}case 40:{return new Int8Array(dp,dq,dr)}case 41:{return new Int16Array(dp,dq,dr)}case 42:{return new Int32Array(dp,dq,dr)}case 50:{return new Float32Array(dp,dq,dr)}case 51:{return new Float64Array(dp,dq,dr)}}throw new ss.Exception('Unsupported array type: '+e)},getMappedArrayJabba:function(e,dp,dq,dr){var ds=bc.$0(e);var dt=ss.idiv(dr,bc.$0(e));switch(e){case 32:{return new Uint8Array(dp,dq,dt)}case 33:{return new Uint16Array(dp,dq,dt)}case 34:{return new Uint32Array(dp,dq,dt)}case 40:{return new Int8Array(dp,dq,dt)}case 41:{return new Int16Array(dp,dq,dt)}case 42:{return new Int32Array(dp,dq,dt)}case 50:{return new Float32Array(dp,dq,dt)}case 51:{return new Float64Array(dp,dq,dt)}}throw new ss.Exception('Unsupported array type: '+e)},$0:function(e){var dp=e;return 1<<(dp&7)}});var bd=global.tab.ImportKeys=ss.mkType(a,'tab.ImportKeys',function(){bl.call(this)},{dataTable:function(){return new bl.$ctor2(this.get_base().add('DataTable'))},flattenedColorEncodings:function(){return new bl.$ctor2(this.get_base().add('FlattenedColorEncodings'))},flattenedShapeEncodings:function(){return new bl.$ctor2(this.get_base().add('FlattenedShapeEncodings'))},flattenedSizeEncodings:function(){return new bl.$ctor2(this.get_base().add('FlattenedSizeEncodings'))},cellXProvided:function(){return new bl.$ctor2(this.get_base().add('CellXProvided'))},cellYProvided:function(){return new bl.$ctor2(this.get_base().add('CellYProvided'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var be=global.tab.IncrementalUpdateInputKeys=ss.mkType(a,'tab.IncrementalUpdateInputKeys',function(){bl.call(this)},{supportedClientUpdates:function(){return new bl.$ctor2(this.get_base().add('SupportedClientUpdates'))},supportedDesktopUpdates:function(){return new bl.$ctor2(this.get_base().add('SupportedDesktopUpdates'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bf=global.tab.IndexedFieldNameKeys=ss.mkType(a,'tab.IndexedFieldNameKeys',function(){bl.call(this)},{fieldName:function(){return new bl.$ctor2(this.get_base().add('FieldName'))},index:function(){return new bl.$ctor2(this.get_base().add('Index'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bg=global.tab.IRuntimeWebModule=ss.mkType(a,'tab.IRuntimeWebModule');var bh=global.tab.IRWALSupport=ss.mkType(a,'tab.IRWALSupport');var bi=global.tab.JabbaManifest=ss.mkType(a,'tab.JabbaManifest',function(e,dp){this.typeId=0;this.encoding=0;this.dataOffset=0;this.dataSize=0;this.typeId=e[dp+0];this.encoding=e[dp+1];this.dataOffset=e[dp+2];this.dataSize=e[dp+3]});var bj=global.tab.JabbaUnpacker=ss.mkType(a,'tab.JabbaUnpacker',function(e){this.$8=null;this.$b=null;this.$c=0;this.$9=0;this.$a=0;this.$d=[];this.unpacked=[];this.$b=e;this.$7()},{$5:function(e){var dp=0;for(var dq=0;dq<e.length;dq+=2){dp+=ss.trunc(e[dq])}var dr=new Float32Array(dp);var ds=0;for(var dt=0;dt<e.length;dt+=2){var du=ss.trunc(e[dt]);var dv=e[dt+1];for(var dw=0;dw<du;dw++){dr[ds++]=dv}}return dr},$6:function(e){var dp=0;for(var dq=0;dq<e.length;dq+=2){dp+=ss.trunc(e[dq])}var dr=new Float64Array(dp);var ds=0;for(var dt=0;dt<e.length;dt+=2){var du=ss.trunc(e[dt]);var dv=e[dt+1];for(var dw=0;dw<du;dw++){dr[ds++]=dv}}return dr},$7:function(){this.$3();this.$4();this.$8=new Uint8Array(this.$a);var e=0;var dp=0;for(var dq=0;dq<this.$d.length;dq++){var dr=this.$d[dq];dp=e;var ds=this.$2(dr,e);e+=ds;e+=this.$0(e,8);if(dr.encoding===3){if(dr.typeId===51){var dt=bc.getMappedArrayJabba(51,this.$8.buffer,dp,ds);var du=this.$6(dt);this.unpacked.push(du)}else if(dr.typeId===50){var dv=bc.getMappedArrayJabba(50,this.$8.buffer,dp,ds);var dw=this.$5(dv);this.unpacked.push(dw)}}else{this.unpacked.push(bc.getMappedArrayJabba(dr.typeId,this.$8.buffer,dp,ds))}}},$0:function(e,dp){return ss.imod(dp-ss.imod(e,dp),dp)},$2:function(e,dp){var dq=new Uint8Array(this.$b,this.$9+e.dataOffset,e.dataSize);if(e.encoding===0||e.encoding===3){this.$8.set(dq,dp)}else if(e.encoding===2){return this.$1(dq,dp)}else{throw new ss.Exception('Unsupported encoding: '+e.encoding)}return e.dataSize},$1:function(e,dp){var dq=0;var dr=0;var ds=0;var dt=new Int32Array(this.$8.buffer,dp);while(dr<e.length){if(e[dr]<=240){var du=e[dr];dq=(du>>>1^-(du&1))+dq;dr+=1}else if(e[dr]<=248){var dv=240+256*(e[dr]-241)+e[dr+1];dq=(dv>>>1^-(dv&1))+dq;dr+=2}else if(e[dr]===249){var dw=2288+256*e[dr+1]+e[dr+2];dq=(dw>>>1^-(dw&1))+dq;dr+=3}else if(e[dr]===250){var dx=e[dr+1]*(1<<16)+e[dr+2]*(1<<8)+e[dr+3];dq=(dx>>>1^-(dx&1))+dq;dr+=4}else if(e[dr]===251){var dy=e[dr+1]*(1<<24)+e[dr+2]*(1<<16)+e[dr+3]*(1<<8)+e[dr+4];dq=(dy>>>1^-(dy&1))+dq;dr+=5}else if(e[dr]===252){var dz=e[dr+1]*(1<<32)+e[dr+2]*(1<<24)+e[dr+3]*(1<<16)+e[dr+4]*(1<<8)+e[dr+5];dq=(dz>>>1^-(dz&1))+dq;dr+=6}dt[ds++]=ss.trunc(dq)}return ds*4},$3:function(){var e=new DataView(this.$b);var dp=e.getUint16(0,true);var dq=e.getUint16(2,true);this.$a=e.getInt32(4,true);this.$c=e.getInt32(8,true);this.$9=e.getInt32(12,true);if(dp!==43962){throw new ss.Exception('Magic number mismatch: '+dp)}if(dq!==1){throw new ss.Exception('Unsupported JABBA version '+dq)}},$4:function(){var e=new Uint32Array(this.$b,16,this.$c*Uint32Array.BYTES_PER_ELEMENT);for(var dp=0;dp<this.$c;dp++){this.$d.push(new bi(e,dp*Uint32Array.BYTES_PER_ELEMENT))}}});var bk=global.tab.JsHeapMarshaller=ss.mkType(a,'tab.JsHeapMarshaller',function(e){this.data=null;this.stringTable={};this.marshalled={};this.heap=null;this.jabba=null;this.heap=e;this.jabba=new bj(e);this.data=new bF(this.jabba);this.$0()},{$0:function(){var e=this.data.stringBuffer.byteOffset;var dp=this.data.stringLengths.length;for(var dq=0;dq<dp;dq++){var dr=this.data.stringLengths[dq];this.stringTable[dq]=dh.decode(new Uint8Array(this.data.stringBuffer.buffer,e,dr));e+=dr}}},{$3:function(e,dp){this.data=null;this.stringTable={};this.marshalled={};this.heap=null;this.jabba=null;this.heap=e;this.jabba=null;var dq=new Int32Array(this.heap,dp,10);this.data=new bF.$ctor1(dq,this.heap);this.$0()},unmarshall$1:function(e,dp){var dq=new bk.$3(e,dp);var dr=new b(dq);return dr.$0()},unmarshall:function(e){var dp=new bk(e);var dq=new b(dp);return dq.$0()},unmarshallHex:function(e){if(!ss.keyExists(bk.$2,e)){bk.$2[e]=bk.unmarshall(bk.$0(e))}if(b.$0){return bk.$2[e]}else{var dp={};_.extend(dp,bk.$2[e]);return dp}},unmarshallBase64:function(e){var dp=s.decodedLength(e);var dq=new Uint8Array(dp);s.run(0,dq,e);return bk.unmarshall(dq.buffer)},$0:function(e){var dp=new Uint8Array(ba.decodedLength(e));ba.run(0,dp,e);return dp.buffer}});var bl=global.tab.KeyPath=ss.mkType(a,'tab.KeyPath',function(){this.$1=null;this.$2=null;this.$0('',null)},{get_base:function(){return this},get_parent:function(){return this.$2},get_isEmpty:function(){return this.$1.length===0},$0:function(e,dp){this.$1=e;this.$2=dp},add:function(e){if(e.length===0){throw new ss.Exception("LogicAssert: Can't add empty key")}if(this.$1.length===0){return new bl.$1(e,this)}return new bl.$1(this.get_base()+'/'+e,this)},add$1:function(e){return this.add(e.$1)},toString:function(){return this.$1}},{$ctor1:function(e){this.$1=null;this.$2=null;this.$0(e,null)},$ctor2:function(e){this.$1=null;this.$2=null;this.$0(e.$1,null)},$1:function(e,dp){this.$1=null;this.$2=null;this.$0(e,dp)}});var bm=global.tab.LabelPlacementKeys=ss.mkType(a,'tab.LabelPlacementKeys',function(){bl.call(this)},{textEncodingTable:function(){return new cV.$ctor1(this.get_base().add('TextEncodingTable'))},textRunTable:function(){return new cW.$ctor1(this.get_base().add('TextRunTable'))},textStyleTable:function(){return new cZ.$ctor1(this.get_base().add('TextStyleTable'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bn=global.tab.LabelSkipInputKeys=ss.mkType(a,'tab.LabelSkipInputKeys',function(){bl.call(this)},{perHeaderMajorTickPlacement:function(){return new dd.$ctor1(this.get_base().add('PerHeaderMajorTickPlacement'))},columnFormat:function(){return new bl.$ctor2(this.get_base().add('ColumnFormat'))},updatedColumnFormat:function(){return new bl.$ctor2(this.get_base().add('UpdatedColumnFormat'))},labelStyle:function(){return new bl.$ctor2(this.get_base().add('LabelStyle'))},encodedTickPositions:function(){return new bl.$ctor2(this.get_base().add('EncodedTickPositions'))},tickLabelValues:function(){return new bl.$ctor2(this.get_base().add('TickLabelValues'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bo=global.tab.LabelSkipOutputTableKeys=ss.mkType(a,'tab.LabelSkipOutputTableKeys',function(){bl.call(this)},{skip:function(){return new bl.$ctor2(this.get_base().add('Skip'))},includeFirstLabel:function(){return new bl.$ctor2(this.get_base().add('IncludeFirstLabel'))},includeLastLabel:function(){return new bl.$ctor2(this.get_base().add('IncludeLastLabel'))},headerIndex:function(){return new bl.$ctor2(this.get_base().add('HeaderIndex'))},labelOffset:function(){return new bl.$ctor2(this.get_base().add('LabelOffset'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bp=global.tab.LabelStoreKeys=ss.mkType(a,'tab.LabelStoreKeys',function(){bl.call(this)},{pdMarks:function(){return new bl.$ctor2(this.get_base().add('PDMarks'))},pageIntervalTable:function(){return new bP.$ctor1(this.get_base().add('PageIntervalTable'))},panes:function(){return new bY.$ctor1(this.get_base().add('Panes'))},userPaneInfo:function(){return new dg.$ctor1(this.get_base().add('UserPaneInfo'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bq=global.tab.LayoutInputStoreKeys=ss.mkType(a,'tab.LayoutInputStoreKeys',function(){bl.call(this)},{axisProducerData:function(){return new j.$ctor1(this.get_base().add('AxisProducerData'))},sceneMarginStylesData:function(){return new cM.$ctor1(this.get_base().add('SceneMarginStylesData'))},encodingData:function(){return new u.$ctor1(this.get_base().add('EncodingData'))},extendedDomain:function(){return new L.$ctor1(this.get_base().add('ExtendedDomain'))},gridLineProducerData:function(){return new S.$ctor1(this.get_base().add('GridLineProducerData'))},markLayoutTempKeys:function(){return new bl.$ctor2(this.get_base().add('MarkLayoutTempKeys'))},tickProducerData:function(){return new db.$ctor1(this.get_base().add('TickProducerData'))},pdMarksData:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new bB.$ctor1(this.get_base().add('PDMarksData').add(e))}return new bB.$ctor1(this.get_base().add('PDMarksData').add(ss.formatString("'{0}'",e)))},partitionResultStore:function(){return new cc.$ctor1(this.get_base().add('PartitionResultStore'))},importData:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new bd.$ctor1(this.get_base().add('ImportData').add(e))}return new bd.$ctor1(this.get_base().add('ImportData').add(ss.formatString("'{0}'",e)))},refLinesData:function(){return new cr.$ctor1(this.get_base().add('RefLinesData'))},refLinesTotalTableMapData:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new cu.$ctor1(this.get_base().add('RefLinesTotalTableMapData').add(e))}return new cu.$ctor1(this.get_base().add('RefLinesTotalTableMapData').add(ss.formatString("'{0}'",e)))},selectionData:function(){return new cN.$ctor1(this.get_base().add('SelectionData'))},incrementalUpdateData:function(){return new be.$ctor1(this.get_base().add('IncrementalUpdateData'))},paneStylesData:function(){return new bZ.$ctor1(this.get_base().add('PaneStylesData'))},heatmapData:function(){return new X.$ctor1(this.get_base().add('HeatmapData'))},visualLayoutData:function(){return new dl.$ctor1(this.get_base().add('VisualLayoutData'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var br=global.tab.LayoutResultStoreKeys=ss.mkType(a,'tab.LayoutResultStoreKeys',function(){bl.call(this)},{axisOutput:function(){return new k.$ctor1(this.get_base().add('AxisOutput'))},gridLines:function(){return new T.$ctor1(this.get_base().add('GridLines'))},heatmap:function(){return new Y.$ctor1(this.get_base().add('Heatmap'))},pdMarks:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new bC.$ctor1(this.get_base().add('PDMarks').add(e))}return new bC.$ctor1(this.get_base().add('PDMarks').add(ss.formatString("'{0}'",e)))},pageIntervalTable:function(){return new bP.$ctor1(this.get_base().add('PageIntervalTable'))},paneCount:function(){return new bQ.$ctor1(this.get_base().add('PaneCount'))},paneStyles:function(){return new bZ.$ctor1(this.get_base().add('PaneStyles'))},firstPassRefLines:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new cs.$ctor1(this.get_base().add('FirstPassRefLines').add(e))}return new cs.$ctor1(this.get_base().add('FirstPassRefLines').add(ss.formatString("'{0}'",e)))},refLines:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new cs.$ctor1(this.get_base().add('RefLines').add(e))}return new cs.$ctor1(this.get_base().add('RefLines').add(ss.formatString("'{0}'",e)))},sceneMargin:function(){return new cK.$ctor1(this.get_base().add('SceneMargin'))},instantRefLines:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new cs.$ctor1(this.get_base().add('InstantRefLines').add(e))}return new cs.$ctor1(this.get_base().add('InstantRefLines').add(ss.formatString("'{0}'",e)))},supportedIncrementalUpdates:function(){return new be.$ctor1(this.get_base().add('SupportedIncrementalUpdates'))},tickPlacement:function(){return new dc.$ctor1(this.get_base().add('TickPlacement'))},viewpoint:function(){return new dk.$ctor1(this.get_base().add('Viewpoint'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bs=global.tab.LinearFloatGeometryDecoder=ss.mkType(a,'tab.LinearFloatGeometryDecoder',function(e){this.$6=0;this.$5=null;this.$6=0;this.$5=e},{processEncodedGeometry:function(){var e;switch(ss.trunc(this.$5[this.$6++])){case 1:{e=this.$4();break}case 2:{e=this.$2();break}case 3:{e=this.$3();break}default:{this.$1();return null}}if(this.$5[this.$6++]!==7){this.$1()}if(this.$6!==this.$5.length){this.$1()}return e},$3:function(){var e={};var dp=0;var dq=0;e.geometryType='multiPoint';var dr={};e.multiPoint=dr;if(this.$6+2>this.$5.length){this.$1()}dp=this.$5[this.$6++];dq=this.$5[this.$6++];dr.pointsF=this.$0(dp,dq);return e},$2:function(){var e={geometryType:'multiLineString'};var dp={};var dq=null;if(this.$6+2>this.$5.length){this.$1()}var dr=this.$5[this.$6++];var ds=this.$5[this.$6++];while(this.$6<this.$5.length&&this.$5[this.$6]!==7){switch(ss.trunc(this.$5[this.$6++])){case 4:{dp={lineList:[]};e.multiLine=dp;break}case 6:{dq={};dp.lineList.push(dq);dq.pointsF=this.$0(dr,ds);break}default:{this.$1();break}}}return e},$4:function(){var e={geometryType:'multiPolygon'};var dp=null;var dq=null;var dr=null;if(this.$6+2>this.$5.length){this.$1()}var ds=this.$5[this.$6++];var dt=this.$5[this.$6++];while(this.$6<this.$5.length&&this.$5[this.$6]!==7){switch(ss.trunc(this.$5[this.$6++])){case 4:{dp={};e.multiPolygon=dp;dp.polygonList=[];break}case 5:{dq={lineList:[]};dp.polygonList.push(dq);break}case 6:{dr={};dq.lineList.push(dr);dr.pointsF=this.$0(ds,dt);break}default:{this.$1();break}}}return e},$0:function(e,dp){if(this.$6>=this.$5.length){this.$1()}var dq=ss.trunc(this.$5[this.$6++]);if(this.$6+dq>this.$5.length){this.$1()}var dr=new Array(dq);for(var ds=0;ds<dq;ds+=2){dr[ds]=this.$5[this.$6++]+e;dr[ds+1]=this.$5[this.$6++]+dp}return dr},$1:function(){throw new ss.Exception('Invalid geometry data around position '+this.$6)}});var bt=global.tab.LocalEmscripten=ss.mkType(a,'tab.LocalEmscripten',function(){},{executeVM:function(dp){var dq=$.Deferred();var dr=tabBootstrap.MetricsController.createContext('RW_ExecuteVM',32,null);try{var ds=new A(Module._ExecuteVM(dp.handleValue),function(e){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(e)});dq.resolve(ds)}catch(dt){var e=ss.Exception.wrap(dt);dq.reject();e=G.getExceptionInformation(e);e.name='RuntimeWebModule Error in ExecuteVM';tab.ErrorTrace.report(e,false)}dr.dispose();return dq.promise()},$0:function(dp,dq,dr){var ds=$.Deferred();var dt=tabBootstrap.MetricsController.createContext('RW_BuildVM',32,null);try{var du=new dn(Module._BuildVM(dp,dq,dr.handleValue),function(e){RuntimeHandleManager._HandleManagerReleaseVMHandle(e)});ds.resolve(du)}catch(dv){var e=ss.Exception.wrap(dv);ds.reject();e=G.getExceptionInformation(e);e.name='RuntimeWebModule Error in BuildVM';tab.ErrorTrace.report(e,false)}dt.dispose();return ds.promise()},buildVMHex:function(e,dp){var dq=ba.decodedLength(e);var dr=RuntimeWebModule._malloc(dq);ba.run(dr,RuntimeWebModule.HEAPU8,e);var ds=this.$0(dr,dq,dp);RuntimeWebModule._free(dr);return ds},$2:function(dp,dq){var dr=$.Deferred();var ds=tabBootstrap.MetricsController.createContext('RW_LoadBinaryDatastore',32,null);try{var dt=new A(Module._LoadBinaryDatastore(dp,dq),function(e){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(e)});dr.resolve(dt)}catch(du){var e=ss.Exception.wrap(du);dr.reject();e=G.getExceptionInformation(e);e.name='RuntimeWebModule Error in LoadBinaryDatastore';tab.ErrorTrace.report(e,false)}ds.dispose();return dr.promise()},loadBinaryDatastoreHex:function(e){var dp=ba.decodedLength(e);var dq=RuntimeWebModule._malloc(dp);ba.run(dq,RuntimeWebModule.HEAPU8,e);var dr=this.$2(dq,dp);RuntimeWebModule._free(dq);return dr},initializeRuntime:function(){var dp=$.Deferred();var dq=tabBootstrap.MetricsController.createContext('RW_InitializeRuntime',32,null);try{Module._InitializeRuntime();dp.resolve()}catch(dr){var e=ss.Exception.wrap(dr);dp.reject();e=G.getExceptionInformation(e);e.name='RuntimeWebModule Error in InitializeRuntime';tab.ErrorTrace.report(e,false)}dq.dispose();return dp.promise()},marshallDatastore:function(dp){var dq=$.Deferred();var dr=tabBootstrap.MetricsController.createContext('RW_MarshallDatastore',32,null);try{var ds=Module._MarshallDatastore(dp.handleValue);var dt=bk.unmarshall$1(RuntimeWebModule.HEAPU8.buffer,ds);dq.resolve(dt)}catch(du){var e=ss.Exception.wrap(du);dq.reject();e=G.getExceptionInformation(e);e.name='RuntimeWebModule Error in MarshallDatastore';tab.ErrorTrace.report(e,false)}dr.dispose();return dq.promise()},$3:function(dp,dq,dr){var ds=$.Deferred();var dt=tabBootstrap.MetricsController.createContext('RW_MarshallDatastoreSubKey',32,null);try{var du=Module._MarshallDatastoreSubKey(dp.handleValue,dq,dr);var dv=bk.unmarshall$1(RuntimeWebModule.HEAPU8.buffer,du);ds.resolve(dv)}catch(dw){var e=ss.Exception.wrap(dw);ds.reject();e=G.getExceptionInformation(e);e.name='RuntimeWebModule Error in MarshallDatastoreSubKey';tab.ErrorTrace.report(e,false)}dt.dispose();return ds.promise()},marshallDatastoreSubKeyHex:function(e,dp){var dq=ba.decodedLength(dp);var dr=RuntimeWebModule._malloc(dq);ba.run(dr,RuntimeWebModule.HEAPU8,dp);var ds=this.$3(e,dr,dq);RuntimeWebModule._free(dr);return ds},$1:function(dp,dq,dr){var ds=$.Deferred();var dt=tabBootstrap.MetricsController.createContext('RW_LoadAndApplyDataStoreUpdater',32,null);try{var du=new A(Module._LoadAndApplyDataStoreUpdater(dp,dq,dr.handleValue),function(e){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(e)});ds.resolve(du)}catch(dv){var e=ss.Exception.wrap(dv);ds.reject();e=G.getExceptionInformation(e);e.name='RuntimeWebModule Error in LoadAndApplyDataStoreUpdater';tab.ErrorTrace.report(e,false)}dt.dispose();return ds.promise()},loadAndApplyDataStoreUpdaterHex:function(e,dp){var dq=ba.decodedLength(e);var dr=RuntimeWebModule._malloc(dq);ba.run(dr,RuntimeWebModule.HEAPU8,e);var ds=this.$1(dr,dq,dp);RuntimeWebModule._free(dr);return ds},localPanCommand:function(dp,dq,dr,ds,dt){var du=$.Deferred();var dv=tabBootstrap.MetricsController.createContext('RW_LocalPanCommand',32,null);try{var dw=new A(Module._LocalPanCommand(dp.handleValue,dq.handleValue,dr.handleValue,ds,dt),function(e){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(e)});du.resolve(dw)}catch(dx){var e=ss.Exception.wrap(dx);du.reject();e=G.getExceptionInformation(e);e.name='RuntimeWebModule Error in LocalPanCommand';tab.ErrorTrace.report(e,false)}dv.dispose();return du.promise()},localZoomCommand:function(dp,dq,dr,ds,dt,du,dv,dw){var dx=$.Deferred();var dy=tabBootstrap.MetricsController.createContext('RW_LocalZoomCommand',32,null);try{var dz=new A(Module._LocalZoomCommand(dp.handleValue,dq.handleValue,dr.handleValue,ds,dt,du,dv,dw),function(e){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(e)});dx.resolve(dz)}catch(dA){var e=ss.Exception.wrap(dA);dx.reject();e=G.getExceptionInformation(e);e.name='RuntimeWebModule Error in LocalZoomCommand';tab.ErrorTrace.report(e,false)}dy.dispose();return dx.promise()},localZoomFactorCommand:function(dp,dq,dr,ds,dt,du){var dv=$.Deferred();var dw=tabBootstrap.MetricsController.createContext('RW_LocalZoomFactorCommand',32,null);try{var dx=new A(Module._LocalZoomFactorCommand(dp.handleValue,dq.handleValue,dr.handleValue,ds,dt,du),function(e){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(e)});dv.resolve(dx)}catch(dy){var e=ss.Exception.wrap(dy);dv.reject();e=G.getExceptionInformation(e);e.name='RuntimeWebModule Error in LocalZoomFactorCommand';tab.ErrorTrace.report(e,false)}dw.dispose();return dv.promise()},$4:function(dp,dq,dr){var ds=$.Deferred();var dt=tabBootstrap.MetricsController.createContext('RW_RueUpdateCommand',32,null);try{var du=new A(Module._RueUpdateCommand(dp.handleValue,dq,dr),function(e){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(e)});ds.resolve(du)}catch(dv){var e=ss.Exception.wrap(dv);ds.reject();e=G.getExceptionInformation(e);e.name='RuntimeWebModule Error in RueUpdateCommand';tab.ErrorTrace.report(e,false)}dt.dispose();return ds.promise()},rueUpdateCommandHex:function(e,dp){var dq=ba.decodedLength(dp);var dr=RuntimeWebModule._malloc(dq);ba.run(dr,RuntimeWebModule.HEAPU8,dp);var ds=this.$4(e,dr,dq);RuntimeWebModule._free(dr);return ds}});var bu=global.tab.LocalEmscriptenSupport=ss.mkType(a,'tab.LocalEmscriptenSupport',function(){},{paramToByteBuffer:function(e){var dp=e;var dq=RuntimeWebModule.HEAPU32[dp>>2];var dr=RuntimeWebModule.HEAPU32[(dp>>2)+1];return RuntimeWebModule.HEAPU8.buffer.slice(dq,dq+dr)},byteBufferToHeap:function(e){var dp=RuntimeWebModule._malloc(e.byteLength+2);var dq=dp+8;RuntimeWebModule.HEAPU32[dp>>2]=dq;RuntimeWebModule.HEAPU32[(dp>>2)+1]=e.byteLength;RuntimeWebModule.HEAPU8.set(new Uint8Array(e),dq);return dp},paramToString:function(e){var dp=e;return dh.decodeNullTerminated(RuntimeWebModule.HEAPU8.subarray(dp))},stringToHeap:function(e){var dp=di.encode(e);var dq=RuntimeWebModule._malloc(dp.length+1);RuntimeWebModule.HEAPU8[dq+dp.length]=0;RuntimeWebModule.HEAPU8.set(dp,dq);return dq}});var bv=global.tab.LockedRatioKeys=ss.mkType(a,'tab.LockedRatioKeys',function(){bl.call(this)},{isMap:function(){return new bl.$ctor2(this.get_base().add('IsMap'))},hasPosition:function(){return new bl.$ctor2(this.get_base().add('HasPosition'))},lockedRatioOfScales:function(){return new bl.$ctor2(this.get_base().add('LockedRatioOfScales'))},defaultMinX:function(){return new bl.$ctor2(this.get_base().add('DefaultMinX'))},defaultMaxX:function(){return new bl.$ctor2(this.get_base().add('DefaultMaxX'))},defaultMinY:function(){return new bl.$ctor2(this.get_base().add('DefaultMinY'))},defaultMaxY:function(){return new bl.$ctor2(this.get_base().add('DefaultMaxY'))},defaultXSize:function(){return new bl.$ctor2(this.get_base().add('DefaultXSize'))},defaultYSize:function(){return new bl.$ctor2(this.get_base().add('DefaultYSize'))},singleItemMapDelta:function(){return new bl.$ctor2(this.get_base().add('SingleItemMapDelta'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bw=global.tab.LogTickPerHeaderInputTableKeys=ss.mkType(a,'tab.LogTickPerHeaderInputTableKeys',function(){bl.call(this)},{headerIndex:function(){return new bl.$ctor2(this.get_base().add('HeaderIndex'))},vtlBlockIndex:function(){return new bl.$ctor2(this.get_base().add('VtlBlockIndex'))},columnFormatIndex:function(){return new bl.$ctor2(this.get_base().add('ColumnFormatIndex'))},showMajorTicks:function(){return new bl.$ctor2(this.get_base().add('ShowMajorTicks'))},showMinorTicks:function(){return new bl.$ctor2(this.get_base().add('ShowMinorTicks'))},labelStyleIndex:function(){return new bl.$ctor2(this.get_base().add('LabelStyleIndex'))},labelHeight:function(){return new bl.$ctor2(this.get_base().add('LabelHeight'))},logBaseReference:function(){return new bl.$ctor2(this.get_base().add('LogBaseReference'))},originReference:function(){return new bl.$ctor2(this.get_base().add('OriginReference'))},perpendicularLabels:function(){return new bl.$ctor2(this.get_base().add('PerpendicularLabels'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bx=global.tab.MapBoundsKeys=ss.mkType(a,'tab.MapBoundsKeys',function(){bl.call(this)},{boundingBoxTops:function(){return new bl.$ctor2(this.get_base().add('BoundingBoxTops'))},boundingBoxBottoms:function(){return new bl.$ctor2(this.get_base().add('BoundingBoxBottoms'))},boundingBoxLefts:function(){return new bl.$ctor2(this.get_base().add('BoundingBoxLefts'))},boundingBoxRights:function(){return new bl.$ctor2(this.get_base().add('BoundingBoxRights'))},latitudesForNullGeometries:function(){return new bl.$ctor2(this.get_base().add('LatitudesForNullGeometries'))},longitudesForNullGeometries:function(){return new bl.$ctor2(this.get_base().add('LongitudesForNullGeometries'))},latitudes:function(){return new bl.$ctor2(this.get_base().add('Latitudes'))},longitudes:function(){return new bl.$ctor2(this.get_base().add('Longitudes'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var by=global.tab.MapLayersModelUpdateKeys=ss.mkType(a,'tab.MapLayersModelUpdateKeys',function(){bl.call(this)},{isValid:function(){return new bl.$ctor2(this.get_base().add('IsValid'))},displayScale:function(){return new bl.$ctor2(this.get_base().add('DisplayScale'))},actualZoomLevel:function(){return new bl.$ctor2(this.get_base().add('ActualZoomLevel'))},coverage:function(){return new bl.$ctor2(this.get_base().add('Coverage'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bz=global.tab.MapPackageKeys=ss.mkType(a,'tab.MapPackageKeys',function(){bl.call(this)},{mapCode:function(){return new bl.$ctor2(this.get_base().add('MapCode'))},mapLayersModel:function(){return new bl.$ctor2(this.get_base().add('MapLayersModel'))},mapProvider:function(){return new bl.$ctor2(this.get_base().add('MapProvider'))},mappedImageModel:function(){return new bl.$ctor2(this.get_base().add('MappedImageModel'))},mapSceneModel:function(){return new bl.$ctor2(this.get_base().add('MapSceneModel'))},modelNumber:function(){return new bl.$ctor2(this.get_base().add('ModelNumber'))},sourceName:function(){return new bl.$ctor2(this.get_base().add('SourceName'))},styleName:function(){return new bl.$ctor2(this.get_base().add('StyleName'))},waitForImages:function(){return new bl.$ctor2(this.get_base().add('WaitForImages'))},waitTileFill:function(){return new bl.$ctor2(this.get_base().add('WaitTileFill'))},wrapCount:function(){return new bl.$ctor2(this.get_base().add('WrapCount'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bA=global.tab.MapProviderKeys=ss.mkType(a,'tab.MapProviderKeys',function(){bl.call(this)},{pixelsPerCRSUnitAtZoomLevel1:function(){return new bl.$ctor2(this.get_base().add('PixelsPerCRSUnitAtZoomLevel1'))},maxScaleLevel:function(){return new bl.$ctor2(this.get_base().add('MaxScaleLevel'))},tileSize:function(){return new bl.$ctor2(this.get_base().add('TileSize'))},intermediateLevels:function(){return new bl.$ctor2(this.get_base().add('IntermediateLevels'))},isTileSizeAdjustable:function(){return new bl.$ctor2(this.get_base().add('IsTileSizeAdjustable'))},minShrink:function(){return new bl.$ctor2(this.get_base().add('MinShrink'))},maxStretch:function(){return new bl.$ctor2(this.get_base().add('MaxStretch'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bB=global.tab.MarkLayoutDataKeys=ss.mkType(a,'tab.MarkLayoutDataKeys',function(){bl.call(this)},{parameters:function(){return new bD.$ctor1(this.get_base().add('Parameters'))},geometryTable:function(){return new bl.$ctor2(this.get_base().add('GeometryTable'))},textCompositionInputKeys:function(){return new cU.$ctor1(this.get_base().add('TextCompositionInputKeys'))},textTableHelper:function(){return new bl.$ctor2(this.get_base().add('TextTableHelper'))},wordleRandomKeys:function(){return new bl.$ctor2(this.get_base().add('WordleRandomKeys'))},xDomains:function(){return new C.$ctor1(this.get_base().add('XDomains'))},xHiddenMarks:function(){return new bb.$ctor1(this.get_base().add('XHiddenMarks'))},yDomains:function(){return new C.$ctor1(this.get_base().add('YDomains'))},yHiddenMarks:function(){return new bb.$ctor1(this.get_base().add('YHiddenMarks'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bC=global.tab.MarkLayoutOutputKeys=ss.mkType(a,'tab.MarkLayoutOutputKeys',function(){bl.call(this)},{color:function(){return new bl.$ctor2(this.get_base().add('Color'))},domain:function(){return new bl.$ctor2(this.get_base().add('Domain'))},ellipses:function(){return new F.$ctor1(this.get_base().add('Ellipses'))},encodingData:function(){return new u.$ctor1(this.get_base().add('EncodingData'))},encodings:function(){return new H.$ctor1(this.get_base().add('Encodings'))},height:function(){return new bl.$ctor2(this.get_base().add('Height'))},hasPerMarkColorEncoding:function(){return new bl.$ctor2(this.get_base().add('HasPerMarkColorEncoding'))},hasPerMarkSizeEncoding:function(){return new bl.$ctor2(this.get_base().add('HasPerMarkSizeEncoding'))},isMarkStacked:function(){return new bl.$ctor2(this.get_base().add('IsMarkStacked'))},markLayoutData:function(){return new bB.$ctor1(this.get_base().add('MarkLayoutData'))},scaledStartPoint:function(){return new bl.$ctor2(this.get_base().add('ScaledStartPoint'))},scaledEndPoint:function(){return new bl.$ctor2(this.get_base().add('ScaledEndPoint'))},textRunCount:function(){return new bl.$ctor2(this.get_base().add('TextRunCount'))},textRunOffset:function(){return new bl.$ctor2(this.get_base().add('TextRunOffset'))},textRunTable:function(){return new cW.$ctor1(this.get_base().add('TextRunTable'))},textTable:function(){return new bl.$ctor2(this.get_base().add('TextTable'))},textStyleTable:function(){return new cZ.$ctor1(this.get_base().add('TextStyleTable'))},fontMetrics:function(){return new bl.$ctor2(this.get_base().add('FontMetrics'))},treemapKeys:function(){return new bl.$ctor2(this.get_base().add('TreemapKeys'))},showLabels:function(){return new bl.$ctor2(this.get_base().add('ShowLabels'))},labelMode:function(){return new bl.$ctor2(this.get_base().add('LabelMode'))},width:function(){return new bl.$ctor2(this.get_base().add('Width'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bD=global.tab.MarkLayoutParametersKeys=ss.mkType(a,'tab.MarkLayoutParametersKeys',function(){bl.call(this)},{alpha:function(){return new bl.$ctor2(this.get_base().add('Alpha'))},backgroundColor:function(){return new bl.$ctor2(this.get_base().add('BackgroundColor'))},borderColor:function(){return new bl.$ctor2(this.get_base().add('BorderColor'))},cellHeight:function(){return new bl.$ctor2(this.get_base().add('CellHeight'))},cellWidth:function(){return new bl.$ctor2(this.get_base().add('CellWidth'))},clipHeight:function(){return new bl.$ctor2(this.get_base().add('ClipHeight'))},clipWidth:function(){return new bl.$ctor2(this.get_base().add('ClipWidth'))},color:function(){return new bl.$ctor2(this.get_base().add('Color'))},drawBorder:function(){return new bl.$ctor2(this.get_base().add('DrawBorder'))},dropLineFlags:function(){return new bl.$ctor2(this.get_base().add('DropLineFlags'))},haloColor:function(){return new bl.$ctor2(this.get_base().add('HaloColor'))},hasFoldedAxis:function(){return new bl.$ctor2(this.get_base().add('HasFoldedAxis'))},hasHalos:function(){return new bl.$ctor2(this.get_base().add('HasHalos'))},handleSpecialsX:function(){return new bl.$ctor2(this.get_base().add('HandleSpecialsX'))},handleSpecialsY:function(){return new bl.$ctor2(this.get_base().add('HandleSpecialsY'))},hasEmptyOrEqualAxis:function(){return new bl.$ctor2(this.get_base().add('HasEmptyOrEqualAxis'))},hasSortEncoding:function(){return new bl.$ctor2(this.get_base().add('HasSortEncoding'))},independentAxis:function(){return new bl.$ctor2(this.get_base().add('IndependentAxis'))},height:function(){return new bl.$ctor2(this.get_base().add('Height'))},highlightedHaloColor:function(){return new bl.$ctor2(this.get_base().add('HighlightedHaloColor'))},scaleTypeX:function(){return new bl.$ctor2(this.get_base().add('ScaleTypeX'))},scaleTypeY:function(){return new bl.$ctor2(this.get_base().add('ScaleTypeY'))},labelOnePerGroup:function(){return new bl.$ctor2(this.get_base().add('LabelOnePerGroup'))},labelTargetPrimitiveId:function(){return new bl.$ctor2(this.get_base().add('LabelTargetPrimitiveId'))},lineInterpolation:function(){return new bl.$ctor2(this.get_base().add('LineInterpolation'))},markFlags:function(){return new bl.$ctor2(this.get_base().add('MarkFlags'))},markLabelPadding:function(){return new bl.$ctor2(this.get_base().add('MarkLabelPadding'))},markTrailAutoColor:function(){return new bl.$ctor2(this.get_base().add('MarkTrailAutoColor'))},markTrailColor:function(){return new bl.$ctor2(this.get_base().add('MarkTrailColor'))},markTrailCount:function(){return new bl.$ctor2(this.get_base().add('MarkTrailCount'))},markTrailEndEffect:function(){return new bl.$ctor2(this.get_base().add('MarkTrailEndEffect'))},markTrailStartEffect:function(){return new bl.$ctor2(this.get_base().add('MarkTrailStartEffect'))},markTrailTransparency:function(){return new bl.$ctor2(this.get_base().add('MarkTrailTransparency'))},minBarHeight:function(){return new bl.$ctor2(this.get_base().add('MinBarHeight'))},minBarWidth:function(){return new bl.$ctor2(this.get_base().add('MinBarWidth'))},pageTrailMarksToTrail:function(){return new bl.$ctor2(this.get_base().add('PageTrailMarksToTrail'))},paneFlags:function(){return new bl.$ctor2(this.get_base().add('PaneFlags'))},paneHasBackground:function(){return new bl.$ctor2(this.get_base().add('PaneHasBackground'))},primitiveType:function(){return new bl.$ctor2(this.get_base().add('PrimitiveType'))},selectedHaloColor:function(){return new bl.$ctor2(this.get_base().add('SelectedHaloColor'))},selectedMultiPrimHaloColor:function(){return new bl.$ctor2(this.get_base().add('SelectedMultiPrimHaloColor'))},shapeId:function(){return new bl.$ctor2(this.get_base().add('ShapeId'))},showRunningOrderLabels:function(){return new bl.$ctor2(this.get_base().add('ShowRunningOrderLabels'))},size:function(){return new bl.$ctor2(this.get_base().add('Size'))},trailOverrides:function(){return new bl.$ctor2(this.get_base().add('TrailOverrides'))},vizType:function(){return new bl.$ctor2(this.get_base().add('VizType'))},width:function(){return new bl.$ctor2(this.get_base().add('Width'))},wrapDomain:function(){return new bl.$ctor2(this.get_base().add('WrapDomain'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bE=global.tab.MarkLayoutTempKeys=ss.mkType(a,'tab.MarkLayoutTempKeys',function(){bl.call(this)},{cellSizeDefault:function(){return new bl.$ctor2(this.get_base().add('CellSizeDefault'))},cellSizeDefaultConst:function(){return new bl.$ctor2(this.get_base().add('CellSizeDefaultConst'))},cellX:function(){return new bl.$ctor2(this.get_base().add('CellX'))},cellY:function(){return new bl.$ctor2(this.get_base().add('CellY'))},clipHeight:function(){return new bl.$ctor2(this.get_base().add('ClipHeight'))},clipWidth:function(){return new bl.$ctor2(this.get_base().add('ClipWidth'))},color:function(){return new bl.$ctor2(this.get_base().add('Color'))},colorBeforeAlpha:function(){return new bl.$ctor2(this.get_base().add('ColorBeforeAlpha'))},geometry:function(){return new bl.$ctor2(this.get_base().add('Geometry'))},height:function(){return new bl.$ctor2(this.get_base().add('Height'))},isMarkStacked:function(){return new bl.$ctor2(this.get_base().add('IsMarkStacked'))},markStackIndex:function(){return new bl.$ctor2(this.get_base().add('MarkStackIndex'))},markFlagsX:function(){return new bl.$ctor2(this.get_base().add('MarkFlagsX'))},markFlagsY:function(){return new bl.$ctor2(this.get_base().add('MarkFlagsY'))},markFlags:function(){return new bl.$ctor2(this.get_base().add('MarkFlags'))},markId:function(){return new bl.$ctor2(this.get_base().add('MarkId'))},paneIndex:function(){return new bl.$ctor2(this.get_base().add('PaneIndex'))},paneCol:function(){return new bl.$ctor2(this.get_base().add('PaneCol'))},panePage:function(){return new bl.$ctor2(this.get_base().add('PanePage'))},paneRow:function(){return new bl.$ctor2(this.get_base().add('PaneRow'))},predictionIntervalLowerEnd:function(){return new bl.$ctor2(this.get_base().add('PredictionIntervalLowerEnd'))},predictionIntervalUpperEnd:function(){return new bl.$ctor2(this.get_base().add('PredictionIntervalUpperEnd'))},predictionWhiskerWidth:function(){return new bl.$ctor2(this.get_base().add('PredictionWhiskerWidth'))},primitiveId:function(){return new bl.$ctor2(this.get_base().add('PrimitiveId'))},shapeId:function(){return new bl.$ctor2(this.get_base().add('ShapeId'))},rho:function(){return new bl.$ctor2(this.get_base().add('Rho'))},rho1:function(){return new bl.$ctor2(this.get_base().add('Rho1'))},size:function(){return new bl.$ctor2(this.get_base().add('Size'))},sizeGantt:function(){return new bl.$ctor2(this.get_base().add('SizeGantt'))},sizeLabel:function(){return new bl.$ctor2(this.get_base().add('SizeLabel'))},sizeOutputs:function(){return new bl.$ctor2(this.get_base().add('SizeOutputs'))},xRawInput:function(){return new bl.$ctor2(this.get_base().add('XRawInput'))},yRawInput:function(){return new bl.$ctor2(this.get_base().add('YRawInput'))},lookupColor:function(){return new bl.$ctor2(this.get_base().add('LookupColor'))},theta:function(){return new bl.$ctor2(this.get_base().add('Theta'))},theta1:function(){return new bl.$ctor2(this.get_base().add('Theta1'))},trailId:function(){return new bl.$ctor2(this.get_base().add('TrailId'))},tupleId:function(){return new bl.$ctor2(this.get_base().add('TupleId'))},userPaneCol:function(){return new bl.$ctor2(this.get_base().add('UserPaneCol'))},userPaneRow:function(){return new bl.$ctor2(this.get_base().add('UserPaneRow'))},weight:function(){return new bl.$ctor2(this.get_base().add('Weight'))},width:function(){return new bl.$ctor2(this.get_base().add('Width'))},x:function(){return new bl.$ctor2(this.get_base().add('X'))},x1:function(){return new bl.$ctor2(this.get_base().add('X1'))},xNext:function(){return new bl.$ctor2(this.get_base().add('XNext'))},xPrev:function(){return new bl.$ctor2(this.get_base().add('XPrev'))},xPriorToWrap:function(){return new bl.$ctor2(this.get_base().add('XPriorToWrap'))},xProj:function(){return new bl.$ctor2(this.get_base().add('XProj'))},y:function(){return new bl.$ctor2(this.get_base().add('Y'))},y1:function(){return new bl.$ctor2(this.get_base().add('Y1'))},yNext:function(){return new bl.$ctor2(this.get_base().add('YNext'))},yPrev:function(){return new bl.$ctor2(this.get_base().add('YPrev'))},yProj:function(){return new bl.$ctor2(this.get_base().add('YProj'))},xDomains:function(){return new bl.$ctor2(this.get_base().add('XDomains'))},yDomains:function(){return new bl.$ctor2(this.get_base().add('YDomains'))},ellipses:function(){return new F.$ctor1(this.get_base().add('Ellipses'))},packedLayout:function(){return new bM.$ctor1(this.get_base().add('PackedLayout'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bF=global.tab.MarshalledVectors=ss.mkType(a,'tab.MarshalledVectors',function(e){this.stringBuffer=null;this.stringLengths=null;this.opCodes=null;this.intBuffer=null;this.doubleBuffer=null;var dp=e.unpacked.length-5;this.stringBuffer=e.unpacked[dp];this.stringLengths=e.unpacked[dp+1];this.opCodes=e.unpacked[dp+2];this.intBuffer=e.unpacked[dp+3];this.doubleBuffer=e.unpacked[dp+4]},null,{$ctor1:function(e,dp){this.stringBuffer=null;this.stringLengths=null;this.opCodes=null;this.intBuffer=null;this.doubleBuffer=null;this.stringBuffer=new Uint8Array(dp,e[0],e[1]);this.stringLengths=new Uint32Array(dp,e[2],e[3]);this.opCodes=new Uint8Array(dp,e[4],e[5]);this.intBuffer=new Int32Array(dp,e[6],e[7]);this.doubleBuffer=new Float64Array(dp,e[8],e[9])}});var bG=global.tab.MarshallerHandle=ss.mkType(a,'tab.MarshallerHandle',function(e,dp){bL.call(this,e,dp)},{get_typeCode:function(){return 18}});var bH=global.tab.NestedSortIndicatorDataTableKeys=ss.mkType(a,'tab.NestedSortIndicatorDataTableKeys',function(){bl.call(this)},{sortIndicatorDirection:function(){return new bl.$ctor2(this.get_base().add('SortIndicatorDirection'))},sortIndicatorHash:function(){return new bl.$ctor2(this.get_base().add('SortIndicatorHash'))},sortIndicatorTooltip:function(){return new bl.$ctor2(this.get_base().add('SortIndicatorTooltip'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bI=global.tab.NodeLevelStyleDataTableKeys=ss.mkType(a,'tab.NodeLevelStyleDataTableKeys',function(){bl.call(this)},{totalType:function(){return new bl.$ctor2(this.get_base().add('TotalType'))},shouldUseBandFillColor:function(){return new bl.$ctor2(this.get_base().add('ShouldUseBandFillColor'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bJ=global.tab.NoneTickPerHeaderInputTableKeys=ss.mkType(a,'tab.NoneTickPerHeaderInputTableKeys',function(){bl.call(this)},{headerIndex:function(){return new bl.$ctor2(this.get_base().add('HeaderIndex'))},vtlBlockIndex:function(){return new bl.$ctor2(this.get_base().add('VtlBlockIndex'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bK=global.tab.NumberMapKeys=ss.mkType(a,'tab.NumberMapKeys',function(){bl.call(this)},{dataType:function(){return new bl.$ctor2(this.get_base().add('DataType'))},fieldType:function(){return new bl.$ctor2(this.get_base().add('FieldType'))},domainMin:function(){return new bl.$ctor2(this.get_base().add('DomainMin'))},domainMax:function(){return new bl.$ctor2(this.get_base().add('DomainMax'))},rangeMin:function(){return new bl.$ctor2(this.get_base().add('RangeMin'))},rangeMax:function(){return new bl.$ctor2(this.get_base().add('RangeMax'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bL=global.tab.OpaqueHandle=ss.mkType(a,'tab.OpaqueHandle',function(e,dp){this.handleValue=0;this.$0=null;this.$1=false;this.handleValue=e;this.$0=dp},{get_typeCode:null,dispose:function(){if(!this.$1){this.$0(this.handleValue);this.$1=true}}});var bM=global.tab.PackedLayoutKeys=ss.mkType(a,'tab.PackedLayoutKeys',function(){bl.call(this)},{size:function(){return new bl.$ctor2(this.get_base().add('Size'))},x:function(){return new bl.$ctor2(this.get_base().add('X'))},y:function(){return new bl.$ctor2(this.get_base().add('Y'))},x1:function(){return new bl.$ctor2(this.get_base().add('X1'))},y1:function(){return new bl.$ctor2(this.get_base().add('Y1'))},hierarchyDepth:function(){return new bl.$ctor2(this.get_base().add('HierarchyDepth'))},hierarchyTables:function(){return new bl.$ctor2(this.get_base().add('HierarchyTables'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bN=global.tab.PageIntervalKeys=ss.mkType(a,'tab.PageIntervalKeys',function(){bl.call(this)},{paneCol:function(){return new bl.$ctor2(this.get_base().add('PaneCol'))},paneRow:function(){return new bl.$ctor2(this.get_base().add('PaneRow'))},paneLayer:function(){return new bl.$ctor2(this.get_base().add('PaneLayer'))},panePage:function(){return new bl.$ctor2(this.get_base().add('PanePage'))},startIndex:function(){return new bl.$ctor2(this.get_base().add('StartIndex'))},endIndex:function(){return new bl.$ctor2(this.get_base().add('EndIndex'))},paneKey:function(){return new bl.$ctor2(this.get_base().add('PaneKey'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bO=global.tab.PageIntervalTableColumnsKeys=ss.mkType(a,'tab.PageIntervalTableColumnsKeys',function(){bl.call(this)},{paneCol:function(){return new bl.$ctor2(this.get_base().add('PaneCol'))},paneRow:function(){return new bl.$ctor2(this.get_base().add('PaneRow'))},paneLayer:function(){return new bl.$ctor2(this.get_base().add('PaneLayer'))},panePage:function(){return new bl.$ctor2(this.get_base().add('PanePage'))},startIndex:function(){return new bl.$ctor2(this.get_base().add('StartIndex'))},endIndex:function(){return new bl.$ctor2(this.get_base().add('EndIndex'))},paneKey:function(){return new bl.$ctor2(this.get_base().add('PaneKey'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bP=global.tab.PageIntervalTableKeys=ss.mkType(a,'tab.PageIntervalTableKeys',function(){bl.call(this)},{paneCol:function(){return new bl.$ctor2(this.get_base().add('PaneCol'))},paneRow:function(){return new bl.$ctor2(this.get_base().add('PaneRow'))},paneLayer:function(){return new bl.$ctor2(this.get_base().add('PaneLayer'))},panePage:function(){return new bl.$ctor2(this.get_base().add('PanePage'))},startIndex:function(){return new bl.$ctor2(this.get_base().add('StartIndex'))},endIndex:function(){return new bl.$ctor2(this.get_base().add('EndIndex'))},paneKey:function(){return new bl.$ctor2(this.get_base().add('PaneKey'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bQ=global.tab.PaneCountersKeys=ss.mkType(a,'tab.PaneCountersKeys',function(){bl.call(this)},{rowCount:function(){return new bl.$ctor2(this.get_base().add('RowCount'))},columnCount:function(){return new bl.$ctor2(this.get_base().add('ColumnCount'))},layerCount:function(){return new bl.$ctor2(this.get_base().add('LayerCount'))},pageCount:function(){return new bl.$ctor2(this.get_base().add('PageCount'))},paneCount:function(){return new bl.$ctor2(this.get_base().add('PaneCount'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bR=global.tab.PaneDataStoreTable=ss.mkType(a,'tab.PaneDataStoreTable',function(e,dp){this.$0=null;if(!ss.isNullOrUndefined(e.StartIndex)){var dq=e.StartIndex.length;var dr=e.PaneCol;var ds=e.PanePage;var dt=e.PaneRow;var du=e.PaneLayer;var dv=dp.ColumnCount;var dw=dp.RowCount;var dx=dp.LayerCount;var dy=e.StartIndex;var dz=e.EndIndex;this.$0=new Array(dv*dw*dx);for(var dA=0;dA<this.$0.length;++dA){this.$0[dA]=new Array(2*dp.PageCount);for(var dB=0;dB<this.$0[dA].length;++dB){this.$0[dA][dB]=0}}for(var dC=0;dC<dq;++dC){var dD=dr[dC]+dt[dC]*dv+du[dC]*dw*dv;var dE=ds[dC];this.$0[dD][dE*2]=dy[dC];this.$0[dD][dE*2+1]=dz[dC]}}},{getStartIndex:function(e,dp){return this.$0[e][dp*2]},getEndIndex:function(e,dp){return this.$0[e][dp*2+1]},getPageIndices:function(e){return this.$0[e]}});var bS=global.tab.PaneDescriptorDataKeys=ss.mkType(a,'tab.PaneDescriptorDataKeys',function(){bl.call(this)},{xIndexedAxis:function(){return new bf.$ctor1(this.get_base().add('XIndexedAxis'))},yIndexedAxis:function(){return new bf.$ctor1(this.get_base().add('YIndexedAxis'))},paneCount:function(){return new bl.$ctor2(this.get_base().add('PaneCount'))},importData:function(){return new bd.$ctor1(this.get_base().add('ImportData'))},stackedMarkAttributes:function(){return new cS.$ctor1(this.get_base().add('StackedMarkAttributes'))},trailDescriptor:function(){return new bl.$ctor2(this.get_base().add('TrailDescriptor'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bT=global.tab.PaneExtentsPixelPositionsTableKeys=ss.mkType(a,'tab.PaneExtentsPixelPositionsTableKeys',function(){bl.call(this)},{pxLeft:function(){return new bl.$ctor2(this.get_base().add('PxLeft'))},pxTop:function(){return new bl.$ctor2(this.get_base().add('PxTop'))},pxRight:function(){return new bl.$ctor2(this.get_base().add('PxRight'))},pxBottom:function(){return new bl.$ctor2(this.get_base().add('PxBottom'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bU=global.tab.PaneExtentsStaticInputTableKeys=ss.mkType(a,'tab.PaneExtentsStaticInputTableKeys',function(){bl.call(this)},{paneCol:function(){return new bl.$ctor2(this.get_base().add('PaneCol'))},paneRow:function(){return new bl.$ctor2(this.get_base().add('PaneRow'))},paneLayer:function(){return new bl.$ctor2(this.get_base().add('PaneLayer'))},key:function(){return new bl.$ctor2(this.get_base().add('Key'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bV=global.tab.PaneExtentsTableColumnsKeys=ss.mkType(a,'tab.PaneExtentsTableColumnsKeys',function(){bl.call(this)},{paneCol:function(){return new bl.$ctor2(this.get_base().add('PaneCol'))},paneRow:function(){return new bl.$ctor2(this.get_base().add('PaneRow'))},paneLayer:function(){return new bl.$ctor2(this.get_base().add('PaneLayer'))},domainLeft:function(){return new bl.$ctor2(this.get_base().add('DomainLeft'))},domainTop:function(){return new bl.$ctor2(this.get_base().add('DomainTop'))},domainRight:function(){return new bl.$ctor2(this.get_base().add('DomainRight'))},domainBottom:function(){return new bl.$ctor2(this.get_base().add('DomainBottom'))},key:function(){return new bl.$ctor2(this.get_base().add('Key'))},mapDomainLeft:function(){return new bl.$ctor2(this.get_base().add('MapDomainLeft'))},mapDomainTop:function(){return new bl.$ctor2(this.get_base().add('MapDomainTop'))},mapDomainRight:function(){return new bl.$ctor2(this.get_base().add('MapDomainRight'))},mapDomainBottom:function(){return new bl.$ctor2(this.get_base().add('MapDomainBottom'))},mapCenterLongitude:function(){return new bl.$ctor2(this.get_base().add('MapCenterLongitude'))},mapCenterLatitude:function(){return new bl.$ctor2(this.get_base().add('MapCenterLatitude'))},originX:function(){return new bl.$ctor2(this.get_base().add('OriginX'))},originY:function(){return new bl.$ctor2(this.get_base().add('OriginY'))},pxLeft:function(){return new bl.$ctor2(this.get_base().add('PxLeft'))},pxTop:function(){return new bl.$ctor2(this.get_base().add('PxTop'))},pxRight:function(){return new bl.$ctor2(this.get_base().add('PxRight'))},pxBottom:function(){return new bl.$ctor2(this.get_base().add('PxBottom'))},xRangeMin:function(){return new bl.$ctor2(this.get_base().add('XRangeMin'))},xRangeMax:function(){return new bl.$ctor2(this.get_base().add('XRangeMax'))},yRangeMin:function(){return new bl.$ctor2(this.get_base().add('YRangeMin'))},yRangeMax:function(){return new bl.$ctor2(this.get_base().add('YRangeMax'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bW=global.tab.PaneExtentsTableKeys=ss.mkType(a,'tab.PaneExtentsTableKeys',function(){bl.call(this)},{paneCol:function(){return new bl.$ctor2(this.get_base().add('PaneCol'))},paneRow:function(){return new bl.$ctor2(this.get_base().add('PaneRow'))},paneLayer:function(){return new bl.$ctor2(this.get_base().add('PaneLayer'))},domainLeft:function(){return new bl.$ctor2(this.get_base().add('DomainLeft'))},domainTop:function(){return new bl.$ctor2(this.get_base().add('DomainTop'))},domainRight:function(){return new bl.$ctor2(this.get_base().add('DomainRight'))},domainBottom:function(){return new bl.$ctor2(this.get_base().add('DomainBottom'))},key:function(){return new bl.$ctor2(this.get_base().add('Key'))},mapDomainLeft:function(){return new bl.$ctor2(this.get_base().add('MapDomainLeft'))},mapDomainTop:function(){return new bl.$ctor2(this.get_base().add('MapDomainTop'))},mapDomainRight:function(){return new bl.$ctor2(this.get_base().add('MapDomainRight'))},mapDomainBottom:function(){return new bl.$ctor2(this.get_base().add('MapDomainBottom'))},mapCenterLongitude:function(){return new bl.$ctor2(this.get_base().add('MapCenterLongitude'))},mapCenterLatitude:function(){return new bl.$ctor2(this.get_base().add('MapCenterLatitude'))},originX:function(){return new bl.$ctor2(this.get_base().add('OriginX'))},originY:function(){return new bl.$ctor2(this.get_base().add('OriginY'))},pxLeft:function(){return new bl.$ctor2(this.get_base().add('PxLeft'))},pxTop:function(){return new bl.$ctor2(this.get_base().add('PxTop'))},pxRight:function(){return new bl.$ctor2(this.get_base().add('PxRight'))},pxBottom:function(){return new bl.$ctor2(this.get_base().add('PxBottom'))},xRangeMin:function(){return new bl.$ctor2(this.get_base().add('XRangeMin'))},xRangeMax:function(){return new bl.$ctor2(this.get_base().add('XRangeMax'))},yRangeMin:function(){return new bl.$ctor2(this.get_base().add('YRangeMin'))},yRangeMax:function(){return new bl.$ctor2(this.get_base().add('YRangeMax'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bX=global.tab.PaneMarksInfo=ss.mkType(a,'tab.PaneMarksInfo',function(e,dp){this.$5=0;this.$0=0;this.$3=0;this.$1=null;this.$4=null;this.$2=null;this.$5=e;this.$0=dp},{get_startIndex:function(){return this.$5},get_endIndex:function(){return this.$0},get_pageIndices:function(){return this.$1},get_paneKey:function(){return this.$4},get_paneId:function(){return this.$2},get_paneIndex:function(){return this.$3}},{$ctor1:function(e,dp,dq,dr,ds,dt,du){this.$5=0;this.$0=0;this.$3=0;this.$1=null;this.$4=null;this.$2=null;this.$5=dp.getStartIndex(dq,dr);this.$0=dp.getEndIndex(dq,dr);this.$1=dp.getPageIndices(dq);this.$4=e.PaneKey[dq];this.$2={};this.$2['columnIndex'.toString()]=dt;this.$2['rowIndex'.toString()]=ds;this.$2['layerIndex'.toString()]=du;this.$3=dq}});var bY=global.tab.PaneMarksKeys=ss.mkType(a,'tab.PaneMarksKeys',function(){bl.call(this)},{column:function(){return new bl.$ctor2(this.get_base().add('Column'))},row:function(){return new bl.$ctor2(this.get_base().add('Row'))},layer:function(){return new bl.$ctor2(this.get_base().add('Layer'))},drawPanes:function(){return new bl.$ctor2(this.get_base().add('DrawPanes'))},rect:function(){return new bl.$ctor2(this.get_base().add('Rect'))},predictionMarks:function(){return new ci.$ctor1(this.get_base().add('PredictionMarks'))},xNumberMap:function(){return new bK.$ctor1(this.get_base().add('XNumberMap'))},yNumberMap:function(){return new bK.$ctor1(this.get_base().add('YNumberMap'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var bZ=global.tab.PaneStylesTableKeys=ss.mkType(a,'tab.PaneStylesTableKeys',function(){bl.call(this)},{defaultMarkColor:function(){return new bl.$ctor2(this.get_base().add('DefaultMarkColor'))},defaultShape:function(){return new bl.$ctor2(this.get_base().add('DefaultShape'))},defaultSize:function(){return new bl.$ctor2(this.get_base().add('DefaultSize'))},key:function(){return new bl.$ctor2(this.get_base().add('Key'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var ca=global.tab.PaneStylesTableUtils=ss.mkType(a,'tab.PaneStylesTableUtils',null,null,{toRuePacker:function(e,dp){var dq=0;if(ss.isValue(dp.DefaultMarkColor)){dq++}if(ss.isValue(dp.DefaultShape)){dq++}if(ss.isValue(dp.DefaultSize)){dq++}if(ss.isValue(dp.Key)){dq++}var dr=new cz;dr.startTable(e,dq);if(ss.isValue(dp.DefaultMarkColor)){dr.addColorArray('DefaultMarkColor',dp.DefaultMarkColor)}if(ss.isValue(dp.DefaultShape)){dr.addInt32Array('DefaultShape',dp.DefaultShape)}if(ss.isValue(dp.DefaultSize)){dr.addReal64Array('DefaultSize',dp.DefaultSize)}if(ss.isValue(dp.Key)){dr.addInt64Array('Key',dp.Key[0])}return dr}});var cb=global.tab.PartitionedDataTableKeys=ss.mkType(a,'tab.PartitionedDataTableKeys',function(){bl.call(this)},{tupleId:function(){return new bl.$ctor2(this.get_base().add('TupleId'))},markId:function(){return new bl.$ctor2(this.get_base().add('MarkId'))},paneCol:function(){return new bl.$ctor2(this.get_base().add('PaneCol'))},paneRow:function(){return new bl.$ctor2(this.get_base().add('PaneRow'))},cellX:function(){return new bl.$ctor2(this.get_base().add('CellX'))},cellY:function(){return new bl.$ctor2(this.get_base().add('CellY'))},xProj:function(){return new bl.$ctor2(this.get_base().add('XProj'))},yProj:function(){return new bl.$ctor2(this.get_base().add('YProj'))},currentStackValue:function(){return new bl.$ctor2(this.get_base().add('CurrentStackValue'))},previousStackValue:function(){return new bl.$ctor2(this.get_base().add('PreviousStackValue'))},primitiveId:function(){return new bl.$ctor2(this.get_base().add('PrimitiveId'))},scaledStartPoint:function(){return new bl.$ctor2(this.get_base().add('ScaledStartPoint'))},scaledEndPoint:function(){return new bl.$ctor2(this.get_base().add('ScaledEndPoint'))},prevLowerValue:function(){return new bl.$ctor2(this.get_base().add('PrevLowerValue'))},nextLowerValue:function(){return new bl.$ctor2(this.get_base().add('NextLowerValue'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cc=global.tab.PartitionResultStoreKeys=ss.mkType(a,'tab.PartitionResultStoreKeys',function(){bl.call(this)},{paneCount:function(){return new bQ.$ctor1(this.get_base().add('PaneCount'))},orderedPaneKeys:function(){return new bl.$ctor2(this.get_base().add('OrderedPaneKeys'))},paneDescriptorsData:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new bS.$ctor1(this.get_base().add('PaneDescriptorsData').add(e))}return new bS.$ctor1(this.get_base().add('PaneDescriptorsData').add(ss.formatString("'{0}'",e)))},xAxis:function(){return new Q.$ctor1(this.get_base().add('XAxis'))},yAxis:function(){return new Q.$ctor1(this.get_base().add('YAxis'))},nestedSortIndicatorData:function(){return new bH.$ctor1(this.get_base().add('NestedSortIndicatorData'))},spatialProjector:function(){return new cR.$ctor1(this.get_base().add('SpatialProjector'))},fieldLabels:function(){return new cJ.$ctor1(this.get_base().add('FieldLabels'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cd=global.tab.PerAxisBorderStylesProducerInputKeys=ss.mkType(a,'tab.PerAxisBorderStylesProducerInputKeys',function(){bl.call(this)},{defaultDividerPenColor:function(){return new bl.$ctor2(this.get_base().add('DefaultDividerPenColor'))},defaultDividerPenStyle:function(){return new bl.$ctor2(this.get_base().add('DefaultDividerPenStyle'))},defaultDividerPenWidth:function(){return new bl.$ctor2(this.get_base().add('DefaultDividerPenWidth'))},customDividerPenColor:function(){return new bl.$ctor2(this.get_base().add('CustomDividerPenColor'))},customDividerPenStyle:function(){return new bl.$ctor2(this.get_base().add('CustomDividerPenStyle'))},customDividerPenWidth:function(){return new bl.$ctor2(this.get_base().add('CustomDividerPenWidth'))},customDividerTargetDepth:function(){return new bl.$ctor2(this.get_base().add('CustomDividerTargetDepth'))},subtotalDividerPenColor:function(){return new bl.$ctor2(this.get_base().add('SubtotalDividerPenColor'))},subtotalDividerPenStyle:function(){return new bl.$ctor2(this.get_base().add('SubtotalDividerPenStyle'))},subtotalDividerPenWidth:function(){return new bl.$ctor2(this.get_base().add('SubtotalDividerPenWidth'))},grandTotalDividerPenColor:function(){return new bl.$ctor2(this.get_base().add('GrandTotalDividerPenColor'))},grandTotalDividerPenStyle:function(){return new bl.$ctor2(this.get_base().add('GrandTotalDividerPenStyle'))},grandTotalDividerPenWidth:function(){return new bl.$ctor2(this.get_base().add('GrandTotalDividerPenWidth'))},minimumCustomDividerDepth:function(){return new bl.$ctor2(this.get_base().add('MinimumCustomDividerDepth'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var ce=global.tab.PerAxisGridLineProducerInputKeys=ss.mkType(a,'tab.PerAxisGridLineProducerInputKeys',function(){bl.call(this)},{headerCount:function(){return new bl.$ctor2(this.get_base().add('HeaderCount'))},lineColor:function(){return new bl.$ctor2(this.get_base().add('LineColor'))},lineStyle:function(){return new bl.$ctor2(this.get_base().add('LineStyle'))},lineWidth:function(){return new bl.$ctor2(this.get_base().add('LineWidth'))},zeroLineColor:function(){return new bl.$ctor2(this.get_base().add('ZeroLineColor'))},zeroLineStyle:function(){return new bl.$ctor2(this.get_base().add('ZeroLineStyle'))},zeroLineWidth:function(){return new bl.$ctor2(this.get_base().add('ZeroLineWidth'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cf=global.tab.PerAxisGridLineProducerOutputKeys=ss.mkType(a,'tab.PerAxisGridLineProducerOutputKeys',function(){bl.call(this)},{lineColor:function(){return new bl.$ctor2(this.get_base().add('LineColor'))},lineStyle:function(){return new bl.$ctor2(this.get_base().add('LineStyle'))},lineWidth:function(){return new bl.$ctor2(this.get_base().add('LineWidth'))},zeroLineColor:function(){return new bl.$ctor2(this.get_base().add('ZeroLineColor'))},zeroLineStyle:function(){return new bl.$ctor2(this.get_base().add('ZeroLineStyle'))},zeroLineWidth:function(){return new bl.$ctor2(this.get_base().add('ZeroLineWidth'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cg=global.tab.PerFieldAxisStyleTableKeys=ss.mkType(a,'tab.PerFieldAxisStyleTableKeys',function(){bl.call(this)},{fieldName:function(){return new bl.$ctor2(this.get_base().add('FieldName'))},isXAxis:function(){return new bl.$ctor2(this.get_base().add('IsXAxis'))},bandColor:function(){return new bl.$ctor2(this.get_base().add('BandColor'))},bandLevel:function(){return new bl.$ctor2(this.get_base().add('BandLevel'))},bandSize:function(){return new bl.$ctor2(this.get_base().add('BandSize'))},fillColor:function(){return new bl.$ctor2(this.get_base().add('FillColor'))},hoverColor:function(){return new bl.$ctor2(this.get_base().add('HoverColor'))},brushedColor:function(){return new bl.$ctor2(this.get_base().add('BrushedColor'))},selectedFillColor:function(){return new bl.$ctor2(this.get_base().add('SelectedFillColor'))},selectedTextColor:function(){return new bl.$ctor2(this.get_base().add('SelectedTextColor'))},selectedTickColor:function(){return new bl.$ctor2(this.get_base().add('SelectedTickColor'))},subtotalFillColor:function(){return new bl.$ctor2(this.get_base().add('SubtotalFillColor'))},totalFillColor:function(){return new bl.$ctor2(this.get_base().add('TotalFillColor'))},tickColor:function(){return new bl.$ctor2(this.get_base().add('TickColor'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var ch=global.tab.PerHeaderFieldDataTableKeys=ss.mkType(a,'tab.PerHeaderFieldDataTableKeys',function(){bl.call(this)},{headerId:function(){return new bl.$ctor2(this.get_base().add('HeaderId'))},fieldName:function(){return new bl.$ctor2(this.get_base().add('FieldName'))},dataType:function(){return new bl.$ctor2(this.get_base().add('DataType'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var ci=global.tab.PredictionMarkKeys=ss.mkType(a,'tab.PredictionMarkKeys',function(){bl.call(this)},{color:function(){return new bl.$ctor2(this.get_base().add('Color'))},colors:function(){return new bl.$ctor2(this.get_base().add('Colors'))},defaultParamID:function(){return new bl.$ctor2(this.get_base().add('DefaultParamID'))},haloColor:function(){return new bl.$ctor2(this.get_base().add('HaloColor'))},lineTupleIds:function(){return new bl.$ctor2(this.get_base().add('LineTupleIds'))},lowerEnds:function(){return new bl.$ctor2(this.get_base().add('LowerEnds'))},maxAlpha:function(){return new bl.$ctor2(this.get_base().add('MaxAlpha'))},oppositeAxes:function(){return new bl.$ctor2(this.get_base().add('OppositeAxes'))},renderOnTop:function(){return new bl.$ctor2(this.get_base().add('RenderOnTop'))},tupleIds:function(){return new bl.$ctor2(this.get_base().add('TupleIds'))},type:function(){return new bl.$ctor2(this.get_base().add('Type'))},upperEnds:function(){return new bl.$ctor2(this.get_base().add('UpperEnds'))},useYAxis:function(){return new bl.$ctor2(this.get_base().add('UseYAxis'))},widths:function(){return new bl.$ctor2(this.get_base().add('Widths'))},lineInterpolation:function(){return new bl.$ctor2(this.get_base().add('LineInterpolation'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cj=global.tab.QuantitativeColorEncodingInputKeys=ss.mkType(a,'tab.QuantitativeColorEncodingInputKeys',function(){bl.call(this)},{palette:function(){return new bl.$ctor2(this.get_base().add('Palette'))},isDiverging:function(){return new bl.$ctor2(this.get_base().add('IsDiverging'))},isReversed:function(){return new bl.$ctor2(this.get_base().add('IsReversed'))},fixedMin:function(){return new bl.$ctor2(this.get_base().add('FixedMin'))},fixedMax:function(){return new bl.$ctor2(this.get_base().add('FixedMax'))},fixedCenter:function(){return new bl.$ctor2(this.get_base().add('FixedCenter'))},steps:function(){return new bl.$ctor2(this.get_base().add('Steps'))},divergingPalette:function(){return new bl.$ctor2(this.get_base().add('DivergingPalette'))},reversedPalette:function(){return new bl.$ctor2(this.get_base().add('ReversedPalette'))},defaultPalette:function(){return new bl.$ctor2(this.get_base().add('DefaultPalette'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var ck=global.tab.QuantitativeSizeEncodingInputKeys=ss.mkType(a,'tab.QuantitativeSizeEncodingInputKeys',function(){bl.call(this)},{fixedMin:function(){return new bl.$ctor2(this.get_base().add('FixedMin'))},fixedMax:function(){return new bl.$ctor2(this.get_base().add('FixedMax'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cl=global.tab.QuantitativeTickPerHeaderInputTableKeys=ss.mkType(a,'tab.QuantitativeTickPerHeaderInputTableKeys',function(){bl.call(this)},{headerIndex:function(){return new bl.$ctor2(this.get_base().add('HeaderIndex'))},vtlBlockIndex:function(){return new bl.$ctor2(this.get_base().add('VtlBlockIndex'))},columnFormatIndex:function(){return new bl.$ctor2(this.get_base().add('ColumnFormatIndex'))},showMajorTicks:function(){return new bl.$ctor2(this.get_base().add('ShowMajorTicks'))},showMinorTicks:function(){return new bl.$ctor2(this.get_base().add('ShowMinorTicks'))},minSpacing:function(){return new bl.$ctor2(this.get_base().add('MinSpacing'))},originReference:function(){return new bl.$ctor2(this.get_base().add('OriginReference'))},perpendicularLabels:function(){return new bl.$ctor2(this.get_base().add('PerpendicularLabels'))},spacingReference:function(){return new bl.$ctor2(this.get_base().add('SpacingReference'))},targetTickSpacing:function(){return new bl.$ctor2(this.get_base().add('TargetTickSpacing'))},cellCount:function(){return new bl.$ctor2(this.get_base().add('CellCount'))},labelStyleIndex:function(){return new bl.$ctor2(this.get_base().add('LabelStyleIndex'))},labelHeight:function(){return new bl.$ctor2(this.get_base().add('LabelHeight'))},minorOriginReference:function(){return new bl.$ctor2(this.get_base().add('MinorOriginReference'))},minorSpacingReference:function(){return new bl.$ctor2(this.get_base().add('MinorSpacingReference'))},subTotalsLabelStyleIndex:function(){return new bl.$ctor2(this.get_base().add('SubTotalsLabelStyleIndex'))},grandTotalsLabelStyleIndex:function(){return new bl.$ctor2(this.get_base().add('GrandTotalsLabelStyleIndex'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cm=global.tab.ReferenceLineApplicablePanesTableKeys=ss.mkType(a,'tab.ReferenceLineApplicablePanesTableKeys',function(){bl.call(this)},null,{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cn=global.tab.ReferenceLineAxisStyleTableKeys=ss.mkType(a,'tab.ReferenceLineAxisStyleTableKeys',function(){bl.call(this)},{referenceLineSpecId:function(){return new bl.$ctor2(this.get_base().add('ReferenceLineSpecId'))},lineWidth:function(){return new bl.$ctor2(this.get_base().add('LineWidth'))},lineColor:function(){return new bl.$ctor2(this.get_base().add('LineColor'))},linePattern:function(){return new bl.$ctor2(this.get_base().add('LinePattern'))},labelBackgroundColor:function(){return new bl.$ctor2(this.get_base().add('LabelBackgroundColor'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var co=global.tab.ReferenceLineDetailsTableKeys=ss.mkType(a,'tab.ReferenceLineDetailsTableKeys',function(){bl.call(this)},{specId:function(){return new bl.$ctor2(this.get_base().add('SpecId'))},axisKeyPath:function(){return new bl.$ctor2(this.get_base().add('AxisKeyPath'))},type:function(){return new bl.$ctor2(this.get_base().add('Type'))},formulaType:function(){return new bl.$ctor2(this.get_base().add('FormulaType'))},labelType:function(){return new bl.$ctor2(this.get_base().add('LabelType'))},enableInstantRefline:function(){return new bl.$ctor2(this.get_base().add('EnableInstantRefline'))},calculationScope:function(){return new bl.$ctor2(this.get_base().add('CalculationScope'))},confidencePercentage:function(){return new bl.$ctor2(this.get_base().add('ConfidencePercentage'))},constantValue:function(){return new bl.$ctor2(this.get_base().add('ConstantValue'))},formattedConstantValue:function(){return new bl.$ctor2(this.get_base().add('FormattedConstantValue'))},tileCount:function(){return new bl.$ctor2(this.get_base().add('TileCount'))},standardDevType:function(){return new bl.$ctor2(this.get_base().add('StandardDevType'))},fillBelow:function(){return new bl.$ctor2(this.get_base().add('FillBelow'))},fillAbove:function(){return new bl.$ctor2(this.get_base().add('FillAbove'))},defaultLabelX:function(){return new bl.$ctor2(this.get_base().add('DefaultLabelX'))},defaultLabelY:function(){return new bl.$ctor2(this.get_base().add('DefaultLabelY'))},zOrder:function(){return new bl.$ctor2(this.get_base().add('ZOrder'))},styleId:function(){return new bl.$ctor2(this.get_base().add('StyleId'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cp=global.tab.ReferenceLineLabelTableKeys=ss.mkType(a,'tab.ReferenceLineLabelTableKeys',function(){bl.call(this)},{width:function(){return new bl.$ctor2(this.get_base().add('Width'))},height:function(){return new bl.$ctor2(this.get_base().add('Height'))},textRunCount:function(){return new bl.$ctor2(this.get_base().add('TextRunCount'))},textRunOffset:function(){return new bl.$ctor2(this.get_base().add('TextRunOffset'))},hAligns:function(){return new bl.$ctor2(this.get_base().add('HAligns'))},vAligns:function(){return new bl.$ctor2(this.get_base().add('VAligns'))},pxAbove:function(){return new bl.$ctor2(this.get_base().add('PxAbove'))},pxBelow:function(){return new bl.$ctor2(this.get_base().add('PxBelow'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cq=global.tab.ReferenceLineLayoutElementsTableKeys=ss.mkType(a,'tab.ReferenceLineLayoutElementsTableKeys',function(){bl.call(this)},{specId:function(){return new bl.$ctor2(this.get_base().add('SpecId'))},styleId:function(){return new bl.$ctor2(this.get_base().add('StyleId'))},xDomainLookup:function(){return new bl.$ctor2(this.get_base().add('XDomainLookup'))},yDomainLookup:function(){return new bl.$ctor2(this.get_base().add('YDomainLookup'))},pageNumber:function(){return new bl.$ctor2(this.get_base().add('PageNumber'))},paneIndex:function(){return new bl.$ctor2(this.get_base().add('PaneIndex'))},cellIndex:function(){return new bl.$ctor2(this.get_base().add('CellIndex'))},cellCount:function(){return new bl.$ctor2(this.get_base().add('CellCount'))},axisOrientation:function(){return new bl.$ctor2(this.get_base().add('AxisOrientation'))},calculationScope:function(){return new bl.$ctor2(this.get_base().add('CalculationScope'))},value:function(){return new bl.$ctor2(this.get_base().add('Value'))},zOrder:function(){return new bl.$ctor2(this.get_base().add('ZOrder'))},isAxisReversed:function(){return new bl.$ctor2(this.get_base().add('IsAxisReversed'))},labelText:function(){return new bl.$ctor2(this.get_base().add('LabelText'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cr=global.tab.ReferenceLineProducerInputKeys=ss.mkType(a,'tab.ReferenceLineProducerInputKeys',function(){bl.call(this)},{referenceLineDetails:function(){return new co.$ctor1(this.get_base().add('ReferenceLineDetails'))},xValueFormat:function(){return new bl.$ctor2(this.get_base().add('XValueFormat'))},yValueFormat:function(){return new bl.$ctor2(this.get_base().add('YValueFormat'))},xHeaderFolded:function(){return new bl.$ctor2(this.get_base().add('XHeaderFolded'))},yHeaderFolded:function(){return new bl.$ctor2(this.get_base().add('YHeaderFolded'))},xStyles:function(){return new ct.$ctor1(this.get_base().add('XStyles'))},yStyles:function(){return new ct.$ctor1(this.get_base().add('YStyles'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cs=global.tab.ReferenceLineProducerOutputKeys=ss.mkType(a,'tab.ReferenceLineProducerOutputKeys',function(){bl.call(this)},{layoutElements:function(){return new cq.$ctor1(this.get_base().add('LayoutElements'))},xValues:function(){return new bl.$ctor2(this.get_base().add('XValues'))},yValues:function(){return new bl.$ctor2(this.get_base().add('YValues'))},labels:function(){return new cp.$ctor1(this.get_base().add('Labels'))},details:function(){return new co.$ctor1(this.get_base().add('Details'))},textRun:function(){return new cW.$ctor1(this.get_base().add('TextRun'))},xStyles:function(){return new ct.$ctor1(this.get_base().add('XStyles'))},yStyles:function(){return new ct.$ctor1(this.get_base().add('YStyles'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var ct=global.tab.ReferenceLineStylesKeys=ss.mkType(a,'tab.ReferenceLineStylesKeys',function(){bl.call(this)},{axisStyles:function(){return new cn.$ctor1(this.get_base().add('AxisStyles'))},textStyles:function(){return new cZ.$ctor1(this.get_base().add('TextStyles'))},fontMetrics:function(){return new bl.$ctor2(this.get_base().add('FontMetrics'))},fillColors:function(){return new bl.$ctor2(this.get_base().add('FillColors'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cu=global.tab.ReferenceLineTotalTableMapDataKeys=ss.mkType(a,'tab.ReferenceLineTotalTableMapDataKeys',function(){bl.call(this)},{hasTotalTable:function(){return new bl.$ctor2(this.get_base().add('HasTotalTable'))},referenceLineTotalTableMap:function(){return new cv.$ctor1(this.get_base().add('ReferenceLineTotalTableMap'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cv=global.tab.ReferenceLineTotalTableMapKeys=ss.mkType(a,'tab.ReferenceLineTotalTableMapKeys',function(){bl.call(this)},{perTable:function(){return new bl.$ctor2(this.get_base().add('PerTable'))},perPane:function(){return new bl.$ctor2(this.get_base().add('PerPane'))},perCell:function(){return new bl.$ctor2(this.get_base().add('PerCell'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cw=global.tab.RefLineExtentsKeys=ss.mkType(a,'tab.RefLineExtentsKeys',function(){bl.call(this)},{index:function(){return new bl.$ctor2(this.get_base().add('Index'))},min:function(){return new bl.$ctor2(this.get_base().add('Min'))},max:function(){return new bl.$ctor2(this.get_base().add('Max'))},labelIndex:function(){return new bl.$ctor2(this.get_base().add('LabelIndex'))},value:function(){return new bl.$ctor2(this.get_base().add('Value'))},pxAbove:function(){return new bl.$ctor2(this.get_base().add('PxAbove'))},pxBelow:function(){return new bl.$ctor2(this.get_base().add('PxBelow'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cx=global.tab.RenderingInputStoreKeys=ss.mkType(a,'tab.RenderingInputStoreKeys',function(){bl.call(this)},{annexedData:function(){return new f.$ctor1(this.get_base().add('AnnexedData'))},axisOutput:function(){return new k.$ctor1(this.get_base().add('AxisOutput'))},gridLines:function(){return new T.$ctor1(this.get_base().add('GridLines'))},heatmap:function(){return new Y.$ctor1(this.get_base().add('Heatmap'))},pdMarks:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new bC.$ctor1(this.get_base().add('PDMarks').add(e))}return new bC.$ctor1(this.get_base().add('PDMarks').add(ss.formatString("'{0}'",e)))},pageIntervalTable:function(){return new bP.$ctor1(this.get_base().add('PageIntervalTable'))},paneCount:function(){return new bQ.$ctor1(this.get_base().add('PaneCount'))},paneStyles:function(){return new bZ.$ctor1(this.get_base().add('PaneStyles'))},firstPassRefLines:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new cs.$ctor1(this.get_base().add('FirstPassRefLines').add(e))}return new cs.$ctor1(this.get_base().add('FirstPassRefLines').add(ss.formatString("'{0}'",e)))},refLines:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new cs.$ctor1(this.get_base().add('RefLines').add(e))}return new cs.$ctor1(this.get_base().add('RefLines').add(ss.formatString("'{0}'",e)))},sceneMargin:function(){return new cK.$ctor1(this.get_base().add('SceneMargin'))},instantRefLines:function(e){if(ss.startsWithString(e,String.fromCharCode(39))||ss.startsWithString(e,String.fromCharCode(34))){return new cs.$ctor1(this.get_base().add('InstantRefLines').add(e))}return new cs.$ctor1(this.get_base().add('InstantRefLines').add(ss.formatString("'{0}'",e)))},supportedIncrementalUpdates:function(){return new be.$ctor1(this.get_base().add('SupportedIncrementalUpdates'))},tickPlacement:function(){return new dc.$ctor1(this.get_base().add('TickPlacement'))},viewpoint:function(){return new dk.$ctor1(this.get_base().add('Viewpoint'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cy=global.tab.RowOrColumnLevelStyleDataKeys=ss.mkType(a,'tab.RowOrColumnLevelStyleDataKeys',function(){bl.call(this)},{subtotalsFillColor:function(){return new bl.$ctor2(this.get_base().add('SubtotalsFillColor'))},grandTotalsFillColor:function(){return new bl.$ctor2(this.get_base().add('GrandTotalsFillColor'))},bandingColor:function(){return new bl.$ctor2(this.get_base().add('BandingColor'))},bandSize:function(){return new bl.$ctor2(this.get_base().add('BandSize'))},bandStartingLevel:function(){return new bl.$ctor2(this.get_base().add('BandStartingLevel'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cz=global.tab.RuePacker=ss.mkType(a,'tab.RuePacker',function(){this.$8=null;this.$a=null;this.$7=4;this.$9=0;this.$8=new Uint8Array(1024);this.$a=new DataView(this.$8.buffer)},{pack:function(){this.$a.setInt32(0,this.$9,true);return this.$8.subarray(0,this.$7)},addColorArray:function(e,dp){this.$6(e,37,dp.length);for(var dq=0;dq<dp.length;dq++){var dr=dp[dq];this.$3(dr)}},addReal64Array:function(e,dp){this.$6(e,36,dp.length);for(var dq=0;dq<dp.length;dq++){var dr=dp[dq];this.$2(dr)}},addInt32Array:function(e,dp){this.$6(e,33,dp.length);for(var dq=0;dq<dp.length;dq++){var dr=dp[dq];this.$3(dr)}},addInt64Array:function(e,dp){this.$6(e,34,ss.idiv(dp.length,2));for(var dq=0;dq<dp.length;dq++){var dr=dp[dq];this.$3(dr)}},addInt32:function(e,dp){this.$9++;this.$4(e);this.$5(33);this.$3(dp)},startTable:function(e,dp){this.$9++;this.$9-=dp;this.$4(e);this.$5(20);this.$3(dp)},$6:function(e,dp,dq){this.$9++;this.$4(e);this.$5(16);this.$5(dp);this.$3(dq)},$4:function(e){var dp=di.encode(e);var dq=dp.byteLength+1;this.$3(dq);this.$1(dq);this.$8.set(dp,this.$7);this.$7+=dq},$3:function(e){this.$0(4);this.$1(4);this.$a.setInt32(this.$7,e,true);this.$7+=4},$5:function(e){this.$3(e)},$2:function(e){this.$0(8);this.$1(8);this.$a.setFloat64(this.$7,e,true);this.$7+=8},$0:function(e){var dp=ss.imod(e-ss.imod(this.$7,e),e);this.$1(dp);this.$7+=dp},$1:function(e){var dp=this.$7+e;if(dp>=this.$8.byteLength){var dq=Math.max(this.$8.byteLength*2,dp+1);var dr=new Uint8Array(dq);dr.set(this.$8);this.$8=dr;this.$a=new DataView(this.$8.buffer)}}},{uInt32ArrayToInt64Array:function(e){var dp=new Array(e.length*2);for(var dq=0;dq<e.length;dq++){dp[2*dq]=0;dp[2*dq+1]=e[dq]}return dp}});var cA=global.tab.RuntimeData=ss.mkType(a,'tab.RuntimeData',function(e,dp){this.$c='';this.$b=null;this.$f=null;this.$e=null;this.$8=null;this.$9=[];this.$a=[];this.$g=[];this.$d={};this.$c=e;this.$5();this.$7();this.$0(dp);this.$1()},{get_finalDataStore:function(){return this.$b},get_annexedData:function(){return this.$8},get_geometries:function(){return this.$d},get_paneStoreTable:function(){if(tab.MiscUtil.isNullOrEmpty(this.$f)){this.$f=new bR(this.get_finalDataStore().PageIntervalTable,this.get_finalDataStore().PaneCount)}return this.$f},get_labelsPaneStoreTable:function(){if(tab.MiscUtil.isNullOrEmpty(this.$e)){this.$e=new bR(this.get_annexedData().LabelStore.PageIntervalTable,this.get_finalDataStore().PaneCount)}return this.$e},get_drawFirsts:function(){if(tab.MiscUtil.isNullOrEmpty(this.$9)&&!tab.MiscUtil.isNullOrEmpty(this.get_annexedData())){this.$9=cA.$0(this.get_annexedData().DrawFirsts)}return this.$9},get_drawLasts:function(){if(tab.MiscUtil.isNullOrEmpty(this.$a)&&!tab.MiscUtil.isNullOrEmpty(this.get_annexedData())){this.$a=cA.$0(this.get_annexedData().DrawLasts)}return this.$a},get_panes:function(){if(tab.MiscUtil.isNullOrEmpty$2(this.$g)){if(tab.MiscUtil.isNullOrEmpty(this.get_annexedData())||tab.MiscUtil.isNullOrEmpty$2(this.get_annexedData().Panes)){return[]}var e=this.get_annexedData().Panes;var dp=[];for(var dq=0;dq<e.length;dq++){var dr=e[dq];var ds={};var dt=[];for(var du=0;du<dr.DrawPanes.length;du++){var dv=dr.DrawPanes[du];if(dv[1].length>0){dt.push(JSON.parse(dh.decode(dv[1])))}}ds.drawPane=Array.prototype.slice.call(dt);ds.rowAndColumnAndLayer={columnIndex:dr.Column,rowIndex:dr.Row};ds.paneRect={h:dr.Rect[3],w:dr.Rect[2],x:dr.Rect[0],y:dr.Rect[1]};dp.push(ds)}this.$g=dp}return this.$g},safeFetchMarkPanes:function(){var e=[];if(!ss.isNullOrUndefined(this.get_annexedData())&&!ss.isNullOrUndefined(this.get_annexedData().Panes)){e=this.get_annexedData().Panes}return e},invalidatePanesCache:function(){this.$g=[]},$2:function(){if(tab.MiscUtil.isNullOrEmpty(this.get_annexedData())||tab.MiscUtil.isNullOrEmpty$2(this.get_annexedData().Panes)){return}var e=this.get_annexedData().Panes;if(tab.MiscUtil.isNullOrEmpty(this.$b)||tab.MiscUtil.isNullOrEmpty(this.$b.Viewpoint)||tab.MiscUtil.isNullOrEmpty(this.$b.Viewpoint.PerPaneExtents)){return}var dp=this.$b.Viewpoint.PerPaneExtents;if(tab.MiscUtil.isNullOrEmpty$2(dp.pane_px_left)||tab.MiscUtil.isNullOrEmpty$2(dp.pane_px_right)||tab.MiscUtil.isNullOrEmpty$2(dp.pane_px_bottom)||tab.MiscUtil.isNullOrEmpty$2(dp.pane_px_top)){return}var dq=e.length;if(dp.pane_px_left.length!==dq||dp.pane_px_right.length!==dq||dp.pane_px_bottom.length!==dq||dp.pane_px_top.length!==dq){return}var dr=this.$b.PaneCount.RowCount;var ds=this.$b.PaneCount.ColumnCount;var dt=this.$4(dr,ds,dp);for(var du=0;du<e.length;du++){var dv=e[du];var dw=dt[dv.Row*ds+dv.Column];var dx=dp.pane_px_left[dw];var dy=dp.pane_px_top[dw];dv.Rect[0]=dx;dv.Rect[1]=dy;dv.Rect[2]=dp.pane_px_right[dw]-dx;dv.Rect[3]=dp.pane_px_bottom[dw]-dy}},$4:function(e,dp,dq){var dr=new Array(e*dp);var ds=dq.pane_row.length;for(var dt=0;dt<ds;dt++){dr[dq.pane_row[dt]*dp+dq.pane_col[dt]]=dt}return dr},update:function(e,dp){this.$b=this.$3(e);this.$f=null;this.$e=null;this.$0(dp)},$5:function(){if(ss.isNullOrUndefined(this.$c)||this.$c.length===0){this.$b={};return}if(this.$c.charCodeAt(0)===123){{var e=tabBootstrap.MetricsController.createContext('RTCONV'.toString(),16,null);try{this.$b=JSON.parse(this.$c)}finally{if(ss.isValue(e)){e.dispose()}}}}else{this.$b=bk.unmarshallHex(this.$c)}},$7:function(){if(tab.ObjectCoverage.shouldTrack('runtime-datastore')){this.$b=(new tab.ObjectCoverage('runtime-datastore')).instrument(this.get_finalDataStore(),'')}},$0:function(e){if(!tab.MiscUtil.isNullOrEmpty(this.$b.AnnexedData)){this.$8=this.$b.AnnexedData;if(e){this.$2()}}},$1:function(){var e=this.$b.PDMarks;var dp=_.keys(e);for(var dq=0;dq<dp.length;dq++){var dr=dp[dq];var ds=e[dr];var dt=ds.MarkLayoutData.geoTable;if(!ss.isValue(dt)){continue}this.$d[dr]=dt}},$3:function(e){e.TickPlacement=this.$b.TickPlacement;e.RefLines=this.$b.RefLines;if(!tab.FeatureFlags.isEnabled('RuntimeWebInstantRefLineLabels')){this.$6(e.InstantRefLines)}return e},$6:function(e){if(ss.isValue(e)){var dp=new ss.ObjectEnumerator(e);try{while(dp.moveNext()){var dq=dp.current();dq.value.TextRun=null}}finally{dp.dispose()}}}},{$ctor1:function(e,dp){this.$c='';this.$b=null;this.$f=null;this.$e=null;this.$8=null;this.$9=[];this.$a=[];this.$g=[];this.$d={};this.$b=e;this.$c=null;this.$7();this.$0(dp);this.$1()},$1:function(){this.$c='';this.$b=null;this.$f=null;this.$e=null;this.$8=null;this.$9=[];this.$a=[];this.$g=[];this.$d={}},createLimitedRuntimeDataForTest:function(e){var dp=new cA.$1;dp.$b=e;var dq=dp;return dq},$0:function(e){if(tab.MiscUtil.isNullOrEmpty(e)){return[]}var dp=[];for(var dq=0;dq<e.length;dq++){var dr=e[dq];dp.push(cE.visualListFromDrawPane(dr))}return Array.prototype.slice.call(dp)}});var cB=global.tab.RuntimeFormattingHooks=ss.mkType(a,'tab.RuntimeFormattingHooks',function(){},null,{registerRealFormattingTuple:function(e){if(ss.keyExists(cB.$5,e)){return cB.$5[e]}var dp=cB.$6++;cB.$7[dp]=JSON.parse(e);cB.$5[e]=dp;return dp},registerDateTimeFormattingTuple:function(e){if(ss.keyExists(cB.$5,e)){return cB.$5[e]}var dp=cB.$6++;var dq={};if(e==='*QQQ'){dq.format='*Q'}else if(ss.startsWithString(e,'EEEE')){dq.format=e.replace('EEEE','dddd')}else{dq.format=e}dq.locale_formatting_strings=tableau.format.defaultLocaleStrings;cB.$7[dp]=dq;cB.$5[e]=dp;return dp},formatRealValue:function(e,dp){var dq={t:'r',v:e,s:null};return tableau.format.formatDataValue(dq,'m',cB.$7[dp],-2,2)},formatDateTimeValue:function(e,dp){var dq={t:'t',v:e,s:null};return tableau.format.formatDataValue(dq,'m',cB.$7[dp],null,2)}});var cC=global.tab.RuntimeHandles=ss.mkType(a,'tab.RuntimeHandles',function(e,dp,dq){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.set_VM(e);this.set_initialStore(dp);this.set_finalStore(dq)},{get_VM:function(){return this.$1$1},set_VM:function(e){this.$1$1=e},get_initialStore:function(){return this.$1$2},set_initialStore:function(e){this.$1$2=e},get_finalStore:function(){return this.$1$3},set_finalStore:function(e){this.$1$3=e}});var cD=global.tab.RuntimeTextMeasurementHooks=ss.mkType(a,'tab.RuntimeTextMeasurementHooks',function(){},null,{registerTextStyle:function(e){var dp=cD.$5++;var dq=cD.$0(de.textStyleFromTuple(e[cD.$3]));cD.$4[dp]=dq;return dp},measureTextWidth:function(e,dp){var dq=cD.$1();dq.font=cD.$4[e];return dq.measureText(dp).width},measureTextWidth$1:function(e,dp){var dq=cD.$1();dq.font=cD.$0(e);return dq.measureText(dp).width},measureFontMetrics:function(e){var dp=new Float32Array(new ArrayBuffer(12));dp[0]=16.53125;dp[1]=13.140625;dp[2]=0;return dp.buffer},$1:function(){var e=document.createElement('canvas');return e.getContext('2d')},$0:function(e){var dp=new ss.StringBuilder;if(I.tableauFontStyleFromInt(e.font_style)==='font-style-italic'){dp.append('italic ')}if(I.fontWeightFromInt(e.font_weight)==='font-weight-bold'){dp.append('bold ')}var dq=tab.FontUtil.createFallbackCanvasFontName(e.font);dp.append(e.font_size+'pt '+dq);return dp.toString()}});var cE=global.tab.RuntimeUtil=ss.mkType(a,'tab.RuntimeUtil',null,null,{isRuntimeDataPresModelNullOrEmpty:function(e){return!ss.isValue(e)||!ss.isValue(e.runtimeDatastoreUpdater)&&!ss.isValue(e.runtimeLayoutInputDatastore)&&!ss.isValue(e.runtimeVtl)},canUseRuntime:function(e){return e!=='render-mode-desktop'&&cE.isRuntimeSupported()&&!cE.$2},isRuntimeSupported:function(){if((window.navigator.userAgent.indexOf('Safari')!==-1||window.navigator.userAgent.indexOf('TableauMobile')!==-1)&&window.navigator.userAgent.indexOf('OS 11_2_')!==-1){return false}return!ss.isNullOrUndefined(window.self['WebAssembly'])},abortEmscripten:function(){cE.$2=true},createRuntimeData:function(e){var dp=true;var dq=new cA(e,dp);return dq},visualListFromDrawPane:function(e){var dp=e;return JSON.parse(dh.decode(dp[1]))},renderNodeFromPredictionMark:function(e){var dp={};var dq=-695169174;var dr=-696033834;switch(e.Type){case-695169174:{{var ds={};ds.qrgbColor=e.color;ds.lineTupleIds=e.LineTupleIds;cE.$0(e,ds);dp=ds;dp.type='prediction-band'}break}case-696033834:{{var dt={};dt.qrgbColors=e.Colors;dt.qrgbColor=e.halo_color;dt.renderOnTop=e.RenderOnTop;dt.maxAlpha=e.MaxAlpha;cE.$0(e,dt);dp=dt;dp.type='prediction-whisker'}break}default:{{}break}}return dp},$0:function(e,dp){dp.useYAxis=e.UseYAxis;dp.upperEnd=e.UpperEnds;dp.lowerEnd=e.LowerEnds;dp.oppositeAxis=e.OppositeAxes;dp.widths=e.Widths;dp.tupleIds=e.TupleIds}});var cF=global.tab.RuntimeWebHost=ss.mkType(a,'tab.RuntimeWebHost',function(e){this.$2=null;this.$2='http://'+e;this.$1()},{executeVM:function(e){var dp=$.Deferred();var dq=this.$0('ExecuteVM',[c.$0('int',''),c.$0('int',e.handleValue)]);dq.done(ss.mkdel(this,function(dr){var ds=new A(dr.value,ss.mkdel(this,function(dt){this.$0('HandleManagerReleaseDatastoreHandle',[c.$0('void',''),c.$0('int',dt)])}));dp.resolve(ds)}));return dp.promise()},buildVMHex:function(e,dp){var dq=$.Deferred();var dr=this.$0('BuildVM',[c.$0('int',''),c.$0('hex',e),c.$0('int',dp.handleValue)]);dr.done(ss.mkdel(this,function(ds){var dt=new dn(ds.value,ss.mkdel(this,function(du){this.$0('HandleManagerReleaseVMHandle',[c.$0('void',''),c.$0('int',du)])}));dq.resolve(dt)}));return dq.promise()},loadBinaryDatastoreHex:function(e){var dp=$.Deferred();var dq=this.$0('LoadBinaryDatastore',[c.$0('int',''),c.$0('hex',e)]);dq.done(ss.mkdel(this,function(dr){var ds=new A(dr.value,ss.mkdel(this,function(dt){this.$0('HandleManagerReleaseDatastoreHandle',[c.$0('void',''),c.$0('int',dt)])}));dp.resolve(ds)}));return dp.promise()},initializeRuntime:function(){var e=$.Deferred();var dp=this.$0('InitializeRuntime',[c.$0('void','')]);dp.done(function(dq){e.resolve()});return e.promise()},marshallDatastore:function(e){var dp=$.Deferred();var dq=this.$0('MarshallDatastore',[c.$0('hex',''),c.$0('int',e.handleValue)]);dq.done(function(dr){var ds=bk.unmarshallHex(dr.value);dp.resolve(ds)});return dp.promise()},marshallDatastoreSubKeyHex:function(e,dp){var dq=$.Deferred();var dr=this.$0('MarshallDatastoreSubKey',[c.$0('hex',''),c.$0('int',e.handleValue),c.$0('hex',dp)]);dr.done(function(ds){var dt=bk.unmarshallHex(ds.value);dq.resolve(dt)});return dq.promise()},loadAndApplyDataStoreUpdaterHex:function(e,dp){var dq=$.Deferred();var dr=this.$0('LoadAndApplyDataStoreUpdater',[c.$0('int',''),c.$0('hex',e),c.$0('int',dp.handleValue)]);dr.done(ss.mkdel(this,function(ds){var dt=new A(ds.value,ss.mkdel(this,function(du){this.$0('HandleManagerReleaseDatastoreHandle',[c.$0('void',''),c.$0('int',du)])}));dq.resolve(dt)}));return dq.promise()},localPanCommand:function(e,dp,dq,dr,ds){var dt=$.Deferred();var du=this.$0('LocalPanCommand',[c.$0('int',''),c.$0('int',e.handleValue),c.$0('int',dp.handleValue),c.$0('int',dq.handleValue),c.$0('double',dr),c.$0('double',ds)]);du.done(ss.mkdel(this,function(dv){var dw=new A(dv.value,ss.mkdel(this,function(dx){this.$0('HandleManagerReleaseDatastoreHandle',[c.$0('void',''),c.$0('int',dx)])}));dt.resolve(dw)}));return dt.promise()},localZoomCommand:function(e,dp,dq,dr,ds,dt,du,dv){var dw=$.Deferred();var dx=this.$0('LocalZoomCommand',[c.$0('int',''),c.$0('int',e.handleValue),c.$0('int',dp.handleValue),c.$0('int',dq.handleValue),c.$0('int',dr),c.$0('int',ds),c.$0('int',dt),c.$0('int',du),c.$0('bool',dv)]);dx.done(ss.mkdel(this,function(dy){var dz=new A(dy.value,ss.mkdel(this,function(dA){this.$0('HandleManagerReleaseDatastoreHandle',[c.$0('void',''),c.$0('int',dA)])}));dw.resolve(dz)}));return dw.promise()},localZoomFactorCommand:function(e,dp,dq,dr,ds,dt){var du=$.Deferred();var dv=this.$0('LocalZoomFactorCommand',[c.$0('int',''),c.$0('int',e.handleValue),c.$0('int',dp.handleValue),c.$0('int',dq.handleValue),c.$0('int',dr),c.$0('int',ds),c.$0('double',dt)]);dv.done(ss.mkdel(this,function(dw){var dx=new A(dw.value,ss.mkdel(this,function(dy){this.$0('HandleManagerReleaseDatastoreHandle',[c.$0('void',''),c.$0('int',dy)])}));du.resolve(dx)}));return du.promise()},rueUpdateCommandHex:function(e,dp){var dq=$.Deferred();var dr=this.$0('RueUpdateCommand',[c.$0('int',''),c.$0('int',e.handleValue),c.$0('hex',dp)]);dr.done(ss.mkdel(this,function(ds){var dt=new A(ds.value,ss.mkdel(this,function(du){this.$0('HandleManagerReleaseDatastoreHandle',[c.$0('void',''),c.$0('int',du)])}));dq.resolve(dt)}));return dq.promise()},$0:function(e,dp){var dq=$.Deferred();var dr=[];for(var ds=0;ds<dp.length;ds++){var dt=dp[ds];dr.push(dt)}var du=new XMLHttpRequest;du.open('POST',this.$2+'/callMethod/'+e);du.setRequestHeader('Accept','text/javascript');du.setRequestHeader('Content-Type','application/x-www-form-urlencoded');du.onloadend=function(dv){dq.resolve(JSON.parse(dv.target.responseText))};du.onerror=function(dv){dq.reject(dv)};du.send(JSON.stringify(dr));return dq},$1:function(){var e=new XMLHttpRequest;e.open('POST',this.$2+'/restart',false);e.setRequestHeader('Accept','text/javascript');e.setRequestHeader('Content-Type','application/x-www-form-urlencoded');e.send(JSON.stringify('restart'))}});var cG=global.tab.RuntimeWebHostSupport=ss.mkType(a,'tab.RuntimeWebHostSupport',function(){},{byteBufferToHeap:function(e){var dp={};dp.type='bytebuffer';dp.value=Z.encodeBufferToHex(new Uint8Array(e));return dp},paramToByteBuffer:function(e){var dp=e['value'];var dq=new Uint8Array(ba.decodedLength(dp));ba.run(0,dq,dp);return dq.buffer},paramToString:function(e){return e['value']},stringToHeap:function(e){var dp={};dp.type='string';dp.value=e;return dp}});var cH=global.tab.RuntimeWebModule=ss.mkType(a,'tab.RuntimeWebModule');var cI=global.tab.SceneMarginAlongDirectionElementLayoutTableKeys=ss.mkType(a,'tab.SceneMarginAlongDirectionElementLayoutTableKeys',function(){bl.call(this)},{level:function(){return new bl.$ctor2(this.get_base().add('Level'))},alongDirectionPixelOffset:function(){return new bl.$ctor2(this.get_base().add('AlongDirectionPixelOffset'))},alongDirectionPixelSize:function(){return new bl.$ctor2(this.get_base().add('AlongDirectionPixelSize'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cJ=global.tab.SceneMarginFieldLabelsKeys=ss.mkType(a,'tab.SceneMarginFieldLabelsKeys',function(){bl.call(this)},{sceneMarginData:function(){return new P.$ctor1(this.get_base().add('SceneMarginData'))},labelStyles:function(){return new bl.$ctor2(this.get_base().add('LabelStyles'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cK=global.tab.SceneMarginKeys=ss.mkType(a,'tab.SceneMarginKeys',function(){bl.call(this)},{layout:function(){return new dm.$ctor1(this.get_base().add('Layout'))},labelSkip:function(){return new bo.$ctor1(this.get_base().add('LabelSkip'))},styles:function(){return new cM.$ctor1(this.get_base().add('Styles'))},xNodes:function(){return new h.$ctor1(this.get_base().add('XNodes'))},yNodes:function(){return new h.$ctor1(this.get_base().add('YNodes'))},nodeSorts:function(){return new bH.$ctor1(this.get_base().add('NodeSorts'))},fieldLabels:function(){return new cJ.$ctor1(this.get_base().add('FieldLabels'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cL=global.tab.SceneMarginLayoutTableKeys=ss.mkType(a,'tab.SceneMarginLayoutTableKeys',function(){bl.call(this)},{headerDepth:function(){return new bl.$ctor2(this.get_base().add('HeaderDepth'))},elementType:function(){return new bl.$ctor2(this.get_base().add('ElementType'))},sceneMarginLocation:function(){return new bl.$ctor2(this.get_base().add('SceneMarginLocation'))},pixelOffset:function(){return new bl.$ctor2(this.get_base().add('PixelOffset'))},pixelSize:function(){return new bl.$ctor2(this.get_base().add('PixelSize'))},stretchedPixelSize:function(){return new bl.$ctor2(this.get_base().add('StretchedPixelSize'))},fieldName:function(){return new bl.$ctor2(this.get_base().add('FieldName'))},isDraggingAllowed:function(){return new bl.$ctor2(this.get_base().add('IsDraggingAllowed'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cM=global.tab.SceneMarginStylesProducerInputKeys=ss.mkType(a,'tab.SceneMarginStylesProducerInputKeys',function(){bl.call(this)},{borderStyles:function(){return new t.$ctor1(this.get_base().add('BorderStyles'))},headerStyleAndShading:function(){return new cX.$ctor1(this.get_base().add('HeaderStyleAndShading'))},dropSpot:function(){return new D.$ctor1(this.get_base().add('DropSpot'))},elidedXNodeLabels:function(){return new bl.$ctor2(this.get_base().add('ElidedXNodeLabels'))},elidedYNodeLabels:function(){return new bl.$ctor2(this.get_base().add('ElidedYNodeLabels'))},canUsePaneTextHAlign:function(){return new bl.$ctor2(this.get_base().add('CanUsePaneTextHAlign'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cN=global.tab.SelectionProducerInputKeys=ss.mkType(a,'tab.SelectionProducerInputKeys',function(){bl.call(this)},{tupleSelection:function(){return new bl.$ctor2(this.get_base().add('TupleSelection'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cO=global.tab.SetLabelFormatsOutputKeys=ss.mkType(a,'tab.SetLabelFormatsOutputKeys',function(){bl.call(this)},{formatters:function(){return new bl.$ctor2(this.get_base().add('Formatters'))},formatterIndex:function(){return new bl.$ctor2(this.get_base().add('FormatterIndex'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cP=global.tab.SizeEncodingOutputKeys=ss.mkType(a,'tab.SizeEncodingOutputKeys',function(){bl.call(this)},{size:function(){return new bl.$ctor2(this.get_base().add('Size'))},unscaledSize:function(){return new bl.$ctor2(this.get_base().add('UnscaledSize'))},width:function(){return new bl.$ctor2(this.get_base().add('Width'))},height:function(){return new bl.$ctor2(this.get_base().add('Height'))},hasPerMarkEncoding:function(){return new bl.$ctor2(this.get_base().add('HasPerMarkEncoding'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cQ=global.tab.SolutionResultsTableKeys=ss.mkType(a,'tab.SolutionResultsTableKeys',function(){bl.call(this)},{variableID:function(){return new bl.$ctor2(this.get_base().add('VariableID'))},value:function(){return new bl.$ctor2(this.get_base().add('Value'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cR=global.tab.SpatialProjectorKeys=ss.mkType(a,'tab.SpatialProjectorKeys',function(){bl.call(this)},{isMap:function(){return new bl.$ctor2(this.get_base().add('IsMap'))},uName:function(){return new bl.$ctor2(this.get_base().add('UName'))},vName:function(){return new bl.$ctor2(this.get_base().add('VName'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cS=global.tab.StackedMarkAttributesKeys=ss.mkType(a,'tab.StackedMarkAttributesKeys',function(){bl.call(this)},{hasCurrStackValue:function(){return new bl.$ctor2(this.get_base().add('HasCurrStackValue'))},hasPrevStackValue:function(){return new bl.$ctor2(this.get_base().add('HasPrevStackValue'))},hasPrevLowerValue:function(){return new bl.$ctor2(this.get_base().add('HasPrevLowerValue'))},hasNextLowerValue:function(){return new bl.$ctor2(this.get_base().add('HasNextLowerValue'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cT=global.tab.TextComposerStyleTableKeys=ss.mkType(a,'tab.TextComposerStyleTableKeys',function(){bl.call(this)},{font:function(){return new bl.$ctor2(this.get_base().add('Font'))},fontSize:function(){return new bl.$ctor2(this.get_base().add('FontSize'))},fontStyle:function(){return new bl.$ctor2(this.get_base().add('FontStyle'))},fontWeight:function(){return new bl.$ctor2(this.get_base().add('FontWeight'))},hAlign:function(){return new bl.$ctor2(this.get_base().add('HAlign'))},strikethrough:function(){return new bl.$ctor2(this.get_base().add('Strikethrough'))},textAlignment:function(){return new bl.$ctor2(this.get_base().add('TextAlignment'))},textDecoration:function(){return new bl.$ctor2(this.get_base().add('TextDecoration'))},textOrientation:function(){return new bl.$ctor2(this.get_base().add('TextOrientation'))},textStyleColor:function(){return new bl.$ctor2(this.get_base().add('TextStyleColor'))},textWrapMode:function(){return new bl.$ctor2(this.get_base().add('TextWrapMode'))},underline:function(){return new bl.$ctor2(this.get_base().add('Underline'))},vAlign:function(){return new bl.$ctor2(this.get_base().add('VAlign'))},leftMargin:function(){return new bl.$ctor2(this.get_base().add('LeftMargin'))},rightMargin:function(){return new bl.$ctor2(this.get_base().add('RightMargin'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cU=global.tab.TextCompositionInputKeys=ss.mkType(a,'tab.TextCompositionInputKeys',function(){bl.call(this)},{isTextTable:function(){return new bl.$ctor2(this.get_base().add('IsTextTable'))},hPad:function(){return new bl.$ctor2(this.get_base().add('HPad'))},vPad:function(){return new bl.$ctor2(this.get_base().add('VPad'))},textScaleFactor:function(){return new bl.$ctor2(this.get_base().add('TextScaleFactor'))},textRangeFactor:function(){return new bl.$ctor2(this.get_base().add('TextRangeFactor'))},textFontMin:function(){return new bl.$ctor2(this.get_base().add('TextFontMin'))},textFitStyle:function(){return new bl.$ctor2(this.get_base().add('TextFitStyle'))},textRunPosition:function(){return new bl.$ctor2(this.get_base().add('TextRunPosition'))},formattedText:function(){return new R.$ctor1(this.get_base().add('FormattedText'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cV=global.tab.TextEncodingTableKeys=ss.mkType(a,'tab.TextEncodingTableKeys',function(){bl.call(this)},{cellX:function(){return new bl.$ctor2(this.get_base().add('CellX'))},cellY:function(){return new bl.$ctor2(this.get_base().add('CellY'))},height:function(){return new bl.$ctor2(this.get_base().add('Height'))},markFlags:function(){return new bl.$ctor2(this.get_base().add('MarkFlags'))},textRunCount:function(){return new bl.$ctor2(this.get_base().add('TextRunCount'))},textRunOffset:function(){return new bl.$ctor2(this.get_base().add('TextRunOffset'))},tupleId:function(){return new bl.$ctor2(this.get_base().add('TupleId'))},userPaneCol:function(){return new bl.$ctor2(this.get_base().add('UserPaneCol'))},userPaneRow:function(){return new bl.$ctor2(this.get_base().add('UserPaneRow'))},webClientShouldRenderLabel:function(){return new bl.$ctor2(this.get_base().add('WebClientShouldRenderLabel'))},width:function(){return new bl.$ctor2(this.get_base().add('Width'))},x:function(){return new bl.$ctor2(this.get_base().add('X'))},y:function(){return new bl.$ctor2(this.get_base().add('Y'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cW=global.tab.TextRunTableKeys=ss.mkType(a,'tab.TextRunTableKeys',function(){bl.call(this)},{hasFontSizeOverride:function(){return new bl.$ctor2(this.get_base().add('HasFontSizeOverride'))},textRunString:function(){return new bl.$ctor2(this.get_base().add('TextRunString'))},textRunX:function(){return new bl.$ctor2(this.get_base().add('TextRunX'))},textRunXRemote:function(){return new bl.$ctor2(this.get_base().add('TextRunXRemote'))},textRunY:function(){return new bl.$ctor2(this.get_base().add('TextRunY'))},textRunYRemote:function(){return new bl.$ctor2(this.get_base().add('TextRunYRemote'))},textStyleId:function(){return new bl.$ctor2(this.get_base().add('TextStyleId'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cX=global.tab.TextStyleAndShadingDataKeys=ss.mkType(a,'tab.TextStyleAndShadingDataKeys',function(){bl.call(this)},{xNodeLevelStyles:function(){return new bI.$ctor1(this.get_base().add('XNodeLevelStyles'))},yNodeLevelStyles:function(){return new bI.$ctor1(this.get_base().add('YNodeLevelStyles'))},labelStyles:function(){return new bl.$ctor2(this.get_base().add('LabelStyles'))},fontMetrics:function(){return new bl.$ctor2(this.get_base().add('FontMetrics'))},xPerLevelHeaderStyles:function(){return new U.$ctor1(this.get_base().add('XPerLevelHeaderStyles'))},yPerLevelHeaderStyles:function(){return new U.$ctor1(this.get_base().add('YPerLevelHeaderStyles'))},yLevelShading:function(){return new cy.$ctor1(this.get_base().add('YLevelShading'))},xLevelShading:function(){return new cy.$ctor1(this.get_base().add('XLevelShading'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cY=global.tab.TextStyleKeys=ss.mkType(a,'tab.TextStyleKeys',function(){bl.call(this)},{font:function(){return new bl.$ctor2(this.get_base().add('Font'))},fontSize:function(){return new bl.$ctor2(this.get_base().add('FontSize'))},fontStyle:function(){return new bl.$ctor2(this.get_base().add('FontStyle'))},fontWeight:function(){return new bl.$ctor2(this.get_base().add('FontWeight'))},hAlign:function(){return new bl.$ctor2(this.get_base().add('HAlign'))},strikethrough:function(){return new bl.$ctor2(this.get_base().add('Strikethrough'))},textAlignment:function(){return new bl.$ctor2(this.get_base().add('TextAlignment'))},textDecoration:function(){return new bl.$ctor2(this.get_base().add('TextDecoration'))},textOrientation:function(){return new bl.$ctor2(this.get_base().add('TextOrientation'))},textStyleColor:function(){return new bl.$ctor2(this.get_base().add('TextStyleColor'))},textWrapMode:function(){return new bl.$ctor2(this.get_base().add('TextWrapMode'))},underline:function(){return new bl.$ctor2(this.get_base().add('Underline'))},vAlign:function(){return new bl.$ctor2(this.get_base().add('VAlign'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var cZ=global.tab.TextStyleTableKeys=ss.mkType(a,'tab.TextStyleTableKeys',function(){bl.call(this)},{font:function(){return new bl.$ctor2(this.get_base().add('Font'))},fontSize:function(){return new bl.$ctor2(this.get_base().add('FontSize'))},fontStyle:function(){return new bl.$ctor2(this.get_base().add('FontStyle'))},fontWeight:function(){return new bl.$ctor2(this.get_base().add('FontWeight'))},hAlign:function(){return new bl.$ctor2(this.get_base().add('HAlign'))},strikethrough:function(){return new bl.$ctor2(this.get_base().add('Strikethrough'))},textAlignment:function(){return new bl.$ctor2(this.get_base().add('TextAlignment'))},textDecoration:function(){return new bl.$ctor2(this.get_base().add('TextDecoration'))},textOrientation:function(){return new bl.$ctor2(this.get_base().add('TextOrientation'))},textStyleColor:function(){return new bl.$ctor2(this.get_base().add('TextStyleColor'))},textWrapMode:function(){return new bl.$ctor2(this.get_base().add('TextWrapMode'))},underline:function(){return new bl.$ctor2(this.get_base().add('Underline'))},vAlign:function(){return new bl.$ctor2(this.get_base().add('VAlign'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var da=global.tab.TickProducerArrayConstantsKeys=ss.mkType(a,'tab.TickProducerArrayConstantsKeys',function(){bl.call(this)},{daysPossibleFreqs:function(){return new bl.$ctor2(this.get_base().add('DaysPossibleFreqs'))},hoursPossibleFreqs:function(){return new bl.$ctor2(this.get_base().add('HoursPossibleFreqs'))},monthsPossibleFreqs:function(){return new bl.$ctor2(this.get_base().add('MonthsPossibleFreqs'))},minutesPossibleFreqs:function(){return new bl.$ctor2(this.get_base().add('MinutesPossibleFreqs'))},quartersPossibleFreqs:function(){return new bl.$ctor2(this.get_base().add('QuartersPossibleFreqs'))},secondsPossibleFreqs:function(){return new bl.$ctor2(this.get_base().add('SecondsPossibleFreqs'))},weeksPossibleFreqs:function(){return new bl.$ctor2(this.get_base().add('WeeksPossibleFreqs'))},yearsPossibleFreqs:function(){return new bl.$ctor2(this.get_base().add('YearsPossibleFreqs'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var db=global.tab.TickProducerInputKeys=ss.mkType(a,'tab.TickProducerInputKeys',function(){bl.call(this)},{qPerHeaderData:function(){return new cl.$ctor1(this.get_base().add('QPerHeaderData'))},dateTimePerHeaderData:function(){return new B.$ctor1(this.get_base().add('DateTimePerHeaderData'))},logPerHeaderData:function(){return new bw.$ctor1(this.get_base().add('LogPerHeaderData'))},noneTickPerHeaderData:function(){return new bJ.$ctor1(this.get_base().add('NoneTickPerHeaderData'))},arrayConstants:function(){return new da.$ctor1(this.get_base().add('ArrayConstants'))},columnFormat:function(){return new bl.$ctor2(this.get_base().add('ColumnFormat'))},labelStyle:function(){return new bl.$ctor2(this.get_base().add('LabelStyle'))},fontMetrics:function(){return new bl.$ctor2(this.get_base().add('FontMetrics'))},numericFormatDivisor:function(){return new bl.$ctor2(this.get_base().add('NumericFormatDivisor'))},numericFormatSuffix:function(){return new bl.$ctor2(this.get_base().add('NumericFormatSuffix'))},tickLengthMajorPixels:function(){return new bl.$ctor2(this.get_base().add('TickLengthMajorPixels'))},tickLengthMinorPixels:function(){return new bl.$ctor2(this.get_base().add('TickLengthMinorPixels'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var dc=global.tab.TickProducerOutputKeys=ss.mkType(a,'tab.TickProducerOutputKeys',function(){bl.call(this)},{perHeaderMajorTickPlacement:function(){return new dd.$ctor1(this.get_base().add('PerHeaderMajorTickPlacement'))},perHeaderMinorTickPlacement:function(){return new dd.$ctor1(this.get_base().add('PerHeaderMinorTickPlacement'))},encodedTickPositions:function(){return new bl.$ctor2(this.get_base().add('EncodedTickPositions'))},encodedMinorTickPositions:function(){return new bl.$ctor2(this.get_base().add('EncodedMinorTickPositions'))},tickLabelValues:function(){return new bl.$ctor2(this.get_base().add('TickLabelValues'))},labelStyle:function(){return new bl.$ctor2(this.get_base().add('LabelStyle'))},fontMetrics:function(){return new bl.$ctor2(this.get_base().add('FontMetrics'))},columnFormat:function(){return new bl.$ctor2(this.get_base().add('ColumnFormat'))},updatedColumnFormat:function(){return new bl.$ctor2(this.get_base().add('UpdatedColumnFormat'))},tickLengthMajorPixels:function(){return new bl.$ctor2(this.get_base().add('TickLengthMajorPixels'))},tickLengthMinorPixels:function(){return new bl.$ctor2(this.get_base().add('TickLengthMinorPixels'))},isLabelNudgeable:function(){return new bl.$ctor2(this.get_base().add('IsLabelNudgeable'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var dd=global.tab.TickProducerPerHeaderOutputTableKeys=ss.mkType(a,'tab.TickProducerPerHeaderOutputTableKeys',function(){bl.call(this)},{encodedTickPositionsIndex:function(){return new bl.$ctor2(this.get_base().add('EncodedTickPositionsIndex'))},spacing:function(){return new bl.$ctor2(this.get_base().add('Spacing'))},origin:function(){return new bl.$ctor2(this.get_base().add('Origin'))},includeViewEdges:function(){return new bl.$ctor2(this.get_base().add('IncludeViewEdges'))},showMajorTicks:function(){return new bl.$ctor2(this.get_base().add('ShowMajorTicks'))},showMinorTicks:function(){return new bl.$ctor2(this.get_base().add('ShowMinorTicks'))},dateTimeSpacing:function(){return new bl.$ctor2(this.get_base().add('DateTimeSpacing'))},dateTimeSpacingUnit:function(){return new bl.$ctor2(this.get_base().add('DateTimeSpacingUnit'))},dateTimeOrigin:function(){return new bl.$ctor2(this.get_base().add('DateTimeOrigin'))},dateTimeFormatString:function(){return new bl.$ctor2(this.get_base().add('DateTimeFormatString'))},dateTimeSubtitle:function(){return new bl.$ctor2(this.get_base().add('DateTimeSubtitle'))},encodingMin:function(){return new bl.$ctor2(this.get_base().add('EncodingMin'))},encodingMax:function(){return new bl.$ctor2(this.get_base().add('EncodingMax'))},labelStyleIndex:function(){return new bl.$ctor2(this.get_base().add('LabelStyleIndex'))},columnFormatIndex:function(){return new bl.$ctor2(this.get_base().add('ColumnFormatIndex'))},updatedColumnFormatIndex:function(){return new bl.$ctor2(this.get_base().add('UpdatedColumnFormatIndex'))},targetTickSpacing:function(){return new bl.$ctor2(this.get_base().add('TargetTickSpacing'))},subTotalsLabelStyleIndex:function(){return new bl.$ctor2(this.get_base().add('SubTotalsLabelStyleIndex'))},grandTotalsLabelStyleIndex:function(){return new bl.$ctor2(this.get_base().add('GrandTotalsLabelStyleIndex'))},axisScaleType:function(){return new bl.$ctor2(this.get_base().add('AxisScaleType'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var de=global.tab.TupleDatastoreConversions=ss.mkType(a,'tab.TupleDatastoreConversions',null,null,{textStyleFromTuple:function(e){return{font:e[0],font_size:e[1],font_style:e[2],font_weight:e[3],hAlign:e[4],strikethrough:e[5],text_alignment:e[6],text_decoration:e[7],text_orientation:e[8],text_style_color:e[9],text_wrap_mode:e[10],underline:e[11],vAlign:e[12]}}});var df=global.tab.UpdatedTextStyleTableResultKeys=ss.mkType(a,'tab.UpdatedTextStyleTableResultKeys',function(){bl.call(this)},{fontMetrics:function(){return new bl.$ctor2(this.get_base().add('FontMetrics'))},textStyleTable:function(){return new cZ.$ctor1(this.get_base().add('TextStyleTable'))},textStyleId:function(){return new bl.$ctor2(this.get_base().add('TextStyleId'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var dg=global.tab.UserPaneInfoKeys=ss.mkType(a,'tab.UserPaneInfoKeys',function(){bl.call(this)},{xCellOffsets:function(){return new bl.$ctor2(this.get_base().add('XCellOffsets'))},xPixelOffsets:function(){return new bl.$ctor2(this.get_base().add('XPixelOffsets'))},yCellOffsets:function(){return new bl.$ctor2(this.get_base().add('YCellOffsets'))},yPixelOffsets:function(){return new bl.$ctor2(this.get_base().add('YPixelOffsets'))},xCellWidths:function(){return new bl.$ctor2(this.get_base().add('XCellWidths'))},xPixelWidths:function(){return new bl.$ctor2(this.get_base().add('XPixelWidths'))},yCellHeights:function(){return new bl.$ctor2(this.get_base().add('YCellHeights'))},yPixelHeights:function(){return new bl.$ctor2(this.get_base().add('YPixelHeights'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var dh=global.tab.Utf8TextDecoder=ss.mkType(a,'tab.Utf8TextDecoder',function(){},null,{decode:function(e){if(dh.$2||!ss.isInstanceOfType(e,Uint8Array)){return N.decode(e)}else{return dh.$1.decode(e)}},decodeNullTerminated:function(e){var dp;for(dp=0;dp<e.byteLength;dp++){if(e[dp]===0){break}}return dh.decode(e.subarray(0,dp))}});var di=global.tab.Utf8TextEncoder=ss.mkType(a,'tab.Utf8TextEncoder',function(){},null,{encode:function(e){if(di.$2){return O.encode(e)}else{return di.$1.encode(e)}}});var dj=global.tab.VariableNameTableKeys=ss.mkType(a,'tab.VariableNameTableKeys',function(){bl.call(this)},{variableID:function(){return new bl.$ctor2(this.get_base().add('VariableID'))},name:function(){return new bl.$ctor2(this.get_base().add('Name'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var dk=global.tab.ViewpointKeys=ss.mkType(a,'tab.ViewpointKeys',function(){bl.call(this)},{mapLayersModelUpdate:function(){return new by.$ctor1(this.get_base().add('MapLayersModelUpdate'))},perPaneExtents:function(){return new bW.$ctor1(this.get_base().add('PerPaneExtents'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var dl=global.tab.VisualLayoutProducerInputKeys=ss.mkType(a,'tab.VisualLayoutProducerInputKeys',function(){bl.call(this)},{sceneMarginLayout:function(){return new cL.$ctor1(this.get_base().add('SceneMarginLayout'))},xElementsLayout:function(){return new cI.$ctor1(this.get_base().add('XElementsLayout'))},yElementsLayout:function(){return new cI.$ctor1(this.get_base().add('YElementsLayout'))},zoomType:function(){return new bl.$ctor2(this.get_base().add('ZoomType'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var dm=global.tab.VisualLayoutResultsKeys=ss.mkType(a,'tab.VisualLayoutResultsKeys',function(){bl.call(this)},{sceneMarginLayout:function(){return new cL.$ctor1(this.get_base().add('SceneMarginLayout'))},xElementsLayout:function(){return new cI.$ctor1(this.get_base().add('XElementsLayout'))},yElementsLayout:function(){return new cI.$ctor1(this.get_base().add('YElementsLayout'))},zoomType:function(){return new bl.$ctor2(this.get_base().add('ZoomType'))}},{$ctor1:function(e){bl.$ctor2.call(this,e)}});var dn=global.tab.VMHandle=ss.mkType(a,'tab.VMHandle',function(e,dp){bL.call(this,e,dp)},{get_typeCode:function(){return 17}});ss.initClass(b);ss.initClass(c,Object);ss.initClass(bl);bl.$ctor1.prototype=bl.$ctor2.prototype=bl.$1.prototype=bl.prototype;ss.initClass(d,bl);d.$ctor1.prototype=d.prototype;ss.initClass(f,bl);f.$ctor1.prototype=f.prototype;ss.initClass(g,bl);g.$ctor1.prototype=g.prototype;ss.initClass(h,bl);h.$ctor1.prototype=h.prototype;ss.initClass(i,bl);i.$ctor1.prototype=i.prototype;ss.initClass(j,bl);j.$ctor1.prototype=j.prototype;ss.initClass(k,bl);k.$ctor1.prototype=k.prototype;ss.initClass(l,bl);l.$ctor1.prototype=l.prototype;ss.initClass(m,bl);m.$ctor1.prototype=m.prototype;ss.initClass(n,bl);n.$ctor1.prototype=n.prototype;ss.initClass(o,bl);o.$ctor1.prototype=o.prototype;ss.initClass(p,bl);p.$ctor1.prototype=p.prototype;ss.initClass(q,bl);q.$ctor1.prototype=q.prototype;ss.initClass(r,bl);r.$ctor1.prototype=r.prototype;ss.initClass(s);ss.initClass(t,bl);t.$ctor1.prototype=t.prototype;ss.initClass(u,bl);u.$ctor1.prototype=u.prototype;ss.initClass(v,bl);v.$ctor1.prototype=v.prototype;ss.initClass(w,bl);w.$ctor1.prototype=w.prototype;ss.initClass(x,bl);x.$ctor1.prototype=x.prototype;ss.initClass(y,bl);y.$ctor1.prototype=y.prototype;ss.initClass(z,bl);z.$ctor1.prototype=z.prototype;ss.initClass(bL,null,[ss.IDisposable]);ss.initClass(A,bL,[ss.IDisposable]);ss.initClass(B,bl);B.$ctor1.prototype=B.prototype;ss.initClass(C,bl);C.$ctor1.prototype=C.prototype;ss.initClass(D,bl);D.$ctor1.prototype=D.prototype;ss.initClass(E,bl);E.$ctor1.prototype=E.prototype;ss.initClass(F,bl);F.$ctor1.prototype=F.prototype;ss.initClass(G);ss.initClass(H,bl);H.$ctor1.prototype=H.prototype;ss.initClass(I);ss.initClass(J,bl);J.$ctor1.prototype=J.prototype;ss.initClass(K,bl);K.$ctor1.prototype=K.prototype;ss.initClass(L,bl);L.$ctor1.prototype=L.prototype;ss.initClass(M,bl);M.$ctor1.prototype=M.prototype;ss.initClass(N);ss.initClass(O);ss.initClass(P,bl);P.$ctor1.prototype=P.prototype;ss.initClass(Q,bl);Q.$ctor1.prototype=Q.prototype;ss.initClass(R,bl);R.$ctor1.prototype=R.prototype;ss.initClass(S,bl);S.$ctor1.prototype=S.prototype;ss.initClass(T,bl);T.$ctor1.prototype=T.prototype;ss.initClass(U,bl);U.$ctor1.prototype=U.prototype;ss.initClass(V,bl);V.$ctor1.prototype=V.prototype;ss.initClass(W,bl);W.$ctor1.prototype=W.prototype;ss.initClass(X,bl);X.$ctor1.prototype=X.prototype;ss.initClass(Y,bl);Y.$ctor1.prototype=Y.prototype;ss.initClass(Z);ss.initClass(ba);ss.initClass(bb,bl);bb.$ctor1.prototype=bb.prototype;ss.initClass(bc);ss.initClass(bd,bl);bd.$ctor1.prototype=bd.prototype;ss.initClass(be,bl);be.$ctor1.prototype=be.prototype;ss.initClass(bf,bl);bf.$ctor1.prototype=bf.prototype;ss.initInterface(bg,{executeVM:null,buildVMHex:null,loadBinaryDatastoreHex:null,initializeRuntime:null,marshallDatastore:null,marshallDatastoreSubKeyHex:null,loadAndApplyDataStoreUpdaterHex:null,localPanCommand:null,localZoomCommand:null,localZoomFactorCommand:null,rueUpdateCommandHex:null});ss.initInterface(bh,{paramToString:null,stringToHeap:null,paramToByteBuffer:null,byteBufferToHeap:null});ss.initClass(bi);ss.initClass(bj);ss.initClass(bk);bk.$3.prototype=bk.prototype;ss.initClass(bm,bl);bm.$ctor1.prototype=bm.prototype;ss.initClass(bn,bl);bn.$ctor1.prototype=bn.prototype;ss.initClass(bo,bl);bo.$ctor1.prototype=bo.prototype;ss.initClass(bp,bl);bp.$ctor1.prototype=bp.prototype;ss.initClass(bq,bl);bq.$ctor1.prototype=bq.prototype;ss.initClass(br,bl);br.$ctor1.prototype=br.prototype;ss.initClass(bs);ss.initClass(bt,null,[bg]);ss.initClass(bu,null,[bh]);ss.initClass(bv,bl);bv.$ctor1.prototype=bv.prototype;ss.initClass(bw,bl);bw.$ctor1.prototype=bw.prototype;ss.initClass(bx,bl);bx.$ctor1.prototype=bx.prototype;ss.initClass(by,bl);by.$ctor1.prototype=by.prototype;ss.initClass(bz,bl);bz.$ctor1.prototype=bz.prototype;ss.initClass(bA,bl);bA.$ctor1.prototype=bA.prototype;ss.initClass(bB,bl);bB.$ctor1.prototype=bB.prototype;ss.initClass(bC,bl);bC.$ctor1.prototype=bC.prototype;ss.initClass(bD,bl);bD.$ctor1.prototype=bD.prototype;ss.initClass(bE,bl);bE.$ctor1.prototype=bE.prototype;ss.initClass(bF);bF.$ctor1.prototype=bF.prototype;ss.initClass(bG,bL,[ss.IDisposable]);ss.initClass(bH,bl);bH.$ctor1.prototype=bH.prototype;ss.initClass(bI,bl);bI.$ctor1.prototype=bI.prototype;ss.initClass(bJ,bl);bJ.$ctor1.prototype=bJ.prototype;ss.initClass(bK,bl);bK.$ctor1.prototype=bK.prototype;ss.initClass(bM,bl);bM.$ctor1.prototype=bM.prototype;ss.initClass(bN,bl);bN.$ctor1.prototype=bN.prototype;ss.initClass(bO,bl);bO.$ctor1.prototype=bO.prototype;ss.initClass(bP,bl);bP.$ctor1.prototype=bP.prototype;ss.initClass(bQ,bl);bQ.$ctor1.prototype=bQ.prototype;ss.initClass(bR);ss.initClass(bS,bl);bS.$ctor1.prototype=bS.prototype;ss.initClass(bT,bl);bT.$ctor1.prototype=bT.prototype;ss.initClass(bU,bl);bU.$ctor1.prototype=bU.prototype;ss.initClass(bV,bl);bV.$ctor1.prototype=bV.prototype;ss.initClass(bW,bl);bW.$ctor1.prototype=bW.prototype;ss.initClass(bX);bX.$ctor1.prototype=bX.prototype;ss.initClass(bY,bl);bY.$ctor1.prototype=bY.prototype;ss.initClass(bZ,bl);bZ.$ctor1.prototype=bZ.prototype;ss.initClass(ca);ss.initClass(cb,bl);cb.$ctor1.prototype=cb.prototype;ss.initClass(cc,bl);cc.$ctor1.prototype=cc.prototype;ss.initClass(cd,bl);cd.$ctor1.prototype=cd.prototype;ss.initClass(ce,bl);ce.$ctor1.prototype=ce.prototype;ss.initClass(cf,bl);cf.$ctor1.prototype=cf.prototype;ss.initClass(cg,bl);cg.$ctor1.prototype=cg.prototype;ss.initClass(ch,bl);ch.$ctor1.prototype=ch.prototype;ss.initClass(ci,bl);ci.$ctor1.prototype=ci.prototype;ss.initClass(cj,bl);cj.$ctor1.prototype=cj.prototype;ss.initClass(ck,bl);ck.$ctor1.prototype=ck.prototype;ss.initClass(cl,bl);cl.$ctor1.prototype=cl.prototype;ss.initClass(cm,bl);cm.$ctor1.prototype=cm.prototype;ss.initClass(cn,bl);cn.$ctor1.prototype=cn.prototype;ss.initClass(co,bl);co.$ctor1.prototype=co.prototype;ss.initClass(cp,bl);cp.$ctor1.prototype=cp.prototype;ss.initClass(cq,bl);cq.$ctor1.prototype=cq.prototype;ss.initClass(cr,bl);cr.$ctor1.prototype=cr.prototype;ss.initClass(cs,bl);cs.$ctor1.prototype=cs.prototype;ss.initClass(ct,bl);ct.$ctor1.prototype=ct.prototype;ss.initClass(cu,bl);cu.$ctor1.prototype=cu.prototype;ss.initClass(cv,bl);cv.$ctor1.prototype=cv.prototype;ss.initClass(cw,bl);cw.$ctor1.prototype=cw.prototype;ss.initClass(cx,bl);cx.$ctor1.prototype=cx.prototype;ss.initClass(cy,bl);cy.$ctor1.prototype=cy.prototype;ss.initClass(cz);ss.initClass(cA);cA.$ctor1.prototype=cA.$1.prototype=cA.prototype;ss.initClass(cB);ss.initClass(cC);ss.initClass(cD);ss.initClass(cE);ss.initClass(cF,null,[bg]);ss.initClass(cG,null,[bh]);ss.initClass(cH);ss.initClass(cI,bl);cI.$ctor1.prototype=cI.prototype;ss.initClass(cJ,bl);cJ.$ctor1.prototype=cJ.prototype;ss.initClass(cK,bl);cK.$ctor1.prototype=cK.prototype;ss.initClass(cL,bl);cL.$ctor1.prototype=cL.prototype;ss.initClass(cM,bl);cM.$ctor1.prototype=cM.prototype;ss.initClass(cN,bl);cN.$ctor1.prototype=cN.prototype;ss.initClass(cO,bl);cO.$ctor1.prototype=cO.prototype;ss.initClass(cP,bl);cP.$ctor1.prototype=cP.prototype;ss.initClass(cQ,bl);cQ.$ctor1.prototype=cQ.prototype;ss.initClass(cR,bl);cR.$ctor1.prototype=cR.prototype;ss.initClass(cS,bl);cS.$ctor1.prototype=cS.prototype;ss.initClass(cT,bl);cT.$ctor1.prototype=cT.prototype;ss.initClass(cU,bl);cU.$ctor1.prototype=cU.prototype;ss.initClass(cV,bl);cV.$ctor1.prototype=cV.prototype;ss.initClass(cW,bl);cW.$ctor1.prototype=cW.prototype;ss.initClass(cX,bl);cX.$ctor1.prototype=cX.prototype;ss.initClass(cY,bl);cY.$ctor1.prototype=cY.prototype;ss.initClass(cZ,bl);cZ.$ctor1.prototype=cZ.prototype;ss.initClass(da,bl);da.$ctor1.prototype=da.prototype;ss.initClass(db,bl);db.$ctor1.prototype=db.prototype;ss.initClass(dc,bl);dc.$ctor1.prototype=dc.prototype;ss.initClass(dd,bl);dd.$ctor1.prototype=dd.prototype;ss.initClass(de);ss.initClass(df,bl);df.$ctor1.prototype=df.prototype;ss.initClass(dg,bl);dg.$ctor1.prototype=dg.prototype;ss.initClass(dh);ss.initClass(di);ss.initClass(dj,bl);dj.$ctor1.prototype=dj.prototype;ss.initClass(dk,bl);dk.$ctor1.prototype=dk.prototype;ss.initClass(dl,bl);dl.$ctor1.prototype=dl.prototype;ss.initClass(dm,bl);dm.$ctor1.prototype=dm.prototype;ss.initClass(dn,bL,[ss.IDisposable]);(function(){b.$0=ss.isValue(tab.FeatureParamsLookup.getInt(54))})();(function(){bl.$0='/'})();(function(){s.$3='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';s.$2=null})();(function(){dh.$1=null;dh.$2=!(typeof(TextDecoder)!=='undefined');if(!dh.$2){dh.$1=new TextDecoder}})();(function(){I.$8=null;I.$9=null;I.$1=null;I.$a=null;I.$b=null;I.$0=null;I.$2=null;I.$3=null;I.$6=null;I.$4=null;I.$5=null;I.$e=null;I.$7=null;I.$d=null;I.$c=null})();(function(){Z.$2=null;Z.$3=false})();(function(){ba.$1=new Uint8Array(256);for(var e=0;e<10;e++){ba.$1[48+e]=e}for(var dp=10;dp<16;dp++){ba.$1[97+(dp-10)]=dp}for(var dq=10;dq<16;dq++){ba.$1[65+(dq-10)]=dq}})();(function(){bk.$2={}})();(function(){di.$1=null;di.$2=!(typeof(TextEncoder)!=='undefined');if(!di.$2){di.$1=new TextEncoder}})();(function(){cE.$2=false})();(function(){cB.$7={};cB.$5={};cB.$6=0;cB.$3='*QQQ';cB.$4='*Q';cB.$1='EEEE';cB.$2='dddd'})();(function(){cD.$3='TextStyle';cD.$4={};cD.$5=0})();(function(){cH.proxy=null;cH.support=null;var e=tab.FeatureParamsLookup.getString(51);if(!ss.isNullOrUndefined(e)){cH.proxy=new cF(e);cH.support=new cG}else{cH.proxy=new bt;cH.support=new bu}})()})();;var IScroll=function(n,t,i){function u(n,i){this.wrapper=typeof n=="string"?t.querySelector(n):n;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeIndicator:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var u in i)this.options[u]=i[u];this.translateZ=this.options.HWCompositing&&r.hasPerspective?" translateZ(0)":"";this.options.useTransition=r.hasTransition&&this.options.useTransition;this.options.useTransform=r.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?r.ease[this.options.bounceEasing]||r.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;this.options.tap===!0&&(this.options.tap="tap");this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}function f(n,i,r){var u=t.createElement("div"),f=t.createElement("div");return r===!0&&(u.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator",n=="h"?(r===!0&&(u.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),u.className="iScrollHorizontalScrollbar"):(r===!0&&(u.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),u.className="iScrollVerticalScrollbar"),i||(u.style.pointerEvents="none"),u.appendChild(f),u}function e(i,u){this.wrapper=typeof u.el=="string"?t.querySelector(u.el):u.el;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=i;this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,speedRatioX:0,speedRatioY:0};for(var f in u)this.options[f]=u[f];this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;this.options.interactive&&(this.options.disableTouch||(r.addEvent(this.indicator,"touchstart",this),r.addEvent(n,"touchend",this)),this.options.disablePointer||(n.PointerEvent?(r.addEvent(this.indicator,"pointerdown",this),r.addEvent(n,"pointerup",this)):n.MSPointerEvent&&(r.addEvent(this.indicator,"MSPointerDown",this),r.addEvent(n,"MSPointerUp",this))),this.options.disableMouse||(r.addEvent(this.indicator,"mousedown",this),r.addEvent(n,"mouseup",this)))}var o=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(t){n.setTimeout(t,1e3/60)},r=function(){function u(n){return e===!1?!1:e===""?n:e+n.charAt(0).toUpperCase()+n.substr(1)}var r={},f=t.createElement("div").style,e=function(){for(var t=["t","webkitT","MozT","msT","OT"],i,n=0,r=t.length;n<r;n++)if(i=t[n]+"ransform",i in f)return t[n].substr(0,t[n].length-1);return!1}(),o;return r.getTime=Date.now||function(){return(new Date).getTime()},r.extend=function(n,t){for(var i in t)n[i]=t[i]},r.addEvent=function(n,t,i,r){n.addEventListener(t,i,!!r)},r.removeEvent=function(n,t,i,r){n.removeEventListener(t,i,!!r)},r.momentum=function(n,t,r,u,f){var s=n-t,o=i.abs(s)/r,e,h,c=.0006;return e=n+o*o/(2*c)*(s<0?-1:1),h=o/c,e<u?(e=f?u-f/2.5*(o/8):u,s=i.abs(e-n),h=s/o):e>0&&(e=f?f/2.5*(o/8):0,s=i.abs(n)+e,h=s/o),{destination:i.round(e),duration:h}},o=u("transform"),r.extend(r,{hasTransform:o!==!1,hasPerspective:u("perspective")in f,hasTouch:"ontouchstart"in n,hasPointer:navigator.msPointerEnabled,hasTransition:u("transition")in f}),r.isAndroidBrowser=/Android/.test(n.navigator.appVersion)&&/Version\/\d/.test(n.navigator.appVersion),r.extend(r.style={},{transform:o,transitionTimingFunction:u("transitionTimingFunction"),transitionDuration:u("transitionDuration"),transformOrigin:u("transformOrigin")}),r.hasClass=function(n,t){var i=new RegExp("(^|\\s)"+t+"(\\s|$)");return i.test(n.className)},r.addClass=function(n,t){if(!r.hasClass(n,t)){var i=n.className.split(" ");i.push(t);n.className=i.join(" ")}},r.removeClass=function(n,t){if(r.hasClass(n,t)){var i=new RegExp("(^|\\s)"+t+"(\\s|$)","g");n.className=n.className.replace(i," ")}},r.offset=function(n){for(var t=-n.offsetLeft,i=-n.offsetTop;n=n.offsetParent;)t-=n.offsetLeft,i-=n.offsetTop;return{left:t,top:i}},r.preventDefaultException=function(n,t){for(var i in t)if(t[i].test(n[i]))return!0;return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(n){return n*(2-n)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(n){return i.sqrt(1- --n*n)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(n){var t=4;return(n=n-1)*n*((t+1)*n+t)+1}},bounce:{style:"",fn:function(n){return(n/=1)<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}},elastic:{style:"",fn:function(n){var t=.22;return n===0?0:n==1?1:.4*i.pow(2,-10*n)*i.sin((n-t/4)*2*i.PI/t)+1}}}),r.tap=function(n,i){var r=t.createEvent("Event");r.initEvent(i,!0,!0);r.pageX=n.pageX;r.pageY=n.pageY;n.target.dispatchEvent(r)},r.click=function(n){var i=n.target,r;i.tagName!="SELECT"&&i.tagName!="INPUT"&&i.tagName!="TEXTAREA"&&(r=t.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,n.view,1,i.screenX,i.screenY,i.clientX,i.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),r._constructed=!0,i.dispatchEvent(r))},r}();return u.prototype={version:"5.0.6",_init:function(){this._initEvents();(this.options.scrollbars||this.options.indicators)&&this._initIndicators();this.options.mouseWheel&&this._initWheel();this.options.snap&&this._initSnap();this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0);this._execEvent("destroy")},_transitionEnd:function(n){n.target==this.scroller&&(this._transitionTime(0),this.resetPosition(this.options.bounceTime)||this._execEvent("scrollEnd"))},_start:function(n){if((r.eventType[n.type]==1||n.button===0)&&this.enabled&&(!this.initiated||r.eventType[n.type]===this.initiated)){!this.options.preventDefault||r.isAndroidBrowser||r.preventDefaultException(n.target,this.options.preventDefaultException)||n.preventDefault();var u=n.touches?n.touches[0]:n,t;this.initiated=r.eventType[n.type];this.moved=!1;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.isAnimating=!1;this.startTime=r.getTime();this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(i.round(t.x),i.round(t.y)),this._execEvent("scrollEnd"),this.isInTransition=!1);this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=u.pageX;this.pointY=u.pageY;this._execEvent("beforeScrollStart")}},_move:function(n){if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&n.preventDefault();var o=n.touches?n.touches[0]:n,t=o.pageX-this.pointX,u=o.pageY-this.pointY,c=r.getTime(),f,e,s,h;if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=t,this.distY+=u,s=i.abs(this.distX),h=i.abs(this.distY),!(c-this.endTime>300)||!(s<10)||!(h<10)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=s>h+this.options.directionLockThreshold?"h":h>=s+this.options.directionLockThreshold?"v":"n"),this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")n.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}u=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")n.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}t=0}t=this.hasHorizontalScroll?t:0;u=this.hasVerticalScroll?u:0;f=this.x+t;e=this.y+u;(f>0||f<this.maxScrollX)&&(f=this.options.bounce?this.x+t/3:f>0?0:this.maxScrollX);(e>0||e<this.maxScrollY)&&(e=this.options.bounce?this.y+u/3:e>0?0:this.maxScrollY);this.directionX=t>0?-1:t<0?1:0;this.directionY=u>0?-1:u<0?1:0;this.moved||this._execEvent("scrollStart");this.moved=!0;this._translate(f,e);c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y);this._execEvent("scroll")}}},_end:function(n){var f;if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&!r.preventDefaultException(n.target,this.options.preventDefaultException)&&n.preventDefault();var v=n.changedTouches?n.changedTouches[0]:n,o,s,e=r.getTime()-this.startTime,t=i.round(this.x),u=i.round(this.y),l=i.abs(t-this.startX),a=i.abs(u-this.startY),h=0,c="";if(this.scrollTo(t,u),this.isInTransition=0,this.initiated=0,this.endTime=r.getTime(),!this.resetPosition(this.options.bounceTime)){if(!this.moved){this.options.tap&&r.tap(n,this.options.tap);this.options.click&&r.click(n);return}if(this._events.flick&&e<200&&l<100&&a<100){this._execEvent("flick");return}if(this.options.momentum&&e<300&&(o=this.hasHorizontalScroll?r.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0):{destination:t,duration:0},s=this.hasVerticalScroll?r.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0):{destination:u,duration:0},t=o.destination,u=s.destination,h=i.max(o.duration,s.duration),this.isInTransition=1),this.options.snap&&(f=this._nearestSnap(t,u),this.currentPage=f,h=this.options.snapSpeed||i.max(i.max(i.min(i.abs(t-f.x),1e3),i.min(i.abs(u-f.y),1e3)),300),t=f.x,u=f.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing),t!=this.x||u!=this.y){(t>0||t<this.maxScrollX||u>0||u<this.maxScrollY)&&(c=r.ease.quadratic);this.scrollTo(t,u,h,c);return}this._execEvent("scrollEnd")}}},_resize:function(){var n=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){n.refresh()},this.options.resizePolling)},resetPosition:function(n){var t=this.x,i=this.y;return(n=n||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),t==this.x&&i==this.y)?!1:(this.scrollTo(t,i,n,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var n=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth);this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight);this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=r.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(n,t){this._events[n]||(this._events[n]=[]);this._events[n].push(t)},_execEvent:function(n){if(this._events[n]){var t=0,i=this._events[n].length;if(i)for(;t<i;t++)this._events[n][t].call(this)}},scrollBy:function(n,t,i,r){n=this.x+n;t=this.y+t;i=i||0;this.scrollTo(n,t,i,r)},scrollTo:function(n,t,i,u){u=u||r.ease.circular;!i||this.options.useTransition&&u.style?(this._transitionTimingFunction(u.style),this._transitionTime(i),this._translate(n,t)):this._animate(n,t,i,u.fn);this._execEvent("scroll")},scrollToElement:function(n,t,u,f,e){if(n=n.nodeType?n:this.scroller.querySelector(n),n){var o=r.offset(n);o.left-=this.wrapperOffset.left;o.top-=this.wrapperOffset.top;u===!0&&(u=i.round(n.offsetWidth/2-this.wrapper.offsetWidth/2));f===!0&&(f=i.round(n.offsetHeight/2-this.wrapper.offsetHeight/2));o.left-=u||0;o.top-=f||0;o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left;o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top;t=t===undefined||t===null||t==="auto"?i.max(i.abs(this.x-o.left),i.abs(this.y-o.top)):t;this.scrollTo(o.left,o.top,t,e)}},_transitionTime:function(n){if(n=n||0,this.scrollerStyle[r.style.transitionDuration]=n+"ms",this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTime(n)},_transitionTimingFunction:function(n){if(this.scrollerStyle[r.style.transitionTimingFunction]=n,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(n)},_translate:function(n,t){if(this.options.useTransform?this.scrollerStyle[r.style.transform]="translate("+n+"px,"+t+"px)"+this.translateZ:(n=i.round(n),t=i.round(t),this.scrollerStyle.left=n+"px",this.scrollerStyle.top=t+"px"),this.x=n,this.y=t,this.indicators)for(var u=this.indicators.length;u--;)this.indicators[u].updatePosition()},_initEvents:function(t){var i=t?r.removeEvent:r.addEvent,u=this.options.bindToWrapper?this.wrapper:n;i(n,"orientationchange",this);i(n,"resize",this);this.options.click&&i(this.wrapper,"click",this,!0);this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(u,"mousemove",this),i(u,"mousecancel",this),i(u,"mouseup",this));r.hasPointer&&!this.options.disablePointer&&(n.PointerEvent?(i(this.wrapper,"pointerdown",this),i(u,"pointermove",this),i(u,"pointercancel",this),i(u,"pointerup",this)):n.MSPointerEvent&&(i(this.wrapper,"MSPointerDown",this),i(u,"MSPointerMove",this),i(u,"MSPointerCancel",this),i(u,"MSPointerUp",this)));r.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(u,"touchmove",this),i(u,"touchcancel",this),i(u,"touchend",this));i(this.scroller,"transitionend",this);i(this.scroller,"webkitTransitionEnd",this);i(this.scroller,"oTransitionEnd",this);i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t=n.getComputedStyle(this.scroller,null),i,u;return this.options.useTransform?(t=t[r.style.transform].split(")")[0].split(", "),i=+(t[12]||t[4]),u=+(t[13]||t[5])):(i=+t.left.replace(/[^-\d]/g,""),u=+t.top.replace(/[^-\d]/g,"")),{x:i,y:u}},_initIndicators:function(){var i=this.options.interactiveScrollbars,o=typeof this.options.scrollbars!="object",u=typeof this.options.scrollbars!="string",n=[],t,r;for(this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:f("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:u,resize:this.options.resizeIndicator,listenX:!1},this.wrapper.appendChild(t.el),n.push(t)),this.options.scrollX&&(t={el:f("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:u,resize:this.options.resizeIndicator,listenY:!1},this.wrapper.appendChild(t.el),n.push(t))),this.options.indicators&&(n=n.concat(this.options.indicators)),r=n.length;r--;)this.indicators[r]=new e(this,n[r]);this.on("refresh",function(){if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].refresh()});this.on("destroy",function(){if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].destroy();delete this.indicators})},_initWheel:function(){r.addEvent(this.wrapper,"mousewheel",this);r.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){r.removeEvent(this.wrapper,"mousewheel",this);r.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(n){if(this.enabled){var f,t,r,u,e=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){e._execEvent("scrollEnd")},400),"wheelDeltaX"in n)f=n.wheelDeltaX/120,t=n.wheelDeltaY/120;else if("wheelDelta"in n)f=t=n.wheelDelta/120,n.shiftKey?t=0:f=0;else if("detail"in n)f=t=-n.detail/3,n.shiftKey?t=0:f=0;else return;if(f*=this.options.mouseWheelSpeed,t*=this.options.mouseWheelSpeed,this.hasVerticalScroll||(f=t,t=0),this.options.snap){r=this.currentPage.pageX;u=this.currentPage.pageY;f>0?r--:f<0&&r++;t>0?u--:t<0&&u++;this.goToPage(r,u);return}r=this.x+i.round(this.hasHorizontalScroll?f*this.options.invertWheelDirection:0);u=this.y+i.round(this.hasVerticalScroll?t*this.options.invertWheelDirection:0);r>0?r=0:r<this.maxScrollX&&(r=this.maxScrollX);u>0?u=0:u<this.maxScrollY&&(u=this.maxScrollY);(r!==this.x||u!==this.y)&&n.preventDefault();this.scrollTo(r,u,0)}},_initSnap:function(){this.currentPage={};typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap));this.on("refresh",function(){var n=0,f,e=0,h,o,s,r=0,u,c=this.options.snapStepX||this.wrapperWidth,l=this.options.snapStepY||this.wrapperHeight,t;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(o=i.round(c/2),s=i.round(l/2);r>-this.scrollerWidth;){for(this.pages[n]=[],f=0,u=0;u>-this.scrollerHeight;)this.pages[n][f]={x:i.max(r,this.maxScrollX),y:i.max(u,this.maxScrollY),width:c,height:l,cx:r-o,cy:u-s},u-=l,f++;r-=c;n++}else for(t=this.options.snap,f=t.length,h=-1;n<f;n++)(n===0||t[n].offsetLeft<=t[n-1].offsetLeft)&&(e=0,h++),this.pages[e]||(this.pages[e]=[]),r=i.max(-t[n].offsetLeft,this.maxScrollX),u=i.max(-t[n].offsetTop,this.maxScrollY),o=r-i.round(t[n].offsetWidth/2),s=u-i.round(t[n].offsetHeight/2),this.pages[e][h]={x:r,y:u,width:t[n].offsetWidth,height:t[n].offsetHeight,cx:o,cy:s},r>this.maxScrollX&&e++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){var n=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,n)})},_nearestSnap:function(n,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var r=0,f=this.pages.length,u=0;if(i.abs(n-this.absStartX)<this.snapThresholdX&&i.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);r<f;r++)if(n>=this.pages[r][0].cx){n=this.pages[r][0].x;break}for(f=this.pages[r].length;u<f;u++)if(t>=this.pages[0][u].cy){t=this.pages[0][u].y;break}return r==this.currentPage.pageX&&(r+=this.directionX,r<0?r=0:r>=this.pages.length&&(r=this.pages.length-1),n=this.pages[r][0].x),u==this.currentPage.pageY&&(u+=this.directionY,u<0?u=0:u>=this.pages[0].length&&(u=this.pages[0].length-1),t=this.pages[0][u].y),{x:n,y:t,pageX:r,pageY:u}},goToPage:function(n,t,r,u){u=u||this.options.bounceEasing;n>=this.pages.length?n=this.pages.length-1:n<0&&(n=0);t>=this.pages[n].length?t=this.pages[n].length-1:t<0&&(t=0);var f=this.pages[n][t].x,e=this.pages[n][t].y;r=r===undefined?this.options.snapSpeed||i.max(i.max(i.min(i.abs(f-this.x),1e3),i.min(i.abs(e-this.y),1e3)),300):r;this.currentPage={x:f,y:e,pageX:n,pageY:t};this.scrollTo(f,e,r,u)},next:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i++;i>=this.pages.length&&this.hasVerticalScroll&&(i=0,r++);this.goToPage(i,r,n,t)},prev:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i--;i<0&&this.hasVerticalScroll&&(i=0,r--);this.goToPage(i,r,n,t)},_initKeys:function(){var i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},t;if(typeof this.options.keyBindings=="object")for(t in this.options.keyBindings)typeof this.options.keyBindings[t]=="string"&&(this.options.keyBindings[t]=this.options.keyBindings[t].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(t in i)this.options.keyBindings[t]=this.options.keyBindings[t]||i[t];r.addEvent(n,"keydown",this);this.on("destroy",function(){r.removeEvent(n,"keydown",this)})},_key:function(n){if(this.enabled){var t=this.options.snap,u=t?this.currentPage.pageX:this.x,f=t?this.currentPage.pageY:this.y,o=r.getTime(),s=this.keyTime||0,e;this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1);this.keyAcceleration=o-s<200?i.min(this.keyAcceleration+.25,50):0;switch(n.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?u+=t?1:this.wrapperWidth:f+=t?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?u-=t?1:this.wrapperWidth:f-=t?1:this.wrapperHeight;break;case this.options.keyBindings.end:u=t?this.pages.length-1:this.maxScrollX;f=t?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:u=0;f=0;break;case this.options.keyBindings.left:u+=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=t?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:u-=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=t?1:5+this.keyAcceleration>>0;break;default:return}if(t){this.goToPage(u,f);return}u>0?(u=0,this.keyAcceleration=0):u<this.maxScrollX&&(u=this.maxScrollX,this.keyAcceleration=0);f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0);this.scrollTo(u,f,0);this.keyTime=o}},_animate:function(n,t,i,u){function c(){var a=r.getTime(),y,p,v;if(a>=l){f.isAnimating=!1;f._translate(n,t);f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd");return}a=(a-h)/i;v=u(a);y=(n-e)*v+e;p=(t-s)*v+s;f._translate(y,p);f.isAnimating&&o(c)}var f=this,e=this.x,s=this.y,h=r.getTime(),l=h+i;this.isAnimating=!0;c()},handleEvent:function(n){if(n.type!="MSPointerDown"&&n.type!="MSPointerMove"&&n.type!="MSPointerCancel"&&n.type!="MSPointerUp"&&n.type!="pointerdown"&&n.type!="pointermove"&&n.type!="pointercancel"&&n.type!="pointerup"||n.pointerType!="mouse"&&n.pointerType!=4)switch(n.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(n);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(n);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(n);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(n);break;case"DOMMouseScroll":case"mousewheel":this._wheel(n);break;case"keydown":this._key(n);break;case"click":n._constructed||(n.preventDefault(),n.stopPropagation())}}},e.prototype={handleEvent:function(n){switch(n.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(n);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(n);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(n)}},destroy:function(){this.options.interactive&&(r.removeEvent(this.indicator,"touchstart",this),r.removeEvent(this.indicator,"MSPointerDown",this),r.removeEvent(this.indicator,"pointerdown",this),r.removeEvent(this.indicator,"mousedown",this),r.removeEvent(n,"touchmove",this),r.removeEvent(n,"MSPointerMove",this),r.removeEvent(n,"pointermove",this),r.removeEvent(n,"mousemove",this),r.removeEvent(n,"touchend",this),r.removeEvent(n,"MSPointerUp",this),r.removeEvent(n,"pointerup",this),r.removeEvent(n,"mouseup",this));this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var i=t.touches?t.touches[0]:t;t.preventDefault();t.stopPropagation();this.transitionTime(0);this.initiated=!0;this.moved=!1;this.lastPointX=i.pageX;this.lastPointY=i.pageY;this.startTime=r.getTime();this.options.disableTouch||r.addEvent(n,"touchmove",this);this.options.disablePointer||(n.PointerEvent?r.addEvent(n,"pointermove",this):n.MSPointerEvent&&r.addEvent(n,"MSPointerMove",this));this.options.disableMouse||r.addEvent(n,"mousemove",this);this.scroller._execEvent("beforeScrollStart")},_move:function(n){var t=n.touches?n.touches[0]:n,i,u,f,e,o=r.getTime();this.moved||this.scroller._execEvent("scrollStart");this.moved=!0;i=t.pageX-this.lastPointX;this.lastPointX=t.pageX;u=t.pageY-this.lastPointY;this.lastPointY=t.pageY;f=this.x+i;e=this.y+u;this._pos(f,e);n.preventDefault();n.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),r.removeEvent(n,"touchmove",this),r.removeEvent(n,"MSPointerMove",this),r.removeEvent(n,"pointermove",this),r.removeEvent(n,"mousemove",this),this.scroller.options.snap){var u=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-u.x),1e3),i.min(i.abs(this.scroller.y-u.y),1e3)),300);(this.scroller.x!=u.x||this.scroller.y!=u.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=u,this.scroller.scrollTo(u.x,u.y,f,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(n){n=n||0;this.indicatorStyle[r.style.transitionDuration]=n+"ms"},transitionTimingFunction:function(n){this.indicatorStyle[r.style.transitionTimingFunction]=n},refresh:function(){this.transitionTime(0);this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(r.addClass(this.wrapper,"iScrollBothScrollbars"),r.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(r.removeClass(this.wrapper,"iScrollBothScrollbars"),r.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));var n=this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX);this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY);this.updatePosition()},updatePosition:function(){var n=i.round(this.sizeRatioX*this.scroller.x)||0,t=i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(n<0?n=0:n>this.maxPosX&&(n=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY));this.x=n;this.y=t;this.scroller.options.useTransform?this.indicatorStyle[r.style.transform]="translate("+n+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=n+"px",this.indicatorStyle.top=t+"px")},_pos:function(n,t){n<0?n=0:n>this.maxPosX&&(n=this.maxPosX);t<0?t=0:t>this.maxPosY&&(t=this.maxPosY);n=this.options.listenX?i.round(n/this.sizeRatioX):this.scroller.x;t=this.options.listenY?i.round(t/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(n,t)}},u.ease=r.ease,u}(window,document,Math);!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("SharedWidgets",["react","react-dom"],t):"object"==typeof exports?exports.SharedWidgets=t(require("react"),require("react-dom")):e.SharedWidgets=t(e.React,e.ReactDOM)}(window,(function(e,t){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=6)}([function(t,n){t.exports=e},function(e,t,n){n.r(t),n.d(t,"__extends",(function(){return r})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return d})),n.d(t,"__awaiter",(function(){return u})),n.d(t,"__generator",(function(){return c})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return C})),n.d(t,"__makeTemplateObject",(function(){return S})),n.d(t,"__importStar",(function(){return _})),n.d(t,"__importDefault",(function(){return w}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function s(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,o){t(n,o,e)}}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}l((o=o.apply(e,t||[])).next())}))}function c(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){r[e]&&(o[e]=function(t){return new Promise((function(n,o){i.push([e,t,n,o])>1||s(e,t)}))})}function s(e,t){try{(n=r[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,d):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function d(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function b(e){var t,n;return t={},o("next"),o("throw",(function(e){throw e})),o("return"),t[Symbol.iterator]=function(){return this},t;function o(o,r){t[o]=e[o]?function(t){return(n=!n)?{value:v(e[o](t)),done:"return"===o}:r?r(t):t}:r}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise((function(o,r){(function(e,t,n,o){Promise.resolve(o).then((function(t){e({value:t,done:n})}),t)})(o,r,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.conditional=function(e,t){return e?t:void 0},t.makeTestId=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.join("-")},t.isAlphabeticChar=function(e){return!!e&&/^[a-z0-9]$/i.test(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(112),r="rgb(250, 250, 250)",i="rgb(245, 245, 245)",a="rgb(235, 235, 235)",s="rgb(230, 230, 230)",l="rgb(225, 225, 225)",d="rgb(212, 212, 212)",u="rgb(203, 203, 203)",c="rgb(180, 180, 180)",p="rgb(102, 102, 102)",h="rgb(51, 51, 51)",f={White:"rgb(255, 255, 255)",WhiteTransparent:"rgba(255, 255, 255, 0.25)",WhiteDisabled:"rgba(255, 255, 255, 0.35)",WhiteTransparentLine:"rgba(255, 255, 255, 0.5)",WhiteTransparentLineHover:"rgba(255, 255, 255, 0.8)",Black:"rgb(0, 0, 0)",Transparent:"rgba(0, 0, 0, 0)",ActionLight:"rgb(235, 143, 80)",ActionDark:"rgb(209, 107, 54)",AttentionLight:"rgb(235, 68, 84)",AttentionDark:"rgb(201, 58, 71)",AttentionDarkDisabled:"rgba(201, 58, 71, 0.35)",Continuous:"rgb(0, 177, 128)",ContinuousDark:"rgb(0, 151, 104)",Discrete:"rgb(73, 150, 178)",DiscreteDark:"rgb(54, 126,156)",GoLight:"rgb(45, 204, 151)",GoDark:"rgb(47, 163, 125)",GoDarkDisabled:"rgba(47, 163, 125, 0.35)",Shaded:"rgba(0, 0, 0, 0.07)",ApplicationBlue:"rgb(34, 38, 54)",DesktopBlue:"rgb(53, 92, 128)",ServerBlue:"rgb(42, 87, 117)",OnlineBlue:"rgb(40, 94, 127)",OpaqueGlass:i,Focus:"rgb(52, 152, 219)",L1:r,L2:i,L2_5:a,L3:s,L4:l,L5:d,L6:u,L7:c,L8:p,L9:h,L9Disabled:"rgba(51, 51, 51, 0.2)",F1:r,F2:i,F2_5:a,F3:s,F4:l,F5:d,F6:u,F7:c,F7Disabled:"rgba(180, 180, 180, 0.35)",F8:p,F9:h};t.TabStyles={Colors:f,Shadow:{Standard:"1px 1px 2px 0px rgba(0, 0, 0, 0.15)"},Spacing:{SmallSpace:3,DefaultSpace:6,MediumSpace:12,LargeSpace:18,ExtraLargeSpace:24},Sizing:{BaseUnit:6,RowHeight:24,ButtonMinWidth:90,BorderWidth:1,ButtonBorderWidth:2,BorderRadius:1,SelectionBorderWidth:3,ListRowHeight:20},Typography:{FontFamily:"inherit",Sizing:{XXLarge:24,XLarge:18,Large:13,Default:12,Small:11,Tiny:10},Color:{PrimaryDark:"rgba(0, 0, 0, 0.9)",Primary:"rgba(0, 0, 0, 0.8)",PrimaryMedium:"rgba(0, 0, 0, 0.7)",PrimaryLight:"rgba(0, 0, 0, 0.6)",Secondary:"rgba(0, 0, 0, 0.56)",Disabled:"rgba(0, 0, 0, 0.35)",InvertedPrimary:"rgb(255, 255, 255)",InvertedSecondary:"rgba(255, 255, 255, 0.56)",InvertedDisabled:"rgba(255, 255, 255, 0.35)"}},Opacity:{ClearGlass:.01,Disabled:.35,OpaqueGlass:.33}},t.overrideTabStyles=function(e){o(t.TabStyles,e)}},function(e,t,n){n.r(t);var o=n(45);function r(e){var t={},n="";for(var i in e){var a=e[i];if("$unique"===i)t[o.IS_UNIQUE]=a;else if("$nest"===i){var s=a;for(var l in s){var d=s[l];t[l]=r(d).result}}else"$debugName"===i?n=a:t[i]=a}return{result:t,debugName:n}}var i="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map((function(e){return e&&"object"==typeof e?Object.keys(e).map((function(t){return!!e[t]&&t})):[e]})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return!!e})).join(" ")}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},o=0,r=e;o<r.length;o++){var i=r[o];if(null!=i&&!1!==i)for(var a in i){var l=i[a];(l||0===l)&&("$nest"===a&&l?n[a]=n.$nest?s(n.$nest,l):l:-1!==a.indexOf("&")||0===a.indexOf("@media")?n[a]=n[a]?s(n[a],l):l:n[a]=l)}}return n}var l=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=[];e.type&&o.push(e.type),e.orientation&&o.push("(orientation: "+e.orientation+")"),e.minWidth&&o.push("(min-width: "+d(e.minWidth)+")"),e.maxWidth&&o.push("(max-width: "+d(e.maxWidth)+")"),e.minHeight&&o.push("(min-height: "+d(e.minHeight)+")"),e.maxHeight&&o.push("(max-height: "+d(e.maxHeight)+")");var r,i="@media "+o.join(" and "),a={$nest:(r={},r[i]=s.apply(void 0,t),r)};return a},d=function(e){return"string"==typeof e?e:e+"px"},u=function(){return o.create(void 0,!0)},c=function(){function e(e){var t=e.autoGenerateTag,n=this;this.cssRaw=function(e){e&&(n._raw+=e||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var i=r(s.apply(void 0,t)).result;n._freeStyle.registerRule(e,i),n._styleUpdated()},this.forceRenderStyles=function(){var e=n._getTag();e&&(e.textContent=n.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=n._freeStyle,r=0,i=e;r<i.length;r++){var a=i[r];o.registerRule("@font-face",a)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(e){var t=function(e){var t={$debugName:void 0,keyframes:{}};for(var n in e){var o=e[n];"$debugName"===n?t.$debugName=o:t.keyframes[n]=o}return t}(e),o=t.keyframes,r=t.$debugName,i=n._freeStyle.registerKeyframes(o,r);return n._styleUpdated(),i},this.reinit=function(){var e=u();n._freeStyle=e,n._lastFreeStyleChangeId=e.changeId,n._raw="",n._pendingRawChange=!1;var t=n._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){n._tag&&(n._tag.textContent=""),n._tag=e,n.forceRenderStyles()},this.stylesheet=function(e){for(var t={},o=0,r=Object.getOwnPropertyNames(e);o<r.length;o++){var i=r[o],a=e[i];a&&(a.$debugName=i,t[i]=n.style(a))}return t};var o=u();this._autoGenerateTag=t,this._freeStyle=o,this._lastFreeStyleChangeId=o.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0,this.style=this.style.bind(this)}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;i((function(){n===t._pending&&e()}))},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync((function(){return e.forceRenderStyles()})))},e.prototype.style=function(){var e=this._freeStyle,t=r(s.apply(void 0,arguments)),n=t.result,o=t.debugName,i=o?e.registerStyle(n,o):e.registerStyle(n);return this._styleUpdated(),i},e}(),p=n(84);n.d(t,"setStylesTarget",(function(){return f})),n.d(t,"cssRaw",(function(){return g})),n.d(t,"cssRule",(function(){return m})),n.d(t,"forceRenderStyles",(function(){return v})),n.d(t,"fontFace",(function(){return y})),n.d(t,"getStyles",(function(){return b})),n.d(t,"keyframes",(function(){return C})),n.d(t,"reinit",(function(){return S})),n.d(t,"style",(function(){return _})),n.d(t,"stylesheet",(function(){return w})),n.d(t,"createTypeStyle",(function(){return I})),n.d(t,"TypeStyle",(function(){return c})),n.d(t,"types",(function(){return p})),n.d(t,"extend",(function(){return s})),n.d(t,"classes",(function(){return a})),n.d(t,"media",(function(){return l}));var h=new c({autoGenerateTag:!0}),f=h.setStylesTarget,g=h.cssRaw,m=h.cssRule,v=h.forceRenderStyles,y=h.fontFace,b=h.getStyles,C=h.keyframes,S=h.reinit,_=h.style,w=h.stylesheet;function I(e){var t=new c({autoGenerateTag:!1});return e&&t.setStylesTarget(e),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(15),i=Date.now();t.generateId=function(){return"tab-shared-widget-"+i++},t.timeoutFocus=function(e){window.setTimeout((function(){e&&window.document.body.contains(e)&&e.focus()}))},t.detectScrollbarWidth=function(){var e=document.createElement("div");e.className="scrollbarMeasurement",o.__assign(e.style,{width:"100px",height:"100px",overflowY:"scroll",position:"absolute",visibility:"hidden",border:"none"}),document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},t.isElementOverflownX=function(e){return e&&e.clientWidth<e.scrollWidth},t.closest=function(e,t){if(e.closest)return e.closest(t);var n=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;if(!n)return null;for(var o=e;o;){if(n.call(o,t))return o;o=o.parentElement}return null},t.scrollIntoView=function(e,t){if(void 0===t&&(t="nearest"),e)if(r.isIE||r.isEdge){for(var n=e.parentElement,o="";n&&"auto"!==(o=getComputedStyle(n).overflowY)&&"scroll"!==o;)n=n.parentElement;if(n){var i=e.getBoundingClientRect(),a=n.getBoundingClientRect();i.bottom>a.bottom?n.scrollTop+=i.bottom-a.bottom:i.top<a.top&&(n.scrollTop+=i.top-a.top)}}else e.scrollIntoView({block:t,behavior:"auto"})},t.findBlurRelatedTarget=function(e){return r.isIE?e.relatedTarget||document.activeElement:e.relatedTarget},t.shouldIgnoreFocusEvent=function(e){var t=e.target,n=e.relatedTarget;return!!(t.lastFocusEventMs&&e.timeStamp<t.lastFocusEventMs+100)||(t.lastFocusEventMs=e.timeStamp,n&&(n.lastFocusEventMs=e.timeStamp),!1)},t.selectInputText=function(e){window.setTimeout((function(){try{e.value&&e.setSelectionRange(0,e.value.length)}catch(t){e.select()}}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(111);t.setConfig=o.setConfig;var r=n(3);t.TabStyles=r.TabStyles;var i=n(2);t.conditional=i.conditional,t.testId=i.makeTestId,t.isAlphabeticChar=i.isAlphabeticChar;var a=n(5);t.detectScrollbarWidth=a.detectScrollbarWidth,t.timeoutFocus=a.timeoutFocus;var s=n(13);t.InteractiveDomHoC=s.InteractiveDomHoC,t.InteractiveDomHoCDecorator=s.InteractiveDomHoCDecorator,t.InteractiveDomWrapper=s.InteractiveDomWrapper;var l=n(14);t.ScrollingRootContext=l.ScrollingRootContext,t.VerticalOriginOption=l.VerticalOriginOption,t.HorizontalOriginOption=l.HorizontalOriginOption,t.Overlay=l.Overlay;var d=n(80);t.PointerEventAdapterManager=d.PointerEventAdapterManager;var u=n(19);t.PointerEventWrapper=u.PointerEventWrapper;var c=n(7);t.mergeEventHandlers=c.mergeEventHandlers,t.convertToStatefulComponentClass=c.convertToStatefulComponentClass,t.getComponentName=c.getComponentName;var p=n(28);t.StackingComponentHOC=p.StackingComponentHOC,t.StackingComponentWrapper=p.StackingComponentWrapper,t.StackingRootContext=p.StackingRootContext;var h=n(186);t.HostedStackedElementContainer=h.HostedStackedElementContainer;var f=n(82);t.Unicode=f.Unicode;var g=n(52);t.isMouseEvent=g.isMouseEvent,t.isTouchEvent=g.isTouchEvent,t.getClientPosition=g.getClientPosition;var m=n(23);t.DateTerminus=m.DateTerminus;var v=n(85);t.ButtonType=v.ButtonType,t.ButtonWidget=v.ButtonWidget;var y=n(205);t.AutoResetButton=y.AutoResetButton;var b=n(206);t.SelectableButtonGroupSelectionBehavior=b.SelectableButtonGroupSelectionBehavior,t.SelectableButtonGroupWidget=b.SelectableButtonGroupWidget;var C=n(207);t.ChromeTooltipWidget=C.ChromeTooltipWidget;var S=n(55);t.CheckBoxWidget=S.CheckBoxWidget,t.RadioButtonWithLabelWidget=S.RadioButtonWithLabelWidget;var _=n(209);t.CheckBoxWithLabelGroupWidget=_.CheckBoxWithLabelGroupWidget;var w=n(55);t.CheckBoxWithLabelWidget=w.CheckBoxWithLabelWidget;var I=n(40);t.DialogPositioningBehavior=I.DialogPositioningBehavior,t.DialogType=I.DialogType,t.DialogUserResizeMode=I.DialogUserResizeMode,t.DialogWidget=I.DialogWidget;var x=n(218);t.DialogFooterButtonsWidget=x.DialogFooterButtonsWidget;var T=n(219);t.DiscreteProgressBarWidget_UNFINISHED=T.DiscreteProgressBarWidget_UNFINISHED;var D=n(20);t.Block=D.Block,t.InlineBlock=D.InlineBlock,t.Img=D.Img;var E=n(221);t.DropdownWidget=E.DropdownWidget;var k=n(88);t.DropdownType=k.DropdownType,t.GenericDropdownWidget=k.GenericDropdownWidget;var O=n(224);t.DynamicThemeComponent=O.DynamicThemeComponent;var P=n(225);t.ExpandoDirection=P.ExpandoDirection,t.ExpandoWidget=P.ExpandoWidget;var R=n(94);t.FlyoutListMenuWidget=R.FlyoutListMenuWidget;var F=n(42);t.GenericFlyoutListMenuWidget=F.GenericFlyoutListMenuWidget;var M=n(95);t.InputLabelWidget=M.InputLabelWidget;var B=n(43);t.IntegerStepperWidget=B.IntegerStepperWidget;var L=n(43);t.LineTextFieldWidget=L.LineTextFieldWidget;var A=n(92);t.TextMenuDisplayFormatter=A.TextMenuDisplayFormatter;var H=n(43);t.OutlineTextFieldWidget=H.OutlineTextFieldWidget;var W=n(226);t.RadioLayoutType=W.RadioLayoutType,t.RadioButtonWithLabelGroupWidget=W.RadioButtonWithLabelGroupWidget;var N=n(43);t.SearchFieldWidget=N.SearchFieldWidget;var z=n(58);t.TextInputType=z.TextInputType;var j=n(227);t.ToggleTextWidget=j.ToggleTextWidget,t.SelectedToggle=j.SelectedToggle;var U=n(229);t.TooltipPosition=U.TooltipPosition,t.Tooltip=U.Tooltip;var V=n(59);t.ColorGridWidget=V.ColorGridWidget,t.ColorGridPreset=V.ColorGridPreset,t.ColorGridType=V.ColorGridType;var K=n(231);t.ColorPickerWidget=K.ColorPickerWidget;var G=n(234);t.ActivitySpinnerSize=G.ActivitySpinnerSize,t.ActivitySpinnerWidget=G.ActivitySpinnerWidget;var $=n(101);t.OpenEndedAt=$.OpenEndedAt,t.SliderWidget=$.SliderWidget;var Y=n(241);t.RangeSliderWidget=Y.RangeSliderWidget;var q=n(103);t.TabActivationMode=q.TabActivationMode,t.TabListAlignment=q.TabListAlignment,t.TabsWidget=q.TabsWidget;var X=n(247);t.ToastType=X.ToastType,t.ToastWidget=X.ToastWidget;var Z=n(248);t.InteractiveLinkWidget=Z.InteractiveLinkWidget;var Q=n(83);t.DateInputFieldType=Q.DateInputFieldType,t.DateInputField=Q.DateInputField;var J=n(60);t.DropdownButton=J.DropdownButton,t.DropdownButtonType=J.DropdownButtonType;var ee=n(249);t.SingleSelectDropdown=ee.SingleSelectDropdown;var te=n(62);t.List=te.List;var ne=n(108);t.FilteringList=ne.FilteringList;var oe=n(250);t.LocallyFilteringList=oe.LocallyFilteringList;var re=n(25);t.findFocusableItemIndex=re.findFocusableItemIndex,t.findSelectableItemIndex=re.findSelectableItemIndex,t.findIndexOfItemWithValue=re.findIndexOfItemWithValue,t.isFocusableItem=re.isFocusableItem,t.isSelectableItem=re.isSelectableItem;var ie=n(99);t.FocusTrap=ie.FocusTrap;var ae=n(109);t.Chip=ae.Chip;var se=n(251);t.ErrorChip=se.ErrorChip;var le=n(252);t.ChipPicker=le.ChipPicker;var de=n(255);t.TextAreaWidget=de.TextAreaWidget;var ue=n(106);t.TextLinkWidget=ue.TextLinkWidget,t.TextLinkKind=ue.TextLinkKind;var ce=n(96);t.TextFieldWidget=ce.TextFieldWidget;var pe=n(256);t.MenuButtonWidget=pe.MenuButtonWidget;var he=n(257);t.SplitButtonWidget=he.SplitButtonWidget;var fe=n(258);t.HierarchicalDropdownWidget=fe.HierarchicalDropdownWidget;var ge=n(57);t.CloseButtonWidget=ge.CloseButtonWidget;var me=n(63);t.InlineAlertType=me.InlineAlertType;var ve=n(260);t.InlineAlertWidget=ve.InlineAlertWidget;var ye=n(261);t.CompactInlineAlertWidget=ye.CompactInlineAlertWidget;var be=n(262);t.InlineAlertAnimator=be.InlineAlertAnimator;var Ce=n(61);t.DropdownPositionedAboveContext=Ce.DropdownPositionedAboveContext;var Se=n(267);console.info("Tableau Shared Widgets v"+Se.packageVersion)},function(e,t,n){var o;Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0);function a(e,t){!function(e){return"function"==typeof e}(e)?e&&(e.current=t):e(t)}function s(e){return e.displayName||e.name||"AnonymousComponent"}t.convertToStatefulComponentClass=function(e){var t;if(e.prototype.render)return e;var n=e;return(t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return n(this.props)},t}(i.Component)).displayName=s(n),t},t.mergeEventHandlers=function(e,t){return e&&t&&function(n){e(n),t(n)}||e||t},t.mergeRefs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){e.forEach((function(e){return a(e,t)}))}},t.assignRef=a,t.getComponentName=s,t.EventUtilsOptOutAttr="data-eventutils-optout",t.EventUtilsOptOut=Object.freeze(((o={})[t.EventUtilsOptOutAttr]=!0,o))},function(e,n){e.exports=t},function(e,t,n){function o(){if("undefined"==typeof Localize)throw Error("The messages.<locale>.js file has not been loaded");return Localize}function r(){var e=o();if(void 0===e.format)throw Error("The formatters-and-parsers.<locale>.js file has not been loaded");return e.format}Object.defineProperty(t,"__esModule",{value:!0}),t.LocaleData={get:function(){return r().localeData}};var i=function(e,t){return o().msg.formatMessage(e,t)};t.Messages={close:function(){return i("@tableau__widgets/close")},closeDialog:function(){return i("@tableau__widgets/closeDialog")},customColor:function(){return i("@tableau__widgets/customColor")},decrement:function(){return i("@tableau__widgets/decrement")},enterValidDate:function(){return i("@tableau__widgets/enterValidDate")},errorIconLabel:function(){return i("@tableau__widgets/errorIconLabel")},errorToastPrefix:function(){return i("@tableau__widgets/errorToastPrefix")},increment:function(){return i("@tableau__widgets/increment")},infoIconLabel:function(){return i("@tableau__widgets/infoIconLabel")},infoToastPrefix:function(){return i("@tableau__widgets/infoToastPrefix")},nextMonth:function(){return i("@tableau__widgets/nextMonth")},noMatches:function(){return i("@tableau__widgets/noMatches")},optional:function(){return i("@tableau__widgets/optional")},previousMonth:function(){return i("@tableau__widgets/previousMonth")},remove:function(){return i("@tableau__widgets/remove")},required:function(){return i("@tableau__widgets/required")},successIconLabel:function(){return i("@tableau__widgets/successIconLabel")},successToastPrefix:function(){return i("@tableau__widgets/successToastPrefix")},waitIndicatorLabel:function(){return i("@tableau__widgets/waitIndicatorLabel")},warningIconLabel:function(){return i("@tableau__widgets/warningIconLabel")},warningToastPrefix:function(){return i("@tableau__widgets/warningToastPrefix")},weekNumber:function(e){return i("@tableau__widgets/weekNumber",e)}},t.Formatters={formatFullMonthAndFullYear:function(e){return r().formatDate(e,{skeleton:"yyyyMMMM"})},formatNarrowDayOfWeek:function(e){return r().formatDate(e,{skeleton:"EEEEE"})},formatShortDate:function(e){return r().formatDate(e,{date:"short"})},formatMediumDate:function(e){return r().formatDate(e,{date:"medium"})},formatLongDate:function(e){return r().formatDate(e,{date:"long"})},formatFullDate:function(e){return r().formatDate(e,{date:"full"})},formatShortDateTime:function(e){return r().formatDate(e,{datetime:"short"})},formatMediumDateTime:function(e){return r().formatDate(e,{datetime:"medium"})},formatLongDateTime:function(e){return r().formatDate(e,{datetime:"long"})},formatFullDateTime:function(e){return r().formatDate(e,{datetime:"full"})},formatShortDateWithFullYear:function(e){return r().formatDate(e,{skeleton:"yyyyMd"})},formatShortDateTimeWithFullYear:function(e){return r().formatDate(e,{skeleton:"yyyyMdhm"})},formatShortDateTimeWithFullYear24Hour:function(e){return r().formatDate(e,{skeleton:"yyyyMdHm"})},formatShortDateMediumTimeWithFullYear:function(e){return r().formatDate(e,{skeleton:"yyyyMdhms"})},formatShortDateMediumTimeWithFullYear24Hour:function(e){return r().formatDate(e,{skeleton:"yyyyMdHms"})}},t.Parsers={parseShortDate:function(e){return r().parseDate(e,{date:"short"})},parseMediumDate:function(e){return r().parseDate(e,{date:"medium"})},parseLongDate:function(e){return r().parseDate(e,{date:"long"})},parseFullDate:function(e){return r().parseDate(e,{date:"full"})},parseShortDateTime:function(e){return r().parseDate(e,{datetime:"short"})},parseMediumDateTime:function(e){return r().parseDate(e,{datetime:"medium"})},parseLongDateTime:function(e){return r().parseDate(e,{datetime:"long"})},parseFullDateTime:function(e){return r().parseDate(e,{datetime:"full"})},parseShortDateWithFullYear:function(e){return r().parseDate(e,{skeleton:"yyyyMd"})},parseShortDateTimeWithFullYear:function(e){return r().parseDate(e,{skeleton:"yyyyMdhm"})},parseShortDateTimeWithFullYear24Hour:function(e){return r().parseDate(e,{skeleton:"yyyyMdHm"})},parseShortDateMediumTimeWithFullYear:function(e){return r().parseDate(e,{skeleton:"yyyyMdhms"})},parseShortDateMediumTimeWithFullYear24Hour:function(e){return r().parseDate(e,{skeleton:"yyyyMdHms"})}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(188),i=n(189),a=n(190),s=n(191),l=n(192),d=n(193),u=n(194),c=n(195),p=n(196),h=n(197),f=/^data\:image\/svg\+xml/;function g(e){return f.test(e)?e:"data:image/svg+xml,"+encodeURIComponent(e)}function m(e,t){void 0===t&&(t={});var n=Object.keys(t).filter((function(e){return!!t[e]})).join(" ");return g(e.replace("$state$",n))}t.encodeSvg=g,t.DropdownArrowIcon={height:18,width:18,icon:function(e){return m(r.DropdownArrowSvg,e)}},t.IconDropdownArrowIcon={height:5,width:7,icon:function(e){return m(a.IconDropdownArrowSvg,e)}},t.MenuItemArrowIcon={height:18,width:18,icon:function(e){return m(s.MenuItemArrowSvg,e)}},t.MenuItemCheckIcon={width:10,height:10,icon:function(e){return m(l.MenuItemCheckSvg,e)},checkedItemPaddingLeft:2*o.TabStyles.Spacing.DefaultSpace+10},t.SliderHandleIcon={height:20,width:20,icon:function(e){return m(d.SliderHandleSvg,e)}},t.SliderLeftHandleIcon={height:20,width:20,icon:function(e){return m(u.SliderLeftHandleSvg,e)},artworkOffsetFromRightSide:4},t.SliderRightHandleIcon={height:20,width:20,icon:function(e){return m(c.SliderRightHandleSvg,e)},artworkOffsetFromLeftSide:2},t.ExpandoIcon={height:13,width:13,icon:function(e){return m(i.ExpandoSvg,e)}},t.StepperLeftIcon={height:22,width:18,icon:function(e){return m(p.StepperLeftSvg,e)}},t.StepperRightIcon={height:22,width:18,icon:function(e){return m(h.StepperRightSvg,e)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.PreventUserSelectSansCursor={userSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none"},t.PreventUserSelect=o.__assign(o.__assign({},t.PreventUserSelectSansCursor),{cursor:"default"})},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(19),a=n(7),s=n(180);var l=function(e){e.removePointerUpListener=s.GlobalPointerUpListener.subscribe((function(){var t,n;e.interactiveIsMounted&&(e.setState({active:!1}),e.props.handleActive&&e.props.handleActive(!1),null===(n=(t=e).removePointerUpListener)||void 0===n||n.call(t),e.removePointerUpListener=void 0)}))};function d(e,t){var n,s=e.props,d=s.disabled,u=s.pointerDown,c=d?{}:{pointerDown:a.mergeEventHandlers(u,(function(){e.interactiveIsMounted&&(e.setState({active:!0}),e.props.handleActive&&e.props.handleActive(!0),e.removePointerUpListener||l(e))}))},p="string"==typeof(n=t.type)&&n.charAt(0)===n.charAt(0).toLowerCase()||!t.props.children?t.props:r.Children.only(t.props.children).props,h=p.onMouseOver,f=p.onMouseOut,g=p.onKeyDown,m=p.onKeyUp,v=p.onFocus,y=p.onBlur,b=d?{}:{onMouseOver:a.mergeEventHandlers(h,(function(){e.interactiveIsMounted&&(e.setState({hover:!0}),e.props.handleHover&&e.props.handleHover(!0))})),onMouseOut:a.mergeEventHandlers(f,(function(){e.interactiveIsMounted&&(e.setState({hover:!1}),e.props.handleHover&&e.props.handleHover(!1))})),onKeyDown:a.mergeEventHandlers(g,(function(t){e.interactiveIsMounted&&(" "!==t.key&&"Enter"!==t.key||(e.setState({active:!0}),e.props.handleActive&&e.props.handleActive(!0)))})),onKeyUp:a.mergeEventHandlers(m,(function(t){e.interactiveIsMounted&&(" "!==t.key&&"Enter"!==t.key||(e.setState({active:!1}),e.props.handleActive&&e.props.handleActive(!1)))})),onFocus:a.mergeEventHandlers(v,(function(){e.interactiveIsMounted&&(e.setState({focus:!0}),e.props.handleFocus&&e.props.handleFocus(!0))})),onBlur:a.mergeEventHandlers(y,(function(){e.interactiveIsMounted&&(e.setState({focus:!1}),e.props.handleFocus&&e.props.handleFocus(!1))}))},C=function(e,t){var n=t.props,r=n.disabled,i=n.interactiveStyles;return i?o.__assign(o.__assign(o.__assign(o.__assign(o.__assign({},e),t.state.hover&&!r&&i.hover),t.state.focus&&!r&&i.focus),t.state.active&&!r&&i.active),r&&i.disabled):e}(t.props.style,e),S=o.__assign({style:C,disabled:d},b),_=o.__assign(o.__assign({},e.props),c);return r.createElement(i.PointerEventWrapper,o.__assign({},_),r.cloneElement(t,S))}var u=function(e){function t(t){var n=e.call(this,t)||this;return n.state=o.__assign(o.__assign({},n.state),{hover:!1,active:!1,focus:!1}),n.interactiveIsMounted=!0,n}return o.__extends(t,e),t.getDerivedStateFromProps=function(e,t){return e.disabled&&(t.active||t.focus||t.hover)?{active:!1,focus:!1,hover:!1}:null},t.prototype.componentWillUnmount=function(){this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},t.prototype.render=function(){return d(this,r.Children.only(this.props.children))},t}(r.Component);t.InteractiveDomWrapper=u,t.InteractiveDomHoC=function(e){var t,n=a.convertToStatefulComponentClass(e);return(t=function(e){function t(t){var n=e.call(this,t)||this;return n.state=o.__assign(o.__assign({},n.state),{hover:!1,active:!1,focus:!1}),n.interactiveIsMounted=!0,n}return o.__extends(t,e),t.getDerivedStateFromProps=function(e,t){return e.disabled&&(t.active||t.focus||t.hover)?{active:!1,focus:!1,hover:!1}:null},t.prototype.callComponentClassWillUnmount=function(){var e=n.prototype.componentWillUnmount;e&&e.apply(this)},t.prototype.componentWillUnmount=function(){this.callComponentClassWillUnmount(),this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},t.prototype.render=function(){return d(this,e.prototype.render.call(this))},t}(n)).displayName="InteractiveDom("+a.getComponentName(e)+")",t},t.InteractiveDomHoCDecorator=t.InteractiveDomHoC},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=n(1),a=n(81),s=n(0),l=n(8),d=n(51),u=n(28),c=n(29),p=100;!function(e){e.top="top",e.centerY="centerY",e.bottom="bottom"}(o=t.VerticalOriginOption||(t.VerticalOriginOption={})),function(e){e.left="left",e.centerX="centerX",e.right="right"}(r=t.HorizontalOriginOption||(t.HorizontalOriginOption={})),t.ScrollingRootContext=s.createContext(document.body),t.ScrollingRootContext.displayName="ScrollingRootContext";var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollingRootElement=null,t.onResize=a((function(){return t.setPlacement()}),p),t.setStackingWrapper=function(e){t.stackingWrapper=e,t.setPlacement()},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){if(this.addScrollingRootBehavior(),window.addEventListener("resize",this.onResize),this.props.autoFocus&&this.stackingWrapper){var e=l.findDOMNode(this.stackingWrapper),t=d(e)[0]||e.querySelector("[tabindex]");t&&t.focus()}},t.prototype.componentWillUnmount=function(){this.removeScrollingRootBehavior(),window.removeEventListener("resize",this.onResize)},t.prototype.componentDidUpdate=function(e){this.resetScrollingRootBehaviorIfNeeded(e),this.setPlacement()},t.prototype.addScrollingRootBehavior=function(){this.setOnScroll(),this.onScroll&&(this.scrollingRootElement=function(e,t){var n=document.getElementById(e)||t||document.body;if(!n)throw new Error("Could not find scrolling root.");return n}(this.props.scrollingRootId,this.context),this.scrollingRootElement.addEventListener("scroll",this.onScroll),this.scrollingRootElement.addEventListener("wheel",this.onScroll))},t.prototype.removeScrollingRootBehavior=function(){var e,t;this.onScroll&&(null===(e=this.scrollingRootElement)||void 0===e||e.removeEventListener("scroll",this.onScroll),null===(t=this.scrollingRootElement)||void 0===t||t.removeEventListener("wheel",this.onScroll),this.scrollingRootElement=null)},t.prototype.resetScrollingRootBehaviorIfNeeded=function(e){e.handleScrollOnScrollingRoot===this.props.handleScrollOnScrollingRoot&&e.shouldAutoPositionOnScrollingRootScroll===this.props.shouldAutoPositionOnScrollingRootScroll||(this.removeScrollingRootBehavior(),this.addScrollingRootBehavior())},t.prototype.setOnScroll=function(){var e=this;if(this.props.shouldAutoPositionOnScrollingRootScroll||this.props.handleScrollOnScrollingRoot){this.onScroll=a((function(){e.props.shouldAutoPositionOnScrollingRootScroll&&e.setPlacement(),e.props.handleScrollOnScrollingRoot&&e.props.handleScrollOnScrollingRoot()}),15)}else this.onScroll=null},t.prototype.getAnchorPosition=function(){var e=void 0;(this.props.getAnchorClientRect&&(e=this.props.getAnchorClientRect()),void 0===e)&&(e=(this.props.anchorEl||l.findDOMNode(this)).getBoundingClientRect());var t=e.left,n=e.top,o=e.right,r=e.bottom;return{top:n,centerY:n+(r-n)/2,bottom:r,left:t,centerX:t+(o-t)/2,right:o}},t.prototype.getStackedElCurrentShapeInPositionCoords=function(){var e=this.getStackedEl();return{top:0,centerY:e.offsetHeight/2,bottom:e.offsetHeight,left:0,centerX:e.offsetWidth/2,right:e.offsetWidth}},t.prototype.getContainerRect=function(){return this.stackingWrapper.getStackingRoot().getBoundingClientRect()},t.prototype.setPlacement=function(){if(this.stackingWrapper&&this.stackingWrapper.getMountPoint()){var e=this.getStackedEl();e.style.position="absolute";var t=this.getStackedElAdjustedPosition();e.style.top=t.top+"px",e.style.left=t.left+"px",this.props.disablePointerEvents&&(e.style.pointerEvents="none")}},t.prototype.getStackedEl=function(){return this.stackingWrapper.getMountPoint().firstChild},t.prototype.getStackedElAdjustedPosition=function(){var e=this.getDefaultStackedElViewportPosition();return this.props.allowAutoPosition&&(e=this.getAutoPositionIfNeeded(e)),this.getAdjustStackedElPositionForContainer(e)},t.prototype.getDefaultStackedElViewportPosition=function(){var e=this.getStackedElViewportPosition(this.props.anchorOrigin,this.props.stackedOrigin);return this.props.getAnchorClientRect||(e.top+=this.props.topFromOverlaidPosition||0,e.left+=this.props.leftFromOverlaidPosition||0),e},t.prototype.getAdjustStackedElPositionForContainer=function(e){var t=this.getContainerRect();return{top:e.top-t.top,left:e.left-t.left}},t.prototype.getStackedElViewportPosition=function(e,t){var n=this.getAnchorPosition(),i=this.getStackedElCurrentShapeInPositionCoords(),a=o[e.vertical],s=r[e.horizontal],l=o[t.vertical],d=r[t.horizontal],u=n[a],c=n[s];return{top:u-i[l],left:c-i[d]}},t.prototype.getAutoPositionIfNeeded=function(e){var t=this.getStackedElCurrentShapeInPositionCoords(),n=this.getOppositeOriginPosition(),o=c.getLayoutViewportSize(),r=e.top<0||e.top+t.bottom>o.height,i=e.left<0||e.left+t.right>o.width;return r&&(n.top+t.bottom<=o.height?e.top=Math.max(0,n.top):t.bottom<=o.height&&(e.top=Math.max(0,o.height-t.bottom))),i&&(n.left+t.right<=o.width?e.left=Math.max(0,n.left):t.right<=o.width&&(e.left=Math.max(0,o.width-t.right))),e},t.prototype.getOppositeOriginPosition=function(){var e=this.getOppositeOriginsOptions(this.props.anchorOrigin),t=this.getOppositeOriginsOptions(this.props.stackedOrigin),n=this.getStackedElViewportPosition(e,t);return this.props.getAnchorClientRect||(n.top-=this.props.topFromOverlaidPosition||0,n.left-=this.props.leftFromOverlaidPosition||0),n},t.prototype.getOppositeOriginsOptions=function(e){return{horizontal:this.getOppositeHorizontalOption(e.horizontal),vertical:this.getOppositeVerticalOption(e.vertical)}},t.prototype.getOppositeVerticalOption=function(e){return e===o.centerY?o.centerY:e===o.top?o.bottom:o.top},t.prototype.getOppositeHorizontalOption=function(e){return e===r.centerX?r.centerX:e===r.left?r.right:r.left},t.prototype.render=function(){var e=this.props.stackingRootId?this.props.stackingRootId+"-":"";return e=this.props.scrollingRootId?""+e+this.props.scrollingRootId+"-":e,s.createElement(u.StackingComponentWrapper,{children:this.props.children,portalEventTrapOverrides:this.props.portalEventTrapOverrides,ref:this.setStackingWrapper,stackingRootId:this.props.stackingRootId,wrapperTestId:e+"Overlay",zIndex:this.props.zIndex})},t.defaultProps={anchorOrigin:{vertical:o.top,horizontal:r.left},stackedOrigin:{vertical:o.top,horizontal:r.left}},t}(s.Component);t.Overlay=h,h.contextType=t.ScrollingRootContext},function(e,t,n){function o(e){try{return e.test(navigator.userAgent)}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.isIE=o(/Trident/),t.isEdge=o(/Edge\//),t.isMac=o(/Mac/),t.isCtrl=function(e){return t.isMac&&e.metaKey||e.ctrlKey}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(4);t.FocusBlue="#3498DB",t.ErrorRed="#C93A47",t.ValidGreen="#008057",t.PreFocusIndicator=Object.freeze({borderColor:"transparent",borderStyle:"solid",borderWidth:1});var i=function(e){return void 0===e&&(e=t.FocusBlue),Object.freeze({borderColor:e,boxShadow:"0 0 4px 0 "+e,outline:"none",$nest:{"&::-moz-focus-inner":{$unique:!0,border:"none"}}})};t.DefaultFocusIndicator=i(),t.InvertFocusIndicator=i("white"),t.ErrorFocusIndicator=i(t.ErrorRed),t.ValidFocusIndicator=i(t.ValidGreen),t.SVGInputFocusIndicatorBase=r.style({position:"relative",$nest:{"&.focus::after":o.__assign(o.__assign({border:"1px solid transparent"},t.DefaultFocusIndicator),{content:'""',position:"absolute",pointerEvents:"none",top:1,right:1,bottom:1,left:1})}})},function(e,t,n){var o;window,e.exports=(o=n(0),function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=20)}([function(e,t,n){n.r(t),n.d(t,"__extends",(function(){return r})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return d})),n.d(t,"__awaiter",(function(){return u})),n.d(t,"__generator",(function(){return c})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return C})),n.d(t,"__makeTemplateObject",(function(){return S})),n.d(t,"__importStar",(function(){return _})),n.d(t,"__importDefault",(function(){return w}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function s(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,o){t(n,o,e)}}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}l((o=o.apply(e,t||[])).next())}))}function c(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){r[e]&&(o[e]=function(t){return new Promise((function(n,o){i.push([e,t,n,o])>1||s(e,t)}))})}function s(e,t){try{(n=r[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,d):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function d(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function b(e){var t,n;return t={},o("next"),o("throw",(function(e){throw e})),o("return"),t[Symbol.iterator]=function(){return this},t;function o(o,r){t[o]=e[o]?function(t){return(n=!n)?{value:v(e[o](t)),done:"return"===o}:r?r(t):t}:r}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise((function(o,r){!function(e,t,n,o){Promise.resolve(o).then((function(t){e({value:t,done:n})}),t)}(o,r,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=o},function(e,t,n){n.r(t);var o=n(8);function r(e){var t={},n="";for(var i in e){var a=e[i];if("$unique"===i)t[o.IS_UNIQUE]=a;else if("$nest"===i){var s=a;for(var l in s){var d=s[l];t[l]=r(d).result}}else"$debugName"===i?n=a:t[i]=a}return{result:t,debugName:n}}var i="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map((function(e){return e&&"object"==typeof e?Object.keys(e).map((function(t){return!!e[t]&&t})):[e]})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return!!e})).join(" ")}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},o=0,r=e;o<r.length;o++){var i=r[o];if(null!=i&&!1!==i)for(var a in i){var l=i[a];(l||0===l)&&("$nest"===a&&l?n[a]=n.$nest?s(n.$nest,l):l:-1!==a.indexOf("&")||0===a.indexOf("@media")?n[a]=n[a]?s(n[a],l):l:n[a]=l)}}return n}var l=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=[];e.type&&o.push(e.type),e.orientation&&o.push("(orientation: "+e.orientation+")"),e.minWidth&&o.push("(min-width: "+d(e.minWidth)+")"),e.maxWidth&&o.push("(max-width: "+d(e.maxWidth)+")"),e.minHeight&&o.push("(min-height: "+d(e.minHeight)+")"),e.maxHeight&&o.push("(max-height: "+d(e.maxHeight)+")");var r,i="@media "+o.join(" and "),a={$nest:(r={},r[i]=s.apply(void 0,t),r)};return a},d=function(e){return"string"==typeof e?e:e+"px"},u=function(){return o.create(void 0,!0)},c=function(){function e(e){var t=e.autoGenerateTag,n=this;this.cssRaw=function(e){e&&(n._raw+=e||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var i=r(s.apply(void 0,t)).result;n._freeStyle.registerRule(e,i),n._styleUpdated()},this.forceRenderStyles=function(){var e=n._getTag();e&&(e.textContent=n.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=n._freeStyle,r=0,i=e;r<i.length;r++){var a=i[r];o.registerRule("@font-face",a)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(e){var t=function(e){var t={$debugName:void 0,keyframes:{}};for(var n in e){var o=e[n];"$debugName"===n?t.$debugName=o:t.keyframes[n]=o}return t}(e),o=t.keyframes,r=t.$debugName,i=n._freeStyle.registerKeyframes(o,r);return n._styleUpdated(),i},this.reinit=function(){var e=u();n._freeStyle=e,n._lastFreeStyleChangeId=e.changeId,n._raw="",n._pendingRawChange=!1;var t=n._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){n._tag&&(n._tag.textContent=""),n._tag=e,n.forceRenderStyles()},this.stylesheet=function(e){for(var t={},o=0,r=Object.getOwnPropertyNames(e);o<r.length;o++){var i=r[o],a=e[i];a&&(a.$debugName=i,t[i]=n.style(a))}return t};var o=u();this._autoGenerateTag=t,this._freeStyle=o,this._lastFreeStyleChangeId=o.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0,this.style=this.style.bind(this)}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;i((function(){n===t._pending&&e()}))},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync((function(){return e.forceRenderStyles()})))},e.prototype.style=function(){var e=this._freeStyle,t=r(s.apply(void 0,arguments)),n=t.result,o=t.debugName,i=o?e.registerStyle(n,o):e.registerStyle(n);return this._styleUpdated(),i},e}(),p=n(12);n.d(t,"setStylesTarget",(function(){return f})),n.d(t,"cssRaw",(function(){return g})),n.d(t,"cssRule",(function(){return m})),n.d(t,"forceRenderStyles",(function(){return v})),n.d(t,"fontFace",(function(){return y})),n.d(t,"getStyles",(function(){return b})),n.d(t,"keyframes",(function(){return C})),n.d(t,"reinit",(function(){return S})),n.d(t,"style",(function(){return _})),n.d(t,"stylesheet",(function(){return w})),n.d(t,"createTypeStyle",(function(){return I})),n.d(t,"TypeStyle",(function(){return c})),n.d(t,"types",(function(){return p})),n.d(t,"extend",(function(){return s})),n.d(t,"classes",(function(){return a})),n.d(t,"media",(function(){return l}));var h=new c({autoGenerateTag:!0}),f=h.setStylesTarget,g=h.cssRaw,m=h.cssRule,v=h.forceRenderStyles,y=h.fontFace,b=h.getStyles,C=h.keyframes,S=h.reinit,_=h.style,w=h.stylesheet;function I(e){var t=new c({autoGenerateTag:!1});return e&&t.setStylesTarget(e),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TextColors={Primary:"#333",Secondary:"#4f4f4f",Neutral:"#707070",Disabled:"#bfbfbf",Error:"#c93a47",Valid:"#008057"},t.IconFillColors={Rest:"#666",Hover:"#333",Disabled:"#bfbfbf",Error:"#c93a47",Valid:"#008057"},t.InvertTextColors={Primary:"#fff",Secondary:"rgba(255, 255, 255, 0.56)",Netural:"rgba(255, 255, 255, 0.56)",Disabled:"rgba(255, 255, 255, 0.35)"},t.InvertIconFillColors={Rest:"rgba(255, 255, 255, 0.5)",Hover:"rgba(255, 255, 255, 0.8)",Disabled:"rgba(255, 255, 255, 0.35)"},t.Opacity={Disabled:.35}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FocusBlue="#3498DB",t.ErrorRed="#C93A47",t.ValidGreen="#008057",t.PreFocusIndicator=Object.freeze({borderColor:"transparent",borderStyle:"solid",borderWidth:1});var o=function(e){return void 0===e&&(e=t.FocusBlue),Object.freeze({borderColor:e,boxShadow:"0 0 4px 0 "+e,outline:"none",$nest:{"&::-moz-focus-inner":{$unique:!0,border:"none"}}})};t.DefaultFocusIndicator=o(),t.InvertFocusIndicator=o("white"),t.ErrorFocusIndicator=o(t.ErrorRed),t.ValidFocusIndicator=o(t.ValidGreen)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),r=Date.now();t.generateId=function(){return"tableau-ui-"+r++},t.isElementOverflownX=function(e){return!!e&&e.clientWidth<e.scrollWidth},t.closest=function(e,t){if(e.closest)return e.closest(t);var n=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;if(!n)return null;for(var o=e;o;){if(n.call(o,t))return o;o=o.parentElement}return null},t.findBlurRelatedTarget=function(e){return o.isIE?e.relatedTarget||document.activeElement:e.relatedTarget}},function(e,t,n){var o;Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),a=n(3),s=n(4),l=n(9);t.FieldHeight=24,t.BorderWidth=1,t.FontSize=12,t.IconSize=24,t.LabelHeight=21,t.SidePadding=8-t.BorderWidth,t.HoverColor="#fafafa",t.BorderColors={Rest:"#cbcbcb",Disabled:"#bfbfbf",Hover:"#333",Error:"#c93a47",Valid:"#008057"},t.InvertBorderColors={Rest:"rgba(255, 255, 255, 0.5)",Hover:"#fff",Disabled:"rgba(255, 255, 255, 0.35)"},t.WrapperStyleName=i.style({color:a.TextColors.Secondary,display:"inline-flex",flexDirection:"column",fontSize:t.FontSize,position:"relative",$nest:{"&.dark":{color:a.InvertTextColors.Secondary},"&.disabled, &.disabled *":{color:a.TextColors.Disabled+" !important"},"&.dark.disabled, &.dark.disabled *":{color:a.InvertTextColors.Disabled+" !important"}}}),t.LabelStyleName=i.style({display:"inline-block",marginRight:"auto",lineHeight:t.LabelHeight+"px",$nest:{"&:empty":{display:"none"}}});var d=l.isMSFT?l.isEdge?":-ms-input-placeholder":"-ms-input-placeholder":":placeholder";t.InputStyleName=i.style({backgroundColor:"transparent",border:t.BorderWidth+"px solid "+t.BorderColors.Rest,borderRadius:1,boxSizing:"border-box",color:a.TextColors.Primary,fontFamily:"inherit",fontSize:t.FontSize,padding:"0 "+t.SidePadding+"px","-webkit-appearance":"none",$nest:(o={},o["&:"+d]={$unique:!0,color:a.TextColors.Neutral,letterSpacing:"normal"},o["&:disabled:"+d]={$unique:!0,color:a.TextColors.Disabled+" !important"},o["&::-ms-clear"]={$unique:!0,display:"none"},o["&:hover:enabled"]={backgroundColor:t.HoverColor,borderColor:t.BorderColors.Hover},o["&&&&:focus"]=r.__assign(r.__assign({},s.DefaultFocusIndicator),{backgroundColor:"transparent"}),o['&&&[aria-invalid="true"]']={borderColor:t.BorderColors.Error,$nest:{"&:focus":s.ErrorFocusIndicator}},o["&:disabled"]={backgroundColor:["transparent !important","rgba(255, 255, 255, 0) !important"],borderColor:t.BorderColors.Disabled+" !important",color:a.TextColors.Disabled+" !important"},o[".dark &"]={borderColor:t.InvertBorderColors.Rest,color:a.InvertTextColors.Primary},o[".dark &:"+d]={$unique:!0,color:a.InvertTextColors.Netural},o[".dark &:disabled:"+d]={$unique:!0,color:a.InvertTextColors.Disabled+" !important"},o[".dark &:hover:enabled"]={backgroundColor:"transparent",borderColor:t.InvertBorderColors.Hover},o[".dark &&&&:focus"]=r.__assign({},s.InvertFocusIndicator),o[".dark &:disabled"]={borderColor:t.InvertBorderColors.Disabled+" !important",color:a.InvertTextColors.Disabled+" !important"},o["input&"]={height:t.FieldHeight},o["textarea&"]={display:"block",letterSpacing:.2,lineHeight:1.5*t.FontSize+"px",paddingBottom:6,paddingTop:6},o)})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PreventUserSelect={userSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",cursor:"default"}},function(e,t,n){(function(e){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var i=/[A-Z]/g,a=/^ms-/,s=/&/g,l=/[ !#$%&()*+,./;<=>?@[\]^`{|}~"'\\]/g,d=function(e){return"-"+e.toLowerCase()},u={"animation-iteration-count":!0,"border-image-outset":!0,"border-image-slice":!0,"border-image-width":!0,"box-flex":!0,"box-flex-group":!0,"box-ordinal-group":!0,"column-count":!0,columns:!0,"counter-increment":!0,"counter-reset":!0,flex:!0,"flex-grow":!0,"flex-positive":!0,"flex-shrink":!0,"flex-negative":!0,"flex-order":!0,"font-weight":!0,"grid-area":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-span":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-span":!0,"grid-row-start":!0,"line-clamp":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"tab-size":!0,widows:!0,"z-index":!0,zoom:!0,"fill-opacity":!0,"flood-opacity":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0},c=0,p=Object.keys(u);c<p.length;c++)for(var h=p[c],f=0,g=["-webkit-","-ms-","-moz-","-o-",""];f<g.length;f++)u[g[f]+h]=!0;function m(e){return e.replace(i,d).replace(a,"-ms-")}function v(e){for(var t=5381,n=e.length;n--;)t=33*t^e.charCodeAt(n);return(t>>>0).toString(36)}function y(e,t){return"number"!=typeof t||0===t||u.hasOwnProperty(e)?e+":"+t:e+":"+t+"px"}function b(e){return e.sort((function(e,t){return e[0]>t[0]?1:-1}))}function C(e){return e.map((function(e){var t=e[0],n=e[1];return Array.isArray(n)?n.map((function(e){return y(t,e)})).join(";"):y(t,n)})).join(";")}function S(e,t){return-1===e.indexOf("&")?t+" "+e:e.replace(s,t)}function _(e,n,o,r,i){var a=function(e,n){for(var o=[],r=[],i=!1,a=0,s=Object.keys(e);a<s.length;a++){var l=s[a],d=e[l];null!=d&&(l===t.IS_UNIQUE?i=!0:"object"!=typeof d||Array.isArray(d)?o.push([m(l.trim()),d]):r.push([l.trim(),d]))}return{style:C(b(o)),nested:n?r:b(r),isUnique:i}}(n,""!==e),s=a.style,l=a.nested,d=a.isUnique,u=s;if(64===e.charCodeAt(0)){var c={selector:e,styles:[],rules:[],style:i?"":s};o.push(c),s&&i&&c.styles.push({selector:i,style:s,isUnique:d});for(var p=0,h=l;p<h.length;p++){var f=h[p];u+=(w=f[0])+_(w,f[1],c.rules,c.styles,i)}}else{var g=i?S(e,i):e;s&&r.push({selector:g,style:s,isUnique:d});for(var v=0,y=l;v<y.length;v++){var w,I=y[v];u+=(w=I[0])+_(w,I[1],o,r,g)}}return u}function w(e,t,n,o,i,a){for(var s=0,l=o;s<l.length;s++){var d=l[s],u=d.selector,c=d.style,p=d.isUnique,h=a?S(u,i):u,f=p?"u\0"+(++r).toString(36):"s\0"+t+"\0"+c;(v=new E(c,f)).add(new D(h,"k\0"+t+"\0"+h)),e.add(v)}for(var g=0,m=n;g<m.length;g++){var v,y=m[g],b=(u=y.selector,c=y.style,y.rules),C=y.styles;w(v=new k(u,c,"r\0"+t+"\0"+u+"\0"+c),t,b,C,i,a),e.add(v)}}function I(e){for(var t="",n=0;n<e.length;n++)t+=e[n];return t}t.escape=function(e){return e.replace(l,"\\$&")},t.hyphenate=m,t.stringHash=v;var x={add:function(){},change:function(){},remove:function(){}},T=function(){function e(e){void 0===e&&(e=x),this.changes=e,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return e.prototype.add=function(t){var n=this._counters[t.id]||0,o=this._children[t.id]||t.clone();if(this._counters[t.id]=n+1,0===n)this._children[o.id]=o,this._keys.push(o.id),this.sheet.push(o.getStyles()),this.changeId++,this.changes.add(o,this._keys.length-1);else if(o instanceof e&&t instanceof e){var r=this._keys.indexOf(t.id),i=o.changeId;o.merge(t),o.changeId!==i&&(this.sheet.splice(r,1,o.getStyles()),this.changeId++,this.changes.change(o,r,r))}return o},e.prototype.remove=function(t){var n=this._counters[t.id];if(void 0!==n&&n>0){this._counters[t.id]=n-1;var o=this._children[t.id],r=this._keys.indexOf(o.id);if(1===n)delete this._counters[t.id],delete this._children[t.id],this._keys.splice(r,1),this.sheet.splice(r,1),this.changeId++,this.changes.remove(o,r);else if(o instanceof e&&t instanceof e){var i=o.changeId;o.unmerge(t),o.changeId!==i&&(this.sheet.splice(r,1,o.getStyles()),this.changeId++,this.changes.change(o,r,r))}}},e.prototype.values=function(){var e=this;return this._keys.map((function(t){return e._children[t]}))},e.prototype.merge=function(e){for(var t=0,n=e.values();t<n.length;t++){var o=n[t];this.add(o)}return this},e.prototype.unmerge=function(e){for(var t=0,n=e.values();t<n.length;t++){var o=n[t];this.remove(o)}return this},e.prototype.clone=function(){return(new e).merge(this)},e}();t.Cache=T;var D=function(){function e(e,t){this.selector=e,this.id=t}return e.prototype.getStyles=function(){return this.selector},e.prototype.clone=function(){return new e(this.selector,this.id)},e}();t.Selector=D;var E=function(e){function t(t,n){var o=e.call(this)||this;return o.style=t,o.id=n,o}return o(t,e),t.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},t.prototype.clone=function(){return new t(this.style,this.id).merge(this)},t}(T);t.Style=E;var k=function(e){function t(t,n,o){var r=e.call(this)||this;return r.rule=t,r.style=n,r.id=o,r}return o(t,e),t.prototype.getStyles=function(){return this.rule+"{"+this.style+I(this.sheet)+"}"},t.prototype.clone=function(){return new t(this.rule,this.style,this.id).merge(this)},t}(T);t.Rule=k;var O=function(e){function n(t,n,o,r){var i=e.call(this,r)||this;return i.hash=t,i.debug=n,i.id=o,i}return o(n,e),n.prototype.registerStyle=function(e,n){var o=[],r=[],i=_("&",e,o,r),a="f"+this.hash(i),s=this.debug&&n?n+"_"+a:a;return w(this,i,o,r,"."+t.escape(s),!0),s},n.prototype.registerKeyframes=function(e,t){return this.registerHashRule("@keyframes",e,t)},n.prototype.registerHashRule=function(e,n,o){var r=[],i=[],a=_("",n,r,i),s="f"+this.hash(a),l=this.debug&&o?o+"_"+s:s,d=new k(e+" "+t.escape(l),"","h\0"+a+"\0"+e);return w(d,a,r,i,"",!1),this.add(d),l},n.prototype.registerRule=function(e,t){var n=[],o=[];w(this,_(e,t,n,o),n,o,"",!1)},n.prototype.registerCss=function(e){return this.registerRule("",e)},n.prototype.getStyles=function(){return I(this.sheet)},n.prototype.clone=function(){return new n(this.hash,this.debug,this.id,this.changes).merge(this)},n}(T);t.FreeStyle=O,t.create=function(t,n,o){return void 0===t&&(t=v),void 0===n&&(n=void 0!==e&&!1),void 0===o&&(o=x),new O(t,n,"f"+(++r).toString(36),o)}}).call(this,n(22))},function(e,t,n){function o(e){try{return e.test(navigator.userAgent)}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.isIE=o(/Trident/),t.isEdge=o(/Edge\//),t.isMSFT=t.isIE||t.isEdge},function(e,t,n){function o(e){return null==e}Object.defineProperty(t,"__esModule",{value:!0}),t.isNullOrUndefined=o,t.defaultIfNothing=function(e,t){return o(e)?t:e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(0),i=n(1),a=n(2),s=n(16),l=n(3),d=n(4),u=n(5),c=n(10),p=n(6),h=a.style({$nest:{"& > .message":{cursor:"default",minHeight:p.LabelHeight,lineHeight:p.LabelHeight+"px"},"& > .message:empty":{display:"none"},"& > .message::before":{height:19,marginRight:4,verticalAlign:"middle",width:12},"&.invalid .message":{color:l.TextColors.Error,$nest:{"&::before":{content:(void 0===o&&(o=l.IconFillColors.Error),"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"><path fill="'+o+'" d="M6 0c3.32307692 0 6 2.67692308 6 6s-2.67692308 6-6 6-6-2.67692308-6-6 2.67692308-6 6-6zm3.80826837 2.78724354L2.78823013 9.80910485C3.66178215 10.54956 4.78584707 11 6 11c2.72727273 0 5-2.27272727 5-5 0-1.21461006-.4507793-2.33906427-1.19173163-3.21275646zM6 1C3.27272727 1 1 3.27272727 1 6c0 1.15838235.41000962 2.23476277 1.09071081 3.08982322l7.00012461-6.9983064C8.23561231 1.41033329 7.15883948 1 6 1z"/></svg>')+"')"),display:"inline-block"}}},"&.valid .message":{color:l.TextColors.Valid,$nest:{"&::before":{content:function(e){return void 0===e&&(e=l.IconFillColors.Valid),"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><path fill="'+e+'" d="M11.0901085,1.44039588 L5.95027487,10.7620802 C5.91674718,10.8219618 5.8714497,10.8712975 5.81882351,10.9088267 L5.74626794,10.9513078 L5.72944899,10.9584377 C5.56475588,11.0351468 5.36221679,11.007584 5.22322743,10.8747039 L1,6.92203962 L1.63092578,6.27522146 L5.43503565,9.82703356 L10.2990877,0.998730122 L11.0901085,1.44039588 Z"/></svg>')+"')"}(),display:"inline-block"}}},"&.invalid input, &.invalid textarea":{color:l.TextColors.Error},"&.valid input, &.valid textarea":{color:l.TextColors.Valid,borderColor:p.BorderColors.Valid},"&&&.valid :focus":d.ValidFocusIndicator}}),f=a.style({display:"inline-block",lineHeight:"12px",marginRight:4,verticalAlign:"middle"});t.LabeledField=function(e){var t=c.defaultIfNothing(e.labelId,i.useState(u.generateId())[0]),n=c.defaultIfNothing(e.id,i.useState(u.generateId())[0]),o=i.useState(u.generateId())[0],l=i.useState(!1),d=l[0],g=l[1],m=e.children,v=e.className,y=e.disabled,b=e.label,C=e.labelRef,S=e.message,_=e.valid;return i.createElement("div",{className:a.classes(v,p.WrapperStyleName,h,{valid:!0===_,invalid:!1===_,disabled:y}),onBlurCapture:function(e){e.currentTarget.contains(u.findBlurRelatedTarget(e))||g(!1)},onFocusCapture:function(e){e.currentTarget.contains(e.target)&&g(!0)}},i.createElement("label",{className:a.classes(p.LabelStyleName),htmlFor:n,id:t,ref:C},b),m(r.__assign({"aria-describedby":o,id:n},!1===_&&{"aria-errormessage":o,"aria-invalid":!0})),i.createElement("div",{"aria-live":d?"polite":"off",className:"message",id:o},"pending"===_&&i.createElement(s.Spinner,{"aria-hidden":!0,dimension:12,className:f}),S))},t.LabeledField.displayName="LabeledField"},function(e,t){},function(e,t,n){var o,r,i,a,s;Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),d=n(2),u=n(3),c=n(4),p=n(7),h=n(14);t.ButtonHeight=24;var f=l.__assign(l.__assign({},p.PreventUserSelect),{backgroundColor:"transparent",borderRadius:2,border:"1px solid transparent",boxSizing:"border-box",color:"#666",fontFamily:"inherit",fontSize:12,fontWeight:"bold",height:t.ButtonHeight,minWidth:96,padding:"0 24px",whiteSpace:"nowrap",$nest:{"& > *":{pointerEvents:"none"},"&.medium-density":{minWidth:88,padding:"0 16px"},"&.high-density":{minWidth:80,padding:"0 8px"},"&:disabled":{backgroundColor:"transparent !important",color:"#bfbfbf !important"},"&&:focus":l.__assign({},c.DefaultFocusIndicator)}}),g="&:hover:enabled",m='\n  &&&:active,\n  &[aria-pressed="true"],\n  &[aria-checked="true"],\n  &&&[aria-expanded="true"]\n',v=function(e,t,n){return void 0===e&&(e=u.IconFillColors.Rest),void 0===t&&(t=u.IconFillColors.Hover),void 0===n&&(n=u.IconFillColors.Disabled),{"&[aria-haspopup]":{alignItems:"center",display:"inline-flex",justifyContent:"center",$nest:{"&::after":{content:"url("+h.DropdownArrow.data(e)+")",display:"inline-block",height:h.DropdownArrow.height,marginRight:-6,width:h.DropdownArrow.width},'&[aria-expanded="true"]::after, &:active::after':{content:"url("+h.DropdownArrow.data(t)+")"},"&:disabled::after":{content:"url("+h.DropdownArrow.data(n)+") !important"}}}}};t.ButtonClassNames={primary:d.style(f,{backgroundColor:"#1a699e",borderColor:"#1a699e",color:"white",$nest:l.__assign((o={},o[g]={backgroundColor:"#2a79af",borderColor:"#2a79af"},o[m]={backgroundColor:"#15557f",borderColor:"#15557f"},o["&:disabled"]={backgroundColor:"#c8c8c8 !important",borderColor:"#c8c8c8 !important",color:"white !important"},o),v("white","white","white"))}),outline:d.style(f,{borderColor:"#666",$nest:l.__assign((r={},r[g]={backgroundColor:"#ebebeb"},r[m]={backgroundColor:"#ccc",borderColor:"#333",color:"#333"},r["&:disabled"]={borderColor:"#bfbfbf !important"},r),v())}),outlineDark:d.style(f,{borderColor:"#dcecf9",color:"#dcecf9",$nest:l.__assign((i={},i[g]={backgroundColor:"#4b5266",borderColor:"#aed3ef",color:"#dcecf9"},i[m]={backgroundColor:"#4b5266",borderColor:"#73b2e2",color:"#73b2e2"},i["&:disabled"]={borderColor:"#858585 !important",color:"#858585 !important"},i),v("#dcecf9","#73b2e2","#858585"))}),destructive:d.style(f,{backgroundColor:"#c41723",borderColor:"#c41723",color:"white",$nest:(a={},a[g]={backgroundColor:"#e51f2d",borderColor:"#e51f2d"},a[m]={backgroundColor:"#a0131c",borderColor:"#a0131c"},a["&:disabled"]={backgroundColor:"#c8c8c8 !important",borderColor:"#c8c8c8 !important",color:"white !important"},a)}),lowEmphasis:d.style(f,{$nest:(s={},s[g]={backgroundColor:"#ebebeb"},s[m]={backgroundColor:"#ebebeb",color:"#333"},s)})},t.ButtonClassNames.filledGreen=t.ButtonClassNames.primary,t.ButtonClassNames.attentionRed=t.ButtonClassNames.destructive,t.ButtonClassNames.filled=t.ButtonClassNames.outline,t.ButtonClassNames.blackText=t.ButtonClassNames.lowEmphasis,Object.freeze(t.ButtonClassNames),d.forceRenderStyles()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)};t.DropdownArrow={width:18,height:18,data:function(e){return void 0===e&&(e=o.IconFillColors.Rest),r('<svg xmlns="http://www.w3.org/2000/svg" width="'+t.DropdownArrow.width+'" height="'+t.DropdownArrow.height+'"><path fill="'+e+'" d="M5.8 7.3l3.5 4.6c.1.1.2.1.3 0l3.6-4.6c.1-.2 0-.3-.2-.3H6c-.2 0-.3.1-.2.3z"/></svg>')}},t.IconDropdownArrow={height:5,width:7,data:function(e){return void 0===e&&(e=o.IconFillColors.Rest),r('<svg xmlns="http://www.w3.org/2000/svg" width="'+t.IconDropdownArrow.width+'" height="'+t.IconDropdownArrow.height+'"><path fill="'+e+'" d="M5.8,1H1.2C1.1,1,1,1.1,1.1,1.2l2.3,2.7C3.4,4,3.6,4,3.6,3.9l2.3-2.7 C6,1.1,5.9,1,5.8,1z"/></svg>')}}},function(e,t,n){var o;Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),a=n(2),s=n(3),l=n(4),d=n(7),u=n(5),c=function(e){return void 0===e&&(e=s.IconFillColors.Rest),"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16"><path fill="'+e+'" transform="translate(-2, -2)" d="M7.2 12.3c-.2 0-.4-.1-.5-.2l-3-3L4.8 8l2.3 2.3 4-6.7 1.3.8L7.9 12c-.2.2-.4.3-.7.3z"/></svg>')+"')"},p=function(e){return void 0===e&&(e=s.IconFillColors.Rest),"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16"><rect fill="'+e+'" x="2" y="5" width="8" height="2"/></svg>')+"')"},h=function(e){return void 0===e&&(e=s.IconFillColors.Rest),"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16"><circle fill="'+e+'" transform="translate(-2, -2)" cx="8" cy="8" r="3"/></svg>')+"')"},f=a.style({boxSizing:"border-box",flexShrink:0,height:14,margin:0,marginTop:3,opacity:0,padding:0,pointerEvents:"none",width:14}),g=a.style(d.PreventUserSelect,{marginLeft:6,overflow:"hidden",textOverflow:"ellipsis"});t.FocusVisibleClassName="focus-visible",t.FocusWithinClassName="focus-within";var m=a.style(d.PreventUserSelect,{color:s.TextColors.Primary,display:"inline-flex",fontSize:12,lineHeight:"20px",position:"relative",$nest:(o={"&.disabled":{color:s.TextColors.Disabled+" !important"},"&:before":{backgroundColor:"white",border:"1px solid "+s.IconFillColors.Rest,borderRadius:1,boxSizing:"border-box",content:"'\\200B'",display:"inline-block",height:14,position:"absolute",top:3,width:14},"&.radio:before":{borderRadius:"100%"},"&:hover.enabled:before":{borderColor:s.IconFillColors.Hover}},o["&."+t.FocusWithinClassName+"."+t.FocusVisibleClassName+":before"]=r.__assign({},l.DefaultFocusIndicator),o["&.disabled:before"]={borderColor:s.IconFillColors.Hover,opacity:s.Opacity.Disabled},o["&.checkbox.checked:before"]={content:c(s.IconFillColors.Rest)},o["&.checkbox.checked:hover.enabled:before"]={content:c(s.IconFillColors.Hover)},o["&.checkbox.indeterminate:before"]={content:p(s.IconFillColors.Rest)},o["&.checkbox.indeterminate:hover.enabled:before"]={content:p(s.IconFillColors.Hover)},o["&.radio.checked:before"]={content:h(s.IconFillColors.Rest)},o["&.radio.checked:hover.enabled:before"]={content:h(s.IconFillColors.Hover)},o)});t.Selector=i.forwardRef((function(e,n){var o=e.children,s=e.className,l=e.indeterminate,d=e.labelProps,c=e.style,p=r.__rest(e,["children","className","indeterminate","labelProps","style"]),h=i.useState(!0),v=h[0],y=h[1],b=i.useState(!1),C=b[0],S=b[1],_=i.useState(void 0),w=_[0],I=_[1];return i.createElement("label",r.__assign({},d,{className:a.classes(s,m,e.type,e.checked&&"checked",e.disabled?"disabled":"enabled",l&&"indeterminate",v&&t.FocusVisibleClassName,C&&t.FocusWithinClassName),onBlurCapture:function(e){y(!0),S(!1),d&&d.onBlurCapture&&d.onBlurCapture(e)},onFocusCapture:function(e){S(!0),d&&d.onFocusCapture&&d.onFocusCapture(e)},onKeyDownCapture:function(e){y(!0),d&&d.onKeyDownCapture&&d.onKeyDownCapture(e)},onMouseUpCapture:function(e){y(!1),d&&d.onMouseUpCapture&&d.onMouseUpCapture(e)},onMouseEnter:function(e){var t=e.currentTarget.lastElementChild;I(u.isElementOverflownX(t)&&t.textContent||void 0),d&&d.onMouseEnter&&d.onMouseEnter(e)},style:c,title:d&&d.title||w}),i.createElement("input",r.__assign({},p,{className:f,ref:function(e){!function(e){return!!e&&Object.prototype.hasOwnProperty.call(e,"current")}(n)?n&&n(e):n.current=e,e&&(e.indeterminate=l)}})),o&&i.createElement("div",{className:g},o))}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(2),a=n(25),s=function(e){return"data:image/svg+xml,"+encodeURIComponent(a.SpinnerSvg(e))};t.DarkColor="rgb(97, 101, 112)",t.LightColor="rgba(255, 255, 255, 0.8)";var l=i.style({background:"rgba(255,255,255,.6)",borderRadius:"15%",boxSizing:"border-box",display:"inline-flex",lineHeight:"normal"}),d={"100%":{transform:"rotate(360deg)"}},u=i.keyframes(d);i.cssRule("@-webkit-keyframes "+u,d);var c={animation:u+" 1s linear infinite",WebkitAnimation:u+" 1s linear infinite",cursor:"wait",margin:"auto",overflow:"hidden"},p=i.style(c);t.Spinner=r.forwardRef((function(e,n){var a=e.alt,d=e.className,u=e.color,c=e.dimension,h=e.showUnderlay,f=e.style,g=o.__rest(e,["alt","className","color","dimension","showUnderlay","style"]),m=o.__assign(o.__assign({},f),h?function(e){return{height:1.3*e,width:1.3*e}}(c):void 0);return r.createElement("div",o.__assign({},g,{className:i.classes(d,h&&l),ref:n,style:m}),r.createElement("img",{alt:a,className:p,src:s("dark"===u?t.DarkColor:t.LightColor),style:{height:c,width:c}}))})),t.Spinner.defaultProps={color:"dark",dimension:50,showUnderlay:!1},t.Spinner.displayName="Spinner"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.conditional=function(e,t){return e?t:void 0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=function(e,t,n){return n<t?NaN:Math.min(Math.max(e,t),n)},t.snapUp=function(e,t){void 0===t&&(t=1);var n=e/t;return Math.abs(Math.floor(n)-n)<1e-11&&(n=Math.floor(n)),Math.ceil(n)*t},t.snapDown=function(e,t){void 0===t&&(t=1);var n=e/t;return Math.abs(Math.ceil(n)-n)<1e-11&&(n=Math.ceil(n)),Math.floor(n)*t},t.truncate=function(e){return e>0?Math.floor(e):Math.ceil(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(2),i=n(4),a=n(7),s=n(33);t.TabListClassName=r.style({backgroundColor:"#f5f5f5",display:"flex",fontSize:12,height:"42px"},a.PreventUserSelect),t.TabButtonClassName=r.style(i.PreFocusIndicator,{backgroundColor:"#f5f5f5",boxSizing:"border-box",display:"inline-block",fontFamily:"inherit",height:"100%",overflow:"hidden",padding:0,position:"relative",$nest:{"&::after":{backgroundColor:"transparent",content:'""',height:3,position:"absolute",bottom:0,left:0,right:0},'&[aria-selected="true"]':{fontWeight:"bold"},"&:hover::after":{backgroundColor:"#d4d4d4"},'&[aria-selected="true"]::after':{backgroundColor:"#666"},"&:focus":o.__assign(o.__assign({},i.DefaultFocusIndicator),{zIndex:1}),"&:active::after":{backgroundColor:"#333"}}}),t.TabContentContainerClassName=r.style({alignItems:"center",color:"#666",display:"flex",height:"100%",justifyContent:"center",paddingLeft:24,paddingRight:24},s.TextEllipsis),t.TabContentClassName=r.style({display:"block"},s.TextEllipsis),t.TabIndicatorClassName=r.style({backgroundColor:"transparent",bottom:0,height:3,position:"absolute",width:"100%"}),t.TabPanelOuterContainerClassName=r.style({overflowY:"auto",padding:18,position:"relative","-webkit-overflow-scrolling":"touch"})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(21);t.Button=o.Button;var r=n(23);t.Checkbox=r.Checkbox;var i=n(24);t.DropdownSelect=i.DropdownSelect;var a=n(11);t.LabeledField=a.LabeledField;var s=n(26);t.Pill=s.Pill;var l=n(28);t.Radio=l.Radio;var d=n(16);t.Spinner=d.Spinner;var u=n(29);t.Stepper=u.Stepper;var c=n(31);t.Tabs=c.Tabs;var p=n(34);t.TextArea=p.TextArea;var h=n(35);t.TextField=h.TextField;var f=n(37);t.TextLink=f.TextLink},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(2),a=n(13);t.Button=r.forwardRef((function(e,t){var n=e.className,s=e.density,l=e.kind,d=o.__rest(e,["className","density","kind"]);return r.createElement("button",o.__assign({},d,{className:i.classes(a.ButtonClassNames[l],n,("lowEmphasis"===l?"high":s)+"-density"),ref:t}))})),t.Button.defaultProps={density:"low",kind:"outline"},t.Button.displayName="Button"},function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var l,d=[],u=!1,c=-1;function p(){u&&l&&(u=!1,l.length?d=l.concat(d):c=-1,d.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=d.length;t;){for(l=d,d=[];++c<t;)l&&l[c].run();c=-1,t=d.length}l=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new f(e,t)),1!==d.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(15);t.Checkbox=r.forwardRef((function(e,t){return r.createElement(i.Selector,o.__assign({},e,{ref:t,type:"checkbox"}))})),t.Checkbox.displayName="Checkbox"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(2),a=n(3),s=n(4),l=n(9),d=n(5),u=n(10),c=n(13),p=n(6),h=n(6),f=n(14),g=i.style({background:"transparent no-repeat right center",border:"none",borderRadius:0,color:a.TextColors.Primary,cursor:"inherit",fontFamily:"inherit",fontSize:"inherit",height:"100%",outline:"none",paddingLeft:h.SidePadding,width:"100%","-moz-appearance":"none","-webkit-appearance":"none",$nest:o.__assign({},l.isIE||l.isEdge?{"&::-ms-expand":{$unique:!0,display:"none"},"&::-ms-value":{$unique:!0,background:"none",color:a.TextColors.Primary},"&:disabled::-ms-value":{$unique:!0,color:a.TextColors.Disabled+" !important"},"&&:focus":o.__assign(o.__assign({},s.DefaultFocusIndicator),{outline:"1px solid "+s.FocusBlue}),"& > option":{color:a.TextColors.Primary}}:{})}),m=i.style({border:"1px solid transparent",borderRadius:1,boxSizing:"border-box",display:"inline-block",height:"0",minHeight:c.ButtonHeight,position:"relative",$nest:{":not(.disabled) > &:hover":{backgroundColor:p.HoverColor},"&&&&:focus-within":o.__assign(o.__assign({$unique:!0},s.DefaultFocusIndicator),{backgroundColor:"transparent"}),"& > select":{backgroundImage:"url('"+f.DropdownArrow.data(a.IconFillColors.Rest)+"')",paddingRight:f.DropdownArrow.width+h.SidePadding},"& > select:disabled":{backgroundImage:"url('"+f.DropdownArrow.data(a.IconFillColors.Disabled)+"')"},"&:hover > select:enabled":{backgroundImage:"url('"+f.DropdownArrow.data(a.IconFillColors.Hover)+"')"},".icon > & > select":{backgroundImage:"url('"+f.IconDropdownArrow.data(a.IconFillColors.Rest)+"')",paddingRight:f.IconDropdownArrow.width+h.SidePadding},".icon > & > select:disabled":{backgroundImage:"url('"+f.IconDropdownArrow.data(a.IconFillColors.Disabled)+"')"},".icon > &:hover > select:enabled":{backgroundImage:"url('"+f.IconDropdownArrow.data(a.IconFillColors.Hover)+"')"},".outline > &":{borderColor:p.BorderColors.Rest},".outline > &:hover":{borderColor:p.BorderColors.Hover},".outline.disabled > &":{borderColor:p.BorderColors.Disabled+" !important"},".line > &":{borderBottomColor:p.BorderColors.Rest,borderBottomLeftRadius:0,borderBottomRightRadius:0},".line > &:hover":{borderBottomColor:p.BorderColors.Hover},".line.disabled > &":{borderBottomColor:p.BorderColors.Disabled+" !important"},".icon > &, .text > &":{cursor:"pointer"},".disabled > &&":{cursor:"default"}}});t.DropdownSelect=r.forwardRef((function(e,t){var n=e.className,a=e.disabled,s=e.id,l=e.label,c=(e.multiple,e.kind),h=o.__rest(e,["className","disabled","id","label","multiple","kind"]),f=u.defaultIfNothing(s,r.useState(d.generateId())[0]);return r.createElement("div",{className:i.classes(p.WrapperStyleName,n,c,{disabled:a})},r.createElement("label",{htmlFor:f,className:i.classes(p.LabelStyleName)},l),r.createElement("div",{className:i.classes(m,n)},r.createElement("select",o.__assign({},h,{className:g,disabled:a,id:f,ref:t}))))})),t.DropdownSelect.defaultProps={kind:"outline"},t.DropdownSelect.displayName="DropdownSelect"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SpinnerSvg=function(e){return'\n<svg viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">\n  <style>\n    #tail { fill: url(#fade) }\n    #head { fill: '+e+" }\n    stop { stop-color: "+e+' }\n  </style>\n  <linearGradient id="fade" x2="50" y1="25" y2="25" gradientUnits="userSpaceOnUse">\n    <stop offset="0" stop-opacity="0"/>\n    <stop offset=".15" stop-opacity=".04"/>\n    <stop offset=".3" stop-opacity=".16"/>\n    <stop offset=".45" stop-opacity=".36"/>\n    <stop offset=".61" stop-opacity=".64"/>\n    <stop offset=".76"/>\n  </linearGradient>\n  <path id="head" d="M0 25a25 25 0 1 0 50 0h-3.9a21.1 21.1 0 1 1-42.2 0" />\n  <path id="tail" d="M50 25a25 25 0 0 0-50 0h3.9a21.1 21.1 0 1 1 42.2 0" />\n</svg>'}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(2),a=n(7),s=n(27),l=n(3),d={ApplicationBlue:"rgb(34, 38, 54)",AttentionDark:"rgb(201, 58, 71)",AttentionLight:"rgb(235, 68, 84)",Continuous:"rgb(0, 177, 128)",ContinuousDark:"rgb(0, 151, 104)",Discrete:"rgb(73, 150, 178)",DiscreteDark:"rgb(54, 126,156)",White90:"rgba(255, 255, 255, 0.9)"},u={backgroundColor:"transparent",color:l.TextColors.Primary};function c(e,t){return{normal:{backgroundColor:e,color:d.White90},dark:{backgroundColor:t,color:d.White90},light:{backgroundColor:s.rgb2rgba(e,.55),borderColor:"transparent",color:l.TextColors.Primary}}}var p={continuous:c(d.Continuous,d.ContinuousDark),discrete:c(d.Discrete,d.DiscreteDark),invalid:c(d.AttentionLight,d.AttentionDark),other:c("#d4d4d4","rgb(84, 84, 84)")},h=i.style(a.PreventUserSelect,{alignItems:"center",borderColor:"transparent",borderRadius:10,borderStyle:"solid",borderWidth:1,boxSizing:"border-box",display:"flex",fontSize:12,height:20,minWidth:150,overflowY:"hidden",padding:"0 10px",$nest:{"&:not(.schema)":{$nest:{"&.continuous":p.continuous.normal,"&.discrete":p.discrete.normal,"&.invalid":p.invalid.normal,"&.other":o.__assign(o.__assign({},p.other.normal),{color:l.TextColors.Primary}),"&:hover":{borderColor:d.ApplicationBlue},"&.continuous.selected":p.continuous.dark,"&.discrete.selected":p.discrete.dark,"&.invalid.selected":p.invalid.dark,"&.other.selected":p.other.dark}},"&.schema":o.__assign(o.__assign({},u),{$nest:{"&.continuous:hover":p.continuous.light,"&.discrete:hover":p.discrete.light,"&.invalid:hover":p.invalid.light,"&.other:hover":p.other.light,"&.continuous.selected":p.continuous.normal,"&.discrete.selected":p.discrete.normal,"&.invalid.selected":p.invalid.normal,"&.other.selected":o.__assign(o.__assign({},p.other.normal),{color:l.TextColors.Primary})}})}});t.Pill=r.forwardRef((function(e,t){var n=e.className,a=e.kind,s=e.schema,l=e.selected,d=o.__rest(e,["className","kind","schema","selected"]);return r.createElement("div",o.__assign({},d,{className:i.classes(h,s&&"schema",l&&"selected",a,n),ref:t}))})),t.Pill.displayName="Pill"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.rgb2rgba=function(e,t){return void 0===t&&(t=1),e.replace(/rgb\(([^)]*)\)/,"rgba($1, "+t+")")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(15);t.Radio=r.forwardRef((function(e,t){return r.createElement(i.Selector,o.__assign({},e,{ref:t,type:"radio"}))})),t.Radio.displayName="Radio"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(2),a=n(3),s=n(17),l=n(5),d=n(18),u=n(30),c=n(10),p=n(6),h=function(e,t){return void 0===e&&(e=a.IconFillColors.Rest),"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="11"><path transform="'+(t?"rotate(180) translate(-18 -11.5)":"translate(0 -1)")+'" fill="'+e+'" d="M6 7.7L8.8 4c.1 0 .3 0 .3.1L12 7.7c0 .1 0 .3-.2.3H6.2C6 8 6 7.8 6 7.7z"/></svg>')+"')"},f=i.style({paddingRight:18,width:"100%",$nest:{":hover > &:enabled":{backgroundColor:p.HoverColor,borderColor:p.BorderColors.Hover},".dark :hover > :enabled":{backgroundColor:"transparent",borderColor:p.InvertBorderColors.Hover}}}),g=i.style({background:"#e6e6e6",boxSizing:"border-box",display:"inline-flex",flexDirection:"column",paddingLeft:1,position:"absolute",width:17,bottom:1,right:1,top:1}),m=i.style({background:"white "+h(a.IconFillColors.Rest)+" no-repeat",backgroundPositionX:"center",boxSizing:"border-box",border:"none",height:"calc(50% - 0.5px)",width:"100%",padding:0,$nest:{"&:enabled:hover":{backgroundImage:h(a.IconFillColors.Hover)},"&:disabled":{backgroundImage:h(a.IconFillColors.Disabled)},"button + &":{backgroundImage:h(a.IconFillColors.Rest,!0),marginTop:1},"button + &:enabled:hover":{backgroundImage:h(a.IconFillColors.Hover,!0)},"button + &:disabled":{backgroundImage:h(a.IconFillColors.Disabled,!0)}}}),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputElement=null,t.inputId=l.generateId(),t.state={inputText:String(t.props.value)},t.handleButtonsFocus=function(){t.inputElement.focus()},t.handleInputBlur=function(e){t.inputElement.parentElement.contains(l.findBlurRelatedTarget(e))||(t.triggerChange(),delete t.keyHandlers.keyup.Escape,t.props.onBlur&&t.props.onBlur(e))},t.handleInputChange=function(e){var n=e.target.value;(t.props.floatingPoint?/^[-+]?[0-9]*\.?[0-9]*$/:/^[-+]?[0-9]*$/).test(n)&&t.setState({inputText:n})},t.handleInputRef=function(e){t.inputElement=e,u.assignRef(t.props.inputRef,e)},t.pageDown=function(){t.stepDown(t.props.step*t.props.pageSteps)},t.pageUp=function(){t.stepUp(t.props.step*t.props.pageSteps)},t.revert=function(){t.triggerChange(t.props.value)},t.stepDown=function(e){void 0===e&&(e=t.props.step),t.triggerChange(d.snapUp(t.props.value,e)-e)},t.stepUp=function(e){void 0===e&&(e=t.props.step),t.triggerChange(d.snapDown(t.props.value,e)+e)},t.triggerChange=function(e){void 0===e&&(e=parseFloat(t.inputElement.value)),t.props.floatingPoint||(e=d.truncate(e));var n=d.clamp(isNaN(e)?t.props.value:e,t.props.min,t.props.max);t.setState({inputText:String(n)},(function(){n!==t.props.value&&t.props.onValueChange&&t.props.onValueChange(n)}))},t.keyHandlers={keydown:Object.freeze({ArrowUp:t.stepUp,ArrowDown:t.stepDown,Home:function(){isFinite(t.props.min)&&t.triggerChange(t.props.min)},End:function(){isFinite(t.props.max)&&t.triggerChange(t.props.max)},Enter:t.triggerChange,Escape:function(){return t.keyHandlers.keyup.Escape=t.revert},PageUp:t.pageUp,PageDown:t.pageDown}),keyup:{}},t.handleKey=function(e){var n=e.key;t.keyHandlers[e.type][n]&&!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)?(t.keyHandlers[e.type][n](),"keyup"===e.type&&delete t.keyHandlers[e.type][n],e.preventDefault(),e.stopPropagation()):"keydown"===e.type&&t.props.onKeyDown?t.props.onKeyDown(e):"keyup"===e.type&&t.props.onKeyUp&&t.props.onKeyUp(e)},t}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e){e.value===this.props.value||isNaN(this.props.value)||this.setState({inputText:String(this.props.value)})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.disabled,a=(e.floatingPoint,e.inputRef,e.label),l=e.min,d=e.max,u=(e.onValueChange,e.pageSteps,e.step,e.value),h=o.__rest(e,["className","disabled","floatingPoint","inputRef","label","min","max","onValueChange","pageSteps","step","value"]),m=c.isNullOrUndefined(this.props.id)?this.inputId:this.props.id;return r.createElement("div",{className:i.classes(t,p.WrapperStyleName)},r.createElement("label",{htmlFor:m,className:i.classes(p.LabelStyleName)},a),r.createElement("div",{style:{minHeight:1,position:"relative"}},r.createElement("input",o.__assign({},h,{"aria-valuemin":s.conditional(isFinite(l),l),"aria-valuemax":s.conditional(isFinite(d),d),"aria-valuenow":this.state.inputText,className:i.classes(p.InputStyleName,f),disabled:n,id:m,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onKeyDown:this.handleKey,onKeyUp:this.handleKey,ref:this.handleInputRef,role:"spinbutton",type:"text",value:n&&isNaN(u)?"":this.state.inputText})),r.createElement("div",{className:g,onFocus:this.handleButtonsFocus,tabIndex:-1},this.renderButton({downButton:!1,disabled:!!n,min:l,max:d,value:u}),this.renderButton({downButton:!0,disabled:!!n,min:l,max:d,value:u}))))},t.prototype.renderButton=function(e){var t=this,n=e.disabled||isNaN(e.value)||(e.downButton?e.value<=e.min:e.value>=e.max);return r.createElement("button",{"aria-hidden":!0,className:m,disabled:n,onClick:function(){return e.downButton?t.stepDown():t.stepUp()},tabIndex:-1})},t.defaultProps={min:-1/0,max:1/0,pageSteps:10,step:1},t}(r.Component);t.Stepper=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.assignRef=function(e,t){!function(e){return"function"==typeof e}(e)?e&&(e.current=t):e(t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(5),a=n(18),s=n(32),l=n(19),d=function(e,t){var n=i.closest(e,'[role="tab"][data-tab-index]');return n?parseInt(n.getAttribute("data-tab-index"),10):t},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id=i.generateId(),t.state={focusedIndex:-1},t.handleBlur=function(e){e.currentTarget.contains(i.findBlurRelatedTarget(e))||t.setFocusedIndex(-1)},t.handleClick=function(e){t.triggerTabChange(d(e.target,t.props.selectedTabIndex))},t.handleKeyDown=function(e){var n=d(e.target,NaN);if(!isNaN(n)){var o=t.getNextTabIndexFromKey(n,e.key);if(!(o<0)){var r="automatic"===t.props.activation||n===o?function(){return t.triggerTabChange(o)}:void 0;n!==o&&e.preventDefault(),e.stopPropagation(),t.setFocusedIndex(o,r)}}},t.handleFocus=function(e){t.setFocusedIndex(d(e.target,t.state.focusedIndex))},t.setFocusedIndex=function(e,n){void 0===n&&(n=function(){return null}),t.state.focusedIndex===e?n():t.setState({focusedIndex:e},n)},t}return o.__extends(t,e),t.prototype.triggerTabChange=function(e){this.props.onTabChange&&e!==this.props.selectedTabIndex&&this.props.onTabChange(e)},t.prototype.getNextTabIndexFromKey=function(e,t){var n=this.props.tabs.length;switch(t){case"ArrowRight":return(e+1)%n;case"ArrowLeft":return(n+e-1)%n;case"Home":return 0;case"End":return n-1;case"Enter":case" ":return e;default:return-1}},t.prototype.buildTabId=function(e){return this.id+"-tab"+(e+1)},t.prototype.buildTabPanelId=function(e){return this.id+"-tabpanel"+(e+1)},t.prototype.renderTabList=function(e,t,n){var o=this,i=100/t.length,a=t.map((function(t,a){return r.createElement(s.Tab,{"aria-controls":o.buildTabPanelId(a),children:t.content,id:o.buildTabId(a),index:a,isFocused:a===o.state.focusedIndex,isSelected:a===e,flexPercent:void 0===n||"justified"===n?i:void 0,key:a,title:t.title})}));return r.createElement("div",{className:l.TabListClassName,children:a,onBlur:this.handleBlur,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,role:"tablist"})},t.prototype.renderTabPanel=function(e,t){return r.createElement("div",{"aria-labelledby":this.buildTabId(e),className:l.TabPanelOuterContainerClassName,id:this.buildTabPanelId(e),role:"tabpanel"},t)},t.prototype.render=function(){var e=this.props,t=(e.activation,e.alignment),n=e.children,i=(e.onTabChange,e.selectedTabIndex),s=e.tabs,l=o.__rest(e,["activation","alignment","children","onTabChange","selectedTabIndex","tabs"]),d=a.clamp(i,0,s.length-1);return r.createElement("div",o.__assign({},l),this.renderTabList(d,s,t),this.renderTabPanel(d,n))},t.defaultProps={activation:"automatic",alignment:"justified",selectedTabIndex:0,tabs:[]},t}(r.PureComponent);t.Tabs=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(17),a=n(5),s=n(19),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tabButtonRef=r.createRef(),t.contentRef=r.createRef(),t.state={title:void 0},t.handleMouseEnter=function(){var e=a.isElementOverflownX(t.contentRef.current)&&t.contentRef.current.textContent||void 0;e!==t.state.title&&t.setState({title:e})},t}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e){var t=this.tabButtonRef.current;this.props.isFocused&&!e.isFocused&&document.documentElement.contains(t)&&t.focus()},t.prototype.render=function(){var e={"aria-controls":this.props["aria-controls"],"aria-selected":this.props.isSelected,className:s.TabButtonClassName,"data-tab-index":this.props.index,id:this.props.id,onMouseEnter:this.handleMouseEnter,ref:this.tabButtonRef,role:"tab",tabIndex:this.props.isSelected||this.props.isFocused?0:-1,title:this.props.title||this.state.title},t=o.__assign({},i.conditional(!!this.props.flexPercent,{flex:"1 0 "+this.props.flexPercent+"%"}));return r.createElement("button",o.__assign({},e,{style:t}),r.createElement("div",{className:s.TabContentContainerClassName},r.createElement("div",{className:s.TabContentClassName,ref:this.contentRef},this.props.children)))},t}(r.PureComponent);t.Tab=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TextEllipsis={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(11),a=n(6);t.TextArea=r.forwardRef((function(e,t){var n=e.className,s=e.label,l=e.labelId,d=e.id,u=e.message,c=e.valid,p=o.__rest(e,["className","label","labelId","id","message","valid"]);return r.createElement(i.LabeledField,o.__assign({},{className:n,disabled:p.disabled,id:d,label:s,labelId:l,message:u,valid:c}),(function(e){return r.createElement("textarea",o.__assign({},e,p,{className:a.InputStyleName,ref:t}))}))})),t.TextArea.displayName="TextArea"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(2),a=n(3),s=n(5),l=n(11),d=n(36),u=n(6),c=function(e){return void 0===e&&(e=a.IconFillColors.Rest),"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"><path fill="'+e+'" d="M7.5 0C5.015 0 3 2.015 3 4.5S5.015 9 7.5 9 12 6.985 12 4.5 9.985 0 7.5 0zm0 8C5.567 8 4 6.433 4 4.5S5.567 1 7.5 1 11 2.567 11 4.5 9.433 8 7.5 8z"/><path fill="'+e+'" d="M5.026 7.858l-3.96 3.96c-.243.243-.641.243-.884 0s-.243-.641 0-.884l3.96-3.96c.243-.243.641-.243.884 0s.243.641 0 .884z"/></svg>')+"')"},p=i.style({$nest:{".line &&&":{borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:"transparent",borderBottomLeftRadius:0,borderBottomRightRadius:0},".line &:disabled":{borderColor:"transparent transparent "+u.BorderColors.Disabled+" !important"},".line.dark &:disabled":{borderColor:"transparent transparent "+u.InvertBorderColors.Disabled+" !important"},".search &":{background:c()+" "+(u.IconSize-12)/2+"px center no-repeat border-box",paddingLeft:u.IconSize-u.BorderWidth+4,$nest:{"&:hover:enabled":{backgroundColor:u.HoverColor},"&:hover:enabled, &:focus":{backgroundImage:c(a.IconFillColors.Hover)},"&:disabled":{backgroundImage:c(a.IconFillColors.Disabled)}}},".dark.search &":{backgroundImage:c(a.InvertIconFillColors.Rest),$nest:{"&:hover:enabled":{backgroundColor:"transparent"},"&:hover:enabled, &:focus":{backgroundImage:c(a.InvertIconFillColors.Hover)},"&:disabled":{backgroundImage:c(a.InvertIconFillColors.Disabled)}}}}}),h=i.style({paddingRight:u.SidePadding+u.IconSize}),f=i.style({minHeight:1,position:"relative"});t.TextField=r.forwardRef((function(e,t){var n=e.className,a=e.kind,c=e.id,g=e.label,m=e.labelId,v=e.message,y=e.onClear,b=e.valid,C=o.__rest(e,["className","kind","id","label","labelId","message","onClear","valid"]),S=C.disabled,_=C.value,w=!!y&&!!_&&!S,I=r.useRef(!1),x=r.useRef(null),T=r.useRef(!1),D=function(e){w&&"Escape"===e.key&&!T.current&&(e.preventDefault(),e.stopPropagation(),e.repeat||"keydown"!==e.type?I.current&&"keyup"===e.type&&(y(),I.current=!1):I.current=!0)},E=function(e){I.current=!1,x.current&&s.findBlurRelatedTarget(e)===x.current&&e.stopPropagation()},k=function(e){return T.current="compositionend"!==e.type},O=function(e){return e.currentTarget.previousElementSibling.focus()};return r.createElement(l.LabeledField,o.__assign({},{className:i.classes(n,a),disabled:S,id:c,label:g,labelId:m,message:v,valid:b}),(function(e){var n;return r.createElement("div",{className:f,onBlurCapture:E,onCompositionEndCapture:k,onCompositionStartCapture:k,onKeyDown:D,onKeyUp:D},r.createElement("input",o.__assign({},e,C,{ref:t,className:i.classes(u.InputStyleName,p,(n={},n[h]=w,n))})),w&&r.createElement(d.TextFieldClearButton,{ref:x,onClick:y,onFocus:O}))}))})),t.TextField.defaultProps={kind:"outline"},t.TextField.displayName="TextField"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(2),a=n(3),s=n(6),l=function(e){return void 0===e&&(e=a.IconFillColors.Rest),"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8"><path fill="'+e+'" d="M4.78873239 4L7.83098592.95774648c.22535211-.22535211.22535211-.56338028 0-.7887324-.22535212-.2253521-.56338029-.2253521-.7887324 0L4 3.21126762.95774648.16901408c-.22535211-.2253521-.56338028-.2253521-.7887324 0-.2253521.22535212-.2253521.56338029 0 .7887324L3.21126762 4 .16901408 7.04225352c-.2253521.22535211-.2253521.56338028 0 .7887324.22535212.22535211.56338029.22535211.7887324 0L4 4.78873239l3.04225352 3.04225353c.22535211.22535211.56338028.22535211.7887324 0 .22535211-.22535212.22535211-.56338029 0-.7887324L4.78873239 4z"/></svg>')+"')"},d=i.style({display:"none",position:"absolute",top:s.BorderWidth,right:s.BorderWidth,width:s.IconSize-s.BorderWidth,bottom:s.BorderWidth,alignItems:"center",justifyContent:"center",$nest:{"input:focus ~ &, input:hover ~ &, &:hover, &:active":{display:"inline-flex"},"&:before":{content:l(a.IconFillColors.Rest),display:"inline-block",height:8,lineHeight:"8px",width:8},"&:hover:before":{content:l(a.IconFillColors.Hover)},".dark &:before":{content:l(a.InvertIconFillColors.Rest)},".dark &:hover:before":{content:l(a.InvertIconFillColors.Hover)}}});t.ClassName="clearButton",t.TextFieldClearButton=r.forwardRef((function(e,n){return r.createElement("div",o.__assign({},e,{ref:n,className:i.classes(t.ClassName,d),tabIndex:-1}))})),t.TextFieldClearButton.displayName="TextFieldClearButton"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),i=n(2),a=n(4);t.TextLinkStyleName=i.style(o.__assign(o.__assign({},a.PreFocusIndicator),{fontWeight:"bold",textDecoration:"none",$nest:{"&:hover":{textDecoration:"underline"},"&:focus":a.DefaultFocusIndicator,"&:active":{textDecoration:"underline"},"&.standard":{color:"#1A699E",$nest:{"&:hover":{color:"#2A79AF"},"&:active":{color:"#15557F"}}},"&.lowEmphasis":{color:"#666666",$nest:{"&:hover":{color:"#707070"},"&:active":{color:"#4F4F4F"}}},"&.standard-dark":{color:"#DCECF9",$nest:{"&:hover":{color:"#AED3EF"},"&:active":{color:"#73B2E2"}}},"&.lowEmphasis-dark":{color:"#EFEFEF",$nest:{"&:hover":{color:"#BDBDBD"},"&:active":{color:"#ABABAB"}}}}})),t.TextLink=r.forwardRef((function(e,n){var a=e.children,s=e.className,l=e.kind,d=o.__rest(e,["children","className","kind"]);return r.createElement("a",o.__assign({},d,{ref:n,className:i.classes(t.TextLinkStyleName,l,s)}),a)})),t.TextLink.defaultProps={kind:"standard"},t.TextLink.displayName="TextLink"}]))},function(e,t,n){var o=n(66),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();e.exports=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(8),a=n(80),s=n(7),l=function(e){function t(t){var n=e.call(this,t)||this;return n.pointerEventAdapter=a.PointerEventAdapterManager.adapterFactory(),n}return o.__extends(t,e),t.prototype.componentDidMount=function(){var e,t;null===(t=(e=this.pointerEventAdapter).didMount)||void 0===t||t.call(e,i.findDOMNode(this),this.props)},t.prototype.componentDidUpdate=function(){var e,t;null===(t=(e=this.pointerEventAdapter).didUpdate)||void 0===t||t.call(e,i.findDOMNode(this),this.props)},t.prototype.componentWillUnmount=function(){this.pointerEventAdapter.willUnmount&&this.pointerEventAdapter.willUnmount()},t.prototype.render=function(){var e=this.pointerEventAdapter.getHtmlAttributes(this.props),t=r.Children.only(this.props.children),n={};return Object.keys(e).forEach((function(o){n[o]=s.mergeEventHandlers(e[o],t.props[o])})),r.cloneElement(t,n)},t}(r.PureComponent);t.PointerEventWrapper=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(0),a=n(11),s={boxSizing:"border-box",position:"relative",margin:0,padding:0,lineHeight:"normal"},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return i.createElement("div",o.__assign(o.__assign({},this.props),{style:o.__assign(o.__assign({},s),this.props.style)}))},t}(r.Component);t.Block=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return i.createElement("div",o.__assign(o.__assign({},this.props),{style:o.__assign(o.__assign(o.__assign({},s),{display:"inline-block"}),this.props.style)}))},t}(r.Component);t.InlineBlock=d;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return i.createElement("img",o.__assign(o.__assign({alt:"",role:"presentation"},this.props),{style:o.__assign(o.__assign(o.__assign({},a.PreventUserSelectSansCursor),{flexShrink:0}),this.props.style)}))},t}(r.Component);t.Img=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TextColors={Primary:"#333",Secondary:"#4f4f4f",Neutral:"#707070",Disabled:"#bfbfbf",Error:"#c93a47",Valid:"#008057"},t.IconFillColors={Rest:"#666",Hover:"#333",Disabled:"#bfbfbf",Error:"#c93a47",Valid:"#008057",Warning:"#FECA56",Info:"#2979B2"},t.TextFieldBorderColors={Rest:"#cbcbcb",Disabled:"#bfbfbf",Hover:"#333",Error:"#c93a47",Valid:"#008057"},t.InvertTextColors={Primary:"#fff",Secondary:"rgba(255, 255, 255, 0.56)",Netural:"rgba(255, 255, 255, 0.56)",Disabled:"rgba(255, 255, 255, 0.35)"},t.InvertIconFillColors={Rest:"rgba(255, 255, 255, 0.5)",Hover:"rgba(255, 255, 255, 0.8)",Disabled:"rgba(255, 255, 255, 0.35)"},t.InvertBorderColors={Rest:"rgba(255, 255, 255, 0.5)",Hover:"#fff",Disabled:"rgba(255, 255, 255, 0.35)"},t.TextFieldHoverColor="#fafafa",t.InteractiveBorderColors=Object.freeze({borderColor:t.TextFieldBorderColors.Rest,$nest:{"&:hover":{borderColor:t.TextFieldBorderColors.Hover},"&:active":{borderColor:t.TextFieldBorderColors.Hover},"&:disabled":{borderColor:""+t.TextFieldBorderColors.Disabled}}}),t.InvertInteractiveBorderColors=Object.freeze({borderColor:t.InvertBorderColors.Rest,$nest:{"&:hover":{borderColor:t.InvertBorderColors.Hover},"&:active":{borderColor:t.InvertBorderColors.Hover},"&:disabled":{borderColor:""+t.InvertBorderColors.Disabled}}})},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=n(9),a=n(83);function s(e){switch(e){case"sun":return r.Sun;case"mon":return r.Mon;case"tue":return r.Tue;case"wed":return r.Wed;case"thu":return r.Thu;case"fri":return r.Fri;case"sat":return r.Sat;default:throw new Error("invalid DayOfWeekNames "+e)}}function l(e,t){var n=new Date(e.getTime());return n.setDate(e.getDate()+t),n}function d(e,t){var n=new Date(e.getTime());return n.getDay()<t?n.setDate(n.getDate()-n.getDay()-7+t):n.setDate(n.getDate()-n.getDay()+t),n}function u(e,t,n){var r=new Date(e.getTime());switch(t){case i.Parsers.parseShortDate:case i.Parsers.parseMediumDate:case i.Parsers.parseLongDate:case i.Parsers.parseFullDate:case i.Parsers.parseShortDateWithFullYear:return n===o.End?r.setHours(24,0,0,-1):r.setHours(0,0,0,0),r;case i.Parsers.parseShortDateTimeWithFullYear:case i.Parsers.parseShortDateTimeWithFullYear24Hour:return n===o.End?r.setSeconds(60,-1):r.setSeconds(0,0),r;default:return r}}!function(e){e[e.Start=0]="Start",e[e.End=1]="End"}(o=t.DateTerminus||(t.DateTerminus={})),function(e){e[e.Sun=0]="Sun",e[e.Mon=1]="Mon",e[e.Tue=2]="Tue",e[e.Wed=3]="Wed",e[e.Thu=4]="Thu",e[e.Fri=5]="Fri",e[e.Sat=6]="Sat"}(r=t.DayOfWeek||(t.DayOfWeek={})),t.getDayOfWeekEnum=s,t.getDateWithDayOffset=l,t.getDateWithMonthOffset=function(e,t){var n=new Date(e.getTime()),o=e.getMonth()+t;return n.setMonth(o),n.getDate()!==e.getDate()&&n.setDate(0),n},t.getDateWithYearOffset=function(e,t){var n=new Date(e.getTime()),o=e.getFullYear()+t;return n.setFullYear(o),n.getMonth()!==e.getMonth()&&n.setDate(0),n},t.getFirstDisplayedDate=function(e,t){var n=new Date(e.getTime());return n.setDate(1),n.getDay()<t?n.setDate(n.getDate()-n.getDay()-7+t):n.setDate(n.getDate()-n.getDay()+t),n},t.areSameDates=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},t.getFirstDayOfMonth=function(e){return new Date(e.getFullYear(),e.getMonth(),1)},t.getLastDayOfMonth=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)},t.getFirstDayOfWeek=d,t.getLastDayOfWeek=function(e,t){var n=new Date(e.getTime());return n.setDate(d(e,t).getDate()+6),n},t.getLocalizedDaysOfWeek=function(e){var t=new Date(2018,6,8);t.setDate(t.getDate()+e);for(var n=[],o=0;o<7;o++)n.push(i.Formatters.formatNarrowDayOfWeek(l(t,o)));return n},t.dateParsingFunctions=[i.Parsers.parseShortDateTimeWithFullYear,i.Parsers.parseShortDateTimeWithFullYear24Hour,i.Parsers.parseShortDateMediumTimeWithFullYear,i.Parsers.parseShortDateMediumTimeWithFullYear24Hour,i.Parsers.parseShortDateTime,i.Parsers.parseMediumDateTime,i.Parsers.parseLongDateTime,i.Parsers.parseFullDateTime,i.Parsers.parseShortDate,i.Parsers.parseMediumDate,i.Parsers.parseLongDate,i.Parsers.parseFullDate,i.Parsers.parseShortDateWithFullYear],t.getDateFormatter=function(e){switch(e){case a.DateFormat.ShortDateTime:return i.Formatters.formatShortDateTime;case a.DateFormat.MediumDateTime:return i.Formatters.formatMediumDateTime;case a.DateFormat.LongDateTime:return i.Formatters.formatLongDateTime;case a.DateFormat.FullDateTime:return i.Formatters.formatFullDateTime;case a.DateFormat.ShortDate:return i.Formatters.formatShortDate;case a.DateFormat.MediumDate:return i.Formatters.formatMediumDate;case a.DateFormat.LongDate:return i.Formatters.formatLongDate;case a.DateFormat.FullDate:return i.Formatters.formatFullDate;case a.DateFormat.ShortDateWithFullYear:return i.Formatters.formatShortDateWithFullYear;case a.DateFormat.ShortDateTimeWithFullYear:return i.Formatters.formatShortDateTimeWithFullYear;case a.DateFormat.ShortDateTimeWithFullYear24Hour:return i.Formatters.formatShortDateTimeWithFullYear24Hour;case a.DateFormat.ShortDateMediumTimeWithFullYear:return i.Formatters.formatShortDateMediumTimeWithFullYear;case a.DateFormat.ShortDateMediumTimeWithFullYear24Hour:return i.Formatters.formatShortDateMediumTimeWithFullYear24Hour;default:throw new Error("Unsupported DateFormat: "+e)}},t.getParsedDate=function(e,n){for(var o=null,r=null,i=0;i<t.dateParsingFunctions.length;i++){var a=t.dateParsingFunctions[i];if(r=a(e)){o=a;break}}return r&&!isNaN(r.getTime())?u(r,o,n):null},t.getDateWithTerminus=u,t.getISOWeekNum=function(e){(e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))).setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));var t=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.valueOf()-t.valueOf())/864e5+1)/7)},t.getStartDayOfWeek=function(e){return e?r.Mon:s(i.LocaleData.get().firstDayOfWeek)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.findIndex=function(e,t,n,o){void 0===n&&(n=0);for(var r=n;r<e.length+n;r++){var i=r%e.length;if(t.call(o,e[i],i))return i}return-1}},function(e,t,n){function o(e,t,n,o){for(var r=n+o;r>=0&&r<e.length;r+=o)if(t(e[r]))return r;return n}function r(e){return!(!e||!e.value||e.separator||e.group)}function i(e){return!!e&&!e.disabled&&r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.findFocusableItemIndex=function(e,t,n){return o(e,r,t,n)},t.findSelectableItemIndex=function(e,t,n){return o(e,i,t,n)},t.findIndexOfItemWithValue=function(e,t){return o(e,(function(e){return!!t&&!e.group&&e.value===t}),-1,1)},t.isFocusableItem=r,t.isSelectableItem=i;var a=function(e,t){return r(e)&&e.value.toLowerCase().indexOf(t.toLowerCase())>=0};t.standardItemFilter=function(e,t,n){return void 0===n&&(n=a),e.filter((function(e){return e.group||e.separator||n(e,t)})).filter((function(e,t,n){return!(e.separator&&t>0&&n[t-1].separator)})).filter((function(e,t,n){return!(e.separator&&(0===t||t===n.length-1))}))}},function(e,t,n){e.exports=n(264)()},function(e,t,n){var o=n(65),r=n(127),i=n(128),a="[object Null]",s="[object Undefined]",l=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:l&&l in Object(e)?r(e):i(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(8),a=n(2),s=n(185),l=n(7);function d(e,t){var n=document.getElementById(e)||t||document.body;if(!n)throw new Error("Could not find stacking root.");return n}t.StackingRootContext=r.createContext(null),t.StackingRootContext.displayName="StackingRootContext";var u=function(e){function n(t,n){var o=e.call(this,t)||this,r=t.stackingRootId;return r&&console.warn("`stackingRootId` is deprecated and no longer necessary for the vast majority of cases."),o.stackingRoot=d(r,n),o.mountPoint=document.createElement("div"),o.mountPoint.style.position="absolute",o.mountPoint.style.top="0",o.mountPoint.style.left="0",o.updateMountPoint(),o}return o.__extends(n,e),n.prototype.componentDidMount=function(){this.stackingRoot.appendChild(this.mountPoint)},n.prototype.componentDidUpdate=function(e){var t=this.props,n=t.stackingRootId,o=t.wrapperTestId,r=t.zIndex,i=d(n,this.context);i!==this.stackingRoot&&(this.stackingRoot=i,this.stackingRoot.appendChild(this.mountPoint)),o===e.wrapperTestId&&r===e.zIndex||this.updateMountPoint()},n.prototype.componentWillUnmount=function(){this.stackingRoot.removeChild(this.mountPoint)},n.prototype.getMountPoint=function(){return this.mountPoint},n.prototype.getStackingRoot=function(){return this.stackingRoot},n.prototype.updateMountPoint=function(){this.mountPoint.style.zIndex=""+this.props.zIndex,this.mountPoint.setAttribute("data-tb-test-id",a.makeTestId(this.props.wrapperTestId,"Root"))},n.prototype.render=function(){return i.createPortal(r.createElement(t.StackingRootContext.Provider,{value:this.mountPoint},r.createElement(s.PortalEventTrap,o.__assign({},this.props.portalEventTrapOverrides,{children:this.props.children}))),this.mountPoint)},n}(r.Component);t.StackingComponentWrapper=u,u.contextType=t.StackingRootContext,t.StackingComponentHOC=function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return r.createElement(u,o.__assign({},this.props,{children:e.prototype.render.call(this)}))},t}(l.convertToStatefulComponentClass(e));return t.displayName="StackingComponentHOC("+l.getComponentName(e)+")",t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),r=function(){try{return window.top.innerWidth,window.top}catch(e){return window}}();function i(){var e=document.documentElement.getBoundingClientRect();return{top:-e.top,left:-e.left}}t.getElementPositionRelativeToLayoutViewport=function(e){return e.getBoundingClientRect()},t.getLayoutViewportPositionRelativeToPage=i,t.getLayoutViewportSize=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},t.getVisualViewportRectRelativeToLayoutViewport=function(){var e=s(),t={left:e.offsetLeft,top:e.offsetTop},n={width:e.width,height:e.height};return o.makeClientRect(t,n)};var a=function(){function e(){}return Object.defineProperty(e.prototype,"offsetLeft",{get:function(){var e=i();return r.pageXOffset-e.left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetTop",{get:function(){var e=i();return r.pageYOffset-e.top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageLeft",{get:function(){return r.pageXOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageTop",{get:function(){return r.pageYOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return r.innerWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return r.innerHeight},enumerable:!0,configurable:!0}),e}();function s(){return"visualViewport"in r?r.visualViewport:new a}t.getVisualViewport=s},function(e,t,n){function o(e){return{top:e.top+e.height/2,left:e.left+e.width/2}}function r(e,t){return{top:e.top,left:e.left,bottom:e.top+t.height,right:e.left+t.width,width:t.width,height:t.height}}Object.defineProperty(t,"__esModule",{value:!0}),t.computeCenter=o,t.subtractPositions=function(e,t){return{top:e.top-t.top,left:e.left-t.left}},t.getMaxWidthAndHeight=function(e,t){return{width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)}},t.computePositionToCenterAreaInBounds=function(e,t){var n=o(t);return{top:n.top-e.height/2,left:n.left-e.width/2}},t.computePositionToContainBounds=function(e,t){var n=t.top+t.height,o=t.left+t.width;return{top:Math.max(t.top,Math.min(e.top,n-e.height)),left:Math.max(t.left,Math.min(e.left,o-e.width))}},t.makeClientRect=r,t.doesRectangleContainPoint=function(e,t){return t.left>=e.left&&t.left<=e.left+e.width&&t.top>=e.top&&t.top<=e.top+e.height},t.addClientRectLeft=function(e,t){return r({left:e.left+t,top:e.top},{width:e.width-t,height:e.height})},t.addClientRectRight=function(e,t){return r({left:isNaN(t)?NaN:e.left,top:e.top},{width:e.width+t,height:e.height})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(11),i=n(3),a=i.TabStyles.Colors,s=i.TabStyles.Typography,l=i.TabStyles.Sizing,d=i.TabStyles.Spacing;t.datePickerWidgetStyle=o.__assign({backgroundColor:"white",borderColor:a.L5,borderRadius:l.BorderRadius,borderStyle:"solid",borderWidth:l.BorderWidth,boxSizing:"border-box",color:s.Color.Primary,display:"inline-block",fontSize:s.Sizing.Default,lineHeight:"normal",padding:d.DefaultSpace},r.PreventUserSelect),t.datePickerHeaderStyle={borderBottom:"1px solid "+a.F4,paddingBottom:d.DefaultSpace},t.datePickerBodyStyle={marginTop:d.DefaultSpace,marginBottom:d.DefaultSpace},t.datePickerDayOfWeekHeaderStyle={marginTop:d.DefaultSpace},t.datePickerButtonStyle={marginBottom:d.DefaultSpace};var u={alignItems:"center",borderRadius:1,boxSizing:"border-box",color:s.Color.Primary,display:"inline-flex",height:"30px",justifyContent:"center",width:"30px"};t.datePickerCellStyles={dayOfWeekColHeader:o.__assign(o.__assign({},u),{fontWeight:"bold"}),default:o.__assign({},u),disabled:{textDecoration:"line-through"},inOtherMonths:o.__assign(o.__assign({},u),{color:s.Color.Disabled}),isoWeekNum:o.__assign(o.__assign({},u),{fontWeight:"bold",marginRight:d.DefaultSpace}),isoWeekNumColHeader:o.__assign(o.__assign({},u),{fontWeight:"bold",marginRight:d.DefaultSpace}),selected:o.__assign(o.__assign({},u),{backgroundColor:a.F4}),today:o.__assign(o.__assign({},u),{borderColor:a.GoLight,borderRadius:l.BorderRadius,borderStyle:"solid",borderWidth:l.BorderWidth}),todaySelected:o.__assign(o.__assign({},u),{backgroundColor:a.F8,color:a.White})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.TextEllipsis={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(10),i=n(16),a=n(3),s={w:Math.ceil(r.SliderHandleIcon.width/2),h:Math.ceil(r.SliderHandleIcon.height/2)},l=40/2,d=40/2;t.getSliderTrackStyles=function(){var e={Track:{position:"absolute",left:s.w,right:s.w,backgroundColor:a.TabStyles.Colors.L3,height:4,top:18},RangeIndicatorBar:{position:"absolute",top:0,bottom:0,backgroundColor:a.TabStyles.Colors.L7},DataBar:{position:"absolute",top:0,bottom:0,backgroundColor:a.TabStyles.Colors.L8}};return o.__assign(o.__assign({},e),{RangeIndicatorBarDarkened:o.__assign(o.__assign({},e.RangeIndicatorBar),{backgroundColor:a.TabStyles.Colors.L8}),RangeIndicatorBarFocused:o.__assign(o.__assign({},e.RangeIndicatorBar),{backgroundColor:a.TabStyles.Colors.Focus,boxShadow:i.DefaultFocusIndicator.boxShadow}),DataBarDarkened:o.__assign(o.__assign({},e.DataBar),{backgroundColor:a.TabStyles.Colors.L9}),DataBarFocused:o.__assign(o.__assign({},e.DataBar),{backgroundColor:"rgb(24, 71, 102)",boxShadow:i.DefaultFocusIndicator.boxShadow})})},t.getSliderTickBarStyles=function(){return{Bar:{position:"absolute",left:s.w,right:s.w+1,height:4,top:3},Tick:{position:"absolute",borderLeft:"solid 1px "+a.TabStyles.Colors.L6,height:4,width:0}}},t.getSliderHandleStyles=function(){var e={PositioningContainer:{position:"absolute"},PressIndicationBar:{position:"absolute",borderLeft:"solid 2px "+a.TabStyles.Colors.L9,marginLeft:-1,width:0,height:16,top:-3},HandleInteractiveArea:{position:"absolute",touchAction:"none",width:r.SliderHandleIcon.width,height:r.SliderHandleIcon.height,boxSizing:"content-box",paddingTop:d-s.h,paddingBottom:d-s.h,paddingLeft:l-s.w,paddingRight:l-s.w,marginLeft:-1*l,WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},HandleIcon:{position:"absolute",touchAction:"none",cursor:"pointer",width:r.SliderHandleIcon.width,height:r.SliderHandleIcon.height,marginLeft:-1*s.w,marginTop:d-s.h,outline:"none",WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTapHighlightColor:"transparent"}};return o.__assign(o.__assign({},e),{HandleInteractiveAreaLeft:o.__assign(o.__assign({},e.HandleInteractiveArea),{paddingLeft:e.HandleInteractiveArea.paddingLeft-5,paddingRight:e.HandleInteractiveArea.paddingRight+5}),HandleInteractiveAreaRight:o.__assign(o.__assign({},e.HandleInteractiveArea),{paddingLeft:e.HandleInteractiveArea.paddingLeft+6,paddingRight:e.HandleInteractiveArea.paddingRight-4}),HandleIconLeft:o.__assign(o.__assign({},e.HandleIcon),{marginLeft:e.HandleIcon.marginLeft-5}),HandleIconRight:o.__assign(o.__assign({},e.HandleIcon),{marginLeft:e.HandleIcon.marginLeft+6}),DisabledHandleMixin:{touchAction:void 0},DisabledHandleInnerFocusAreaMixin:{touchAction:void 0,cursor:void 0}})},t.getSliderHandleContainerStyles=function(){return{Container:{position:"absolute",top:0,bottom:0,left:0,right:0,marginLeft:s.w+1,marginRight:s.w},RangeHandleArea:{position:"absolute",cursor:"pointer",height:r.SliderHandleIcon.height,outline:"none",top:d-s.h}}},t.getSliderStyles=function(){return{OuterContainer:{paddingLeft:14,paddingRight:14,WebkitTapHighlightColor:"transparent",TapHighlightColor:"transparent"},TrackAndHandleContainer:{position:"relative",height:40}}}},function(e,t,n){var o=n(115),r=n(116),i=n(117),a=n(118),s=n(119);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var o=n(36);e.exports=function(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var o=n(46)(Object,"create");e.exports=o},function(e,t,n){var o=n(142);e.exports=function(e,t){var n=e.__data__;return o(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.suppressionClassName=void 0,e}();t.ClickBustingConfig=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=n(1),a=n(81),s=n(0),l=n(8),d=n(11),u=n(3),c=n(15),p=n(2),h=n(30),f=n(56),g=n(41),m=n(210),v=n(14),y=n(211),b=n(29),C=n(212),S=n(213),_=n(214);!function(e){e[e.Centered=0]="Centered",e[e.Maximized=1]="Maximized",e[e.Draggable=2]="Draggable",e[e.Anchored=3]="Anchored"}(o=t.DialogPositioningBehavior||(t.DialogPositioningBehavior={})),function(e){e[e.NormalWithTitleBar=0]="NormalWithTitleBar",e[e.NormalWithoutTitleBar=1]="NormalWithoutTitleBar",e[e.Uber=2]="Uber",e[e.LightweightTitleBar=3]="LightweightTitleBar"}(t.DialogType||(t.DialogType={})),function(e){e.NotResizable="not-resizable",e.Horizontal="horizontal",e.Vertical="vertical",e.Both="both"}(r=t.DialogUserResizeMode||(t.DialogUserResizeMode={})),t.SharedWidgetsDialogLabel="SharedWidgetsDialogLabel";var w=500,I=100,x=0,T=function(e){function n(t){var n=e.call(this,t)||this;return n.dialogResizingEventCapturer=null,n.throttledHandleAdjustPositionOnResize=a((function(){return n.handleAdjustPositionOnResize()}),I),n.handleAdjustPositionOnResize=function(){n.props.shouldAdjustPositionOnWindowResize&&(n.sizingWrapper&&n.sizingWrapper.updateSize(),n.repositionDialog())},n.startResizing=function(e){if(e.target===e.currentTarget){e.preventDefault();var t=n.floaterWidget.getFloaterClientRect(),o=e.currentTarget.getAttribute("data-cardinal");n.dialogResizingEventCapturer=new f.GlobalPointerEventCapturer(l.findDOMNode(n.sizingWrapper),(function(e){return n.resizeDialog(e,t,o)}),n.stopResizing),n.dialogResizingEventCapturer.addListeners(),n.setState({isResizing:!0})}},n.stopResizing=function(){var e;null===(e=n.dialogResizingEventCapturer)||void 0===e||e.removeListeners(),n.dialogResizingEventCapturer=null,n.setState({isResizing:!1}),n.props.onUserResizeEnd&&n.props.onUserResizeEnd(n.state.width,n.state.height)},n.handleFloaterWidgetRef=function(e){n.floaterWidget=e},n.handleOverlayRef=function(e){n.overlay=e},n.handleSizingWrapperRef=function(e){n.sizingWrapper=e},n.getDialogFloaterClientRect=function(){if(n.floaterWidget)return n.floaterWidget.getFloaterClientRect();throw new Error("Can't get draggable size of non-draggable dialog")},n.dragBoundedDialogFloaterPosition=function(e){n.state.hasBeenDragged||n.setState({hasBeenDragged:!0}),n.floaterWidget&&n.floaterWidget.setPosition(n.getBoundedFloaterPos(e))},n.handleOrientationChange=function(){if(n.resizeAndRepositionTimeoutId)return clearTimeout(n.resizeAndRepositionTimeoutId),void(n.resizeAndRepositionTimeoutId=window.setTimeout(n.resizeAndRepositionCallback,w));n.hideDialogAndThen((function(e){n.forceRepaintHack(),n.resizeAndRepositionCallback=function(){n.resizeAndRepositionTimeoutId=null,n.resizeAndRepositionCallback=null,n.sizingWrapper.updateSize(),e&&e(),n.repositionDialog()},n.resizeAndRepositionTimeoutId=window.setTimeout(n.resizeAndRepositionCallback,w)}))},n.getAnchorClientRect=function(){return n.props.getAnchorClientRect?n.props.getAnchorClientRect():n.props.anchorEl?n.props.anchorEl.getBoundingClientRect():void 0},n.handleGlassEscape=function(){n.props.onCloseRequest()},n.instanceId=x++,n.state={hasBeenDragged:!1,height:t.dialogHeight,isResizing:!1,width:t.dialogWidth},n}return i.__extends(n,e),n.prototype.addResizeEventListener=function(){window.addEventListener("resize",this.throttledHandleAdjustPositionOnResize)},n.prototype.removeResizeEventListener=function(){window.removeEventListener("resize",this.throttledHandleAdjustPositionOnResize)},n.prototype.resizeDialog=function(e,t,n){e.preventDefault();var o=this.props,r=o.dialogMinHeight,i=o.dialogMinWidth,a={top:t.top,left:t.left},s={height:t.height,width:t.width},l=g.clamp(e.clientY,0,document.documentElement.clientHeight),d=g.clamp(e.clientX,0,document.documentElement.clientWidth);n.indexOf("s")>=0?s.height=Math.max(l-t.top,r):n.indexOf("n")>=0&&(s.height=t.bottom-l,s.height>=r?a.top=l:(s.height=r,a.top=t.bottom-s.height)),n.indexOf("e")>=0?s.width=Math.max(d-t.left,i):n.indexOf("w")>=0&&(s.width=t.right-d,s.width>=i?a.left=d:(s.width=i,a.left=t.right-s.width)),this.floaterWidget&&(this.floaterWidget.setPosition(a),this.setState(s))},n.prototype.repositionDialog=function(){switch(this.props.positioningBehavior){case o.Centered:case o.Maximized:this.floaterWidget.centerInVisualViewport();break;case o.Draggable:this.state.hasBeenDragged?this.repositionDraggedDialog():this.floaterWidget.centerInVisualViewport();break;case o.Anchored:this.overlay&&this.overlay.setPlacement();break;default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}},n.prototype.saveDraggedDialogPositionBeforeHide=function(){this.dragPositionBeforeHide=this.getDialogFloaterClientRect()},n.prototype.repositionDraggedDialog=function(){var e;this.dragPositionBeforeHide?(e=this.dragPositionBeforeHide,this.dragPositionBeforeHide=void 0):e=this.getDialogFloaterClientRect(),this.floaterWidget.setPosition(this.getBoundedFloaterPos(e))},n.prototype.hideDialogAndThen=function(e){var t=function(){};switch(this.props.positioningBehavior){case o.Centered:case o.Maximized:this.floaterWidget.setPosition({top:-1e4,left:-1e4});break;case o.Draggable:this.saveDraggedDialogPositionBeforeHide(),this.floaterWidget.setPosition({top:-1e4,left:-1e4});break;case o.Anchored:var n=l.findDOMNode(this.sizingWrapper),r=n.style.display;n.style.display="none",t=function(){n.style.display=r};break;default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}e(t)},n.prototype.forceRepaintHack=function(){var e=l.findDOMNode(this),t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t},n.prototype.getBoundedFloaterPos=function(e){var t=this.floaterWidget.getFloaterClientRect(),n={top:e.top,left:e.left,width:t.width,height:t.height},o=b.getVisualViewport(),r={top:0,left:0,width:o.width,height:o.height};return h.computePositionToContainBounds(n,r)},n.prototype.getPositionedDialogElem=function(e){switch(this.props.positioningBehavior){case o.Centered:case o.Draggable:case o.Maximized:var t=p.makeTestId(this.props.testId,"Dialog");return s.createElement(C.FloaterWidget,{portalEventTrapOverrides:this.props.portalEventTrapOverrides,testId:t,stackingRootId:this.props.stackingRootId,ref:this.handleFloaterWidgetRef,zIndex:this.props.zIndex,shouldRecenterOnUpdate:!!this.props.shouldRecenterOnUpdate&&!this.state.hasBeenDragged,wrapperTestId:p.makeTestId(t,"Floater"),children:e});case o.Anchored:var n={portalEventTrapOverrides:this.props.portalEventTrapOverrides,getAnchorClientRect:this.getAnchorClientRect,anchorOrigin:this.props.anchorOrigin||{vertical:v.VerticalOriginOption.bottom,horizontal:v.HorizontalOriginOption.left},stackedOrigin:this.props.stackedOrigin||{vertical:v.VerticalOriginOption.top,horizontal:v.HorizontalOriginOption.left},stackingRootId:this.props.stackingRootId,allowAutoPosition:!0,zIndex:this.props.zIndex,leftFromOverlaidPosition:this.props.dialogStyle?parseFloat(this.props.dialogStyle.left)||0:void 0,topFromOverlaidPosition:this.props.dialogStyle?parseFloat(this.props.dialogStyle.top)||0:void 0};return s.createElement(v.Overlay,i.__assign({},n,{ref:this.handleOverlayRef,children:e}));default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}},n.prototype.getGlassElem=function(){var e=p.makeTestId(this.props.testId,"Dialog");return s.createElement(S.GlassWidget,{testId:e,handleClick:this.props.handleGlassClick,isTransparent:this.props.isGlassTransparent,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex,handleEscape:this.handleGlassEscape,wrapperTestId:p.makeTestId(e,"Glass")})},n.prototype.componentDidMount=function(){this.props.initialPosition&&this.props.positioningBehavior===o.Draggable&&this.floaterWidget.setPosition(this.getBoundedFloaterPos(this.props.initialPosition)),m.OrientationChange.addListener(this.handleOrientationChange),this.props.shouldAdjustPositionOnWindowResize&&this.addResizeEventListener()},n.prototype.componentDidUpdate=function(e){this.props.shouldAdjustPositionOnWindowResize!==e.shouldAdjustPositionOnWindowResize&&(this.removeResizeEventListener(),this.props.shouldAdjustPositionOnWindowResize&&this.addResizeEventListener()),this.resizeDialogIfResizeModeChanged(e.userResizeMode,this.props.userResizeMode)},n.prototype.resizeDialogIfResizeModeChanged=function(e,t){("horizontal"===e||"both"===e)!==("horizontal"===t||"both"===t)&&this.setState({width:this.props.dialogWidth}),("vertical"===e||"both"===e)!==("vertical"===t||"both"===t)&&this.setState({height:this.props.dialogHeight})},n.prototype.componentWillUnmount=function(){m.OrientationChange.removeListener(this.handleOrientationChange),this.removeResizeEventListener(),this.dialogResizingEventCapturer&&this.dialogResizingEventCapturer.removeListeners()},n.prototype.render=function(){void 0===this.props.title&&console.warn("DialogWidget: 'title' prop should be defined");var e=s.createElement(y.ViewportConstrainedDomWrapper,{isMaximized:this.props.positioningBehavior===o.Maximized,horizontalMargins:40,verticalMargins:40,style:i.__assign(i.__assign(i.__assign({},i.__assign({backgroundColor:u.TabStyles.Colors.White,borderColor:u.TabStyles.Colors.L5,borderRadius:u.TabStyles.Sizing.BorderRadius,borderStyle:"solid",borderWidth:u.TabStyles.Sizing.BorderWidth,boxShadow:u.TabStyles.Shadow.Standard,cursor:"default",display:"flex",flexDirection:"column"},c.isIE&&{overflowY:"auto"})),this.props.dialogStyle),{width:this.state.width,height:this.state.height}),ref:this.handleSizingWrapperRef,testId:p.conditional(this.props.positioningBehavior===o.Anchored,p.makeTestId(this.props.testId,"Dialog"))},s.createElement(_.DialogContent,i.__assign({},this.props,{dialogContentStyle:i.__assign(i.__assign({},this.props.dialogContentStyle),this.state.isResizing&&{pointerEvents:"none"}),id:""+t.SharedWidgetsDialogLabel+this.instanceId,getDraggableDialogClientRect:this.getDialogFloaterClientRect,setDraggableDialogPosition:this.dragBoundedDialogFloaterPosition,testId:p.makeTestId(this.props.testId,"Dialog")})),this.props.userResizeMode!==r.NotResizable&&this.renderResizeHandles());return s.createElement("div",{style:{display:"none"}},p.conditional(this.props.isModal,this.getGlassElem()),this.getPositionedDialogElem(e))},n.prototype.renderResizeHandles=function(){var e=this.props.userResizeMode;return s.createElement(s.Fragment,null,(e===r.Vertical||e===r.Both)&&s.createElement(s.Fragment,null,s.createElement(k,{"data-cardinal":"n",onMouseDown:this.startResizing,style:{top:-3}}),s.createElement(k,{"data-cardinal":"s",onMouseDown:this.startResizing,style:{bottom:-3}})),(e===r.Horizontal||e===r.Both)&&s.createElement(s.Fragment,null,s.createElement(O,{"data-cardinal":"w",onMouseDown:this.startResizing,style:{left:-3}}),s.createElement(O,{"data-cardinal":"e",onMouseDown:this.startResizing,style:{right:-3}})),e===r.Both&&s.createElement(s.Fragment,null,s.createElement(P,{"data-cardinal":"nw",onMouseDown:this.startResizing,style:{top:-3,left:-3,cursor:"nwse-resize"}}),s.createElement(P,{"data-cardinal":"se",onMouseDown:this.startResizing,style:{bottom:-3,right:-3,cursor:"nwse-resize"}}),s.createElement(P,{"data-cardinal":"ne",onMouseDown:this.startResizing,style:{top:-3,right:-3,cursor:"nesw-resize"}}),s.createElement(P,{"data-cardinal":"sw",onMouseDown:this.startResizing,style:{bottom:-3,left:-3,cursor:"nesw-resize"}})))},n.defaultProps={dialogMinHeight:100,dialogMinWidth:100,userResizeMode:r.NotResizable},n}(s.Component);t.DialogWidget=T;var D=function(e){return e.preventDefault()},E=function(e){return s.createElement("div",i.__assign({},e,{onTouchStart:D,style:i.__assign(i.__assign(i.__assign({},d.PreventUserSelect),{position:"absolute"}),e.style)}))};E.displayName="ResizeHandle";var k=function(e){return s.createElement(E,i.__assign({},e,{style:i.__assign({cursor:"ns-resize",left:0,right:0,height:8},e.style)}))};k.displayName="VerticalResizeHandle";var O=function(e){return s.createElement(E,i.__assign({},e,{style:i.__assign({cursor:"ew-resize",top:0,bottom:0,width:8},e.style)}))};O.displayName="HorizontalResizeHandle";var P=function(e){return s.createElement(E,i.__assign({},e,{style:i.__assign({height:8,width:8},e.style)}))};P.displayName="CornerResizeHandle"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=function(e,t,n){return n<t?NaN:Math.min(Math.max(e,t),n)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(8),a=n(6),s=n(3),l=n(5),d=n(89),u=n(14),c=n(90),p={vertical:u.VerticalOriginOption.bottom,horizontal:u.HorizontalOriginOption.left},h=s.TabStyles.Spacing,f=s.TabStyles.Sizing,g=s.TabStyles.Colors,m=s.TabStyles.Shadow;t.FlyoutListMenuStyles={backgroundColor:"white",borderColor:g.L6,borderRadius:f.BorderRadius,borderStyle:"solid",borderWidth:f.BorderWidth,boxShadow:m.Standard};var v=function(e){function n(t){var n=e.call(this,t)||this;return n.flyoutDomNode=null,n.searchDomNode=null,n.listWidgetInstance=null,n.handleSearchEscape=function(){n.state.searchString?n.setState({searchString:""}):n.props.requestCloseAll()},n.handleCancelSearch=function(){n.setState({searchString:void 0})},n.handleSearchChanged=function(e){n.setState({searchString:e})},n.handleSearchEnter=function(){n.listWidgetInstance&&n.listWidgetInstance.selectActive()},n.getFilteredMenuItems=function(){return n.state.searchString?n.props.menuItemInfos.filter((function(e){return e.isDivider||e.keyboardAccessibleValue&&e.keyboardAccessibleValue.toUpperCase().indexOf(n.state.searchString.toUpperCase())>=0})).filter((function(e,t,n){return!(e.isDivider&&t>0&&n[t-1].isDivider)})).filter((function(e,t,n){return!(e.isDivider&&(0===t||t===n.length-1))})):n.props.menuItemInfos},n.handleKeyDown=function(e){switch(e.key){case"ArrowUp":case"ArrowDown":if(!("search"===n.state.focusLocation&&n.getFilteredMenuItems().length>0))return;n.setState({focusLocation:"list"});break;case"Tab":"search"===n.state.focusLocation?n.getFilteredMenuItems().length>0&&n.setState({focusLocation:"list"}):n.props.__UNSUPPORTED__showSearchField&&n.setState({focusLocation:"search"});break;default:return}e.preventDefault(),e.stopPropagation()},n.setSearchDomNode=function(e){n.searchDomNode=e},n.handleListRef=function(e){n.listWidgetInstance=e},n.setFlyoutDomNode=function(e){n.flyoutDomNode=e},n.handleFocus=function(e){var t=e.target,o=n.getListDomNode(),r=n.state.focusLocation;n.searchDomNode&&n.searchDomNode.contains(t)?r="search":o&&o.contains(t)&&(r="list"),n.state.focusLocation!==r&&n.setState({focusLocation:r})},n.getAnchorClientRect=function(){return n.props.getAnchorClientRect?n.props.getAnchorClientRect():n.props.anchorEl?n.props.anchorEl.getBoundingClientRect():void 0},n.state={searchString:"",focusLocation:n.props.__UNSUPPORTED__showSearchField?"search":"list"},n}return o.__extends(n,e),n.prototype.componentDidMount=function(){this.flyoutDomNode&&(this.unsubscribeFlyoutFromGlobalListener=d.GlobalPointerDownOutsideListener.subscribe(this.flyoutDomNode,this.props.requestCloseAll)),this.props.toggleEl&&(this.unsubscribeToggleElFromGlobalListener=d.GlobalPointerDownOutsideListener.subscribe(this.props.toggleEl,this.props.requestCloseAll)),this.syncFocus()},n.prototype.componentDidUpdate=function(){this.syncFocus()},n.prototype.componentWillUnmount=function(){this.unsubscribeFlyoutFromGlobalListener&&this.unsubscribeFlyoutFromGlobalListener(),this.unsubscribeToggleElFromGlobalListener&&this.unsubscribeToggleElFromGlobalListener(),this.props.toggleEl&&this.props.shouldReturnFocusToToggleEl&&l.timeoutFocus(this.props.toggleEl)},n.prototype.syncFocus=function(){if("list"===this.state.focusLocation){var e=this.getListDomNode();e&&e.focus()}else"search"===this.state.focusLocation&&this.searchDomNode&&this.searchDomNode.focus()},n.prototype.getListDomNode=function(){return i.findDOMNode(this.listWidgetInstance)},n.prototype.renderSearchField=function(){if(this.props.__UNSUPPORTED__showSearchField)return r.createElement(a.SearchFieldWidget,{containerStyle:{margin:h.SmallSpace,marginBottom:h.DefaultSpace},handleCancelSearch:this.handleCancelSearch,handleChange:this.handleSearchChanged,handleEnter:this.handleSearchEnter,handleEscape:this.handleSearchEscape,inputRef:this.setSearchDomNode,placeholder:this.props.__UNSUPPORTED__searchDefaultText,shouldSelectTextOnFocus:!1,testId:"flyout-search",text:this.state.searchString})},n.prototype.render=function(){this.props.__UNSUPPORTED__searchDefaultText&&console.warn("__UNSUPPORTED__searchDefaultText is an unsupported/deprecated prop and should not be used"),this.props.__UNSUPPORTED__showSearchField&&console.warn("__UNSUPPORTED__showSearchField is an unsupported/deprecated prop and should not be used");var e={allowAutoPosition:this.props.allowAutoPosition,anchorOrigin:this.props.anchorOrigin||p,getAnchorClientRect:this.getAnchorClientRect,handleScrollOnScrollingRoot:this.props.handleScrollOnScrollingRoot,leftFromOverlaidPosition:this.props.leftFromOverlaidPosition,scrollingRootId:this.props.scrollingRootId,shouldAutoPositionOnScrollingRootScroll:this.props.shouldAutoPositionOnScrollingRootScroll,stackedOrigin:this.props.stackedOrigin,stackingRootId:this.props.stackingRootId,topFromOverlaidPosition:this.props.topFromOverlaidPosition,zIndex:this.props.zIndex},n={onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onMouseEnter:this.props.onMouseEnter,ref:this.setFlyoutDomNode,style:o.__assign(o.__assign({},t.FlyoutListMenuStyles),this.props.menuStyle)},i={__INTERNAL__focusIndex:this.props.__INTERNAL__focusIndex,focusDisabled:"search"===this.state.focusLocation,id:this.props.id,letterSearchDisabled:this.props.__UNSUPPORTED__showSearchField,maxHeight:this.props.maxHeight,menuItemInfos:this.getFilteredMenuItems(),onEscapeKeyUp:this.props.onEscapeKeyUp,onLeftArrowKeyDown:this.props.onLeftArrowKeyDown,onSelect:this.props.onSelect,requestCloseAll:this.props.requestCloseAll,role:this.props.role,scrollingRootId:this.props.scrollingRootId,stackingRootId:this.props.stackingRootId,subMenuAllowAutoPosition:this.props.allowAutoPosition,subMenuShouldAutoPositionOnScrollingRootScroll:this.props.shouldAutoPositionOnScrollingRootScroll,testId:this.props.testId,zIndex:this.props.zIndex};return r.createElement(u.Overlay,o.__assign({},e),r.createElement("div",o.__assign({},n),this.renderSearchField(),r.createElement(c.ListMenuWidget,o.__assign({},i,{ref:this.handleListRef}))))},n.defaultProps={role:"menu",shouldReturnFocusToToggleEl:!0},n}(r.Component);t.GenericFlyoutListMenuWidget=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(17),i=n(0),a=n(4),s=n(2),l=n(5),d=n(82),u=n(58);t.TextInputType=u.TextInputType;var c=n(96),p=a.style({display:"block",$nest:{"& input":{width:"100%"}}}),h=function(e){return a.style({$nest:{"& label":e}})},f=function(e){return a.style({$nest:{"& .message":e}})};function g(e){l.selectInputText(e.target)}var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isComposing=!1,t.enterDown=!1,t.escDown=!1,t.handleBlur=function(e){var n,o;t.enterDown=!1,t.escDown=!1,e.relatedTarget=l.findBlurRelatedTarget(e),null===(o=(n=t.props).handleBlur)||void 0===o||o.call(n,e)},t.handleChange=function(e){!t.props.disabled&&t.props.handleChange&&(t.isComposing=e.isComposing,t.props.handleChange(e.target.value,t.isComposing))},t.handleKeyDown=function(e){t.props.disabled||t.isComposing||("Enter"===e.key&&t.props.handleEnter?t.enterDown=!0:"Escape"===e.key&&t.props.handleEscape?t.escDown=!0:t.props.onKeyDown&&t.props.onKeyDown(e))},t.handleKeyUp=function(e){t.props.disabled||t.isComposing||("Enter"===e.key&&t.props.handleEnter&&t.enterDown?(t.enterDown=!1,t.props.handleEnter()):"Escape"===e.key&&t.props.handleEscape&&t.escDown?(t.escDown=!1,t.props.handleEscape()):t.props.onKeyUp&&t.props.onKeyUp(e))},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.containerStyle,r=(e.handleBlur,e.handleChange,e.handleEnter,e.handleEscape,e.inputRef),s=e.inputStyle,l=e.onDarkBackground,d=(e.placeholderStyle,e.shouldSelectTextOnFocus),u=e.text,h=e.type,f=o.__rest(e,["className","containerStyle","handleBlur","handleChange","handleEnter","handleEscape","inputRef","inputStyle","onDarkBackground","placeholderStyle","shouldSelectTextOnFocus","text","type"]);return i.createElement(c.TextFieldWidget,o.__assign({},f,{className:a.classes(t,p,a.style(n),l&&"dark"),onBlur:this.handleBlur,onChange:this.handleChange,onFocus:d?g:void 0,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,ref:r,style:s,type:h,value:u}))},t.defaultProps=Object.freeze({shouldSelectTextOnFocus:!0,text:"",type:u.TextInputType.Text}),t.displayName="LegacyTextFieldShim",t}(i.Component);t.LegacyTextFieldShim=m,t.LineTextFieldWidget=function(e){var t=e.errorText,n=e.hideErrorDiv,r=e.floatingLabel,s=e.floatingLabelStyle,l=o.__rest(e,["errorText","hideErrorDiv","floatingLabel","floatingLabelStyle"]);return i.createElement(m,o.__assign({},n&&{"aria-errormessage":void 0,"aria-describedby":void 0},l,{className:a.classes(s&&h(s),n&&f({display:"none"})),kind:"line",message:n?void 0:t||d.Unicode.ZeroWidthSpace,label:r,valid:!(!n&&t)&&void 0}))},t.LineTextFieldWidget.displayName="LineTextFieldWidget",t.OutlineTextFieldWidget=function(e){var t=e.displayErrorTextSection,n=e.errorText,r=e.handleClearText,s=e.hasError,l=o.__rest(e,["displayErrorTextSection","errorText","handleClearText","hasError"]);return i.createElement(m,o.__assign({},!t&&{"aria-errormessage":void 0,"aria-describedby":void 0},l,{className:a.classes(!t&&f({display:"none"})),kind:"outline",label:null,message:s?n:d.Unicode.ZeroWidthSpace,onClear:r,valid:!s&&void 0}))},t.OutlineTextFieldWidget.displayName="OutlineTextFieldWidget",t.SearchFieldWidget=function(e){var t=e.handleCancelSearch,n=o.__rest(e,["handleCancelSearch"]);return i.createElement(m,o.__assign({"aria-errormessage":void 0,"aria-describedby":void 0},n,{kind:"search",label:null,onClear:t}))},t.SearchFieldWidget.displayName="SearchFieldWidget",t.IntegerStepperWidget=function(e){var t=e.containerStyle,n=e.delta,l=e.handleBlur,d=e.inputStyle,u=e.labelStyle,c=e.onDarkBackground,p=e.onValueUpdated,f=e.pageDelta,m=e.shouldSelectTextOnFocus,v=e.start,y=e.testId,b=o.__rest(e,["containerStyle","delta","handleBlur","inputStyle","labelStyle","onDarkBackground","onValueUpdated","pageDelta","shouldSelectTextOnFocus","start","testId"]),C=i.useState(v),S=C[0],_=C[1];return i.useEffect((function(){return _(e.start)}),[e.start]),i.createElement(r.Stepper,o.__assign({},b,{className:a.classes(a.style(t),u&&h(u),c&&"dark"),"data-tb-test-id":s.makeTestId(y,"IntegerStepperWidget","TextInput"),floatingPoint:!1,onBlur:l,onFocus:m?g:void 0,onValueChange:function(e){var t;_(e),null===(t=p)||void 0===t||t(e)},pageSteps:f/n,step:n,style:d,value:S}))},t.IntegerStepperWidget.defaultProps={delta:1,pageDelta:1,shouldSelectTextOnFocus:!0},t.IntegerStepperWidget.displayName="IntegerStepperWidget"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(0),a=n(101),s=n(235),l=n(239),d=n(240),u=n(102),c=n(33);!function(e){e.Both="both",e.Left="left",e.Right="right"}(o=t.HandleType||(t.HandleType={}));var p=function(e){function t(t){var n=e.call(this,t)||this;return n.getTickCount=function(){return n.props.isDiscrete?Math.floor(n.props.max)-Math.ceil(n.props.min)+1:0},n.getIndicatorAndDataBarPositions=function(e,t){if(h(n.props.value)&&!n.props.isDiscrete){if(n.props.openEndedAt===a.OpenEndedAt.Min)return{indicatorBarPosition:{start:0,end:e}};if(n.props.openEndedAt===a.OpenEndedAt.Max)return{indicatorBarPosition:{start:e,end:1}}}else if(!h(n.props.value)){var o=void 0;if(n.props.trackBarDataRange){var r=n.sliderValueLogic.calculateSliderPositionAsProportion(n.props.trackBarDataRange.from),i=n.sliderValueLogic.calculateSliderPositionAsProportion(n.props.trackBarDataRange.to);o={start:Math.max(e,r),end:Math.min(t,i)||void 0}}return{indicatorBarPosition:{start:e,end:t},dataBarPosition:o}}return{}},n.fireOnChangeForSingleValue=function(e,t){n.props.onChange&&(h(n.props.value)?t!==n.props.value&&n.props.onChange(t):e===o.Left&&t!==n.props.value.from?n.props.onChange({from:Math.min(t,n.props.value.to),to:n.props.value.to}):e===o.Right&&t!==n.props.value.to&&n.props.onChange({from:n.props.value.from,to:Math.max(t,n.props.value.from)}))},n.fireOnChangeForTwoValues=function(e,t){!n.props.onChange||h(n.props.value)||e>t||n.props.onChange({from:e,to:t})},n.handleHandleDragStart=function(e,t){n.setState({areHandlesBeingDragged:!0});var o=n.sliderValueLogic.calculateNewSliderValueFromProportion(t);n.fireOnChangeForSingleValue(e,o)},n.handleHandleDragMove=function(e,t){var o=n.sliderValueLogic.calculateNewSliderValueFromProportion(t);n.fireOnChangeForSingleValue(e,o)},n.handleBothHandleDragStart=function(){n.setState({areHandlesBeingDragged:!0})},n.handleBothHandleDragMove=function(e,t){var o=n.sliderValueLogic.calculateNewSliderValueFromProportion(e),r=n.sliderValueLogic.calculateNewSliderValueFromProportion(t);n.fireOnChangeForTwoValues(o,r)},n.handleHandleRelease=function(){n.setState({areHandlesBeingDragged:!1})},n.handleHandleKeyDown=function(e,t){if(n.setState({areHandlesBeingDragged:!0}),e===o.Both){if(!h(n.props.value)){var r=n.sliderValueLogic.calculateNewSliderRangeValueForKey(t,n.props.value);r&&n.fireOnChangeForTwoValues(r.from,r.to)}}else{var i=void 0;i=h(n.props.value)?n.props.value:e===o.Left?n.props.value.from:n.props.value.to;var a=n.sliderValueLogic.calculateNewSliderValueForKey(t,i);void 0!==a&&n.fireOnChangeForSingleValue(e,a)}},n.handleRangeHandleFocus=function(e){n.setState({isRangeHandleFocused:e})},n.validateProps(t),n.state={areHandlesBeingDragged:!1,isRangeHandleFocused:!1},n.sliderValueLogic=new u.SliderValueLogic(n.props.min,n.props.max,!!n.props.isDiscrete),n}return r.__extends(t,e),t.prototype.validateProps=function(e){var t=e.ariaLabel,n=e.ariaAttributes,o=e.min,r=e.max,i=e.value;if(!t&&!n)throw new Error("Either ariaAttributes or ariaLabel must be provided.");if(isNaN(o)||isNaN(r)||h(i)&&isNaN(i)||!h(i)&&(isNaN(i.from)||isNaN(i.to)))throw new Error("NaN is not a valid value for min, max, or value(s).")},t.prototype.componentDidUpdate=function(e,t){this.validateProps(this.props);var n=this.props,o=n.isDiscrete,r=n.max,i=n.min,a=n.onHandleRelease;o===e.isDiscrete&&i===e.min&&r===e.max||(this.sliderValueLogic=new u.SliderValueLogic(i,r,!!o),this.forceUpdate()),t.areHandlesBeingDragged&&!this.state.areHandlesBeingDragged&&(a?a():e.onHandleRelease&&e.onHandleRelease())},t.prototype.getSliderHandleAriaAttributes=function(e,t){var n=r.__assign(r.__assign({},t===o.Right?this.props.ariaAttributes.rightHandle:this.props.ariaAttributes.leftHandle),{"aria-valuemax":this.props.isDiscrete?Math.floor(this.props.max):this.props.max,"aria-valuemin":this.props.isDiscrete?Math.ceil(this.props.min):this.props.min,"aria-valuenow":e});return!n["aria-label"]&&this.props.ariaLabel&&(n["aria-label"]=this.props.ariaLabel),n},t.prototype.render=function(){var e=c.getSliderStyles(),t=void 0,n=void 0,a=void 0,u=void 0;h(this.props.value)?(t=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value),n=this.getSliderHandleAriaAttributes(this.props.value,o.Left)):(t=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value.from),n=this.getSliderHandleAriaAttributes(this.props.value.from,o.Left),a=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value.to),u=this.getSliderHandleAriaAttributes(this.props.value.to,o.Right));var p=this.getTickCount(),f=this.getIndicatorAndDataBarPositions(t,a);return i.createElement("div",{"data-tb-test-id":this.props.testId,style:r.__assign(r.__assign({},e.OuterContainer),this.props.style)},i.createElement("div",{style:e.TrackAndHandleContainer},p>1&&i.createElement(l.SliderTickBarWidget,{testId:this.props.testId,tickCount:p}),i.createElement(d.SliderTrackWidget,{dataBarPosition:f.dataBarPosition,handleIsBeingDragged:this.state.areHandlesBeingDragged,isRangeHandleFocused:this.state.isRangeHandleFocused,rangeIndicatorBarPosition:f.indicatorBarPosition,testId:this.props.testId}),i.createElement(s.SliderHandleContainer,{disabled:this.props.disabled,handles:{leftHandlePosition:t,rightHandlePosition:a},handlesAriaAttributes:{leftHandleAriaAttributes:n,rightHandleAriaAttributes:u},onBothHandleDragMove:this.handleBothHandleDragMove,onBothHandleDragStart:this.handleBothHandleDragStart,onHandleDragMove:this.handleHandleDragMove,onHandleDragStart:this.handleHandleDragStart,onHandleKeyDown:this.handleHandleKeyDown,onHandleRelease:this.handleHandleRelease,onRangeHandleFocus:this.handleRangeHandleFocus,testId:this.props.testId})))},t.defaultProps={ariaAttributes:{leftHandle:void 0,rightHandle:void 0}},t}(i.Component);t.SliderBaseWidget=p;var h=function(e){return"number"==typeof e}},function(e,t,n){(function(e){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var i=/[A-Z]/g,a=/^ms-/,s=/&/g,l=/[ !#$%&()*+,./;<=>?@[\]^`{|}~"'\\]/g,d=function(e){return"-"+e.toLowerCase()},u={"animation-iteration-count":!0,"border-image-outset":!0,"border-image-slice":!0,"border-image-width":!0,"box-flex":!0,"box-flex-group":!0,"box-ordinal-group":!0,"column-count":!0,columns:!0,"counter-increment":!0,"counter-reset":!0,flex:!0,"flex-grow":!0,"flex-positive":!0,"flex-shrink":!0,"flex-negative":!0,"flex-order":!0,"font-weight":!0,"grid-area":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-span":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-span":!0,"grid-row-start":!0,"line-clamp":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"tab-size":!0,widows:!0,"z-index":!0,zoom:!0,"fill-opacity":!0,"flood-opacity":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0},c=0,p=Object.keys(u);c<p.length;c++)for(var h=p[c],f=0,g=["-webkit-","-ms-","-moz-","-o-",""];f<g.length;f++){u[g[f]+h]=!0}function m(e){return e.replace(i,d).replace(a,"-ms-")}function v(e){for(var t=5381,n=e.length;n--;)t=33*t^e.charCodeAt(n);return(t>>>0).toString(36)}function y(e,t){return"number"!=typeof t||0===t||u.hasOwnProperty(e)?e+":"+t:e+":"+t+"px"}function b(e){return e.sort((function(e,t){return e[0]>t[0]?1:-1}))}function C(e){return e.map((function(e){var t=e[0],n=e[1];return Array.isArray(n)?n.map((function(e){return y(t,e)})).join(";"):y(t,n)})).join(";")}function S(e,t){return-1===e.indexOf("&")?t+" "+e:e.replace(s,t)}function _(e,n,o,r,i){var a=function(e,n){for(var o=[],r=[],i=!1,a=0,s=Object.keys(e);a<s.length;a++){var l=s[a],d=e[l];null!=d&&(l===t.IS_UNIQUE?i=!0:"object"!=typeof d||Array.isArray(d)?o.push([m(l.trim()),d]):r.push([l.trim(),d]))}return{style:C(b(o)),nested:n?r:b(r),isUnique:i}}(n,""!==e),s=a.style,l=a.nested,d=a.isUnique,u=s;if(64===e.charCodeAt(0)){var c={selector:e,styles:[],rules:[],style:i?"":s};o.push(c),s&&i&&c.styles.push({selector:i,style:s,isUnique:d});for(var p=0,h=l;p<h.length;p++){var f=h[p];u+=(w=f[0])+_(w,f[1],c.rules,c.styles,i)}}else{var g=i?S(e,i):e;s&&r.push({selector:g,style:s,isUnique:d});for(var v=0,y=l;v<y.length;v++){var w,I=y[v];u+=(w=I[0])+_(w,I[1],o,r,g)}}return u}function w(e,t,n,o,i,a){for(var s=0,l=o;s<l.length;s++){var d=l[s],u=d.selector,c=d.style,p=d.isUnique,h=a?S(u,i):u,f=p?"u\0"+(++r).toString(36):"s\0"+t+"\0"+c;(v=new E(c,f)).add(new D(h,"k\0"+t+"\0"+h)),e.add(v)}for(var g=0,m=n;g<m.length;g++){var v,y=m[g],b=(u=y.selector,c=y.style,y.rules),C=y.styles;w(v=new k(u,c,"r\0"+t+"\0"+u+"\0"+c),t,b,C,i,a),e.add(v)}}function I(e){for(var t="",n=0;n<e.length;n++)t+=e[n];return t}t.escape=function(e){return e.replace(l,"\\$&")},t.hyphenate=m,t.stringHash=v;var x={add:function(){},change:function(){},remove:function(){}},T=function(){function e(e){void 0===e&&(e=x),this.changes=e,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return e.prototype.add=function(t){var n=this._counters[t.id]||0,o=this._children[t.id]||t.clone();if(this._counters[t.id]=n+1,0===n)this._children[o.id]=o,this._keys.push(o.id),this.sheet.push(o.getStyles()),this.changeId++,this.changes.add(o,this._keys.length-1);else if(o instanceof e&&t instanceof e){var r=this._keys.indexOf(t.id),i=o.changeId;o.merge(t),o.changeId!==i&&(this.sheet.splice(r,1,o.getStyles()),this.changeId++,this.changes.change(o,r,r))}return o},e.prototype.remove=function(t){var n=this._counters[t.id];if(void 0!==n&&n>0){this._counters[t.id]=n-1;var o=this._children[t.id],r=this._keys.indexOf(o.id);if(1===n)delete this._counters[t.id],delete this._children[t.id],this._keys.splice(r,1),this.sheet.splice(r,1),this.changeId++,this.changes.remove(o,r);else if(o instanceof e&&t instanceof e){var i=o.changeId;o.unmerge(t),o.changeId!==i&&(this.sheet.splice(r,1,o.getStyles()),this.changeId++,this.changes.change(o,r,r))}}},e.prototype.values=function(){var e=this;return this._keys.map((function(t){return e._children[t]}))},e.prototype.merge=function(e){for(var t=0,n=e.values();t<n.length;t++){var o=n[t];this.add(o)}return this},e.prototype.unmerge=function(e){for(var t=0,n=e.values();t<n.length;t++){var o=n[t];this.remove(o)}return this},e.prototype.clone=function(){return(new e).merge(this)},e}();t.Cache=T;var D=function(){function e(e,t){this.selector=e,this.id=t}return e.prototype.getStyles=function(){return this.selector},e.prototype.clone=function(){return new e(this.selector,this.id)},e}();t.Selector=D;var E=function(e){function t(t,n){var o=e.call(this)||this;return o.style=t,o.id=n,o}return o(t,e),t.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},t.prototype.clone=function(){return new t(this.style,this.id).merge(this)},t}(T);t.Style=E;var k=function(e){function t(t,n,o){var r=e.call(this)||this;return r.rule=t,r.style=n,r.id=o,r}return o(t,e),t.prototype.getStyles=function(){return this.rule+"{"+this.style+I(this.sheet)+"}"},t.prototype.clone=function(){return new t(this.rule,this.style,this.id).merge(this)},t}(T);t.Rule=k;var O=function(e){function n(t,n,o,r){var i=e.call(this,r)||this;return i.hash=t,i.debug=n,i.id=o,i}return o(n,e),n.prototype.registerStyle=function(e,n){var o=[],r=[],i=_("&",e,o,r),a="f"+this.hash(i),s=this.debug&&n?n+"_"+a:a;return w(this,i,o,r,"."+t.escape(s),!0),s},n.prototype.registerKeyframes=function(e,t){return this.registerHashRule("@keyframes",e,t)},n.prototype.registerHashRule=function(e,n,o){var r=[],i=[],a=_("",n,r,i),s="f"+this.hash(a),l=this.debug&&o?o+"_"+s:s,d=new k(e+" "+t.escape(l),"","h\0"+a+"\0"+e);return w(d,a,r,i,"",!1),this.add(d),l},n.prototype.registerRule=function(e,t){var n=[],o=[];w(this,_(e,t,n,o),n,o,"",!1)},n.prototype.registerCss=function(e){return this.registerRule("",e)},n.prototype.getStyles=function(){return I(this.sheet)},n.prototype.clone=function(){return new n(this.hash,this.debug,this.id,this.changes).merge(this)},n}(T);t.FreeStyle=O,t.create=function(t,n,o){return void 0===t&&(t=v),void 0===n&&(n=void 0!==e&&!1),void 0===o&&(o=x),new O(t,n,"f"+(++r).toString(36),o)}}).call(this,n(187))},function(e,t,n){var o=n(125),r=n(132);e.exports=function(e,t){var n=r(e,t);return o(n)?n:void 0}},function(e,t,n){var o=n(27),r=n(12),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!r(e))return!1;var t=o(e);return t==a||t==s||t==i||t==l}},function(e,t,n){var o=n(68);e.exports=function(e,t,n){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var o=n(47),r=n(73);e.exports=function(e){return null!=e&&r(e.length)&&!o(e)}},function(e,t){var n=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],o=n.join(","),r="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function i(e,t){t=t||{};var n,i,s,l=[],c=[],h=new p(e.ownerDocument||e),f=e.querySelectorAll(o);for(t.includeContainer&&r.call(e,o)&&(f=Array.prototype.slice.apply(f)).unshift(e),n=0;n<f.length;n++)a(i=f[n],h)&&(0===(s=d(i))?l.push(i):c.push({documentOrder:n,tabIndex:s,node:i}));return c.sort(u).map((function(e){return e.node})).concat(l)}function a(e,t){return!(!s(e,t)||function(e){return function(e){return c(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t=function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}(e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'));return!t||t===e}(e)}(e)||d(e)<0)}function s(e,t){return t=t||new p(e.ownerDocument||e),!(e.disabled||function(e){return c(e)&&"hidden"===e.type}(e)||t.isUntouchable(e))}i.isTabbable=function(e,t){if(!e)throw new Error("No node provided");return!1!==r.call(e,o)&&a(e,t)},i.isFocusable=function(e,t){if(!e)throw new Error("No node provided");return!1!==r.call(e,l)&&s(e,t)};var l=n.concat("iframe").join(",");function d(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:e.tabIndex:t}function u(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function c(e){return"INPUT"===e.tagName}function p(e){this.doc=e,this.cache=[]}p.prototype.hasDisplayNone=function(e,t){if(e===this.doc.documentElement)return!1;var n=function(e,t){for(var n=0,o=e.length;n<o;n++)if(t(e[n]))return e[n]}(this.cache,(function(t){return t===e}));if(n)return n[1];var o=!1;return"none"===(t=t||this.doc.defaultView.getComputedStyle(e)).display?o=!0:e.parentNode&&(o=this.hasDisplayNone(e.parentNode)),this.cache.push([e,o]),o},p.prototype.isUntouchable=function(e){if(e===this.doc.documentElement)return!1;var t=this.doc.defaultView.getComputedStyle(e);return!!this.hasDisplayNone(e,t)||"hidden"===t.visibility},e.exports=i},function(e,t,n){function o(e){return"number"==typeof e.clientX}function r(e){return!!e.touches}Object.defineProperty(t,"__esModule",{value:!0}),t.isMouseEvent=o,t.isTouchEvent=r,t.getClientPosition=function(e){if(o(e))return{x:e.clientX,y:e.clientY};if(r(e))return{x:e.touches[0].clientX,y:e.touches[0].clientY};throw Error("Could not identify event as either MouseEvent or TouchEvent")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(4),a=n(5),s=n(16);t.FocusVisibleClassName="focus-visible";var l=function(e,t){return void 0===e&&(e=s.FocusBlue),void 0===t&&(t=!1),Object.freeze({borderColor:e,boxShadow:t?"inset 0 0 0 1px "+e:"0 0 4px 0 "+e})},d=i.style({$nest:{"&:focus, & :focus":{outline:"none"},"&::-moz-focus-inner, & ::-moz-focus-inner":{$unique:!0,border:"none"},"&.focus-visible:focus":l(s.FocusBlue),"&.focus-visible :focus":l(s.FocusBlue)}}),u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={focusVisible:!0},t.handleBlur=function(e){var n,o,r=e.currentTarget,i=a.findBlurRelatedTarget(e);t.setState((function(e){return{focusVisible:e.focusVisible||!r.contains(i)}})),null===(o=(n=t.props.children.props).onBlurCapture)||void 0===o||o.call(n,e)},t.handleKeyDown=function(e){var n,o,r=e.keyCode;(e.shiftKey||9===r||27===r||r>=33&&r<=40)&&t.setState({focusVisible:!0}),null===(o=(n=t.props.children.props).onKeyDownCapture)||void 0===o||o.call(n,e)},t.handleMouseDown=function(e){var n,o;t.setState({focusVisible:!!t.props.showForPointer}),null===(o=(n=t.props.children.props).onMouseDownCapture)||void 0===o||o.call(n,e)},t}return o.__extends(n,e),n.prototype.render=function(){var e,n=this.props,a=n.children,s=(n.showForPointer,o.__rest(n,["children","showForPointer"]));return r.cloneElement(r.Children.only(a),o.__assign(o.__assign({},s),{className:i.classes(a.props.className,d,(e={},e[t.FocusVisibleClassName]=this.state.focusVisible,e)),onKeyDownCapture:this.handleKeyDown,onMouseDownCapture:this.handleMouseDown,onBlurCapture:this.handleBlur}))},n}(r.PureComponent);t.__UNSTABLE__INTERNAL__FocusIndicator=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);function r(e){throw new Error("Unexpected object: "+e)}function i(e){return"Left"===e||"Right"===e}t.assertNever=r,t.NumberOfSides=4,t.isHorizontalSide=i,t.isVerticalSide=function(e){return!i(e)},t.getNextSideClockwise=function(e){switch(e){case"Top":return"Right";case"Right":return"Bottom";case"Bottom":return"Left";case"Left":return"Top";default:return r(e)}},t.getNextSideCounterClockwise=function(e){switch(e){case"Top":return"Left";case"Left":return"Bottom";case"Bottom":return"Right";case"Right":return"Top";default:return r(e)}};var a=function(){function e(e,t){if(this.min=e,this.max=t,t<e)throw new Error("max less than min")}return e.prototype.equals=function(e){return this.containsInterval(e)&&e.containsInterval(this)},e}();t.Interval=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.containsNumber=function(e){return this.min<=e&&e<=this.max},t.prototype.containsInterval=function(e){return this.min<=e.min&&e.max<=this.max},t}(a);t.ClosedInterval=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.containsNumber=function(e){return this.min<e&&e<this.max},t.prototype.containsInterval=function(e){var t=e.containsNumber(e.min)?this.min<e.min:this.min<=e.min,n=e.containsNumber(e.max)?e.max<this.max:e.max<=this.max;return t&&n},t}(a);t.OpenInterval=l;var d=function(){function e(){}return e.prototype.containsPoint=function(e,t){return this.xInterval.containsNumber(e)&&this.yInterval.containsNumber(t)},e.prototype.containsRectangle=function(e){return this.xInterval.containsInterval(e.xInterval)&&this.yInterval.containsInterval(e.yInterval)},e.prototype.equals=function(e){return this.containsRectangle(e)&&e.containsRectangle(this)},e}();t.Rectangle=d;var u=function(e){function t(t,n,o,r){var i=e.call(this)||this;return i.xInterval=new s(t,n),i.yInterval=new s(o,r),i}return o.__extends(t,e),t}(d);function c(e){var t=e.left,n=e.right,o=e.top,r=e.bottom;return new u(t,n,o,r)}t.ClosedRectangle=u,t.containsClientRect=function(e,t){var n=c(e),o=c(t);return n.containsRectangle(o)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(17),i=n(0),a=n(4),s=n(39),l=n(6),d=n(7),u=a.style({boxSizing:"border-box"}),c=a.style({display:"flex"}),p=a.style({marginLeft:l.TabStyles.Spacing.DefaultSpace}),h=function(e){var t=e.componentType,n=e.removeLeftMargin,r=e.testId,l=o.__rest(e,["componentType","removeLeftMargin","testId"]);return i.createElement(t,o.__assign({},l,{className:a.classes(u,!!l.children&&c,!n&&p,s.ClickBustingConfig.suppressionClassName),labelProps:o.__assign({"data-tb-test-id":r+"-Label"},d.EventUtilsOptOut)}))};h.displayName="SelectorShim";var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){var n,o;t.props.disabled||(t.props.onChange?t.props.onChange(e):null===(o=(n=t.props).handleChange)||void 0===o||o.call(n,e.target.checked))},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.containerStyle,n=(e.handleChange,e.label),a=o.__rest(e,["containerStyle","handleChange","label"]);return i.createElement(h,o.__assign({},a,{children:n||a.children,onChange:this.handleChange,style:t,componentType:r.Checkbox,"data-tb-test-id":a.testId+"-CheckBox"}))},t}(i.PureComponent);t.CheckBoxWithLabelWidget=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=(e.hover,o.__rest(e,["hover"]));return i.createElement(f,o.__assign({},t,{label:""}))},t}(i.PureComponent);t.CheckBoxWidget=g;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(){t.props.disabled||!t.props.handleChange||t.props.checked||t.props.handleChange(t.props.value,t.props.index)},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.containerStyle,n=e.groupName,a=(e.handleChange,e.index,e.label),s=e.value,l=o.__rest(e,["containerStyle","groupName","handleChange","index","label","value"]);return i.createElement(h,o.__assign({},l,{children:l.children||a,onChange:this.handleChange,style:t,componentType:r.Radio,"data-tb-test-id":l.testId+"-RadioButton",name:n,value:s}))},t}(i.PureComponent);t.RadioButtonWithLabelWidget=m;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return i.createElement(m,o.__assign({},this.props,{label:""}))},t}(i.PureComponent);t.RadioButtonWidget=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){this.listenersAdded=!1,this.elementRef=e,this.onPointerMove=t,this.onPointerUp=n}return e.prototype.addListeners=function(){this.listenersAdded||(window.addEventListener("touchend",this.onPointerUp,!0),window.addEventListener("mouseup",this.onPointerUp,!0),window.addEventListener("touchmove",this.onPointerMove,{capture:!0,passive:!1}),window.addEventListener("mousemove",this.onPointerMove,{capture:!0,passive:!1}),this.elementRef.setCapture&&this.elementRef.setCapture(),this.listenersAdded=!0)},e.prototype.removeListeners=function(){this.listenersAdded&&(window.removeEventListener("touchend",this.onPointerUp,!0),window.removeEventListener("mouseup",this.onPointerUp,!0),window.removeEventListener("touchmove",this.onPointerMove,{capture:!0}),window.removeEventListener("mousemove",this.onPointerMove,{capture:!0}),this.elementRef.releaseCapture&&this.elementRef.releaseCapture(),this.listenersAdded=!1)},e}();t.GlobalPointerEventCapturer=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(4),a=n(9),s=n(10),l=n(6),d=n(3),u=n(2),c=n(19),p=function(e){return void 0===e&&(e="#666"),'<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="14" height="14">\n<path fill="'+e+'" d="M7.7 7l4.7-4.7c.2-.2.2-.5 0-.7s-.5-.2-.7 0L7 6.3 2.3 1.6c-.2-.2-.5-.2-.7 0s-.2.5 0 .7L6.3 7l-4.7 4.7c-.2.2-.2.5 0 .7s.5.2.7 0L7 7.7l4.7 4.7c.2.2.5.2.7 0s.2-.5 0-.7L7.7 7z"/>\n</svg>'},h=i.style({$nest:{"&&":{minHeight:18,minWidth:18,height:18,width:18},"&::before":{content:"url("+s.encodeSvg(p("#666"))+")",display:"inline-block",height:14,width:14},"&:active::before, &:hover::before":{content:"url("+s.encodeSvg(p("#333"))+")"},"&.prominent::before":{content:"url("+s.encodeSvg(p("#333"))+")"},"&.prominent:active::before, &.prominent:hover::before":{content:"url("+s.encodeSvg(p("#000"))+")"},"&.dark::before":{content:"url("+s.encodeSvg(p("#fff"))+") !important"}}});t.CloseButtonWidget=r.forwardRef((function(e,t){var n=e.useDarkStyling,s=o.__rest(e,["useDarkStyling"]);return r.createElement(l.ButtonWidget,o.__assign({},s,{buttonType:l.ButtonType.IconOutline,className:i.classes(e.className,h,n&&"dark"),ref:t,title:e.title||a.Messages.close()}))})),t.CloseButtonWidget.displayName="CloseButtonWidget";var f=i.style({alignItems:"center",backgroundClip:"content-box",boxSizing:"border-box",cursor:"auto",display:"flex",flexShrink:0,height:30,justifyContent:"center",outline:"none",padding:6,width:30,$nest:{"&:hover":{backgroundColor:d.TabStyles.Colors.F3},"&:hover>button::before":{content:"url("+s.encodeSvg(p("#333"))+")"},"& > button:active":{boxShadow:"none !important"},"& > button:active::after":{display:"none !important"}}});t.DialogCloseButtonWidget=r.forwardRef((function(e,n){return r.createElement(c.PointerEventWrapper,{pointerClick:e.onClick},r.createElement("div",{className:i.classes(f),ref:n},r.createElement(t.CloseButtonWidget,o.__assign({},e,{"data-tb-test-id":u.makeTestId(e.testId,"CloseButton"),onClick:function(t){var n,o;t.stopPropagation(),null===(o=(n=e).onClick)||void 0===o||o.call(n,t)},testId:null}))))})),t.DialogCloseButtonWidget.displayName="DialogCloseButtonWidget"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Text="text",e.Password="password"}(t.TextInputType||(t.TextInputType={}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=n(1),a=n(0),s=n(4),l=n(3),d=n(2),u=n(7),c=n(97),p=s.style({boxSizing:"border-box",height:15,width:15,$nest:{'&:hover, &:active, &[aria-selected="true"]':{position:"relative"},'&[aria-selected="true"]::after':{outline:"1px solid "+l.TabStyles.Colors.L8},"&:hover::after, &:active::after":{outline:"1px solid "+l.TabStyles.Colors.L9},'&:hover::after, &:active::after, &[aria-selected="true"]::after':{border:"1px solid white",bottom:-1,content:'""',left:-1,pointerEvents:"none",position:"absolute",right:-1,top:-1}}});function h(e){switch(e){default:case r.Dark:return c.ColorPickerPresets.Dark;case r.Light:return c.ColorPickerPresets.Light;case r.MaestroFlowColors:return c.ColorPickerPresets.MaestroFlowColors}}t.ColorSwatchWidget=a.forwardRef((function(e,t){var n=e.color.toLowerCase(),o=a.useCallback((function(t){return e.onClick(n)}),[n,e.onClick]);return a.createElement("div",i.__assign({},u.EventUtilsOptOut,{"aria-selected":e.selected,className:s.classes(p,e.disabled&&"disabled"),"data-tb-test-id":d.makeTestId(e.testId,"ColorSwatch",n),onClick:e.disabled?void 0:o,ref:t,style:{backgroundColor:n,height:e.size,width:e.size}}))})),t.ColorSwatchWidget.displayName="ColorSwatchWidget",function(e){e[e.Default=0]="Default",e[e.Minimal=1]="Minimal"}(o=t.ColorGridType||(t.ColorGridType={})),function(e){e[e.Dark=0]="Dark",e[e.Light=1]="Light",e[e.MaestroFlowColors=2]="MaestroFlowColors"}(r=t.ColorGridPreset||(t.ColorGridPreset={}));var f=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.getColorSwatchGridBuilder=function(e){switch(e){default:case o.Default:return t.buildDefaultColorSwatchGrid();case o.Minimal:return t.buildMinimalColorSwatchGrid()}},t}return i.__extends(n,e),n.prototype.render=function(){return a.createElement("div",{"data-tb-test-id":d.makeTestId(this.props.testId,"ColorGrid"),tabIndex:0},this.getColorSwatchGridBuilder(this.props.gridType))},n.prototype.buildMinimalColorSwatchGrid=function(){for(var e=[],n=h(this.props.colorsPreset),o=[],r=[],s=0,d=0;d<n.length;d++){var u=n[d].toLowerCase(),c={color:u,onClick:this.props.handleSwatchClicked,key:"swatch-"+u,size:15,selected:this.props.selectedColor===u,disabled:this.props.disabled,testId:this.props.testId};r.push(a.createElement(t.ColorSwatchWidget,i.__assign({},c))),4===(s+=1)&&(o.push(a.createElement("div",{children:r,style:{border:"1px solid "+l.TabStyles.Colors.L6},key:"group-"+d})),e.push(a.createElement("div",{children:o,key:"column-"+d,style:{float:"left",marginTop:0,marginRight:0,marginBottom:0,marginLeft:e.length?3:0}})),o=[],s=0,r=[])}return a.createElement("div",{children:e,style:{display:"flex"}})},n.prototype.buildDefaultColorSwatchGrid=function(){for(var e=[],n=h(this.props.colorsPreset),o=[],r=[],s=0,d=0;d<n.length;d++){var u=n[d].toLowerCase(),c={color:u,onClick:this.props.handleSwatchClicked,key:"swatch-"+u,size:15,selected:this.props.selectedColor===u,disabled:this.props.disabled,testId:this.props.testId};r.push(a.createElement(t.ColorSwatchWidget,i.__assign({},c)));var p=1===(s+=1)&&e.length<2||3===s&&e.length>=2;(6===s||p)&&(o.push(a.createElement("div",{children:r,style:{border:"1px solid "+l.TabStyles.Colors.L6},key:"group-"+d})),p&&o.push(a.createElement("div",{style:{width:15,height:4},key:"divider-"+d})),6===s&&(e.push(a.createElement("div",{children:o,key:"column-"+d,style:{float:"left",marginTop:0,marginRight:0,marginBottom:0,marginLeft:e.length?3:0}})),o=[],s=0),r=[])}return a.createElement("div",{children:e,style:{display:"flex"}})},n.defaultProps={colorsPreset:r.Dark},n}(a.Component);t.ColorGridWidget=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(17),a=n(0),s=n(4),l=n(10),d=n(6),u=n(98),c=n(5),p=n(99),h=n(89),f=n(7),g=n(20),m=n(100),v=n(61);!function(e){e[e.Outline=0]="Outline",e[e.Line=1]="Line",e[e.Text=2]="Text",e[e.Icon=3]="Icon"}(o=t.DropdownButtonType||(t.DropdownButtonType={}));var y=["outline","line","text","icon"],b=s.style({display:"flex"}),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={ariaLabel:"",isOpen:!1},t.unsubscribeFromGlobalMousedown=void 0,t.dropdownButtonElement=null,t.labelElement=null,t.stackingRootRef=a.createRef(),t.dropdownOverlayRef=a.createRef(),t.defaultPopupId=c.generateId(),t.mouseDownOnButton=!1,t.handleGlobalMousedown=function(e){var n=e.target,o=t.dropdownButtonElement.getAttribute("aria-controls"),r=document.getElementById(o);if(!r)throw new Error("Found no popup element with id matching aria-controls value `"+o+"`");r.contains(n)||t.dropdownButtonElement.contains(n)||(t.mouseDownOnButton=!1,t.close())},t.handleClick=f.mergeEventHandlers((function(e){e.currentTarget.contains(e.target)&&t.toggle()}),(function(e){var n,o;return null===(o=(n=t.props).onClick)||void 0===o?void 0:o.call(n,e)})),t.handleMouseDown=f.mergeEventHandlers((function(e){t.mouseDownOnButton=!0}),(function(e){var n,o;return null===(o=(n=t.props).onMouseDown)||void 0===o?void 0:o.call(n,e)})),t.handleMouseUp=f.mergeEventHandlers((function(e){t.mouseDownOnButton=!1}),(function(e){var n,o;return null===(o=(n=t.props).onMouseUp)||void 0===o?void 0:o.call(n,e)})),t.handleFocusChange=function(e){e.target===e.currentTarget&&("focus"===e.type&&t.mouseDownOnButton?e.currentTarget.blur():t.setState({focus:"focus"===e.type}))},t.handleFocus=f.mergeEventHandlers(t.handleFocusChange,(function(e){var n,o;return null===(o=(n=t.props).onFocus)||void 0===o?void 0:o.call(n,e)})),t.handleBlur=f.mergeEventHandlers(t.handleFocusChange,(function(e){var n,o;return null===(o=(n=t.props).onBlur)||void 0===o?void 0:o.call(n,e)})),t.handleHover=function(e){return t.setState({hover:!t.props.disabled&&"mouseover"===e.type})},t.handleKeyDown=function(e){var n,o;"Escape"===e.key&&e.repeat&&(e.preventDefault(),e.stopPropagation()),null===(o=(n=t.props).onKeyDown)||void 0===o||o.call(n,e),e.defaultPrevented||"ArrowDown"!==e.key||e.repeat||(e.preventDefault(),e.stopPropagation(),e.currentTarget.click())},t.handlePortalKeyDown=function(e){"Escape"===e.key&&t.state.isOpen&&(t.close(),e.preventDefault()),e.stopPropagation()},t.handleButtonRef=function(e){t.dropdownButtonElement=e,f.assignRef(t.props.buttonRef,e)},t.handleLabelRef=function(e){t.labelElement=e},t.close=function(){t.toggle(!1)},t.handleTrap=function(e){t.mouseDownOnButton||t.close(),t.mouseDownOnButton=!1},t.onOpened=function(){var e,n;(t.props.popupContent||t.props.renderPopupContent)&&(t.unsubscribeFromGlobalMousedown=h.GlobalPointerDownOutsideListener.subscribe(t.dropdownButtonElement,t.handleGlobalMousedown)),null===(n=(e=t.props).onOpen)||void 0===n||n.call(e,(function(){return t.close()}),t.dropdownButtonElement.getBoundingClientRect())},t.onClosed=function(){var e,n,o,r;null===(n=(e=t).unsubscribeFromGlobalMousedown)||void 0===n||n.call(e),t.unsubscribeFromGlobalMousedown=void 0,t.props.focusOnClose&&t.dropdownButtonElement.focus(),null===(r=(o=t.props).onClose)||void 0===r||r.call(o)},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.updateLabel()},t.prototype.componentDidUpdate=function(e,t){!e.disabled&&this.props.disabled&&(this.state.isOpen&&this.close(),this.setState({active:!1,hover:!1,focus:!1})),!t.isOpen&&this.state.isOpen?this.onOpened():t.isOpen&&!this.state.isOpen&&this.onClosed(),this.updateLabel()},t.prototype.componentWillUnmount=function(){var e;null===(e=this.unsubscribeFromGlobalMousedown)||void 0===e||e.call(this),this.unsubscribeFromGlobalMousedown=void 0},t.prototype.updateLabel=function(){var e,t,n=(null===(e=this.dropdownButtonElement)||void 0===e?void 0:e.textContent)||"";this.props.label&&(n+=", "+(null===(t=this.labelElement)||void 0===t?void 0:t.textContent)),this.setState({ariaLabel:n})},t.prototype.toggle=function(e){void 0===e&&(e=!this.state.isOpen),this.props.disabled&&e||e!==this.state.isOpen&&this.setState({isOpen:e})},t.prototype.repositionPopup=function(){var e;null===(e=this.dropdownOverlayRef.current)||void 0===e||e.reposition()},t.prototype.render=function(){var e,t=this,n=this.props,l=(n.buttonRef,n.className),u=n.closeOnPopupBlur,c=(n.focusOnClose,n.id),p=n.label,h=n.labelId,g=n.message,v=(n.onClick,n.onClose,n.onOpen,n.popupAlignment),C=n.popupContent,_=n.renderPopupContent,w=n.stackingRootId,I=n.testId,x=n.type,T=n.useDarkStyling,D=n.valid,E=n.zIndex,k=r.__rest(n,["buttonRef","className","closeOnPopupBlur","focusOnClose","id","label","labelId","message","onClick","onClose","onOpen","popupAlignment","popupContent","renderPopupContent","stackingRootId","testId","type","useDarkStyling","valid","zIndex"]),O={disabled:k.disabled,id:c,label:p,labelId:h,labelRef:this.handleLabelRef,message:g,valid:D};return a.createElement(i.LabeledField,r.__assign({},O,{className:s.classes(l,(e={dark:T},e[b]=x!==o.Icon,e))}),(function(e){return a.createElement(d.StackingRootContext.Consumer,null,(function(n){var o;return a.createElement(a.Fragment,null,!w&&!n&&a.createElement("div",{style:m.PopupContainerStyle,ref:t.stackingRootRef}),a.createElement("button",r.__assign({},e,f.EventUtilsOptOut,{"aria-haspopup":!0,"aria-label":t.state.ariaLabel,"aria-labelledby":void 0,"data-tb-test-id":I},k,{"aria-atomic":!0,"aria-controls":t.state.isOpen?t.props["aria-controls"]||t.defaultPopupId:void 0,"aria-expanded":!!t.state.isOpen,"aria-live":t.state.focus&&!t.state.isOpen?"assertive":"off","aria-relevant":"text",className:s.classes(m.ClassName,y[x]),onBlur:t.handleBlur,onClick:t.handleClick,onFocus:t.handleFocus,onKeyDown:t.handleKeyDown,onMouseOut:t.handleHover,onMouseOver:t.handleHover,onMouseDown:t.handleMouseDown,onMouseUp:t.handleMouseUp,ref:t.handleButtonRef,tabIndex:k.disabled?void 0:k.tabIndex||0}),t.renderChildren(),t.renderIcon(),t.state.isOpen&&(C||_)&&a.createElement(d.StackingRootContext.Provider,{value:n||t.stackingRootRef.current},a.createElement(S,{anchorEl:t.dropdownButtonElement,children:C||(null===(o=_)||void 0===o?void 0:o()),onKeyDown:t.handlePortalKeyDown,onTrap:u?t.handleTrap:void 0,overlayId:t.props["aria-controls"]?void 0:t.defaultPopupId,overlayRef:t.dropdownOverlayRef,popupAlignment:v,stackingRootId:w,zIndex:E}))))}))}))},t.prototype.renderChildren=function(){return void 0===this.props.children||null===this.props.children?null:a.createElement("span",{className:m.ChildrenClassName},this.props.children)},t.prototype.renderIcon=function(){var e=(this.props.type===o.Icon?l.IconDropdownArrowIcon:l.DropdownArrowIcon).icon({active:this.state.active||this.state.isOpen,disabled:this.props.disabled,hover:this.state.hover,onDarkBackground:this.props.useDarkStyling});return a.createElement(g.Img,{src:e,style:{margin:this.props.children?void 0:"0 auto"}})},t.defaultProps={focusOnClose:!0,popupAlignment:"left",zIndex:1},t}(a.PureComponent);t.DropdownButton=C;var S=a.memo((function(e){var t;return e.children?a.createElement(v.DropdownOverlay,{alignment:e.popupAlignment,getAnchorClientRect:function(){return e.anchorEl.getBoundingClientRect()},portalEventTrapOverrides:{onKeyDown:e.onKeyDown},stackingRootId:e.stackingRootId,zIndex:e.zIndex},a.createElement(p.FocusTrap,{children:e.children,id:e.overlayId,style:r.__assign(r.__assign({},u.PopupStyle),{minWidth:null===(t=e.anchorEl)||void 0===t?void 0:t.getBoundingClientRect().width}),onTrap:e.onTrap}),e.onTrap&&a.createElement("div",{"aria-hidden":!0,tabIndex:0})):null}));S.displayName="DropdownPopup"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(51),a=n(1),s=n(6),l=n(29),d=n(100);t.DropdownPositionedAboveContext=r.createContext(void 0),t.DropdownPositionedAboveContext.displayName="DropdownPositionedAboveContext";var u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=r.createRef(),t.state={positionedAbove:!1},t}return o.__extends(n,e),n.prototype.componentDidMount=function(){var e=this;this.reposition(),window.setTimeout((function(){e.focusFirstTabbable()}))},n.prototype.componentDidUpdate=function(e){e.getAnchorClientRect===this.props.getAnchorClientRect&&e.alignment===this.props.alignment||this.reposition()},n.prototype.focusFirstTabbable=function(){var e,t,n=null===(e=this.ref.current)||void 0===e?void 0:e.getMountPoint();n&&(null===(t=i(n)[0]||n.querySelector("[tabindex]"))||void 0===t||t.focus())},n.prototype.reposition=function(){var e=this.ref.current.getMountPoint(),t=this.getPosition();a.__assign(e.style,t),this.setState({positionedAbove:!!t.bottom})},n.prototype.getPosition=function(){var e=this.ref.current.getMountPoint(),t=e.getBoundingClientRect(),n=t.width,o=t.height,r=this.props.getAnchorClientRect(),i=l.getVisualViewport(),a=i.offsetTop+i.height-r.bottom,s=r.top-i.offsetTop,u=o>a&&s>a?"bottom":"top",c=r.left+n<i.offsetLeft+i.width,p=r.right-n>i.offsetLeft,h=this.props.alignment;"left"===h&&!c&&p?h="right":"right"===h&&!p&&c&&(h="left"),e.style[h]="0",e.style[u]="0";var f=e.getBoundingClientRect();return{top:"top"===u?r.bottom-f.top-d.BorderWidth+"px":"",bottom:"bottom"===u?f.bottom-r.top-d.BorderWidth+"px":"",left:"left"===h?r.left-f.left+"px":"",right:"right"===h?f.right-r.right+"px":""}},n.prototype.render=function(){var e=this.props,n=(e.alignment,e.children),i=(e.getAnchorClientRect,o.__rest(e,["alignment","children","getAnchorClientRect"]));return r.createElement(s.StackingComponentWrapper,o.__assign({},i,{ref:this.ref,wrapperTestId:"DropdownOverlay"}),r.createElement(t.DropdownPositionedAboveContext.Provider,{value:this.state.positionedAbove},n))},n}(r.PureComponent);t.DropdownOverlay=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(4),a=n(5),s=n(24),l=n(19),d=n(7),u=n(25),c=n(107),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listElement=null,t.itemTextContent=[],t.typeAheadQuery="",t.typeAheadTimeoutHandle=0,t.state={activeItemIndex:Math.max(0,t.props.selectedValue?u.findIndexOfItemWithValue(t.props.items,t.props.selectedValue):0)},t.handleFocus=d.mergeEventHandlers((function(e){if(e.target!==e.currentTarget){var n=a.closest(e.target,'[role="option"]');if(!n)return;var o=parseInt(n.getAttribute("data-itemindex"),10);isNaN(o)||o===t.state.activeItemIndex||t.setState({activeItemIndex:o})}}),(function(e){var n,o;return null===(o=(n=t.props).onFocus)||void 0===o?void 0:o.call(n,e)})),t.handleClick=d.mergeEventHandlers((function(e){e.preventDefault(),t.handleItemSelection(e.target)}),(function(e){var n,o;return null===(o=(n=t.props).onClick)||void 0===o?void 0:o.call(n,e)})),t.keyDownHandlers=Object.freeze({ArrowUp:function(){return u.findFocusableItemIndex(t.props.items,t.state.activeItemIndex,-1)},ArrowDown:function(){return u.findFocusableItemIndex(t.props.items,t.state.activeItemIndex,1)},Home:function(){return u.findFocusableItemIndex(t.props.items,-1,1)},End:function(){return u.findFocusableItemIndex(t.props.items,t.props.items.length,-1)}," ":function(e){return e.repeat||t.handleItemSelection(e.target),t.state.activeItemIndex},Enter:function(e){return t.props.selectOnEnterKey&&t.keyDownHandlers[" "](e),t.state.activeItemIndex}}),t.handleKeyDown=d.mergeEventHandlers((function(e){if(t.keyDownHandlers[e.key]){e.stopPropagation(),e.preventDefault();var n=t.keyDownHandlers[e.key](e);n!==t.state.activeItemIndex&&t.setState({activeItemIndex:n})}}),(function(e){var n,o;return null===(o=(n=t.props).onKeyDown)||void 0===o?void 0:o.call(n,e)})),t.handleKeyPress=d.mergeEventHandlers((function(e){if(!(" "===e.key||"Enter"===e.key||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){window.clearTimeout(t.typeAheadTimeoutHandle),t.typeAheadTimeoutHandle=window.setTimeout(t.resetQuery,500),t.typeAheadQuery+=e.key;var n=t.typeAheadQuery.toLowerCase(),o=s.findIndex(t.itemTextContent,(function(e,o){return u.isFocusableItem(t.props.items[o])&&0===e.toLowerCase().indexOf(n)}),t.state.activeItemIndex+(1===n.length?1:0));o>=0&&t.setState({activeItemIndex:o})}}),(function(e){var n,o;return null===(o=(n=t.props).onKeyPress)||void 0===o?void 0:o.call(n,e)})),t.handleListRef=function(e){t.listElement=e},t.resetQuery=function(){t.typeAheadQuery=""},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.memoizeItemTextContent()},t.prototype.componentDidUpdate=function(e,t){var n=this.props.items;n&&(e.items!==n&&this.memoizeItemTextContent(),n.length&&this.state.activeItemIndex>=n.length?this.setState({activeItemIndex:n.length-1}):t.activeItemIndex!==this.state.activeItemIndex&&this.syncFocus())},t.prototype.handleItemSelection=function(e){var t=a.closest(e,'[role="option"]:not([aria-disabled="true"])');if(this.props.onSelect&&t){var n=t.getAttribute("data-itemvalue");this.props.onSelect(n)}},t.prototype.memoizeItemTextContent=function(){this.itemTextContent=[];var e=this.listElement;if(e)for(var t,n=0,o=e.children;n<o.length;n++)t=o[n],this.itemTextContent.push(t.textContent)},t.prototype.syncFocus=function(){var e;this.listElement&&this.listElement.contains(document.activeElement)&&(null===(e=this.listElement.querySelector('[data-itemindex="'+this.state.activeItemIndex+'"]'))||void 0===e||e.focus())},t.prototype.renderItems=function(e,t,n){var o=this;if(!e)return[];for(var i,s,l=this.props.id,d=e.filter(u.isFocusableItem).length,c=[],p=function(p,g){var m=e[p];if(m.separator)c.push(r.createElement("div",{"data-tb-test-id":m.testId,key:"separator%%"+p,role:"separator"}));else{if(!m.value)throw new Error("Item has no value: "+JSON.stringify(m));var v=function(e){var r=!(!t||e.value!==t)||!o.props.onSelect&&void 0;return g++,h({index:p,isSelected:r,item:e,listId:l,posinset:g,setsize:d,tabIndex:p===n?0:-1})};if(m.group){var y=a.generateId(),b=[];for(p++;u.isFocusableItem(e[p]);p++)b.push(v(e[p]));p--,c.push(r.createElement("div",{role:"group","aria-labelledby":y,key:"group%%"+m.value},r.createElement("div",{role:"presentation",id:y,"data-tb-test-id":m.testId,key:"title"},f({item:m})),b))}else c.push(v(m))}i=p,s=g},g=0,m=0;g<e.length;g++)p(g,m),g=i,m=s;return c},t.prototype.render=function(){var e=this.props,t=e.className,n=e.disableTabAccessibility,a=e.items,s=(e.onClick,e.onSelect,e.selectedValue),d=(e.selectOnEnterKey,e.testId),u=o.__rest(e,["className","disableTabAccessibility","items","onClick","onSelect","selectedValue","selectOnEnterKey","testId"]);return r.createElement(l.PointerEventWrapper,{pointerClick:this.handleClick},r.createElement("div",o.__assign({},u,{className:i.classes(c.ListStyleName,t),"data-tb-test-id":d,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,ref:this.handleListRef,role:"listbox"}),this.renderItems(a,s,n?void 0:this.state.activeItemIndex)))},t}(r.Component);t.List=p;var h=function(e){var t=e.index,n=e.item,o=e.isSelected,i=e.listId,a=e.posinset,s=e.setsize,l=e.tabIndex;return r.createElement("div",{"aria-disabled":n.disabled,"aria-posinset":a,"aria-selected":o,"aria-setsize":s,"data-itemindex":t,"data-itemvalue":n.value,"data-tb-test-id":n.testId,key:"item%%"+n.value,id:i?i+"-"+t:void 0,role:"option",tabIndex:l,title:n.tooltip},f({item:n}))},f=function(e){var t=e.item;return r.createElement("span",{className:c.EllipsedStyleName},t.content||t.value)}},function(e,t,n){var o;Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),a=n(4),s=n(259),l=n(2);t.ColorMap={success:{borderColor:"#008057",backgroundColor:"#F2F8F6",hoverColor:"#E5F1ED"},info:{borderColor:"#2979B2",backgroundColor:"#EEF5FB",hoverColor:"#DEEBF3"},warning:{borderColor:"#FECA56",backgroundColor:"#FEF9EF",hoverColor:"#FDF3E0"},error:{borderColor:"#C93A47",backgroundColor:"#F9EBEC",hoverColor:"#F3D8DA"}};t.ContentClass="contentContainer",t.MessageClass="alertMessage",function(e){e.Success="success",e.Info="info",e.Warning="warning",e.Error="error"}(t.InlineAlertType||(t.InlineAlertType={})),t.AlertBaseStyleName=a.style({borderRadius:2,borderLeft:"4px solid transparent",boxSizing:"border-box",display:"flex",fontSize:"12px",letterSpacing:"0.2px",lineHeight:1.5,$nest:(o={},o["& .alertIcon"]={flexShrink:0,marginLeft:8,marginTop:5},o["& ."+t.ContentClass]={display:"flex",flexGrow:1},o["& button"]={margin:0},o["&.success"]={backgroundColor:t.ColorMap.success.backgroundColor,borderColor:t.ColorMap.success.borderColor},o["&.info"]={backgroundColor:t.ColorMap.info.backgroundColor,borderColor:t.ColorMap.info.borderColor},o["&.warning"]={backgroundColor:t.ColorMap.warning.backgroundColor,borderColor:t.ColorMap.warning.borderColor},o["&.error"]={backgroundColor:t.ColorMap.error.backgroundColor,borderColor:t.ColorMap.error.borderColor},o)}),t.InlineAlert=i.forwardRef((function(e,n){var o=e.children,d=e.className,u=e.interactiveElement,c=e.testId,p=e.type,h=r.__rest(e,["children","className","interactiveElement","testId","type"]);return i.createElement("div",r.__assign({"aria-atomic":!0,"aria-live":"polite"},h,{className:a.classes(t.AlertBaseStyleName,d,p),"data-tb-test-id":l.makeTestId(c,"InlineAlert"),ref:n}),i.createElement(s.StatusIcon,{type:p,className:"alertIcon"}),i.createElement("div",{key:"contentContainer",className:t.ContentClass},i.createElement("div",{className:t.MessageClass},o),u))}))},function(e,t,n){var o=n(46)(n(18),"Map");e.exports=o},function(e,t,n){var o=n(18).Symbol;e.exports=o},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(126))},function(e,t,n){var o=n(48),r=n(36);e.exports=function(e,t,n){(void 0===n||r(e[t],n))&&(void 0!==n||t in e)||o(e,t,n)}},function(e,t,n){var o=n(46),r=function(){try{var e=o(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t,n){var o=n(156)(Object.getPrototypeOf,Object);e.exports=o},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var o=n(157),r=n(22),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(e){return r(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){(function(e){var o=n(18),r=n(159),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?o.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;e.exports=l}).call(this,n(49)(e))},function(e,t,n){var o=n(161),r=n(162),i=n(163),a=i&&i.isTypedArray,s=a?r(a):o;e.exports=s},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var o=n(167),r=n(169),i=n(50);e.exports=function(e){return i(e)?o(e,!0):r(e)}},function(e,t){var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?n:t)&&("number"==r||"symbol"!=r&&o.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=function(){function e(){}return e.prototype.getHtmlAttributes=function(e){var t=e.disabled,n=e.pointerClick,r=e.pointerDoubleClick,i=e.pointerDown,a=e.pointerUp;return o.__assign(o.__assign(o.__assign(o.__assign({},r&&{onDoubleClick:function(e){t||r(e)}}),i&&{onMouseDown:function(e){t||i(e)}}),a&&{onMouseUp:function(e){t||a(e)}}),n&&{onClick:function(e){t||n(e)}})},e}(),i=function(){function e(){}return e.adapterFactory=function(){return new r},e}();t.PointerEventAdapterManager=i},function(e,t,n){var o=n(181),r=n(12),i="Expected a function";e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(i);return r(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),o(e,t,{leading:a,maxWait:t,trailing:s})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Unicode={NonBreakingSpace:" ",ZeroWidthSpace:"​"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r,i=n(1),a=n(0),s=n(4),l=n(9),d=n(10),u=n(6),c=n(3),p=n(23),h=n(5),f=n(14),g=n(198),m=n(20);!function(e){e[e.ShortDateTime=0]="ShortDateTime",e[e.MediumDateTime=1]="MediumDateTime",e[e.LongDateTime=2]="LongDateTime",e[e.FullDateTime=3]="FullDateTime",e[e.ShortDate=4]="ShortDate",e[e.MediumDate=5]="MediumDate",e[e.LongDate=6]="LongDate",e[e.FullDate=7]="FullDate",e[e.ShortDateWithFullYear=8]="ShortDateWithFullYear",e[e.ShortDateTimeWithFullYear=9]="ShortDateTimeWithFullYear",e[e.ShortDateTimeWithFullYear24Hour=10]="ShortDateTimeWithFullYear24Hour",e[e.ShortDateMediumTimeWithFullYear=11]="ShortDateMediumTimeWithFullYear",e[e.ShortDateMediumTimeWithFullYear24Hour=12]="ShortDateMediumTimeWithFullYear24Hour"}(o=t.DateFormat||(t.DateFormat={})),function(e){e[e.Line=0]="Line",e[e.Outline=1]="Outline"}(r=t.DateInputFieldType||(t.DateInputFieldType={}));var v=c.TabStyles.Shadow,y=c.TabStyles.Colors,b=c.TabStyles.Sizing,C=s.style({display:"flex"}),S={paddingRight:24,width:"100%"},_={boxShadow:v.Standard,lineHeight:"normal",outline:"none"},w={vertical:f.VerticalOriginOption.bottom,horizontal:f.HorizontalOriginOption.left},I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputElement=null,t.buttonElement=null,t.overlayElement=null,t.datePickerId=h.generateId(),t.state={inputText:void 0,isDatePickerOpen:!1,measuredLabelHeight:0},t.setLabelHeight=function(){t.setState({measuredLabelHeight:t.inputElement.parentElement.offsetTop})},t.handleInputRef=function(e){t.inputElement=e,e&&t.setLabelHeight()},t.handleButtonRef=function(e){t.buttonElement=e},t.handleOverlayRef=function(e){t.overlayElement=e},t.handleButtonClick=function(){t.toggleDatePicker()},t.handleInputChange=function(e){var n=e.target.value;t.setState({inputText:n})},t.handleInputKeyDown=function(e){if("Enter"===e.key){var n=p.getParsedDate(e.target.value,t.props.terminus);n&&t.closeAndConfirm(n)}else if("Escape"===e.key)t.resetState();else{if(!t.props.hasDatePicker)return;switch(e.key){case" ":if(0===t.inputElement.selectionStart&&t.inputElement.selectionEnd===t.inputElement.value.length){t.open();break}return;case"ArrowDown":t.open();break;case"ArrowUp":t.close();break;default:return}}e.preventDefault(),e.stopPropagation()},t.handleOverlayKeyUp=function(e){"Escape"===e.key&&(t.resetState(),e.preventDefault()),e.stopPropagation()},t.handleBlur=function(e){var n,o,r=h.findBlurRelatedTarget(e);if(!((null===(n=t.buttonElement)||void 0===n?void 0:n.contains(r))||e.currentTarget.contains(r)||(null===(o=t.overlayElement)||void 0===o?void 0:o.contains(r)))){var i=p.getParsedDate(t.inputElement.value,t.props.terminus);i&&!t.props.errorText&&!1!==t.props.valid?t.closeAndConfirm(i):t.resetState()}},t.resetState=function(){t.setState({isDatePickerOpen:!1,inputText:void 0})},t.handlePickerChange=function(e){var n=p.getDateWithTerminus(e,l.Parsers.parseShortDate,t.props.terminus);t.confirmIfChanged(n)},t.handlePickerConfirm=function(e){t.closeAndConfirm(e)},t.renderDatePicker=function(){var e={autofocus:!0,isDateDisabled:t.props.isDatePickerDateDisabled,onChange:t.handlePickerChange,onConfirm:t.handlePickerConfirm,selectedDate:t.props.selectedDate,showWeekNumbers:t.props.showDatePickerWeekNumbers,testId:t.props.testId+"-date-picker"};return a.createElement(g.DatePickerWidget,i.__assign({},e))},t.portalEventTrapOverrides={onBlur:t.handleBlur,onKeyUp:t.handleOverlayKeyUp},t}return i.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){var n,o,r,i=this.state,a=i.inputText,s=i.isDatePickerOpen,l=this.props,d=l.displayFormat,u=l.selectedDate;if((!1!==e.valid&&!1===this.props.valid||this.props.errorText&&this.props.errorText!==e.errorText)&&this.close(),!s&&t.isDatePickerOpen&&this.inputElement&&document.body.contains(this.inputElement)&&this.inputElement.focus(),e.displayFormat!==d||e.selectedDate.getTime()!==(null===(n=u)||void 0===n?void 0:n.getTime()))this.setState({inputText:void 0});else if(a!==t.inputText){var c=p.getParsedDate(a||"",this.props.terminus);c||this.close(),null===(r=(o=this.props).onChange)||void 0===r||r.call(o,void 0!==a?c:u)}e.label!==this.props.label&&this.setLabelHeight()},t.prototype.open=function(){this.toggleDatePicker(!0)},t.prototype.close=function(){this.toggleDatePicker(!1)},t.prototype.toggleDatePicker=function(e){void 0===e&&(e=!this.state.isDatePickerOpen),this.props.hasDatePicker&&e!==this.state.isDatePickerOpen&&this.setState({isDatePickerOpen:e})},t.prototype.confirmIfChanged=function(e){var t,n;e.getTime()!==this.props.selectedDate.getTime()?null===(n=(t=this.props).onConfirm)||void 0===n||n.call(t,e):this.resetState()},t.prototype.closeAndConfirm=function(e){this.close(),this.confirmIfChanged(e)},t.prototype.getFormattedDate=function(e){return p.getDateFormatter(this.props.displayFormat)(e)},t.prototype.isOutlineTextField=function(){return this.props.dateInputFieldType===r.Outline},t.prototype.renderTextField=function(){var e,t=this.props.hasDatePicker,n=null!=(e=this.state.inputText)?e:this.getFormattedDate(this.props.selectedDate),o=p.getParsedDate(n,this.props.terminus),r=i.__assign(i.__assign({},this.props.style),{maxWidth:210+2*c.TabStyles.Spacing.DefaultSpace+2*c.TabStyles.Sizing.BorderWidth,position:"relative"});return a.createElement("div",{onBlur:this.handleBlur,style:r},a.createElement(u.TextFieldWidget,i.__assign({},t&&{"aria-expanded":!!this.state.isDatePickerOpen,"aria-haspopup":"dialog","aria-controls":this.state.isDatePickerOpen?this.datePickerId:void 0,role:"combobox"},{"aria-labelledby":this.props["aria-labelledby"],className:C,disabled:this.props.disabled,kind:this.isOutlineTextField()?"outline":"line",label:this.props.label,message:this.props.errorText||this.props.message||(o?"":l.Messages.enterValidDate()),onChange:this.handleInputChange,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,ref:this.handleInputRef,style:S,testId:this.props.testId+"-text-field",valid:!(!o||this.props.errorText)&&this.props.valid,value:n})),t&&this.renderDropdownButton())},t.prototype.renderDropdownButton=function(){var e={borderRadius:0,cursor:"pointer",display:"inline-flex",height:b.RowHeight-2*b.BorderWidth,minWidth:0,position:"absolute",right:0,top:b.BorderWidth+this.state.measuredLabelHeight},t=i.__assign(i.__assign({},e),{borderLeft:"1px solid "+y.L3,right:b.BorderWidth}),n={buttonRef:this.handleButtonRef,buttonType:u.ButtonType.IconOutline,disableTabAccessibility:!0,disabled:this.props.disabled,getContent:function(e){return a.createElement(m.Img,{draggable:!1,src:d.encodeSvg(d.DropdownArrowIcon.icon(e))})},handleClick:this.handleButtonClick,style:this.isOutlineTextField()?t:e,testId:this.props.testId};return a.createElement(u.ButtonWidget,i.__assign({},n))},t.prototype.renderOverlay=function(){var e=this.state.isDatePickerOpen&&this.props.hasDatePicker&&this.renderDatePicker();return e&&this.inputElement?a.createElement(f.Overlay,{allowAutoPosition:!0,anchorEl:this.inputElement,anchorOrigin:w,stackingRootId:this.props.stackingRootId,portalEventTrapOverrides:this.portalEventTrapOverrides,zIndex:this.props.zIndex},a.createElement("div",{id:this.datePickerId,ref:this.handleOverlayRef,role:"dialog",style:_,tabIndex:-1},e)):null},t.prototype.render=function(){return a.createElement("div",{"data-tb-test-id":this.props.testId},this.renderTextField(),this.renderOverlay())},t.defaultProps={dateInputFieldType:r.Line,displayFormat:o.ShortDateWithFullYear,hasDatePicker:!0,selectedDate:new Date,showDatePickerWeekNumbers:!1},t}(a.Component);t.DateInputField=I},function(e,t){},function(e,t,n){var o,r;Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(17),s=n(0),l=n(4),d=n(3),u=n(2),c=n(13),p=n(7),h=n(204);t.ButtonType=h.ButtonType;var f=Object.freeze(((o={})[h.ButtonType.Destructive]="destructive",o[h.ButtonType.Attention]="destructive",o[h.ButtonType.Grey]="outline",o[h.ButtonType.Primary]="primary",o[h.ButtonType.Go]="primary",o[h.ButtonType.Outline]="outline",o[h.ButtonType.OutlineDark]="outlineDark",o[h.ButtonType.LightOutline]="outlineDark",o[h.ButtonType.OutlineGo]="primary",o[h.ButtonType.OutlineAttention]="destructive",o[h.ButtonType.Text]="lowEmphasis",o[h.ButtonType.DarkText]="lowEmphasis",o[h.ButtonType.DarkBoldText]="lowEmphasis",o[h.ButtonType.Icon]="outline",o[h.ButtonType.IconOutline]="outline",o)),g=Object.freeze({alignItems:"center",borderColor:"transparent",boxSizing:"border-box",color:d.TabStyles.Typography.Color.PrimaryLight,display:"inline-flex",fontWeight:"normal",height:"auto",justifyContent:"center",minHeight:20,minWidth:20,padding:0,whiteSpace:"nowrap"}),m=Object.freeze(((r={})[h.ButtonType.Icon]=l.style(i.__assign(i.__assign({},g),{$nest:{"&:hover:enabled, &:focus":{backgroundColor:d.TabStyles.Colors.F3,color:d.TabStyles.Typography.Color.Primary},"&&&:active":{backgroundColor:d.TabStyles.Colors.F5,color:d.TabStyles.Typography.Color.Primary},"&:disabled":{borderColor:"transparent !important",opacity:d.TabStyles.Opacity.Disabled}}})),r[h.ButtonType.IconOutline]=l.style(i.__assign(i.__assign({},g),{border:"none",position:"relative",$nest:{"&:hover:enabled, &:focus, &&&:active":{backgroundColor:"transparent"},"&:focus::after":{content:'""',position:"absolute",left:0,top:0,bottom:0,right:0,border:"1px solid "+d.TabStyles.Colors.Focus,borderRadius:2,pointerEvents:"none"},"&:disabled":{borderColor:"transparent !important",opacity:d.TabStyles.Opacity.Disabled}}})),r)),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={active:!1,focus:!1,hover:!1},t.handleActive=function(e){return t.setState({active:e})},t.handleFocus=function(e){return t.setState({focus:e})},t.handleHover=function(e){return t.setState({hover:e})},t.handleClick=function(e){t.props.disabled||(t.props.handleClick?t.props.handleClick(e):t.props.onClick&&t.props.onClick(e))},t}return i.__extends(t,e),t.getDerivedStateFromProps=function(e){return e.disabled?{active:!1,focus:!1,hover:!1}:null},t.prototype.render=function(){var e=this.props,t=e.buttonRef,n=e.buttonType,o=e.children,r=e.className,d=e.density,h=e.disabled,g=(e.disableTabAccessibility,e.getContent),v=(e.handleClick,e.interactiveStyle),y=(e.onClick,e.onDoubleClick),b=e.onMouseDown,C=e.onMouseUp,S=e.role,_=e.selected,w=e.style,I=e.tabIndex,x=e.testId,T=e.title,D=i.__rest(e,["buttonRef","buttonType","children","className","density","disabled","disableTabAccessibility","getContent","handleClick","interactiveStyle","onClick","onDoubleClick","onMouseDown","onMouseUp","role","selected","style","tabIndex","testId","title"]),E=s.createElement(a.Button,i.__assign({"aria-checked":"radio"===S?_:void 0,"aria-pressed":"radio"===S?void 0:_,"data-tb-test-id":u.makeTestId(x,"Button")},D,{children:g?g(i.__assign(i.__assign({},this.state),{disabled:h,selected:_})):o,className:l.classes(m[n],r),density:d,disabled:h,kind:f[n],ref:t,role:S,style:w,tabIndex:h?void 0:this.props.disableTabAccessibility?-1:I||0,title:T})),k=s.cloneElement(E,i.__assign(i.__assign({},p.EventUtilsOptOut),{onClick:this.handleClick,onDoubleClick:y,onMouseDown:b,onMouseUp:C}));return g?s.createElement(c.InteractiveDomWrapper,{children:k,disabled:h,handleActive:this.handleActive,handleFocus:this.handleFocus,handleHover:this.handleHover,interactiveStyles:v}):k},t.defaultProps={buttonType:h.ButtonType.Outline,density:"low"},t}(s.Component);t.ButtonWidget=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(3),i=n(54);t.Height=12,t.Width=6;var a=r.TabStyles.Colors.L5,s=r.TabStyles.Colors.White,l=r.TabStyles.Sizing.BorderWidth;function d(e){return"Left"===e||"Right"===e?t.Height:t.Width}function u(e){return"Left"===e||"Right"===e?t.Width:t.Height}t.ChromeTooltipArrow=function(e){var n=e.direction,r=e.style,c=function(e){switch(e){case"Up":return[{x:0,y:t.Width},{x:t.Height/2,y:0},{x:t.Height,y:t.Width}];case"Down":return[{x:0,y:0},{x:t.Height/2,y:t.Width},{x:t.Height,y:0}];case"Left":return[{x:t.Width,y:0},{x:0,y:t.Height/2},{x:t.Width,y:t.Height}];case"Right":return[{x:0,y:0},{x:t.Width,y:t.Height/2},{x:0,y:t.Height}];default:return i.assertNever(e)}}(n).map((function(e){return e.x+","+e.y})).join(" ");return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:r,height:d(n),width:u(n)},o.createElement("polyline",{points:c,fill:s,stroke:a,strokeWidth:l}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(3);t.Padding=8,t.BorderWidth=i.TabStyles.Sizing.BorderWidth,t.OuterMaxWidth=250,t.OuterMaxHeight=250,t.InnerMaxWidth=t.OuterMaxWidth-2*(t.Padding+t.BorderWidth),t.InnerMaxHeight=t.OuterMaxHeight-2*(t.Padding+t.BorderWidth);var a={flexGrow:0,padding:t.Padding,borderWidth:t.BorderWidth,borderStyle:"solid",borderColor:i.TabStyles.Colors.L5,borderRadius:i.TabStyles.Sizing.BorderRadius,boxShadow:i.TabStyles.Shadow.Standard,backgroundColor:i.TabStyles.Colors.White},s={maxWidth:t.InnerMaxWidth,maxHeight:t.InnerMaxHeight,overflowY:"auto"};t.ChromeTooltipBox=function(e){return r.createElement("div",{style:a},r.createElement("div",{style:(t=e.width,o.__assign(o.__assign({},s),{width:t}))},e.content));var t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(0),a=n(0),s=n(8),l=n(10),d=n(21),u=n(11),c=n(3),p=n(32),h=n(2),f=n(5),g=n(24),m=n(13),v=n(14),y=n(20),b=n(42),C=c.TabStyles.Sizing,S=c.TabStyles.Colors,_=c.TabStyles.Spacing,w=c.TabStyles.Typography,I=8;function x(e){return{display:"block",fontSize:w.Sizing.Default,fontWeight:"normal",color:e.secondaryTextColors.normal,lineHeight:"19px"}}function T(e){return{container:{},button:{base:r.__assign(r.__assign(r.__assign({},p.TextEllipsis),u.PreventUserSelect),{backgroundColor:"transparent",borderColor:e.primaryLineColors.normal,borderRadius:C.BorderRadius,borderStyle:"solid",borderWidth:C.BorderWidth,color:e.primaryTextColors.normal,fontSize:w.Sizing.Default,fontWeight:"normal",height:C.RowHeight,outline:"none",overflow:"hidden",paddingLeft:I-C.BorderWidth,paddingRight:_.LargeSpace+I-C.BorderWidth}),interactive:{hover:{backgroundColor:e.hoverBackgroundColor,borderColor:e.primaryLineColors.hover},active:{borderColor:e.primaryLineColors.active},focus:{borderColor:e.primaryLineColors.focus,boxShadow:"0 0 4px 0 "+e.primaryLineColors.focus},disabled:{borderColor:e.primaryLineColors.disabled,color:e.primaryTextColors.disabled}}},value:{lineHeight:e.innerRowHeight+"px"},iconContainer:{display:"inline-block",position:"absolute",right:0},icon:{marginTop:(e.innerRowHeight-l.DropdownArrowIcon.height)/2},label:x(e)}}function D(e){return{container:{},button:{base:r.__assign(r.__assign(r.__assign({},p.TextEllipsis),u.PreventUserSelect),{backgroundColor:"transparent",borderBottomColor:e.primaryLineColors.normal,borderBottomStyle:"solid",borderBottomWidth:C.BorderWidth,borderLeft:"none",borderRight:"none",borderTop:"none",color:e.primaryTextColors.normal,fontSize:w.Sizing.Default,fontWeight:"normal",height:C.RowHeight,outline:"none",overflow:"hidden",paddingLeft:I-C.BorderWidth,paddingRight:_.LargeSpace+I-C.BorderWidth}),interactive:{hover:{backgroundColor:e.hoverBackgroundColor,borderBottomColor:e.primaryLineColors.hover},active:{borderBottomColor:e.primaryLineColors.active},focus:{borderBottomColor:e.primaryLineColors.focus,boxShadow:"0 0 4px 0 "+e.primaryLineColors.focus,outline:"1px solid "+e.primaryLineColors.focus,outlineOffset:-1},disabled:{borderBottomColor:e.primaryLineColors.disabled,color:e.primaryTextColors.disabled}}},value:{top:C.BorderWidth,lineHeight:e.innerRowHeight+"px"},iconContainer:{bottom:1,position:"absolute",right:1,top:1},icon:{marginTop:(e.innerRowHeight-l.DropdownArrowIcon.height)/2},label:x(e)}}function E(e){return{container:{display:"inline-block",width:"auto"},button:{base:r.__assign(r.__assign({},u.PreventUserSelect),{backgroundColor:"transparent",border:"none",color:e.primaryTextColors.normal,cursor:"pointer",display:"inline-block",fontSize:w.Sizing.Default,fontWeight:"normal",height:C.RowHeight,lineHeight:C.RowHeight+"px",overflow:"hidden",paddingLeft:I,paddingRight:l.DropdownArrowIcon.width}),interactive:{hover:{backgroundColor:e.hoverBackgroundColor},active:{color:e.primaryTextColors.active},disabled:{color:e.primaryTextColors.disabled,cursor:"default"},focus:{boxShadow:"0 0 4px 0 "+e.primaryLineColors.focus,outline:"1px solid "+e.primaryLineColors.focus,outlineOffset:-1}}},value:{lineHeight:"inherit"},iconContainer:{position:"absolute"},icon:{marginTop:(C.RowHeight-l.DropdownArrowIcon.height)/2},label:x(e)}}!function(e){e[e.Outline=0]="Outline",e[e.Line=1]="Line",e[e.Text=2]="Text"}(o=t.DropdownType||(t.DropdownType={}));var k=function(){var e=C.RowHeight-2*C.BorderWidth,t={normal:S.L6,hover:S.L8,active:S.L9,focus:S.Focus,disabled:S.L9Disabled},n={normal:d.TextColors.Primary,disabled:d.TextColors.Disabled,active:S.Black},o={normal:d.TextColors.Secondary,disabled:d.TextColors.Disabled,active:S.Black},r={normal:S.WhiteTransparentLine,hover:S.WhiteTransparentLineHover,active:S.White,focus:S.White,disabled:S.WhiteDisabled},i={normal:d.InvertTextColors.Primary,disabled:d.InvertTextColors.Disabled,active:S.White},a={normal:d.InvertTextColors.Secondary,disabled:d.InvertTextColors.Disabled,active:S.White},s={innerRowHeight:e,primaryLineColors:t,primaryTextColors:n,secondaryTextColors:o,hoverBackgroundColor:d.TextFieldHoverColor},l={innerRowHeight:e,primaryLineColors:r,primaryTextColors:i,secondaryTextColors:a,hoverBackgroundColor:"transparent"};return{OutlineDropdownStyle:T(s),OutlineDropdownDarkBackgroundStyle:T(l),LineDropdownStyle:D(s),LineDropdownDarkBackgroundStyle:D(l),TextDropdownStyle:E(s),TextDropdownDarkBackgroundStyle:E(l)}};function O(e,t){var n=k();switch(e){case o.Outline:return t?n.OutlineDropdownDarkBackgroundStyle:n.OutlineDropdownStyle;case o.Line:return t?n.LineDropdownDarkBackgroundStyle:n.LineDropdownStyle;case o.Text:return t?n.TextDropdownDarkBackgroundStyle:n.TextDropdownStyle;default:throw new Error("DropdownWidget attempted to render invalid DropdownType: "+e)}}t.getDropdownStylesByType=O;var P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.componentDidUpdate=function(){this.props.dropdownOpen&&this.state.active&&this.setState({active:!1})},t.prototype.getDropdownIcon=function(){var e={active:this.state.active||this.props.dropdownOpen,disabled:this.props.disabled,hover:this.state.hover,onDarkBackground:this.props.onDarkBackground};return l.DropdownArrowIcon.icon(e)},t.prototype.render=function(){var e=O(this.props.dropdownType,this.props.onDarkBackground),t=r.__assign(r.__assign(r.__assign({},e.button.base),{boxSizing:"border-box",position:"relative"}),h.conditional(this.props.dropdownOpen,e.button.interactive.active)),n={"aria-atomic":!0,"aria-expanded":this.props.dropdownOpen,"aria-haspopup":"listbox","aria-labelledby":this.props.labelledById,"aria-live":this.state.focus?"assertive":"off","aria-controls":this.props.dropdownOpen?this.props.dropdownId:void 0,"aria-relevant":"text","data-tb-test-id":this.props.testId,disabled:this.props.disabled,onKeyDown:this.props.onKeyDown,role:"combobox",style:t,tabIndex:this.props.disabled?void 0:0,title:this.props.title},o={style:e.value,title:h.conditional("string"==typeof this.props.children,this.props.children)};return a.createElement("div",n,a.createElement("span",o,this.props.children),a.createElement("div",{style:e.iconContainer},a.createElement(y.Img,{style:e.icon,src:this.getDropdownIcon()})))},t=r.__decorate([m.InteractiveDomHoCDecorator],t)}(i.Component);t.DropdownButtonWidget=P;var R=function(e){function t(t){var n=e.call(this,t)||this;if(n.buttonEl=null,n.enabledItems=[],n.labelId=f.generateId(),n.dropdownId=f.generateId(),n.toggleMenu=function(){n.props.disabled||n.setState((function(e,t){var n=!e.isOpen;return n?t.onOpen&&t.onOpen():t.onClose&&t.onClose(),{isOpen:n}}))},n.handleSelect=function(e){n.props.onSelect(e,n.state.isOpen),n.onRequestClose()},n.handleKeyDown=function(e){if(!(n.props.disabled||n.state.isOpen||e.ctrlKey||e.altKey||e.metaKey)){var t=n.getIndexOfSelectedItem();if(h.isAlphabeticChar(e.key)){var o=g.findIndex(n.enabledItems,(function(t){return!!t.keyboardAccessibleValue&&t.keyboardAccessibleValue.charAt(0).toUpperCase()===e.key.toUpperCase()}),t+1,n);o>-1&&n.props.onSelect(n.enabledItems[o].value,n.state.isOpen)}else{var r=void 0;switch(e.key){case" ":case"Enter":n.toggleMenu();break;case"ArrowUp":t>0&&(r=n.enabledItems[t-1].value);break;case"ArrowDown":t<n.enabledItems.length-1&&(r=n.enabledItems[t+1].value);break;case"Home":r=n.enabledItems[0].value;break;case"End":r=n.enabledItems[n.enabledItems.length-1].value;break;case"Escape":if(e.repeat)break;return;default:return}r&&n.props.onSelect(r,n.state.isOpen),e.preventDefault(),e.stopPropagation()}}},n.onRequestClose=function(){n.toggleMenu()},n.setButtonElement=function(e){n.buttonEl=s.findDOMNode(e)},n.getAnchorClientRect=function(){var e;return null===(e=n.buttonEl)||void 0===e?void 0:e.getBoundingClientRect()},t.menuItemInfos.filter((function(e){return!!e.menuItemInfos})).length>0)throw Error("Dropdowns may not contain submenus");return n.setEnabledItems(n.props.menuItemInfos),n.state={buttonText:n.getButtonDisplayValue(),isOpen:!1},n}return r.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){this.setEnabledItems(this.props.menuItemInfos);var n=this.getButtonDisplayValue();n!==this.state.buttonText&&this.setState({buttonText:n})},t.prototype.getMenuWidth=function(){var e=void 0;if(this.props.flyoutStyle){var t=this.props.flyoutStyle.width;if("auto"===t)return t;e=parseInt(t,10)}else this.props.containerStyle&&(e=parseInt(this.props.containerStyle.width,10));if(this.buttonEl){var n=this.buttonEl.getBoundingClientRect().width;e=Math.max(n,e||0)}return e},t.prototype.getIndexOfSelectedItem=function(){var e=this;return g.findIndex(this.enabledItems,(function(t){return t.value===e.props.selectedValue}),0,this)},t.prototype.setEnabledItems=function(e){this.enabledItems=(e||[]).filter((function(e){return!e.isDivider&&!e.disabled&&!e.isUnselectable}))},t.prototype.getButtonDisplayValue=function(){var e=this.getIndexOfSelectedItem();return e>-1?this.enabledItems[e].textForDropdownButton||"":this.props.placeholder||""},t.prototype.render=function(){var e=this;this.props.__UNSUPPORTED__searchDefaultText&&console.warn("__UNSUPPORTED__searchDefaultText is an unsupported/deprecated prop and should not be used"),this.props.__UNSUPPORTED__showSearchField&&console.warn("__UNSUPPORTED__showSearchField is an unsupported/deprecated prop and should not be used");var t=O(this.props.dropdownType,this.props.onDarkBackground),n=!!this.props.label,o=r.__assign(r.__assign({},this.props.containerStyle),t.container),i=this.getMenuWidth(),s=r.__assign(r.__assign({},this.props.flyoutStyle),{width:i}),l=this.state.isOpen&&this.props.selectedValue?g.findIndex(this.props.menuItemInfos,(function(t){return t.value===e.props.selectedValue})):0;return a.createElement("div",{style:o,"data-tb-test-id":h.makeTestId(this.props.testId,"Dropdown")},h.conditional(n,a.createElement("label",{style:t.label,id:this.labelId},this.props.label)),a.createElement("div",{},a.createElement(P,{disabled:this.props.disabled,dropdownId:this.dropdownId,dropdownOpen:this.state.isOpen,dropdownType:this.props.dropdownType,onDarkBackground:this.props.onDarkBackground,interactiveStyles:t.button.interactive,onKeyDown:this.handleKeyDown,pointerClick:this.toggleMenu,labelledById:h.conditional(n,this.labelId),ref:this.setButtonElement,testId:h.makeTestId(this.props.testId,"DropdownButton"),title:this.props.title},this.state.buttonText)),h.conditional(this.state.isOpen,a.createElement(b.GenericFlyoutListMenuWidget,{toggleEl:this.buttonEl,getAnchorClientRect:this.getAnchorClientRect,stackingRootId:this.props.stackingRootId,shouldReturnFocusToToggleEl:this.props.shouldReturnFocusOnClose,anchorOrigin:{vertical:v.VerticalOriginOption.bottom,horizontal:v.HorizontalOriginOption.left},allowAutoPosition:!0,scrollingRootId:this.props.scrollingRootId,handleScrollOnScrollingRoot:this.toggleMenu,onSelect:this.handleSelect,id:this.dropdownId,__INTERNAL__focusIndex:l,role:"listbox",maxHeight:this.props.maxHeight,menuStyle:s,menuItemInfos:this.props.menuItemInfos,requestCloseAll:this.onRequestClose,zIndex:this.props.zIndex,testId:this.props.testId,__UNSUPPORTED__showSearchField:this.props.__UNSUPPORTED__showSearchField,__UNSUPPORTED__searchDefaultText:this.props.__UNSUPPORTED__searchDefaultText})))},t.defaultProps={shouldReturnFocusOnClose:!0},t}(i.Component);t.GenericDropdownWidget=R},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.subscribe=function(e,t){var n=this,o=this.subscriptionMap.get(t)||[];return-1===o.indexOf(e)&&(o.push(e),this.subscriptionMap.set(t,o)),this.addOrRemoveEventListenersToDocument(document,!0),function(){return n.unsubscribe(e,t)}},e.unsubscribe=function(e,t){var n=this.subscriptionMap.get(t);n&&-1!==n.indexOf(e)&&(n=n.filter((function(t){return t!==e})),this.subscriptionMap.set(t,n)),n&&0===n.length&&this.subscriptionMap.delete(t),0===this.subscriptionMap.size&&this.addOrRemoveEventListenersToDocument(document,!1)},e.addOrRemoveEventListenersToDocument=function(e,t){var n=this;try{t?(e.addEventListener("mousedown",this.handlePointerDown),e.addEventListener("touchstart",this.handlePointerDown)):(e.removeEventListener("mousedown",this.handlePointerDown),e.removeEventListener("touchstart",this.handlePointerDown));var o=e.getElementsByTagName("iframe");[].forEach.call(o,(function(e){n.addOrRemoveEventListenersToDocument(e.contentDocument,t)}))}catch(e){}},e.handlePointerDown=function(t){var n=t.target;e.subscriptionMap.forEach((function(e,o){var r=!1;e.some((function(i,a){return i&&i.contains(n)?(r=!0,!0):(a!==e.length-1||r||o(t),!1)}))}))},e.subscriptionMap=new Map,e}();t.GlobalPointerDownOutsideListener=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(3),a=n(2),s=n(5),l=n(24),d=n(222),u=n(223);t.ListMenuCursorDriftAllowanceMs=250;var c=i.TabStyles.Colors,p=i.TabStyles.Spacing,h=i.TabStyles.Typography;t.ListMenuStyles={backgroundColor:c.White,boxSizing:"border-box",color:h.Color.Primary,fontSize:h.Sizing.Default,fontWeight:"normal",lineHeight:"normal",outline:"none",padding:p.DefaultSpace,position:"relative"};var f=function(e){return e&&!e.isDivider&&!e.disabled&&!e.isUnselectable},g=function(e){e.stopPropagation()},m=function(e){function n(n){var o=e.call(this,n)||this;return o.domRef=r.createRef(),o.xVelocity=0,o.handleKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){if(a.isAlphabeticChar(e.key)&&!o.props.letterSearchDisabled){var t=o.findNextMenuItemStartingWithLetter(e.key);return t>-1&&o.setActiveItemState((function(){return t}),!0),e.stopPropagation(),void e.preventDefault()}var n=o.props.menuItemInfos.length;switch(e.key){case"ArrowUp":o.setActiveItemState((function(){return o.findNextEnabledItemIndex(o.state.activeItemIndex,-1)}),!0);break;case"ArrowDown":o.setActiveItemState((function(){return o.findNextEnabledItemIndex(o.state.activeItemIndex,1)}),!0);break;case"ArrowLeft":o.props.onLeftArrowKeyDown&&o.props.onLeftArrowKeyDown();break;case"Home":o.setActiveItemState((function(){return o.findNextEnabledItemIndex(-1,1)}),!0);break;case"End":o.setActiveItemState((function(){return o.findNextEnabledItemIndex(n,-1)}),!0);break;case" ":case"Enter":o.selectActive();break;case"Escape":break;default:return}e.preventDefault(),e.stopPropagation()}},o.handleKeyUp=function(e){"Escape"===e.key&&(o.props.onEscapeKeyUp?o.props.onEscapeKeyUp():o.props.requestCloseAll(),e.preventDefault(),e.stopPropagation())},o.clearSubmenu=function(e){o.setActiveItemState((function(){return e}),!1)},o.handleItemHover=function(e){o.state.activeItemIndex===o.displayedSubmenuItemIndex&&o.xVelocity>=2?(clearTimeout(o.submenuTimeoutId),o.submenuTimeoutId=window.setTimeout(o.clearSubmenu.bind(o,e),t.ListMenuCursorDriftAllowanceMs)):o.clearSubmenu(e)},o.handleItemSelect=function(e){o.props.onSelect(e)},o.handleMouseMove=function(e){o.xVelocity=void 0!==o.oldX?Math.abs(e.pageX-o.oldX):0,o.oldX=e.pageX},o.handleSubmenuShown=function(e){o.displayedSubmenuItemIndex=e},o.state={activeItemIndex:o.props.__INTERNAL__focusIndex||0,keyboardFocused:!0},o}return o.__extends(n,e),n.prototype.componentDidMount=function(){this.addStopPropogationListeners()},n.prototype.componentDidUpdate=function(e){if(e.menuItemInfos!==this.props.menuItemInfos){var t=void 0;this.state.activeItemIndex>-1&&this.state.activeItemIndex<e.menuItemInfos.length&&(t=e.menuItemInfos[this.state.activeItemIndex].keyboardAccessibleValue);var n=Math.max(0,l.findIndex(this.props.menuItemInfos,(function(e){return f(e)&&e.keyboardAccessibleValue===t}),0,this));this.state.activeItemIndex!==n&&this.setState({activeItemIndex:n})}},n.prototype.componentWillUnmount=function(){this.removeStopPropogationListeners()},n.prototype.selectActive=function(){if(this.state.activeItemIndex<0||this.state.activeItemIndex>=this.props.menuItemInfos.length)console.warn("Tried to select a invalid index: "+this.state.activeItemIndex);else{var e=this.props.menuItemInfos[this.state.activeItemIndex];f(e)&&this.props.onSelect(e.value)}},n.prototype.addStopPropogationListeners=function(){var e,t;null===(e=this.domRef.current)||void 0===e||e.addEventListener("scroll",g),null===(t=this.domRef.current)||void 0===t||t.addEventListener("wheel",g)},n.prototype.removeStopPropogationListeners=function(){var e,t;null===(e=this.domRef.current)||void 0===e||e.removeEventListener("scroll",g),null===(t=this.domRef.current)||void 0===t||t.removeEventListener("wheel",g)},n.prototype.findNextEnabledItemIndex=function(e,t){for(var n=this.props.menuItemInfos.length,o=e+t;o!==e;o+=t){if(o>=n?o=0:o<0&&(o=n-1),o===e)return e;if(f(this.props.menuItemInfos[o]))return o}return e},n.prototype.findNextMenuItemStartingWithLetter=function(e){return l.findIndex(this.props.menuItemInfos,(function(t){return f(t)&&!!t.keyboardAccessibleValue&&t.keyboardAccessibleValue.charAt(0).toUpperCase()===e.charAt(0).toUpperCase()}),this.state.activeItemIndex+1,this)},n.prototype.setActiveItemState=function(e,t){var n=this;clearTimeout(this.submenuTimeoutId),this.setState((function(n,o){return{activeItemIndex:e(),keyboardFocused:t}}),(function(){n.displayedSubmenuItemIndex=void 0,n.state.keyboardFocused||n.props.letterSearchDisabled||n.domRef.current.focus()}))},n.prototype.shouldShowCheckGutter=function(){for(var e=0;e<this.props.menuItemInfos.length;e++)if(void 0!==this.props.menuItemInfos[e].checked)return!0;return!1},n.prototype.buildMenuFromMenuItemInfos=function(){for(var e,t=this,n=this.props.menuItemInfos,o=this.shouldShowCheckGutter(),i=[],l=function(l){var c=n[l];if(c.isDivider)i.push(r.createElement(d.MenuDividerWidget,{key:l}));else{var p=function(e){if(!e.value)throw new Error("Each non-divider menu item requires a value");return r.createElement(u.MenuItemWidget,{checked:e.checked,disabled:e.disabled,displayFormatterBoundWithData:e.displayFormatterBoundWithData,isGroupLabel:e.isGroup,isHighlighted:!e.disabled&&!e.isUnselectable&&t.state.activeItemIndex===l,isUnselectable:e.isUnselectable,itemIndex:l,key:l,keyboardFocused:t.state.keyboardFocused&&!t.props.focusDisabled,menuItemInfos:e.menuItemInfos,onHover:t.handleItemHover,onSelect:t.handleItemSelect,onSubmenuShown:t.handleSubmenuShown,requestCloseAll:t.props.requestCloseAll,role:a.conditional("listbox"===t.props.role,"option"),scrollingRootId:t.props.scrollingRootId,showCheckGutter:o,stackingRootId:t.props.stackingRootId,subMenuAllowAutoPosition:t.props.subMenuAllowAutoPosition,subMenuMaxHeight:e.subMenuMaxHeight,subMenuShouldAutoPositionOnScrollingRootScroll:t.props.subMenuShouldAutoPositionOnScrollingRootScroll,subMenuStyle:e.subMenuStyle,testId:t.props.testId,value:e.value,zIndex:t.props.zIndex})};if(c.isGroup){var h=s.generateId(),f=l,g=[];for(g.push(r.createElement("div",{role:"presentation",id:h,key:"title",onMouseEnter:function(){return t.handleItemHover(f)}},p(c))),l++;n[l]&&!n[l].isDivider&&!n[l].isGroup;l++)g.push(p(n[l]));l--,i.push(r.createElement("div",{role:"group","aria-labelledby":h,key:f},g))}else i.push(p(c))}e=l},c=0;c<n.length;c++)l(c),c=e;return i},n.prototype.render=function(){var e=o.__assign(o.__assign(o.__assign({},t.ListMenuStyles),this.props.menuStyle),a.conditional(!!this.props.maxHeight,{maxHeight:this.props.maxHeight,overflowY:"auto",WebkitOverflowScrolling:"touch"}));return r.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"data-tb-test-id":this.props.testId+"-ListMenu",id:this.props.id,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseMoveCapture:this.handleMouseMove,ref:this.domRef,role:this.props.role,style:e,tabIndex:-1},this.buildMenuFromMenuItemInfos())},n}(r.Component);t.ListMenuWidget=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(92);t.convertMenuItemInfoToGeneric=function(e){return e.map((function(e){return{checked:e.checked,disabled:e.disabled,displayFormatterBoundWithData:o.TextMenuDisplayFormatter(e.displayValue,e.title),isDivider:e.isDivider,isGroup:e.isGroup,isUnselectable:!1,keyboardAccessibleValue:e.displayValue,menuItemInfos:e.menuItemInfos?t.convertMenuItemInfoToGeneric(e.menuItemInfos):void 0,subMenuMaxHeight:e.subMenuMaxHeight,subMenuStyle:e.subMenuStyle,textForDropdownButton:e.displayValue,value:e.value}}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(10),a=n(11),s=n(3),l=n(32),d=n(2),u=n(5),c=n(20),p=s.TabStyles.Sizing,h=s.TabStyles.Colors,f=s.TabStyles.Spacing,g=s.TabStyles.Typography,m=function(){return{MenuItem:o.__assign(o.__assign({height:p.ListRowHeight,paddingLeft:f.DefaultSpace,paddingRight:f.DefaultSpace,lineHeight:p.ListRowHeight+"px",position:"relative"},l.TextEllipsis),a.PreventUserSelect),GroupLabel:o.__assign(o.__assign({fontWeight:"bold",height:s.TabStyles.Sizing.ListRowHeight,lineHeight:s.TabStyles.Sizing.ListRowHeight+"px"},l.TextEllipsis),a.PreventUserSelect),Highlighted:{backgroundColor:h.F2_5},Active:{backgroundColor:h.F3},WithCheckGutter:{paddingLeft:i.MenuItemCheckIcon.checkedItemPaddingLeft},WithSubMenu:{paddingRight:i.MenuItemArrowIcon.width},Disabled:{color:g.Color.Disabled},ArrowIcon:{position:"absolute",right:0}}};t.TextMenuDisplayFormatter=function(e,t){return function(n){function a(o){var r=n.call(this,o)||this;return r.handleMouseOver=function(n){t||r.setState({title:u.isElementOverflownX(n.currentTarget)?e:void 0})},r.state={title:t},r}return o.__extends(a,n),a.prototype.getSubMenuIcon=function(){if(this.props.hasSubMenu){var e=m(),t=i.MenuItemArrowIcon.icon({disabled:this.props.disabled});return r.createElement(c.Img,{style:e.ArrowIcon,src:t,"aria-hidden":!0})}return null},a.prototype.getCheckedStyles=function(){return{backgroundImage:"url('"+i.MenuItemCheckIcon.icon({active:this.props.active||this.props.isHighlighted,disabled:this.props.disabled})+"')",backgroundRepeat:"no-repeat",backgroundPosition:f.DefaultSpace+"px center"}},a.prototype.render=function(){var t=m(),n=this.props.isGroupLabel?t.GroupLabel:o.__assign(o.__assign(o.__assign(o.__assign(o.__assign(o.__assign(o.__assign({},t.MenuItem),d.conditional(this.props.hasSubMenu,t.WithSubMenu)),d.conditional(this.props.isHighlighted,t.Highlighted)),d.conditional(this.props.active,t.Active)),d.conditional(this.props.disabled,t.Disabled)),d.conditional(this.props.showCheckGutter,t.WithCheckGutter)),d.conditional(this.props.checked,this.getCheckedStyles()));return r.createElement("div",{"data-tb-test-id":d.makeTestId(this.props.testId,"TextMenuItem"),onMouseOver:this.handleMouseOver,style:n,title:this.state.title},e,this.getSubMenuIcon())},a}(r.Component)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationDuration=200},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(42),a=n(91);t.FlyoutListMenuWidget=function(e){var t=o.__assign(o.__assign({},e),{menuItemInfos:a.convertMenuItemInfoToGeneric(e.menuItemInfos)});return r.createElement(i.GenericFlyoutListMenuWidget,t)},t.FlyoutListMenuWidget.displayName="FlyoutListMenuWidget"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(3),a=n(13),s=i.TabStyles.Typography,l=function(e){e.target instanceof HTMLInputElement||e.preventDefault()},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return r.createElement("label",{className:this.props.className,"data-tb-test-id":this.props.testId+"-Label",id:this.props.id,style:o.__assign(o.__assign({},(e=this.props.disabled,{fontSize:s.Sizing.Default,fontWeight:"normal",color:e?s.Color.Disabled:s.Color.Primary,lineHeight:"normal",cursor:"default"})),this.props.style),onMouseDown:l},this.props.children);var e},t=o.__decorate([a.InteractiveDomHoCDecorator],t)}(r.Component);t.InputLabelWidget=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(17),i=n(0),a=n(4),s=n(9),l=n(2),d=n(5),u=n(7);t.TextFieldWidget=i.forwardRef((function(e,t){var n=e.className,c=e.onBlur,p=e.onChange,h=e.selectOnFocus,f=e.testId,g=o.__rest(e,["className","onBlur","onChange","selectOnFocus","testId"]),m=i.useRef(!1),v=a.style({$nest:{"&.required label::after":{content:'"'+s.Messages.required()+'"',marginLeft:4},"&.required.invalid label::after":{color:"#c93a47",fontWeight:"bold"},"&.optional label::after":{content:'"'+s.Messages.optional()+'"',marginLeft:4}}});return i.createElement(r.TextField,o.__assign({},u.EventUtilsOptOut,{"data-tb-test-id":l.makeTestId(f,"TextInput")},g,{className:a.classes(n,v,{required:!0===g.required,optional:!1===g.required}),onBlur:c&&function(e){e.relatedTarget=d.findBlurRelatedTarget(e),c(e)},onChange:p&&function(e){return p(o.__assign(o.__assign({},e),{isComposing:m.current}))},onCompositionEnd:u.mergeEventHandlers((function(e){var t;m.current=!1,null===(t=p)||void 0===t||t(o.__assign(o.__assign({},e),{isComposing:!1}))}),e.onCompositionEnd),onCompositionStart:u.mergeEventHandlers((function(){return m.current=!0}),e.onCompositionStart),onFocus:function(t){var n,o;d.shouldIgnoreFocusEvent(t)||(h&&d.selectInputText(t.target),null===(o=(n=e).onFocus)||void 0===o||o.call(n,t))},ref:t}))})),t.TextFieldWidget.displayName="TextFieldWidget",t.TextFieldWidget.defaultProps={kind:"outline"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=Object.freeze(["#000000","#1B1B1B","#333333","#555555","#666666","#898989","#FFFFFF","#F5F5F5","#E6E6E6","#D4D4D4","#C0C0C0","#B4B4B4"]),r=Object.freeze(["#F28E2B","#F9A655","#FFBE7D","#B07AA1","#C290B4","#D4A6C8","#B6992D","#D3B348","#F1CE63","#D37295","#E799B3","#FABFD2","#59A14F","#72B966","#8CD17D","#E15759","#F17B79","#FF9D9A","#499894","#69AAA5","#86BCB6","#9D7660","#BA9582","#D7B5A6","#4E79A7","#75A1C7","#A0CBE8","#79706E","#998F8C","#BAB0AC","#606B76","#818B91","#A7ACAD","#76B7B2","#FF9DA7","#EDC948"]),i=Object.freeze(["#EFEBE8","#F5F1F0","#F9F8F7","#F0EAE8","#F5F0EF","#FAF5F4","#F5EDDC","#FAF4E7","#FEFAF1","#E9EBE0","#F0F1E8","#F7F7F0","#EBEBEB","#F2F2F2","#F9F9F9","#DFE7E8","#E9F0F1","#F2F9F9","#F3EBF3","#F7F1F6","#FBF7FB","#E2E6F0","#E9EDF5","#F0F3FA","#E6ECF0","#EEF1F3","#F2F6F7","#DDEBF0","#E7F1F5","#F0F7FA","#DFEDEB","#E9F3F2","#F3FAF9","#E8EDDA","#EFF3E3","#F7FAF0","#F5EAD7","#F6EEE3","#FAF5F0","#F9E9E0","#F9EEE8","#F9F3EF"]),a=Object.freeze(["#4F6980","#3D7FA6","#8BC2CA","#499893","#62AEA1","#7DC4AE","#638B66","#86AF6A","#C3BB3D","#EFC637","#F6A035","#F37941","#F59A9A","#CD677F","#C497B7","#845578","#B9AA98","#7E756D","#9EB0A5","#B56252"]);t.ColorPickerPresets=Object.freeze({Dark:o.concat(r),Light:o.concat(i),MaestroFlowColors:a})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(3);t.PopupStyle={background:"white",border:"1px solid "+o.TabStyles.Colors.L6,boxShadow:o.TabStyles.Shadow.Standard,boxSizing:"border-box",lineHeight:"normal"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(5);function a(e){e.stopPropagation()}t.FocusTrap=function(e){var t=e.onTrap,n=o.__rest(e,["onTrap"]),s=r.useCallback((function(e){!function(e,t){var n=i.findBlurRelatedTarget(e);n&&!e.currentTarget.contains(n)&&(e.target.focus(),e.stopPropagation(),t&&t(e))}(e,t)}),[t]);return r.createElement("div",o.__assign({},n,{onBlur:s,onFocus:a}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),r=n(21),i=n(16),a=n(11);t.BorderWidth=1,t.ChildrenClassName=o.style({alignItems:"center",alignSelf:"stretch",display:"inline-flex",flexGrow:1,minHeight:24-2*t.BorderWidth,overflow:"hidden",padding:"0 7px",$nest:{".icon > &":{flexGrow:0,padding:0}}}),t.ClassName=o.style(a.PreventUserSelect,{alignItems:"center",backgroundColor:"transparent",border:t.BorderWidth+"px solid transparent",borderRadius:1,boxSizing:"border-box",color:r.TextColors.Primary,display:"flex",fontFamily:"inherit",fontSize:12,lineHeight:"normal",outline:"none",padding:0,position:"relative",$nest:{"&.outline":r.InteractiveBorderColors,"&.line":r.InteractiveBorderColors,"&&&.line":{borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:"transparent",borderBottomLeftRadius:0,borderBottomRightRadius:0},"&.text, &.icon":{display:"inline-flex"},"&.text:enabled, &.icon:enabled":{cursor:"pointer"},"&:hover:enabled:not(:focus)":{backgroundColor:r.TextFieldHoverColor},"&&&:active:enabled":{backgroundColor:"#ebebeb",borderColor:r.TextFieldBorderColors.Hover},"&&&&:focus":i.DefaultFocusIndicator,".valid > &":{color:r.TextColors.Valid,$nest:{"&.outline, &.line":{borderColor:i.ValidFocusIndicator.borderColor},"&&&:focus":i.ValidFocusIndicator}},'&[aria-invalid="true"]':{color:r.TextColors.Error,$nest:{"&.outline, &.line":{borderColor:i.ErrorFocusIndicator.borderColor},"&&&:focus":i.ErrorFocusIndicator}},".dark > &":{backgroundColor:"transparent !important",color:r.InvertTextColors.Primary},".dark > &.outline":r.InvertInteractiveBorderColors,".dark > &.line":r.InvertInteractiveBorderColors,".dark > &&&:focus":i.InvertFocusIndicator}}),t.PopupContainerStyle=Object.freeze({position:"relative"})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(2),a=n(44);!function(e){e[e.Min=0]="Min",e[e.Max=1]="Max"}(t.OpenEndedAt||(t.OpenEndedAt={})),t.SliderWidget=function(e){var t=e.ariaAttributes,n=o.__rest(e,["ariaAttributes"]);return r.createElement(a.SliderBaseWidget,o.__assign({},n,{ariaAttributes:{leftHandle:t,rightHandle:void 0},testId:i.makeTestId(e.testId,"Slider")}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),r=function(){function e(e,t,n){this.min=n?Math.ceil(e):e,this.max=n?Math.floor(t):t,this.roundToIntegers=n}return e.prototype.calculateSliderPositionAsProportion=function(e){if(this.min>this.max)return NaN;var t=((this.roundToIntegers?Math.round(e):e)-this.min)/(this.max-this.min);return o.clamp(t,0,1)},e.prototype.calculateNewSliderValueFromProportion=function(e){if(this.min>this.max)return NaN;if(e<0)return this.min;if(e>1)return this.max;var t=this.roundToIntegers?Math.round(e*(this.max-this.min))+this.min:e*(this.max-this.min)+this.min;return o.clamp(t,this.min,this.max)},e.prototype.calculateNewSliderValueForKey=function(e,t){var n=this.roundToIntegers?Math.round(t):t,r=(this.max-this.min)/100,i=(this.max-this.min)/10,a=this.roundToIntegers?1:r,s=this.roundToIntegers?Math.max(Math.round(i),1):i,l=n;switch(e){case"ArrowLeft":case"ArrowDown":l=n-a;break;case"ArrowUp":case"ArrowRight":l=n+a;break;case"PageDown":l=n-s;break;case"PageUp":l=n+s;break;case"Home":l=this.min;break;case"End":l=this.max;break;default:return}return o.clamp(l,this.min,this.max)},e.prototype.calculateNewSliderRangeValueForKey=function(e,t){var n=Math.max(t.to-t.from,0),r=(this.max-this.min)/100,i=(this.max-this.min)/10,a=t;switch(e){case"ArrowDown":case"ArrowLeft":if(t.from>this.min)a={from:s=Math.max(t.from-r,this.min),to:s+n};break;case"ArrowUp":case"ArrowRight":if(t.to<this.max)a={from:(l=Math.min(t.to+r,this.max))-n,to:l};break;case"PageDown":var s;if(t.from>this.min)a={from:s=Math.max(t.from-i,this.min),to:s+n};break;case"PageUp":var l;if(t.to<this.max)a={from:(l=Math.min(t.to+i,this.max))-n,to:l};break;case"Home":a={from:this.min,to:this.min+n};break;case"End":a={from:this.max-n,to:this.max};break;default:return}return{from:o.clamp(a.from,this.min,this.max),to:o.clamp(a.to,this.min,this.max)}},e.KeysRelevantForManipulatingSlider=Object.freeze({ArrowLeft:!0,ArrowRight:!0,ArrowUp:!0,ArrowDown:!0,PageUp:!0,PageDown:!0,Home:!0,End:!0}),e}();t.SliderValueLogic=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(0),a=n(2),s=n(53),l=n(41),d=n(242),u=n(245),c=n(105),p=n(246);!function(e){e[e.Automatic=0]="Automatic",e[e.Manual=1]="Manual"}(t.TabActivationMode||(t.TabActivationMode={})),function(e){e[e.Left=0]="Left",e[e.Justified=1]="Justified"}(o=t.TabListAlignment||(t.TabListAlignment={}));var h=function(e){function t(t){var n=e.call(this,t)||this;return n.setActiveIndex=function(e){n.setState({activeIndex:n.state.activeIndex===e?n.state.activeIndex:e,focusedIndex:e})},n.setFocusedIndex=function(e){n.setState({focusedIndex:e})},n.state={activeIndex:l.clamp(t.initialActiveIndex,0,t.tabs.length-1),focusedIndex:-1},n.activator=d.TabActivatorFactory.CreateInstance(n),n}return r.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){this.state.activeIndex!==t.activeIndex&&this.props.onActiveIndexChanged&&this.props.onActiveIndexChanged(this.state.activeIndex)},t.prototype.buildTabId=function(e){return a.makeTestId(this.props.testId,"tab"+(e+1))},t.prototype.buildTabPanelId=function(e){return a.makeTestId(this.props.testId,"tabpanel"+(e+1))},t.prototype.renderTabList=function(){var e=this;return this.props.tabs.map((function(t,n){var a={ariaControls:e.buildTabPanelId(n),id:e.buildTabId(n),index:n,isActive:e.isTabActive(n),isFocused:e.isTabFocused(n),onBlur:function(){return e.setFocusedIndex(-1)},onClick:e.setActiveIndex,onFocus:e.setFocusedIndex,onKeyDown:e.activator.handleKeyDown,tabContainerStyles:c.GetTabLabelContainerStyles(),tabContent:t.tabContent};return e.props.dimensionOverrides&&e.props.dimensionOverrides.tabHorizontalPadding&&(a.tabContainerStyles.paddingRight=e.props.dimensionOverrides.tabHorizontalPadding,a.tabContainerStyles.paddingLeft=e.props.dimensionOverrides.tabHorizontalPadding),void 0!==e.props.tabListAlignment&&e.props.tabListAlignment!==o.Justified||(a.flexPercent=100/e.props.tabs.length),i.createElement(p.TabWidget,r.__assign({key:n},a))}))},t.prototype.isTabActive=function(e){return e===this.state.activeIndex},t.prototype.isTabFocused=function(e){return e===this.state.focusedIndex},t.prototype.isAnchorTabActive=function(){return this.isTabActive(this.props.anchorTabIndex)},t.prototype.renderTabPanel=function(e){var t={ariaLabelledBy:this.buildTabId(e),containerStyle:this.getTabPanelContainerStyle(e),content:this.props.tabs[e].panelContent,id:this.buildTabPanelId(e)};return i.createElement(u.TabPanel,r.__assign({},t))},t.prototype.getTabPanelContainerStyle=function(e){return e!==this.props.anchorTabIndex?c.NonAnchorTabPanelStyles:this.isAnchorTabActive()?c.ActiveTabVisibility:c.InactiveTabVisibility},t.prototype.isAnIconDefinedInTabs=function(){for(var e=0;e<this.props.tabs.length;e++)if(this.props.tabs[e].tabContent.icon)return!0;return!1},t.prototype.render=function(){var e,t,n=this.props,o=(n.activationMode,n.anchorTabIndex),l=n.ariaLabel,d=n.dimensionOverrides,u=(n.initialActiveIndex,n.onActiveIndexChanged,n.tabListAlignment,n.tabs,n.testId),p=r.__rest(n,["activationMode","anchorTabIndex","ariaLabel","dimensionOverrides","initialActiveIndex","onActiveIndexChanged","tabListAlignment","tabs","testId"]),h=this.isAnIconDefinedInTabs(),f={"aria-label":l,"data-tb-test-id":a.makeTestId(u,"tablist"),role:"tablist",style:c.GetTabListStyles(h)};(null===(e=d)||void 0===e?void 0:e.tabHeight)&&(f.style.height=d.tabHeight);var g={"data-tb-test-id":a.makeTestId(u,"tabpanel-scroll-container"),style:r.__assign({},c.TabPanelScrollContainerStyles)};(null===(t=d)||void 0===t?void 0:t.tabPanelPadding)&&(g.style.padding=d.tabPanelPadding);var m={"data-tb-test-id":a.makeTestId(u,"tabpanel-container"),style:c.TabPanelContainerStyles};return i.createElement("div",r.__assign({},p),i.createElement(s.__UNSTABLE__INTERNAL__FocusIndicator,null,i.createElement("div",r.__assign({},f),this.renderTabList())),i.createElement("div",r.__assign({},g),i.createElement("div",r.__assign({},m),this.renderTabPanel(o),a.conditional(!this.isAnchorTabActive(),this.renderTabPanel(this.state.activeIndex)))))},t}(i.PureComponent);t.TabsWidget=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.tabsWidget=e,this.handleKeyDown=this.handleKeyDown.bind(this)}return e.prototype.tabIndexFromKeyDown=function(e,t){var n=this.tabsWidget.props.tabs.length;switch(t){case"ArrowRight":return(e+1)%n;case"ArrowLeft":return(n+e-1)%n;case"Home":return 0;case"End":return n-1;default:return-1}},e.preventDefaultAndStopPropagation=function(e){e.preventDefault(),e.stopPropagation()},e}();t.BaseTabActivator=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(4),i=n(16),a=n(11),s=n(3),l=n(32),d=s.TabStyles.Spacing,u=s.TabStyles.Colors,c=s.TabStyles.Typography.Color;t.ActiveTabVisibility={visibility:"visible"},t.InactiveTabVisibility={visibility:"hidden"},t.TabsWidgetDimensions={tabLabelPadding:d.ExtraLargeSpace,textOnlyTabListHeight:42,iconAndTextTabListHeight:54,tabIndicatorHeight:3},t.NonAnchorTabPanelStyles={position:"absolute",width:"100%",left:"0",top:"0"},t.TabPanelScrollContainerStyles={overflowY:"auto",padding:d.LargeSpace,position:"relative",WebkitOverflowScrolling:"touch"},t.TabPanelContainerStyles={position:"relative"},t.GetTabListStyles=function(e){return o.__assign({display:"flex",fontSize:e?s.TabStyles.Typography.Sizing.Tiny:s.TabStyles.Typography.Sizing.Default,height:e?t.TabsWidgetDimensions.iconAndTextTabListHeight:t.TabsWidgetDimensions.textOnlyTabListHeight},a.PreventUserSelect)},t.TabStyleName=r.style(i.PreFocusIndicator,{boxSizing:"border-box",display:"inline-block",height:"100%",overflow:"hidden",position:"relative",$nest:{"&::after":{backgroundColor:"transparent",content:'""',height:t.TabsWidgetDimensions.tabIndicatorHeight,position:"absolute",bottom:0,left:0,right:0},"&:hover::after":{backgroundColor:u.L5},'&[aria-selected="true"]::after':{backgroundColor:u.L8},"&&:active::after":{backgroundColor:u.L9}}}),t.GetTabLabelContainerStyles=function(){return{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingRight:t.TabsWidgetDimensions.tabLabelPadding,paddingLeft:t.TabsWidgetDimensions.tabLabelPadding}},t.DefaultTabLabelStyles=o.__assign({color:c.PrimaryLight,width:"100%"},l.TextEllipsis),t.TabContentStyle={alignItems:"center",display:"flex",justifyContent:"center"},t.LabelStyle=o.__assign({display:"block"},l.TextEllipsis)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(17),i=n(0),a=n(2);!function(e){e.Standard="standard",e.LowEmphasis="lowEmphasis",e.StandardDark="standard-dark",e.LowEmphasisDark="lowEmphasis-dark"}(t.TextLinkKind||(t.TextLinkKind={})),t.TextLinkWidget=i.forwardRef((function(e,t){var n=e.testId,s=o.__rest(e,["testId"]);return i.createElement(r.TextLink,o.__assign({"data-tb-test-id":a.makeTestId(n,"TextLink")},s,{ref:t}))})),t.TextLinkWidget.displayName="TextLinkWidget"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),r=n(11),i=n(3),a=n(32),s=n(15),l=i.TabStyles.Opacity,d=i.TabStyles.Sizing,u=i.TabStyles.Spacing,c=i.TabStyles.Typography,p=i.TabStyles.Colors,h=p.F2_5,f=p.F3;t.ListStyleName=o.style(r.PreventUserSelect,{color:c.Color.Primary,fontSize:c.Sizing.Default,lineHeight:"normal",overflowY:"auto",padding:u.DefaultSpace,"-webkit-overflow-scrolling":"touch",$nest:{'& [role="separator"]':{background:f,height:1,margin:"9.5px 0"},'& [role="group"] > :first-child':{alignItems:"center",display:"flex",fontWeight:"bold",minHeight:d.ListRowHeight},'& [role="option"]':{alignItems:"center",display:"flex",minHeight:d.ListRowHeight,paddingLeft:u.DefaultSpace,paddingRight:u.DefaultSpace,$nest:{"&::after":s.isIE?{content:'""',minHeight:"inherit",fontSize:0}:{},"&:hover":{backgroundColor:h},"&:focus":{},'&:active, &[aria-selected="true"]':{backgroundColor:f},'&[aria-disabled="true"]':{backgroundColor:"transparent",opacity:l.Disabled}}}}}),t.EllipsedStyleName=o.style({flexGrow:1},a.TextEllipsis),t.FilteringListStyleName=o.style({display:"flex",flexDirection:"column",lineHeight:"normal",$nest:{"&.reverse":{flexDirection:"column-reverse"}}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(4),a=n(6),s=n(3),l=n(15),d=n(5),u=n(24),c=n(7),p=n(61),h=n(62),f=n(25),g=n(107),m=i.style({flexShrink:0,padding:s.TabStyles.Spacing.SmallSpace}),v={width:"100%"};function y(e,t){return t[u.findIndex(t,(function(t){return f.isSelectableItem(t)&&t.value===e}))]}var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listId=d.generateId(),t.state={selectedItem:t.props.selectedValue?t.props.items[f.findIndexOfItemWithValue(t.props.items,t.props.selectedValue)]:void 0},t.handleFocusCapture=c.mergeEventHandlers((function(e){t.inputElement&&e.target!==t.inputElement&&t.inputElement.focus()}),(function(e){var n,o;return null===(o=(n=t.props).onFocusCapture)||void 0===o?void 0:o.call(n,e)})),t.clearInput=function(){t.handleInputChange({target:{value:""}}),t.setState({selectedItem:void 0})},t.handleInputChange=function(e){t.props.onFilterChange&&t.props.onFilterChange(e.target.value)},t.keyDownHandlers={"Ctrl+Home":function(){return t.moveSelection(-1,1)},"Ctrl+End":function(){return t.moveSelection(t.props.items.length,-1)},ArrowUp:function(){return t.moveSelection(t.props.items.indexOf(t.state.selectedItem),-1)},ArrowDown:function(){return t.moveSelection(t.props.items.indexOf(t.state.selectedItem),1)},Enter:function(){t.props.onSelect&&t.state.selectedItem&&t.props.onSelect(t.state.selectedItem.value)},Escape:function(){return!t.state.selectedItem||(t.setState({selectedItem:void 0}),!1)}},t.handleKeyDown=c.mergeEventHandlers((function(e){var n=(l.isCtrl(e)?"Ctrl+":"")+e.key;t.keyDownHandlers[n]&&(t.keyDownHandlers[n](e)||(e.stopPropagation(),e.preventDefault()))}),(function(e){var n,o;return null===(o=(n=t.props).onKeyDown)||void 0===o?void 0:o.call(n,e)})),t.handleDivRef=function(e){t.rootElement=e,e?window.setTimeout((function(){document.body.contains(e)&&t.setState({width:Math.ceil(e.getBoundingClientRect().width)},t.fixHeightForIE)})):t.setState({width:void 0})},t.fixHeightForIE=function(){if(l.isIE&&t.rootElement){t.rootElement.style.height="";var e=t.rootElement.getBoundingClientRect().height;t.rootElement.style.height=Math.ceil(e)+"px"}},t.handleSelect=function(e){t.setState({selectedItem:y(e,t.props.items)}),t.props.onSelect&&t.props.onSelect(e)},t.updateInputRef=function(e){t.inputElement=e},t}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.props,o=n.items,r=n.preserveSelection,i=this.state.selectedItem,a=t.selectedItem||{};if(e.items!==o&&(r&&i&&a.value===i.value?this.setState({selectedItem:y(i.value,o)}):this.setState({selectedItem:void 0})),e.items===o&&e.children===this.props.children||this.fixHeightForIE(),i&&(a.value!==i.value||e.items!==o)){var s=document.getElementById(this.listId+"-"+o.indexOf(i));s&&d.scrollIntoView(s)}},t.prototype.componentDidMount=function(){this.props.autoFocus&&d.timeoutFocus(this.inputElement)},t.prototype.moveSelection=function(e,t){var n=this.props.items;this.setState({selectedItem:n[f.findSelectableItemIndex(n,e,t)]})},t.prototype.render=function(){var e=this,t=this.props,n=t.autoComplete,s=(t.autoFocus,t.children),l=t.className,d=t.listTestId,u=t.inputTestId,c=t.items,f=(t.onFilterChange,t.onSelect,t.preserveSelection,t.searchPlaceholder),y=t.searchText,b=(t.selectedValue,t.style),C=t.testId,S=o.__rest(t,["autoComplete","autoFocus","children","className","listTestId","inputTestId","items","onFilterChange","onSelect","preserveSelection","searchPlaceholder","searchText","selectedValue","style","testId"]),_=this.state.selectedItem&&this.state.selectedItem.value;return delete S.selectOnEnterKey,r.createElement(p.DropdownPositionedAboveContext.Consumer,null,(function(t){return r.createElement("div",o.__assign({},S,{className:i.classes(g.FilteringListStyleName,t&&"reverse",l),"data-tb-test-id":C,onFocusCapture:e.handleFocusCapture,onKeyDown:e.handleKeyDown,ref:e.handleDivRef,style:o.__assign({width:e.state.width},b)}),r.createElement(a.TextFieldWidget,{"aria-activedescendant":_?e.listId+"-"+c.indexOf(e.state.selectedItem):void 0,"aria-autocomplete":"list","aria-controls":e.listId,"aria-expanded":!0,"aria-label":S["aria-label"],"aria-labelledby":S["aria-labelledby"],autoComplete:n,className:m,kind:"search",label:void 0,onChange:e.handleInputChange,onClear:e.clearInput,placeholder:f,ref:e.updateInputRef,role:"combobox",style:v,testId:u,value:y||""}),s,r.createElement(h.List,{disableTabAccessibility:!0,id:e.listId,items:c,onSelect:e.handleSelect,selectedValue:_,selectOnEnterKey:!1,testId:d}))}))},t.defaultProps={preserveSelection:!0},t}(r.Component);t.FilteringList=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(4),a=n(9),s=n(39),l=n(10),d=n(21),u=n(11),c=n(3),p=n(2),h=i.style(u.PreventUserSelect,{alignItems:"center",backgroundColor:"#ebebeb",border:"1px solid #d4d4d4",borderRadius:1,boxSizing:"border-box",color:d.TextColors.Primary,display:"inline-flex",fontFamily:"inherit",fontSize:c.TabStyles.Typography.Sizing.Default,lineHeight:"inherit",overflow:"hidden",padding:"0 3px",position:"relative",transition:"border-color 75ms",$nest:{"&:hover":{backgroundColor:"#f5f5f5"},'&[aria-selected="true"]':{backgroundColor:"#cccccc"},"&:focus":{borderColor:c.TabStyles.Colors.Focus,boxShadow:"none !important",outline:"none"},"&:active":{backgroundColor:"#d4d4d4"},'&[aria-disabled="true"]':{backgroundColor:"transparent !important",color:d.TextColors.Disabled+" !important"},'&[aria-busy="true"]::after':{backgroundColor:"rgba(255,255,255,0.6)",bottom:0,content:'""',left:0,pointerEvents:"none",position:"absolute",right:0,top:0}}}),f=function(e){return void 0===e&&(e="#666"),'<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8">\n<path fill="'+e+'" d="M4.78873239 4L7.83098592.95774648c.22535211-.22535211.22535211-.56338028 0-.7887324-.22535212-.2253521-.56338029-.2253521-.7887324 0L4 3.21126762.95774648.16901408c-.22535211-.2253521-.56338028-.2253521-.7887324 0-.2253521.22535212-.2253521.56338029 0 .7887324L3.21126762 4 .16901408 7.04225352c-.2253521.22535211-.2253521.56338028 0 .7887324.22535212.22535211.56338029.22535211.7887324 0L4 4.78873239l3.04225352 3.04225353c.22535211.22535211.56338028.22535211.7887324 0 .22535211-.22535212.22535211-.56338029 0-.7887324L4.78873239 4z"/>\n</svg>'},g=i.style({background:"center no-repeat url("+l.encodeSvg(f())+")",boxSizing:"border-box",flexShrink:0,height:22,marginLeft:5,marginRight:-3,width:22,$nest:{"&:hover":{backgroundImage:"url("+l.encodeSvg(f("#333"))+")"},"&:active":{backgroundImage:"url("+l.encodeSvg(f("#333"))+")"}}}),m=function(e){return r.createElement("div",{"aria-hidden":!0,className:g,"data-tb-test-id":"remove-Button",onClick:e.onRemove&&function(t){var n,o;null===(o=(n=e).onRemove)||void 0===o||o.call(n),t.stopPropagation()},role:"button",title:a.Messages.remove()})};t.Chip=r.forwardRef((function(e,t){var n=e.className,a=e.children,l=e.onRemove,d=e.testId,u=e.tooltip,c=(e.value,o.__rest(e,["className","children","onRemove","testId","tooltip","value"]));return r.createElement("div",o.__assign({"data-tb-test-id":p.makeTestId(d,"Chip"),ref:t,title:u},c,{className:i.classes(h,s.ClickBustingConfig.suppressionClassName,n)}),a,l&&r.createElement(m,{onRemove:l}))})),t.Chip.displayName="Chip"},,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=n(39);t.setConfig=function(e){!function(e){e.styles&&o.overrideTabStyles(e.styles)}(e),function(e){e.suppressClickBustingClassName&&(r.ClickBustingConfig.suppressionClassName=e.suppressClickBustingClassName)}(e)}},function(e,t,n){var o=n(113),r=n(171)((function(e,t,n){o(e,t,n)}));e.exports=r},function(e,t,n){var o=n(114),r=n(67),i=n(146),a=n(148),s=n(12),l=n(77),d=n(76);e.exports=function e(t,n,u,c,p){t!==n&&i(n,(function(i,l){if(p||(p=new o),s(i))a(t,n,l,u,e,c,p);else{var h=c?c(d(t,l),i,l+"",t,n,p):void 0;void 0===h&&(h=i),r(t,l,h)}}),l)}},function(e,t,n){var o=n(34),r=n(120),i=n(121),a=n(122),s=n(123),l=n(124);function d(e){var t=this.__data__=new o(e);this.size=t.size}d.prototype.clear=r,d.prototype.delete=i,d.prototype.get=a,d.prototype.has=s,d.prototype.set=l,e.exports=d},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var o=n(35),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=o(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},function(e,t,n){var o=n(35);e.exports=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var o=n(35);e.exports=function(e){return o(this.__data__,e)>-1}},function(e,t,n){var o=n(35);e.exports=function(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var o=n(34);e.exports=function(){this.__data__=new o,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var o=n(34),r=n(64),i=n(133),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof o){var s=n.__data__;if(!r||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var o=n(47),r=n(129),i=n(12),a=n(131),s=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,u=l.toString,c=d.hasOwnProperty,p=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||r(e))&&(o(e)?p:s).test(a(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var o=n(65),r=Object.prototype,i=r.hasOwnProperty,a=r.toString,s=o?o.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var o=!0}catch(e){}var r=a.call(e);return o&&(t?e[s]=n:delete e[s]),r}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var o,r=n(130),i=(o=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var o=n(18)["__core-js_shared__"];e.exports=o},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var o=n(134),r=n(141),i=n(143),a=n(144),s=n(145);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var o=n(135),r=n(34),i=n(64);e.exports=function(){this.size=0,this.__data__={hash:new o,map:new(i||r),string:new o}}},function(e,t,n){var o=n(136),r=n(137),i=n(138),a=n(139),s=n(140);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var o=n(37);e.exports=function(){this.__data__=o?o(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var o=n(37),r="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(o){var n=t[e];return n===r?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var o=n(37),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return o?void 0!==t[e]:r.call(t,e)}},function(e,t,n){var o=n(37),r="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?r:t,this}},function(e,t,n){var o=n(38);e.exports=function(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var o=n(38);e.exports=function(e){return o(this,e).get(e)}},function(e,t,n){var o=n(38);e.exports=function(e){return o(this,e).has(e)}},function(e,t,n){var o=n(38);e.exports=function(e,t){var n=o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},function(e,t,n){var o=n(147)();e.exports=o},function(e,t){e.exports=function(e){return function(t,n,o){for(var r=-1,i=Object(t),a=o(t),s=a.length;s--;){var l=a[e?s:++r];if(!1===n(i[l],l,i))break}return t}}},function(e,t,n){var o=n(67),r=n(149),i=n(150),a=n(153),s=n(154),l=n(71),d=n(72),u=n(158),c=n(74),p=n(47),h=n(12),f=n(160),g=n(75),m=n(76),v=n(164);e.exports=function(e,t,n,y,b,C,S){var _=m(e,n),w=m(t,n),I=S.get(w);if(I)o(e,n,I);else{var x=C?C(_,w,n+"",e,t,S):void 0,T=void 0===x;if(T){var D=d(w),E=!D&&c(w),k=!D&&!E&&g(w);x=w,D||E||k?d(_)?x=_:u(_)?x=a(_):E?(T=!1,x=r(w,!0)):k?(T=!1,x=i(w,!0)):x=[]:f(w)||l(w)?(x=_,l(_)?x=v(_):h(_)&&!p(_)||(x=s(w))):T=!1}T&&(S.set(w,x),b(x,w,y,C,S),S.delete(w)),o(e,n,x)}}},function(e,t,n){(function(e){var o=n(18),r=t&&!t.nodeType&&t,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===r?o.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,o=s?s(n):new e.constructor(n);return e.copy(o),o}}).call(this,n(49)(e))},function(e,t,n){var o=n(151);e.exports=function(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var o=n(152);e.exports=function(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}},function(e,t,n){var o=n(18).Uint8Array;e.exports=o},function(e,t){e.exports=function(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}},function(e,t,n){var o=n(155),r=n(69),i=n(70);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:o(r(e))}},function(e,t,n){var o=n(12),r=Object.create,i=function(){function e(){}return function(t){if(!o(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var o=n(27),r=n(22),i="[object Arguments]";e.exports=function(e){return r(e)&&o(e)==i}},function(e,t,n){var o=n(50),r=n(22);e.exports=function(e){return r(e)&&o(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var o=n(27),r=n(69),i=n(22),a="[object Object]",s=Function.prototype,l=Object.prototype,d=s.toString,u=l.hasOwnProperty,c=d.call(Object);e.exports=function(e){if(!i(e)||o(e)!=a)return!1;var t=r(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&d.call(n)==c}},function(e,t,n){var o=n(27),r=n(73),i=n(22),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&r(e.length)&&!!a[o(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var o=n(66),r=t&&!t.nodeType&&t,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===r&&o.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(49)(e))},function(e,t,n){var o=n(165),r=n(77);e.exports=function(e){return o(e,r(e))}},function(e,t,n){var o=n(166),r=n(48);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var d=t[s],u=i?i(n[d],e[d],d,n,e):void 0;void 0===u&&(u=e[d]),a?r(n,d,u):o(n,d,u)}return n}},function(e,t,n){var o=n(48),r=n(36),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&r(a,n)&&(void 0!==n||t in e)||o(e,t,n)}},function(e,t,n){var o=n(168),r=n(71),i=n(72),a=n(74),s=n(78),l=n(75),d=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&r(e),c=!n&&!u&&a(e),p=!n&&!u&&!c&&l(e),h=n||u||c||p,f=h?o(e.length,String):[],g=f.length;for(var m in e)!t&&!d.call(e,m)||h&&("length"==m||c&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||f.push(m);return f}},function(e,t){e.exports=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}},function(e,t,n){var o=n(12),r=n(70),i=n(170),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return i(e);var t=r(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var o=n(172),r=n(179);e.exports=function(e){return o((function(t,n){var o=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&r(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++o<i;){var l=n[o];l&&e(t,l,o,a)}return t}))}},function(e,t,n){var o=n(79),r=n(173),i=n(175);e.exports=function(e,t){return i(r(e,t,o),e+"")}},function(e,t,n){var o=n(174),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=r(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var d=Array(t+1);++a<t;)d[a]=i[a];return d[t]=n(l),o(e,this,d)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var o=n(176),r=n(178)(o);e.exports=r},function(e,t,n){var o=n(177),r=n(68),i=n(79),a=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:o(t),writable:!0})}:i;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=800,o=16,r=Date.now;e.exports=function(e){var t=0,i=0;return function(){var a=r(),s=o-(a-i);if(i=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var o=n(36),r=n(50),i=n(78),a=n(12);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?r(n)&&i(t,n.length):"string"==s&&t in n)&&o(n[t],e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.subscribeOrUnsubscribeWindows=function(t,n,o){n?(t.addEventListener("mouseup",o,!0),t.addEventListener("touchend",o,!0)):(t.removeEventListener("mouseup",o,!0),t.removeEventListener("touchend",o,!0));for(var r=t.document.getElementsByTagName("iframe"),i=0;i<r.length;i++)e.trySubscribeOrUnscribeWindows(r[i].contentWindow,n,o)},e.trySubscribeOrUnscribeWindows=function(t,n,o){try{e.subscribeOrUnsubscribeWindows(t,n,o)}catch(e){}},e.subscribe=function(t){return e.trySubscribeOrUnscribeWindows(window,!0,t),function(){e.trySubscribeOrUnscribeWindows(window,!1,t)}},e}();t.GlobalPointerUpListener=o},function(e,t,n){var o=n(12),r=n(182),i=n(183),a="Expected a function",s=Math.max,l=Math.min;e.exports=function(e,t,n){var d,u,c,p,h,f,g=0,m=!1,v=!1,y=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var n=d,o=u;return d=u=void 0,g=t,p=e.apply(o,n)}function C(e){var n=e-f;return void 0===f||n>=t||n<0||v&&e-g>=c}function S(){var e=r();if(C(e))return _(e);h=setTimeout(S,function(e){var n=t-(e-f);return v?l(n,c-(e-g)):n}(e))}function _(e){return h=void 0,y&&d?b(e):(d=u=void 0,p)}function w(){var e=r(),n=C(e);if(d=arguments,u=this,f=e,n){if(void 0===h)return function(e){return g=e,h=setTimeout(S,t),m?b(e):p}(f);if(v)return clearTimeout(h),h=setTimeout(S,t),b(f)}return void 0===h&&(h=setTimeout(S,t)),p}return t=i(t)||0,o(n)&&(m=!!n.leading,c=(v="maxWait"in n)?s(i(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),w.cancel=function(){void 0!==h&&clearTimeout(h),g=0,d=f=u=h=void 0},w.flush=function(){return void 0===h?p:_(r())},w}},function(e,t,n){var o=n(18);e.exports=function(){return o.Date.now()}},function(e,t,n){var o=n(12),r=n(184),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,d=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return i;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=l.test(e);return n||d.test(e)?u(e.slice(2),n?2:8):s.test(e)?i:+e}},function(e,t,n){var o=n(27),r=n(22),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||r(e)&&o(e)==i}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=function(e){return e.stopPropagation()},a={onCopy:i,onCut:i,onPaste:i,onCompositionEnd:i,onCompositionStart:i,onCompositionUpdate:i,onSelect:i,onAuxClick:i,onClick:i,onContextMenu:i,onDoubleClick:i,onDrag:i,onDragEnd:i,onDragEnter:i,onDragExit:i,onDragLeave:i,onDragOver:i,onDragStart:i,onDrop:i,onMouseDown:i,onMouseEnter:i,onMouseLeave:i,onMouseMove:i,onMouseOut:i,onMouseOver:i,onMouseUp:i,onKeyDown:i,onKeyPress:i,onKeyUp:i,onTouchCancel:i,onTouchEnd:i,onTouchMove:i,onTouchStart:i,onPointerDown:i,onPointerMove:i,onPointerUp:i,onPointerCancel:i,onPointerEnter:i,onPointerLeave:i,onPointerOver:i,onPointerOut:i,onBlur:i,onBeforeInput:i,onChange:i,onInput:i,onReset:i,onSubmit:i,onWheel:i,onAnimationStart:i,onAnimationEnd:i,onAnimationIteration:i,onTransitionEnd:i};t.PortalEventTrap=function(e){return r.createElement("div",o.__assign({},a,e,{"data-portal-trap":!0}))},t.PortalEventTrap.displayName="PortalEventTrap"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=function(){var e=this;this.internalEncapsulatedIsShown=!1,this.render=function(t){if(e.internalEncapsulatedIsShown)throw new Error("Cannot render the element; it is already shown");e.anchor=document.createElement("div"),o.render(t,e.anchor),e.internalEncapsulatedIsShown=!0},this.remove=function(){e.internalEncapsulatedIsShown&&(o.unmountComponentAtNode(e.anchor),e.anchor=null),e.internalEncapsulatedIsShown=!1},this.isShown=function(){return e.internalEncapsulatedIsShown}};t.HostedStackedElementContainer=r},function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var l,d=[],u=!1,c=-1;function p(){u&&l&&(u=!1,l.length?d=l.concat(d):c=-1,d.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=d.length;t;){for(l=d,d=[];++c<t;)l&&l[c].run();c=-1,t=d.length}l=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new f(e,t)),1!==d.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownArrowSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="18" height="18">\n  <style>\n    .onDarkBackground{opacity:0.5}\n    .onDarkBackground.active,.onDarkBackground.hover{opacity:1}\n    .disabled{opacity:0.35!important}\n    .active path,.hover path{fill:#333}\n    path,.disabled path{fill:#666}\n    .onDarkBackground path{fill:#fff!important}\n  </style>\n  <path d="M5.8 7.3l3.5 4.6c.1.1.2.1.3 0l3.6-4.6c.1-.2 0-.3-.2-.3H6c-.2 0-.3.1-.2.3z"/>\n</svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandoSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="13" height="13">\n  <style>\n    path{fill:#666}\n    .active path{fill:#333}\n  </style>\n  <path d="M2.8,9.2l3.7-3.6l3.7,3.6c0.2,0.2,0.6,0.2,0.8,0s0.2-0.7,0-0.8L6.5,3.8L2,8.4\tC1.8,8.6,1.8,8.9,2,9.2C2.2,9.4,2.6,9.4,2.8,9.2z"/>\n</svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IconDropdownArrowSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="7" height="5">\n  <style>\n    .onDarkBackground{opacity:0.5}\n    .onDarkBackground.active,.onDarkBackground.hover{opacity:1}\n    .disabled{opacity:0.35!important}\n    .active path,.hover path{fill:#333}\n    path,.disabled path{fill:#666}\n    .onDarkBackground path{fill:#fff!important}\n  </style>\n  <path d="M5.8,1H1.2C1.1,1,1,1.1,1.1,1.2l2.3,2.7C3.4,4,3.6,4,3.6,3.9l2.3-2.7 C6,1.1,5.9,1,5.8,1z"/>\n</svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemArrowSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="18" height="18">\n  <style>\n    .disabled{opacity:0.35}\n    .active path{fill:#333}\n    path,.disabled path{fill:#666}\n  </style>\n  <path d="M7.3,13.2l4.6-3.5c0.1-0.1,0.1-0.2,0-0.3L7.3,5.8C7.1,5.7,7,5.8,7,6v7C7,13.2,7.1,13.3,7.3,13.2z"/>\n</svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemCheckSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="10" height="10">\n  <style>\n    .disabled{opacity:0.35}\n    .active path{fill:#333}\n    path,.disabled path{fill:#666}\n  </style>\n  <path d="M4.2 9.3C4 9.3 3.8 9.2 3.7 9.1l-3-3L1.8 5l2.3 2.3 4-6.7 1.3 0.8L4.9 9C4.7 9.2 4.5 9.3 4.2 9.3L4.2 9.3z" />\n</svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SliderHandleSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="20" height="20">\n  <style>\n    circle{fill:#fff;stroke-width:1;stroke:#666}\n    .focus circle{stroke:#3498db}\n    .active circle{stroke:#333}\n    .disabled circle{fill:#ebebeb;stroke:#b4b4b4}\n  </style>\n  <circle cx="10" cy="10" r="7.5"/>\n</svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SliderLeftHandleSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="20" height="20">\n  <style>\n    .bg{fill:#fff}\n    .outline{fill:#666}\n    .focus .outline{fill:#3498db}\n    .active .outline{fill:#333}\n    .disabled .bg{fill:#ebebeb}\n    .disabled .outline{fill:#b4b4b4}\n  </style>\n  <path class="bg" d="M11.2,2.5c-4.3,0-7.7,3.3-7.7,7.5s3.5,7.5,7.8,7.5h4.3v-15H11.2z"/>\n  <path class="outline" d="M15,3v14h-3.6C7.3,17,4,13.9,4,10s3.3-7,7.4-7H15 M16,2h-4.6C6.7,2,3,5.6,3,10s3.7,8,8.4,8H16V2 L16,2z"/>\n</svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SliderRightHandleSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="20" height="20">\n  <style>\n    .bg{fill:#fff}\n    .outline{fill:#666}\n    .focus .outline{fill:#3498db}\n    .active .outline{fill:#333}\n    .disabled .bg{fill:#ebebeb}\n    .disabled .outline{fill:#b4b4b4}\n  </style>\n  <path class="bg" d="M7.8,2.6c4.3,0,7.8,3.3,7.8,7.4s-3.5,7.4-7.8,7.4H3.5V2.6H7.8z"/>\n  <path class="outline" d="M4,3h3.6c4.1,0,7.4,3.1,7.4,7s-3.3,7-7.4,7H4V3 M3,2v16h4.6\tc4.6,0,8.4-3.6,8.4-8s-3.7-8-8.4-8H3L3,2z"/>\n</svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.StepperLeftSvg='\n<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="18" height="22">\n  <style>\n    path{fill:#666}\n    .active path,.hover path{fill:#333}\n    .disabled{opacity:0.35!important}\n  </style>\n  <path d="M10.7,14l-4.4-3.3c-0.1-0.1-0.1-0.2,0-0.3L10.7,7C10.8,7,11,7,11,7.2v6.7C11,14,10.8,14,10.7,14z"></path>\n</svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.StepperRightSvg='<svg xmlns="http://www.w3.org/2000/svg" class="$state$" width="18" height="22">\n  <style>\n    path{fill:#666}\n    .active path,.hover path{fill:#333}\n    .disabled{opacity:0.35!important}\n  </style>\n  <path d="M7,13.9V7.2C7,7,7.2,7,7.3,7l4.4,3.4c0.1,0.1,0.1,0.2,0,0.3L7.3,14C7.2,14,7,14,7,13.9z" />\n</svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(8),a=n(199),s=n(31),l=n(202),d=n(23),u=n(9),c=n(203),p=n(5),h=function(e){function t(t){var n=e.call(this,t)||this;return n.headerId=p.generateId(),n.handleOnConfirm=function(e){n.props.onConfirm&&n.props.onConfirm(e)},n.handleOnChange=function(e){n.props.onChange&&e.getTime()!==n.props.selectedDate.getTime()&&n.props.onChange(e)},n.handleFocusedDateChange=function(e){e!==n.state.focusedDate&&n.setState({focusedDate:e})},n.handleClickPrevMonth=function(){n.handleFocusedDateChange(d.getDateWithMonthOffset(n.state.focusedDate,-1))},n.handleClickNextMonth=function(){n.handleFocusedDateChange(d.getDateWithMonthOffset(n.state.focusedDate,1))},n.isDateDisabled=function(e){var t,o;return!!(null===(o=(t=n.props).isDateDisabled)||void 0===o?void 0:o.call(t,e))},n.state={focusedDate:n.props.selectedDate},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){if(this.props.autofocus){var e=i.findDOMNode(this).querySelectorAll('[tabindex="0"]');e.length>0&&p.timeoutFocus(e[e.length-1])}},t.prototype.componentDidUpdate=function(e){e.selectedDate!==this.props.selectedDate&&this.setState({focusedDate:this.props.selectedDate})},t.prototype.getDisplayedMonthAndYear=function(){return u.Formatters.formatFullMonthAndFullYear(this.state.focusedDate)},t.prototype.render=function(){var e=this.getDisplayedMonthAndYear(),t={id:this.headerId,nextButtonTitle:u.Messages.nextMonth(),onNextClick:this.handleClickNextMonth,onPreviousClick:this.handleClickPrevMonth,prevButtonTitle:u.Messages.previousMonth(),role:"heading",style:s.datePickerHeaderStyle},n={focusedDate:this.state.focusedDate,isDateDisabled:this.isDateDisabled,onChange:this.handleOnChange,onConfirm:this.handleOnConfirm,onFocusedDateChange:this.handleFocusedDateChange,selectedDate:this.props.selectedDate,showWeekNumbers:!!this.props.showWeekNumbers};return r.createElement("div",{style:s.datePickerWidgetStyle,"data-tb-test-id":this.props.testId},r.createElement(c.CarouselWidget,o.__assign({},t),e),r.createElement("div",{"aria-labelledby":this.headerId,role:"grid","aria-rowcount":-1},r.createElement(l.DatePickerDayOfWeekHeader,{showWeekNumbers:this.props.showWeekNumbers}),r.createElement(a.DatePickerBody,o.__assign({},n))))},t.defaultProps={selectedDate:new Date},t}(r.Component);t.DatePickerWidget=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(31),a=n(15),s=n(23),l=n(5),d=n(53),u=n(200),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasFocus:!1},t.handleRef=function(e){t.element=e},t.handleKeyDown=function(e){var n=s.getStartDayOfWeek(t.props.showWeekNumbers),o=e.key;if(a.isCtrl(e))switch(o){case"Home":t.handleFocusedDateChange(s.getFirstDayOfMonth(t.props.focusedDate));break;case"End":t.handleFocusedDateChange(s.getLastDayOfMonth(t.props.focusedDate));break;default:return}else if(e.altKey)switch(o){case"PageDown":t.handleFocusedDateChange(s.getDateWithYearOffset(t.props.focusedDate,1));break;case"PageUp":t.handleFocusedDateChange(s.getDateWithYearOffset(t.props.focusedDate,-1));break;default:return}else switch(o){case"ArrowRight":t.handleFocusedDateChange(s.getDateWithDayOffset(t.props.focusedDate,1));break;case"ArrowLeft":t.handleFocusedDateChange(s.getDateWithDayOffset(t.props.focusedDate,-1));break;case"ArrowUp":t.handleFocusedDateChange(s.getDateWithDayOffset(t.props.focusedDate,-7));break;case"ArrowDown":t.handleFocusedDateChange(s.getDateWithDayOffset(t.props.focusedDate,7));break;case"PageDown":t.handleFocusedDateChange(s.getDateWithMonthOffset(t.props.focusedDate,1));break;case"PageUp":t.handleFocusedDateChange(s.getDateWithMonthOffset(t.props.focusedDate,-1));break;case"Home":t.handleFocusedDateChange(s.getFirstDayOfWeek(t.props.focusedDate,n));break;case"End":t.handleFocusedDateChange(s.getLastDayOfWeek(t.props.focusedDate,n));break;case" ":case"Enter":break;default:return}e.preventDefault(),e.stopPropagation()},t.handleKeyUp=function(e){switch(e.key){case" ":t.props.isDateDisabled&&t.props.isDateDisabled(t.props.focusedDate)||t.props.onChange(t.props.focusedDate);break;case"Enter":t.props.isDateDisabled&&t.props.isDateDisabled(t.props.focusedDate)||t.props.onConfirm(t.props.focusedDate);break;default:return}e.preventDefault(),e.stopPropagation()},t.handleFocusedDateChange=function(e){t.state.hasFocus||t.setState({hasFocus:!0}),t.props.onFocusedDateChange(e)},t.handleBlur=function(e){var n=l.findBlurRelatedTarget(e);t.element&&!t.element.contains(n)&&t.state.hasFocus&&t.setState({hasFocus:!1})},t}return o.__extends(t,e),t.prototype.render=function(){for(var e=s.getStartDayOfWeek(this.props.showWeekNumbers),t=s.getFirstDisplayedDate(this.props.focusedDate,e),n=[],a=0;a<6;a++){var l={bodyHasFocus:this.state.hasFocus,focusedDate:this.props.focusedDate,isDateDisabled:this.props.isDateDisabled,onChange:this.props.onChange,onFocusedDateChange:this.handleFocusedDateChange,selectedDate:this.props.selectedDate,showWeekNumbers:this.props.showWeekNumbers,startDate:s.getDateWithDayOffset(t,7*a)};n.push(r.createElement(u.DatePickerRow,o.__assign({key:a},l)))}return r.createElement(d.__UNSTABLE__INTERNAL__FocusIndicator,null,r.createElement("div",{onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,ref:this.handleRef,style:i.datePickerBodyStyle},n))},t}(r.PureComponent);t.DatePickerBody=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(201),a=n(23),s=n(9),l=n(31),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getCell=function(e){var t=this,n=a.getDateWithDayOffset(this.props.startDate,e),l=this.props.isDateDisabled&&this.props.isDateDisabled(n),d=n.getMonth()===this.props.focusedDate.getMonth(),u=a.areSameDates(n,this.props.selectedDate),c=a.areSameDates(n,new Date),p=a.areSameDates(n,this.props.focusedDate),h=p&&this.props.bodyHasFocus,f={"aria-label":(s.Formatters.formatFullDate(n)+" "+(this.props.showWeekNumbers?""+s.Messages.weekNumber({weekNum:a.getISOWeekNum(this.props.startDate).toString()}):"")).trim(),isDisabled:l,isFocused:h,isInCurrMonth:d,isSelected:u,isTabbable:p,isToday:c,onClick:function(e){e.preventDefault(),d||t.props.onFocusedDateChange(n),l||t.props.onChange(n)},onFocus:function(){return t.props.onFocusedDateChange(n)}};return r.createElement(i.DatePickerCell,o.__assign({key:e},f),n.getDate())},t.prototype.render=function(){for(var e=[],t=0;t<7;t++)e.push(this.getCell(t));if(this.props.showWeekNumbers){var n=a.getISOWeekNum(this.props.startDate),i=s.Messages.weekNumber({weekNum:n.toString()}),d={style:l.datePickerCellStyles.isoWeekNum,"aria-label":i,role:"gridcell"};e.unshift(r.createElement("div",o.__assign({},d,{key:"iso-week"}),n))}return r.createElement("div",{style:{display:"flex"},role:"row"},e)},t}(r.PureComponent);t.DatePickerRow=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(4),a=n(31),s=n(16),l=n(19),d=i.style(s.PreFocusIndicator,{$nest:{"&:focus":{position:"relative"}}}),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRef=function(e){t.element=e},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.syncFocus()},t.prototype.componentDidUpdate=function(){this.syncFocus()},t.prototype.syncFocus=function(){this.element&&this.props.isFocused&&this.element.focus()},t.prototype.getStyle=function(e,t,n,r){var i;return i=t?r&&n?a.datePickerCellStyles.todaySelected:r?a.datePickerCellStyles.today:n?a.datePickerCellStyles.selected:a.datePickerCellStyles.default:a.datePickerCellStyles.inOtherMonths,e&&(i=o.__assign(o.__assign({},i),a.datePickerCellStyles.disabled)),i},t.prototype.render=function(){var e=this.props,t=e.isInCurrMonth,n=e.isDisabled,i=e.isToday,a=e.isSelected,s=e.isTabbable,u=this.getStyle(!!n,!!t,!!a,!!i),c=t?s?0:-1:void 0,p={"aria-current":i||void 0,"aria-disabled":n||void 0,"aria-label":this.props["aria-label"],"aria-selected":a||void 0,className:d,onFocus:this.props.onFocus,role:"gridcell",style:u,tabIndex:c};return r.createElement(l.PointerEventWrapper,{pointerClick:this.props.onClick},r.createElement("div",o.__assign({},p,{ref:this.handleRef}),this.props.children))},t}(r.PureComponent);t.DatePickerCell=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(31),a=n(23),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getDayOfWeekHeader=function(){var e=a.getStartDayOfWeek(!!this.props.showWeekNumbers),t=a.getLocalizedDaysOfWeek(e);return this.props.showWeekNumbers&&t.unshift("#"),t},t.prototype.render=function(){var e=this,t=[];return this.getDayOfWeekHeader().forEach((function(n,o){var a=e.props.showWeekNumbers&&0===o?i.datePickerCellStyles.isoWeekNumColHeader:i.datePickerCellStyles.dayOfWeekColHeader;t.push(r.createElement("div",{key:o,style:a,role:"columnheader"},n))})),r.createElement("div",{style:i.datePickerDayOfWeekHeaderStyle,role:"rowheader"},t)},t}(r.Component);t.DatePickerDayOfWeekHeader=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(4),i=n(10),a=n(6),s=n(20),l=r.style({alignItems:"center",display:"flex",justifyContent:"space-between"}),d=r.style({height:30,width:30});function u(e){return function(t){return o.createElement(s.Img,{draggable:!1,height:e.height,src:i.encodeSvg(e.icon(t)),width:e.width})}}var c=u(i.StepperLeftIcon),p=u(i.StepperRightIcon);t.CarouselWidget=function(e){var t=e.children,n=e.id,r=e.nextButtonTitle,i=e.onNextClick,s=e.onPreviousClick,u=e.prevButtonTitle,h=e.role,f=e.style,g=o.useState(!1),m=g[0],v=g[1],y=o.createElement(a.ButtonWidget,{buttonType:a.ButtonType.Icon,className:d,getContent:c,handleClick:s,testId:"stepper-left",title:u}),b=o.createElement(a.ButtonWidget,{buttonType:a.ButtonType.Icon,className:d,getContent:p,handleClick:i,testId:"stepper-right",title:r});return o.createElement("div",{className:l,onBlur:function(){return v(!1)},onFocus:function(){return v(!0)},style:f},y,o.createElement("span",{id:n,role:h,"aria-live":m?"assertive":"off","aria-atomic":!0},t),b)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Destructive=0]="Destructive",e[e.Attention=0]="Attention",e[e.OutlineAttention=6]="OutlineAttention",e[e.Primary=2]="Primary",e[e.Go=2]="Go",e[e.OutlineGo=5]="OutlineGo",e[e.Outline=3]="Outline",e[e.Grey=1]="Grey",e[e.OutlineDark=4]="OutlineDark",e[e.LightOutline=4]="LightOutline",e[e.LowEmphasis=9]="LowEmphasis",e[e.Text=7]="Text",e[e.DarkText=8]="DarkText",e[e.DarkBoldText=9]="DarkBoldText",e[e.Icon=10]="Icon",e[e.IconOutline=11]="IconOutline"}(t.ButtonType||(t.ButtonType={}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(6),a=n(3),s=Object.freeze({backgroundColor:a.TabStyles.Colors.L8,borderColor:a.TabStyles.Colors.L8,color:a.TabStyles.Colors.White}),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={label:void 0},t.timeoutId=void 0,t.handleClick=function(e){var n,o;t.setState({label:t.props.delayLabel}),t.timeoutId=window.setTimeout(t.handleReset,t.props.delay),null===(o=(n=t.props).handleClick)||void 0===o||o.call(n,e)},t.handleReset=function(){t.timeoutId=void 0,t.setState({label:void 0}),t.props.handleReset()},t}return o.__extends(t,e),t.prototype.componentWillUnmount=function(){window.clearTimeout(this.timeoutId)},t.prototype.render=function(){var e=this.props,t=e.children,n=(e.delay,e.delayLabel,e.handleClick,e.handleReset,e.label),a=e.onKeyDown,l=e.onKeyPress,d=e.onKeyUp,u=e.onMouseDown,c=e.onMouseUp,p=e.style,h=o.__rest(e,["children","delay","delayLabel","handleClick","handleReset","label","onKeyDown","onKeyPress","onKeyUp","onMouseDown","onMouseUp","style"]),f={onClick:this.handleClick,onKeyDown:a,onKeyPress:l,onKeyUp:d,onMouseDown:u,onMouseUp:c},g=!!this.state.label;return r.createElement(i.ButtonWidget,o.__assign({},h,!g&&f,{"aria-disabled":h.disabled||g,"aria-live":"assertive",style:o.__assign(o.__assign({},p),g&&s)}),this.state.label||n,t)},t.defaultProps={delay:5e3},t}(r.PureComponent);t.AutoResetButton=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(0),a=n(8),s=n(2),l=n(24);!function(e){e.Multiple="Multiple",e.Single="Single"}(o=t.SelectableButtonGroupSelectionBehavior||(t.SelectableButtonGroupSelectionBehavior={}));var d=function(e){function t(t){var n=e.call(this,t)||this;return n.childButtons=[],n.buttonElements=[],n.handleButtonRefs=[],n.handleButtonRefWrapper=function(e){return void 0===n.handleButtonRefs[e]&&(n.handleButtonRefs[e]=function(t){n.buttonElements[e]=a.findDOMNode(t)}),n.handleButtonRefs[e]},n.handleClick=function(e){var t=e.currentTarget,r=l.findIndex(n.childButtons,(function(e,o){return t===n.buttonElements[o]})),i=n.childButtons[r].props.selected;n.props.selectionBehavior===o.Single&&i||n.props.onChange&&n.props.onChange(r,!i)},n.handleFocus=function(e){var t=e.target,o=l.findIndex(n.childButtons,(function(e,o){return t===n.buttonElements[o]&&!e.props.disabled}));o>=0&&o!==n.state.focusIndex&&n.setState({focusIndex:o})},n.handleKeyDown=function(e){var t=n.childButtons.length,r=0,i=n.state.focusIndex;if("ArrowLeft"===e.key||"ArrowUp"===e.key)r=-1;else if("ArrowDown"===e.key||"ArrowRight"===e.key)r=1;else if("Home"===e.key)i=-1,r=1;else{if("End"!==e.key)return;i=t,r=-1}e.preventDefault(),e.stopPropagation();do if((i=(i+r+t)%t)===n.state.focusIndex)return;while(n.childButtons[i].props.disabled);n.props.selectionBehavior===o.Single&&!n.isButtonSelected(i)&&n.props.onChange&&n.props.onChange(i,!0),i!==n.state.focusIndex&&n.setState({focusIndex:i},(function(){void 0!==n.buttonElements[n.state.focusIndex]&&n.buttonElements[n.state.focusIndex].focus()}))},n.updateChildButtons(),n.state={focusIndex:n.getInitialFocusIndex()},n}return r.__extends(t,e),t.prototype.updateChildButtons=function(){var e=[],t=0;if(i.Children.map(this.props.children,(function(n){void 0!==n.props.buttonType&&(e.push(n),n.props.selected&&t++)})),e.length<2)throw Error("Invalid button count: 2+ are required");if(this.props.selectionBehavior===o.Single&&t>1)throw Error("Invalid selected button count: SelectableButtonGroupSelectionBehavior.Single requires one or zero buttons to be selected. "+t+" are selected");this.childButtons=e},t.prototype.getInitialFocusIndex=function(){var e=l.findIndex(this.childButtons,(function(e){return!!e.props.selected&&!e.props.disabled}));return e<0&&(e=l.findIndex(this.childButtons,(function(e){return!e.props.disabled}))),e},t.prototype.isButtonSelected=function(e){return!!this.childButtons[e].props.selected},t.prototype.renderChildren=function(){var e=this,t=0;return i.Children.map(this.props.children,(function(n){if(void 0===n.props.buttonType)return n;var r={disableTabAccessibility:e.state.focusIndex!==t,handleClick:e.handleClick,key:t,ref:e.handleButtonRefWrapper(t),role:e.props.selectionBehavior===o.Single?"radio":"button",selected:!!n.props.selected};return t++,i.cloneElement(n,r)}))},t.prototype.render=function(){this.updateChildButtons();var e=this.props.selectionBehavior===o.Single,t=r.__assign({"data-tb-test-id":s.makeTestId(this.props.testId,"SelectableButtonGroup"),onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,role:e?"radiogroup":void 0,style:this.props.style,title:this.props.title},s.conditional(!e,{"aria-multiselectable":!0}));return i.createElement("div",r.__assign({},t),this.renderChildren())},t}(i.Component);t.SelectableButtonGroupWidget=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(6),a=n(86),s=n(87),l=n(208),d=n(54),u=1;t.DefaultOffset=s.BorderWidth+s.Padding+a.Height/2;var c="Right",p={position:"relative",display:"inline-block"},h=function(e){function n(n){var r=e.call(this,n)||this;return r.setContent=function(e){r.canceled||r.setState((function(t){return t.content?t:o.__assign(o.__assign({},t),{content:e})}))},r.open=function(){r.props.getContent().then(r.setContent)},r.close=function(){r.setState({content:null,positioned:!1})},r.handleClick=function(e){r.state.content?r.close():r.open(),e.preventDefault()},r.handleMouseEnter=function(e){r.state.content||(r.canceled=!1,r.open())},r.handleMouseLeave=function(e){var t=e.clientX,n=e.clientY;if(r.state.content||(r.canceled=!0),r.tooltipElement){var o=r.tooltipElement.getBoundingClientRect(),i=o.left,a=o.right,s=o.top,l=o.bottom;switch(r.state.side){case"Top":l+=u;break;case"Bottom":s-=u;break;case"Left":a+=u;break;case"Right":i-=u;break;default:d.assertNever(r.state.side)}new d.ClosedRectangle(i,a,s,l).containsPoint(t,n)||r.close()}},r.updateTargetRef=function(e){r.targetElement=e},r.updateTooltipRef=function(e){r.tooltipElement=e},r.state={content:null,positioned:!1,side:n.defaultSide||c,offset:t.DefaultOffset},r}return o.__extends(n,e),n.prototype.componentDidUpdate=function(){if(this.state.content&&!this.state.positioned){if(!this.targetElement||!this.tooltipElement)throw new Error("reference to target or tooltip isn't set!");for(var e=(this.props.boundaryElement||document.body).getBoundingClientRect(),t=this.targetElement.getBoundingClientRect(),o=this.tooltipElement.getBoundingClientRect(),r=o.width,i=o.height,a=this.props.defaultSide||c,s=this.state.offset,l=0,u=n.computeTooltipRectangle(t,r,i,a,s);l<d.NumberOfSides&&!d.containsClientRect(e,u);)l++,a=d.getNextSideClockwise(a),u=n.computeTooltipRectangle(t,r,i,a,s);this.setState({positioned:!0,side:a})}},n.prototype.componentDidMount=function(){this.canceled=!1},n.prototype.componentWillUnmount=function(){this.canceled=!0},n.prototype.render=function(){return r.createElement(i.PointerEventWrapper,{pointerClick:this.handleClick},r.createElement("div",{ref:this.updateTargetRef,style:p,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.props.children,this.renderTooltip()))},n.prototype.renderTooltip=function(){return this.state.content&&this.targetElement?r.createElement(l.ChromeTooltipDisplay,{content:this.state.content,width:this.props.width,targetElement:this.targetElement,handleRef:this.updateTooltipRef,close:this.close,positioned:this.state.positioned,side:this.state.side,offset:this.state.offset,zIndex:this.props.zIndex}):null},n.computeTooltipRectangle=function(e,t,n,o,r){var i,a;return d.isHorizontalSide(o)?(i=e.top+e.height/2-r,a="Left"===o?e.left-t:e.right):(a=e.left+e.width/2-r,i="Top"===o?e.top-n:e.bottom),{top:i,bottom:i+n,left:a,right:a+t,width:t,height:n}},n}(r.Component);t.ChromeTooltipWidget=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(14),i=n(54),a=n(87),s=n(86);function l(e){switch(e){case"Top":return{horizontal:r.HorizontalOriginOption.centerX,vertical:r.VerticalOriginOption.top};case"Bottom":return{horizontal:r.HorizontalOriginOption.centerX,vertical:r.VerticalOriginOption.bottom};case"Left":return{horizontal:r.HorizontalOriginOption.left,vertical:r.VerticalOriginOption.centerY};case"Right":return{horizontal:r.HorizontalOriginOption.right,vertical:r.VerticalOriginOption.centerY};default:return i.assertNever(e)}}function d(e){switch(e){case"Top":return{horizontal:r.HorizontalOriginOption.left,vertical:r.VerticalOriginOption.bottom};case"Bottom":return{horizontal:r.HorizontalOriginOption.left,vertical:r.VerticalOriginOption.top};case"Left":return{horizontal:r.HorizontalOriginOption.right,vertical:r.VerticalOriginOption.top};case"Right":return{horizontal:r.HorizontalOriginOption.left,vertical:r.VerticalOriginOption.top};default:return i.assertNever(e)}}function u(e){switch(e){case"Top":return"column";case"Bottom":return"column-reverse";case"Left":return"row";case"Right":return"row-reverse";default:return i.assertNever(e)}}function c(e){switch(e){case"Top":return"Down";case"Bottom":return"Up";case"Left":return"Right";case"Right":return"Left";default:return i.assertNever(e)}}function p(e,t){var n=t-s.Height/2,o={alignSelf:"flex-start"};switch(e){case"Top":o.marginTop=-1.2,o.marginLeft=n;break;case"Bottom":o.marginBottom=-1.2,o.marginLeft=n;break;case"Left":o.marginLeft=-1.2,o.marginTop=n;break;case"Right":o.marginRight=-1.2,o.marginTop=n;break;default:i.assertNever(e)}return o}t.ChromeTooltipDisplay=function(e){var t,n;return o.createElement(r.Overlay,{getAnchorClientRect:function(){var t,n,o=e.targetElement.getBoundingClientRect(),r=(t=e.side,n=e.offset,i.isHorizontalSide(t)?-1*n:0),a=function(e,t){return i.isVerticalSide(e)?-1*t:0}(e.side,e.offset);return{top:o.top+r,bottom:o.bottom+r,left:o.left+a,right:o.right+a}},zIndex:e.zIndex,anchorOrigin:l(e.side),stackedOrigin:d(e.side)},o.createElement("div",{ref:e.handleRef,onMouseLeave:e.close},o.createElement("div",{style:(t=e.positioned,n=e.side,{visibility:t?"visible":"hidden",display:"flex",flexDirection:u(n),flexWrap:"nowrap",justifyContent:"flex-start",alignItems:"center"})},o.createElement(a.ChromeTooltipBox,{content:e.content,width:e.width}),o.createElement(s.ChromeTooltipArrow,{direction:c(e.side),style:p(e.side,e.offset)}))))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(6),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e,t=this.props,n=t.checkBoxWithLabelPropsList,a=t.children,s=o.__rest(t,["checkBoxWithLabelPropsList","children"]);return r.createElement("div",o.__assign({role:"group"},s),a||(null===(e=n)||void 0===e?void 0:e.map((function(e,t){return r.createElement(i.CheckBoxWithLabelWidget,o.__assign({},e,{key:t}))}))))},t}(r.PureComponent);t.CheckBoxWithLabelGroupWidget=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.PendingOrientationChangeTimeoutMs=250;t.PendingResizeTimeoutMs=200;var o=function(){function e(){}return e.init=function(){window.addEventListener("orientationchange",e.handleOrientationChange),window.addEventListener("resize",e.handleResize)},e.handleOrientationChange=function(){null!==e.latestPendingResizeTimestamp&&Date.now()-e.latestPendingResizeTimestamp<=200?e.fireOrientationChange():e.latestPendingOrientationChangeTimestamp=Date.now()},e.handleResize=function(){null!==e.latestPendingOrientationChangeTimestamp&&Date.now()-e.latestPendingOrientationChangeTimestamp<=250?e.fireOrientationChange():e.latestPendingResizeTimestamp=Date.now()},e.fireOrientationChange=function(){e.latestPendingOrientationChangeTimestamp=null,e.latestPendingResizeTimestamp=null,e.listeners.forEach((function(e){e()}))},e.addListener=function(t){t&&e.listeners.push(t)},e.removeListener=function(t){e.listeners=e.listeners.filter((function(e){return e!==t}))},e.latestPendingOrientationChangeTimestamp=null,e.latestPendingResizeTimestamp=null,e.listeners=[],e}();t.OrientationChange=o,o.init()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(0),a=n(2),s=n(29),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state=n.getStateForCurrentViewport(),n}return o.__extends(t,e),t.prototype.getStateForCurrentViewport=function(){var e=s.getVisualViewport();return{visualViewportSize:{width:e.width,height:e.height},layoutViewportSize:s.getLayoutViewportSize()}},t.prototype.getMaxSize=function(){var e={width:this.state.visualViewportSize.width,height:this.state.visualViewportSize.height};return this.props.style&&this.props.style.minWidth||(e.width=Math.max(e.width,this.state.layoutViewportSize.width)),this.props.style&&this.props.style.minHeight||(e.height=Math.max(e.height,this.state.layoutViewportSize.height)),this.props.horizontalMargins&&(e.width-=this.props.horizontalMargins),this.props.verticalMargins&&(e.height-=this.props.verticalMargins),e},t.prototype.updateSize=function(){this.setState(this.getStateForCurrentViewport())},t.prototype.render=function(){var e=this.getMaxSize(),t={style:o.__assign(o.__assign({maxWidth:e.width,maxHeight:e.height},this.props.style),a.conditional(this.props.isMaximized,{width:e.width,height:e.height})),"data-tb-test-id":this.props.testId};return i.createElement("div",t,this.props.children)},t}(r.Component);t.ViewportConstrainedDomWrapper=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(2),a=n(30),s=n(28),l=n(29),d={position:"absolute",outline:0,pointerEvents:"auto"},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.floater=null,t.centerTimeoutHandle=null,t.state={floaterElem:null},t.floaterRefHandler=function(e){t.floater=e,t.setState({floaterElem:e}),t.props.handleFloaterRef&&t.props.handleFloaterRef(e)},t}return o.__extends(t,e),t.prototype.getCenteredFloaterRectInLayoutCoords=function(){var e=l.getVisualViewportRectRelativeToLayoutViewport(),t={width:this.floater.offsetWidth,height:this.floater.offsetHeight},n=a.computePositionToCenterAreaInBounds(t,e);return a.makeClientRect(n,t)},t.prototype.getMinimumPageRectInLayoutCoords=function(){var e=l.getElementPositionRelativeToLayoutViewport(document.documentElement),t=l.getLayoutViewportSize(),n=l.getVisualViewportRectRelativeToLayoutViewport(),o={width:n.right-e.left,height:n.bottom-e.top},r=a.getMaxWidthAndHeight(t,o);return a.makeClientRect(e,r)},t.prototype.centerInVisualViewport=function(){var e=this.getCenteredFloaterRectInLayoutCoords(),t=this.getMinimumPageRectInLayoutCoords(),n=a.computePositionToContainBounds(e,t);this.setPosition(n)},t.prototype.getFloaterClientRect=function(){return this.floater.getBoundingClientRect()},t.prototype.setPosition=function(e){var t=this.floater.offsetParent||document.documentElement,n=l.getElementPositionRelativeToLayoutViewport(t),o=a.subtractPositions(e,n);this.floater.style.top=o.top+"px",this.floater.style.left=o.left+"px"},t.prototype.componentDidMount=function(){this.centerInVisualViewport()},t.prototype.componentDidUpdate=function(e,t){var n=this;this.props.shouldRecenterOnUpdate&&t.floaterElem===this.state.floaterElem&&(this.clearDeferredCentering(),this.centerTimeoutHandle=window.setTimeout((function(){n.centerInVisualViewport()}),0))},t.prototype.clearDeferredCentering=function(){this.centerTimeoutHandle&&(clearTimeout(this.centerTimeoutHandle),this.centerTimeoutHandle=null)},t.prototype.componentWillUnmount=function(){this.clearDeferredCentering()},t.prototype.render=function(){return r.createElement(s.StackingRootContext.Provider,{value:this.state.floaterElem},r.createElement("div",{children:this.props.children,"data-tb-test-id":i.makeTestId(this.props.testId,"Floater"),ref:this.floaterRefHandler,style:o.__assign(o.__assign({},d),this.props.customFloaterStyle)}))},t}(r.Component);t.FloaterWidgetDefault=u,t.FloaterWidget=s.StackingComponentHOC(u)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(3),a=n(2),s=n(13),l=n(28),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleKeyDown=function(e){("Tab"===e.key&&e.shiftKey||"Escape"===e.key&&t.props.handleEscape)&&(e.preventDefault(),e.stopPropagation())},t.handleKeyUp=function(e){t.props.handleEscape&&"Escape"===e.key&&(t.props.handleEscape(),e.preventDefault(),e.stopPropagation())},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t={Glass:{position:"fixed",top:0,left:0,bottom:0,right:0,padding:0,margin:0,pointerEvents:"auto"},Clear:{backgroundColor:i.TabStyles.Colors.White,opacity:i.TabStyles.Opacity.ClearGlass},Opaque:{backgroundColor:i.TabStyles.Colors.OpaqueGlass,opacity:i.TabStyles.Opacity.OpaqueGlass}},n=o.__assign(o.__assign({},t.Glass),this.props.isTransparent?t.Clear:t.Opaque);return r.createElement(s.InteractiveDomWrapper,{pointerClick:function(t){var n,o;t.preventDefault(),null===(o=(n=e.props).handleClick)||void 0===o||o.call(n)}},r.createElement("div",{"data-tb-test-id":a.makeTestId(this.props.testId,"Glass"),onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,style:n,tabIndex:0}))},t}(r.Component);t.GlassWidgetBase=d,t.GlassWidget=l.StackingComponentHOC(d)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(8),a=n(51),s=n(2),l=n(5),d=n(215),u=n(216),c=n(217),p=n(40),h={boxSizing:"border-box",display:"flex",flexDirection:"column",flexGrow:1,outline:"none",overflow:"hidden"},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sawESCkeyDown=!1,t.handleDialogHeaderRef=function(e){t.dialogHeader=i.findDOMNode(e)},t.handleDialogKeyUp=function(e){"Escape"===e.key&&t.sawESCkeyDown&&(t.sawESCkeyDown=!1,t.props.onCloseRequest())},t.handleDialogKeyDown=function(e){var n,o;if("Escape"===e.key)return t.sawESCkeyDown=!0,e.preventDefault(),void e.stopPropagation();if("Tab"===e.key){var r=a(t.dialog),i=r.length>0?r[0]:null,s=r.length>0?r[r.length-1]:null;e.target!==s||e.shiftKey?e.target===i&&e.shiftKey&&(e.preventDefault(),null===(o=s)||void 0===o||o.focus()):(e.preventDefault(),null===(n=i)||void 0===n||n.focus())}},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.elementToReturnFocus=document.activeElement,this.dialog=i.findDOMNode(this),this.props.disableAutoFocus||this.initializeFocusOnMount(),this.setFocusEventListener(),document.addEventListener("focus",this.focusEventListener,!0),this.dialog.offsetHeight>this.dialog.parentElement.clientHeight&&(this.dialog.style.height=this.dialog.parentElement.clientHeight+"px")},t.prototype.initializeFocusOnMount=function(){var e=a(this.dialog);if(0===e.length)throw Error("Something within the dialog must be focusable as to dismiss it");var t=0;if(this.dialogHeader)for(var n=0;n<e.length;n++)if(!this.dialogHeader.contains(e[n])){t=n;break}var o=e[t];l.timeoutFocus(o)},t.prototype.setFocusEventListener=function(){var e=this;this.focusEventListener=function(t){if(!e.props.isModal){var n=t.target;e.dialog.contains(n)||(e.elementToReturnFocus=n)}}},t.prototype.componentWillUnmount=function(){document.removeEventListener("focus",this.focusEventListener,!0),this.props.shouldReturnFocusOnClose&&this.returnFocusToElement()},t.prototype.returnFocusToElement=function(){l.timeoutFocus(this.elementToReturnFocus)},t.prototype.render=function(){var e=o.__assign(o.__assign({},this.props),{ref:this.handleDialogHeaderRef}),t=this.props.type!==p.DialogType.Uber;return r.createElement("div",{"aria-label":s.conditional(!t,this.props.title),"aria-labelledby":s.conditional(t&&!!this.props.title,this.props.id),"aria-modal":this.props.isModal,"data-tb-test-id":s.makeTestId(this.props.testId,"Content"),onKeyDown:this.handleDialogKeyDown,onKeyUp:this.handleDialogKeyUp,role:"dialog",style:o.__assign(o.__assign({},h),this.props.dialogContentStyle),tabIndex:-1},t&&r.createElement(c.DialogHeader,o.__assign({},e)),r.createElement(d.DialogBody,{children:this.props.children,dialogBodyStyle:this.props.dialogBodyStyle,showFooter:this.props.showFooter,testId:this.props.testId,type:this.props.type}),this.props.showFooter&&r.createElement(u.DialogFooter,{children:this.props.footerContent,sidePadding:d.getBodyPaddingStyle(this.props.type,this.props.showFooter).paddingRight,testId:this.props.testId}))},t}(r.Component);t.DialogContent=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(3),a=n(2),s=n(40),l={boxSizing:"border-box",flexGrow:1,outline:"none",overflow:"auto",WebkitOverflowScrolling:"touch"};function d(e,t){var n={paddingTop:0,paddingRight:i.TabStyles.Spacing.LargeSpace,paddingBottom:i.TabStyles.Spacing.LargeSpace,paddingLeft:i.TabStyles.Spacing.LargeSpace};switch(e){case s.DialogType.NormalWithTitleBar:n.paddingTop=i.TabStyles.Spacing.LargeSpace;break;case s.DialogType.LightweightTitleBar:n.paddingLeft=i.TabStyles.Spacing.ExtraLargeSpace-i.TabStyles.Sizing.BorderWidth,n.paddingRight=n.paddingLeft;break;case s.DialogType.Uber:n.paddingTop=i.TabStyles.Spacing.MediumSpace}return t&&(n.paddingBottom=0),n}t.getBodyPaddingStyle=d,t.DialogBody=function(e){return r.createElement("div",{children:e.children,"data-tb-test-id":a.makeTestId(e.testId,"Body"),id:a.makeTestId(e.testId,"Body-Id"),style:o.__assign(o.__assign(o.__assign({},l),d(e.type,e.showFooter)),e.dialogBodyStyle)})},t.DialogBody.displayName="DialogBody"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(4),i=n(3),a=n(2),s=r.style({height:48,flexShrink:0}),l=r.style({height:"100%"});t.DialogFooter=function(e){return o.createElement("div",{className:s,"data-tb-test-id":a.makeTestId(e.testId,"Footer"),style:{padding:"0 "+e.sidePadding+"px"}},e.children&&o.createElement("div",{className:l,children:e.children}))},t.DialogFooter.displayName="DialogFooter",t.DialogFooter.defaultProps={sidePadding:i.TabStyles.Spacing.LargeSpace}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(9),a=n(11),s=n(3),l=n(32),d=n(2),u=n(56),c=n(19),p=n(52),h=n(57),f=n(40),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleStart=function(e){if(!t.isEventWithinCloseButton(e)&&t.props.positioningBehavior===f.DialogPositioningBehavior.Draggable){e.preventDefault();var n=p.getClientPosition(e),o=t.props.getDraggableDialogClientRect();t.startXPosition=n.x-o.left,t.startYPosition=n.y-o.top,t.addMouseEventListeners()}},t.handleMove=function(e){e.preventDefault();var n=p.getClientPosition(e);t.props.setDraggableDialogPosition({top:n.y-t.startYPosition,left:n.x-t.startXPosition})},t.handleStop=function(e){t.removeMouseEventListeners()},t.handleCloseButtonRef=function(e){t.closeButtonElement=e},t.handleCloseButtonClick=function(e){var n,o;e.preventDefault(),null===(o=(n=t.props).onCloseRequest)||void 0===o||o.call(n)},t.handleRef=function(e){t.globalPointerEventCapturer&&t.removeMouseEventListeners(),e&&(t.globalPointerEventCapturer=new u.GlobalPointerEventCapturer(e,t.handleMove,t.handleStop))},t}return o.__extends(t,e),t.prototype.componentWillUnmount=function(){this.removeMouseEventListeners()},t.prototype.addMouseEventListeners=function(){this.globalPointerEventCapturer.addListeners()},t.prototype.removeMouseEventListeners=function(){this.globalPointerEventCapturer.removeListeners()},t.prototype.isEventWithinCloseButton=function(e){var t=e.target;return!!this.closeButtonElement&&this.closeButtonElement.contains(t)},t.prototype.render=function(){var e={DraggableHeader:{cursor:"move"},Header:o.__assign(o.__assign({},a.PreventUserSelect),{flexShrink:0,minHeight:5*s.TabStyles.Sizing.BaseUnit}),TitleBar:o.__assign({fontSize:s.TabStyles.Typography.Sizing.Default,color:s.TabStyles.Typography.Color.Primary,backgroundColor:s.TabStyles.Colors.F2,height:"100%",minHeight:"inherit",paddingRight:s.TabStyles.Spacing.LargeSpace,paddingLeft:s.TabStyles.Spacing.LargeSpace,display:"flex",alignItems:"center",lineHeight:"normal"},l.TextEllipsis),TitleBarWithCloseButton:{paddingRight:0},LightweightTitleBar:{fontSize:20,height:"100%",minHeight:"inherit",paddingTop:20,paddingLeft:s.TabStyles.Spacing.ExtraLargeSpace-s.TabStyles.Sizing.BorderWidth,paddingRight:s.TabStyles.Spacing.ExtraLargeSpace-s.TabStyles.Sizing.BorderWidth,paddingBottom:s.TabStyles.Spacing.DefaultSpace,display:"flex",alignItems:"center",lineHeight:"normal"},LightweightTitleBarCloseButton:{top:10,right:10,position:"absolute"},Title:o.__assign({flexGrow:1},l.TextEllipsis)},t=o.__assign(o.__assign({},e.Header),d.conditional(this.props.positioningBehavior===f.DialogPositioningBehavior.Draggable,e.DraggableHeader)),n=!1,u={},p={display:"inline-block"};this.props.type===f.DialogType.NormalWithTitleBar?(n=!0,u=o.__assign(o.__assign({},e.TitleBar),d.conditional(this.props.showCloseButton,e.TitleBarWithCloseButton))):this.props.type===f.DialogType.LightweightTitleBar&&(n=!0,u=o.__assign({},e.LightweightTitleBar),p=o.__assign({},e.LightweightTitleBarCloseButton));var g={testId:this.props.testId,title:i.Messages.closeDialog(),onClick:this.handleCloseButtonClick,ref:this.handleCloseButtonRef};return r.createElement(c.PointerEventWrapper,{pointerDown:this.handleStart},r.createElement("div",{"data-tb-test-id":d.makeTestId(this.props.testId,"Header"),ref:this.handleRef,style:t},n&&r.createElement("div",{"data-tb-test-id":d.makeTestId(this.props.testId,"TitleBar"),style:u},!!this.props.title&&r.createElement("div",{children:this.props.title,id:this.props.id,style:e.Title}),this.props.showCloseButton&&r.createElement("div",{style:p},r.createElement(h.DialogCloseButtonWidget,o.__assign({},g))))))},t}(r.Component);t.DialogHeader=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(6),a=n(3),s=n(2),l=function(){return{ButtonsContainer:{alignItems:"center",display:"flex",height:"100%",justifyContent:"flex-end"},FooterButton:{paddingLeft:a.TabStyles.Spacing.MediumSpace}}};t.DialogFooterButtonsWidget=function(e){var t={"data-tb-test-id":s.makeTestId(e.testId,"Confirm-Cancel-Footer"),style:l().ButtonsContainer};return r.createElement("div",o.__assign({},t),function(e){return e.buttons.map((function(e,t){return r.createElement("div",{style:s.conditional(0!==t,l().FooterButton),key:t},r.createElement(i.ButtonWidget,o.__assign({},e)))}))}(e))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(220),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.currentStep/this.props.totalSteps;return r.createElement(i.ProgressBarContainer,{width:this.props.width},r.createElement(i.ProgressCompleteBar,{fractionComplete:e},1===e?null:r.createElement(i.ProgressBarAnimation,{containerWidth:this.props.width*e})))},t}(r.PureComponent);t.DiscreteProgressBarWidget_UNFINISHED=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(3),a=n(4);t.ProgressBarContainer=function(e){var t=o.__assign(o.__assign({},{backgroundColor:i.TabStyles.Colors.F3,borderRadius:i.TabStyles.Sizing.BorderRadius,height:i.TabStyles.Sizing.BaseUnit,position:"relative"}),{width:e.width});return r.createElement("div",{style:t,children:e.children})};t.ProgressCompleteBar=function(e){var t=o.__assign(o.__assign({},{backgroundColor:i.TabStyles.Colors.GoLight,height:"100%",left:0,position:"absolute",top:0}),{width:100*e.fractionComplete+"%"});return r.createElement("div",{style:t,children:e.children})};var s=function(){return i.TabStyles.Sizing.BaseUnit};t.ProgressBarAnimation=function(e){var t=e.containerWidth,n=a.style({animationDirection:"alternate",animationDuration:"1000ms",animationIterationCount:"infinite",animationName:a.keyframes({"0%":{transform:"translate3d(0px, 0px, 0px)"},"100%":{transform:"translate3d("+(t-s())+"px, 0px, 0px)"}}),animationTimingFunction:"ease-in-out"});return r.createElement("div",{className:n,style:{backgroundColor:i.TabStyles.Colors.GoDark,height:"100%",position:"absolute",top:0,width:s()}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(88),a=n(91);t.DropdownWidget=function(e){var t=o.__assign(o.__assign({},e),{menuItemInfos:a.convertMenuItemInfoToGeneric(e.menuItemInfos)});return r.createElement(i.GenericDropdownWidget,t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(4),i=n(3),a=i.TabStyles.Sizing,s=i.TabStyles.Colors,l=r.style({border:"none",borderTop:a.BorderWidth+"px solid "+s.L3,marginBottom:a.ListRowHeight/2,marginLeft:0,marginRight:0,marginTop:a.ListRowHeight/2});t.MenuDividerWidget=function(){return o.createElement("hr",{"aria-orientation":"horizontal",className:l,role:"separator"})},t.MenuDividerWidget.displayName="MenuDividerWidget"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(5),a=n(13),s=n(14),l=n(42),d=n(90);t.ActiveMenuItemSubmenuDelayMs=150;var u=function(){return-(parseFloat(l.FlyoutListMenuStyles.borderTopWidth||l.FlyoutListMenuStyles.borderTop||l.FlyoutListMenuStyles.borderWidth||l.FlyoutListMenuStyles.border||"0")+parseFloat(d.ListMenuStyles.paddingTop||d.ListMenuStyles.padding||"0"))},c={vertical:s.VerticalOriginOption.top,horizontal:s.HorizontalOriginOption.right},p={vertical:s.VerticalOriginOption.top,horizontal:s.HorizontalOriginOption.left},h={outline:"none"};function f(e,t){return t.menuItemActive&&!!e.isHighlighted&&!e.disabled&&!e.isUnselectable&&!!e.menuItemInfos}var g=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.domRef=r.createRef(),n.subMenuDomId=i.generateId(),n.state={menuItemActive:!1},n.hasSubMenu=function(){return!!n.props.menuItemInfos},n.handleKeyDown=function(e){if(!n.props.disabled){switch(e.key){case" ":case"Enter":n.handleSelect();break;case"ArrowRight":n.hasSubMenu()&&n.handleSelect();break;default:return}e.preventDefault(),e.stopPropagation()}},n.handleSelect=function(){n.props.disabled||n.props.isUnselectable||(n.hasSubMenu()?(clearTimeout(n.showSubMenuTimeoutId),n.setState({menuItemActive:!0})):n.props.onSelect(n.props.value))},n.handleClick=function(e){e.preventDefault(),n.handleSelect()},n.handleItemMouseEnter=function(e){n.props.disabled||n.props.isUnselectable||(n.props.onHover(n.props.itemIndex),n.hasSubMenu()&&(n.showSubMenuTimeoutId=window.setTimeout((function(){return n.setState({menuItemActive:!0})}),t.ActiveMenuItemSubmenuDelayMs)))},n.handleItemMouseLeave=function(e){clearTimeout(n.showSubMenuTimeoutId)},n.handleActive=function(e){n.hasSubMenu()||n.setState({menuItemActive:e})},n.handleSubmenuMouseEnter=function(){n.props.onHover(n.props.itemIndex)},n.handleSubmenuClose=function(){n.setState({menuItemActive:!1})},n.getItemClientRect=function(){if(n.domRef.current){var e=n.domRef.current.getBoundingClientRect(),t=e.height,o=e.width,r=e.left,i=e.right,a=e.top,s=e.bottom;return{height:t,width:o,left:r,right:i,top:a+u(),bottom:s+u()}}},n}return o.__extends(n,e),n.prototype.componentDidMount=function(){var e=this;window.setTimeout((function(){return e.updateFocus()}))},n.prototype.componentDidUpdate=function(e,t){e.isHighlighted&&!this.props.isHighlighted&&this.state.menuItemActive&&this.setState({menuItemActive:!1}),!f(e,t)&&f(this.props,this.state)&&this.props.onSubmenuShown(this.props.itemIndex),this.updateFocus()},n.prototype.componentWillUnmount=function(){clearTimeout(this.showSubMenuTimeoutId)},n.prototype.updateFocus=function(){var e=this.props,t=e.isHighlighted,n=e.keyboardFocused;t&&!this.state.menuItemActive&&n&&document.body.contains(this.domRef.current)&&this.domRef.current.focus()},n.prototype.getDisplayElement=function(){var e={active:this.state.menuItemActive&&this.props.isHighlighted,checked:this.props.checked,disabled:this.props.disabled,hasSubMenu:this.hasSubMenu(),isGroupLabel:this.props.isGroupLabel,isHighlighted:this.props.isHighlighted,showCheckGutter:this.props.showCheckGutter,testId:this.props.testId};return r.createElement(this.props.displayFormatterBoundWithData,e)},n.prototype.render=function(){var e=f(this.props,this.state),t=this.hasSubMenu();return this.props.isGroupLabel?this.getDisplayElement():r.createElement(r.Fragment,null,r.createElement(a.InteractiveDomWrapper,{disabled:this.props.disabled,handleActive:this.handleActive,key:"item",pointerClick:this.handleClick},r.createElement("div",{"aria-checked":this.props.checked,"aria-disabled":this.props.disabled,"aria-expanded":!!e||!t&&void 0,"aria-haspopup":t?"menu":void 0,"data-tb-test-id":this.props.testId+"-"+this.props.value+"-MenuItem",onKeyDown:this.handleKeyDown,onMouseEnter:this.handleItemMouseEnter,onMouseLeave:this.handleItemMouseLeave,ref:this.domRef,role:this.props.role||(void 0===this.props.checked?"menuitem":"menuitemcheckbox"),style:h,tabIndex:-1},this.getDisplayElement(),e&&r.createElement(l.GenericFlyoutListMenuWidget,{allowAutoPosition:this.props.subMenuAllowAutoPosition,anchorOrigin:c,getAnchorClientRect:this.getItemClientRect,id:this.subMenuDomId,maxHeight:this.props.subMenuMaxHeight,menuItemInfos:this.props.menuItemInfos,menuStyle:this.props.subMenuStyle,onEscapeKeyUp:this.handleSubmenuClose,onLeftArrowKeyDown:this.handleSubmenuClose,onMouseEnter:this.handleSubmenuMouseEnter,onSelect:this.props.onSelect,requestCloseAll:this.props.requestCloseAll,scrollingRootId:this.props.scrollingRootId,shouldAutoPositionOnScrollingRootScroll:this.props.subMenuShouldAutoPositionOnScrollingRootScroll,stackedOrigin:p,stackingRootId:this.props.stackingRootId,testId:this.props.testId+"-"+this.props.value,zIndex:this.props.zIndex}))),e&&r.createElement("div",{"aria-owns":this.subMenuDomId,key:"submenu"}))},n}(r.PureComponent);t.MenuItemWidget=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t}(n(0).Component);t.DynamicThemeComponent=r},function(e,t,n){var o,r,i;Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(1),l=n(0),d=n(4),u=n(10),c=n(16),p=n(11),h=n(3),f=n(93),g=n(2),m=n(5),v=n(53),y=n(13),b=n(7),C=n(20),S=h.TabStyles.Spacing;!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right"}(a=t.ExpandoDirection||(t.ExpandoDirection={}));var _=Object.freeze(((o={})[a.Up]="rotate(180deg)",o[a.Right]="rotate(90deg)",o[a.Down]="rotate(180deg)",o[a.Left]="rotate(270deg)",o)),w=Object.freeze(((r={})[a.Up]="rotate(0deg)",r[a.Right]=_[a.Left],r[a.Down]="rotate(0deg)",r[a.Left]=_[a.Right],r)),I=((i={})[a.Up]="column-reverse",i[a.Down]="column",i[a.Left]="row-reverse",i[a.Right]="row",i),x=d.style(s.__assign(s.__assign(s.__assign({},p.PreventUserSelect),c.PreFocusIndicator),{alignItems:"center",cursor:"pointer",display:"flex"})),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expandoBaseTestId="Expando",t.contentRef=l.createRef(),t.contentId=m.generateId(),t.skipAnimation=!0,t.state={hoveringOnExpandoButton:!1,shouldShowContent:t.props.isExpanded,animationTimeoutId:void 0},t.handleClick=function(e){t.handleExpandOrCollapse()},t.handleKey=function(e){" "!==e.key&&"Enter"!==e.key||(e.stopPropagation(),e.preventDefault(),"keyup"===e.type&&t.handleExpandOrCollapse())},t.handleKeyDown=b.mergeEventHandlers(t.handleKey,(function(e){var n,o;return null===(o=(n=t.props).onKeyDown)||void 0===o?void 0:o.call(n,e)})),t.handleKeyUp=b.mergeEventHandlers(t.handleKey,(function(e){var n,o;return null===(o=(n=t.props).onKeyUp)||void 0===o?void 0:o.call(n,e)})),t.handleHover=function(e){t.setState({hoveringOnExpandoButton:e})},t.handleAnimationComplete=function(){t.setState({animationTimeoutId:void 0}),t.state.shouldShowContent!==t.props.isExpanded&&t.setState({shouldShowContent:t.props.isExpanded})},t}return s.__extends(t,e),t.getDerivedStateFromProps=function(e){return e.isExpanded?{shouldShowContent:!0}:{}},t.prototype.componentDidUpdate=function(){this.updateHeightOrWidth()},t.prototype.componentDidMount=function(){this.updateHeightOrWidth()},t.prototype.componentWillUnmount=function(){window.clearTimeout(this.state.animationTimeoutId),this.setState({animationTimeoutId:void 0})},t.prototype.handleExpandOrCollapse=function(){this.state.animationTimeoutId||(this.props.isExpanded?this.props.onCollapse():this.props.onExpand())},t.prototype.updateHeightOrWidth=function(){var e=this,t=this.contentRef.current;if(t&&!this.state.animationTimeoutId){var n,o,r=this.isVertical()?"height":"width",i={onComplete:this.handleAnimationComplete.bind(this),opacity:this.props.isExpanded?1:0},a=!1;i[r]=function(){if(!e.props.isExpanded)return 0;var n=0;return"height"===r?n=t.scrollHeight:"width"===r&&(n=t.scrollWidth),e.props.isExpanded&&0===n?void 0:n}(),n=t.style[r],a=void 0!==(o=i[r])&&n!==o+"px"&&!e.skipAnimation,void 0!==i[r]&&(t.style[r]=i[r]+"px"),t.style.opacity=i.opacity.toString(),a&&this.setState({animationTimeoutId:window.setTimeout(this.handleAnimationComplete,f.AnimationDuration)}),this.skipAnimation=!1}},t.prototype.isVertical=function(){return this.props.direction===a.Up||this.props.direction===a.Down},t.prototype.getExpandoStyle=function(){return{display:"flex",flexDirection:I[this.props.direction],alignItems:"flex-start"}},t.prototype.getExpandoIconStyle=function(){return{height:u.ExpandoIcon.height,margin:"auto",marginLeft:0,marginRight:this.props.label?S.DefaultSpace:0,transform:this.props.isExpanded?w[this.props.direction]:_[this.props.direction],transition:"transform, "+f.AnimationDuration+"ms",width:u.ExpandoIcon.width}},t.prototype.getExpandoContentStyle=function(){return s.__assign({overflow:this.props.isExpanded&&!this.state.animationTimeoutId?void 0:"hidden",position:"relative"},!this.skipAnimation&&{transition:(this.isVertical()?"height":"width")+" "+f.AnimationDuration+"ms ease-out,\n                   opacity "+f.AnimationDuration+"ms ease-out"})},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=(e.direction,e.isExpanded),r=e.label,i=(e.onCollapse,e.onExpand,e.style),a=e.testId,d=s.__rest(e,["children","className","direction","isExpanded","label","onCollapse","onExpand","style","testId"]);return l.createElement("div",{className:n,"data-tb-test-id":g.makeTestId(a,this.expandoBaseTestId),style:s.__assign(s.__assign({},this.getExpandoStyle()),i)},l.createElement(y.InteractiveDomWrapper,{key:"expandoInteractiveDom",handleHover:this.handleHover,pointerClick:this.handleClick},l.createElement(v.__UNSTABLE__INTERNAL__FocusIndicator,null,l.createElement("div",s.__assign({},d,{"aria-controls":this.contentId,"aria-expanded":o,className:x,"data-tb-test-id":g.makeTestId(a,this.expandoBaseTestId,"Button"),onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,role:"button",tabIndex:0}),l.createElement(C.Img,{key:"expandoIcon","data-tb-test-id":g.makeTestId(a,this.expandoBaseTestId,"Icon"),src:u.ExpandoIcon.icon({active:this.state.hoveringOnExpandoButton}),style:this.getExpandoIconStyle()}),r&&l.createElement("div",{key:"expandoLabel","data-tb-test-id":g.makeTestId(a,this.expandoBaseTestId,"Label")},r)))),l.createElement("div",{key:"expandoContent","data-tb-test-id":g.makeTestId(a,this.expandoBaseTestId,"Content"),hidden:!this.state.shouldShowContent,id:this.contentId,ref:this.contentRef,style:this.getExpandoContentStyle()},t))},t}(l.Component);t.ExpandoWidget=T},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(0),a=n(4),s=n(3),l=n(2),d=n(5),u=n(55);!function(e){e[e.Veritical=0]="Veritical",e[e.Horizontal=1]="Horizontal"}(o=t.RadioLayoutType||(t.RadioLayoutType={}));var c=a.style({$nest:{"&.horizontal":{display:"flex",flexWrap:"wrap"},"&.horizontal.justify":{justifyContent:"space-between"},"&.horizontal > :not(:last-child)":{marginRight:s.TabStyles.Spacing.ExtraLargeSpace}}}),p=function(e){function t(t){var n=e.call(this,t)||this;return n.groupId=d.generateId(),t.ariaLabel||t["aria-labelledby"]||t["aria-label"]||console.trace("either aria-label or aria-labelledby should be provided for WCAG compliance"),n}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.ariaLabel,s=t.buttonList,d=t.checkedIndex,p=t.handleChange,h=t.justifyHorizontalItems,f=t.layout,g=t.name,m=t.removeLeftMargin,v=t.testId,y=r.__rest(t,["ariaLabel","buttonList","checkedIndex","handleChange","justifyHorizontalItems","layout","name","removeLeftMargin","testId"]),b=s.map((function(t,n){return i.createElement(u.RadioButtonWithLabelWidget,r.__assign({},t,{checked:n===d,groupName:g||e.groupId,handleChange:p,index:n,key:n,removeLeftMargin:m}))}));return i.createElement("div",r.__assign({"data-tb-test-id":l.makeTestId("RadioButtonWithLabelGroupWidget",v)},y,{"aria-label":n||y["aria-label"],children:b,className:a.classes(c,y.className,{horizontal:f===o.Horizontal,justify:h}),role:"radiogroup"}))},t}(i.Component);t.RadioButtonWithLabelGroupWidget=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(0),a=n(16),s=n(11),l=n(3),d=n(228);!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(o=t.SelectedToggle||(t.SelectedToggle={})),t.SwitcherStyles={container:{display:"flex"},toggleBase:r.__assign(r.__assign({},s.PreventUserSelect),{alignItems:"center",borderStyle:"solid",borderWidth:l.TabStyles.Sizing.BorderWidth,display:"flex",flexBasis:"100%",justifyContent:"center",lineHeight:l.TabStyles.Sizing.RowHeight-2*l.TabStyles.Sizing.BorderWidth+"px",paddingLeft:l.TabStyles.Spacing.MediumSpace,paddingRight:l.TabStyles.Spacing.MediumSpace}),selectedToggle:{backgroundColor:l.TabStyles.Colors.F8,borderColor:l.TabStyles.Colors.F8,color:l.TabStyles.Typography.Color.InvertedPrimary},unselectedToggle:{backgroundColor:l.TabStyles.Colors.F1,borderColor:l.TabStyles.Colors.L6,color:l.TabStyles.Typography.Color.Primary},hoverSelectedToggle:{borderColor:l.TabStyles.Colors.L9},hoverUnselectedToggle:{borderColor:l.TabStyles.Colors.L9},focusSelectedToggle:{borderColor:a.DefaultFocusIndicator.borderColor,boxShadow:a.DefaultFocusIndicator.boxShadow,position:"relative"},focusUnselectedToggle:{borderColor:a.DefaultFocusIndicator.borderColor,boxShadow:a.DefaultFocusIndicator.boxShadow,position:"relative"},activeSelectedToggle:{backgroundColor:l.TabStyles.Colors.F8,borderColor:l.TabStyles.Colors.L9,color:l.TabStyles.Typography.Color.InvertedPrimary},activeUnselectedToggle:{backgroundColor:l.TabStyles.Colors.F8,borderColor:l.TabStyles.Colors.L9,color:l.TabStyles.Typography.Color.InvertedPrimary},inactiveToggle:{backgroundColor:l.TabStyles.Colors.F1,borderColor:l.TabStyles.Colors.L6,color:l.TabStyles.Typography.Color.Primary},disabledSelectedToggle:{backgroundColor:"#bfbfbf",borderColor:"#bfbfbf",color:"#fafafa"},disabledUnselectedToggle:{borderColor:"#bfbfbf",color:"#bfbfbf"},firstToggle:{borderBottomLeftRadius:l.TabStyles.Sizing.BorderRadius,borderTopLeftRadius:l.TabStyles.Sizing.BorderRadius},lastToggle:{borderBottomRightRadius:l.TabStyles.Sizing.BorderRadius,borderTopRightRadius:l.TabStyles.Sizing.BorderRadius}};var u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){1===e?t.props.handleRightToggleSelected():t.props.handleLeftToggleSelected()},t}return r.__extends(n,e),n.prototype.render=function(){return i.createElement(d.SwitcherTextBase,{ariaLabel:this.props.ariaLabel,checkedIndex:this.props.selectedToggle===o.Right?1:0,disabled:this.props.disabled,handleChange:this.handleChange,name:this.props.name,style:r.__assign(r.__assign({},t.SwitcherStyles),{container:r.__assign(r.__assign({},t.SwitcherStyles.container),this.props.containerStyle)}),testId:this.props.testId,toggleTexts:[this.props.leftToggleText,this.props.rightToggleText]})},n}(i.Component);t.ToggleTextWidget=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(39),a=n(2),s=n(95),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){t.props.checked||t.props.handleChange(t.props.idx)},t.handleActive=function(e){t.props.handleActive(e?t.props.idx:-1)},t}return o.__extends(t,e),t.prototype.render=function(){return r.createElement(s.InputLabelWidget,{disabled:this.props.disabled,handleActive:this.handleActive,interactiveStyles:{disabled:this.props.disabledStyle,focus:this.props.focusStyle,hover:this.props.hoverStyle},style:this.props.style,testId:this.props.testId},r.createElement("input",{checked:this.props.checked,"data-tb-test-id":a.makeTestId(this.props.testId,"input"),disabled:this.props.disabled,name:this.props.groupName,onChange:this.handleChange,style:{opacity:0,position:"absolute"},type:"radio"}),this.props.children)},t}(r.Component),d=function(e){function t(n){var o=e.call(this,n)||this;return o.handleActive=function(e){i.ClickBustingConfig.suppressionClassName&&i.ClickBustingConfig.suppressionClassName.length||o.setState({activerSwitcherIdx:e})},o.groupId=t.groupIdIncrementor++,o.state={activerSwitcherIdx:-1},o}return o.__extends(t,e),t.prototype.getToggleStyling=function(e){var t=this.state.activerSwitcherIdx>=0,n=0===e,r=e===this.props.toggleTexts.length-1,i=this.state.activerSwitcherIdx!==e,s=this.props.checkedIndex===e;return o.__assign(o.__assign(o.__assign(o.__assign({},this.props.style.toggleBase),a.conditional(n,this.props.style.firstToggle)),a.conditional(r,this.props.style.lastToggle)),t?i?this.props.style.inactiveToggle:s?this.props.style.activeSelectedToggle:this.props.style.activeUnselectedToggle:s?this.props.style.selectedToggle:this.props.style.unselectedToggle)},t.prototype.render=function(){var e=this,t="SwitcherTextGroup"+String(this.groupId),n=this.props.toggleTexts.map((function(n,o){var i=e.props.checkedIndex===o,s=e.getToggleStyling(o),d=i?e.props.style.hoverSelectedToggle:e.props.style.hoverUnselectedToggle,u=i?e.props.style.focusSelectedToggle:e.props.style.focusUnselectedToggle,c=i?e.props.style.disabledSelectedToggle:e.props.style.disabledUnselectedToggle;return r.createElement(l,{checked:i,children:n,disabled:e.props.disabled,disabledStyle:c,focusStyle:u,groupName:e.props.name||t,handleActive:e.handleActive,handleChange:e.props.handleChange,hoverStyle:d,idx:o,key:o,style:s,testId:a.makeTestId(e.props.testId,n)})}));return r.createElement("div",{"aria-label":this.props.ariaLabel,children:n,className:i.ClickBustingConfig.suppressionClassName,role:"radiogroup",style:this.props.style.container})},t.groupIdIncrementor=0,t}(r.Component);t.SwitcherTextBase=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(10),a=n(5),s=n(14),l=n(7),d=n(230);function u(e){return"focus"===e.type}t.TooltipPosition=d.TooltipPosition;var c=r.createElement("img",{draggable:!1,src:i.encodeSvg('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><path fill="#666" fill-rule="evenodd" d="M8.5 1C12.6 1 16 4.4 16 8.5S12.6 16 8.5 16 1 12.6 1 8.5 4.4 1 8.5 1zm0 1C4.9 2 2 4.9 2 8.5S4.9 15 8.5 15 15 12.1 15 8.5 12.1 2 8.5 2zM9 7v5H8V7h1zm0-2v1H8V5h1z"/></svg>')}),p=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.tooltipId=a.generateId(),n.tooltipContentElement=null,n.waitingOnGetContent=!1,n.state={anchorClientRect:void 0,content:void 0,width:void 0},n.handleTooltipOverlayContentRef=function(e){n.tooltipContentElement=e?e.firstElementChild:null},n.handleFocus=l.mergeEventHandlers((function(e){n.showTooltipOverlay(e)}),(function(e){var t,o,r;return null===(r=null===(t=n.props.children)||void 0===t?void 0:(o=t.props).onFocus)||void 0===r?void 0:r.call(o,e)})),n.handleBlur=l.mergeEventHandlers((function(e){n.dismissTooltipOverlay()}),(function(e){var t,o,r;return null===(r=null===(t=n.props.children)||void 0===t?void 0:(o=t.props).onBlur)||void 0===r?void 0:r.call(o,e)})),n.handleKeyUp=l.mergeEventHandlers((function(e){n.state.content&&n.state.anchorClientRect&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),n.dismissTooltipOverlay())}),(function(e){var t,o,r;return null===(r=null===(t=n.props.children)||void 0===t?void 0:(o=t.props).onKeyUp)||void 0===r?void 0:r.call(o,e)})),n.handleMouseEnter=l.mergeEventHandlers((function(e){n.showTooltipOverlay(e)}),(function(e){var t,o,r;return null===(r=null===(t=n.props.children)||void 0===t?void 0:(o=t.props).onMouseEnter)||void 0===r?void 0:r.call(o,e)})),n.handleMouseMove=l.mergeEventHandlers((function(e){n.state.content&&n.state.anchorClientRect&&!n.props.followCursor||n.showTooltipOverlay(e)}),(function(e){var t,o,r;return null===(r=null===(t=n.props.children)||void 0===t?void 0:(o=t.props).onMouseMove)||void 0===r?void 0:r.call(o,e)})),n.handleMouseLeave=l.mergeEventHandlers((function(e){n.dismissTooltipOverlay()}),(function(e){var t,o,r;return null===(r=null===(t=n.props.children)||void 0===t?void 0:(o=t.props).onMouseLeave)||void 0===r?void 0:r.call(o,e)})),n.showTooltipOverlay=function(e){var o,r;if((!n.props.onlyShowWhenClipped||a.isElementOverflownX(e.currentTarget))&&(n.setState({anchorClientRect:n.getAnchorClientRectFromEvent(e)}),!n.state.content&&!n.waitingOnGetContent)){n.waitingOnGetContent=!0;var i=function(e){n.waitingOnGetContent&&(t.dismissDisplayedTooltip(),t.displayedTooltip={dismiss:n.dismissTooltipOverlay,id:n.tooltipId},n.setState({content:e},(function(){n.waitingOnGetContent=!1})))},s=null===(r=(o=n.props).getContent)||void 0===r?void 0:r.call(o);s?Promise.resolve(s)===s?s.then(i).catch((function(e){console.warn({message:"'getContent' promise rejected",error:e}),n.setState({anchorClientRect:void 0,content:void 0,width:void 0},(function(){n.waitingOnGetContent=!1}))})):i(s):n.dismissTooltipOverlay()}},n.dismissTooltipOverlay=function(){t.displayedTooltip&&n.tooltipId===t.displayedTooltip.id&&(t.displayedTooltip=void 0),n.waitingOnGetContent=!1,n.setState({anchorClientRect:void 0,content:void 0,width:void 0})},n.getAnchorClientRect=function(){return n.state.anchorClientRect},n}return o.__extends(t,e),t.dismissDisplayedTooltip=function(){if(t.displayedTooltip){var e=o.__assign({},t.displayedTooltip);t.displayedTooltip=void 0;try{e.dismiss()}catch(e){console.warn({message:"failed to dismiss displayed tooltip",error:e})}}},t.prototype.componentDidMount=function(){this.updateWidth()},t.prototype.componentDidUpdate=function(){this.updateWidth()},t.prototype.componentWillUnmount=function(){this.dismissTooltipOverlay()},t.prototype.updateWidth=function(){this.state.content&&this.state.anchorClientRect&&this.tooltipContentElement&&void 0===this.state.width&&this.setState({width:this.tooltipContentElement.getBoundingClientRect().width+d.AggregateTooltipPadding})},t.prototype.getAnchorClientRectFromEvent=function(e){return u(e)&&this.state.anchorClientRect?this.state.anchorClientRect:u(e)||!this.props.followCursor?d.adjustClientRectForOffset(e.currentTarget.getBoundingClientRect()):d.adjustClientRectForOffset({bottom:e.clientY,height:0,left:e.clientX,right:e.clientX,top:e.clientY,width:0})},t.prototype.renderChildren=function(){var e,t;return r.cloneElement(r.Children.only(this.props.children),{"aria-describedby":this.state.anchorClientRect?this.tooltipId:void 0,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyUp:this.handleKeyUp,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove,tabIndex:(t=null===(e=this.props.children)||void 0===e?void 0:e.props.tabIndex,null!=t?t:0)})},t.prototype.renderTooltipOverlay=function(){if(this.state.content&&this.state.anchorClientRect){var e=d.TooltipPositionInfoMap[this.props.position],t=o.__assign(o.__assign({},d.ContentWrapperStyle),{maxWidth:this.props.maxWidth,overflow:"hidden",visibility:void 0===this.state.width?"hidden":"visible",width:Math.ceil(this.state.width||this.props.maxWidth)});return r.createElement(s.Overlay,{allowAutoPosition:!0,anchorOrigin:e.anchorOrigin,disablePointerEvents:!0,getAnchorClientRect:this.getAnchorClientRect,shouldAutoPositionOnScrollingRootScroll:this.props.followCursor,stackedOrigin:e.stackedOrigin,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex},r.createElement("div",{"data-tb-test-id":this.props.testId,id:this.tooltipId,ref:this.handleTooltipOverlayContentRef,role:"tooltip",style:t},this.state.content))}},t.prototype.render=function(){return r.createElement(r.Fragment,null,this.renderChildren(),this.renderTooltipOverlay())},t.defaultProps={children:c,maxWidth:d.DefaultMaxWidth,position:d.TooltipPosition.Right},t}(r.Component);t.Tooltip=p},function(e,t,n){var o;Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),a=n(14);t.DefaultMaxWidth=300,t.AnchorClientRectPadding=6,t.BorderWidth=i.TabStyles.Sizing.BorderWidth,t.Padding=12,t.AggregateTooltipPadding=2*(t.BorderWidth+t.Padding),t.ContentWrapperStyle={backgroundColor:i.TabStyles.Colors.White,borderColor:i.TabStyles.Colors.L5,borderRadius:i.TabStyles.Sizing.BorderRadius,borderStyle:"solid",borderWidth:t.BorderWidth,boxShadow:i.TabStyles.Shadow.Standard,boxSizing:"border-box",display:"block",fontSize:i.TabStyles.Typography.Sizing.Default,lineHeight:"normal",padding:t.Padding},function(e){e.TopLeftCorner="TopLeftCorner",e.Top="Top",e.TopRightCorner="TopRightCorner",e.Right="Right",e.BottomRightCorner="BottomRightCorner",e.Bottom="Bottom",e.BottomLeftCorner="BottomLeftCorner",e.Left="Left"}(r=t.TooltipPosition||(t.TooltipPosition={})),t.TooltipPositionInfoMap=((o={})[r.TopLeftCorner]={anchorOrigin:{horizontal:a.HorizontalOriginOption.left,vertical:a.VerticalOriginOption.top},stackedOrigin:{horizontal:a.HorizontalOriginOption.right,vertical:a.VerticalOriginOption.bottom}},o[r.Top]={anchorOrigin:{horizontal:a.HorizontalOriginOption.centerX,vertical:a.VerticalOriginOption.top},stackedOrigin:{horizontal:a.HorizontalOriginOption.centerX,vertical:a.VerticalOriginOption.bottom}},o[r.TopRightCorner]={anchorOrigin:{horizontal:a.HorizontalOriginOption.right,vertical:a.VerticalOriginOption.top},stackedOrigin:{horizontal:a.HorizontalOriginOption.left,vertical:a.VerticalOriginOption.bottom}},o[r.Right]={anchorOrigin:{horizontal:a.HorizontalOriginOption.right,vertical:a.VerticalOriginOption.centerY},stackedOrigin:{horizontal:a.HorizontalOriginOption.left,vertical:a.VerticalOriginOption.centerY}},o[r.BottomRightCorner]={anchorOrigin:{horizontal:a.HorizontalOriginOption.right,vertical:a.VerticalOriginOption.bottom},stackedOrigin:{horizontal:a.HorizontalOriginOption.left,vertical:a.VerticalOriginOption.top}},o[r.Bottom]={anchorOrigin:{horizontal:a.HorizontalOriginOption.centerX,vertical:a.VerticalOriginOption.bottom},stackedOrigin:{horizontal:a.HorizontalOriginOption.centerX,vertical:a.VerticalOriginOption.top}},o[r.BottomLeftCorner]={anchorOrigin:{horizontal:a.HorizontalOriginOption.left,vertical:a.VerticalOriginOption.bottom},stackedOrigin:{horizontal:a.HorizontalOriginOption.right,vertical:a.VerticalOriginOption.top}},o[r.Left]={anchorOrigin:{horizontal:a.HorizontalOriginOption.left,vertical:a.VerticalOriginOption.centerY},stackedOrigin:{horizontal:a.HorizontalOriginOption.right,vertical:a.VerticalOriginOption.centerY}},o),t.adjustClientRectForOffset=function(e){return{bottom:e.bottom+t.AnchorClientRectPadding,height:e.height+2*t.AnchorClientRectPadding,left:e.left-t.AnchorClientRectPadding,right:e.right+t.AnchorClientRectPadding,top:e.top-t.AnchorClientRectPadding,width:e.width+2*t.AnchorClientRectPadding}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(8),i=n(3),a=n(2),s=n(5),l=n(60),d=n(59),u=n(97),c=n(232);t.ColorPickerWidget=o.forwardRef((function(e,t){var n=o.useState(s.generateId())[0],i=o.useRef(null),d=o.useRef();return o.createElement("div",{style:{display:"inline-block"},"data-tb-test-id":a.makeTestId(e.testId,"ColorPicker")},o.createElement(l.DropdownButton,{"aria-controls":n,"aria-haspopup":"dialog","data-tb-test-id":a.makeTestId(e.testId,"ColorPickerButton"),disabled:e.disabled,focusOnClose:e.focusOnClose||e.shouldReturnFocusOnClose,label:e.label,onOpen:function(e){return i.current=e},popupAlignment:e.popupAlignment,popupContent:o.createElement(p,{colorsPreset:e.colorsPreset,disabled:e.disabled,handleSwatchClicked:function(t){var n,o,r;null===(o=(n=i).current)||void 0===o||o.call(n),null===(r=e.onColorSelected||e.handleColorSelected)||void 0===r||r(t.toLowerCase())},id:n,ref:function(e){return d.current=r.findDOMNode(e)},selectedColor:e.selectedColor,showCustomColorInput:e.showCustomColorInput,testId:e.testId}),ref:t,stackingRootId:e.stackingRootId,testId:null,title:e.title,type:l.DropdownButtonType.Outline,zIndex:e.zIndex||e.dropdownZIndex},o.createElement("div",{style:{backgroundColor:(e.selectedColor||"").toLowerCase(),boxSizing:"border-box",display:"inline-block",height:"50%",width:e.colorLabelWidth||40}})))})),t.ColorPickerWidget.defaultProps={colorsPreset:d.ColorGridPreset.Dark,focusOnClose:!0},t.ColorPickerWidget.displayName="ColorPickerWidget";var p=o.forwardRef((function(e,t){return o.createElement("div",{"data-tb-test-id":a.makeTestId(e.testId,"ColorGridWrapper"),id:e.id,role:"dialog",style:{padding:i.TabStyles.Spacing.LargeSpace}},o.createElement(d.ColorGridWidget,{colorsPreset:e.colorsPreset,disabled:e.disabled,handleSwatchClicked:e.handleSwatchClicked,ref:t,selectedColor:(e.selectedColor||"").toLowerCase(),testId:"colorgrid"}),e.showCustomColorInput&&o.createElement(o.Fragment,null,o.createElement("hr",{style:{marginTop:i.TabStyles.Spacing.LargeSpace}}),o.createElement(c.CustomColorInput,{color:(n=e.selectedColor,r=e.colorsPreset,n&&function(e,t){for(var n=0,o=e;n<o.length;n++)if(o[n].toLowerCase()===t.toLowerCase())return!1;return!0}(r===d.ColorGridPreset.Light?u.ColorPickerPresets.Light:u.ColorPickerPresets.Dark,n)?n:""),onColorSelected:e.handleSwatchClicked,testId:e.testId})));var n,r}));p.displayName="ColorGridPopupContent"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(9),i=n(2),a=n(233);t.CustomColorInput=o.forwardRef((function(e,t){return o.createElement("div",{"data-tb-test-id":i.makeTestId(e.testId,"CustomColorInput"),ref:t},o.createElement(a.HexColorInput,{color:e.color,label:r.Messages.customColor(),onConfirm:e.onColorSelected,testId:e.testId}))})),t.CustomColorInput.displayName="CustomColorInput"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(4),a=n(6),s=n(2),l=n(59),d=a.TabStyles.Sizing,u=d.RowHeight,c=d.BorderWidth,p=i.style({alignItems:"flex-end",display:"flex",paddingTop:a.TabStyles.Spacing.SmallSpace}),h=i.style({borderColor:a.TabStyles.Colors.L6,borderStyle:"solid",borderWidth:c,boxSizing:"border-box",height:u,marginRight:12,minHeight:u,minWidth:u,width:u}),f=i.style({flexGrow:1,flexBasis:"50px"}),g={width:"100%"};function m(e){return/^#?[0-9A-Fa-f]{6}$/.test(e)}function v(e){var t=(e||"").toUpperCase();return"#"!==t.charAt(0)&&(t="#"+t),t}var y=function(e){function t(t){var n=e.call(this,t)||this;return n.isValid=function(){if(n.state.hexColorText&&"#"!==n.state.hexColorText&&!m(n.state.hexColorText))return!1},n.handleChange=function(e){var t=e.target.value;/^#?[0-9A-Fa-f]{0,6}$/.test(t)&&n.setState({hexColorText:e.target.value})},n.handleKeyUp=function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),m(n.state.hexColorText)&&n.props.onConfirm(v(n.state.hexColorText)))},n.handleSwatchClicked=function(e){m(n.state.hexColorText)&&n.props.onConfirm(v(e.toLowerCase()))},n.state={hexColorText:t.color||""},n}return o.__extends(t,e),t.prototype.render=function(){return r.createElement("div",{className:p,"data-tb-test-id":s.makeTestId(this.props.testId,"HexInput")},r.createElement("div",{className:h},r.createElement(l.ColorSwatchWidget,{color:this.getCustomColor()||"transparent",disabled:!this.getCustomColor(),onClick:this.handleSwatchClicked,selected:this.shouldSwatchBeSelected(),size:u-2*c,testId:this.props.testId})),r.createElement(a.TextFieldWidget,{className:f,label:this.props.label,maxLength:7,onChange:this.handleChange,onKeyUp:this.handleKeyUp,placeholder:"#",spellCheck:!1,style:g,testId:this.props.testId,valid:this.isValid(),value:v(this.state.hexColorText)}))},t.prototype.getCustomColor=function(){return m(this.state.hexColorText)?v(this.state.hexColorText):null},t.prototype.shouldSwatchBeSelected=function(){return m(this.props.color)&&v(this.state.hexColorText)===v(this.props.color)},t}(r.Component);t.HexColorInput=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(17),i=n(0),a=n(9),s=n(2);!function(e){e[e.Large=50]="Large",e[e.Small=14]="Small"}(o=t.ActivitySpinnerSize||(t.ActivitySpinnerSize={})),t.ActivitySpinnerWidget=i.forwardRef((function(e,t){return i.createElement(r.Spinner,{alt:a.Messages.waitIndicatorLabel(),color:e.onDarkBackground?"light":"dark","data-tb-test-id":s.makeTestId(e.testId,"Spinner"),dimension:e.spinnerSize,ref:t,role:"img",showUnderlay:e.shouldShowUnderlay})})),t.ActivitySpinnerWidget.defaultProps={spinnerSize:o.Large},t.ActivitySpinnerWidget.displayName="ActivitySpinnerWidget"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(15),a=n(2),s=n(56),l=n(19),d=n(52),u=n(44),c=n(236),p=n(237),h=n(238),f=n(33),g=n(102),m=function(e){function t(t){var n=e.call(this,t)||this;return n.containerElement=null,n.leftHandleWidgetRef=null,n.rightHandleWidgetRef=null,n.rangeHandleElement=null,n.getHandleCount=function(){return void 0===n.props.handles.rightHandlePosition?1:2},n.isSingleHandleBeingDragged=function(e){return e===u.HandleType.Left||e===u.HandleType.Right},n.determineSingleHandleDragOffsetIfNeeded=function(e,t,o){var r;if(t)return e===u.HandleType.Left?r=n.props.handles.leftHandlePosition:e===u.HandleType.Right&&(r=n.props.handles.rightHandlePosition),r?r-o:void 0},n.determineWhichHandleShouldBeDraggedForEvent=function(e,t){return e?1===n.getHandleCount()?p.determineWhichHandleShouldBeDraggedForTouchAndOneHandle(t,n.leftHandleWidgetRef.getBoundingClientRectForInteractiveArea()):p.determineWhichHandleShouldBeDraggedForTouchAndTwoHandles(t,n.leftHandleWidgetRef.getBoundingClientRectForInteractiveArea(),n.rightHandleWidgetRef.getBoundingClientRectForInteractiveArea(),n.rangeHandleElement.getBoundingClientRect()):1===n.getHandleCount()?p.determineWhichHandleShouldBeDraggedForMouseAndOneHandle(t,n.leftHandleWidgetRef.getBoundingClientRectForIcon()):p.determineWhichHandleShouldBeDraggedForMouseAndTwoHandles(t,n.leftHandleWidgetRef.getBoundingClientRectForIcon(),n.rightHandleWidgetRef.getBoundingClientRectForIcon())},n.fireHandleDragStartEvents=function(e,t,o){if(n.isSingleHandleBeingDragged(e)){if(n.props.onHandleDragStart&&!isNaN(t)){var r=t+(o||0);n.props.onHandleDragStart(e,r)}}else n.props.onBothHandleDragStart&&n.props.onBothHandleDragStart()},n.fireHandleDragMoveEvents=function(e,t){n.isSingleHandleBeingDragged(n.state.handleBeingDragged)?n.props.onHandleDragMove&&!isNaN(e)&&n.props.onHandleDragMove(n.state.handleBeingDragged,e):!n.props.onBothHandleDragMove||void 0===t||isNaN(e)||isNaN(t)||n.props.onBothHandleDragMove(e,t)},n.handleHandleRelease=function(){n.setState({handleBeingDragged:void 0}),n.props.onHandleRelease&&n.props.onHandleRelease()},n.setKeyboardFocusOnHandle=function(e){var t,o=null;e===u.HandleType.Left?o=n.leftHandleWidgetRef:e===u.HandleType.Right?o=n.rightHandleWidgetRef:e===u.HandleType.Both&&(o=n.rangeHandleElement),null===(t=o)||void 0===t||t.focus()},n.dragStart=function(e,t,o,r){if(n.containerElement){var i=c.convertClientCoordinateIntoProportionOfContainer(t.x,n.containerElement.getBoundingClientRect());n.globalPointerEventCapturer&&n.globalPointerEventCapturer.addListeners();var a=n.determineSingleHandleDragOffsetIfNeeded(e,o,i),s={leftHandlePosition:e===u.HandleType.Left?i:n.props.handles.leftHandlePosition,rightHandlePosition:e===u.HandleType.Right?i:n.props.handles.rightHandlePosition};n.setState({handleBeingTouched:r?e:void 0,handleBeingDragged:e,dragOriginInClientCoordinates:t,handlePositionsAtDragStart:s,singleHandleDragOffsetAsProportion:a}),n.fireHandleDragStartEvents(e,i,a),n.setKeyboardFocusOnHandle(e)}},n.dragMove=function(e){if(n.containerElement){var t=n.isSingleHandleBeingDragged(n.state.handleBeingDragged);if(t&&n.props.onHandleDragMove){var o=n.state.handleBeingDragged===u.HandleType.Left?n.state.handlePositionsAtDragStart.leftHandlePosition:n.state.handlePositionsAtDragStart.rightHandlePosition,r=c.calculateProportionalPositionWhenDraggingSingleHandle(n.state.dragOriginInClientCoordinates.x,o,e.x,n.containerElement.getBoundingClientRect());n.fireHandleDragMoveEvents(r)}else if(!t&&n.props.onBothHandleDragMove){var i=c.calculateProportionalPositionsWhenDraggingBothHandles(n.state.dragOriginInClientCoordinates.x,n.state.handlePositionsAtDragStart.leftHandlePosition,n.state.handlePositionsAtDragStart.rightHandlePosition,e.x,n.containerElement.getBoundingClientRect());n.fireHandleDragMoveEvents(i.leftHandlePosition,i.rightHandlePosition)}}},n.dragEnd=function(){void 0!==n.state.handleBeingDragged&&(n.globalPointerEventCapturer&&n.globalPointerEventCapturer.removeListeners(),n.setState({handleBeingTouched:void 0,dragOriginInClientCoordinates:void 0,handlePositionsAtDragStart:void 0}),n.handleHandleRelease())},n.handleContainerRef=function(e){n.containerElement=e,n.containerElement&&(n.globalPointerEventCapturer=new s.GlobalPointerEventCapturer(n.containerElement,n.handlePointerMove,n.handlePointerUp))},n.setLeftHandleWidgetRef=function(e){n.leftHandleWidgetRef=e},n.setRightHandleWidgetRef=function(e){n.rightHandleWidgetRef=e},n.setRangeHandleRef=function(e){n.rangeHandleElement=e},n.handlePointerDown=function(e){if(!n.props.disabled&&n.leftHandleWidgetRef&&(2!==n.getHandleCount()||n.rightHandleWidgetRef)){var t=e,o=d.getClientPosition(t),r=n.determineWhichHandleShouldBeDraggedForEvent(d.isTouchEvent(t),o);r&&(e.preventDefault(),e.stopPropagation(),n.dragStart(r.handleType,o,r.directlyOnIcon,d.isTouchEvent(t)))}},n.handlePointerMove=function(e){!n.props.disabled&&n.containerElement&&(e.preventDefault(),e.stopPropagation(),n.dragMove(d.getClientPosition(e)))},n.handlePointerUp=function(e){n.dragEnd(),n.props.disabled||(e.preventDefault(),e.stopPropagation())},n.makeKeyDownHandler=function(e){return function(t){!n.props.disabled&&n.props.onHandleKeyDown&&g.SliderValueLogic.KeysRelevantForManipulatingSlider[t.key]&&(n.setState({handleBeingDragged:e}),n.props.onHandleKeyDown(e,t.key),t.preventDefault(),t.stopPropagation())}},n.handleHandleKeyUp=function(e){n.props.disabled||g.SliderValueLogic.KeysRelevantForManipulatingSlider[e.key]&&(n.handleHandleRelease(),e.preventDefault(),e.stopPropagation())},n.handleBlur=function(e){!e.currentTarget.contains(e.relatedTarget)&&n.state.handleBeingDragged&&n.handleHandleRelease()},n.renderLeftHandle=function(){if(isNaN(n.props.handles.leftHandlePosition))return null;var e=n.state.handleBeingDragged===u.HandleType.Left||n.state.handleBeingDragged===u.HandleType.Both,t=n.state.handleBeingTouched===u.HandleType.Left||n.state.handleBeingTouched===u.HandleType.Both,o=1===n.getHandleCount()?h.SliderHandleIconType.Normal:h.SliderHandleIconType.Left;return r.createElement(h.SliderHandleWidget,{ariaAttributes:n.props.handlesAriaAttributes.leftHandleAriaAttributes,disabled:n.props.disabled,iconType:o,isActive:e,isBeingTouched:t,onKeyDown:n.makeKeyDownHandler(u.HandleType.Left),onKeyUp:n.handleHandleKeyUp,position:n.props.handles.leftHandlePosition,ref:n.setLeftHandleWidgetRef,testId:n.props.testId})},n.renderRightHandle=function(){if(1===n.getHandleCount()||void 0===n.props.handles.rightHandlePosition||isNaN(n.props.handles.rightHandlePosition))return null;var e=n.state.handleBeingDragged===u.HandleType.Right||n.state.handleBeingDragged===u.HandleType.Both,t=n.state.handleBeingTouched===u.HandleType.Right||n.state.handleBeingTouched===u.HandleType.Both;return r.createElement(h.SliderHandleWidget,{ariaAttributes:n.props.handlesAriaAttributes.rightHandleAriaAttributes,disabled:n.props.disabled,iconType:h.SliderHandleIconType.Right,isActive:e,isBeingTouched:t,onKeyDown:n.makeKeyDownHandler(u.HandleType.Right),onKeyUp:n.handleHandleKeyUp,position:n.props.handles.rightHandlePosition,ref:n.setRightHandleWidgetRef,testId:n.props.testId})},n.handleRangeHandleFocusBlur=function(e){n.props.onRangeHandleFocus&&n.props.onRangeHandleFocus("focus"===e.type)},n.state={},n}return o.__extends(t,e),t.prototype.componentWillUnmount=function(){this.globalPointerEventCapturer&&this.globalPointerEventCapturer.removeListeners()},t.prototype.renderRangeHandle=function(e){if(this.props.disabled||isNaN(this.props.handles.leftHandlePosition)||1===this.getHandleCount()||null==this.props.handles.rightHandlePosition||isNaN(this.props.handles.rightHandlePosition))return null;var t=100*this.props.handles.leftHandlePosition,n=100-100*this.props.handles.rightHandlePosition;return r.createElement("span",{"data-tb-test-id":a.makeTestId(this.props.testId,"RangeHandle"),onBlur:this.handleRangeHandleFocusBlur,onFocus:this.handleRangeHandleFocusBlur,onKeyDown:this.makeKeyDownHandler(u.HandleType.Both),onKeyUp:this.handleHandleKeyUp,ref:this.setRangeHandleRef,style:o.__assign(o.__assign({},e),{left:t+"%",right:n+"%"}),tabIndex:0})},t.prototype.render=function(){var e=a.makeTestId(this.props.testId,"SliderHandleContainer"),t=f.getSliderHandleContainerStyles(),n=t.Container;return i.isEdge&&(n.touchAction="none"),r.createElement(l.PointerEventWrapper,{pointerDown:this.handlePointerDown,disabled:this.props.disabled},r.createElement("div",{"data-tb-test-id":e,ref:this.handleContainerRef,onBlur:this.handleBlur,onTouchStart:this.handlePointerDown,style:n},this.renderLeftHandle(),this.renderRangeHandle(t.RangeHandleArea),this.renderRightHandle()))},t}(r.Component);t.SliderHandleContainer=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(41);t.convertClientCoordinateIntoProportionOfContainer=function(e,t){var n=(e-t.left)/Math.max(1,t.width);return o.clamp(n,0,1)},t.calculateProportionalPositionWhenDraggingSingleHandle=function(e,t,n,r){var i=t+(n-e)/r.width;return o.clamp(i,0,1)},t.calculateProportionalPositionsWhenDraggingBothHandles=function(e,t,n,o,r){var i=(o-e)/r.width,a=t+i,s=n+i,l=n-t;return a<0?{leftHandlePosition:0,rightHandlePosition:l}:s>1?{leftHandlePosition:1-l,rightHandlePosition:1}:{leftHandlePosition:a,rightHandlePosition:s}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),r=n(44);t.determineWhichHandleShouldBeDraggedForMouseAndOneHandle=function(e,t){var n={left:e.x,top:e.y},i=o.doesRectangleContainPoint(t,n);return{handleType:r.HandleType.Left,directlyOnIcon:i}},t.determineWhichHandleShouldBeDraggedForMouseAndTwoHandles=function(e,t,n){var i={left:e.x,top:e.y};return o.doesRectangleContainPoint(t,i)?{handleType:r.HandleType.Left,directlyOnIcon:!0}:o.doesRectangleContainPoint(n,i)?{handleType:r.HandleType.Right,directlyOnIcon:!0}:e.x>=t.right&&e.x<=n.left?{handleType:r.HandleType.Both,directlyOnIcon:!1}:e.x<=t.right?{handleType:r.HandleType.Left,directlyOnIcon:!1}:{handleType:r.HandleType.Right,directlyOnIcon:!1}},t.determineWhichHandleShouldBeDraggedForTouchAndOneHandle=function(e,t){var n={left:e.x,top:e.y};if(o.doesRectangleContainPoint(t,n))return{handleType:r.HandleType.Left,directlyOnIcon:!0}},t.determineWhichHandleShouldBeDraggedForTouchAndTwoHandles=function(e,t,n,i){var a={left:e.x,top:e.y},s=o.doesRectangleContainPoint(t,a),l=o.doesRectangleContainPoint(n,a),d=o.doesRectangleContainPoint(i,a);return s&&l?{handleType:Math.abs(a.left-t.left)<Math.abs(a.left-n.right)?r.HandleType.Left:r.HandleType.Right,directlyOnIcon:!0}:s?{handleType:r.HandleType.Left,directlyOnIcon:!0}:l?{handleType:r.HandleType.Right,directlyOnIcon:!0}:d?{handleType:r.HandleType.Both,directlyOnIcon:!0}:void 0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(0),a=n(4),s=n(13),l=n(10),d=n(2),u=n(30),c=n(33),p=n(16),h=a.style({$nest:{"&.focus-within::after":{content:'""',pointerEvents:"none",width:16,height:16,display:"inline-block",borderRadius:"50%",top:12,left:-8,position:"absolute",boxShadow:p.DefaultFocusIndicator.boxShadow},"&:not(:only-child).focus-within::after":{borderTopLeftRadius:"66.66% 50%",borderBottomLeftRadius:"66.66% 50%",borderBottomRightRadius:0,borderTopRightRadius:0,left:-12,width:13},"&:not(:only-child):last-child.focus-within::after":{transform:"rotate(180deg)",transformOrigin:"12px 8px"}}});!function(e){e.Normal="normal",e.Left="left",e.Right="right"}(o=t.SliderHandleIconType||(t.SliderHandleIconType={}));var f=function(e){function t(t){var n=e.call(this,t)||this;return n.imgRef=null,n.interactiveAreaRef=null,n.chooseIconAndStylesForRender=function(){var e=c.getSliderHandleStyles(),t=void 0,i=void 0,a=void 0;switch(n.props.iconType){case o.Left:t=l.SliderLeftHandleIcon,i=e.HandleInteractiveAreaLeft,a=e.HandleIconLeft;break;case o.Right:t=l.SliderRightHandleIcon,i=e.HandleInteractiveAreaRight,a=e.HandleIconRight;break;default:t=l.SliderHandleIcon,i=e.HandleInteractiveArea,a=e.HandleIcon}n.props.disabled&&(i=r.__assign(r.__assign({},i),e.DisabledHandleMixin),a=r.__assign(r.__assign({},a),e.DisabledHandleInnerFocusAreaMixin));var s={active:n.state.isHovered||n.props.isActive,disabled:n.props.disabled,focus:n.state.isFocused},d=t.icon(s);return{positioningContainerStyle:e.PositioningContainer,pressIndicationBarStyle:e.PressIndicationBar,interactiveAreaStyle:i,imgStyle:a,iconImageDataUrl:d}},n.handleImgRef=function(e){n.imgRef=e},n.handleInteractiveAreaRef=function(e){n.interactiveAreaRef=e},n.handleFocus=function(e){n.setState({isFocused:!n.props.disabled&&e})},n.handleHover=function(e){n.props.disabled||n.setState({isHovered:e})},n.state={isHovered:!1,isFocused:!1},n}return r.__extends(t,e),t.prototype.focus=function(){this.imgRef&&this.imgRef.focus()},t.prototype.getBoundingClientRectForIcon=function(){if(this.imgRef){var e=this.imgRef.getBoundingClientRect();return this.props.iconType===o.Left?u.addClientRectRight(e,-1*l.SliderLeftHandleIcon.artworkOffsetFromRightSide):this.props.iconType===o.Right?u.addClientRectLeft(e,l.SliderRightHandleIcon.artworkOffsetFromLeftSide):e}throw new Error("Can't determinte bounding rectangle of unmounted handle")},t.prototype.getBoundingClientRectForInteractiveArea=function(){if(this.interactiveAreaRef)return this.interactiveAreaRef.getBoundingClientRect();throw new Error("Can't determinte bounding rectangle of unmounted element")},t.prototype.render=function(){var e=d.makeTestId(this.props.testId,"SliderHandle"),t=100*this.props.position,n=this.chooseIconAndStylesForRender(),o=n.positioningContainerStyle,l=n.pressIndicationBarStyle,u=n.interactiveAreaStyle,c=n.imgStyle,p=n.iconImageDataUrl,f=this.props.isActive&&this.props.isBeingTouched;return i.createElement(s.InteractiveDomWrapper,{handleHover:this.handleHover,handleFocus:this.handleFocus},i.createElement("span",{className:a.classes(h,this.state.isFocused&&"focus-within"),"data-tb-test-id":e,style:r.__assign(r.__assign({},o),{left:t+"%"})},f&&i.createElement("span",{style:l,"data-tb-test-id":e+"-touch-drag-indicator"}),i.createElement("span",{style:u,ref:this.handleInteractiveAreaRef}),i.createElement("img",r.__assign({},this.props.ariaAttributes,{"aria-orientation":"horizontal","data-tb-test-id":d.makeTestId(this.props.testId,"SliderHandleIconArea"),onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,ref:this.handleImgRef,role:"slider",src:p,style:c,tabIndex:this.props.disabled?void 0:0}))))},t}(i.Component);t.SliderHandleWidget=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(2),a=n(33);function s(e){var t=[];if(1===e)t.push(.5);else if(e>1)for(var n=e-1,o=0;o<e;o++)t.push(o/n);return t}t.calculateTickProportionalPositions=s,t.SliderTickBarWidget=function(e){var t=s(e.tickCount).map((function(e){return 100*e})),n=a.getSliderTickBarStyles();return r.createElement("div",{style:n.Bar,"data-tb-test-id":i.makeTestId(e.testId,"SliderTickBar")},t.map((function(e,t){return r.createElement("span",{key:t,style:o.__assign(o.__assign({},n.Tick),{left:e+"%"})})})))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(2),a=n(33);t.SliderTrackWidget=function(e){var t,n,s=a.getSliderTrackStyles();if(e.rangeIndicatorBarPosition){var l=100*e.rangeIndicatorBarPosition.start,d=100*(1-e.rangeIndicatorBarPosition.end),u=e.handleIsBeingDragged?s.RangeIndicatorBarDarkened:e.isRangeHandleFocused?s.RangeIndicatorBarFocused:s.RangeIndicatorBar;t=r.createElement("div",{style:o.__assign(o.__assign({},u),{left:l+"%",right:d+"%"})})}if(e.dataBarPosition){l=100*e.dataBarPosition.start,d=100*(1-e.dataBarPosition.end),u=e.handleIsBeingDragged?s.DataBarDarkened:e.isRangeHandleFocused?s.DataBarFocused:s.DataBar;n=r.createElement("div",{style:o.__assign(o.__assign({},u),{left:l+"%",right:d+"%"})})}return r.createElement("div",{style:s.Track,"data-tb-test-id":i.makeTestId(e.testId,"SliderTrack")},t,n)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(2),a=n(44);t.RangeSliderWidget=function(e){return r.createElement(a.SliderBaseWidget,o.__assign({},e,{testId:i.makeTestId(e.testId,"RangeSlider")}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(243),r=n(244),i=n(103),a=function(){function e(){}return e.CreateInstance=function(e){return e.props.activationMode===i.TabActivationMode.Manual?new r.ManualTabActivator(e):new o.AutomaticTabActivator(e)},e}();t.TabActivatorFactory=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(104),i=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.handleKeyDown=function(e,t){var n=this.tabIndexFromKeyDown(e,t.key);-1!==n&&(this.tabsWidget.setActiveIndex(n),r.BaseTabActivator.preventDefaultAndStopPropagation(t))},t}(r.BaseTabActivator);t.AutomaticTabActivator=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(104),i=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.handleKeyDown=function(e,t){var n=this.tabIndexFromKeyDown(e,t.key);if(-1!==n)return this.tabsWidget.setFocusedIndex(n),void r.BaseTabActivator.preventDefaultAndStopPropagation(t);var o=this.tabIndexToActivate(t.key);-1!==o&&(this.tabsWidget.setActiveIndex(o),r.BaseTabActivator.preventDefaultAndStopPropagation(t))},t.prototype.tabIndexToActivate=function(e){switch(e){case"Enter":case" ":return this.tabsWidget.state.focusedIndex;default:return-1}},t}(r.BaseTabActivator);t.ManualTabActivator=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0);t.TabPanel=function(e){var t={"aria-labelledby":e.ariaLabelledBy,id:e.id,role:"tabpanel",style:e.containerStyle};return r.createElement("div",o.__assign({},t),e.content)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(10),a=n(2),s=n(5),l=n(105),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.labelRef=null,t.tabRef=null,t.handleTabRef=function(e){t.tabRef=e},t.handleLabelRef=function(e){t.labelRef=e},t.handleMouseEnter=function(){var e=t.labelRef&&s.isElementOverflownX(t.labelRef)?t.props.tabContent.label:void 0;t.setState({title:e})},t.handleClick=function(){t.props.onClick(t.props.index)},t.handleKeyDown=function(e){t.props.onKeyDown(t.props.index,e)},t.handleFocus=function(){t.props.onFocus(t.props.index)},t}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e){this.props.isFocused&&!e.isFocused&&this.tabRef&&this.tabRef.focus()},t.prototype.render=function(){var e=o.__assign(o.__assign({},l.DefaultTabLabelStyles),a.conditional(this.props.isActive&&!!this.props.flexPercent,{fontWeight:"bold"}));return r.createElement("div",{"aria-controls":this.props.ariaControls,"aria-label":this.props.tabContent.label,"aria-selected":this.props.isActive,className:l.TabStyleName,id:this.props.id,onBlur:this.props.onBlur,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onMouseEnter:this.handleMouseEnter,onTouchEnd:this.handleClick,ref:this.handleTabRef,role:"tab",style:o.__assign({},!!this.props.flexPercent&&{flex:"1 0 "+this.props.flexPercent+"%"}),tabIndex:this.props.isActive||this.props.isFocused?0:-1,title:this.props.tabContent.title||this.state.title},r.createElement("div",{style:this.props.tabContainerStyles},r.createElement("div",{style:e},this.renderIcon(),this.renderLabel())))},t.prototype.renderIcon=function(){var e=this.props.tabContent.icon;if(e){var t={"data-tb-test-id":a.makeTestId(this.props.id,"icon"),style:l.TabContentStyle},n="string"==typeof e?r.createElement("img",{src:i.encodeSvg(e)}):e;return r.createElement("div",o.__assign({},t),n)}},t.prototype.renderLabel=function(){var e={"data-tb-test-id":a.makeTestId(this.props.id,"label"),ref:this.handleLabelRef,style:l.LabelStyle};return r.createElement("div",{style:l.TabContentStyle},r.createElement("div",o.__assign({},e),this.props.tabContent.label))},t}(r.PureComponent);t.TabWidget=d},function(e,t,n){var o;Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),a=n(0),s=n(4),l=n(9),d=n(3),u=n(2),c=n(28),p=n(57),h=n(106);!function(e){e.Error="error",e.Warning="warning",e.Success="success",e.Info="info"}(r=t.ToastType||(t.ToastType={}));var f=((o={})[r.Error]={backgroundColor:"rgb(248,199,203)"},o[r.Warning]={backgroundColor:"rgb(255,214,187)"},o[r.Info]={backgroundColor:"rgb(215,236,249)"},o[r.Success]={backgroundColor:"rgb(172,229,200)"},o);t.ToastHeight=42,t.ToastMaxWidth=800,t.ToastSpacing=8;var g=d.TabStyles.Typography.Sizing.Default,m=1.5*g,v={positioningDiv:{display:"flex",justifyContent:"center",left:0,position:"fixed",right:0,top:0,visibility:"hidden"},toastDiv:{alignItems:"flex-start",boxShadow:d.TabStyles.Shadow.Standard,boxSizing:"border-box",color:"#333",display:"flex",flexDirection:"row",fontSize:g,minHeight:t.ToastHeight,justifyContent:"flex-start",padding:1.5*t.ToastSpacing+"px "+3*t.ToastSpacing+"px",position:"relative",transitionProperty:"transform, opacity",visibility:"visible"},contentDiv:{display:"flex",lineHeight:m+"px"},messageContainer:{display:"flex",flexWrap:"wrap",marginBottom:-t.ToastSpacing},message:{margin:"0 "+t.ToastSpacing+"px",marginBottom:t.ToastSpacing},actionContainer:{marginBottom:t.ToastSpacing},actionLink:{marginLeft:t.ToastSpacing-1},closeButton:{cursor:"pointer",margin:0,marginLeft:2*t.ToastSpacing,minHeight:m,minWidth:m}},y=s.style({$nest:{"&&":{color:"#333",$nest:{"&:hover":{color:"#333"},"&:active":{color:"#000"}}}}});var b=function(e){function n(o){var r=e.call(this,o)||this;return r.autoDismissTimerId=-1,r.fadeOutTimerId=-1,r.isFading=!1,r.dismissTimerElapsed=!1,r.handleClick=function(e){e.preventDefault(),r.props.onAction&&r.props.onAction()},r.renderCloseButton=function(){return a.createElement(p.CloseButtonWidget,{className:"prominent","data-tb-test-id":"toast-close-Button",onClick:r.fadeOut,style:v.closeButton,testId:null})},r.handleTimerElapsed=function(){r.dismissTimerElapsed=!0,r.fadeOut()},r.fadeOut=function(){var e=r.shouldAutoDismiss()&&r.dismissTimerElapsed?n.AutodimissCloseFadeTransitionTimeMS:n.FadeTransitionTimeMS;r.setState({yPosition:-t.ToastHeight,fadeOpacity:0,fadeTransitionTime:e}),r.isFading=!0,r.fadeOutTimerId=window.setTimeout(r.onClose,e)},r.handleMouseOver=function(){r.shouldAutoDismiss()&&!r.isFading&&(r.dismissTimerElapsed=!1,r.setState({fadeOpacity:1,fadeTransitionTime:n.HoverRestoreFadeTransitionTimeMS}),r.clearTimeouts())},r.handleMouseOut=function(){r.shouldAutoDismiss()&&!r.isFading&&1===r.state.fadeOpacity&&(r.autoDismissTimerId=window.setTimeout(r.handleTimerElapsed,r.props.autoDismissTimeMS))},r.onClose=function(){r.isFading=!1,r.dismissTimerElapsed=!1,r.clearTimeouts(),r.props.onCloseRequest()},r.state={fadeOpacity:0,fadeTransitionTime:n.FadeTransitionTimeMS,yPosition:-t.ToastHeight},r}return i.__extends(n,e),n.prototype.componentDidMount=function(){var e=this;setTimeout((function(){e.setState({fadeOpacity:1,fadeTransitionTime:n.FadeTransitionTimeMS,yPosition:0})}),0),this.shouldAutoDismiss()&&(this.autoDismissTimerId=window.setTimeout(this.handleTimerElapsed,this.props.autoDismissTimeMS))},n.prototype.componentWillUnmount=function(){this.clearTimeouts()},n.prototype.shouldAutoDismiss=function(){return this.props.toastType!==r.Error&&this.props.toastType!==r.Warning&&!this.props.actionMessage&&!this.props.onAction&&!!this.props.autoDismiss},n.prototype.renderActionLink=function(){return this.props.actionMessage&&0!==this.props.actionMessage.length?a.createElement(h.TextLinkWidget,{className:y,href:this.props.actionHref,kind:h.TextLinkKind.LowEmphasis,onClick:this.handleClick,style:v.actionLink,testId:this.props.testId},this.props.actionMessage):null},n.prototype.fadeStyle=function(){return{opacity:this.state.fadeOpacity,transform:"translateY("+this.state.yPosition+"px)",transitionDuration:this.state.fadeTransitionTime+"ms, "+(this.state.fadeTransitionTime+100)+"ms",transitionTimingFunction:"ease-out"}},n.prototype.clearTimeouts=function(){clearTimeout(this.autoDismissTimerId),clearTimeout(this.fadeOutTimerId)},n.prototype.render=function(){var e,o=i.__assign(i.__assign(i.__assign({left:this.props.topLeftXPx,top:this.props.topLeftYPx},v.toastDiv),f[this.props.toastType]),this.fadeStyle()),r={"data-tb-test-id":u.makeTestId(this.props.testId,n.ToastDivId),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},s={"data-tb-test-id":u.makeTestId(this.props.testId,n.ToastContentId)},d={"data-tb-test-id":u.makeTestId(this.props.testId,n.ToastMessageId)},p={stackingRootId:this.props.stackingRootId,wrapperTestId:this.props.testId,zIndex:this.props.zIndex},h=i.__assign(i.__assign({},v.positioningDiv),u.conditional(!!this.props.topLeftXPx,{justifyContent:void 0})),g={maxWidth:t.ToastMaxWidth},m=(e=this.props.toastType,a.createElement("b",null,l.Messages[e+"ToastPrefix"]()));return a.createElement(c.StackingComponentWrapper,i.__assign({},p),a.createElement("div",{style:h},a.createElement("div",{style:g},a.createElement("div",i.__assign({style:o},r),a.createElement("div",i.__assign({style:v.contentDiv},s),m,a.createElement("div",{style:v.messageContainer},a.createElement("div",i.__assign({style:v.message,role:"alert"},d),a.createElement("span",{style:{position:"absolute",color:"transparent"}},m),this.props.message,this.props.children),a.createElement("div",{style:v.actionContainer},this.renderActionLink()))),this.renderCloseButton()))))},n.ToastDivId="toast-widget",n.ToastContentId="toast-content",n.ToastMessageId="toast-message",n.FadeTransitionTimeMS=300,n.AutodimissCloseFadeTransitionTimeMS=1e3,n.HoverRestoreFadeTransitionTimeMS=30,n.DefaultAutoDissmissTimeMS=5e3,n.defaultProps={actionHref:"javascript:void(0)",autoDismiss:!0,autoDismissTimeMS:n.DefaultAutoDissmissTimeMS},n}(a.Component);t.ToastWidget=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(2),a=n(13),s={textDecoration:"underline"},l={active:s,focus:s,hover:s},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),t.props.onClick&&t.props.onClick()},t}return o.__extends(t,e),t.prototype.render=function(){var e={"data-tb-test-id":i.makeTestId(this.props.testId,"InteractiveLink"),href:this.props.href||"#",onClick:this.handleClick,style:o.__assign(o.__assign({},this.props.style),{textDecoration:"none"})};return r.createElement(a.InteractiveDomWrapper,{interactiveStyles:l},r.createElement("a",o.__assign({},e),this.props.text))},t}(r.PureComponent);t.InteractiveLinkWidget=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(5),a=n(24),s=n(7),l=n(25),d=n(60);t.DropdownButtonType=d.DropdownButtonType;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultLabelId=i.generateId(),t.labelId=function(){return t.props.labelId||t.defaultLabelId},t.defaultListId=i.generateId(),t.listId=function(){return t.props.list.props.id||t.defaultListId},t.doneFn=void 0,t.typeAheadQuery="",t.typeAheadTimeoutHandle=0,t.dropdownButtonRef=r.createRef(),t.handleOpen=function(e,n){t.props.onOpen&&t.props.onOpen(e,n),t.doneFn=e},t.handleClose=function(){t.doneFn=void 0,t.props.onClose&&t.props.onClose()},t.keyDownHandlers=Object.freeze({Home:function(e){return l.findSelectableItemIndex(e,-1,1)},End:function(e){return l.findSelectableItemIndex(e,e.length,-1)},ArrowUp:function(e){return l.findSelectableItemIndex(e,l.findIndexOfItemWithValue(e,t.props.value),-1)},ArrowDown:function(e){return l.findSelectableItemIndex(e,l.findIndexOfItemWithValue(e,t.props.value),1)}}),t.handleKeyDown=s.mergeEventHandlers((function(e){if(!t.props.disabled&&t.keyDownHandlers[e.key]){var n=t.props.list.props.items,o=t.keyDownHandlers[e.key](n);e.preventDefault(),e.stopPropagation();var r=n[o].value;r!==t.props.value&&t.handleSelect(r)}}),(function(e){var n,o;return null===(o=(n=t.props).onKeyDown)||void 0===o?void 0:o.call(n,e)})),t.handleKeyPress=s.mergeEventHandlers((function(e){if(!(t.props.disabled||" "===e.key||"Enter"===e.key||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){window.clearTimeout(t.typeAheadTimeoutHandle),t.typeAheadTimeoutHandle=window.setTimeout((function(){return t.typeAheadQuery=""}),500),t.typeAheadQuery+=e.key;var n=t.props.list.props.items,o=a.findIndex(n,(function(e){return e.value===t.props.value})),r=i(t.typeAheadQuery);r<0&&(r=i(e.key)),r>=0&&o!==r&&(t.handleSelect(n[r].value),e.preventDefault(),e.stopPropagation())}function i(e){var t=o+(e.length>1?0:1);return a.findIndex(n,(function(t){return l.isSelectableItem(t)&&0===t.value.toLowerCase().indexOf(e.toLowerCase())}),t)}}),(function(e){var n,o;return null===(o=(n=t.props).onKeyPress)||void 0===o?void 0:o.call(n,e)})),t.handleSelect=function(e){t.props.onChange&&t.props.onChange(e),t.doneFn&&!t.props.onOpen&&t.doneFn()},t.renderList=function(){var e=t.props,n=e.list,o=e.value,i=n.props.selectedValue,a=n.props["aria-labelledby"];return r.cloneElement(n,{"aria-labelledby":void 0===a?t.labelId():a,id:t.listId(),onSelect:t.handleSelect,selectOnEnterKey:!0,selectedValue:void 0===i?o:i})},t}return o.__extends(t,e),t.prototype.repositionPopup=function(){var e;null===(e=this.dropdownButtonRef.current)||void 0===e||e.repositionPopup()},t.prototype.toggle=function(e){var t;null===(t=this.dropdownButtonRef.current)||void 0===t||t.toggle(e)},t.prototype.render=function(){var e,t=this.props,n=t.children,i=t.list,a=(t.onChange,t.popupContent),s=t.renderPopupContent,l=t.value,u=o.__rest(t,["children","list","onChange","popupContent","renderPopupContent","value"]),c=i.props.items.find((function(e){return e.value===l}));return r.createElement(d.DropdownButton,o.__assign({"aria-controls":this.listId(),closeOnPopupBlur:!0,labelId:this.labelId()},u,{"aria-haspopup":"listbox",focusOnClose:!0,onClose:this.handleClose,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,onOpen:this.handleOpen,popupContent:a||(null===(e=s)||void 0===e?void 0:e())||this.renderList(),ref:this.dropdownButtonRef}),n||c&&c.content||l||"")},t}(r.Component);t.SingleSelectDropdown=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(9),a=n(108),s=n(25),l=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state=t.defaultStateFor(n.props),n.handleFilterChange=function(e){var t=s.standardItemFilter(n.props.items,e,n.props.itemFilterFn);0===t.length&&t.push({value:i.Messages.noMatches(),disabled:!0}),n.setState({searchText:e,filteredItems:t})},n}return o.__extends(t,e),t.defaultStateFor=function(e){return{filteredItems:e.items,searchText:""}},t.prototype.componentDidUpdate=function(e){e.items===this.props.items&&e.itemFilterFn===this.props.itemFilterFn||this.handleFilterChange(this.state.searchText)},t.prototype.render=function(){var e=this.props,t=(e.items,e.itemFilterFn,o.__rest(e,["items","itemFilterFn"]));return r.createElement(a.FilteringList,o.__assign({},t,{items:this.state.filteredItems,onFilterChange:this.handleFilterChange,searchText:this.state.searchText}))},t}(r.Component);t.LocallyFilteringList=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(1),i=n(0),a=n(4),s=n(9),l=n(10),d=n(21),u=n(109),c={success:{bgColor:"#ACE5C8",iconFill:"#034235",icon:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="11" height="11">\n<path fill="'+e+'" d="M4.42528736,11 C4.17241379,11 3.91954023,10.8735632 3.79310345,10.7471264 L0,6.95402299 L1.3908046,5.56321839 L4.29885057,8.47126437 L9.35632184,0 L11,1.01149425 L5.31034483,10.6206897 C5.05747126,10.8735632 4.8045977,11 4.42528736,11 L4.42528736,11 Z"/>\n</svg>\n'},iconWidth:11,getPrefix:s.Messages.successToastPrefix},info:{bgColor:"#D7ECF9",iconFill:"#0F445E",icon:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="13" height="13">\n<path fill="'+e+'" d="M6.5,0 C10.1,0 13,2.9 13,6.5 C13,10.1 10.1,13 6.5,13 C2.9,13 0,10.1 0,6.5 C0,2.9 2.9,0 6.5,0 Z M5.9,2.9 L5.9,4.2 L7.2,4.2 L7.2,2.9 L5.9,2.9 Z M5.9,5 L5.9,10 L7.2,10 L7.2,5 L5.9,5 Z"/>\n</svg>\n'},iconWidth:13,getPrefix:s.Messages.infoToastPrefix},warning:{bgColor:"#FFD6BB",iconFill:"#A84010",icon:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14">\n<path fill="'+e+'" d="M12.4444444,14 L1.55555556,14 C0.7,14 0,13.3 0,12.4444444 L0,1.55555556 C0,0.7 0.7,0 1.55555556,0 L12.4444444,0 C13.3,0 14,0.7 14,1.55555556 L14,12.4444444 C14,13.3 13.3,14 12.4444444,14 Z M6.22222222,2.33333333 L6.22222222,8.55555556 L7.77777778,8.55555556 L7.77777778,2.33333333 L6.22222222,2.33333333 Z M6.22222222,10.1111111 L6.22222222,11.6666667 L7.77777778,11.6666667 L7.77777778,10.1111111 L6.22222222,10.1111111 Z"/>\n</svg>\n'},iconWidth:14,getPrefix:s.Messages.warningToastPrefix},error:{bgColor:"#F8C7CB",hoverBgColor:"#F4A4AA",iconFill:"#C93A47",icon:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="13">\n<path fill="'+e+'" d="M6.20631136,0.486631016 C6.57745685,-0.162210339 7.50532059,-0.162210339 7.78367971,0.486631016 L13.9075804,11.6096257 C14.1859395,12.258467 13.814794,13 13.072503,13 L0.917488052,13 C0.267983436,13 -0.195948433,12.258467 0.0824106882,11.6096257 L6.20631136,0.486631016 Z M6.39188411,3.73083779 L6.39188411,9.29233512 L7.78367971,9.29233512 L7.78367971,3.73083779 L6.39188411,3.73083779 Z M6.39188411,10.2192513 L6.39188411,11.1461676 L7.78367971,11.1461676 L7.78367971,10.2192513 L6.39188411,10.2192513 Z"/>\n</svg>\n'},iconWidth:14,getPrefix:s.Messages.errorToastPrefix}};t.ErrorChip=(o=c.error,i.forwardRef((function(e,t){var n=e.message,s=r.__rest(e,["message"]),c=""+o.getPrefix()+n;return i.createElement(u.Chip,r.__assign({ref:t,tooltip:n},s,{"aria-label":c,className:a.classes(e.className,a.style({backgroundColor:o.bgColor,backgroundImage:"url("+l.encodeSvg(o.icon(s["aria-disabled"]?d.IconFillColors.Disabled:o.iconFill))+")",backgroundOrigin:"border-box",backgroundPositionX:(24-o.iconWidth)/2,backgroundPositionY:"center",backgroundRepeat:"no-repeat",paddingLeft:23,$nest:{"&:hover":{backgroundColor:o.hoverBgColor}}}))}))}))),t.ErrorChip.displayName="ErrorChip"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(4),a=n(21),s=n(16),l=n(3),d=n(15),u=n(2),c=n(5),p=n(7),h=n(253),f=l.TabStyles.Sizing.RowHeight,g=l.TabStyles.Typography.Sizing.Default,m=1,v=3,y=4,b=i.style({color:a.TextColors.Secondary,display:"inline-block",fontSize:g,marginBottom:4,$nest:{"&:empty":{display:"none"},"&.disabled":{color:a.TextColors.Disabled}}}),C=i.style({alignContent:"flex-start",alignItems:"flex-start",border:m+"px solid #cbcbcb",borderRadius:1,boxSizing:"border-box",display:"flex",flexWrap:"wrap",fontSize:g,lineHeight:f-2+"px",overflowY:"auto",padding:v,paddingRight:18,position:"relative",$nest:{'&:not([aria-disabled="true"])':{cursor:"text",$nest:{"&:hover":{backgroundColor:a.TextFieldHoverColor,borderColor:a.TextFieldBorderColors.Hover},'&&[aria-invalid="true"]':{borderColor:"#c41723"}}},"&&.focus-within":o.__assign(o.__assign({},s.DefaultFocusIndicator),{backgroundColor:"transparent",$nest:{'&[aria-invalid="true"]':{boxShadow:"0 0 4px 0 #E62835"}}}),"& > *":{margin:y},"& > input":{fontSize:"inherit",lineHeight:g+"px",marginLeft:0,marginRight:-1,outline:"none"},"& > input:focus":d.isEdge?{marginLeft:-1,marginRight:-3}:{marginRight:-2},"& > input:focus:first-child":{marginLeft:4},"& > .drag-indicator":{background:"#EB8F50",height:f+2*y,margin:"0 -1px",pointerEvents:"none",width:2}}}),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.domRef=r.createRef(),t.inputElement=null,t.inputId=c.generateId(),t.labelId=c.generateId(),t.findIndexOfChipValue=function(e){return t.props.children.findIndex((function(t){return t.props.value===e}))},t.getChipElemAtIndex=function(e){var n;return null===(n=t.domRef.current)||void 0===n?void 0:n.querySelector('[role="option"][aria-posinset="'+(e+1)+'"]')},t.getChipValue=function(e){return(t.props.children[e]||{props:{value:void 0}}).props.value},t.getChipValues=function(){return t.props.children.map((function(e){return e.props.value}))},t.getLastChipValue=function(){return t.getChipValue(t.props.children.length-1)},t.state={activeChipValue:t.getLastChipValue(),cursorOffset:1,dragIndex:-1,focusWithin:!1,selectedChips:{}},t.getAnchorClientRect=function(){return t.domRef.current.getBoundingClientRect()},t.chipKeyDownHandlers=Object.freeze({ArrowLeft:function(){return t.setState({cursorOffset:0},t.focusInput)},ArrowRight:function(){return t.setState({cursorOffset:1},t.focusInput)},Home:function(){return t.setState({activeChipValue:t.getChipValue(0),cursorOffset:0},t.focusInput)},End:function(){return t.setState({activeChipValue:t.getLastChipValue(),cursorOffset:1},t.focusInput)},Backspace:function(e){return t.removeValueAtIndex(e)},Delete:function(e){return t.removeValueAtIndex(e)},"Ctrl+a":function(){}}),t.inputKeyDownHandlers=Object.freeze({ArrowLeft:function(e,n){var o=Math.max(n-1,0);t.setState({cursorOffset:n>0?1:0},(function(){return e[o].focus()}))},ArrowRight:function(e,n){var o=Math.min(n+1,e.length-1);t.setState({cursorOffset:n<e.length-1?0:1},(function(){return e[o].focus()}))},Home:function(){return t.setState({activeChipValue:t.getChipValue(0),cursorOffset:0},t.focusInput)},End:function(){return t.setState({activeChipValue:t.getLastChipValue(),cursorOffset:1},t.focusInput)},Backspace:function(e,n){return t.inputKeyDownHandlers.ArrowLeft(e,n)},Delete:function(e,n){return t.inputKeyDownHandlers.ArrowRight(e,n)}}),t.handleKeyDown=p.mergeEventHandlers((function(e){var n=(d.isCtrl(e)?"Ctrl+":"")+e.key;if("option"===e.target.getAttribute("role")&&t.chipKeyDownHandlers[n])t.chipKeyDownHandlers[n](t.findIndexOfChipValue(t.state.activeChipValue)),e.preventDefault(),e.stopPropagation();else if(function(e){return"INPUT"===e.tagName}(e.target)&&""===e.target.value&&t.inputKeyDownHandlers[n]){var o=Array.from(e.currentTarget.querySelectorAll('[role="option"], input')),r=o.indexOf(e.target);t.inputKeyDownHandlers[n](o,r),e.preventDefault(),e.stopPropagation()}}),(function(e){var n,o;return null===(o=(n=t.props).onKeyDown)||void 0===o?void 0:o.call(n,e)})),t.getDragIndexFromDragEvent=function(e){var n=e.target===e.currentTarget,o=n&&e.nativeEvent.offsetX<m+v+y,r=n?t.findNearbyChipFromMouseEvent(e,!o):c.closest(e.target,'[role="option"]');return r?parseInt(r.getAttribute("aria-posinset"),10)-(o?1:0):t.getChipValues().length},t.handleDragOver=p.mergeEventHandlers((function(e){e.preventDefault(),e.dataTransfer.dropEffect="move";var n=t.getDragIndexFromDragEvent(e);n>=0&&n<=t.getChipValues().length&&t.setState({dragIndex:n})}),(function(e){var n,o;return null===(o=(n=t.props).onDragOver)||void 0===o?void 0:o.call(n,e)})),t.handleDragLeave=p.mergeEventHandlers((function(e){t.setState({dragIndex:-1})}),(function(e){var n,o;return null===(o=(n=t.props).onDragExit)||void 0===o?void 0:o.call(n,e)})),t.handleDrop=p.mergeEventHandlers((function(e){var n=t.state.dragIndex,r=e.dataTransfer.getData("Text");if(t.setState({dragIndex:-1}),t.props.onValuesChange&&r){var i=t.findIndexOfChipValue(r),a=o.__spreadArrays(t.getChipValues());!isFinite(n)||i>=a.length||n>a.length||(e.preventDefault(),i<0&&t.props.onValueAdd&&t.props.listItems.findIndex((function(e){return e.value===r}))?t.props.onValueAdd(r,n):(a.splice(n-(i>=n?0:1),0,a.splice(i,1)[0]),t.props.onValuesChange(a)))}}),(function(e){var n,o;return null===(o=(n=t.props).onDrop)||void 0===o?void 0:o.call(n,e)})),t.handleMouseDown=p.mergeEventHandlers((function(e){if(e.currentTarget===e.target){var n=e.nativeEvent.offsetX<m+v+y,o=t.findNearbyChipFromMouseEvent(e,!n);o?(o.focus(),t.setState({cursorOffset:n?0:1},t.focusInput)):t.setState({activeChipValue:t.getLastChipValue(),cursorOffset:1})}}),(function(e){var n,o;return null===(o=(n=t.props).onMouseDown)||void 0===o?void 0:o.call(n,e)})),t.handleBlur=p.mergeEventHandlers((function(e){e.currentTarget.contains(c.findBlurRelatedTarget(e))||t.setState({focusWithin:!1})}),(function(e){var n,o;return null===(o=(n=t.props).onBlur)||void 0===o?void 0:o.call(n,e)})),t.handleFocus=p.mergeEventHandlers((function(e){e.currentTarget===e.target&&t.focusInput(),t.state.focusWithin||t.setState({focusWithin:!0})}),(function(e){var n,o;return null===(o=(n=t.props).onFocus)||void 0===o?void 0:o.call(n,e)})),t.handleInputRef=function(e){return t.inputElement=e},t.handleSelectValue=function(e){if(t.props.onValueAdd){var n=Math.max(0,t.findIndexOfChipValue(t.state.activeChipValue)+t.state.cursorOffset);t.props.onValueAdd(e,n)}},t.removeValueAtIndex=function(e){var n=t.props.onValuesChange,o=t.getChipValues();o.splice(e,1),n&&n(o)},t}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.props,o=n.children,r=n.disabled,i=e.children;if(e.disabled||!r){if(o.length<i.length){var a=i.findIndex((function(e){return e.props.value===t.activeChipValue})),s=this.getChipValue(a)||this.getLastChipValue();this.setState({activeChipValue:s,cursorOffset:a===o.length?1:0},this.state.focusWithin?this.focusInput:void 0)}else if(this.state.focusWithin&&o.length===i.length+1){for(var l=0;l<o.length-1&&this.getChipValue(l)===i[l].props.value;)l++;this.setState({activeChipValue:this.getChipValue(l),cursorOffset:1})}else o.length>i.length&&this.setState({activeChipValue:this.getLastChipValue(),cursorOffset:1});if(this.state.dragIndex<0&&this.state.focusWithin)if(o.length!==i.length)c.scrollIntoView(this.inputElement),this.focusInput();else{var d=this.findIndexOfChipValue(this.state.activeChipValue);c.scrollIntoView(this.getChipElemAtIndex(d))}}else this.setState({dragIndex:-1,focusWithin:!1})},t.prototype.focusChipAtIndex=function(e){var t=this.getChipElemAtIndex(e);t&&t.focus()},t.prototype.focusInput=function(){this.inputElement&&this.inputElement.focus()},t.prototype.findNearbyChipFromMouseEvent=function(e,t){var n;if(void 0===t&&(t=!0),null===e.currentTarget.querySelector('[role="option"]'))return null;for(var o=e.currentTarget,r=e.clientX,i=e.clientY;o===e.currentTarget||"INPUT"===(null===(n=o)||void 0===n?void 0:n.tagName);)t?--r:++r,o=document.elementFromPoint(r,i);return c.closest(o,'[role="option"]')},t.prototype.renderChips=function(){var e=this,t=this.props,n=t.children,i=t.disabled,a=r.Children.count(n);return r.Children.map(n,(function(t,n){var s=t.props.value;return r.cloneElement(t,o.__assign({"aria-atomic":!0,"aria-disabled":i||t.props["aria-disabled"],"aria-posinset":n+1,"aria-selected":e.state.selectedChips[s],"aria-setsize":a,key:s,role:"option"},!i&&o.__assign(o.__assign({},d.isIE&&{onMouseDown:function(){return setTimeout((function(){return e.focusChipAtIndex(n)}))}}),{draggable:!0,onDragStart:function(e){e.dataTransfer.setData("Text",s),e.dataTransfer.effectAllowed="move"},onFocus:function(){return e.setState({activeChipValue:s})},onRemove:function(){return e.removeValueAtIndex(n)},tabIndex:-1})))}))},t.prototype.renderCombobox=function(e){return r.createElement(h.Combobox,o.__assign({},e,{getAnchorClientRect:this.getAnchorClientRect,id:this.inputId,inputRef:this.handleInputRef,key:"combobox",onSelectValue:this.handleSelectValue,testId:u.makeTestId(e.testId,"ChipPicker")}))},t.prototype.render=function(){var e,t=this.props,n=(t.children,t.className),a=t.disabled,s=t.onFilterItems,l=t.label,d=t.maxLines,c=t.listItems,h=t.listMaxHeight,g=(t.onMouseDown,t.onValueAdd,t.onValuesChange,t.placeholder),S=t.stackingRootId,_=t.style,w=t.testId,I=t.zIndex,x=o.__rest(t,["children","className","disabled","onFilterItems","label","maxLines","listItems","listMaxHeight","onMouseDown","onValueAdd","onValuesChange","placeholder","stackingRootId","style","testId","zIndex"]),T=this.state,D=T.activeChipValue,E=T.cursorOffset,k=T.dragIndex,O=this.renderChips();if(!a)if(k<0){var P=this.findIndexOfChipValue(D),R=O.length>0?void 0:g,F=this.renderCombobox({"aria-label":x["aria-label"],"aria-labelledby":x["aria-labelledby"],disabled:a,listItems:c,listMaxHeight:h,onFilterItems:s,placeholder:R,stackingRootId:S,testId:w,zIndex:I}),M=P+E;O.splice(M,0,F)}else{var B=r.createElement("div",{className:"drag-indicator",key:"drag-indicator"});O.splice(k,0,B)}return r.createElement(r.Fragment,null,r.createElement("label",{children:l,className:i.classes(b,{disabled:a}),"data-tb-test-id":u.makeTestId(w,"ChipPicker","Label"),htmlFor:this.inputId,id:this.labelId}),r.createElement("div",o.__assign({},p.EventUtilsOptOut,{"aria-disabled":a,"aria-labelledby":this.labelId,"aria-orientation":"horizontal","data-tb-test-id":u.makeTestId(w,"ChipPicker"),spellCheck:!1},x,{children:O,className:i.classes(C,n,{"focus-within":this.state.focusWithin&&!a})},!a&&{onBlur:this.handleBlur,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDrop:this.handleDrop,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,tabIndex:-1},{ref:this.domRef,role:"listbox",style:o.__assign({maxHeight:(e=d,2*(m+v)+(2*y+f)*Math.max(1,e))},_)})))},t.defaultProps={children:[],maxLines:3},t}(r.PureComponent);t.ChipPicker=S},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(4),a=n(9),s=n(6),l=n(98),d=n(3),u=n(15),c=n(5),p=n(14),h=n(62),f=n(25),g=n(254),m=n(21),v=i.style({backgroundColor:"transparent",border:"none",color:m.TextColors.Primary,fontSize:d.TabStyles.Typography.Sizing.Default,height:d.TabStyles.Sizing.RowHeight,lineHeight:d.TabStyles.Sizing.RowHeight+"px",padding:0}),y=i.style({color:m.TextColors.Neutral,lineHeight:d.TabStyles.Sizing.RowHeight+"px",pointerEvents:"none",position:"absolute",$nest:{'[aria-disabled="true"] &':{color:m.TextColors.Disabled}}}),b=Object.freeze({inputText:"",isOpen:!1,selectedItemIndex:-1}),C=Object.freeze({horizontal:p.HorizontalOriginOption.left,vertical:p.VerticalOriginOption.bottom}),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputElement=null,t.listId=c.generateId(),t.measureRef=r.createRef(),t.state=o.__assign({},b),t.handleSelectValue=function(e){t.setState(b,(function(){var n,o;return null===(o=(n=t.props).onSelectValue)||void 0===o?void 0:o.call(n,e)}))},t.handleInputChange=function(e,n){t.setState({inputText:e,isOpen:t.state.isOpen||!!e})},t.inputKeyDownHandlers=Object.freeze({ArrowUp:function(e){t.state.isOpen&&(e.altKey?t.inputKeyDownHandlers.Escape(e):t.setState({selectedItemIndex:f.findSelectableItemIndex(t.props.listItems,t.state.selectedItemIndex,-1)}))},ArrowDown:function(e){t.state.isOpen||t.setState({isOpen:!0}),e.altKey||t.setState({selectedItemIndex:f.findSelectableItemIndex(t.props.listItems,t.state.selectedItemIndex,1)})},Enter:function(){t.state.isOpen&&t.state.selectedItemIndex>=0&&t.handleSelectValue(t.props.listItems[t.state.selectedItemIndex].value)},Escape:function(e){return!t.state.isOpen||(e.repeat||(t.inputKeyUpHandlers[e.key]=function(){return t.setState({isOpen:!1,selectedItemIndex:-1},(function(){return t.inputElement.focus()}))}),!1)},"Ctrl+Home":function(){t.state.isOpen&&t.setState({selectedItemIndex:f.findSelectableItemIndex(t.props.listItems,-1,1)})},"Ctrl+End":function(){t.state.isOpen&&t.setState({selectedItemIndex:f.findSelectableItemIndex(t.props.listItems,t.props.listItems.length,-1)})}}),t.handleInputKeyDown=function(e){var n=(u.isCtrl(e)?"Ctrl+":"")+e.key;t.inputKeyDownHandlers[n]?t.inputKeyDownHandlers[n](e)||(e.stopPropagation(),e.preventDefault()):t.state.selectedItemIndex>=0&&e.which>=32&&t.setState({selectedItemIndex:-1})},t.inputKeyUpHandlers={},t.handleInputKeyUp=function(e){var n=(u.isCtrl(e)?"Ctrl+":"")+e.key;t.inputKeyUpHandlers[n]&&(t.inputKeyUpHandlers[n](e),delete t.inputKeyUpHandlers[n],e.stopPropagation(),e.preventDefault())},t.handleInputBlur=function(e){var n;t.state.isOpen&&(null===(n=document.getElementById(t.listId))||void 0===n?void 0:n.contains(e.relatedTarget))||t.setState(b)},t.handleInputFocus=function(e){t.updateInputWidth(e)},t.handleInputRef=function(e){var n,o;t.inputElement=e,null===(o=(n=t.props).inputRef)||void 0===o||o.call(n,e)},t.handlePortalKey=function(e){"Escape"===e.key&&("keydown"===e.type?t.handleInputKeyDown(e):t.handleInputKeyUp(e))},t.portalEventTrapOverrides={onKeyDown:t.handlePortalKey,onKeyUp:t.handlePortalKey},t.getAnchorClientRect=function(){return t.props.getAnchorClientRect?t.props.getAnchorClientRect():t.inputElement.getBoundingClientRect()},t.renderPlaceholderText=function(e){return r.createElement("span",{"aria-hidden":!0,className:y},e)},t.renderMeasurementDiv=function(e){return r.createElement("span",{ref:t.measureRef,style:{whiteSpace:"pre",position:"absolute",visibility:"hidden"}},e)},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.updateInputWidth()},t.prototype.componentDidUpdate=function(e,t){var n,o,r,i=this.state,a=i.inputText,s=i.isOpen,l=i.selectedItemIndex;if(e.disabled||!this.props.disabled){if(s&&e.listItems!==this.props.listItems){var d=this.props.listItems[0];this.setState({selectedItemIndex:f.isSelectableItem(d)&&d.value===a?0:-1})}if(a!==t.inputText&&(null===(o=(n=this.props).onFilterItems)||void 0===o||o.call(n,a),this.updateInputWidth()),s&&t.selectedItemIndex!==l&&l>=0){var u=null===(r=document.getElementById(this.listId))||void 0===r?void 0:r.querySelector('[aria-selected="true"]');c.scrollIntoView(u)}}else this.setState(b)},t.prototype.updateInputWidth=function(e){void 0===e&&(e=!0);var t=e?u.isEdge?4:2:1;this.inputElement.style.width=(this.measureRef.current||{scrollWidth:0}).scrollWidth+t+"px"},t.prototype.render=function(){var e,t=this.props,n=t.className,d=t.disabled,u=t.listItems,c=t.id,m=t.listMaxHeight,y=t.placeholder,b=t.stackingRootId,S=t.testId,_=t.zIndex,w=this.state,I=w.inputText,x=w.isOpen,T=w.selectedItemIndex,D=u[T]&&u[T].value,E=x&&T>=0?this.listId+"-"+T:void 0,k=0===u.length?[{value:a.Messages.noMatches(),disabled:!0}]:f.standardItemFilter(u,"");return r.createElement(r.Fragment,null,r.createElement(g.TextFieldInputWidget,{"aria-activedescendant":E,"aria-autocomplete":"list","aria-controls":x?this.listId:void 0,"aria-expanded":x,"aria-haspopup":"listbox","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-placeholder":y,className:i.classes(v,n),disabled:d,handleBlur:this.handleInputBlur,handleChange:this.handleInputChange,handleFocus:this.handleInputFocus,id:c,inputRef:this.handleInputRef,onKeyDown:this.handleInputKeyDown,onKeyUp:this.handleInputKeyUp,role:"combobox",testId:S,text:I}),I?this.renderMeasurementDiv(I):y&&this.renderPlaceholderText(y),!d&&x&&r.createElement(p.Overlay,{allowAutoPosition:!0,anchorOrigin:C,getAnchorClientRect:this.getAnchorClientRect,portalEventTrapOverrides:this.portalEventTrapOverrides,stackingRootId:b,zIndex:_},r.createElement(h.List,{disableTabAccessibility:!0,id:this.listId,items:k,onSelect:this.handleSelectValue,selectedValue:D,style:o.__assign(o.__assign({},l.PopupStyle),{maxHeight:m,minWidth:null===(e=this.getAnchorClientRect())||void 0===e?void 0:e.width}),testId:s.testId(S,"List")})))},t.defaultProps={listItems:[]},t}(r.PureComponent);t.Combobox=S},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(4),a=n(15),s=n(5),l=n(13),d=n(58),u=a.isIE||a.isEdge?i.style({$nest:{"&:focus":{backgroundColor:"transparent"},"&::-ms-clear":{$unique:!0,display:"none"}}}):"",c=Object.freeze({WebkitAppearance:"none",boxSizing:"border-box",fontFamily:"inherit",width:"100%"}),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isComposing=!1,t.enterDown=!1,t.escDown=!1,t.handleBlur=function(e){var n,o;t.enterDown=!1,t.escDown=!1,e.relatedTarget=s.findBlurRelatedTarget(e),null===(o=(n=t.props).handleBlur)||void 0===o||o.call(n,e)},t.handleChange=function(e){!t.props.disabled&&t.props.handleChange&&t.props.handleChange(e.target.value,t.isComposing)},t.handleComposition=function(e){"compositionend"===e.type?(t.isComposing=!1,t.handleChange(e)):t.isComposing=!0},t.handleFocus=function(e){t.props.shouldSelectTextOnFocus&&!s.shouldIgnoreFocusEvent(e)&&s.selectInputText(e.target)},t.handleKeyDown=function(e){t.props.disabled||t.isComposing||("Enter"===e.key&&t.props.handleEnter?t.enterDown=!0:"Escape"===e.key&&t.props.handleEscape?t.escDown=!0:t.props.onKeyDown&&t.props.onKeyDown(e))},t.handleKeyUp=function(e){t.props.disabled||t.isComposing||("Enter"===e.key&&t.enterDown&&t.props.handleEnter?(t.enterDown=!1,t.props.handleEnter()):"Escape"===e.key&&t.escDown&&t.props.handleEscape?(t.escDown=!1,t.props.handleEscape()):t.props.onKeyUp&&t.props.onKeyUp(e))},t}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=(e.containerStyle,e.handleActive,e.handleBlur,e.handleChange,e.handleEnter,e.handleEscape,e.handleFocus,e.handleHover,e.inputRef),i=e.inputStyle,a=(e.interactiveStyles,e.onDarkBackground,e.placeholder,e.placeholderStyle,e.pointerClick,e.pointerDoubleClick,e.pointerDown,e.pointerUp,e.shouldSelectTextOnFocus,e.testId),s=e.text,l=e.type,d=o.__rest(e,["className","containerStyle","handleActive","handleBlur","handleChange","handleEnter","handleEscape","handleFocus","handleHover","inputRef","inputStyle","interactiveStyles","onDarkBackground","placeholder","placeholderStyle","pointerClick","pointerDoubleClick","pointerDown","pointerUp","shouldSelectTextOnFocus","testId","text","type"]);return r.createElement("input",o.__assign({},d,{className:[t,u].join(" "),"data-tb-test-id":a+"-TextInput",onBlur:this.handleBlur,onChange:this.handleChange,onCompositionEnd:this.handleComposition,onCompositionStart:this.handleComposition,onCompositionUpdate:this.handleComposition,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,ref:n,style:o.__assign(o.__assign({},c),i),type:l,value:s}))},t.defaultProps={shouldSelectTextOnFocus:!0,text:"",type:d.TextInputType.Text},t=o.__decorate([l.InteractiveDomHoCDecorator],t)}(r.Component);t.TextFieldInputWidget=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(17),i=n(0),a=n(2);t.TextAreaWidget=i.forwardRef((function(e,t){var n=e.testId,s=o.__rest(e,["testId"]);return i.createElement(r.TextArea,o.__assign({"data-tb-test-id":a.makeTestId(n,"TextArea")},s,{ref:t}))})),t.TextAreaWidget.displayName="TextAreaWidget"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(17),i=n(0),a=n(2),s=n(7);t.MenuButtonWidget=i.forwardRef((function(e,t){var n=e.isOpen,l=e.testId,d=o.__rest(e,["isOpen","testId"]);return i.createElement(r.Button,o.__assign({},s.EventUtilsOptOut,{"aria-haspopup":"menu",kind:"outline"},d,{"aria-controls":n?d["aria-controls"]:void 0,"aria-expanded":n,"data-tb-test-id":a.makeTestId(l,"MenuButton"),onKeyDown:function(t){"ArrowDown"===t.key&&e.onClick&&(t.preventDefault(),e.onClick(t)),e.onKeyDown&&e.onKeyDown(t)},ref:t}))})),t.MenuButtonWidget.displayName="MenuButtonWidget",t.MenuButtonWidget.defaultProps={"aria-haspopup":"menu",density:"high"}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(4),i=n(6),a=r.style({borderTopRightRadius:0,borderBottomRightRadius:0,marginRight:"0 !important",position:"relative",$nest:{"&::after":{background:"currentColor",bottom:-1,content:'""',position:"absolute",right:-1,top:-1,width:1}}}),s=r.style({borderBottomLeftRadius:0,borderLeft:"none",borderTopLeftRadius:0,marginLeft:"0 !important",minWidth:"24px !important",padding:"0 5px !important",$nest:{"&:empty::after":{marginLeft:-6,marginRight:-6}}});t.SplitButtonWidget=function(e){if(!e.menuButton.props["aria-label"]&&!e.menuButton.props["aria-labelledby"])throw new Error("aria-label or aria-labelledby must be set on `menuButton` props.");return o.createElement("div",{style:{display:"inline-flex",whiteSpace:"nowrap"}},o.cloneElement(e.button,{buttonType:i.ButtonType.Primary,className:r.classes(e.button.props.className,a),density:e.button.props.density||"medium"}),o.cloneElement(e.menuButton,{kind:"primary",className:r.classes(e.menuButton.props.className,s),density:"high"}))},t.SplitButtonWidget.displayName="SplitButtonWidget"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(0),i=n(8),a=n(6),s=n(5),l=n(7),d=n(94);t.HierarchicalDropdownWidget=r.forwardRef((function(e,t){var n=e.buttonRef,u=e.menuId,c=e.menuItemInfos,p=e.maxHeight,h=e.onSelect,f=o.__rest(e,["buttonRef","menuId","menuItemInfos","maxHeight","onSelect"]),g=r.useState(!1),m=g[0],v=g[1],y=r.useState(s.generateId())[0],b=r.useRef(null),C=r.useRef(null),S={allowAutoPosition:!0,anchorEl:C.current,id:u||y,maxHeight:p,menuItemInfos:c,menuStyle:o.__assign({},m&&{minWidth:C.current.getBoundingClientRect().width}),onSelect:function(e){h(e),b.current()},requestCloseAll:b.current,stackingRootId:e.stackingRootId,testId:e.testId,toggleEl:C.current,zIndex:e.zIndex};return r.createElement(r.Fragment,null,r.createElement(a.DropdownButton,o.__assign({"aria-controls":S.id,"aria-haspopup":"menu"},f,{children:e.children||"",focusOnClose:!0,onClose:function(){v(!1),b.current=null},onOpen:function(e){b.current=e,v(!0)},ref:function(e){l.assignRef(t,e);var o=i.findDOMNode(e);C.current=o?o.querySelector("[aria-haspopup]"):null,l.assignRef(n,C.current)}})),!e.disabled&&m&&r.createElement(d.FlyoutListMenuWidget,o.__assign({},S)))})),t.HierarchicalDropdownWidget.displayName="HierarchicalDropdownWidget"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(4),i=n(9),a=n(21),s=n(10);t.SuccessSvg=function(e){return void 0===e&&(e=a.IconFillColors.Valid),'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14">\n    <path fill="'+e+'" fill-rule="evenodd" d="M12.0713218,-2.66453526e-14 L12.865698,0.435932596 L6.33039459,12.2578763 C6.2968669,12.3177578 6.25156942,12.3670935 6.19894324,12.4046227 L6.12638767,12.4471038 L6.10956871,12.4542337 C5.9448756,12.5309428 5.74233651,12.50338 5.60334716,12.3704999 L-8.8817842e-16,7.12660356 L0.630925776,6.4797854 L5.81515537,11.3228296 L12.0713218,-2.66453526e-14 Z"/>\n  </svg>'},t.InfoSvg=function(e){return void 0===e&&(e=a.IconFillColors.Info),'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14">\n    <path fill="'+e+'" fill-rule="evenodd" d="M6.5,0 C10.1,0 13,2.9 13,6.5 C13,10.1 10.1,13 6.5,13 C2.9,13 0,10.1 0,6.5 C0,2.9 2.9,0 6.5,0 Z M6.5,1 C3.5,1 1,3.5 1,6.5 C1,9.5 3.5,12 6.5,12 C9.5,12 12,9.5 12,6.5 C12,3.5 9.5,1 6.5,1 Z M7,5 L7,10 L6,10 L6,5 L7,5 Z M7,3 L7,4 L6,4 L6,3 L7,3 Z"/>\n  </svg>'},t.WarningSvg=function(e){return void 0===e&&(e=a.IconFillColors.Warning),'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14">\n    <g fill="none" fill-rule="evenodd">\n      <path fill="'+e+'" d="M5.7630034,1.44919786 L0.0765242105,11.7165775 C-0.181952117,12.315508 0.248841762,13 0.851953191,13 L12.1387528,13 C12.828023,13 13.1726581,12.315508 12.9141818,11.7165775 L7.22770259,1.44919786 C6.96922626,0.85026738 6.10763851,0.85026738 5.7630034,1.44919786 Z"/>\n      <path fill="#000" d="M7,11 L7,12 L6,12 L6,11 L7,11 Z M7,4 L7,10 L6,10 L6,4 L7,4 Z"/>\n    </g>\n  </svg>'},t.ErrorSvg=function(e){return void 0===e&&(e=a.IconFillColors.Error),'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14">\n    <path fill="'+e+'" fill-rule="evenodd" d="M6.5,0 C10.1,0 13,2.9 13,6.5 C13,10.1 10.1,13 6.5,13 C2.9,13 0,10.1 0,6.5 C0,2.9 2.9,0 6.5,0 Z M10.7126852,2.99396754 L2.99396754,10.7126852 C3.9509961,11.5137006 5.17686811,12 6.5,12 C9.5,12 12,9.5 12,6.5 C12,5.17686811 11.5137006,3.9509961 10.7126852,2.99396754 Z M6.5,1 C3.5,1 1,3.5 1,6.5 C1,7.82313189 1.48629945,9.0490039 2.28731479,10.0060325 L10.0060325,2.28731479 C9.0490039,1.48629945 7.82313189,1 6.5,1 Z"/>\n  </svg>'};var l={error:i.Messages.errorIconLabel,warning:i.Messages.warningIconLabel,info:i.Messages.infoIconLabel,success:i.Messages.successIconLabel},d={error:s.encodeSvg(t.ErrorSvg()),warning:s.encodeSvg(t.WarningSvg()),info:s.encodeSvg(t.InfoSvg()),success:s.encodeSvg(t.SuccessSvg())},u=r.style({height:14,width:14});t.StatusIcon=function(e){return o.createElement("img",{alt:l[e.type](),className:r.classes(e.className,u),key:e.type+"_statusIcon",src:d[e.type]})}},function(e,t,n){var o;Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),a=n(4),s=n(85),l=n(63);t.InlineAlertType=l.InlineAlertType;t.AlertStyleName=a.style({paddingTop:16,$nest:(o={},o["& ."+l.ContentClass]={flexWrap:"wrap",marginBottom:-16,minHeight:40,paddingBottom:16},o["& ."+l.MessageClass]={margin:"3px 16px 16px 8px"},o["& .buttonContainer"]={margin:"0px 16px 16px 8px"},o)});var d=function(e){return i.createElement("div",{className:"buttonContainer"},i.cloneElement(e,{buttonType:s.ButtonType.Outline}))};t.InlineAlertWidget=i.forwardRef((function(e,n){var o=e.button,s=e.className,u=r.__rest(e,["button","className"]);return i.createElement(l.InlineAlert,r.__assign({},u,{className:a.classes(s,t.AlertStyleName),interactiveElement:o&&d(o),ref:n}))}))},function(e,t,n){var o,r;Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(4),l=n(63);t.InlineAlertType=l.InlineAlertType,t.InteractiveAlertClass="interactiveAlert",t.InteractiveIconClass="interactiveIconContainer",t.CompactAlertStyleName=s.style({minHeight:24,$nest:(o={},o["& ."+l.MessageClass]={flexGrow:1,margin:"3px 8px"},o["& ."+t.InteractiveIconClass]={flexShrink:0,margin:"6px 8px 0px 8px"},o["&."+t.InteractiveAlertClass]={cursor:"pointer",$nest:(r={},r["&."+l.InlineAlertType.Success+":hover"]={backgroundColor:l.ColorMap.success.hoverColor},r["&."+l.InlineAlertType.Info+":hover"]={backgroundColor:l.ColorMap.info.hoverColor},r["&."+l.InlineAlertType.Warning+":hover"]={backgroundColor:l.ColorMap.warning.hoverColor},r["&."+l.InlineAlertType.Error+":hover"]={backgroundColor:l.ColorMap.error.hoverColor},r)},o)}),t.CompactInlineAlertWidget=a.forwardRef((function(e,n){var o,r=e.className,d=e.icon,u=e.iconContainerStyle,c=i.__rest(e,["className","icon","iconContainerStyle"]);return a.createElement(l.InlineAlert,i.__assign({},c,{className:s.classes(r,t.CompactAlertStyleName,c.onClick&&t.InteractiveAlertClass),interactiveElement:d&&(o=d,a.createElement("div",{children:o,className:t.InteractiveIconClass,style:u})),ref:n}))}))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(263),i=n(268),a=n(93);t.InlineAlertAnimator=function(e){var t=o.useState(0),n=t[0],s=t[1],l=function(){s("auto")},d=function(){s(0)},u=o.Children.toArray(e.children),c=u.slice(0,1);return u.length>1&&console.warn("Only a single InlineAlertWidget may be passed into InlineAlertAnimator\nOnly the first will be rendered"),o.createElement(i.TransitionGroup,{childFactory:function(e){return o.cloneElement(e,{height:n})}},c.map((function(t,s){return o.createElement(i.Transition,{appear:!0,key:s,onEnter:l,onExit:d,onExited:e.onExitAnimationComplete,timeout:a.AnimationDuration},o.createElement(r.default,{animateOpacity:!0,duration:a.AnimationDuration,height:n},t))})))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=d(n(0)),s=d(n(26)),l=d(n(266));function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"},p=["animateOpacity","animationStateClasses","applyInlineTransitions","children","contentClassName","delay","duration","easing","height","onAnimationEnd","onAnimationStart"];function h(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(!n.length)return e;for(var r={},i=Object.keys(e),a=0;a<i.length;a++){var s=i[a];-1===n.indexOf(s)&&(r[s]=e[s])}return r}function f(e){e.forEach((function(e){return cancelAnimationFrame(e)}))}function g(e){return!isNaN(parseFloat(e))&&isFinite(e)}function m(e){return"string"==typeof e&&e.search("%")===e.length-1&&g(e.substr(0,e.length-1))}function v(e,t){e&&"function"==typeof e&&e(t)}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.animationFrameIDs=[];var o="auto",i="visible";g(e.height)?(o=e.height<0||"0"===e.height?0:e.height,i="hidden"):m(e.height)&&(o="0%"===e.height?0:e.height,i="hidden"),n.animationStateClasses=r({},c,e.animationStateClasses);var a=n.getStaticStateClasses(o);return n.state={animationStateClasses:a,height:o,overflow:i,shouldUseTransitions:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.state.height;this.contentElement&&this.contentElement.style&&this.hideContent(e)}},{key:"componentDidUpdate",value:function(e,t){var n,o,r=this,i=this.props,a=i.delay,s=i.duration,d=i.height,c=i.onAnimationEnd,p=i.onAnimationStart;if(this.contentElement&&d!==e.height){var h;this.showContent(t.height),this.contentElement.style.overflow="hidden";var y=this.contentElement.offsetHeight;this.contentElement.style.overflow="";var b=s+a,C=null,S={height:null,overflow:"hidden"},_="auto"===t.height;g(d)?(C=d<0||"0"===d?0:d,S.height=C):m(d)?(C="0%"===d?0:d,S.height=C):(C=y,S.height="auto",S.overflow=null),_&&(S.height=C,C=y);var w=(0,l.default)((u(h={},this.animationStateClasses.animating,!0),u(h,this.animationStateClasses.animatingUp,"auto"===e.height||d<e.height),u(h,this.animationStateClasses.animatingDown,"auto"===d||d>e.height),u(h,this.animationStateClasses.animatingToHeightZero,0===S.height),u(h,this.animationStateClasses.animatingToHeightAuto,"auto"===S.height),u(h,this.animationStateClasses.animatingToHeightSpecific,S.height>0),h)),I=this.getStaticStateClasses(S.height);this.setState({animationStateClasses:w,height:C,overflow:"hidden",shouldUseTransitions:!_}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),_?(S.shouldUseTransitions=!0,f(this.animationFrameIDs),this.animationFrameIDs=(n=function(){r.setState(S),v(p,{newHeight:S.height})},(o=[])[0]=requestAnimationFrame((function(){o[1]=requestAnimationFrame((function(){n()}))})),o),this.animationClassesTimeoutID=setTimeout((function(){r.setState({animationStateClasses:I,shouldUseTransitions:!1}),r.hideContent(S.height),v(c,{newHeight:S.height})}),b)):(v(p,{newHeight:C}),this.timeoutID=setTimeout((function(){S.animationStateClasses=I,S.shouldUseTransitions=!1,r.setState(S),"auto"!==d&&r.hideContent(C),v(c,{newHeight:C})}),b))}}},{key:"componentWillUnmount",value:function(){f(this.animationFrameIDs),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null,this.animationClassesTimeoutID=null,this.animationStateClasses=null}},{key:"showContent",value:function(e){0===e&&(this.contentElement.style.display="")}},{key:"hideContent",value:function(e){0===e&&(this.contentElement.style.display="none")}},{key:"getStaticStateClasses",value:function(e){var t;return(0,l.default)((u(t={},this.animationStateClasses.static,!0),u(t,this.animationStateClasses.staticHeightZero,0===e),u(t,this.animationStateClasses.staticHeightSpecific,e>0),u(t,this.animationStateClasses.staticHeightAuto,"auto"===e),t))}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.animateOpacity,i=n.applyInlineTransitions,s=n.children,d=n.className,c=n.contentClassName,f=n.duration,g=n.easing,m=n.delay,v=n.style,y=this.state,b=y.height,C=y.overflow,S=y.animationStateClasses,_=y.shouldUseTransitions,w=r({},v,{height:b,overflow:C||v.overflow});_&&i&&(w.transition="height "+f+"ms "+g+" "+m+"ms",v.transition&&(w.transition=v.transition+", "+w.transition),w.WebkitTransition=w.transition);var I={};o&&(I.transition="opacity "+f+"ms "+g+" "+m+"ms",I.WebkitTransition=I.transition,0===b&&(I.opacity=0));var x=(0,l.default)((u(e={},S,!0),u(e,d,d),e));return a.default.createElement("div",r({},h.apply(void 0,[this.props].concat(p)),{"aria-hidden":0===b,className:x,style:w}),a.default.createElement("div",{className:c,style:I,ref:function(e){return t.contentElement=e}},s))}}]),t}(a.default.Component);y.propTypes={animateOpacity:s.default.bool,animationStateClasses:s.default.object,applyInlineTransitions:s.default.bool,children:s.default.any.isRequired,className:s.default.string,contentClassName:s.default.string,duration:s.default.number,delay:s.default.number,easing:s.default.string,height:function(e,t,n){var r=e[t];return"number"==typeof r&&r>=0||m(r)||"auto"===r?null:new TypeError('value "'+r+'" of type "'+(void 0===r?"undefined":o(r))+'" is invalid type for '+t+" in "+n+'. It needs to be a positive number, string "auto" or percentage string (e.g. "15%").')},onAnimationEnd:s.default.func,onAnimationStart:s.default.func,style:s.default.object},y.defaultProps={animateOpacity:!1,animationStateClasses:c,applyInlineTransitions:!0,duration:250,delay:0,easing:"ease",style:{}},t.default=y},function(e,t,n){var o=n(265);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)&&o.length){var a=r.apply(null,o);a&&e.push(a)}else if("object"===i)for(var s in o)n.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.packageVersion="9.10.0"},function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function r(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.r(t);n(26);function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n(0),l=n.n(s),d=n(8),u=n.n(d),c={disabled:!1},p=l.a.createContext(null),h="unmounted",f="exited",g="entering",m="entered",v=function(e){function t(t,n){var o;o=e.call(this,t,n)||this;var r,i=n&&!n.isMounting?t.enter:t.appear;return o.appearStatus=null,t.in?i?(r=f,o.appearStatus=g):r=m:r=t.unmountOnExit||t.mountOnEnter?h:f,o.state={status:r},o.nextCallback=null,o}i(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===h?{status:f}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==g&&n!==m&&(t=g):n!==g&&n!==m||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,o=this.props.timeout;return e=t=n=o,null!=o&&"number"!=typeof o&&(e=o.exit,t=o.enter,n=void 0!==o.appear?o.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=u.a.findDOMNode(this);t===g?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===f&&this.setState({status:h})},n.performEnter=function(e,t){var n=this,o=this.props.enter,r=this.context?this.context.isMounting:t,i=this.getTimeouts(),a=r?i.appear:i.enter;!t&&!o||c.disabled?this.safeSetState({status:m},(function(){n.props.onEntered(e)})):(this.props.onEnter(e,r),this.safeSetState({status:g},(function(){n.props.onEntering(e,r),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:m},(function(){n.props.onEntered(e,r)}))}))})))},n.performExit=function(e){var t=this,n=this.props.exit,o=this.getTimeouts();n&&!c.disabled?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,o.exit,(function(){t.safeSetState({status:f},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:f},(function(){t.props.onExited(e)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(o){n&&(n=!1,t.nextCallback=null,e(o))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var o=null==t&&!this.props.addEndListener;e&&!o?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===h)return null;var t=this.props,n=t.children,o=r(t,["children"]);if(delete o.in,delete o.mountOnEnter,delete o.unmountOnExit,delete o.appear,delete o.enter,delete o.exit,delete o.timeout,delete o.addEndListener,delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,"function"==typeof n)return l.a.createElement(p.Provider,{value:null},n(e,o));var i=l.a.Children.only(n);return(l.a.createElement(p.Provider,{value:null},l.a.cloneElement(i,o)))},t}(l.a.Component);function y(){}v.contextType=p,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},v.UNMOUNTED=0,v.EXITED=1,v.ENTERING=2,v.ENTERED=3,v.EXITING=4;var b=v,C=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return o=t,void((n=e).classList?n.classList.remove(o):"string"==typeof n.className?n.className=a(n.className,o):n.setAttribute("class",a(n.className&&n.className.baseVal||"",o)));var n,o}))},S=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){t.removeClasses(e,"exit"),t.addClass(e,n?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var o=n?"appear":"enter";t.addClass(e,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var o=n?"appear":"enter";t.removeClasses(e,o),t.addClass(e,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),t.addClass(e,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){t.addClass(e,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){t.removeClasses(e,"exit"),t.addClass(e,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,o="string"==typeof n,r=o?""+(o&&n?n+"-":"")+e:n[e];return{baseClassName:r,activeClassName:o?r+"-active":n[e+"Active"],doneClassName:o?r+"-done":n[e+"Done"]}},t}i(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var o=this.getClassNames(t)[n+"ClassName"];"appear"===t&&"done"===n&&(o+=" "+this.getClassNames("enter").doneClassName),"active"===n&&e&&e.scrollTop,this.appliedClasses[t][n]=o,function(e,t){e&&t&&t.split(" ").forEach((function(t){return o=t,void((n=e).classList?n.classList.add(o):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,o)||("string"==typeof n.className?n.className=n.className+" "+o:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+o)));var n,o}))}(e,o)},n.removeClasses=function(e,t){var n=this.appliedClasses[t],o=n.base,r=n.active,i=n.done;this.appliedClasses[t]={},o&&C(e,o),r&&C(e,r),i&&C(e,i)},n.render=function(){var e=this.props,t=(e.classNames,r(e,["classNames"]));return l.a.createElement(b,o({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.a.Component);S.defaultProps={classNames:""},S.propTypes={};var _=S;function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(s.isValidElement)(e)?t(e):e}(e)})),n}function x(e,t,n){return null!=n[t]?n[t]:e.props[t]}function T(e,t,n){var o=I(e.children),r=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var o,r=Object.create(null),i=[];for(var a in e)a in t?i.length&&(r[a]=i,i=[]):i.push(a);var s={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var d=r[l][o];s[r[l][o]]=n(d)}s[l]=n(l)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s}(t,o);return Object.keys(r).forEach((function(i){var a=r[i];if(Object(s.isValidElement)(a)){var l=i in t,d=i in o,u=t[i],c=Object(s.isValidElement)(u)&&!u.props.in;!d||l&&!c?d||!l||c?d&&l&&Object(s.isValidElement)(u)&&(r[i]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:x(a,"exit",e),enter:x(a,"enter",e)})):r[i]=Object(s.cloneElement)(a,{in:!1}):r[i]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:x(a,"exit",e),enter:x(a,"enter",e)})}})),r}var D=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},E=function(e){function t(t,n){var o,r=(o=e.call(this,t,n)||this).handleExited.bind(w(w(o)));return o.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},o}i(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,o,r=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,o=i,I(n.children,(function(e){return Object(s.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:x(e,"appear",n),enter:x(e,"enter",n),exit:x(e,"exit",n)})}))):T(e,r,i),firstRender:!1}},n.handleExited=function(e,t){var n=I(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=o({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,o=r(e,["component","childFactory"]),i=this.state.contextValue,a=D(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===t?l.a.createElement(p.Provider,{value:i},a):l.a.createElement(p.Provider,{value:i},l.a.createElement(t,o,a))},t}(l.a.Component);E.propTypes={},E.defaultProps={component:"div",childFactory:function(e){return e}};var k=E,O=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onExited",1,n)},t}i(t,e);var n=t.prototype;return n.handleLifecycle=function(e,t,n){var o,r=this.props.children,i=l.a.Children.toArray(r)[t];i.props[e]&&(o=i.props)[e].apply(o,n),this.props[e]&&this.props[e](u.a.findDOMNode(this))},n.render=function(){var e=this.props,t=e.children,n=e.in,o=r(e,["children","in"]),i=l.a.Children.toArray(t),a=i[0],s=i[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,l.a.createElement(k,o,n?l.a.cloneElement(a,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):l.a.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(l.a.Component);O.propTypes={};var P,R,F=O;var M="out-in",B="in-out",L=function(e,t,n){return function(){var o;e.props[t]&&(o=e.props)[t].apply(o,arguments),n()}},A=((P={})[M]=function(e){var t=e.current,n=e.changeState;return l.a.cloneElement(t,{in:!1,onExited:L(t,"onExited",(function(){n(g,null)}))})},P[B]=function(e){var t=e.current,n=e.changeState,o=e.children;return[t,l.a.cloneElement(o,{in:!0,onEntered:L(o,"onEntered",(function(){n(g)}))})]},P),H=((R={})[M]=function(e){var t=e.children,n=e.changeState;return l.a.cloneElement(t,{in:!0,onEntered:L(t,"onEntered",(function(){n(m,l.a.cloneElement(t,{in:!0}))}))})},R[B]=function(e){var t=e.current,n=e.children,o=e.changeState;return[l.a.cloneElement(t,{in:!1,onExited:L(t,"onExited",(function(){o(m,l.a.cloneElement(n,{in:!0}))}))}),l.a.cloneElement(n,{in:!0})]},R),W=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state={status:m,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}i(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===g&&e.mode===B?{status:g}:!t.current||(n=t.current,o=e.children,n===o||l.a.isValidElement(n)&&l.a.isValidElement(o)&&null!=n.key&&n.key===o.key)?{current:l.a.cloneElement(e.children,{in:!0})}:{status:"exiting"};var n,o},n.render=function(){var e,t=this.props,n=t.children,o=t.mode,r=this.state,i=r.status,a=r.current,s={children:n,current:a,changeState:this.changeState,status:i};switch(i){case g:e=H[o](s);break;case"exiting":e=A[o](s);break;case m:e=a}return l.a.createElement(p.Provider,{value:{isMounting:!this.appeared}},e)},t}(l.a.Component);W.propTypes={},W.defaultProps={mode:M};var N=W;n.d(t,"CSSTransition",(function(){return _})),n.d(t,"ReplaceTransition",(function(){return F})),n.d(t,"SwitchTransition",(function(){return N})),n.d(t,"TransitionGroup",(function(){return k})),n.d(t,"Transition",(function(){return b})),n.d(t,"config",(function(){return c}))}])}));;!function(A,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery"),require("@tableau/browser-support"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["jquery","@tableau/browser-support","react","react-dom"],e):"object"==typeof exports?exports.EventUtils=e(require("jquery"),require("@tableau/browser-support"),require("react"),require("react-dom")):A.EventUtils=e(A.$,A.BrowserSupport,A.React,A.ReactDOM)}("undefined"!=typeof self?self:this,function(A,e,t,n){return function(A){function e(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return A[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var t={};return e.m=A,e.c=t,e.d=function(A,t,n){e.o(A,t)||Object.defineProperty(A,t,{configurable:!1,enumerable:!0,get:n})},e.n=function(A){var t=A&&A.__esModule?function(){return A.default}:function(){return A};return e.d(t,"a",t),t},e.o=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)},e.p="/dist/",e(e.s=11)}([function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function A(){}return A.IsNullOrUndefined=function(A){return null===A||void 0===A},A.CloneObject=function(A){var e=JSON.stringify(A,function(A,e){return e instanceof Uint32Array||e instanceof Float64Array||e instanceof Float32Array?Array.prototype.slice.call(e):e});return JSON.parse(e)},A.ClearTimeout=function(e){return A.IsNullOrUndefined(e)||window.clearTimeout(e),null},A}();e.MiscUtil=n},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){throw new Error("Uninitialized EventUtils module use.")},r=function(){function A(){}return Object.defineProperty(A,"IsEmbedded",{get:function(){return A.isEmbedded},set:function(e){A.isEmbedded=e},enumerable:!0,configurable:!0}),A.isEmbedded=n,A}();e.BootstrapUtility=r;var i=function(){function A(){}return Object.defineProperty(A,"IsMobile",{get:function(){return A.isMobile},set:function(e){A.isMobile=e},enumerable:!0,configurable:!0}),A.isMobile=n,A}();e.TsConfig=i;var o=function(){function A(){}return Object.defineProperty(A,"DebugTools",{get:function(){return A.debugTools},set:function(e){A.debugTools=e},enumerable:!0,configurable:!0}),A.debugTools=n,A}();e.FeatureParam=o;var a=function(){function A(){}return Object.defineProperty(A,"IsEventHandlingReworkEnabled",{get:function(){return A.isEventHandlingReworkEnabled},set:function(e){A.isEventHandlingReworkEnabled=e},enumerable:!0,configurable:!0}),A.isEventHandlingReworkEnabled=n,A}();e.FeatureFlag=a;var s=function(){function A(){}return Object.defineProperty(A,"Debug",{get:function(){return A.debug},set:function(e){A.debug=e},enumerable:!0,configurable:!0}),A.debug=function(A){},A}();e.Logger=s},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n,r=t(0);!function(A){function e(A,e){return A[e]}function t(A,e,t){A[e]=t}function n(A,t){return!r.MiscUtil.IsNullOrUndefined(e(A,t))}function i(A,t){return!r.MiscUtil.IsNullOrUndefined(e(A,t))&&"function"==typeof e(A,t)}A.GetField=e,A.SetField=t,A.HasField=n,A.HasMethod=i}(n||(n={})),e.TypeUtil=n},function(e,t){e.exports=A},function(A,t){A.exports=e},function(A,e,t){var n=this&&this.__extends||function(){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var t in e)e.hasOwnProperty(t)&&(A[t]=e[t])};return function(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=t(12),i=t(4),o=t(16),a=t(0),s=t(15),u=t(32),l=t(33),c=t(2),d=function(A){function e(){return null!==A&&A.apply(this,arguments)||this}return n(e,A),e.prototype.item=function(A){return this[A]},e}(Array),p=function(){function A(e,t,n){void 0===n&&(n=null),this.originalEvent=e,this.reactEvent=n,this.type=e.type,this.timeStamp=e.timeStamp,this.keyCode=c.TypeUtil.GetField(e,"keyCode"),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.metaKey=e.metaKey,this.shiftKey=e.shiftKey,this.clientX=c.TypeUtil.GetField(e,"clientX"),this.clientY=c.TypeUtil.GetField(e,"clientY");var r=e.target;if(this.target=r&&3===r.nodeType?r.parentNode:r,a.MiscUtil.IsNullOrUndefined(e.touches)){var i=new d;i[0]=e,this.targetTouches="mouseup"===e.type?new d:i,this.touches=this.targetTouches,this.changedTouches=new d,this.changedTouches[0]=e,this.currentTarget=e.currentTarget}else this.touches=e.touches,this.targetTouches=e.targetTouches,this.changedTouches=e.changedTouches,this.currentTarget=t;var o=this.touches.length;for(this.touchesById=new Array(o);o>0;){o-=1;var s=this.touches[o].identifier||A.MouseIdentifier;this.touchesById[s]=this.touches[o]}for(o=this.changedTouches.length;o>0;){o-=1;var s=this.changedTouches[o].identifier||A.MouseIdentifier;this.touchesById[s]=this.changedTouches[o]}}return Object.defineProperty(A.prototype,"IsMouseEvent",{get:function(){return 1===this.source},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"IsTouchEvent",{get:function(){return 2===this.source},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"IsStartEvent",{get:function(){return 0===this.inputType},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"IsMoveEvent",{get:function(){return 1===this.inputType},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"IsOutEvent",{get:function(){return 3===this.inputType},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"IsEndEvent",{get:function(){return 2===this.inputType},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"IsScrollEvent",{get:function(){return 4===this.inputType},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"IsRightClickEvent",{get:function(){return"contextmenu"===this.type&&1===this.source},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"IsLeftMouseEvent",{get:function(){if(this.IsMouseEvent){if("left"===this.RetrieveMouseButton())return!i.BrowserSupport.IsMac()||!this.ctrlKey}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"IsRightMouseEvent",{get:function(){if(this.IsMouseEvent){var A=this.RetrieveMouseButton();if("right"===A)return!0;if("left"===A&&i.BrowserSupport.IsMac()&&this.altKey)return!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"IsCtrlKey",{get:function(){return i.BrowserSupport.IsMac()?this.metaKey:this.ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"GestureInfo",{get:function(){return this},enumerable:!0,configurable:!0}),A.prototype.AllTouchesShareCurrentTarget=function(){var A=this.touches[0].target,e=this.touches[1].target;if(!(A instanceof Element&&e instanceof Element))return!1;for(var t=document.body,n=this.currentTarget,r=!1;!r&&!a.MiscUtil.IsNullOrUndefined(A)&&!a.MiscUtil.IsNullOrUndefined(e);)r=!0,A!==n&&A!==t&&A instanceof Element&&(A=A.parentNode,r=!1),e!==n&&e!==t&&e instanceof Element&&(e=e.parentNode,r=!1),A===e&&(r=!0);return A===e},Object.defineProperty(A,"AllHandledEvents",{get:function(){return r.map(u.NormalizedEventBuilder.HandledEvents,function(A,e){return e})},enumerable:!0,configurable:!0}),A.Create=function(A,e,t){return void 0===t&&(t=null),u.NormalizedEventBuilder.CreateNormalizedEvent(A,e,t)},A.prototype.RetrieveMouseButton=function(){return this.IsMoveEvent?o.EventRecognizer.CurrentGlobalMouseButton:s.MouseEventUtil.GetMouseButtonEnum(this.originalEvent)},A.prototype.GetSelectAction=function(){var A=l.SelectAction.Simple,e=this.IsCtrlKey;return this.shiftKey&&(A=l.SelectAction.Range),e&&(A=l.SelectAction.Toggle),A},A.prototype.preventDefault=function(){c.TypeUtil.HasMethod(this.originalEvent,"preventDefault")&&this.originalEvent.preventDefault()},A.prototype.stopPropagation=function(){c.TypeUtil.HasMethod(this.originalEvent,"stopPropagation")&&this.originalEvent.stopPropagation(),a.MiscUtil.IsNullOrUndefined(this.reactEvent)||this.reactEvent.stopPropagation()},A.prototype.get_IsRightMouseEvent=function(){return this.IsRightMouseEvent},A.prototype.get_GestureInfo=function(){return this.GestureInfo},A.prototype.get_IsMouseEvent=function(){return this.IsMouseEvent},A.prototype.get_IsTouchEvent=function(){return this.IsTouchEvent},A.prototype.get_IsStartEvent=function(){return this.IsStartEvent},A.prototype.get_IsMoveEvent=function(){return this.IsMoveEvent},A.prototype.get_IsOutEvent=function(){return this.IsOutEvent},A.prototype.get_IsEndEvent=function(){return this.IsEndEvent},A.prototype.get_IsScrollEvent=function(){return this.IsScrollEvent},A.prototype.get_IsRightClickEvent=function(){return this.IsRightClickEvent},A.prototype.get_IsLeftMouseEvent=function(){return this.IsLeftMouseEvent},A.prototype.get_IsCtrlKey=function(){return this.IsCtrlKey},A.MouseIdentifier=0,A}();e.NormalizedEvent=p},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(3),r=t(7),i=t(0),o=t(8),a=t(17),s=function(){function A(e,t,n,o){this.slop=5,this.numTouches=1,this.type="gesture",this.isPotentialPress=!1,this.isActivePress=!1,i.MiscUtil.IsNullOrUndefined(t)||(this.type=t),i.MiscUtil.IsNullOrUndefined(n)||(this.slop=n?A.DefaultSlop:0),i.MiscUtil.IsNullOrUndefined(o)||(this.numTouches=o),this.Config=new r.EventHandleSpec,this.Update(e)}return Object.defineProperty(A.prototype,"DataAttributeName",{get:function(){return A.DataAttributePrefix+this.type.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"ZoomAdjustedSlop",{get:function(){var A=a.ZoomScaleUtil.GetScaleSync();return Math.round(this.slop/A)},enumerable:!0,configurable:!0}),A.prototype.Update=function(A){i.MiscUtil.IsNullOrUndefined(A)||(n.extend(this.Config,A),n(this.Config.DomElement).data(this.DataAttributeName,this))},A.prototype.Fire=function(A,e,t){if(this.Config.IsHandling(A)){var r=e;n.extend(r,t),i.MiscUtil.IsNullOrUndefined(r.reactEvent)||n.extend(r.reactEvent,t),r.gestureName=this.type.toString(),r.callbackName=A;o.TableauEventHandler.GetHandler(this.Config,A)(r)}},A.prototype.dispose=function(){this.Cancel(),n(this.Config.DomElement).removeData(this.DataAttributeName)},A.FromHtml=function(e,t){return n(e).data(A.DataAttributePrefix+t.toString())},A.DefaultSlop=5,A.DoubleTapTime=390,A.PotentialPressTime=500,A.PressTime=750,A.DataAttributePrefix="tab-",A}();e.Gesture=s;var u=function(){function A(){}return A}();e.GestureEventInfo=u},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(0),r=t(2),i=function(){function A(){this.firstTouch=void 0,this.touchMove=void 0,this.lastTouch=void 0,this.cancelPotentialDoubleTap=void 0,this.tap=void 0,this.doubleTap=void 0,this.potentialPress=void 0,this.cancelPotentialPress=void 0,this.press=void 0,this.pressEnd=void 0,this.rightClick=void 0,this.tapAndHalf=void 0,this.hover=void 0,this.dragStart=void 0,this.dragMove=void 0,this.dragEnd=void 0,this.pressDragStart=void 0,this.pressDragMove=void 0,this.pressDragEnd=void 0,this.pinchStart=void 0,this.pinchMove=void 0,this.pinchEnd=void 0,this.doublePressDragStart=void 0,this.doublePressDragMove=void 0,this.doublePressDragEnd=void 0,this.holdTapStart=void 0,this.holdTapTap=void 0,this.holdTapEnd=void 0,this.domElem=void 0}return Object.defineProperty(A.prototype,"DomElement",{get:function(){return this.domElem},set:function(A){this.domElem=A},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"HoverDelay",{get:function(){return this.hoverDelay},set:function(A){this.hoverDelay=A},enumerable:!0,configurable:!0}),A.prototype.IsHandling=function(A){var e=this,t=r.TypeUtil.GetField(e,A);return!n.MiscUtil.IsNullOrUndefined(t)},A.prototype.IsUsingHover=function(){return this.IsHandling("hover")||this.IsHandling("moving")},A.prototype.UsingPressDrag=function(){return this.IsHandling("pressDragStart")||this.IsHandling("pressDragMove")||this.IsHandling("pressDragEnd")||this.IsHandling("doublePressDragStart")||this.IsHandling("doublePressDragMove")||this.IsHandling("doublePressDragEnd")},A.prototype.SetHandler=function(A,e){r.TypeUtil.SetField(this,A,e)},A.prototype.RemoveHandler=function(A){r.TypeUtil.SetField(this,A,null)},A}();e.EventHandleSpec=i},function(A,e,t){function n(A,e){if(A.closest)return A.closest(e);var t=Element.prototype.matches||Element.prototype.msMatchesSelector;if(!t)return null;for(var n=A;n;){if(t.call(n,e))return n;n=n.parentElement}return null}Object.defineProperty(e,"__esModule",{value:!0});var r=t(4),i=t(9),o=t(26),a=t(13),s=t(7),u=t(16),l=t(1),c=t(0),d=t(5),p=t(27),f=t(2);e.OptOutAttributeName="data-eventutils-optout";var g=function(){function A(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.subscriptionHandle=null,c.MiscUtil.IsNullOrUndefined(e)||c.MiscUtil.IsNullOrUndefined(s.EventHandleSpec)||(this.config=t||new s.EventHandleSpec,this.config.DomElement=e,l.FeatureFlag.IsEventHandlingReworkEnabled()&&!p.PointerEventDetector.initialized&&p.PointerEventDetector.init(),this.ConfigureDomElem(e),this.SetupEventRecognizer(this.config),this.MakeConnections(e),A.RaiseTableauEventHandlerCreated(this))}return Object.defineProperty(A.prototype,"DomElement",{get:function(){return this.config.DomElement},enumerable:!0,configurable:!0}),A.prototype.SetupEventRecognizer=function(A){this.eventRecognizer=new u.EventRecognizer(A),this.eventRecognizer.SetupPressDrag(A)},A.prototype.suppressHover=function(){this.config.IsUsingHover()&&this.eventRecognizer.suppressHover()},A.prototype.unsuppressHover=function(){this.config.IsUsingHover()&&this.eventRecognizer.unsuppressHover()},A.prototype.CancelHover=function(){this.config.IsUsingHover()&&this.eventRecognizer.CancelHover()},A.prototype.GetHandledEvents=function(){for(var A=new Array,e=this.config,t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],i=f.TypeUtil.GetField(e,r);c.MiscUtil.IsNullOrUndefined(i)||"function"!=typeof i||A.push(r)}return A},A.prototype.Update=function(A){$.extend(this.config,A),this.eventRecognizer.UpdateAllGestures(this.config),this.eventRecognizer.SetupPressDrag(this.config)},A.prototype.destroy=function(){this.dispose()},A.prototype.dispose=function(){if(A.RaiseTableauEventHandlerToBeDisposed(this),!c.MiscUtil.IsNullOrUndefined(this.subscriptionHandle)&&!c.MiscUtil.IsNullOrUndefined(this.subscriptionHandle.DomElement)&&!c.MiscUtil.IsNullOrUndefined(this.subscriptionHandle.EventHandler))for(var e=0,t=d.NormalizedEvent.AllHandledEvents;e<t.length;e++){var n=t[e];this.subscriptionHandle.DomElement.removeEventListener(n.toString(),this.subscriptionHandle.EventHandler)}this.eventRecognizer.dispose()},A.GetHandler=function(A,e){return f.TypeUtil.GetField(A,e)},A.prototype.ConfigureDomElem=function(A){var e=f.TypeUtil.GetField(A.style,"user-select"),t=f.TypeUtil.GetField(A.style,"-webkit-user-select");"input"===A.tagName.toLowerCase()||!c.MiscUtil.IsNullOrUndefined(e)&&""!==e||!c.MiscUtil.IsNullOrUndefined(t)&&""!==t||f.TypeUtil.SetField(A.style,"-webkit-user-select","none"),f.TypeUtil.SetField(A.style,"-webkit-touch-callout","none"),f.TypeUtil.SetField(A.style,"-webkit-tap-highlight-color","transparent"),f.TypeUtil.SetField(A.style,"-ms-touch-action","none")},A.prototype.MultiTouchWithDifferentTargetElement=function(A){return A.touches.length>1&&!A.AllTouchesShareCurrentTarget()&&(this.eventRecognizer.CancelAllGestures(),!0)},A.prototype.handler=function(A){if(!A.target||!n(A.target,"["+e.OptOutAttributeName+'="true"]')){var t=A.IsMouseEvent&&r.BrowserSupport.IsTouchEventSupported()&&"touch"===p.PointerEventDetector.currentPointerType;if(!l.TsConfig.IsMobile()){if(l.FeatureFlag.IsEventHandlingReworkEnabled()&&t)return;if(!l.FeatureFlag.IsEventHandlingReworkEnabled()&&A.IsTouchEvent){if(!a.DomUtil.CanCallPreventDefaultOnTouchEvent(A.target))return;A.preventDefault()}}this.MultiTouchWithDifferentTargetElement(A)||this.eventRecognizer.HandleEvent(A)}},A.prototype.MakeConnections=function(A){var e=this,t=function(A){var t=d.NormalizedEvent.Create(A,e.config.DomElement);e.handler(t)};this.subscriptionHandle=new o.DomSubscriptionHandle(A,t);for(var n=0,i=d.NormalizedEvent.AllHandledEvents;n<i.length;n++){var a=i[n];r.BrowserSupport.IsIE()?A.addEventListener(a.toString(),t,!1):A.addEventListener(a.toString(),t,{capture:!1,passive:!1})}},A.add_TableauEventHandlerCreated=function(e){A.TableauEventHandlerCreated.add(e)},A.remove_TableauEventHandlerCreated=function(e){A.TableauEventHandlerCreated.remove(e)},A.add_TableauEventHandlerToBeDisposed=function(e){A.TableauEventHandlerToBeDisposed.add(e)},A.remove_TableauEventHandlerToBeDisposed=function(e){A.TableauEventHandlerToBeDisposed.remove(e)},A.RaiseTableauEventHandlerCreated=function(e){l.FeatureParam.DebugTools()&&null!==A.TableauEventHandlerCreated&&A.TableauEventHandlerCreated.invoke(e)},A.RaiseTableauEventHandlerToBeDisposed=function(e){l.FeatureParam.DebugTools()&&null!==A.TableauEventHandlerToBeDisposed&&A.TableauEventHandlerToBeDisposed.invoke(e)},A.TableauEventHandlerCreated=new i.Delegate,A.TableauEventHandlerToBeDisposed=new i.Delegate,A}();e.TableauEventHandler=g},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(12),r=t(1),i=t(0),o=function(){function A(){this.delegate=[]}return A.prototype.invoke=function(A,e){void 0===A&&(A=void 0),void 0===e&&(e=void 0);var t=this.delegate.slice();if(i.MiscUtil.IsNullOrUndefined(t))return void r.Logger.Debug("delegate type not supported");t.forEach(function(t){t(A,e)})},A.prototype.add=function(A){if(i.MiscUtil.IsNullOrUndefined(A))return void r.Logger.Debug("delegate to add is not initialized (null)");this.delegate.push(A)},A.prototype.remove=function(A){if(i.MiscUtil.IsNullOrUndefined(A))return void r.Logger.Debug("delegate to remove is not initialized (null)");var e=this.find(A);e>=0?this.delegate.splice(e,1):r.Logger.Debug("delegate to remove is not found")},A.prototype.find=function(A){var e=this.delegate.indexOf(A);if(e<0){var t=A;void 0!==t._targets&&2===t._targets.length&&(e=n.findIndex(this.delegate,function(A){return void 0!==A._targets&&2===A._targets.length&&A._targets[0]===t._targets[0]&&A._targets[1]===t._targets[1]}))}return e},A}();e.Delegate=o},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(0),r=function(){function A(A,e){n.MiscUtil.IsNullOrUndefined(A)?this.cssString=e:this.cssString="url("+A+"), "+e}return Object.defineProperty(A,"noOp",{get:function(){return void 0===this.NoOp?this.NoOp=new A("data:text/plain;base64,AAACAAEAICAAAAQABACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAGb/////AAAAZv////8AAABm/////wAAAGb/////AAAAZv////8AAABm/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABm/////wAAAGb/////AAAAZv////8AAABm/////wAAAGb/////AAAAZv////8AAABmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAABmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZv////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZv////8AAAAAAAAAAP///wEAAAAAAAAAAAAAAAAAAAAAAAAAAAUFBSdVVVX/DQ0N/A0NDfojIyPFBQUFJwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAZgAAAAD///8Z//////////////9l////GgAAAAAFBQUoEhIS9pOTk//t7e3/7u7u/7+/v/8CAgL/BQUFKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGb/////AAAAAP///1T/////T09P////////////AAAAACMjI8WSkpL////////////U1NT/AQEB/7+/v/8jIyPFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAGb///8Z/////3R0dP8AAAD/CgoK//////8AAAAADQ0N+e3t7f//////1NTU/wEBAf/U1NT/7e3t/wwMDPoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8G////AQAAAAAAAABm/////4mJiZf/////CQkJ/wAAAP98fHz//////wAAAGYTExP/7e3t/9TU1P8BAQH/1NTU///////t7e3/DAwM+gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////91////Af////82NjZ1/////4CAgP8AAAD/BgYG///////AwMC7/////x8fH9y+vr7/AQEB/9TU1P///////////5GRkf8jIyPFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////9w////Af///03/////DAwM/wAAAP93d3f//////////xoAAAAABQUFJwICAv+/v7//7e3t/+3t7f+Tk5P/EhIS9gUFBScAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////Li4u//////////9w/////4mJif8AAAD/BQUF//////////+YAAAAAAAAAAAAAAAABQUFJSMjI8UNDQ35DQ0N+SMjI8UFBQUlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/IiIi////////////ExMT/wAAAP9wcHD//////////yIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/2JiYv8AAAD/AAAA//////////+kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD///////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/0JCQv/////+////eQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP9GRkb//////v///3b///8GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/QkJC//////7///92////BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/0NDQ//////+////dv///wYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP9FRUX//////v///3b///8GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/RkZG//////7///92////BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/0ZGRv//////////dv///wYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP9HR0f//////////3b///8GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////SEhI//////////92////BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////////////dv///wYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////////////////////////9VV///qq///3/3//+/4f//c8D//7CAf/9ggH//gIB/+0AAf/nBwP/4geH/+AP///gD///4AH//+AD///gB///4A///+Af///gP///4H///+D////h////4////+f///////////////////8=","auto"):this.NoOp},enumerable:!0,configurable:!0}),Object.defineProperty(A,"delete",{get:function(){return void 0===this.Delete?this.Delete=new A("data:text/plain;base64,AAACAAEAICAAAAQABACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAA//////8AAAD//////wAAAP//////AAAA//////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////wAAAP//////AAAA//////8AAAD//////wAAAP//////AAAA//////8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////8AAAAAAAAAAP///wEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAAD///8Z//////////////9l////GgAAAAA1U7P/NVOz/zVTs0//////AAAAADVTs081U7P/NVOz/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////AAAAAP///1T/////T09P////////////AAAAADVTs1o1U7P/NVOz/zVTs081U7NNNVOz/zVTs/81U7NaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP////8Z/////3R0dP8AAAD/CgoK//////8AAAAAAAAAADVTs1o1U7P/NlOz/zVTs/41U7P/NVOzWgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8G////AQAAAAAAAAD//////1FRUf//////CQkJ/wAAAP98fHz//////wAAAP//////AAAAPx0tYv81U7P/NVOz/zVTs4sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////91////Af////8ZGRn//////4CAgP8AAAD/BgYG//////+NjY3//////wAAAP/Fzun/NVOy/zVTs/81U7P/NVOz/jVTs0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////9w////Af///03/////DAwM/wAAAP93d3f//////////xoAAAAANVOzRDVTs/41U7P/NVOzXTVTs1s1U7P/NVOz/jVTs0QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////Li4u//////////9w/////4mJif8AAAD/BQUF//////////+YAAAAAAAAAAA1U7P+NVOz/zVTs10AAAAAAAAAADVTs101U7P/NVOz/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/IiIi////////////ExMT/wAAAP9wcHD//////////yIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/2JiYv8AAAD/AAAA//////////+kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD///////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/0JCQv/////+////eQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP9GRkb//////v///3b///8GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/QkJC//////7///92////BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/0NDQ//////+////dv///wYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP9FRUX//////v///3b///8GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/RkZG//////7///92////BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/0ZGRv//////////dv///wYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP9HR0f//////////3b///8GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////SEhI//////////92////BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////////////dv///wYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////////////////////////8AB///AAf//z/n//8/5///M5Z//zDM//8g4f//ACH/+wAB//nBzP/4gZ5/+AP///gD///4AH//+AD///gB///4A///+Af///gP///4H///+D////h////4////+f///////////////////8=","auto"):this.Delete},enumerable:!0,configurable:!0}),Object.defineProperty(A,"copy",{get:function(){return void 0===this.Copy?this.Copy=new A("data:text/plain;base64,AAACAAEAICAAAAMAAwCoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAA//////8AAAD//////wAAAP//////AAAA//////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////wAAAP//////AAAA//////8AAAD//////wAAAP//////AAAA//////8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf/////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////8AAAAAAAAAAP///wEAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAAD///8Z//////////////9l////GgAAAAAAAAD//////////////////////////////////////wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////AAAAAP///1T/////T09P////////////AAAAAAAAAP////////////////8AAAD/////////////////AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP////8Z/////3R0dP8AAAD/CgoK//////8AAAAAAAAA/////////////////wAAAP////////////////8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8G////AQAAAAAAAAD//////1FRUf//////CQkJ/wAAAP98fHz//////wAAAH8AAAD//////wAAAP8AAAD/AAAA/wAAAP8AAAD//////wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////91////Af////8ZGRn//////4CAgP8AAAD/BgYG//////+NjY3//////wAAAP////////////////8AAAD/////////////////AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////9w////Af///03/////DAwM/wAAAP93d3f//////////xoAAAAAAAAA/////////////////wAAAP////////////////8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////Li4u//////////9w/////4mJif8AAAD/BQUF//////////+YAAAAAAAAAAAAAAD//////////////////////////////////////wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/IiIi////////////ExMT/wAAAP9wcHD//////////yIAAAAAAAAAAAAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/2JiYv8AAAD/AAAA//////////+kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD///////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/0JCQv/////+////eQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP9GRkb//////v///3b///8GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/QkJC//////7///92////BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/0NDQ//////+////dv///wYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP9FRUX//////v///3b///8GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/RkZG//////7///92////BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/0ZGRv//////////dv///wYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP9HR0f//////////3b///8GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////SEhI//////////92////BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////////////dv///wYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////////////////////////8AB///AAf//z/3//8/gD//M4A//zCAP/8ggD//AIA/+wAAP/nBgD/4gYA/+AOAP/gD///4AH//+AD///gB///4A///+Af///gP///4H///+D////h////4////+f///////////////////8=","auto"):this.Copy},enumerable:!0,configurable:!0}),A.prototype.setCursor=function(A){n.MiscUtil.IsNullOrUndefined(A)||A.css("cursor",this.cssString)},A.copyFromElement=function(e){return new A(null,n.MiscUtil.IsNullOrUndefined(e)?"":e.css("cursor"))},A}();e.EmbeddedCustomCursor=r},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(1),r=function(){function A(){}return A.SetFeatureFlagIsEventHandlingReworkEnabled=function(A){n.FeatureFlag.IsEventHandlingReworkEnabled=A},A.SetFeatureParamDebugTools=function(A){n.FeatureParam.DebugTools=A},A.SetTsConfigIsMobile=function(A){n.TsConfig.IsMobile=A},A.SetBootStrapUtilIsEmbedded=function(A){n.BootstrapUtility.IsEmbedded=A},A.SetLoggerDebug=function(A){n.Logger.Debug=A},A.SetAllShimsToFallback=function(){var e=function(){return!1};A.SetFeatureFlagIsEventHandlingReworkEnabled(e),A.SetFeatureParamDebugTools(e),A.SetTsConfigIsMobile(e),A.SetBootStrapUtilIsEmbedded(e)},A}();e.FeatureFlagUtils=r;var i=t(5);e.NormalizedEvent=i.NormalizedEvent;var o=t(15);e.MouseEventUtil=o.MouseEventUtil;var a=t(7);e.EventHandleSpec=a.EventHandleSpec;var s=t(34);e.EventForwarder=s.EventForwarder;var u=t(8);e.TableauEventHandler=u.TableauEventHandler;var l=t(20);e.TableauEventHandlerForReact=l.TableauEventHandlerForReact;var c=t(6);e.Gesture=c.Gesture;var d=t(18);e.Drag=d.Drag;var p=t(14);e.GlobalUIEvents=p.GlobalUIEvents;var f=t(19);e.Hover=f.Hover;var g=t(0);e.MiscUtil=g.MiscUtil;var h=t(17);e.ZoomScaleUtil=h.ZoomScaleUtil;var v=t(21);e.DragDropManager=v.DragDropManager;var m=t(40);e.SimpleAvatar=m.SimpleAvatar;var y=t(41);e.DragInstance=y.DragInstance;var b=t(42);e.DelegateDropTarget=b.DelegateDropTarget;var D=t(22);e.DropResult=D.DropResult;var E=t(10);e.EmbeddedCustomCursor=E.EmbeddedCustomCursor},function(A,e,t){(function(A,t){var n,r;!function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof A&&A.global===A&&A||this||{},o=i._,a=Array.prototype,s=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,l=a.push,c=a.slice,d=s.toString,p=s.hasOwnProperty,f=Array.isArray,g=Object.keys,h=Object.create,v=function(){},m=function(A){return A instanceof m?A:this instanceof m?void(this._wrapped=A):new m(A)};void 0===e||e.nodeType?i._=m:(void 0!==t&&!t.nodeType&&t.exports&&(e=t.exports=m),e._=m),m.VERSION="1.9.0";var y,b=function(A,e,t){if(void 0===e)return A;switch(null==t?3:t){case 1:return function(t){return A.call(e,t)};case 3:return function(t,n,r){return A.call(e,t,n,r)};case 4:return function(t,n,r,i){return A.call(e,t,n,r,i)}}return function(){return A.apply(e,arguments)}},D=function(A,e,t){return m.iteratee!==y?m.iteratee(A,e):null==A?m.identity:m.isFunction(A)?b(A,e,t):m.isObject(A)&&!m.isArray(A)?m.matcher(A):m.property(A)};m.iteratee=y=function(A,e){return D(A,e,1/0)};var E=function(A,e){return e=null==e?A.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+e];switch(e){case 0:return A.call(this,n);case 1:return A.call(this,arguments[0],n);case 2:return A.call(this,arguments[0],arguments[1],n)}var i=Array(e+1);for(r=0;r<e;r++)i[r]=arguments[r];return i[e]=n,A.apply(this,i)}},T=function(A){if(!m.isObject(A))return{};if(h)return h(A);v.prototype=A;var e=new v;return v.prototype=null,e},P=function(A){return function(e){return null==e?void 0:e[A]}},M=function(A,e){for(var t=e.length,n=0;n<t;n++){if(null==A)return;A=A[e[n]]}return t?A:void 0},U=Math.pow(2,53)-1,I=P("length"),O=function(A){var e=I(A);return"number"==typeof e&&e>=0&&e<=U};m.each=m.forEach=function(A,e,t){e=b(e,t);var n,r;if(O(A))for(n=0,r=A.length;n<r;n++)e(A[n],n,A);else{var i=m.keys(A);for(n=0,r=i.length;n<r;n++)e(A[i[n]],i[n],A)}return A},m.map=m.collect=function(A,e,t){e=D(e,t);for(var n=!O(A)&&m.keys(A),r=(n||A).length,i=Array(r),o=0;o<r;o++){var a=n?n[o]:o;i[o]=e(A[a],a,A)}return i};var w=function(A){var e=function(e,t,n,r){var i=!O(e)&&m.keys(e),o=(i||e).length,a=A>0?0:o-1;for(r||(n=e[i?i[a]:a],a+=A);a>=0&&a<o;a+=A){var s=i?i[a]:a;n=t(n,e[s],s,e)}return n};return function(A,t,n,r){var i=arguments.length>=3;return e(A,b(t,r,4),n,i)}};m.reduce=m.foldl=m.inject=w(1),m.reduceRight=m.foldr=w(-1),m.find=m.detect=function(A,e,t){var n=O(A)?m.findIndex:m.findKey,r=n(A,e,t);if(void 0!==r&&-1!==r)return A[r]},m.filter=m.select=function(A,e,t){var n=[];return e=D(e,t),m.each(A,function(A,t,r){e(A,t,r)&&n.push(A)}),n},m.reject=function(A,e,t){return m.filter(A,m.negate(D(e)),t)},m.every=m.all=function(A,e,t){e=D(e,t);for(var n=!O(A)&&m.keys(A),r=(n||A).length,i=0;i<r;i++){var o=n?n[i]:i;if(!e(A[o],o,A))return!1}return!0},m.some=m.any=function(A,e,t){e=D(e,t);for(var n=!O(A)&&m.keys(A),r=(n||A).length,i=0;i<r;i++){var o=n?n[i]:i;if(e(A[o],o,A))return!0}return!1},m.contains=m.includes=m.include=function(A,e,t,n){return O(A)||(A=m.values(A)),("number"!=typeof t||n)&&(t=0),m.indexOf(A,e,t)>=0},m.invoke=E(function(A,e,t){var n,r;return m.isFunction(e)?r=e:m.isArray(e)&&(n=e.slice(0,-1),e=e[e.length-1]),m.map(A,function(A){var i=r;if(!i){if(n&&n.length&&(A=M(A,n)),null==A)return;i=A[e]}return null==i?i:i.apply(A,t)})}),m.pluck=function(A,e){return m.map(A,m.property(e))},m.where=function(A,e){return m.filter(A,m.matcher(e))},m.findWhere=function(A,e){return m.find(A,m.matcher(e))},m.max=function(A,e,t){var n,r,i=-1/0,o=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof A[0]&&null!=A){A=O(A)?A:m.values(A);for(var a=0,s=A.length;a<s;a++)null!=(n=A[a])&&n>i&&(i=n)}else e=D(e,t),m.each(A,function(A,t,n){((r=e(A,t,n))>o||r===-1/0&&i===-1/0)&&(i=A,o=r)});return i},m.min=function(A,e,t){var n,r,i=1/0,o=1/0;if(null==e||"number"==typeof e&&"object"!=typeof A[0]&&null!=A){A=O(A)?A:m.values(A);for(var a=0,s=A.length;a<s;a++)null!=(n=A[a])&&n<i&&(i=n)}else e=D(e,t),m.each(A,function(A,t,n){((r=e(A,t,n))<o||r===1/0&&i===1/0)&&(i=A,o=r)});return i},m.shuffle=function(A){return m.sample(A,1/0)},m.sample=function(A,e,t){if(null==e||t)return O(A)||(A=m.values(A)),A[m.random(A.length-1)];var n=O(A)?m.clone(A):m.values(A),r=I(n);e=Math.max(Math.min(e,r),0);for(var i=r-1,o=0;o<e;o++){var a=m.random(o,i),s=n[o];n[o]=n[a],n[a]=s}return n.slice(0,e)},m.sortBy=function(A,e,t){var n=0;return e=D(e,t),m.pluck(m.map(A,function(A,t,r){return{value:A,index:n++,criteria:e(A,t,r)}}).sort(function(A,e){var t=A.criteria,n=e.criteria;if(t!==n){if(t>n||void 0===t)return 1;if(t<n||void 0===n)return-1}return A.index-e.index}),"value")};var C=function(A,e){return function(t,n,r){var i=e?[[],[]]:{};return n=D(n,r),m.each(t,function(e,r){var o=n(e,r,t);A(i,e,o)}),i}};m.groupBy=C(function(A,e,t){m.has(A,t)?A[t].push(e):A[t]=[e]}),m.indexBy=C(function(A,e,t){A[t]=e}),m.countBy=C(function(A,e,t){m.has(A,t)?A[t]++:A[t]=1});var S=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(A){return A?m.isArray(A)?c.call(A):m.isString(A)?A.match(S):O(A)?m.map(A,m.identity):m.values(A):[]},m.size=function(A){return null==A?0:O(A)?A.length:m.keys(A).length},m.partition=C(function(A,e,t){A[t?0:1].push(e)},!0),m.first=m.head=m.take=function(A,e,t){if(!(null==A||A.length<1))return null==e||t?A[0]:m.initial(A,A.length-e)},m.initial=function(A,e,t){return c.call(A,0,Math.max(0,A.length-(null==e||t?1:e)))},m.last=function(A,e,t){if(!(null==A||A.length<1))return null==e||t?A[A.length-1]:m.rest(A,Math.max(0,A.length-e))},m.rest=m.tail=m.drop=function(A,e,t){return c.call(A,null==e||t?1:e)},m.compact=function(A){return m.filter(A,Boolean)};var H=function(A,e,t,n){n=n||[];for(var r=n.length,i=0,o=I(A);i<o;i++){var a=A[i];if(O(a)&&(m.isArray(a)||m.isArguments(a)))if(e)for(var s=0,u=a.length;s<u;)n[r++]=a[s++];else H(a,e,t,n),r=n.length;else t||(n[r++]=a)}return n};m.flatten=function(A,e){return H(A,e,!1)},m.without=E(function(A,e){return m.difference(A,e)}),m.uniq=m.unique=function(A,e,t,n){m.isBoolean(e)||(n=t,t=e,e=!1),null!=t&&(t=D(t,n));for(var r=[],i=[],o=0,a=I(A);o<a;o++){var s=A[o],u=t?t(s,o,A):s;e&&!t?(o&&i===u||r.push(s),i=u):t?m.contains(i,u)||(i.push(u),r.push(s)):m.contains(r,s)||r.push(s)}return r},m.union=E(function(A){return m.uniq(H(A,!0,!0))}),m.intersection=function(A){for(var e=[],t=arguments.length,n=0,r=I(A);n<r;n++){var i=A[n];if(!m.contains(e,i)){var o;for(o=1;o<t&&m.contains(arguments[o],i);o++);o===t&&e.push(i)}}return e},m.difference=E(function(A,e){return e=H(e,!0,!0),m.filter(A,function(A){return!m.contains(e,A)})}),m.unzip=function(A){for(var e=A&&m.max(A,I).length||0,t=Array(e),n=0;n<e;n++)t[n]=m.pluck(A,n);return t},m.zip=E(m.unzip),m.object=function(A,e){for(var t={},n=0,r=I(A);n<r;n++)e?t[A[n]]=e[n]:t[A[n][0]]=A[n][1];return t};var _=function(A){return function(e,t,n){t=D(t,n);for(var r=I(e),i=A>0?0:r-1;i>=0&&i<r;i+=A)if(t(e[i],i,e))return i;return-1}};m.findIndex=_(1),m.findLastIndex=_(-1),m.sortedIndex=function(A,e,t,n){t=D(t,n,1);for(var r=t(e),i=0,o=I(A);i<o;){var a=Math.floor((i+o)/2);t(A[a])<r?i=a+1:o=a}return i};var N=function(A,e,t){return function(n,r,i){var o=0,a=I(n);if("number"==typeof i)A>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(t&&i&&a)return i=t(n,r),n[i]===r?i:-1;if(r!==r)return i=e(c.call(n,o,a),m.isNaN),i>=0?i+o:-1;for(i=A>0?o:a-1;i>=0&&i<a;i+=A)if(n[i]===r)return i;return-1}};m.indexOf=N(1,m.findIndex,m.sortedIndex),m.lastIndexOf=N(-1,m.findLastIndex),m.range=function(A,e,t){null==e&&(e=A||0,A=0),t||(t=e<A?-1:1);for(var n=Math.max(Math.ceil((e-A)/t),0),r=Array(n),i=0;i<n;i++,A+=t)r[i]=A;return r},m.chunk=function(A,e){if(null==e||e<1)return[];for(var t=[],n=0,r=A.length;n<r;)t.push(c.call(A,n,n+=e));return t};var F=function(A,e,t,n,r){if(!(n instanceof e))return A.apply(t,r);var i=T(A.prototype),o=A.apply(i,r);return m.isObject(o)?o:i};m.bind=E(function(A,e,t){if(!m.isFunction(A))throw new TypeError("Bind must be called on a function");var n=E(function(r){return F(A,n,e,this,t.concat(r))});return n}),m.partial=E(function(A,e){var t=m.partial.placeholder,n=function(){for(var r=0,i=e.length,o=Array(i),a=0;a<i;a++)o[a]=e[a]===t?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return F(A,n,this,this,o)};return n}),m.partial.placeholder=m,m.bindAll=E(function(A,e){e=H(e,!1,!1);var t=e.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var n=e[t];A[n]=m.bind(A[n],A)}}),m.memoize=function(A,e){var t=function(n){var r=t.cache,i=""+(e?e.apply(this,arguments):n);return m.has(r,i)||(r[i]=A.apply(this,arguments)),r[i]};return t.cache={},t},m.delay=E(function(A,e,t){return setTimeout(function(){return A.apply(null,t)},e)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(A,e,t){var n,r,i,o,a=0;t||(t={});var s=function(){a=!1===t.leading?0:m.now(),n=null,o=A.apply(r,i),n||(r=i=null)},u=function(){var u=m.now();a||!1!==t.leading||(a=u);var l=e-(u-a);return r=this,i=arguments,l<=0||l>e?(n&&(clearTimeout(n),n=null),a=u,o=A.apply(r,i),n||(r=i=null)):n||!1===t.trailing||(n=setTimeout(s,l)),o};return u.cancel=function(){clearTimeout(n),a=0,n=r=i=null},u},m.debounce=function(A,e,t){var n,r,i=function(e,t){n=null,t&&(r=A.apply(e,t))},o=E(function(o){if(n&&clearTimeout(n),t){var a=!n;n=setTimeout(i,e),a&&(r=A.apply(this,o))}else n=m.delay(i,e,this,o);return r});return o.cancel=function(){clearTimeout(n),n=null},o},m.wrap=function(A,e){return m.partial(e,A)},m.negate=function(A){return function(){return!A.apply(this,arguments)}},m.compose=function(){var A=arguments,e=A.length-1;return function(){for(var t=e,n=A[e].apply(this,arguments);t--;)n=A[t].call(this,n);return n}},m.after=function(A,e){return function(){if(--A<1)return e.apply(this,arguments)}},m.before=function(A,e){var t;return function(){return--A>0&&(t=e.apply(this,arguments)),A<=1&&(e=null),t}},m.once=m.partial(m.before,2),m.restArguments=E;var G=!{toString:null}.propertyIsEnumerable("toString"),j=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],R=function(A,e){var t=j.length,n=A.constructor,r=m.isFunction(n)&&n.prototype||s,i="constructor";for(m.has(A,i)&&!m.contains(e,i)&&e.push(i);t--;)(i=j[t])in A&&A[i]!==r[i]&&!m.contains(e,i)&&e.push(i)};m.keys=function(A){if(!m.isObject(A))return[];if(g)return g(A);var e=[];for(var t in A)m.has(A,t)&&e.push(t);return G&&R(A,e),e},m.allKeys=function(A){if(!m.isObject(A))return[];var e=[];for(var t in A)e.push(t);return G&&R(A,e),e},m.values=function(A){for(var e=m.keys(A),t=e.length,n=Array(t),r=0;r<t;r++)n[r]=A[e[r]];return n},m.mapObject=function(A,e,t){e=D(e,t);for(var n=m.keys(A),r=n.length,i={},o=0;o<r;o++){var a=n[o];i[a]=e(A[a],a,A)}return i},m.pairs=function(A){for(var e=m.keys(A),t=e.length,n=Array(t),r=0;r<t;r++)n[r]=[e[r],A[e[r]]];return n},m.invert=function(A){for(var e={},t=m.keys(A),n=0,r=t.length;n<r;n++)e[A[t[n]]]=t[n];return e},m.functions=m.methods=function(A){var e=[];for(var t in A)m.isFunction(A[t])&&e.push(t);return e.sort()};var k=function(A,e){return function(t){var n=arguments.length;if(e&&(t=Object(t)),n<2||null==t)return t;for(var r=1;r<n;r++)for(var i=arguments[r],o=A(i),a=o.length,s=0;s<a;s++){var u=o[s];e&&void 0!==t[u]||(t[u]=i[u])}return t}};m.extend=k(m.allKeys),m.extendOwn=m.assign=k(m.keys),m.findKey=function(A,e,t){e=D(e,t);for(var n,r=m.keys(A),i=0,o=r.length;i<o;i++)if(n=r[i],e(A[n],n,A))return n};var B=function(A,e,t){return e in t};m.pick=E(function(A,e){var t={},n=e[0];if(null==A)return t;m.isFunction(n)?(e.length>1&&(n=b(n,e[1])),e=m.allKeys(A)):(n=B,e=H(e,!1,!1),A=Object(A));for(var r=0,i=e.length;r<i;r++){var o=e[r],a=A[o];n(a,o,A)&&(t[o]=a)}return t}),m.omit=E(function(A,e){var t,n=e[0];return m.isFunction(n)?(n=m.negate(n),e.length>1&&(t=e[1])):(e=m.map(H(e,!1,!1),String),n=function(A,t){return!m.contains(e,t)}),m.pick(A,n,t)}),m.defaults=k(m.allKeys,!0),m.create=function(A,e){var t=T(A);return e&&m.extendOwn(t,e),t},m.clone=function(A){return m.isObject(A)?m.isArray(A)?A.slice():m.extend({},A):A},m.tap=function(A,e){return e(A),A},m.isMatch=function(A,e){var t=m.keys(e),n=t.length;if(null==A)return!n;for(var r=Object(A),i=0;i<n;i++){var o=t[i];if(e[o]!==r[o]||!(o in r))return!1}return!0};var x,z;x=function(A,e,t,n){if(A===e)return 0!==A||1/A==1/e;if(null==A||null==e)return!1;if(A!==A)return e!==e;var r=typeof A;return("function"===r||"object"===r||"object"==typeof e)&&z(A,e,t,n)},z=function(A,e,t,n){A instanceof m&&(A=A._wrapped),e instanceof m&&(e=e._wrapped);var r=d.call(A);if(r!==d.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+A==""+e;case"[object Number]":return+A!=+A?+e!=+e:0==+A?1/+A==1/e:+A==+e;case"[object Date]":case"[object Boolean]":return+A==+e;case"[object Symbol]":return u.valueOf.call(A)===u.valueOf.call(e)}var i="[object Array]"===r;if(!i){if("object"!=typeof A||"object"!=typeof e)return!1;var o=A.constructor,a=e.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in A&&"constructor"in e)return!1}t=t||[],n=n||[];for(var s=t.length;s--;)if(t[s]===A)return n[s]===e;if(t.push(A),n.push(e),i){if((s=A.length)!==e.length)return!1;for(;s--;)if(!x(A[s],e[s],t,n))return!1}else{var l,c=m.keys(A);if(s=c.length,m.keys(e).length!==s)return!1;for(;s--;)if(l=c[s],!m.has(e,l)||!x(A[l],e[l],t,n))return!1}return t.pop(),n.pop(),!0},m.isEqual=function(A,e){return x(A,e)},m.isEmpty=function(A){return null==A||(O(A)&&(m.isArray(A)||m.isString(A)||m.isArguments(A))?0===A.length:0===m.keys(A).length)},m.isElement=function(A){return!(!A||1!==A.nodeType)},m.isArray=f||function(A){return"[object Array]"===d.call(A)},m.isObject=function(A){var e=typeof A;return"function"===e||"object"===e&&!!A},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(A){m["is"+A]=function(e){return d.call(e)==="[object "+A+"]"}}),m.isArguments(arguments)||(m.isArguments=function(A){return m.has(A,"callee")});var L=i.document&&i.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof L&&(m.isFunction=function(A){return"function"==typeof A||!1}),m.isFinite=function(A){return!m.isSymbol(A)&&isFinite(A)&&!isNaN(parseFloat(A))},m.isNaN=function(A){return m.isNumber(A)&&isNaN(A)},m.isBoolean=function(A){return!0===A||!1===A||"[object Boolean]"===d.call(A)},m.isNull=function(A){return null===A},m.isUndefined=function(A){return void 0===A},m.has=function(A,e){if(!m.isArray(e))return null!=A&&p.call(A,e);for(var t=e.length,n=0;n<t;n++){var r=e[n];if(null==A||!p.call(A,r))return!1;A=A[r]}return!!t},m.noConflict=function(){return i._=o,this},m.identity=function(A){return A},m.constant=function(A){return function(){return A}},m.noop=function(){},m.property=function(A){return m.isArray(A)?function(e){return M(e,A)}:P(A)},m.propertyOf=function(A){return null==A?function(){}:function(e){return m.isArray(e)?M(A,e):A[e]}},m.matcher=m.matches=function(A){return A=m.extendOwn({},A),function(e){return m.isMatch(e,A)}},m.times=function(A,e,t){var n=Array(Math.max(0,A));e=b(e,t,1);for(var r=0;r<A;r++)n[r]=e(r);return n},m.random=function(A,e){return null==e&&(e=A,A=0),A+Math.floor(Math.random()*(e-A+1))},m.now=Date.now||function(){return(new Date).getTime()};var Y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},X=m.invert(Y),q=function(A){var e=function(e){return A[e]},t="(?:"+m.keys(A).join("|")+")",n=RegExp(t),r=RegExp(t,"g");return function(A){return A=null==A?"":""+A,n.test(A)?A.replace(r,e):A}};m.escape=q(Y),m.unescape=q(X),m.result=function(A,e,t){m.isArray(e)||(e=[e]);var n=e.length;if(!n)return m.isFunction(t)?t.call(A):t;for(var r=0;r<n;r++){var i=null==A?void 0:A[e[r]];void 0===i&&(i=t,r=n),A=m.isFunction(i)?i.call(A):i}return A};var V=0;m.uniqueId=function(A){var e=++V+"";return A?A+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,Q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Z=/\\|'|\r|\n|\u2028|\u2029/g,W=function(A){return"\\"+Q[A]};m.template=function(A,e,t){!e&&t&&(e=t),e=m.defaults({},e,m.templateSettings);var n=RegExp([(e.escape||K).source,(e.interpolate||K).source,(e.evaluate||K).source].join("|")+"|$","g"),r=0,i="__p+='";A.replace(n,function(e,t,n,o,a){return i+=A.slice(r,a).replace(Z,W),r=a+e.length,t?i+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":n?i+="'+\n((__t=("+n+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),e}),i+="';\n",e.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";var o;try{o=new Function(e.variable||"obj","_",i)}catch(A){throw A.source=i,A}var a=function(A){return o.call(this,A,m)};return a.source="function("+(e.variable||"obj")+"){\n"+i+"}",a},m.chain=function(A){var e=m(A);return e._chain=!0,e};var J=function(A,e){return A._chain?m(e).chain():e};m.mixin=function(A){return m.each(m.functions(A),function(e){var t=m[e]=A[e];m.prototype[e]=function(){var A=[this._wrapped];return l.apply(A,arguments),J(this,t.apply(m,A))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(A){var e=a[A];m.prototype[A]=function(){var t=this._wrapped;return e.apply(t,arguments),"shift"!==A&&"splice"!==A||0!==t.length||delete t[0],J(this,t)}}),m.each(["concat","join","slice"],function(A){var e=a[A];m.prototype[A]=function(){return J(this,e.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},n=[],void 0!==(r=function(){return m}.apply(e,n))&&(t.exports=r)}()}).call(e,t(23),t(24)(A))},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(3),r=t(0),i=function(){function A(){}return A.CanCallPreventDefaultOnTouchEvent=function(e){return!A.IsCheckboxElement(e)&&!A.IsFocusableTextElement(e)},A.IsCheckboxElement=function(A){if(!r.MiscUtil.IsNullOrUndefined(A)&&!r.MiscUtil.IsNullOrUndefined(A.tagName)){var e=A.tagName.toLowerCase(),t=n(A).attr("type");if("input"===e&&"checkbox"===t)return!0}return!1},A.IsFocusableTextElement=function(A){if(!r.MiscUtil.IsNullOrUndefined(A)&&!r.MiscUtil.IsNullOrUndefined(A.tagName)){var e=A.tagName.toLowerCase();if("textarea"===e||"input"===e||"select"===e)return!0}return!1},A.IsAncestorOf=function(A,e){return!r.MiscUtil.IsNullOrUndefined(A)&&!r.MiscUtil.IsNullOrUndefined(e)&&n(e).parents().index(A)>=0},A}();e.DomUtil=i},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(9),r=t(0),i=function(){function A(){}return A.add_FirstTouch=function(A){this.FirstTouch.add(A)},A.remove_FirstTouch=function(A){this.FirstTouch.remove(A)},A.add_Press=function(A){this.Press.add(A)},A.remove_Press=function(A){this.Press.remove(A)},A.add_Tap=function(A){this.Tap.add(A)},A.remove_Tap=function(A){this.Tap.remove(A)},A.add_LastTouch=function(A){this.LastTouch.add(A)},A.remove_LastTouch=function(A){this.LastTouch.remove(A)},A.add_RightClick=function(A){this.RightClick.add(A)},A.remove_RightClick=function(A){this.RightClick.remove(A)},A.add_DragEnd=function(A){this.DragEnd.add(A)},A.remove_DragEnd=function(A){this.DragEnd.remove(A)},A.add_DismissTemporaryElements=function(A){this.DismissTemporaryElements.add(A)},A.remove_DismissTemporaryElements=function(A){this.DismissTemporaryElements.remove(A)},A.FireFirstTouch=function(e,t){A.FireEvent(A.FirstTouch,e,t)},A.FirePress=function(e,t){A.FireEvent(A.Press,e,t)},A.FireTap=function(e,t){A.FireEvent(A.Tap,e,t)},A.FireLastTouch=function(e,t){A.FireEvent(A.LastTouch,e,t)},A.FireRightClick=function(e,t){A.FireEvent(A.RightClick,e,t)},A.FireDragEnd=function(e,t){A.FireEvent(A.DragEnd,e,t)},A.FireDismissTemporaryElements=function(){r.MiscUtil.IsNullOrUndefined(A.DismissTemporaryElements)||A.DismissTemporaryElements.invoke(null)},A.FireEvent=function(A,e,t){r.MiscUtil.IsNullOrUndefined(A)||A.invoke(e,t)},A.FirstTouch=new n.Delegate,A.Press=new n.Delegate,A.Tap=new n.Delegate,A.LastTouch=new n.Delegate,A.RightClick=new n.Delegate,A.DragEnd=new n.Delegate,A.DismissTemporaryElements=new n.Delegate,A}();e.GlobalUIEvents=i},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(0),r=t(2),i=function(){function A(){}return A.InitMouseButtonMappings=function(){A.areMappingsInstantiated||(A.mouseButtonMappingsIE[1]="left",A.mouseButtonMappingsIE[4]="middle",A.mouseButtonMappingsIE[2]="right",A.mouseWhichMappings[1]="left",A.mouseWhichMappings[2]="middle",A.mouseWhichMappings[3]="right",A.areMappingsInstantiated=!0)},A.GetMouseButtonEnum=function(e){A.InitMouseButtonMappings();var t="none",i=r.TypeUtil.GetField(e,"which");if(n.MiscUtil.IsNullOrUndefined(i)){var o=r.TypeUtil.GetField(e,"button");if(!n.MiscUtil.IsNullOrUndefined(o)){var a=o;n.MiscUtil.IsNullOrUndefined(A.mouseButtonMappingsIE[a])||(t=A.mouseButtonMappingsIE[a])}}else{var s=i;n.MiscUtil.IsNullOrUndefined(A.mouseWhichMappings[s])||(t=A.mouseWhichMappings[s])}return t},A.areMappingsInstantiated=!1,A.mouseButtonMappingsIE={},A.mouseWhichMappings={},A}();e.MouseEventUtil=i},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(4),r=t(25),i=t(13),o=t(18),a=t(7),s=t(19),u=t(1),l=t(0),c=t(15),d=t(5),p=t(31),f=t(8),g=function(){function A(A){this.mousedown=!1,this.handlingContextMenu=!1,this.usingHover=A.IsUsingHover(),this.domElement=A.DomElement,this.drag=new o.Drag(A,this),this.discrete=new r.Discrete(A),this.pinch=new p.Pinch(A),this.usingHover&&(this.hover=new s.Hover(A))}return Object.defineProperty(A,"CurrentGlobalMouseButton",{get:function(){return A.globalMouseButton},set:function(e){A.globalMouseButton!==e&&(A.globalMouseButton=e,u.Logger.Debug("GlobalMouseButton="+A.globalMouseButton))},enumerable:!0,configurable:!0}),A.prototype.suppressHover=function(){this.hover.suppressHover()},A.prototype.unsuppressHover=function(){this.hover.unsuppressHover()},A.prototype.CancelHover=function(){this.hover.Cancel()},A.prototype.HandleEvent=function(e){this.mousedown&&"left"!==A.CurrentGlobalMouseButton&&"right"!==A.CurrentGlobalMouseButton&&(this.mousedown=!1),e.IsScrollEvent||(e.IsOutEvent?this.usingHover&&this.hover.Out(e):e.IsStartEvent?this.HandleStartEvent(e):e.IsMoveEvent?this.HandleMoveEvent(e):this.HandleEndCancelEvent(e))},A.prototype.HandleStartEvent=function(e){this.handlingContextMenu=!1,this.lastMouseButtonPressed=c.MouseEventUtil.GetMouseButtonEnum(e.originalEvent),e.IsMouseEvent&&(this.mousedown=!0,A.CurrentGlobalMouseButton=this.lastMouseButtonPressed),this.HandleStart(e)},A.prototype.HandleMoveEvent=function(A){this.usingHover&&this.hover.Move(A),A.IsMouseEvent&&!this.mousedown||(this.discrete.Move(A),this.drag.Move(A),l.MiscUtil.IsNullOrUndefined(this.pinch)||this.pinch.Move(A))},A.prototype.HandleEndCancelEvent=function(e){A.CurrentGlobalMouseButton="none",this.usingHover&&this.hover.End(e),l.MiscUtil.IsNullOrUndefined(this.pinch)||this.pinch.End(e),this.drag.End(e),e.IsMouseEvent&&(this.mousedown=!1,(e.IsRightClickEvent||"right"===this.lastMouseButtonPressed)&&(this.handlingContextMenu=!0),n.BrowserSupport.IsMac()&&this.handlingContextMenu&&"mouseup"===e.type||this.handlingContextMenu&&!e.IsRightClickEvent)||this.discrete.End(e)},A.prototype.CancelAllGestures=function(){l.MiscUtil.IsNullOrUndefined(this.drag)||this.drag.Cancel(),l.MiscUtil.IsNullOrUndefined(this.discrete)||this.discrete.Cancel(),l.MiscUtil.IsNullOrUndefined(this.pinch)||this.pinch.Cancel(),l.MiscUtil.IsNullOrUndefined(this.hover)||this.hover.Cancel()},A.prototype.UpdateAllGestures=function(A){l.MiscUtil.IsNullOrUndefined(this.drag)||this.drag.Update(A),l.MiscUtil.IsNullOrUndefined(this.discrete)||this.discrete.Update(A),l.MiscUtil.IsNullOrUndefined(this.pinch)||this.pinch.Update(A),l.MiscUtil.IsNullOrUndefined(this.hover)||this.hover.Update(A)},A.prototype.SetupPressDrag=function(A){var e=this;if(A.UsingPressDrag()){var t=function(t){A.IsHandling("press")&&f.TableauEventHandler.GetHandler(A,"press")(t);var n=new a.EventHandleSpec;n.SetHandler("dragStart",f.TableauEventHandler.GetHandler(A,"pressDragStart")),n.SetHandler("dragMove",f.TableauEventHandler.GetHandler(A,"pressDragMove")),n.SetHandler("dragEnd",f.TableauEventHandler.GetHandler(A,"pressDragEnd")),n.SetHandler("pinchStart",f.TableauEventHandler.GetHandler(A,"doublePressDragStart")),n.SetHandler("pinchMove",f.TableauEventHandler.GetHandler(A,"doublePressDragMove")),n.SetHandler("pinchEnd",f.TableauEventHandler.GetHandler(A,"doublePressDragEnd")),e.drag.Update(n),l.MiscUtil.IsNullOrUndefined(e.pinch)||e.pinch.Update(n)},n=function(t){A.IsHandling("lastTouch")&&f.TableauEventHandler.GetHandler(A,"lastTouch")(t),e.drag.Update(A),l.MiscUtil.IsNullOrUndefined(e.pinch)||e.pinch.Update(A)},r=new a.EventHandleSpec;r.SetHandler("press",t),r.SetHandler("lastTouch",n),this.discrete.Update(r)}},A.prototype.HandleStart=function(A){this.usingHover&&this.hover.Start(A),this.discrete.Start(A),this.drag.Start(A),l.MiscUtil.IsNullOrUndefined(this.pinch)||this.pinch.Start(A)},A.prototype.dispose=function(){l.MiscUtil.IsNullOrUndefined(this.discrete)||this.discrete.dispose(),l.MiscUtil.IsNullOrUndefined(this.drag)||this.drag.dispose(),l.MiscUtil.IsNullOrUndefined(this.hover)||this.hover.dispose(),l.MiscUtil.IsNullOrUndefined(this.pinch)||this.pinch.dispose()},A.prototype.HandleCapturedMouseMove=function(A){if(this.IsCapturedEventOutsideOfTarget(A)){var e=d.NormalizedEvent.Create(A,this.domElement);this.HandleMoveEvent(e)}},A.prototype.HandleCapturedMouseComplete=function(A){var e="mouseout"===A.type;if(this.IsCapturedEventOutsideOfTarget(A)||e){var t=d.NormalizedEvent.Create(A,this.domElement);this.HandleEndCancelEvent(t)}},A.prototype.IsCapturedEventOutsideOfTarget=function(A){return this.domElement!==A.target&&!i.DomUtil.IsAncestorOf(this.domElement,A.target)},A.globalMouseButton="none",A}();e.EventRecognizer=g},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(0),r=t(28),i=t(1),o=function(){function A(){}return A.initialize=function(){window.addEventListener("message",function(e){return A.OnMessage(window,e)},!1)},Object.defineProperty(A,"ZoomScaleForLocalWindow",{get:function(){var A=document.documentElement.clientWidth,e=window.innerWidth;return i.TsConfig.IsMobile()||(e-=17),A/e},enumerable:!0,configurable:!0}),Object.defineProperty(A,"IsScaleFactorCommunicationAvailable",{get:function(){return!n.MiscUtil.IsNullOrUndefined(A.outerMessageSource)},enumerable:!0,configurable:!0}),A.OnMessage=function(e,t){var i=t;if("string"==typeof i.data){var o=r.NonApiCommand.Parse(i.data.toString());if(o.Name===r.NonApiCommandName.ScaleFactorResponse){var a=o.Parameters[0];A.lastScaleFactor=Number(o.Parameters[1]);var s=Number(o.Parameters[2]),u=Number(o.Parameters[3]),l=A.PendingCallbacks[a];delete A.PendingCallbacks.id,A.outerMessageSource=i.source,n.MiscUtil.IsNullOrUndefined(l)||l(A.lastScaleFactor,s,u)}}},A.RequestScaleFactor=function(e){void 0===e&&(e=null);var t=(++A.nextId).toString();A.PendingCallbacks[t]=e;var n=new r.NonApiCommand(r.NonApiCommandName.ScaleFactorRequest,[t]);A.outerMessageSource.postMessage(n.Serialize(),"*")},A.GetScaleAsync=function(e){A.IsScaleFactorCommunicationAvailable?A.RequestScaleFactor(e):n.MiscUtil.IsNullOrUndefined(e)||e(A.ZoomScaleForLocalWindow,0,0)},A.GetScaleSync=function(){return A.IsScaleFactorCommunicationAvailable?(A.RequestScaleFactor(),A.lastScaleFactor):A.ZoomScaleForLocalWindow},A.PendingCallbacks={},A.nextId=1,A.lastScaleFactor=1,A}();e.ZoomScaleUtil=o,o.initialize()},function(A,e,t){var n=this&&this.__extends||function(){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var t in e)e.hasOwnProperty(t)&&(A[t]=e[t])};return function(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=t(3),i=t(4),o=t(11),a=t(6),s=t(14),u=t(1),l=t(0),c=t(29),d=function(A){function e(e,t){var n=A.call(this,e,"drag",!0)||this;return n.canceled=!1,n.dragging=!1,n.mouseCaptureHandler=t,n}return n(e,A),e.prototype.Start=function(A){u.Logger.Debug("start");var e=A.touches[0];if(l.MiscUtil.IsNullOrUndefined(A.target)||"IMG"!==A.target.tagName.toUpperCase()||u.TsConfig.IsMobile()||A.preventDefault(),A.touches.length!==this.numTouches)return this.dragging&&this.Fire("dragEnd",A,this.lastInfo),this.ResetGestureState(),void(this.canceled=!0);l.MiscUtil.IsNullOrUndefined(this.startInfo)||i.BrowserSupport.IsTouch()||(u.Logger.Debug("multiple starts in a row, ending old one first"),this.End(A)),this.canceled=!1,this.startInfo=this.BuildStartInfo(e),this.lastInfo=this.startInfo,this.isPotentialPress=!1,this.Config.IsHandling("potentialPress")&&this.StartPotentialPressDetection()},e.prototype.Move=function(A){this.canceled||(this.isPotentialPress&&A.touches.length===this.numTouches&&A.preventDefault(),this.lastInfo=this.GetParams(A),this.dragging?this.Fire("dragMove",A,this.lastInfo):this.PastSlop(A)&&(this.dragging=!0,this.Fire("dragStart",A,this.lastInfo),this.Fire("dragMove",A,this.lastInfo),l.MiscUtil.IsNullOrUndefined(this.Config.dragEnd)||c.MouseCapture.SetCapture(this.mouseCaptureHandler)))},e.prototype.End=function(A){var e;if(!this.dragging){return A.touches.length===this.numTouches&&!l.MiscUtil.IsNullOrUndefined(A.touches[0].identifier)&&this.PastSlop(A)?(this.startInfo=this.BuildStartInfo(A.touches[0]),this.lastInfo=this.startInfo,e=this.GetParams(A),this.canceled=!1,this.dragging=!0,void this.Fire("dragStart",A,e)):void this.ResetGestureState()}if(u.Logger.Debug("end"),c.MouseCapture.ReleaseCapture(),e=this.GetParams(A),this.ResetGestureState(),this.Config.IsHandling("dragEnd")){var t=o.NormalizedEvent.Create(A.originalEvent,null);r.extend(t,this.lastInfo),s.GlobalUIEvents.FireDragEnd(t,null)}this.Fire("dragEnd",A,e)},e.prototype.Cancel=function(){this.canceled=!0},e.prototype.BuildStartInfo=function(A){var e=new a.GestureEventInfo;return e.pageX=A.pageX,e.pageY=A.pageY,e},e.prototype.GetParams=function(A){var e=A.changedTouches[0];l.MiscUtil.IsNullOrUndefined(this.startInfo)&&(this.startInfo=this.BuildStartInfo(e)),l.MiscUtil.IsNullOrUndefined(this.lastInfo)&&(this.lastInfo=this.startInfo);var t=new a.GestureEventInfo;return t.clientX=e.clientX,t.clientY=e.clientY,t.pageX=e.pageX,t.pageY=e.pageY,t.startX=this.startInfo.pageX,t.startY=this.startInfo.pageY,t.deltaX=t.pageX-this.startInfo.pageX,t.deltaY=t.pageY-this.startInfo.pageY,t.deltaXSinceLast=t.pageX-this.lastInfo.pageX,t.deltaYSinceLast=t.pageY-this.lastInfo.pageY,t.scale=1,t},e.prototype.PastSlop=function(A){var e=A.touches[0];if(l.MiscUtil.IsNullOrUndefined(this.startInfo))return!1;var t=this.ZoomAdjustedSlop;return Math.abs(e.pageX-this.startInfo.pageX)>t||Math.abs(e.pageY-this.startInfo.pageY)>t},e.prototype.ResetGestureState=function(){this.startInfo=null,this.dragging=!1,this.isPotentialPress=!1,this.potentialPressTimer=l.MiscUtil.ClearTimeout(this.potentialPressTimer)},e.prototype.StartPotentialPressDetection=function(){var A=this;this.potentialPressTimer=window.setTimeout(function(){A.dragging||(A.isPotentialPress=!0)},a.Gesture.PotentialPressTime)},e}(a.Gesture);e.Drag=d},function(A,e,t){var n=this&&this.__extends||function(){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var t in e)e.hasOwnProperty(t)&&(A[t]=e[t])};return function(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=t(13),i=t(6),o=t(1),a=t(0),s=t(2),u=function(A){function e(t){var n=A.call(this,t,"hover",!1)||this;return n.startX=0,n.startY=0,n.possible=!0,n.hoverTime=a.MiscUtil.IsNullOrUndefined(t.HoverDelay)?e.HoverTime:t.HoverDelay,n}return n(e,A),e.prototype.Start=function(A){o.Logger.Debug("Start"),this.Cancel(),this.possible=!1},e.prototype.Move=function(A){var e=this;o.Logger.Debug("Move: "+A);var t=A.touches[0];if(this.possible&&this.PastSlop(A)){var n=this.GetParam(A);a.MiscUtil.IsNullOrUndefined(this.hoverTimeout)||this.Cancel(),this.Fire("moving",A,n),this.startX=t.pageX,this.startY=t.pageY,this.hoverTimeout=window.setTimeout(function(){o.Logger.Debug("Hover"),e.isSuppressed||e.Fire("hover",A,n),e.ClearTimeout()},this.hoverTime)}},e.prototype.End=function(A){o.Logger.Debug("end"),0===A.touches.length&&(this.possible=!0)},e.prototype.Out=function(A){var e=s.TypeUtil.GetField(A.originalEvent,"relatedTarget");this.Config.DomElement===e||r.DomUtil.IsAncestorOf(this.Config.DomElement,e)||(o.Logger.Debug("Out."),this.Cancel(),this.Fire("mouseleave",A,this.GetParam(A)))},e.prototype.suppressHover=function(){this.isSuppressed||o.Logger.Debug("SuppressHover."),this.isSuppressed=!0},e.prototype.unsuppressHover=function(){this.isSuppressed&&o.Logger.Debug("UnsuppressHover."),this.isSuppressed=!1,this.possible=!0},e.prototype.Cancel=function(){this.ClearTimeout(),this.startX=0,this.startY=0,this.possible=!0},e.prototype.ClearTimeout=function(){this.hoverTimeout=a.MiscUtil.ClearTimeout(this.hoverTimeout)},e.prototype.PastSlop=function(A){var e=A.touches[0];return Math.abs(e.pageX-this.startX)+Math.abs(e.pageY-this.startY)>this.ZoomAdjustedSlop},e.prototype.GetParam=function(A){var e=new i.GestureEventInfo;return e.pageX=A.changedTouches[0].pageX,e.pageY=A.changedTouches[0].pageY,e.clientX=A.changedTouches[0].clientX,e.clientY=A.changedTouches[0].clientY,e},e.HoverTime=150,e.FastHoverTime=120,e}(i.Gesture);e.Hover=u},function(A,e,t){var n=this&&this.__extends||function(){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var t in e)e.hasOwnProperty(t)&&(A[t]=e[t])};return function(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=t(7),i=t(1),o=t(0),a=t(5),s=t(8),u=t(2),l=function(A){function e(){var e=A.call(this)||this;return e.eventHandlingAttributesForReact=e.GetEventHandlingAttributesForReact(),e}return n(e,A),Object.defineProperty(e.prototype,"EventHandlingAttributesForReact",{get:function(){return this.eventHandlingAttributesForReact},enumerable:!0,configurable:!0}),e.CreateEmpty=function(){return new e},e.prototype.UpdateEventHandleSpec=function(A,e){this.config=o.MiscUtil.IsNullOrUndefined(e)?new r.EventHandleSpec:e,this.config.DomElement=A,this.ConfigureDomElem(A),this.SetupEventRecognizer(this.config)},e.LookupReactEventName=function(A){return o.MiscUtil.IsNullOrUndefined(e.browserEventToReactEvent)&&(e.browserEventToReactEvent={},e.browserEventToReactEvent.touchstart="onTouchStart",e.browserEventToReactEvent.touchmove="onTouchMove",e.browserEventToReactEvent.touchend="onTouchEnd",e.browserEventToReactEvent.touchcancel="onTouchCancel",e.browserEventToReactEvent.mousedown="onMouseDown",e.browserEventToReactEvent.mousemove="onMouseMove",e.browserEventToReactEvent.mouseup="onMouseUp",e.browserEventToReactEvent.mouseout="onMouseOut",e.browserEventToReactEvent.scroll="onScroll",e.browserEventToReactEvent.contextmenu="onContextMenu"),e.browserEventToReactEvent[A]},e.prototype.GetEventHandlingAttributesForReact=function(){var A=this,t={},n=function(e){var t=a.NormalizedEvent.Create(e.nativeEvent,A.config.DomElement,e);A.handler(t)};return a.NormalizedEvent.AllHandledEvents.forEach(function(A){var r=e.LookupReactEventName(A);o.MiscUtil.IsNullOrUndefined(r)?i.Logger.Debug("Can't find a matching React.js event name for "+A):u.TypeUtil.SetField(t,r.toString(),n)}),t},e.browserEventToReactEvent=null,e}(s.TableauEventHandler);e.TableauEventHandlerForReact=l},function(A,e,t){function n(A){return g.MiscUtil.IsNullOrUndefined(A)||0===A.length}function r(A){A.stopPropagation(),A.preventDefault()}Object.defineProperty(e,"__esModule",{value:!0});var i,o=t(3),a=t(4),s=t(37),u=t(9),l=t(22),c=t(10),d=t(11),p=t(38),f=t(1),g=t(0),h=t(8),v=t(2),m=t(39);!function(A){A.Unknown="unknown"}(i||(i={}));var y=function(){function A(){}return A.initialize=function(){A.dragSpec=new d.EventHandleSpec,A.dragSpec.dragStart=A.dragStart,A.dragSpec.dragMove=A.dragMove,A.dragSpec.dragEnd=A.dragEnd,A.dragSpec.pressEnd=A.dragEnd,A.dragSpec.firstTouch=A.firstTouch,A.dragDisposables=new s.DisposableHolder},A.add_dragStarted=function(e){A.dragStarted.add(e)},A.remove_dragStarted=function(e){A.dragStarted.remove(e)},A.add_dragMoved=function(e){A.dragMoved.add(e)},A.remove_dragMoved=function(e){A.dragMoved.remove(e)},A.add_dragEnded=function(e){A.dragEnded.add(e)},A.remove_dragEnded=function(e){A.dragEnded.remove(e)},A.add_currentTargetChanged=function(e){A.currentTargetChanged.add(e)},A.remove_currentTargetChanged=function(e){A.currentTargetChanged.remove(e)},A.setStartDragHandler=function(e){return void 0===A.dragTakeOver?(A.dragTakeOver=e,function(){return A.unsetStartDragHandler()}):null},A.unsetStartDragHandler=function(){A.dragTakeOver=void 0},Object.defineProperty(A,"isDragging",{get:function(){return!g.MiscUtil.IsNullOrUndefined(A.CurrentDrag)},enumerable:!0,configurable:!0}),Object.defineProperty(A,"LastDragEvent",{get:function(){return A.get_lastDragEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(A,"CurrentDrag",{get:function(){return A.get_currentDrag()},enumerable:!0,configurable:!0}),Object.defineProperty(A,"CurrentTarget",{get:function(){return A.get_currentTarget()},set:function(e){var t=A.currentTarget!==e;A.currentTarget=e,t&&!g.MiscUtil.IsNullOrUndefined(A.currentTargetChanged)&&A.currentTargetChanged.invoke(A.currentTarget)},enumerable:!0,configurable:!0}),A.init=function(){void 0===A.dragDropEventHandler&&(A.dragDropEventHandler=new h.TableauEventHandler(document.body,A.dragSpec))},A.addClassSVGCompatible=function(A,e){var t=A[0],r=t.getAttribute("class");if(n(r))return void t.setAttribute("class",e);var i=r.split(" ");-1===i.indexOf(e)&&t.setAttribute("class",i.concat(e).join(" "))},A.removeClassSVGCompatible=function(A,e){var t=A[0],r=t.getAttribute("class");if(!n(r)){var i=r.split(" "),o=i.indexOf(e);o>=0&&(i.splice(o,1),t.setAttribute("class",i.join(" ")))}},A.attachDropTarget=function(e,t){e.attr(A.DropTargetAttr,"1"),A.addClassSVGCompatible(e,A.DropTargetClass),e.data(A.DropTargetDataKey,t)},A.detachDropTarget=function(e){e.removeAttr(A.DropTargetAttr),e.removeData(A.DropTargetDataKey),A.removeClassSVGCompatible(e,A.DropTargetClass)},A.isDropTarget=function(e){return!g.MiscUtil.IsNullOrUndefined(e.attr(A.DropTargetAttr))},A.attachDragSource=function(e,t){e.attr(A.DragSourceAttr,"1"),e.data(A.DragSourceDataKey,t)},A.removeDragSource=function(e){e.removeData(A.DragSourceDataKey),e.removeAttr(A.DragSourceAttr)},A.isDragSource=function(e){return!g.MiscUtil.IsNullOrUndefined(e.attr(A.DragSourceAttr))},A.createDragGlass=function(){A.dragGlass=new p.SimplifiedDragSafeGlass,A.dragGlass.show(),A.CurrentDrag.get_hasPayload()&&"dragmove"===A.CurrentDrag.get_dragType()&&A.setDragCursor(c.EmbeddedCustomCursor.copyFromElement(A.firstTouchDragElement)),g.MiscUtil.IsNullOrUndefined(A.dragGlass.Element)||(A.dragGlassEventHandler=new h.TableauEventHandler(A.dragGlass.Element[0],A.dragSpec),A.dragDisposables=new s.DisposableHolder,A.dragDisposables.add(A.dragGlass),A.dragDisposables.add(A.dragGlassEventHandler),A.dragDisposables.add(A.BindWithDispose(o(document.body),"keydown",A.handleKeyDown)),A.dragDisposables.add(A.BindWithDispose(o(document.body),"keyup",A.handleKeyUp)))},A.destroyDragGlass=function(){A.dragDisposables.dispose(),A.dragDisposables=new s.DisposableHolder},A.startDrag=function(e,t,n){if(void 0===n&&(n=null),!g.MiscUtil.IsNullOrUndefined(e)&&!g.MiscUtil.IsNullOrUndefined(t)&&e.get_hasPayload()){if(g.MiscUtil.IsNullOrUndefined(n)||(A.firstTouchDragElement=n),A.lastDragEvent=t,A.cancelDrag(),A.currentDrag=e,A.setDragAvatar(A.CurrentDrag.get_dragAvatar()),A.updateAvatarPosition(),A.avatarUpdateInterval=m.WindowHelper.RequestAnimationFrame(A.updateAvatarPosition),A.createDragGlass(),A.setDragTarget(t),void 0!==A.dragTakeOver&&A.dragTakeOver(e,t))return f.Logger.Debug("Drag started but taken over"),void A.cancelDrag();f.Logger.Debug("Drag started "+A.CurrentDrag),g.MiscUtil.IsNullOrUndefined(A.dragStarted)||A.dragStarted.invoke(A.CurrentDrag)}},A.cancelDrag=function(e){void 0===e&&(e=null),A.isDragging&&(g.MiscUtil.IsNullOrUndefined(e)||e===A.CurrentDrag)&&(f.Logger.Debug("Drag cancelled"),A.CurrentDrag.cancelDrag(),A.endDrag(null,!0,!1,function(){return o.Deferred().resolve(!1)}))},A.drop=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),A.currentDrag.isCopyDrag=t,A.currentDrag.isShiftDrag=n,A.currentDrag.isRightDrag=r,A.endDrag(e,!1,A.CurrentDrag.isCopyDrag,function(){return g.MiscUtil.IsNullOrUndefined(e)?(f.Logger.Debug("Drop with no target"),A.CurrentDrag.dropToNowhereAction(),o.Deferred().resolve(!0)):e.acceptDrop(A.CurrentDrag).always(function(A){f.Logger.Debug("Drop: "+A+" "+e)})})},A.firstTouch=function(e){var t=o(e.target).closest(A.DragSourceSelector);if(g.MiscUtil.IsNullOrUndefined(t)||0===t.length)return A.firstTouchDragSource=null,void(A.firstTouchDragElement=null);A.firstTouchDragSource=t.data(A.DragSourceDataKey),A.firstTouchDragElement=t},A.dragEnd=function(e){if(!g.MiscUtil.IsNullOrUndefined(A.CurrentDrag))switch(A.CurrentDrag.get_dragType()){case"dragmove":A.endDrag(null,!1,!1,function(){return A.CurrentDrag.endDragAt(e),o.Deferred().resolve(!0)});break;case"dragmovedrop":case"dragdrop":A.drop(A.CurrentTarget,e.IsCtrlKey,e.shiftKey,e.IsRightMouseEvent)}},A.dragMove=function(e){if(A.isDragging){r(e),A.lastDragEvent=e,A.currentDrag.isCopyDrag=e.IsCtrlKey,A.currentDrag.isShiftDrag=e.shiftKey,m.WindowHelper.ClearSelection();Date.now()-A.lastAvatarUpdate>75&&(g.MiscUtil.IsNullOrUndefined(A.avatarUpdateInterval)||m.WindowHelper.CancelAnimationFrame(A.avatarUpdateInterval),A.updateAvatarPosition()),A.setDragTarget(e),g.MiscUtil.IsNullOrUndefined(A.dragMoved)||A.dragMoved.invoke(A.CurrentDrag)}},A.handleKeyDown=function(e){if(A.isDragging)switch(r(e),e.which){case 16:A.lastDragEvent.shiftKey=!0,A.dragMove(A.LastDragEvent)}},A.handleKeyUp=function(e){if(A.isDragging)switch(r(e),e.which){case 16:A.lastDragEvent.shiftKey=!1,A.dragMove(A.LastDragEvent);break;case 27:A.cancelDrag(A.CurrentDrag)}},A.setDragTarget=function(e){switch(A.CurrentDrag.get_dragType()){case"dragmove":A.CurrentDrag.moveTo(e);break;case"dragdrop":A.setTargetForDrop(e);break;case"dragmovedrop":A.CurrentDrag.moveTo(e),A.setTargetForDrop(e)}},A.setTargetForDrop=function(e){var t=A.findDropTarget(e);if(!g.MiscUtil.IsNullOrUndefined(A.CurrentTarget))if(A.CurrentTarget!==t)A.CurrentTarget.dragExit(A.CurrentDrag);else if("dropfeedbackuponentry"===A.CurrentTarget.get_feedbackType())return void f.Logger.Debug("Drag move: target="+A.CurrentTarget);if(!g.MiscUtil.IsNullOrUndefined(t)){for(var n=t.dragOver(A.CurrentDrag);!g.MiscUtil.IsNullOrUndefined(n)&&n!==t;)t=n,n=t.dragOver(A.CurrentDrag);t=n}g.MiscUtil.IsNullOrUndefined(t)?(f.Logger.Debug("No target"),A.setDragCursor(A.CurrentDrag.get_defaultDropCursor())):A.setDragCursor(t.getDropCursor(A.CurrentDrag)),A.CurrentTarget=t},A.setDragCursor=function(e){g.MiscUtil.IsNullOrUndefined(A.dragGlass)||g.MiscUtil.IsNullOrUndefined(A.dragGlass.Element)||e.setCursor(A.dragGlass.Element)},A.dragStart=function(e){if(!A.isDragging){var t=A.firstTouchDragSource;if(g.MiscUtil.IsNullOrUndefined(t)){t=o(e.target).closest(A.DragSourceSelector).data(A.DragSourceDataKey)}if(!g.MiscUtil.IsNullOrUndefined(t)&&(1!==t.acceptsDragType()||!e.IsMouseEvent||e.IsLeftMouseEvent)){var n=t.startDrag(e);g.MiscUtil.IsNullOrUndefined(n)||A.startDrag(n,e)}}},A.endDrag=function(e,t,n,r){A.setDragAvatar(null),A.destroyDragGlass(),g.MiscUtil.IsNullOrUndefined(A.avatarUpdateInterval)||(m.WindowHelper.CancelAnimationFrame(A.avatarUpdateInterval),A.avatarUpdateInterval=null),r().always(function(r){g.MiscUtil.IsNullOrUndefined(A.dragEnded)||A.dragEnded.invoke(new l.DropResult(A.CurrentDrag,e,r,t,n)),A.currentDrag=null,A.CurrentTarget=null})},A.setDragAvatar=function(e){if(!g.MiscUtil.IsNullOrUndefined(A.dragAvatar)){A.dragAvatar.get_rootElement().detach();A.dragAvatar.dispose(),A.dragAvatar=null}A.dragAvatar=e,g.MiscUtil.IsNullOrUndefined(A.dragAvatar)||(A.dragAvatar.get_rootElement().addClass("dragAvatar").css("position","absolute").css("pointer-events","none"),A.dragAvatar.addToDom(o("body")))},A.updateAvatarPosition=function(){if(!g.MiscUtil.IsNullOrUndefined(A.dragAvatar)){var e=function(A,e,t){return e<t/2?0:e>A-t/2?A-t:e-t/2},t=void 0===A.documentBodyOverride?document.body:A.documentBodyOverride();A.setElementPosition(A.dragAvatar.get_rootElement(),e(t.scrollWidth,A.LastDragEvent.pageX,Math.round(A.dragAvatar.get_rootElement().outerWidth())),e(t.scrollHeight,A.LastDragEvent.pageY,Math.round(A.dragAvatar.get_rootElement().outerHeight()))),A.lastAvatarUpdate=Date.now(),A.avatarUpdateInterval=m.WindowHelper.RequestAnimationFrame(A.updateAvatarPosition)}},A.getElementFromPointInternal=function(e){A.disableHitTestsOnDragGlass();var t=e.clientX,n=e.clientY;a.BrowserSupport.UseAlternateHitStrategy()&&(!g.MiscUtil.IsNullOrUndefined(e.touches)&&e.touches.length>0&&!g.MiscUtil.IsNullOrUndefined(e.touches[0].screenX)?(t=e.touches[0].screenX,n=e.touches[0].screenY):(t=v.TypeUtil.GetField(e.originalEvent,"screenX"),n=v.TypeUtil.GetField(e.originalEvent,"screenY")));var r=o(null);return g.MiscUtil.IsNullOrUndefined(t)||g.MiscUtil.IsNullOrUndefined(n)||(r=o(document.elementFromPoint(t,n))),A.enableHitTestsOnDragGlass(),r},A.getElementFromPoint=function(e){return A.getElementFromPointInternal(e)},A.disableHitTestsOnDragGlass=function(){A.registeredDragGlass.forEach(function(A){A.disableHitTests()})},A.enableHitTestsOnDragGlass=function(){A.registeredDragGlass.forEach(function(A){A.enableHitTests()})},A.findDropTarget=function(e){if(!A.isDragging)return null;for(var t=A.CurrentDrag,n=A.getPotentialDropTargets(e),r=0;r<n.length;r++){var i=n[r],o=i.data(A.DropTargetDataKey);if(A.canAccept(o,t))return o.getDropTarget(i)}return null},A.getPotentialDropTargets=function(e){var t=[],n=A.getElementFromPoint(e).closest(A.DropTargetSelector);return 0===n.length&&(--e.clientX,n=A.getElementFromPoint(e).closest(A.DropTargetSelector)),n.length>0&&(t.push(n),n.parents(A.DropTargetSelector).each(function(A,e){t.push(o(e))})),t},A.canAccept=function(A,e){return!g.MiscUtil.IsNullOrUndefined(A)&&!g.MiscUtil.IsNullOrUndefined(e)&&!g.MiscUtil.IsNullOrUndefined(A.dragOver(e))},A.registerDragGlass=function(e){A.registeredDragGlass.push(e)},A.unregisterDragGlass=function(e){A.registeredDragGlass=A.registeredDragGlass.filter(function(A){return A!==e})},A.BindWithDispose=function(e,t,n){var r=t+"."+ ++A.eventCounter;return e.on(r,n),new s.CallOnDispose(function(){e.off(r)})},A.setElementPosition=function(A,e,t,n,r){if(void 0===n&&(n=null),void 0===r&&(r=!0),r){var i={top:"0px",left:"0px"},o="translate3d("+e+"px, "+t+"px, 0px)";i[a.BrowserSupport.CssTransformName()]=o,g.MiscUtil.IsNullOrUndefined(n)||(i[a.BrowserSupport.CssTransitionName()+"-duration"]=n),A.css(i)}else{var s={position:"absolute",top:t+"px",left:e+"px"};s[a.BrowserSupport.CssTransformName()]="",A.css(s)}},A.get_isDragging=function(){return A.isDragging},A.get_lastDragEvent=function(){return A.lastDragEvent},A.get_currentTarget=function(){return A.currentTarget},A.get_currentDrag=function(){return A.currentDrag},A.triggerEventCurrentTargetChanged=function(e){A.currentTargetChanged.invoke(e)},A.triggerEventDragEnded=function(e){A.dragEnded.invoke(e)},A.isPresModelDragInstance=function(A){return!g.MiscUtil.IsNullOrUndefined(A)&&A.get_hasPayload()&&void 0!==A.presmodelType&&""!==A.presmodelType&&A.presmodelType!==i.Unknown},A.DragSourceAttr="data-tab-drag-source",A.DragSourceSelector="[data-tab-drag-source]",A.DragSourceDataKey="tabDragSource",A.DropTargetAttr="data-tab-drop-target",A.DropTargetClass="tabDropTarget",A.DropTargetSelector="[data-tab-drop-target]",A.DropTargetDataKey="tabDropTarget",A.registeredDragGlass=[],A.dragStarted=new u.Delegate,A.dragMoved=new u.Delegate,A.dragEnded=new u.Delegate,A.currentTargetChanged=new u.Delegate,A.dragTakeOver=void 0,A.eventCounter=0,A.documentBodyOverride=void 0,A}();e.DragDropManager=y,y.initialize()},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function A(A,e,t,n,r){this.drag=A,this.target=e,this.dropAccepted=t,this.canceled=n,this.isCopyDrop=r}return A}();e.DropResult=n},function(A,e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(A){"object"==typeof window&&(t=window)}A.exports=t},function(A,e){A.exports=function(A){return A.webpackPolyfill||(A.deprecate=function(){},A.paths=[],A.children||(A.children=[]),Object.defineProperty(A,"loaded",{enumerable:!0,get:function(){return A.l}}),Object.defineProperty(A,"id",{enumerable:!0,get:function(){return A.i}}),A.webpackPolyfill=1),A}},function(A,e,t){var n=this&&this.__extends||function(){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var t in e)e.hasOwnProperty(t)&&(A[t]=e[t])};return function(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=t(6),i=t(14),o=t(0),a=function(A){function e(e){var t=A.call(this,e,"discrete",!0)||this;return t.doneFirstTap=null,t.startX=0,t.startY=0,t.possible=!1,t.startTime=0,t}return n(e,A),e.prototype.Start=function(A){var e=this,t=A.touches[0];if(A.touches.length!==this.numTouches)return void this.Reset();var n=this.GetParams(A);this.ProcessGlobalEvent(i.GlobalUIEvents.FireFirstTouch,A)&&(this.Fire("firstTouch",A,n),this.startX=t.pageX,this.startY=t.pageY,this.possible=!0,this.pressTimer=o.MiscUtil.ClearTimeout(this.pressTimer),o.MiscUtil.IsNullOrUndefined(this.doneFirstTap)&&(this.startTime=(new Date).getTime(),this.potentialPressTimer=window.setTimeout(function(){return e.DoPotentialPress(A,n)},r.Gesture.PotentialPressTime),this.pressTimer=window.setTimeout(function(){return e.DoPress(A,n)},r.Gesture.PressTime)))},e.prototype.Move=function(A){this.PastSlop(A)&&this.Reset(),"touchmove"===A.type&&this.Fire("touchMove",A,this.GetParams(A))},e.prototype.End=function(A){var e=this.GetParams(A);if(this.isActivePress&&this.DoPressEnd(A,e),this.CancelPress(),!this.possible||A.IsMouseEvent&&!A.IsLeftMouseEvent||(!o.MiscUtil.IsNullOrUndefined(this.doneFirstTap)&&this.doneFirstTap?this.DoDoubleTap(A,e):this.DoTap(A,e)),"contextmenu"===A.type){if(!this.ProcessGlobalEvent(i.GlobalUIEvents.FireRightClick,A))return;this.PastSlop(A)?A.preventDefault():this.DoRightClick(A,e)}if(0===A.touches.length){if(!this.ProcessGlobalEvent(i.GlobalUIEvents.FireLastTouch,A))return;this.Fire("lastTouch",A,e)}},e.prototype.Cancel=function(){this.Reset()},e.prototype.Reset=function(){this.CancelPress(),this.possible=!1,this.doneFirstTap=null,this.isPotentialPress=!1,this.isActivePress=!1,this.doubleTapTimer=o.MiscUtil.ClearTimeout(this.doubleTapTimer)},e.prototype.DoEvent=function(A,e,t,n){this.Fire(A,e,t),n&&n.reset&&this.Reset()},e.prototype.DoDoubleTap=function(A,e){this.doubleTapTimer=o.MiscUtil.ClearTimeout(this.doubleTapTimer),this.DoEvent("doubleTap",A,e,{reset:!0})},e.prototype.DoPress=function(A,e){this.isPotentialPress=!1,this.ProcessGlobalEvent(i.GlobalUIEvents.FirePress,A)&&(this.DoEvent("press",A,e,{reset:!0}),this.isActivePress=!0)},e.prototype.DoPotentialPress=function(A,e){this.isPotentialPress=!0,this.DoEvent("potentialPress",A,e)},e.prototype.DoPressEnd=function(A,e){this.DoEvent("pressEnd",A,e),this.isActivePress=!1},e.prototype.CancelPress=function(){this.potentialPressTimer=o.MiscUtil.ClearTimeout(this.potentialPressTimer),this.pressTimer=o.MiscUtil.ClearTimeout(this.pressTimer),this.isPotentialPress&&this.DoEvent("cancelPotentialPress",{},null)},e.prototype.DoTap=function(A,e){var t=this;this.doneFirstTap=!0,this.ProcessGlobalEvent(i.GlobalUIEvents.FireTap,A)&&(this.Config.IsHandling("doubleTap")?this.doubleTapTimer=window.setTimeout(function(){t.Reset(),t.Fire("cancelPotentialDoubleTap",A,e)},r.Gesture.DoubleTapTime-this.GetElapsedTime()):this.Reset(),this.Fire("tap",A,e))},e.prototype.DoRightClick=function(A,e){this.Fire("rightClick",A,e)},e.prototype.ProcessGlobalEvent=function(A,e){var t=this,n=!1;return A(e,function(A){t.Reset(),A&&(e.stopPropagation(),e.preventDefault()),n=!0}),!n},e.prototype.GetElapsedTime=function(){return(new Date).getTime()-this.startTime},e.prototype.PastSlop=function(A){var e=A.changedTouches[0],t=this.ZoomAdjustedSlop;return Math.abs(e.pageX-this.startX)>t||Math.abs(e.pageY-this.startY)>t},e.prototype.GetParams=function(A){var e=new r.GestureEventInfo;return e.pageX=A.changedTouches[0].pageX,e.pageY=A.changedTouches[0].pageY,e.clientX=A.changedTouches[0].clientX,e.clientY=A.changedTouches[0].clientY,e.startX=A.changedTouches[0].pageX,e.startY=A.changedTouches[0].pageY,e},e}(r.Gesture);e.Discrete=a},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function A(A,e){this.DomElement=A,this.EventHandler=e}return A}();e.DomSubscriptionHandle=n},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function A(){}return A.handlePointerEvent=function(e){A._currentPointerType=e.pointerType},A.init=function(){A._initialized||(document.body.addEventListener("pointerdown",A.handlePointerEvent,{capture:!0}),document.body.addEventListener("pointermove",A.handlePointerEvent,{capture:!0}),A._initialized=!0)},A.remove=function(){document.body.removeEventListener("pointerdown",A.handlePointerEvent,{capture:!0}),document.body.removeEventListener("pointermove",A.handlePointerEvent,{capture:!0}),A._currentPointerType="",A._initialized=!1},Object.defineProperty(A,"initialized",{get:function(){return A._initialized},enumerable:!0,configurable:!0}),Object.defineProperty(A,"currentPointerType",{get:function(){return A._currentPointerType},enumerable:!0,configurable:!0}),A._initialized=!1,A._currentPointerType="",A}();e.PointerEventDetector=n},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n;!function(A){A.Bootstrap="tableau.bootstrap",A.Completed="completed",A.VisibleRectRequest="layoutInfoReq",A.VisibleRectResponse="layoutInfoResp",A.LegacyVizOffsetResp="vizOffsetResp",A.EnableVisibleRectCommunication="tableau.enableVisibleRectCommunication",A.TableauCompleted="tableau.completed",A.UnhandledException="tableau.unhandledException",A.Listening="tableau.listening",A.Responsive="tableau.responsive",A.ScaleFactorRequest="sf?",A.ScaleFactorResponse="sf"}(n||(n={})),e.NonApiCommandName=n;var r=function(){function A(A,e){this.Name=A,this.parameters=e}return Object.defineProperty(A.prototype,"Parameters",{get:function(){return this.parameters},enumerable:!0,configurable:!0}),A.Parse=function(e){var t=e.split(",");return new A(t[0],t.slice(1))},A.prototype.Serialize=function(){var A=new Array;return A.push(this.Name.toString()),A=A.concat(this.parameters),A.join(",")},A}();e.NonApiCommand=r},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(1),r=t(4),i=t(0),o=t(30),a=function(){function A(){}return Object.defineProperty(A,"ManuallyCaptureMouseEvents",{get:function(){return!n.TsConfig.IsMobile()&&r.BrowserSupport.AddEventListener()},enumerable:!0,configurable:!0}),Object.defineProperty(A,"ForceDragStopOnIFrameMouseOut",{get:function(){return r.BrowserSupport.IsIE()&&n.BootstrapUtility.IsEmbedded()},enumerable:!0,configurable:!0}),A.SetCapture=function(e){o.Param.VerifyValue(e,"handler"),A.ManuallyCaptureMouseEvents&&(A.eventHandlers.push(e),A.areMouseListenersAttached||(document.addEventListener("mousemove",this.HandleMouseMove,!0),document.addEventListener("mouseup",this.HandleMouseUp,!0),document.addEventListener("mouseout",this.HandleMouseOut,!0),A.areMouseListenersAttached=!0))},A.ReleaseCapture=function(){A.ManuallyCaptureMouseEvents&&(A.eventHandlers=[],document.removeEventListener("mousemove",this.HandleMouseMove,!0),document.removeEventListener("mouseup",this.HandleMouseUp,!0),document.removeEventListener("mouseout",this.HandleMouseOut,!0),A.areMouseListenersAttached=!1)},A.HandleMouseMove=function(e){A.eventHandlers.forEach(function(A){return A.HandleCapturedMouseMove(e)})},A.HandleMouseUp=function(e){A.HandleComplete(e),n.Logger.Debug("Mouse has been released, calling HandleCaptureComplete on the handler")},A.HandleMouseOut=function(e){A.ForceDragStopOnIFrameMouseOut&&A.EventIsOutsideDocument(e)&&(A.HandleComplete(e),n.Logger.Debug("Mouse is Exiting document and document is in an iFrame - calling HandleCapturedMouseComplete on the handler"))},A.HandleComplete=function(e){A.eventHandlers.forEach(function(A){return A.HandleCapturedMouseComplete(e)})},A.EventIsOutsideDocument=function(A){var e=A.toElement;return i.MiscUtil.IsNullOrUndefined(e)||"HTML"===e.NodeName},A.eventHandlers=[],A.areMouseListenersAttached=!1,A}();e.MouseCapture=a},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(0),r=t(2),i=function(){function A(){}return A.VerifyValue=function(e,t){if(n.MiscUtil.IsNullOrUndefined(e)){var r=A.CreateArgumentNullOrUndefinedException(t);throw A.ShowParameterAlert(r),r}},A.CreateArgumentNullOrUndefinedException=function(A){var e=new DOMException("{paramName} is null or undefined");return r.TypeUtil.SetField(e,A,A),e},A.ShowParameterAlert=function(e){if(!this.SuppressAlerts)try{throw e}catch(e){window.alert(A.FormatExceptionMessage(e))}},A.FormatExceptionMessage=function(A){var e=A.stack;return n.MiscUtil.IsNullOrUndefined(e)?A.message:e},A.SuppressAlerts=!1,A}();e.Param=i},function(A,e,t){var n=this&&this.__extends||function(){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var t in e)e.hasOwnProperty(t)&&(A[t]=e[t])};return function(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=t(6),i=function(A){function e(e){var t=A.call(this,e,"pinch",!0,2)||this;return t.pinching=!1,t}return n(e,A),e.prototype.Start=function(A){if(!(A.touches.length<this.numTouches||this.pinching)){this.touch1=A.touches[0],this.touch2=A.touches[1],this.startParams=this.GetStartParams(),this.lastParams=this.startParams;var e=this.GetParams();this.Fire("pinchStart",A,e),this.pinching=!0}},e.prototype.Move=function(A){if(this.pinching){if(A.touches.length<2)return void this.End(A);this.touch1=A.touches[0],this.touch2=A.touches[1],this.lastParams=this.GetParams(),this.Fire("pinchMove",A,this.lastParams)}},e.prototype.End=function(A){if(!(A.touches.length>this.numTouches)&&this.pinching){this.pinching=!1;var e=this.GetParams();this.Fire("pinchEnd",A,e)}},e.prototype.Cancel=function(){},e.prototype.GetStartParams=function(){var A=this.touch1,e=this.touch2,t=e.pageX-A.pageX,n=e.pageY-A.pageY,i=Math.sqrt(t*t+n*n),o=t/2+A.pageX,a=n/2+A.pageY,s=new r.GestureEventInfo;return s.pageX=o,s.pageY=a,s.distance=i,s},e.prototype.GetParams=function(){var A=this.touch1,e=this.touch2,t=e.pageX-A.pageX,n=e.pageY-A.pageY,i=Math.sqrt(t*t+n*n),o=t/2+A.pageX,a=n/2+A.pageY,s=new r.GestureEventInfo;return s.pageX=o,s.pageY=a,s.scale=i/this.startParams.distance,s.deltaX=o-this.startParams.pageX,s.deltaY=a-this.startParams.pageY,s.startX=this.startParams.pageX,s.startY=this.startParams.pageY,s.deltaXSinceLast=o-this.lastParams.pageX,s.deltaYSinceLast=a-this.lastParams.pageY,s},e}(r.Gesture);e.Pinch=i},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(3),r=t(4),i=t(0),o=t(5),a=t(1),s=function(){function A(){}return Object.defineProperty(A,"HandledEvents",{get:function(){return A.SetupEventNames(),A.handledEvents},enumerable:!0,configurable:!0}),A.CreateNormalizedEvent=function(e,t,n){void 0===n&&(n=null),A.SetupEventNames();var r=new o.NormalizedEvent(e,t,n);return r.source=A.HandledEvents[r.type],r.inputType=A.GetEventInputType(r.type),r},A.GetEventInputType=function(e){A.SetupEventNames();var t=6;return i.MiscUtil.IsNullOrUndefined(A.startEvents[e])?i.MiscUtil.IsNullOrUndefined(A.moveEvents[e])?i.MiscUtil.IsNullOrUndefined(A.endEvents[e])?i.MiscUtil.IsNullOrUndefined(A.outEvents[e])?i.MiscUtil.IsNullOrUndefined(A.cancelEvents[e])?i.MiscUtil.IsNullOrUndefined(A.scrollEvents[e])||(t=4):t=5:t=3:t=2:t=1:t=0,t},A.Reset=function(){A.handledEvents={},A.startEvents={},A.moveEvents={},A.endEvents={},A.outEvents={},A.scrollEvents={},A.cancelEvents={},A.initialized=!1},A.SetupEventNames=function(){A.initialized||(A.startEvents.touchstart=2,A.moveEvents.touchmove=2,A.endEvents.touchend=2,A.cancelEvents.touchcancel=2,a.TsConfig.IsMobile()?r.BrowserSupport.IsTouch()||(A.startEvents.mousedown=1,A.moveEvents.mousemove=1,A.endEvents.mouseup=1,A.outEvents.mouseout=1):(A.startEvents.mousedown=1,A.moveEvents.mousemove=1,A.endEvents.mouseup=1,A.outEvents.mouseout=1,A.scrollEvents.scroll=1,A.endEvents.contextmenu=1),n.extend(A.handledEvents,A.startEvents,A.moveEvents,A.endEvents,A.outEvents,A.scrollEvents,A.cancelEvents),A.initialized=!0)},A.handledEvents={},A.startEvents={},A.moveEvents={},A.endEvents={},A.outEvents={},A.scrollEvents={},A.cancelEvents={},A.initialized=!1,A}();e.NormalizedEventBuilder=s},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n;!function(A){A.Simple="simple",A.Toggle="toggle",A.Range="range",A.Menu="menu"}(n||(n={})),e.SelectAction=n},function(A,e,t){var n=this&&this.__extends||function(){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var t in e)e.hasOwnProperty(t)&&(A[t]=e[t])};return function(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=t(12),i=t(3),o=t(35),a=t(36),s=t(0),u=t(20),l=function(A){function e(e){var t=A.call(this,e,null)||this;return t.eventHandler=null,t.element=null,t.spec=null,t.eventHandler=u.TableauEventHandlerForReact.CreateEmpty(),t}return n(e,A),e.createElement=function(A,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var a={TagName:A,HtmlAttributes:n,Spec:t,key:n.key};return s.MiscUtil.IsNullOrUndefined(n.ref)||(a.ref=n.ref,delete n.ref),s.MiscUtil.IsNullOrUndefined(r)||1!==r.length?o.createElement(e,a,r):o.createElement(e,a,r[0])},e.div=function(A,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return e.createElement("div",A,t,n)},e.span=function(A,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return e.createElement("span",A,t,n)},e.prototype.render=function(){return o.createElement(this.props.TagName,i.extend({},this.eventHandler.EventHandlingAttributesForReact,this.props.HtmlAttributes),this.props.children)},e.prototype.componentDidMount=function(){this.UpdateElementSpec()},e.prototype.componentDidUpdate=function(){this.UpdateElementSpec()},e.prototype.componentWillUnmount=function(){s.MiscUtil.IsNullOrUndefined(this.eventHandler)||this.eventHandler.dispose()},e.prototype.UpdateElementSpec=function(){if(!s.MiscUtil.IsNullOrUndefined(this.props.Spec)){var A=a.findDOMNode(this);A instanceof HTMLElement&&(this.element!==A||e.HasEventHandleSpecChanged(this.spec,this.props.Spec))&&(this.eventHandler.UpdateEventHandleSpec(A,this.props.Spec),this.element=A,this.spec=this.props.Spec)}},e.HasEventHandleSpecChanged=function(A,e){return!r.every(Object.keys(e),function(e){return-1!==Object.keys(A).indexOf(e)})},e}(o.Component);e.EventForwarder=l},function(A,e){A.exports=t},function(A,e){A.exports=n},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(0),r=function(){function A(A){this.callOnDispose=A}return A.prototype.dispose=function(){n.MiscUtil.IsNullOrUndefined(this.callOnDispose)||(this.callOnDispose(),this.callOnDispose=null)},A}();e.CallOnDispose=r;var i=function(){function A(){this.disposables=[]}return A.prototype.add=function(A){var e=this;"function"==typeof A?this.disposables.push(new r(A)):void 0!==A.dispose?this.disposables.push(A):n.MiscUtil.IsNullOrUndefined(A)||A.forEach(function(A){e.disposables.push(A)})},A.prototype.dispose=function(){this.disposables.forEach(function(A){A.dispose()}),this.disposables=[]},A}();e.DisposableHolder=i},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(3),r=t(21),i=function(){function A(){this.parentElement=null,this.Element=n(A.HtmlTemplate),this.parentElement=document.body,r.DragDropManager.registerDragGlass(this)}return A.prototype.dispose=function(){r.DragDropManager.unregisterDragGlass(this),this.Element.remove()},A.prototype.disableHitTests=function(){this.Element.css("pointer-events","none")},A.prototype.enableHitTests=function(){this.Element.css("pointer-events","auto")},A.prototype.show=function(){this.Element.parent()[0]!==this.parentElement&&this.Element.appendTo(this.parentElement),this.opaque&&this.Element.toggleClass("glass-fade-in-immediate",!0),this.Element.show()},Object.defineProperty(A.prototype,"opaque",{get:function(){return this.Element.hasClass(A.OpaqueGlassClass)},set:function(e){this.Element.toggleClass(A.ClearGlassClass,!e),this.Element.toggleClass(A.OpaqueGlassClass,e)},enumerable:!0,configurable:!0}),A.GlassClass="tab-glass",A.ClearGlassClass="clear-glass",A.OpaqueGlassClass="opaque-glass",A.HtmlTemplate="<div class='"+A.GlassClass+" "+A.ClearGlassClass+"'/>",A}();e.SimplifiedDragSafeGlass=i},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(0),r=t(2),i=function(){function A(){}return Object.defineProperty(A,"Selection",{get:function(){return r.TypeUtil.HasMethod(window,"getSelection")?window.getSelection():r.TypeUtil.HasMethod(document,"getSelection")?document.getSelection():null},enumerable:!0,configurable:!0}),A.ClearSelection=function(){var A=this.Selection;n.MiscUtil.IsNullOrUndefined(A)||(r.TypeUtil.HasMethod(A,"removeAllRanges")?A.removeAllRanges():r.TypeUtil.HasMethod(A,"empty")&&A.empty())},A.RequestAnimationFrame=function(e){return A.requestAnimationFrameFunc(e)},A.CancelAnimationFrame=function(e){n.MiscUtil.IsNullOrUndefined(e)||A.cancelAnimationFrameFunc(e)},A.SetDefaultRequestAnimationFrameImpl=function(){var e=0;A.requestAnimationFrameFunc=function(A){var t=Date.now(),n=Math.max(0,16-(t-e));return e=t+n,window.setTimeout(A,n)}},A.PolyFillRequestAnimationFrame=function(){var e=["ms","moz","webkit","o"],t=null,n=null;r.TypeUtil.HasMethod(window,"requestAnimationFrame")&&(t="requestAnimationFrame"),r.TypeUtil.HasMethod(window,"cancelAnimationFrame")&&(n="cancelAnimationFrame");for(var i=0;i<e.length&&(null===t||null===n);++i){var o=e[i],a=o+"RequestAnimationFrame";null===t&&r.TypeUtil.HasMethod(window,a)&&(t=a),null===n&&(a=o+"CancelAnimationFrame",r.TypeUtil.HasMethod(window,a)&&(n=a),a=o+"CancelRequestAnimationFrame",r.TypeUtil.HasMethod(window,a)&&(n=a))}null!==t?A.requestAnimationFrameFunc=function(A){return r.TypeUtil.GetField(window,t)(A)}:this.SetDefaultRequestAnimationFrameImpl(),A.cancelAnimationFrameFunc=null!==n?function(A){return r.TypeUtil.GetField(window,n)(A)}:window.clearTimeout},A.requestAnimationFrameFunc=void 0,A.cancelAnimationFrameFunc=void 0,A}();e.WindowHelper=i,i.PolyFillRequestAnimationFrame()},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(3),r=function(){function A(A,e,t){this.avatarDelta=e,this.avatarSource=t,this.Element=n("<span>"+A+"</span>")}return A.prototype.get_rootElement=function(){return this.Element},A.prototype.addToDom=function(A){A.append(this.Element)},A.prototype.dispose=function(){},A}();e.SimpleAvatar=r},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(9),r=t(10),i=t(0),o=t(2),a=function(){function A(A,e){this.shiftStateChanged=new n.Delegate,this.draggedObject=A,this.DragAvatar=e,this.isCopyDrag=!1,this.IsShiftDrag=!1,this.isRightDrag=!1,!i.MiscUtil.IsNullOrUndefined(A)&&o.TypeUtil.HasField(A,"dragInstanceType")&&(this.presmodelType=A.dragInstanceType)}return A.prototype.add_shiftStateChanged=function(A){this.shiftStateChanged.add(A)},A.prototype.remove_shiftStateChanged=function(A){this.shiftStateChanged.remove(A)},Object.defineProperty(A.prototype,"payload",{get:function(){return this.draggedObject},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"hasPayload",{get:function(){return!i.MiscUtil.IsNullOrUndefined(this.draggedObject)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isShiftDrag",{get:function(){return this.IsShiftDrag},set:function(A){this.IsShiftDrag!==A&&(this.IsShiftDrag=A,i.MiscUtil.IsNullOrUndefined(this.shiftStateChanged)||this.shiftStateChanged.invoke())},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"dragAvatar",{get:function(){return this.DragAvatar},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"dragType",{get:function(){return"dragdrop"},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"readyToDrop",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"defaultDropCursor",{get:function(){return r.EmbeddedCustomCursor.noOp},enumerable:!0,configurable:!0}),A.prototype.moveTo=function(A){},A.prototype.endDragAt=function(A){},A.prototype.cancelDrag=function(){},A.prototype.payloadEquals=function(A){if(this.draggedObject===A)return!0;if(Array.isArray(this.draggedObject)){var e=this.draggedObject;if(1===e.length&&e[0]===A)return!0}return!1},A.prototype.dropToNowhereAction=function(){},A.prototype.get_payload=function(){return this.payload},A.prototype.get_hasPayload=function(){return this.hasPayload},A.prototype.get_dragAvatar=function(){return this.dragAvatar},A.prototype.get_dragType=function(){return this.dragType},A.prototype.get_readyToDrop=function(){return this.readyToDrop},A.prototype.get_defaultDropCursor=function(){return this.defaultDropCursor},A}();e.DragInstance=a},function(A,e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=t(3),r=t(10),i=t(0),o=function(){function A(){}return A.prototype.get_feedbackType=function(){return i.MiscUtil.IsNullOrUndefined(this.onFeedbackType)?"dropfeedbackuponentry":this.onFeedbackType()},A.prototype.dragOver=function(A){return i.MiscUtil.IsNullOrUndefined(this.canAccept)||this.canAccept(A)?i.MiscUtil.IsNullOrUndefined(this.onDragOver)?this:this.onDragOver(A,this):null},A.prototype.dragExit=function(A){i.MiscUtil.IsNullOrUndefined(this.onDragExit)||this.onDragExit(A)},A.prototype.acceptDrop=function(A){return i.MiscUtil.IsNullOrUndefined(this.canAccept)||this.canAccept(A)?i.MiscUtil.IsNullOrUndefined(this.onAcceptDrop)?n.Deferred().resolve(!1):this.onAcceptDrop(A):n.Deferred().resolve(!1)},A.prototype.getDropTarget=function(A){return i.MiscUtil.IsNullOrUndefined(this.onGetDropTarget)?this:this.onGetDropTarget(A,this)},A.prototype.getDropCursor=function(A){return null!==this.onGetDropCursor?this.onGetDropCursor(A):r.EmbeddedCustomCursor.noOp},A}();e.DelegateDropTarget=o}])});;
/*! BEGIN SpiffUI */
(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffui');var b=ss.mkType(a,'spiff.$0',function(dD){ss.makeGenericType(y,[Object]).call(this,dD)},{get_className:function(){var dD=[ss.makeGenericType(y,[Object]).prototype.get_className.call(this)];dD.push('selectable');if(this.props.isSelected){dD.push('selected');if(this.props.isButtonTextMarkedAsExcluded){dD.push('excluded')}}else{dD.push('unselected');dD.push('tab-DesignTint')}return dD.join(' ')}});var c=ss.mkType(a,'spiff.$1',function(dD,dE){cQ.call(this,dD,dE)},{get_scrollingControl:function(){var dD=this.refs['iscroll-component'];if(ss.isValue(dD)&&ss.isValue(dD.iScroll)){return new h(dD.iScroll)}return null},componentDidMount:function(){if(!ss.staticEquals(this.props.onScrollingControlRefUpdated,null)){this.props.onScrollingControlRefUpdated(this.get_scrollingControl())}},componentWillUnmount:function(){if(!ss.staticEquals(this.props.onScrollingControlRefUpdated,null)){this.props.onScrollingControlRefUpdated(null)}},render:function(){var dD=c.$0(this.props);return React.createElement(bN,dD,this.props.children)}},{$1:function(){var dD=new bQ;dD.iScrollOptions={preventDefaultException:ss.mkdict(['tagName',new RegExp('^(INPUT|TEXTAREA|BUTTON|SELECT|A)$')]),disableMouse:true,interactiveScrollbars:true,mouseWheel:true};dD.ref='iscroll-component';return dD},$0:function(dD){var dE=c.$1();dE.augmentedScrollX=dD.augmentedScrollX;dE.augmentedScrollY=dD.augmentedScrollY;dE.extraCssClass=dD.extraCssClass;dE.iScrollOptions.scrollX=dD.scrollX;dE.iScrollOptions.scrollY=dD.scrollY;dE.scrollStopCallback=dD.onScrollStop;dE.scrollCallback=dD.onScroll;dE.alwaysShowScrollbarsIfScrollable=dD.alwaysShowScrollbarsIfScrollable;dE.startingY=ss.Nullable$1.neg(dD.startingY);dE.customStyle=dD.customStyle;if(dD.scrollbars){dE.iScrollOptions.scrollbars='custom'}return dE}});var d=ss.mkType(a,'spiff.$10',function(){this.$1=null;this.$0=null;dh.call(this,$("<div><div class='tabTabLabels'></div><div class='tabTabContentArea'></div></div>"));this.$1=this.getElementBySelector('.tabTabLabels');this.$0=this.getElementBySelector('.tabTabContentArea')},{get_root:function(){return this.domRoot},get_tabs:function(){return this.$1},get_contentArea:function(){return this.$0},createTabLabel:function(dD,dE){return new e}});var e=ss.mkType(a,'spiff.$11',function(){dh.call(this,$("<span class='tabTabLabel'></span>"))});var f=ss.mkType(a,'spiff.$12',function(dD){this.$0=null;this.$0=dD},{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0.element)},get_scrollViewSize:function(){return{w:tab.DoubleUtil.roundToInt(this.$0.element.outerWidth()),h:tab.DoubleUtil.roundToInt(this.$0.element.outerHeight())}},scrollToElement:function(dD,dE){var dF=dD.offsetTop;var dG=dF+dD.offsetHeight;var dH=this.$0.get_scrollerY();var dI=dH+tab.DoubleUtil.roundToInt(this.$0.element.height());if(dF<dH){var dJ=((dF<=dE)?0:dF);this.$0.scrollTo(this.$0.get_scrollerX(),dJ,0,null)}else if(dG>dI){this.$0.scrollTo(this.$0.get_scrollerX(),dH+dG-dI,0,null)}}});var g=ss.mkType(a,'spiff.$13',function(dD){this.$0=null;this.$0=dD},{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0)},get_scrollViewSize:function(){return{w:this.$0[0].offsetWidth,h:this.$0[0].offsetHeight}},scrollToElement:function(dD,dE){var dF=dD.offsetTop;var dG=dF+dD.offsetHeight;var dH=tab.DoubleUtil.roundToInt(this.$0.scrollTop());var dI=dH+this.$0[0].offsetHeight;if(dF<dH){var dJ=((dF<=dE)?0:dF);this.$0.scrollTop(dJ)}else if(dG>dI){this.$0.scrollTop(dH+dG-dI)}}});var h=ss.mkType(a,'spiff.$2',function(dD){this.$2=null;this.$2=dD},{get_x:function(){return this.$2.x},get_y:function(){return-this.$2.y},get_maxScrollX:function(){return this.$2.maxScrollX},get_maxScrollY:function(){return-this.$2.maxScrollY},get_canScroll:function(){return this.$2.hasHorizontalScroll||this.$2.hasVerticalScroll},scrollBy:function(dD,dE){this.$1(ss.mkdel(this,function(){this.$2.scrollBy(-dD,-dE,0,null)}))},scrollTo:function(dD,dE){this.$1(ss.mkdel(this,function(){this.$2.scrollTo(-dD,-dE,0,null)}))},$0:function(dD){this.$1(ss.mkdel(this,function(){this.$2.scrollToElement(dD)}))},scrollToElement:function(dD,dE,dF){this.$1(ss.mkdel(this,function(){this.$2.scrollToElement(dD,0,dE,dF)}))},destroy:function(){this.$2.destroy()},resetPosition:function(){this.$2.resetPosition()},refresh:function(){this.$2.refresh()},handleEvent:function(dD){this.$2.handleEvent(dD)},$1:function(dD){window.setTimeout(ss.mkdel(this,function(){this.$2.refresh();dD()}),0)}});var i=ss.mkType(a,'spiff.$3',function(dD,dE){this.$2=null;this.$0=true;this.$1=true;IScroll.call(this,dD,dE.iScrollOptions);this.$2=dD;this.$0=dE.augmentedScrollX;this.$1=dE.augmentedScrollY},{refresh:function(){IScroll.prototype.refresh.call(this);if(this.$0){var dD=$(this.$2).find('.'+'iScrollHorizontalScrollbar');dD.toggleClass('noScroll',!this.hasHorizontalScroll)}if(this.$1){var dE=$(this.$2).find('.'+'iScrollVerticalScrollbar');dE.toggleClass('noScroll',!this.hasVerticalScroll)}}});var j=ss.mkEnum(a,'spiff.$4',{$1:0,$0:1,$2:2});var k=ss.mkType(a,'spiff.$5',function(){},null,{$2:function(dD,dE){if(dD===9){k.$4[0]=dE}else if(dD===27){k.$4[1]=dE}else if(dD>=33&&dD<=40){k.$4[dD-31]=dE}},$0:function(){k.$4=new Array(10)},$1:function(){for(var dD=0;dD<k.$4.length;dD++){if(k.$4[dD]){return true}}return false}});var l=ss.mkType(a,'spiff.$6',function(){this.$9=null;this.$6=null;this.$4=null;this.$5=null;this.$0=null;this.$8=null;this.$1=false;this.$2=false;this.$3=false;dh.call(this,$("\n<div class='tabMenuItem' role='menuitem' data-test-id='tabMenuItem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName' data-test-id='tabMenuItemName'></span>\n  </div>\n</div>"))},{$7:function(){return this.$9||(this.$9=this.getElementBySelector('.tabMenuItemNameArea'))}});var m=ss.mkType(a,'spiff.$7',function(dD,dE){this.$7=new l;this.$7.$6=this.$7.getElementBySelector('.tabMenuItemName');this.$7.$6.text(dD);if(!dE){this.$7.domRoot.addClass('tabDisabled').attr('aria-disabled','true')}},{$2:function(dD,dE){switch(dD){case 1:{this.$7.$4=$("<div class='tabMenuItemIcon tabMenuItemCheckIcon'></div>");this.$7.domRoot.attr('role','menuitemcheckbox').attr('aria-checked','true').prepend(this.$7.$4);this.$7.$2=true;break}case 2:{this.$7.$4=$("<div class='tabMenuItemIcon tabMenuItemRadioIcon'></div>");this.$7.domRoot.attr('role','menuitemcheckbox').attr('aria-checked','true').prepend(this.$7.$4);this.$7.$2=true;break}default:{if(dD===0&&!ss.isNullOrEmptyString(dE)){this.$7.$4=$(ss.formatString("<div class='tabMenuItemIcon {0}'></div>",dE));this.$7.domRoot.prepend(this.$7.$4);this.$7.$2=true}break}}return this},$3:function(dD){if(ss.isNullOrEmptyString(dD)){return this}this.$7.$5=$(ss.formatString("<span class='tabMenuItemIconTwo {0}'></span>",dD));this.$7.$7().append(this.$7.$5);this.$7.$3=true;return this},$1:function(dD){if(ss.isNullOrEmptyString(dD)){return this}this.$7.$0=$("<div class='tabMenuItemDesc'></div>");this.$7.$0.text(dD);this.$7.$7().append(this.$7.$0);this.$7.$1=true;return this},$6:function(dD){if(ss.isNullOrEmptyString(dD)){return this}this.$7.domRoot.attr('title',dD);return this},$4:function(dD){if(ss.isNullOrUndefined(dD)){return this}this.$7.$8=$("<div class='tabMenuItemSubMenuIcon'></div>");this.$7.domRoot.append(this.$7.$8);return this},$5:function(dD){for(var dE=0;dE<dD.length;dE++){var dF=dD[dE];if(ss.isValue(dF)){this.$7.domRoot.addClass(dF)}}return this},$0:function(){var dD=this.$7;this.$7=null;return dD},dispose:function(){this.$7.dispose()}});var n=ss.mkType(a,'spiff.$8',function(){this.$3=null;this.$2=null;this.$4=null;dh.call(this,$("<div class='tab-editable-text-view'><div><div class='view-mode'><span class = 'text-span'></span></div><input class='edit-mode' type='text'/></div></div>"));this.$3=this.getElementBySelector('.view-mode');this.$2=this.getElementBySelector('.edit-mode');this.$4=this.$3.find('.text-span')},{get_domRootElement:function(){return this.domRoot},$0:function(){return this.$3},get_inputElement:function(){return this.$2},$1:function(){return this.$4}});var o=ss.mkType(a,'spiff.$9',function(){this.$0=null;dh.call(this,$("<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement')},{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0}});var p=global.spiff.AriaAttrName=ss.mkType(a,'spiff.AriaAttrName');var q=global.spiff.AriaRole=ss.mkType(a,'spiff.AriaRole');var r=global.spiff.ArrowDropdownButtonComponent=ss.mkType(a,'spiff.ArrowDropdownButtonComponent',function(dD){cG.call(this,dD)},{render:function(){return bf.div({className:'tab-ArrowDropdownButton'},bf.div({className:'arrow down'}))}});var s=global.spiff.BaseComponentViewModel$1=ss.mkType(a,'spiff.BaseComponentViewModel$1',function(dD){var dE=ss.registerGenericClassInstance(s,[dD],function(){this.$2$1=null;this.$2$2=ss.getDefaultValue(dD);w.call(this)},{add_propsUpdated:function(dF){this.$2$1=ss.delegateCombine(this.$2$1,dF)},remove_propsUpdated:function(dF){this.$2$1=ss.delegateRemove(this.$2$1,dF)},get_props:function(){return this.$2$2},set_Props:function(dF){this.$2$2=dF},updateProps$1:function(dF){this.set_Props(dF);this.raiseActionEvent(this.$2$1)},updateProps:function(){this.raiseActionEvent(this.$2$1)}},null,function(){return w},function(){return[tab.IViewModel,ss.IDisposable,ss.makeGenericType(bL,[dD])]});return dE});ss.initGenericClass(s,1);var t=global.spiff.BaseMenuView$1=ss.mkType(a,'spiff.BaseMenuView$1',function(dD){var dE=ss.registerGenericClassInstance(t,[dD],function(dF,dG){ss.makeGenericType(v,[dD]).call(this,dF,dG)},{positionMenu:function(dF,dG,dH){var dI=Math.min(document.documentElement.clientWidth,tab.WindowHelper.get_windowSelf().innerWidth)-5*2;dH.domRoot.css('max-width',dI+'px');var dJ=(tsConfig.is_mobile?tab.WindowHelper.get_windowSelf().innerWidth:document.documentElement.clientWidth);var dK=$(window).scrollLeft()+5;var dL=dK+dJ-2*5;var dM=dH.domRoot.outerHeight(false);var dN=Math.min(dH.domRoot.outerWidth(false),dI);var dO=dM-dH.domRoot.height();var dP=tab.PointUtil.fromPosition(tab.DomUtil.getPageOffset$1(dG.relativeDom));var dQ=dG.relativeDom.outerWidth(false);var dR=dG.relativeDom.outerHeight(false);if(ss.isValue(dG.cursorPosition)){dP=tab.PointUtil.fromPosition(dG.cursorPosition);dQ=0;dR=0}var dS,dT;var dU=dF.getVisibleRoom(dP);var dV=null;if(!dG.preferUp&&dU.roomBelow>=dM+dR){dT=dP.y+dR}else if(dU.roomAbove>dM){dT=dP.y-dM}else if(dU.roomBelow-dR>=dU.roomAbove){dT=dP.y+dR;dV=dU.roomBelow-dR-dO-5}else{dT=dP.y-dU.roomAbove+5;dV=dU.roomAbove-dO-5}if(dG.preferLeft){dS=dP.x+dQ-dN}else{dS=dP.x}dS=Math.max(dS,dK);if(dS+dN>dL){dS=dL-dN}dS=Math.max(5,dS);dT-=bq.centeringContainerOffset();var dW={};dW['top']=dT+'px';dW['left']=dS+'px';dW['max-height']=(ss.isValue(dV)?(dV+'px'):'');dH.domRoot.css(dW)}},null,function(){return ss.makeGenericType(v,[dD])},function(){return[tab.IWidget,ss.makeGenericType(tab.IView$1,[dD]),ss.IDisposable,tab.IAppendableView]});dE.$0=5;return dE});ss.initGenericClass(t,1);var u=global.spiff.BaseReactViewModel$1=ss.mkType(a,'spiff.BaseReactViewModel$1',function(dD){var dE=ss.registerGenericClassInstance(u,[dD],function(){this.$2=null;this.$2$1=null;w.call(this)},{add_propsUpdated:function(dF){this.$2$1=ss.delegateCombine(this.$2$1,dF)},remove_propsUpdated:function(dF){this.$2$1=ss.delegateRemove(this.$2$1,dF)},get_props:function(){if(ss.isNullOrUndefined(this.$2)){this.$1()}return this.$2},$0:function(dF){this.$2=dF},incrementProps:function(){var dF=this.createUpdatedProps();var dG=$.extend(false,new Object,this.get_props(),dF);this.$0(dG);if(ss.isNullOrUndefined(dF)){}else{this.raiseActionEvent(this.$2$1)}},addChildViewModel:function(dF){var dG=ss.mkdel(this,this.incrementProps);dF.add_propsUpdated(dG);return new tab.CallOnDispose(function(){dF.remove_propsUpdated(dG)})},$1:function(){this.$0(this.createInitialProps());this.incrementProps()},createInitialProps:function(){return new Object},createUpdatedProps:function(){return null}},null,function(){return w},function(){return[tab.IViewModel,ss.IDisposable,ss.makeGenericType(bL,[dD])]});return dE});ss.initGenericClass(u,1);var v=global.spiff.BaseView$1=ss.mkType(a,'spiff.BaseView$1',function(dD){var dE=ss.registerGenericClassInstance(v,[dD],function(dF,dG){this.$3=null;this.$4=ss.getDefaultValue(dD);dC.call(this,dG.domRoot);tab.Param.verifyValue(dF,'viewModel');tab.Param.verifyValue(dG,'t');this.$3=dG;this.$4=dF;this.$4.add_disposed(ss.mkdel(this,this.$2));this.$4.add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))},{get_template:function(){return this.$3},get_rootElement:function(){return this.element},get_viewModel:function(){return this.$4},dispose:function(){this.$4.remove_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged));this.$4.remove_disposed(ss.mkdel(this,this.$2));this.$3.dispose();dC.prototype.dispose.call(this)},onViewModelPropertyChanged:function(dF,dG){},$2:function(dF){this.dispose()}},null,function(){return dC},function(){return[tab.IWidget,ss.makeGenericType(tab.IView$1,[dD]),ss.IDisposable,tab.IAppendableView]});return dE});ss.initGenericClass(v,1);var w=global.spiff.BaseViewModel=ss.mkType(a,'spiff.BaseViewModel',function(){this.disposables=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null},{add_disposed:function(dD){this.$1$1=ss.delegateCombine(this.$1$1,dD)},remove_disposed:function(dD){this.$1$1=ss.delegateRemove(this.$1$1,dD)},add_propertyChanged:function(dD){this.$1$2=ss.delegateCombine(this.$1$2,dD)},remove_propertyChanged:function(dD){this.$1$2=ss.delegateRemove(this.$1$2,dD)},dispose:function(){if(ss.isValue(this.$1$1)){this.$1$1(this);this.$1$1=null}this.$1$2=null;this.disposables.dispose()},notifyPropertyChanged:function(dD){if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this,new tab.PropertyChangedEventArgs(dD))}},raiseEvent:function(dD,dE){if(ss.isValue(dD)){dD(this,dE||ss.EventArgs.Empty)}},raiseActionEvent$1:function(dD){return function(dE,dF){if(ss.isValue(dE)){dE(dF)}}},raiseActionEvent:function(dD){if(ss.isValue(dD)){dD()}}});var x=global.spiff.Button=ss.mkType(a,'spiff.Button',function(dD){this.$7='hover';this.$6='focus';this.$5='disabled';this.$4=null;this.$8=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;dC.call(this,dD);this.$2()},{add_press:function(dD){this.$2$1=ss.delegateCombine(this.$2$1,dD)},remove_press:function(dD){this.$2$1=ss.delegateRemove(this.$2$1,dD)},add_click:function(dD){this.$2$2=ss.delegateCombine(this.$2$2,dD)},remove_click:function(dD){this.$2$2=ss.delegateRemove(this.$2$2,dD)},add_shiftClick:function(dD){this.$2$3=ss.delegateCombine(this.$2$3,dD)},remove_shiftClick:function(dD){this.$2$3=ss.delegateRemove(this.$2$3,dD)},add_ctrlClick:function(dD){this.$2$4=ss.delegateCombine(this.$2$4,dD)},remove_ctrlClick:function(dD){this.$2$4=ss.delegateRemove(this.$2$4,dD)},add_hover:function(dD){this.$2$5=ss.delegateCombine(this.$2$5,dD)},remove_hover:function(dD){this.$2$5=ss.delegateRemove(this.$2$5,dD)},add_mouseEnter:function(dD){this.$2$6=ss.delegateCombine(this.$2$6,dD)},remove_mouseEnter:function(dD){this.$2$6=ss.delegateRemove(this.$2$6,dD)},add_mouseLeave:function(dD){this.$2$7=ss.delegateCombine(this.$2$7,dD)},remove_mouseLeave:function(dD){this.$2$7=ss.delegateRemove(this.$2$7,dD)},$9:function(dD){this.$2$8=ss.delegateCombine(this.$2$8,dD)},$a:function(dD){this.$2$8=ss.delegateRemove(this.$2$8,dD)},get_disabled:function(){return this.element.prop('disabled')},set_disabled:function(dD){this.element.prop('disabled',dD);this.element.toggleClass(this.$5,dD);if(dD){this.element.removeClass(this.$7)}},get_hoverClass:function(){return this.$7},set_hoverClass:function(dD){this.$7=dD},get_focusClass:function(){return this.$6},set_focusClass:function(dD){this.$6=dD},get_disabledClass:function(){return this.$5},set_disabledClass:function(dD){this.$5=dD},get_context:function(){return this.$4},set_context:function(dD){this.$4=dD},get_tableauClickHandler:function(){return this.$8},tabIndex:function(dD){this.element.attr('tabindex',dD.toString());return this},onClick:function(dD){var dE=ss.mkdel(this,function(){dD(this)});this.add_click(dE);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_click(dE)}))},onDoubleClick:function(dD){this.$8.onDoubleClick(ss.mkdel(this,this.handleDoubleClick));var dE=ss.mkdel(this,function(){dD(this)});this.$9(dE);return new tab.CallOnDispose(ss.mkdel(this,function(){this.$a(dE)}))},onShiftClick:function(dD){var dE=ss.mkdel(this,function(){dD(this)});this.add_shiftClick(dE);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_shiftClick(dE)}))},onMouseEnter:function(dD){var dE=ss.mkdel(this,function(){dD(this)});this.add_mouseEnter(dE);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseEnter(dE)}))},onMouseMove:function(dD){var dE=ss.mkdel(this,function(){dD(this)});this.add_hover(dE);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hover(dE)}))},onMouseLeave:function(dD){var dE=ss.mkdel(this,function(){dD(this)});this.add_mouseLeave(dE);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseLeave(dE)}))},$2:function(){this.element.focusin(ss.mkdel(this,this.handleFocusIn)).focusout(ss.mkdel(this,this.handleFocusOut)).keypress(ss.mkdel(this,this.$3));this.disposables.add$1(bl.bindWithDispose(this.element,'mouseenter',ss.mkdel(this,this.handleMouseEnter)));var dD=new EventUtils.EventHandleSpec;dD.hoverDelay=0;dD.SetHandler('mouseleave',ss.mkdel(this,this.handleMouseLeave));dD.SetHandler('hover',ss.mkdel(this,this.handleHover));this.$8=dg.targetAndConfig(this.element.get(0),dD).onClick(ss.mkdel(this,this.handleClick)).onPress(ss.mkdel(this,this.handlePress));this.disposables.add$1(this.$8)},raiseEvent:function(dD){if(ss.isValue(dD)){dD()}},$3:function(dD){if(dD.which===13){bl.stopEvent$2(dD);this.handleClick(null)}if(dD.which===32){bl.stopEvent$2(dD);this.handleClick(null)}},handleFocusOut:function(dD){this.element.removeClass(this.$6)},handleFocusIn:function(dD){this.element.addClass(this.$6)},handleHover:function(){if(!this.get_disabled()){this.element.addClass(this.$7)}this.raiseEvent(this.$2$5)},handleMouseEnter:function(dD){this.raiseEvent(this.$2$6)},handleMouseLeave:function(){this.element.removeClass(this.$7);this.raiseEvent(this.$2$7)},handleClick:function(dD){if(this.get_disabled()){return}if(ss.isValue(this.$2$3)&&ss.isValue(dD)&&dD.shiftKey){this.raiseEvent(this.$2$3)}else if(ss.isValue(this.$2$4)&&bl.isCtrlKey(dD)){this.raiseEvent(this.$2$4)}else{this.raiseEvent(this.$2$2)}},handleDoubleClick:function(dD){if(this.get_disabled()){return}this.raiseEvent(this.$2$8)},handlePress:function(){if(this.get_disabled()){return}this.raiseEvent(this.$2$1)}});var y=global.spiff.ButtonBaseComponent$1=ss.mkType(a,'spiff.ButtonBaseComponent$1',function(dD){var dE=ss.registerGenericClassInstance(y,[dD],function(dF){React.Component.call(this,dF)},{get_className:function(){var dF=['tab-UnifiedButton'];if(ss.isValue(this.props.customClassName)){dF.push(this.props.customClassName)}if(this.props.border){dF.push('bordered')}if(this.props.disabled){dF.push('disabled')}return dF.join(' ')},customContentBefore:function(){return(!ss.staticEquals(this.props.getCustomContentBefore,null)?this.props.getCustomContentBefore():null)},customContentAfter:function(){return(!ss.staticEquals(this.props.getCustomContentAfter,null)?this.props.getCustomContentAfter():null)},render:function(){var dF={className:this.get_className(),style:this.props.buttonStyle,title:(ss.isNullOrUndefined(this.props.tooltip)?this.props.label:this.props.tooltip),onKeyDown:ss.mkdel(this,function(dH){var dI=dH.keyCode;if(dI===32||dI===13){this.$1(EventUtils.NormalizedEvent.Create(dH,ReactDOM.findDOMNode(this),null));dH.preventDefault();dH.stopPropagation()}}),'data-test-id':this.props.testId,role:'button'};if(ss.isValue(this.props.tabIndex)){dF.tabIndex=ss.unbox(this.props.tabIndex)}if(ss.isValue(this.props.additionalRoles)&&this.props.additionalRoles.length>0){dF.role+=' '+this.props.additionalRoles.join(' ')}var dG=new EventUtils.EventHandleSpec;dG.tap=ss.mkdel(this,this.$1);dG.doubleTap=ss.mkdel(this,this.$0);return EventUtils.EventForwarder.div(dG,dF,this.customContentBefore(),bf.span({className:'tab-Text',style:this.props.labelStyle,key:'textContent'},this.props.label),this.customContentAfter())},$1:function(dF){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(dF)}},$0:function(dF){if(!this.props.disabled&&!ss.staticEquals(this.props.onDoubleTap,null)){this.props.onDoubleTap(dF)}}},null,function(){return React.Component});return dE});ss.initGenericClass(y,1);var z=global.spiff.ButtonComponent=ss.mkType(a,'spiff.ButtonComponent',function(dD){ss.makeGenericType(y,[Object]).call(this,dD)},null,{create:function(dD,dE,dF){return React.createElement(z,{customClassName:'tabStyledTextButton tabMediumStyledTextButton '+dD,label:dE,onTap:dF})}});var A=global.spiff.ButtonSize=ss.mkEnum(a,'spiff.ButtonSize',{medium:1,large:2});var B=global.spiff.ClearableTextInputView=ss.mkType(a,'spiff.ClearableTextInputView',function(dD,dE,dF,dG){this.$a=null;this.$b=null;this.$3$1=null;dj.call(this,dD,dE,dF,null,false);this.$a=dD;this.add_propertyChanged(ss.mkdel(this,this.$9));this.$b=new x(this.$a.get_searchBoxClear());this.$b.onClick(ss.mkdel(this,this.$8));this.$b.set_hoverTooltipText(dG);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_propertyChanged(ss.mkdel(this,this.$9));this.$b.dispose()})));this.$7()},{add_clearButtonClicked:function(dD){this.$3$1=ss.delegateCombine(this.$3$1,dD)},remove_clearButtonClicked:function(dD){this.$3$1=ss.delegateRemove(this.$3$1,dD)},get_dom:function(){return this.$a},get_searchBoxClearButton:function(){return this.$b},$7:function(){if(!ss.isNullOrEmptyString(this.get_text())){this.$a.get_searchBoxClear().show();this.$a.get_inputElementContainer().addClass('clearButtonOn')}else{this.$a.get_searchBoxClear().hide();this.$a.get_inputElementContainer().removeClass('clearButtonOn')}},$9:function(dD,dE){this.$7()},$8:function(dD){this.set_text('');if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},{newClearableTextInputView:function(dD,dE,dF){var dG=new C;return new B(dG,dD,dE,dF)}});var C=global.spiff.ClearableTextInputViewTemplate=ss.mkType(a,'spiff.ClearableTextInputViewTemplate',function(){this.$0=null;this.$1=null;this.$2=null;dh.call(this,$("<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'></span><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement');this.$1=this.getElementBySelector('.tabTextInputViewInputElementContainer');this.$2=this.getElementBySelector('.tabClearableTextBoxClearButton')},{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0},get_inputElementContainer:function(){return this.$1},get_searchBoxClear:function(){return this.$2}});var D=global.spiff.ClickBuster=ss.mkType(a,'spiff.ClickBuster',null,null,{add_clickBustDetected:function(dD){D.$1$1=ss.delegateCombine(D.$1$1,dD)},remove_clickBustDetected:function(dD){D.$1$1=ss.delegateRemove(D.$1$1,dD)},preventGhostClick:function(dD,dE,dF){if(!BrowserSupport.BrowserSupport.IsTouch()||!BrowserSupport.BrowserSupport.AddEventListener()){return}if(ss.isNullOrUndefined(D.$4)){D.$4=[];document.addEventListener('click',D.$0,true)}var dG=$(dF).closest('.'+D.suppressClickBustingClass).length>0;if(!dG){D.$4.push({item1:dD,item2:dE});window.setTimeout(D.$1,600)}},$1:function(){ss.removeAt(D.$4,0)},$0:function(dD){var dE=dD;var dF=dE.pageX;var dG=dE.pageY;for(var dH=0;dH<D.$4.length;dH++){var dI=D.$4[dH];if(Math.abs(dI.item1-dF)<25&&Math.abs(dI.item2-dG)<25){dD.stopPropagation();dD.preventDefault();if(ss.isValue(D.$1$1)){D.$1$1(dD)}}}}});var E=global.spiff.ClickHandler=ss.mkType(a,'spiff.ClickHandler',function(){this.$b=new tab.DisposableHolder;this.$e=0;this.$f=0;this.$g=null;this.$c='clickHandler'+E.$3++;this.$d=null;this.$a=null;this.$1$1=null;this.$1$2=null;this.$1$3=null},{$j:function(dD){this.$1$1=ss.delegateCombine(this.$1$1,dD)},$k:function(dD){this.$1$1=ss.delegateRemove(this.$1$1,dD)},$h:function(dD){this.$1$2=ss.delegateCombine(this.$1$2,dD)},$i:function(dD){this.$1$2=ss.delegateRemove(this.$1$2,dD)},$l:function(dD){this.$1$3=ss.delegateCombine(this.$1$3,dD)},$m:function(dD){this.$1$3=ss.delegateRemove(this.$1$3,dD)},get_target:function(){return this.$g},dispose:function(){this.$8();this.$b.dispose();if(!ss.isValue(this.$g)){return}this.$g.off('.'+this.$c);this.$g=null},onPress:function(dD){this.$j(dD);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k(dD)})));return this},onClick:function(dD){this.$h(dD);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i(dD)})));return this},onRightClick:function(dD){this.$l(dD);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$m(dD)})));return this},setTarget:function(dD){this.$g=dD;dD.on(this.$0('touchstart'),ss.mkdel(this,this.$7));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){dD.off(this.$0('touchstart'))})));if(tsConfig.is_mobile){if(!BrowserSupport.BrowserSupport.IsTouch()){dD.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){dD.off(this.$0('mousedown')).off(this.$0('click'))})))}}else{dD.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2)).on(this.$0('contextmenu'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){dD.off(this.$0('mousedown')).off(this.$0('click')).off(this.$0('contextmenu'))})))}return this},$0:function(dD){return dD+'.'+this.$c},$8:function(){if(ss.isValue(this.$g)){this.$g.off(this.$0('touchend'));this.$g.off(this.$0('touchcancel'))}if(ss.isValue(this.$d)){document.body.removeEventListener('touchmove'.toString(),this.$d,true);this.$d=null}this.$a=tab.MiscUtil.clearTimeout(this.$a)},$3:function(dD){this.$e=dD.pageX;this.$f=dD.pageY;this.$9();if(ss.isValue(this.$1$1)){this.$1$1(dD)}},$1:function(dD){var dE=(ss.isValue(dD)?dD['originalEvent']:null);if(ss.isValue(dE)&&ss.isValue(dE.touches)&&ss.isValue(dE.touches[0])){return dE.touches[0]}return null},$7:function(dD){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(dD.target)){dD.preventDefault()}else{return}}var dE=this.$1(dD);var dF=0;var dG=0;if(ss.isValue(dE)){dF=ss.coalesce(dE.pageX,0);dG=ss.coalesce(dE.pageY,0)}this.$g.on(this.$0('touchend'),ss.mkdel(this,this.$5));this.$g.on(this.$0('touchcancel'),ss.mkdel(this,this.$4));this.$9();if(BrowserSupport.BrowserSupport.AddEventListener()){this.$d=ss.thisFix(ss.mkdel(this,this.$6));document.body.addEventListener('touchmove'.toString(),this.$d,true)}this.$e=dF;this.$f=dG;if(ss.isValue(this.$1$1)){this.$1$1(dD)}},$5:function(dD){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(dD.target)){dD.preventDefault()}else{return}}this.$2(dD)},$9:function(){this.$a=tab.MiscUtil.clearTimeout(this.$a);this.$a=window.setTimeout(ss.mkdel(this,this.$8),300)},$6:function(dD,dE){var dF=dE;if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(dD)){dE.preventDefault()}else{return}}var dG=dF.touches[0].pageX;var dH=dF.touches[0].pageY;if(Math.abs(dG-this.$e)>10||Math.abs(dH-this.$f)>10){this.$8()}},$4:function(dD){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(dD.target)){dD.preventDefault()}else{return}}this.$8()},$2:function(dD){dD.stopPropagation();this.$8();if(dD.type==='contextmenu'){dD.preventDefault();if(ss.isValue(this.$1$3)){this.$1$3(dD)}}else{if(ss.isValue(this.$1$2)){this.$1$2(dD)}if(dD.type==='touchend'){D.preventGhostClick(this.$e,this.$f,dD.target)}}}},{targetAndClick:function(dD,dE){return(new E).setTarget(dD).onClick(dE)},targetAndRightClick:function(dD,dE){return(new E).setTarget(dD).onRightClick(dE)},targetAndPress:function(dD,dE){return(new E).setTarget(dD).onPress(dE)}});var F=global.spiff.ComboBoxComponent=ss.mkType(a,'spiff.ComboBoxComponent',function(){React.Component.call(this);var dD=new M;dD.isSelecting=false;this.state=dD},{render:function(){var dD=$.extend(new Object,this.props);dD.onSelectionChanged=ss.mkdel(this,function(dH){this.onSelect(dH,this.props.onSelectionChanged)});var dE=React.createElement(cT,dD);var dF=new Object;dF.styleClass=this.props.styleClass;dF.isSelecting=this.state.isSelecting;dF.getDesiredHeight=cT.getDesiredHeight;dF.getMinimumWidth=cT.getMinimumWidth;dF.onSelectorToggled=ss.mkdel(this,this.$1);dF.onFocusLost=ss.mkdel(this,this.$0);dF.tabIndex=-1;dF.renderButton=ss.mkdel(this,function(){return React.createElement(di,{styleClass:this.props.buttonStyleClass,selectionIconClass:this.props.selectedIconClass,selectionText:this.props.selectedText})});var dG=React.createElement(dc,dF,dE);return dG},onSelect:function(dD,dE){var dF=new M;dF.isSelecting=false;this.setState(dF);if(!ss.staticEquals(dE,null)){dE(dD)}},$1:function(){if(!this.props.enabled){var dD=new M;dD.isSelecting=false;this.setState(dD)}else{var dE=new M;dE.isSelecting=!this.state.isSelecting;this.setState(dE)}},$0:function(){var dD=new M;dD.isSelecting=false;this.setState(dD)}},{createCustomIconElements:function(dD){if(ss.isNullOrEmptyString(dD)){return null}return[bf.div({className:'tab-Icon'+' '+dD})]}});var G=global.spiff.ComboBoxDropdownMenuTheme=ss.mkType(a,'spiff.ComboBoxDropdownMenuTheme',function(dD){cu.call(this);this.itemClass='tabMenuItemComboDropdownTheme tab-ctrl-formatted-text';this.menuClass='tabMenuComboDropdownTheme tab-ctrl-formatted-widget '+dD});var H=global.spiff.ComboBoxItem=ss.mkType(a,'spiff.ComboBoxItem',function(dD,dE,dF,dG,dH){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.set_iconClass(dD);this.set_name(dE);this.set_data(dF);this.set_description(dG);this.set_title(dH)},{get_iconClass:function(){return this.$1$1},set_iconClass:function(dD){this.$1$1=dD},get_name:function(){return this.$1$2},set_name:function(dD){this.$1$2=dD},get_data:function(){return this.$1$3},set_data:function(dD){this.$1$3=dD},get_description:function(){return this.$1$4},set_description:function(dD){this.$1$4=dD},get_title:function(){return this.$1$5},set_title:function(dD){this.$1$5=dD},asMenuItem:function(){return(new cn).data(this).name(this.get_name()).iconClass(this.get_iconClass()).enabled(true).description(this.get_description()).title(this.get_title()).build()}});var I=global.spiff.ComboBoxMenuTheme=ss.mkType(a,'spiff.ComboBoxMenuTheme',function(){cu.call(this);this.itemClass='tabMenuItemComboTheme';this.menuClass='tabMenuComboTheme'});var J=global.spiff.ComboBoxMenuThemeChoice=ss.mkEnum(a,'spiff.ComboBoxMenuThemeChoice',{standard:0,dropdown:1,unification:2});var K=global.spiff.ComboBoxProps=ss.mkType(a,'spiff.ComboBoxProps',function(){this.styleClass=null;this.buttonStyleClass=null;this.selectedText=null;this.selectedIconClass=null;this.hasTooltip=false;this.enabled=false;Object.call(this)});var L=global.spiff.ComboBoxSizing=ss.mkEnum(a,'spiff.ComboBoxSizing',{standard:0,autoFit:1});var M=global.spiff.ComboBoxState=ss.mkType(a,'spiff.ComboBoxState',function(){this.isSelecting=false});var N=global.spiff.ComboBoxTemplate=ss.mkType(a,'spiff.ComboBoxTemplate',function(){this.icon=null;this.name=null;this.button=null;dh.call(this,$("<span role='button' aria-live='off' aria-expanded='false' aria-haspopup='true' aria-atomic='true' aria-relevant='text' class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover' tabindex='0'><span class='tabComboBoxIcon'></span><div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize' aria-hidden='true'><span class='tabComboBoxName'></span></div><div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'></span></div></span>"));this.icon=this.getElementBySelector('.tabComboBoxIcon');this.name=this.getElementBySelector('.tabComboBoxName');this.button=this.getElementBySelector('.tabComboBoxButtonHolder')});var O=global.spiff.ComboBoxTheme=ss.mkEnum(a,'spiff.ComboBoxTheme',{standard:0,compact:1,unification:2,lineAndArrow:3});var P=global.spiff.ComboBoxView=ss.mkType(a,'spiff.ComboBoxView',function(dD,dE){this.clickHandler=null;this.$f=null;this.$e=null;ss.makeGenericType(v,[Q]).call(this,dD,dE);this.$f=dD;this.$e=dE;this.$f.add_selectedItemChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_selectedItemChanged(ss.mkdel(this,this.$c))})));this.$f.add_itemsChanged(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_itemsChanged(ss.mkdel(this,this.$8))})));this.$f.add_enabledChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_enabledChanged(ss.mkdel(this,this.$5))})));this.$f.add_isSelectionInvalidChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_isSelectionInvalidChanged(ss.mkdel(this,this.$7))})));this.clickHandler=dg.targetAndClick(this.$e.domRoot[0],ss.mkdel(this,this.$a));this.clickHandler.set_stopPropagationOnEvent(false);this.disposables.add$1(this.clickHandler);this.$e.domRoot.keydown(ss.mkdel(this,this.$b));this.$e.domRoot.focus(ss.mkdel(this,this.$6));this.$e.domRoot.blur(ss.mkdel(this,this.$6));this.$e.domRoot.addClass(P.classesForTheme[this.$f.get_theme()]);this.$f.add_menuHidden(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_menuHidden(ss.mkdel(this,this.$9))})));this.$c(this.$f.get_selectedItem());this.$5();this.$7()},{$9:function(){this.$e.icon.removeClass('tabComboBoxNoIconPressed');this.$e.domRoot.removeClass(P.pressedClass);this.$e.domRoot.removeAttr('aria-controls');this.$e.domRoot.attr('aria-expanded','false');this.$e.domRoot.focus()},$a:function(){if(!this.$f.get_enabled()){return}this.$e.domRoot.addClass(P.pressedClass);if(this.$f.get_showDropdownIcon()){this.$e.icon.addClass('tabComboBoxNoIconPressed')}this.$e.domRoot.attr('aria-controls',this.get_viewModel().get_menuId());this.$e.domRoot.attr('aria-expanded','true');this.$f.buildAndShowMenu(this.$e.domRoot)},$6:function(dD){if(ss.isValue(this.get_viewModel().get_selectedItem())){this.$d(this.get_viewModel().get_selectedItem().get_name())}this.$e.domRoot.attr('aria-live',((dD.type==='focus')?'assertive':'off'))},$b:function(dD){if(!this.$f.get_menu().get_visible()&&dD.which===32){dD.preventDefault();dD.stopPropagation();this.$a();return}var dE=0;switch(dD.which){case 40:{dE=1;break}case 38:{dE=-1;break}default:{return}}dD.preventDefault();dD.stopPropagation();var dF=ss.indexOf(this.$f.get_items(),this.$f.get_selectedItem());if(dF<0){return}dF+=dE;if(dF>=0&&dF<this.$f.get_items().length){this.$f.set_selectedItem(this.$f.get_items()[dF])}},$c:function(dD){if(ss.isInstanceOfType(dD,U)){return}this.$e.icon.remove();if(ss.isNullOrUndefined(dD)){var dE=(ss.isValue(this.$f.get_summary())?this.$f.get_summary():'&nbsp;');this.$e.name.html(dE);return}this.$e.icon=$('<span></span>').addClass('tabComboBoxIcon').addClass(dD.get_iconClass()).appendTo(this.$e.domRoot);if(!ss.isValue(dD.get_iconClass())){this.$e.domRoot.addClass(P.noIconClass)}var dF=dD.get_name();if(!ss.referenceEquals(this.$e.name.text(),dF)){this.$e.name.text(dF);this.$d(dF)}if(!ss.isNullOrEmptyString(dD.get_title())){this.$e.domRoot.attr('title',dD.get_title())}},$d:function(dD){this.$e.domRoot.attr('aria-label',this.get_viewModel().get_labelText()+' '+dD)},$8:function(){this.$c(this.$f.get_selectedItem())},$5:function(){this.$e.domRoot.toggleClass(P.disabledClass,!this.$f.get_enabled())},$7:function(){this.$e.domRoot.toggleClass('invalid',this.$f.get_isSelectionInvalid())},onAddedToDom:function(){dC.prototype.onAddedToDom.call(this);if(this.$f.get_sizing()===1){var dD=tab.ObjectRegistry.newView(cs).call(null,[this.$f.get_menu()]);var dE=$('<div></div>').css({visibility:'hidden',position:'absolute',left:0+'px',top:0+'px'});$(document.body).append(dE);dD.addToDom(dE);this.$e.domRoot.css({width:dD.element.width()+'px'});dD.dispose();dE.remove()}}});var Q=global.spiff.ComboBoxViewModel=ss.mkType(a,'spiff.ComboBoxViewModel',function(){this.$k=[];this.$n=null;this.$g=null;this.$q=0;this.$m=0;this.$p=0;this.$o=true;this.$h=true;this.$j=false;this.$l='';this.$f=null;this.$i=true;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.$3$6=null;this.$3$7=null;this.$3$8=null;this.$3$9=false;this.menuItems=null;this.selectedMenuItem=null;this.generateProps=false;this.$3$10=false;this.$3$11=null;ss.makeGenericType(u,[K]).call(this);this.set_showDropdownIcon(false);this.generateProps=false;this.set_menuId(tab.DomUtil.generateUniqueId())},{add_itemsChanged:function(dD){this.$3$1=ss.delegateCombine(this.$3$1,dD)},remove_itemsChanged:function(dD){this.$3$1=ss.delegateRemove(this.$3$1,dD)},add_selectedItemChanged:function(dD){this.$3$2=ss.delegateCombine(this.$3$2,dD)},remove_selectedItemChanged:function(dD){this.$3$2=ss.delegateRemove(this.$3$2,dD)},add_menuHidden:function(dD){this.$3$3=ss.delegateCombine(this.$3$3,dD)},remove_menuHidden:function(dD){this.$3$3=ss.delegateRemove(this.$3$3,dD)},add_enabledChanged:function(dD){this.$3$4=ss.delegateCombine(this.$3$4,dD)},remove_enabledChanged:function(dD){this.$3$4=ss.delegateRemove(this.$3$4,dD)},add_isSelectionInvalidChanged:function(dD){this.$3$5=ss.delegateCombine(this.$3$5,dD)},remove_isSelectionInvalidChanged:function(dD){this.$3$5=ss.delegateRemove(this.$3$5,dD)},get_hasTooltip:function(){return this.$i},set_hasTooltip:function(dD){this.$i=dD},get_theme:function(){return this.$q},set_theme:function(dD){this.$q=dD},get_menu:function(){if(ss.isNullOrUndefined(this.$g)){this.$6()}return this.$g},get_menuId:function(){return this.$3$6},set_menuId:function(dD){this.$3$6=dD},get_menuTheme:function(){return this.$m},set_menuTheme:function(dD){this.$m=dD},get_sizing:function(){return this.$p},set_sizing:function(dD){this.$p=dD},get_menuStyleClass:function(){return this.$l},set_menuStyleClass:function(dD){this.$l=dD},get_labelText:function(){return this.$3$7},set_labelText:function(dD){this.$3$7=dD},get_items:function(){return this.$k},get_selectedItem:function(){return this.$n},set_selectedItem:function(dD){if(ss.referenceEquals(this.$n,dD)&&!this.get_allowSetToSameValue()){return}this.$n=dD;this.$c();this.raiseActionEvent$1(H).call(this,this.$3$2,this.$n)},get_summary:function(){return this.$3$8},set_summary:function(dD){this.$3$8=dD},get_showSelectedItem:function(){return this.$o},set_showSelectedItem:function(dD){this.$o=dD},get_showDropdownIcon:function(){return this.$3$9},set_showDropdownIcon:function(dD){this.$3$9=dD},get_enabled:function(){return this.$h},set_enabled:function(dD){if(this.$h===dD){return}this.$h=dD;this.$c();this.raiseActionEvent(this.$3$4)},get_isSelectionInvalid:function(){return this.$j},set_isSelectionInvalid:function(dD){if(this.$j===dD){return}this.$j=dD;this.raiseActionEvent(this.$3$5)},get_additionalMenuClass:function(){return this.$f},set_additionalMenuClass:function(dD){this.$f=dD},get_allowSetToSameValue:function(){return this.$3$10},set_allowSetToSameValue:function(dD){this.$3$10=dD},get_selectedText:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_name():'')},get_selectedIconClass:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_iconClass():'')},$d:function(){var dD=this.get_items();for(var dE=0;dE<dD.length;dE++){var dF=dD[dE];if(!tab.MiscUtil.isNullOrEmpty$1(dF.get_iconClass())){return true}}return false},get_dropdownStyleClass:function(){return this.$3$11},set_dropdownStyleClass:function(dD){this.$3$11=dD},$e:function(){var dD='tab-unification-line-arrow-dropdown';if(!this.get_enabled()){dD+=' '+'disabled'}if(this.$d()){dD+=' '+'hasIcons'}return dD},dispose:function(){if(ss.isValue(this.$g)){this.$g.dispose()}w.prototype.dispose.call(this);this.$g=null},setItems:function(dD){ss.clear(this.$k);var dE=ss.getEnumerator(dD);try{while(dE.moveNext()){var dF=dE.current();this.$k.push(dF)}}finally{dE.dispose()}this.$9();this.$c()},setItemsWithInitialSelection:function(dD,dE){ss.clear(this.$k);var dF=ss.getEnumerator(dD);try{while(dF.moveNext()){var dG=dF.current();this.$k.push(dG)}}finally{dF.dispose()}this.$n=dE;this.$9();this.$c()},addItem:function(dD){this.$k.push(dD);this.$9();this.$c()},clearItems:function(){ss.clear(this.$k);this.$9();this.set_selectedItem(null);this.$c()},$b:function(){return this.$k.length>0&&(this.$h||this.get_sizing()===1)},updateCurrentMenu:function(){if(!this.$b()||!ss.isValue(this.$g)){return}this.$3();this.$g.set_menu(new cl(this.menuItems));this.$g.set_selectedItem(this.selectedMenuItem)},$6:function(){if(!this.$b()){return}this.$3();this.$g=ct.createForMenu(new cl(this.menuItems),ss.mkdel(this,this.$7),ss.mkdel(this,this.$a),null);this.$g.set_ariaLabel(this.get_labelText());this.$g.set_id(this.get_menuId());this.$g.set_theme(this.$4());this.$g.set_selectedItem(this.selectedMenuItem);this.$g.set_focusedItem(this.selectedMenuItem)},buildAndShowMenu:function(dD){if(!this.$b()){return}this.$6();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$g.remove_hidden(ss.mkdel(this,this.$a))})));var dE=new cZ(dD,true);dE.additionalMenuClass='tabComboBoxMenu';var dF=dE;if(ss.isValue(this.$f)){dF.additionalMenuClass+=' '+this.$f}this.$g.show(dF)},$c:function(){if(this.generateProps){this.incrementProps()}},$3:function(){var dD=[];var dE=null;if(ss.isValue(this.$k)){for(var dF=0;dF<this.$k.length;dF++){var dG=this.$k[dF];if(this.$o||!ss.referenceEquals(dG,this.$n)){var dH=dG.asMenuItem();if(ss.referenceEquals(dG,this.$n)){dE=dH}dD.push(dH)}}}this.menuItems=dD;this.selectedMenuItem=dE},$4:function(){switch(this.$m){case 0:{return new I}case 1:{return new G(this.get_menuStyleClass())}case 2:{return new dx}default:{return new I}}},$a:function(){if(!ss.staticEquals(this.$3$3,null)){this.$3$3()}},$9:function(){if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}},$7:function(dD){var dE=dD.data;this.set_selectedItem(dE)},$8:function(dD){this.set_selectedItem(dD.mapSelected(H).call(dD,ss.mkdel(this,function(dE){return this.get_items()[dE]}))[0])},$5:function(dD){return F.createCustomIconElements(dD.get_iconClass())},createUpdatedProps:function(){if(!this.generateProps){return null}var dD=new K;dD.items=_.map(this.get_items(),ss.mkdel(this,function(dE){var dF=new cU;dF.label=dE.get_name();dF.getCustomContentBefore=ss.mkdel(this,function(){return this.$5(dE)});dF.tooltip=(!this.get_props().hasTooltip?'':null);return dF}));dD.selection=da.buildSingleSelectGroupSelection$1(H).call(null,Array.prototype.slice.call(this.get_items()),ss.mkdel(this,function(dE){return ss.equals(dE,this.get_selectedItem())}));dD.selectedText=this.get_selectedText();dD.selectedIconClass=this.get_selectedIconClass();dD.onSelectionChanged=ss.mkdel(this,this.$8);dD.hasTooltip=this.get_hasTooltip();dD.hasAnyIcons=this.$d();dD.buttonStyleClass=this.$e();dD.styleClass=this.get_dropdownStyleClass();dD.enabled=this.get_enabled();return dD}},{newUnificationComboBoxViewModel:function(){var dD=new Q;dD.set_theme(2);dD.set_menuTheme(2);return dD},newLineAndArrowComboBoxViewModel:function(){var dD=new Q;dD.set_theme(3);dD.set_menuTheme(2);return dD},newReactLineAndArrowComboBoxViewModel:function(){var dD=new Q;dD.set_theme(3);dD.set_menuTheme(2);dD.generateProps=true;return dD}});var R=global.spiff.CompositeSearchWidget=ss.mkType(a,'spiff.CompositeSearchWidget',function(dD){this.compositeSearchWidgetTemplate=null;this.$8=null;this.initialSearchTextInfo=null;this.$7=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;dC.call(this,dD.get_domRootElement());this.compositeSearchWidgetTemplate=dD;this.compositeSearchWidgetTemplate.get_clearButton().add_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().add_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().add_propertyChanged(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.compositeSearchWidgetTemplate.get_clearButton().remove_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().remove_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().remove_propertyChanged(ss.mkdel(this,this.$3));this.compositeSearchWidgetTemplate.disposeTemplate()})));this.disposables.add$1(bl.bindWithDispose(this.get_textInputView().get_inputElement(),'mousedown',ss.mkdel(this,this.$4)));this.disposables.add$1(bl.bindWithDispose(this.get_textInputView().get_inputElement(),'touchstart',ss.mkdel(this,this.$4)));this.get_textInputView().get_inputElement().attr('autocomplete','off');this.get_textInputView().get_inputElement().attr('autocorrect','off');this.get_textInputView().get_inputElement().attr('autocapitalize','off');this.get_textInputView().get_inputElement().attr('spellcheck','false')},{add_inputTextChanged:function(dD){this.$2$1=ss.delegateCombine(this.$2$1,dD)},remove_inputTextChanged:function(dD){this.$2$1=ss.delegateRemove(this.$2$1,dD)},add_listItemClicked:function(dD){this.$2$2=ss.delegateCombine(this.$2$2,dD)},remove_listItemClicked:function(dD){this.$2$2=ss.delegateRemove(this.$2$2,dD)},add_listItemMouseEnter:function(dD){this.$2$3=ss.delegateCombine(this.$2$3,dD)},remove_listItemMouseEnter:function(dD){this.$2$3=ss.delegateRemove(this.$2$3,dD)},add_listItemMouseMove:function(dD){this.$2$4=ss.delegateCombine(this.$2$4,dD)},remove_listItemMouseMove:function(dD){this.$2$4=ss.delegateRemove(this.$2$4,dD)},add_textInputElementClicked:function(dD){this.$2$5=ss.delegateCombine(this.$2$5,dD)},remove_textInputElementClicked:function(dD){this.$2$5=ss.delegateRemove(this.$2$5,dD)},add_textInputClearButtonClicked:function(dD){this.$2$6=ss.delegateCombine(this.$2$6,dD)},remove_textInputClearButtonClicked:function(dD){this.$2$6=ss.delegateRemove(this.$2$6,dD)},add_textInputSearchButtonClicked:function(dD){this.$2$7=ss.delegateCombine(this.$2$7,dD)},remove_textInputSearchButtonClicked:function(dD){this.$2$7=ss.delegateRemove(this.$2$7,dD)},get_template:function(){return this.compositeSearchWidgetTemplate.get_template()},get_domRoot:function(){return this.compositeSearchWidgetTemplate.get_domRootElement()},get_textInputView:function(){return this.compositeSearchWidgetTemplate.get_textInputView()},get_searchButton:function(){return this.compositeSearchWidgetTemplate.get_searchButton()},get_clearButton:function(){return this.compositeSearchWidgetTemplate.get_clearButton()},get_listViewModel:function(){return this.$2$8},set_listViewModel:function(dD){this.$2$8=dD},setPlaceholderText:function(dD){this.get_textInputView().get_inputElement().attr('placeholder',dD)},showList:function(dD,dE,dF){this.removeList();if(dD.length>0){this.set_listViewModel(new cE(dD,dE,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(dH){this.$2$3(dH)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(dH){this.$2$4(dH)}))}var dG=new cD(this.get_listViewModel());dG.addClass('tabCompositeSearchWidgetList');dG.addToDom(dF||this.get_domRoot())}},showListInsideUberPopup:function(dD,dE,dF,dG,dH){if(dD.length<=0){this.removeList();return}this.set_listViewModel(new cE(dD,dE,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(dL){this.$2$3(dL)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(dL){this.$2$4(dL)}))}if(ss.isNullOrUndefined(this.$8)){this.$8=du.createForContent$1(this.get_listViewModel(),dF,null,true);this.$8.set_resizeContent(ss.mkdel(this,this.$5));var dI=(ss.isValue(dG)?['tabCompositeSearchWidgetList',dG]:['tabCompositeSearchWidgetList']);var dJ=this.$8;var dK=new dq;dK.additionalClassNames=dI;dK.globalTouchWhitelist=[this.get_textInputView().element.get(0),this.get_searchButton().element.get(0),this.get_clearButton().element.get(0)];dK.horizontalAttach=1;dK.limitPopupHeight=true;dK.maxPopupHeight=dH;dK.popupMode=1;dK.theme=1;dK.focusOnShown=false;dJ.options=dK;this.$8.add_hidden(ss.mkdel(this,function(){this.$8=null;this.handleRemoveList()}));this.$8.show()}else{this.$8.set_content(this.get_listViewModel())}},$5:function(dD,dE){var dF=dD.children('.tab-list').eq(0);var dG=dF.prop('scrollHeight');if(dG<1){dE.show();dG=dF.prop('scrollHeight');dE.hide()}var dH=this.$8.get_relativeElement().outerWidth();dF.css('min-width',dH+'px').css('max-width',Math.max(dH,400)+'px');var dI=this.$8.options;if(ss.isValue(dI.maxPopupHeight)&&dG>ss.unbox(dI.maxPopupHeight)){dF.css('overflow-y','scroll')}},removeList:function(){if(ss.isValue(this.$8)){this.$8.hide(false)}else{this.handleRemoveList()}},handleRemoveList:function(){if(ss.isValue(this.get_listViewModel())){this.get_listViewModel().dispose();this.set_listViewModel(null)}},$2:function(){this.get_textInputView().get_inputElement().focus();this.get_textInputView().set_text('');if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}},$6:function(){if(!ss.staticEquals(this.$2$7,null)){this.$2$7()}},setSearchText:function(dD){this.$7=true;this.get_textInputView().set_text(dD);this.$7=false},$3:function(dD,dE){if(!ss.staticEquals(this.$2$1,null)&&!this.$7){this.$2$1(this.get_textInputView().get_text())}},$4:function(dD){this.get_textInputView().get_inputElement().get(0).focus();if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}}});var S=global.spiff.CompositeSearchWidgetInitialSearchTextInfo=ss.mkType(a,'spiff.CompositeSearchWidgetInitialSearchTextInfo',function(){this.initialSearchText='';this.initialSearchTextDomClassName=''});var T=global.spiff.CompositeSearchWidgetTemplate=ss.mkType(a,'spiff.CompositeSearchWidgetTemplate',function(){this.searchTextInputView=null;this.$1=null;this.$0=null;dh.call(this,$("<div class='tabCompositeSearchWidget'></div>"));this.searchTextInputView=dj.newTextInputView('','',null,false);this.get_textInputView().addToDom(this.domRoot);this.$1=bY.newNativeButton();this.$1.addClass('tabCompositeSearchWidget-SearchButton');this.get_searchButton().addToDom(this.domRoot);this.get_searchButton().element.attr('title',tab.Strings.MapsSearchViewInitialText);this.get_searchButton().tabIndex(0);this.$0=bY.newNativeButton();this.$0.addClass('tabCompositeSearchWidget-ClearButton');this.$0.element.attr('title',tab.Strings.MapsSearchViewClearInputTooltip);this.$0.tabIndex(0);this.get_clearButton().get_labelElement().css('display','none');this.$0.addToDom(this.domRoot)},{get_domRootElement:function(){return this.domRoot},get_template:function(){return this},get_textInputView:function(){return this.searchTextInputView},get_searchButton:function(){return this.$1},get_clearButton:function(){return this.$0},disposeTemplate:function(){this.dispose()}});var U=global.spiff.CustomComboBoxItem=ss.mkType(a,'spiff.CustomComboBoxItem',function(dD,dE,dF,dG,dH){this.$0=null;H.call(this,dE,dF,dG,dH,null);this.$0=dD},{get_domRoot:function(){return this.$0},asMenuItem:function(){return Y.newCustomMenuItem(this.get_domRoot())}});var V=global.spiff.CustomCursor=ss.mkType(a,'spiff.CustomCursor',function(dD,dE){this.$0=null;if(ss.isValue(dD)){this.$0='url('+tableau.util.assetUrl(dD,true)+'), '+dE}else{this.$0=dE}},{setCursor:function(dD){dD.css('cursor',this.$0)}},{copyFromElement:function(dD){var dE=(ss.isValue(dD)?dD.css('cursor'):'');return new V(null,dE)}});var W=global.spiff.CustomIScrollTemplate=ss.mkType(a,'spiff.CustomIScrollTemplate',function(){this.contentWindow=null;this.verticalScrollbar=null;this.verticalScrollbarIndicator=null;this.horizontalScrollbar=null;this.horizontalScrollbarIndicator=null;bR.call(this,"<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'></span></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'></div></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'></div></div>\n        </div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot;this.contentWindow=this.getElementBySelector('.tabScrollerContentWindow');this.verticalScrollbar=this.getElementBySelector('.tabVerticalScrollbar');this.verticalScrollbarIndicator=this.getElementBySelector('.tabVerticalScrollbar .tabScrollbarIndicator');this.horizontalScrollbar=this.getElementBySelector('.tabHorizontalScrollbar');this.horizontalScrollbarIndicator=this.getElementBySelector('.tabHorizontalScrollbar .tabScrollbarIndicator')});var X=global.spiff.CustomIScrollView=ss.mkType(a,'spiff.CustomIScrollView',function(dD){bS.call(this,dD,new W);this.$9();this.$a();if(dD.get_hasScrollBars()){this.addScroller();this.setUpEvents();this.$b()}},{get_scrollbarBuffer:function(){return 0},get_customDom:function(){return this.get_template()},get_verticalScrollbar:function(){return this.get_customDom().verticalScrollbar},get_horizontalScrollbar:function(){return this.get_customDom().horizontalScrollbar},$9:function(){this.get_scrollableViewModel().get_indicatorOptions().resize=false;this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.$c))})));if(!tsConfig.is_mobile){this.get_scrollableViewModel().get_indicatorOptions().interactive=true}if(this.get_scrollableViewModel().get_scrollY()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_verticalScrollbar()[0]}else if(this.get_scrollableViewModel().get_scrollX()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_horizontalScrollbar()[0]}},$a:function(){if(this.get_scrollableViewModel().isCenteredVertically){this.get_customDom().contentWindow.addClass('centeredVertically')}if(this.get_scrollableViewModel().get_hasScrollBars()){this.get_customDom().contentWindow.addClass('scrollable')}},createScroller:function(){this.scroller=new IScroll(this.get_customDom().contentWindow[0],this.get_scrollableViewModel().get_options())},$b:function(){if(BrowserSupport.BrowserSupport.AddEventListener()){var dD=ss.mkdel(this,function(dE){this.sendEventToScroller(dE)});if(!tsConfig.is_mobile){this.get_template().domRoot[0].addEventListener(BrowserSupport.BrowserSupport.MouseWheelEvent(),dD,false);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_template().domRoot[0].removeEventListener(BrowserSupport.BrowserSupport.MouseWheelEvent(),dD,false)})))}}},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.$c();this.handleRefresh()},$c:function(){if(this.get_scrollableViewModel().get_scrollY()){this.get_customDom().verticalScrollbarIndicator.height(X.$0(tab.DoubleUtil.roundToInt(this.get_customDom().verticalScrollbar.height()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.height()),tab.DoubleUtil.roundToInt(this.get_customDom().content.height()))+'px')}else if(this.get_scrollableViewModel().get_scrollX()){this.get_customDom().horizontalScrollbarIndicator.width(X.$0(tab.DoubleUtil.roundToInt(this.get_customDom().horizontalScrollbar.width()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.width()),tab.DoubleUtil.roundToInt(this.get_customDom().content.width()))+'px')}}},{$0:function(dD,dE,dF){return Math.max(ss.round(dD*dE/Math.max(dF,1)),8)}});var Y=global.spiff.CustomMenuItem=ss.mkType(a,'spiff.CustomMenuItem',function(){this.$0=null;cm.call(this)},{get_domRoot:function(){return this.$0},set_domRoot:function(dD){this.$0=dD}},{newCustomMenuItem:function(dD){var dE=new Y;dE.set_domRoot(dD);var dF=dE;return dF}});var Z=global.spiff.DefaultIScrollTemplate=ss.mkType(a,'spiff.DefaultIScrollTemplate',function(){bR.call(this,"<div class='tabScroller'><span class='tabScrollerContent'></span></div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot});var ba=global.spiff.DefaultIScrollView=ss.mkType(a,'spiff.DefaultIScrollView',function(dD){this.$a=null;this.$9=null;bS.call(this,dD,new Z);this.addScroller();this.setUpEvents()},{get_scrollbarSize:function(){return 9},get_scrollbarBuffer:function(){return 9+1},get_verticalScrollbar:function(){return this.$a},get_horizontalScrollbar:function(){return this.$9},createScroller:function(){this.scroller=new IScroll(this.get_dom().scroll[0],this.get_scrollableViewModel().get_options());if(this.get_scrollableViewModel().get_scrollY()){this.get_dom().content.css('margin-right',this.get_scrollbarBuffer()+'px')}if(this.get_scrollableViewModel().get_scrollX()){this.get_dom().content.css('margin-bottom',this.get_scrollbarBuffer()+'px')}this.$a=this.get_dom().scroll.find('.iScrollVerticalScrollbar').css('width',this.get_scrollbarSize()+'px');this.$9=this.get_dom().scroll.find('.iScrollHorizontalScrollbar').css('height',this.get_scrollbarSize()+'px')},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.handleRefresh()}});var bb=global.spiff.DesktopMenuAdapter=ss.mkType(a,'spiff.DesktopMenuAdapter',function(dD){this.$0=null;tab.Param.verifyValue(dD,'viewModel');this.$0=dD},{show:function(dD){tab.HybridWidgetsApiResolver.get_menuApi().done(ss.mkdel(this,function(dE){this.showHybridMenu(dE,dD)})).fail(ss.mkdel(this,function(dE){}))},showHybridMenu:function(dD,dE){var dF={};this.$0.get_menu().menuItems.forEach(function(dI){bb.$0(dI,dF)});var dG={position:{anchorElement:dE.relativeDom.get(0),anchorOffset:{x:0,y:tab.DoubleUtil.roundToInt(dE.relativeDom.height())}}};var dH=this.$0.get_menu().menuItems.map(bb.spiffMenuToHybridMenu);dD.Show(dG,dH).then(ss.mkdel(this,function(dI){var dJ=dF[dI.key];this.$0.clickMenuItem(dJ)}),ss.mkdel(this,function(dI){}))}},{spiffMenuToHybridMenu:function(dD){tab.Param.verifyValue(dD,'spiffMenu');if(dD.isDivider){return{type:'divider'}}var dE={type:'entry'};dE.displayValue=dD.name;dE.key=dD.id;dE.tooltip=dD.title;dE.disabled=!dD.enabled;dE.checked=dD.checkState!==0;dE.isDefault=dD.isDefault;var dF=dE;if(ss.isValue(dD.subMenu)&&dD.subMenu.menuItems.length>0){dF.subMenuItems=dD.subMenu.menuItems.map(bb.spiffMenuToHybridMenu)}return dF},$0:function(dD,dE){tab.Param.verifyValue(dD,'spiffMenu');dE[dD.id]=dD;if(ss.isValue(dD.subMenu)&&dD.subMenu.menuItems.length>0){dD.subMenu.menuItems.forEach(function(dF){bb.$0(dF,dE)})}}});var bc=global.spiff.Dialog=ss.mkType(a,'spiff.Dialog',function(dD,dE){this.$g=null;this.$u=null;this.$p=null;this.$s=null;this.$e=null;this.$f=null;this.$i=false;this.$v=false;this.$r=true;this.$l=null;this.$o=null;this.$j=false;this.$t=false;this.$m=0;this.$n=0;this.$h=false;this.$k=false;this.$q=false;this.$d=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.showTitleTooltip=false;dC.call(this,$("\n<div class='tab-dialog' role='dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'></div></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n"));this.set_titleUnescaped(dD);this.set_body(dE);this.$f=bY.newNativeButton();this.$f.add_click(ss.mkdel(this,this.$7));this.element.find('.tab-dialogCloseButton').append(this.$f.element);this.$f.tabIndex(-2);this.$g=this.element;this.$u=this.element.find('.tab-dialogTitleBar');this.$p=this.element.find('.tab-dialogResizer');this.$s=this.element.find('.tab-dialogSpinnerContainer');this.$s.hide();var dF=$('#loadingSpinner');if(dF.length===1){this.$s.append(dF.html())}this.set_resizeable(false);this.$g.attr('tabindex','-1');EventUtils.GlobalUIEvents.add_FirstTouch(ss.mkdel(this,this.$4));EventUtils.GlobalUIEvents.add_LastTouch(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){EventUtils.GlobalUIEvents.remove_FirstTouch(ss.mkdel(this,this.$4))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){EventUtils.GlobalUIEvents.remove_LastTouch(ss.mkdel(this,this.$5))})));EventUtils.DragDropManager.attachDropTarget(this.$g,bc.$4)},{add_closing:function(dD){this.$2$1=ss.delegateCombine(this.$2$1,dD)},remove_closing:function(dD){this.$2$1=ss.delegateRemove(this.$2$1,dD)},add_closed:function(dD){this.$2$2=ss.delegateCombine(this.$2$2,dD)},remove_closed:function(dD){this.$2$2=ss.delegateRemove(this.$2$2,dD)},add_resizeMove:function(dD){this.$2$3=ss.delegateCombine(this.$2$3,dD)},remove_resizeMove:function(dD){this.$2$3=ss.delegateRemove(this.$2$3,dD)},add_resizeEnd:function(dD){this.$2$4=ss.delegateCombine(this.$2$4,dD)},remove_resizeEnd:function(dD){this.$2$4=ss.delegateRemove(this.$2$4,dD)},get_body:function(){return this.$e},set_body:function(dD){if(ss.referenceEquals(this.$e,dD)){return}if(ss.isValue(this.$e)){this.$e.off(this.get_eventNamespace())}this.$e=dD;this.element.find('.tab-dialogBodyContainer').html('').append(dD);this.setInitialFocus()},get_bodyHeight:function(){return tab.DoubleUtil.roundToInt(this.$g.height())},get_position:function(){return{x:this.$m,y:this.$n}},set_position:function(dD){if(this.get_maximized()){return}if(ss.isNullOrUndefined(dD)){this.positionInWindow()}else{this.$m=dD.x;this.$n=dD.y;tab.DomUtil.setElementPosition(this.$g,this.$m,this.$n,null,false);this.$g.css('position','fixed')}this.raisePropertyChanged('position')},get_isActive:function(){return this.$h},set_isActive:function(dD){if(dD!==this.$h){this.$h=dD;this.$g.toggleClass('active',dD);this.raisePropertyChanged('isActive')}},get_draggable:function(){return!this.get_maximized()&&ss.isValue(this.$l)},get_resizeable:function(){return!this.get_maximized()&&ss.isValue(this.$o)},set_resizeable:function(dD){if(this.get_maximized()){return}if(dD){if(ss.isNullOrUndefined(this.$o)){this.$o=new cM(this.$p,this.$g,'bottomRight');this.$o.add_endAction(ss.mkdel(this,this.$b));this.$o.add_moveAction(ss.mkdel(this,this.$c))}this.$g.addClass('resizeable')}else{if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$g.removeClass('resizeable')}},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(dD){this.element.css('z-index',dD.toString())},get_maximized:function(){return this.$j},set_maximized:function(dD){this.$j=dD;this.$g.toggleClass('maximized',dD)},get_startingPositionX:function(){return this.$2$5},set_startingPositionX:function(dD){this.$2$5=dD},get_startingPositionY:function(){return this.$2$6},set_startingPositionY:function(dD){this.$2$6=dD},get_titleUnescaped:function(){return this.get_titleElement().text()},set_titleUnescaped:function(dD){this.get_titleElement().text(dD);if(this.showTitleTooltip){this.get_titleElement().attr('title',this.get_titleElement().text())}},get_isShown:function(){return this.$i},get_setFocusOnShow:function(){return this.$r},set_setFocusOnShow:function(dD){this.$r=dD},get_closeButton:function(){return this.$f},get_closeButtonVisible:function(){return this.element.find('.tab-dialogCloseButton').is(':visible')},set_closeButtonVisible:function(dD){if(dD){this.element.find('.tab-dialogCloseButton').show()}else{this.element.find('.tab-dialogCloseButton').hide()}},get_stayInWindow:function(){return this.$t},set_stayInWindow:function(dD){if(dD&&!this.$t){this.$2()}else if(!dD){this.$9()}this.$t=dD},get_useClosingAnimation:function(){return this.$v},set_useClosingAnimation:function(dD){this.$v=dD},get_dialogElement:function(){return this.$g},get_titleBarElement:function(){return this.$u},get_titleElement:function(){return this.element.find('.tab-dialogTitle')},get_resizerElement:function(){return this.$p},configMoveDragSource:function(dD){if(ss.isValue(this.$l)){throw new ss.Exception('dialog can only be configured once.')}this.$l=dD(this);if(ss.isValue(this.$l)){this.$l.add_endAction(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$l.remove_endAction(ss.mkdel(this,this.$8));this.$l.dispose()})))}},showSpinner:function(){this.$s.show()},hideSpinner:function(){this.$s.hide()},show:function(){this.ensureAttachedAndSized();this.element.show();this.$i=true;this.moveToTop();if(this.get_setFocusOnShow()){this.setInitialFocus()}this.set_isActive(true)},close:function(dD){this.$a();if(!this.get_isShown()){if(!ss.staticEquals(dD,null)){dD()}return}var dE=new ss.CancelEventArgs;this.onClosing(dE);if(dE.cancel){return}tab.DomUtil.blur();this.$d=dD;if(this.get_useClosingAnimation()){this.element.fadeOut('fast',ss.mkdel(this,this.$3))}else{this.element.hide();this.$3()}},closeAndDispose:function(){this.close(ss.mkdel(this,this.dispose))},$3:function(){this.detach();if(!ss.staticEquals(this.$d,null)){this.$d();this.$d=null}this.onClosed(new ss.EventArgs)},onClosing:function(dD){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(this,dD)}},onClosed:function(dD){if(!ss.staticEquals(this.$2$2,null)){this.$2$2(this,dD)}},isAttached:function(){return ss.referenceEquals(this.element.parent().get(0),document.body)},ensureAttachedAndSized:function(){if(!this.isAttached()){this.element.appendTo(document.body);this.bindToEvents()}this.positionInWindow()},bindToEvents:function(){this.element.on(this.createNamespacedEventName('keydown'),ss.mkdel(this,this.onKeyDown))},$a:function(){this.$k=false;this.$q=false},$4:function(dD,dE){if(!this.$i){return}this.$a();this.$q=true;if(ss.isValue(dD)&&!tab.DomUtil.isEqualOrAncestorOf(this.get_closeButton().element[0],dD.target)&&tab.DomUtil.isEqualOrAncestorOf(this.element[0],dD.target)){this.moveToTop();this.$k=true}},$5:function(dD,dE){if(!this.$i||!this.$q){return}if(this.$k&&tab.DomUtil.isEqualOrAncestorOf(this.element.get(0),dD.target)||ss.isNullOrUndefined(dD)){if(!this.get_isActive()){this.set_isActive(true)}}else{if($('body').children('.tab-glass').length!==0){this.$a();return}this.set_isActive(false)}},unbindEvents:function(){this.element.off(this.get_eventNamespace())},$2:function(){cB.add_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.ensureOnScreen()}))},$9:function(){cB.remove_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).off(this.createNamespacedEventName('resize'))},detach:function(){this.$i=false;this.element.hide();this.element.detach();this.unbindEvents();if(ss.referenceEquals(bc.$a,this)){bc.$a=null}},dispose:function(){if(ss.isValue(this.$f)){this.$f.remove_click(ss.mkdel(this,this.$7));this.$f.dispose();this.$f=null}if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$9();this.$i=false;this.$2$2=null;this.$2$1=null;this.unbindEvents();dC.prototype.dispose.call(this);if(ss.referenceEquals(bc.$a,this)){bc.$a=null}},setInitialFocus:function(){if(this.$i){var dD=this.element.find('.tab-dialogBodyContainer'+' :tabbable');if(dD.length>0){dD.eq(0).focus()}else{this.$g.eq(0).focus()}}},ensureOnScreen:function(){if(!this.get_isShown()||this.get_maximized()){return}db.getViewport(ss.mkdel(this,function(dD){if(ss.isNullOrUndefined(dD)||ss.isNullOrUndefined(dD.get_dimensions())){return}var dE=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true));var dF=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true));if(this.get_resizeable()){if(dE>dD.get_dimensions().w){var dG=tab.DoubleUtil.roundToInt(this.$g.width());this.$g.width(dD.get_dimensions().w-(dE-dG));dE=dD.get_dimensions().w}if(dF>dD.get_dimensions().h){var dH=tab.DoubleUtil.roundToInt(this.$g.height());this.$g.height(dD.get_dimensions().h-(dF-dH));dF=dD.get_dimensions().h}}var dI=null;if(this.$m+dE>dD.get_dimensions().w){dI=Math.max(0,dD.get_dimensions().w-dE)}var dJ=null;if(this.$n+dF>dD.get_dimensions().h){dJ=Math.max(0,dD.get_dimensions().h-dF)}if(ss.isValue(dI)||ss.isValue(dJ)){var dK=dI;if(ss.isNullOrUndefined(dK)){dK=this.$m}dI=dK;var dL=dJ;if(ss.isNullOrUndefined(dL)){dL=this.$n}dJ=dL;this.set_position({x:ss.unbox(dI),y:ss.unbox(dJ)})}}))},positionInWindow:function(){this.positionInWindow$1(0,0)},positionInWindow$1:function(dD,dE){if(this.get_maximized()){return}db.getViewport(ss.mkdel(this,function(dF){var dG=0;var dH=0;var dI=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true))+dD;var dJ=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true))+dE;var dK=tab.DoubleUtil.roundToInt($(window).width());var dL=tab.DoubleUtil.roundToInt($(window).height());var dM=0;var dN=0;if(ss.isValue(dF.get_dimensions())){dK=dF.get_dimensions().w;dL=dF.get_dimensions().h;var dO=new tab.WindowHelper(window.self);dM=dF.get_dimensions().l-dO.get_pageXOffset();dN=dF.get_dimensions().t-dO.get_pageYOffset()}if(ss.isValue(this.get_startingPositionX())){var dP=Math.min(ss.unbox(this.get_startingPositionX())+dI,dK);dG=Math.max(0,dP-dI)}else{dG=Math.max(0,Math.round((dK-dI)/2)+dM)}if(ss.isValue(this.get_startingPositionY())){var dQ=Math.min(ss.unbox(this.get_startingPositionY())+dJ,dL);dH=Math.max(0,dQ-dJ)}else{dH=Math.max(0,Math.round((dL-dJ)/2)+dN)}this.set_position({x:dG,y:dH})}))},moveToTop:function(){if(!this.$i){return}this.set_isActive(true);if(ss.isNullOrUndefined(bc.$a)){bc.$a=this}else if(!ss.referenceEquals(bc.$a,this)){bc.$a.set_isActive(false);bc.$a=this;this.element.appendTo(document.body);tab.DomUtil.blur()}},$b:function(dD){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}this.set_isActive(true);this.$a()},$c:function(dD){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},$8:function(dD){this.set_position(tab.PointUtil.fromPosition(this.$g.position()));this.set_isActive(true);this.$a()},$7:function(){this.close(null)},onKeyDown:function(dD){if(dD.which===9){this.$6(dD);return}},$6:function(dD){var dE=this.element.find(':tabbable');var dF=dE.filter(':first');var dG=dE.filter(':last');if(ss.referenceEquals(dD.target,dF[0])&&dD.shiftKey){dG.focusDelayed(1);bl.stopEvent$2(dD)}else if(ss.referenceEquals(dD.target,dG[0])&&!dD.shiftKey){dF.focusDelayed(1);bl.stopEvent$2(dD)}}});var bd=global.spiff.DividerComboBoxItem=ss.mkType(a,'spiff.DividerComboBoxItem',function(){H.call(this,null,null,null,null,null)},{asMenuItem:function(){return cm.newDivider()}});var be=global.spiff.DocumentBodySizeUsage=ss.mkEnum(a,'spiff.DocumentBodySizeUsage',{useScrollSize:'useScrollSize',useClientSize:'useClientSize'},true);var bf=global.spiff.DOMElements=ss.mkType(a,'spiff.DOMElements',null,null,{$0:function(dD){return React.createFactory(dD)},$1:function(dD){return React.createFactory(dD)}});var bg=global.spiff.DragSafeGlass=ss.mkType(a,'spiff.DragSafeGlass',function(){bs.call(this,null,false);EventUtils.DragDropManager.registerDragGlass(this)},{dispose:function(){EventUtils.DragDropManager.unregisterDragGlass(this);bs.prototype.dispose.call(this)},disableHitTests:function(){this.element.css('pointer-events','none')},enableHitTests:function(){this.element.css('pointer-events','auto')}});var bh=global.spiff.DragSortListItemDragAvatar=ss.mkType(a,'spiff.DragSortListItemDragAvatar',function(dD){this.$0=null;this.$0=dD.element.clone(false).addClass('dragAvatar')},{get_rootElement:function(){return this.$0},get_viewModel:function(){return null},dispose:function(){this.$0=null},addToDom:function(dD){dD.append(this.get_rootElement());this.onAddedToDom()},onAddedToDom:function(){}});var bi=global.spiff.DropdownComponent=ss.mkType(a,'spiff.DropdownComponent',function(){React.Component.call(this);this.state={isSelecting:false}},{componentWillReceiveProps:function(dD){if(dD.resetSelector){this.setState({isSelecting:false})}},render:function(){var dD=new Object;dD.styleClass=this.props.styleClass;dD.isSelecting=this.state.isSelecting;dD.getDesiredHeight=this.props.getDesiredHeight;dD.getMinimumWidth=this.props.getMinimumWidth;dD.children=this.props.children;dD.renderButton=this.props.renderButton;dD.tabIndex=this.props.tabIndex;dD.onSelectorToggled=ss.mkdel(this,this.$1);dD.onFocusLost=ss.mkdel(this,this.$0);return React.createElement(dc,dD)},$1:function(){this.setState({isSelecting:!this.state.isSelecting})},$0:function(){this.setState({isSelecting:false})}});var bj=global.spiff.EditableTextLabelComponent=ss.mkType(a,'spiff.EditableTextLabelComponent',function(dD,dE){ss.makeGenericType(cL,[bk,Object,Object]).call(this,bj.$0(dD),dD,dE)},{handleWidgetPropertyChanged:function(dD,dE){},updateWidgetState:function(dD){if(!this.get_widget().get_isEditing()){this.get_widget().set_text(dD.initialContent);this.get_widget().updateTextElement(dD.initialContent);this.get_widget().get_inputElement().val(dD.initialContent);if(!tab.MiscUtil.isNullOrEmpty$1(dD.tooltip)){this.get_widget().get_textElement().find('.text-span').get(0).title=dD.tooltip;this.get_widget().get_inputElement().attr('title',dD.tooltip)}}}},{$0:function(dD){var dE=bk.newEditableTextView(dD.initialContent,dD.placeHolderText,dD.editOnDoubleClick);if(!tab.MiscUtil.isNullOrEmpty$1(dD.tooltip)){dE.get_inputElement().attr('title',dD.tooltip);dE.get_textElement().find('.text-span').get(0).title=dD.tooltip}dE.showHover=ss.isNullOrUndefined(dD.showHover)||dD.showHover;dE.showTooltip=dD.showTooltip;dE.add_committed(function(){dD.onCommit(dE.get_text())});if(!ss.isNullOrEmptyString(dD.styleOverrideClass)){tab.StyleUtil.appendCSSRuleToStyleSheet$1(dD.styleOverrideClass+'-override-style','.'+dD.styleOverrideClass+' .tab-editable-text-view > div',dD.styleOverride)}return dE}});var bk=global.spiff.EditableTextView=ss.mkType(a,'spiff.EditableTextView',function(dD,dE,dF,dG){this.$9=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;this.showHover=false;this.showTooltip=false;dj.call(this,dD,dE,dF,null,false);this.$9=dD;this.updateTextElement(dE);var dH=new x(this.get_textElement());if(dG){this.disposables.add$1(dg.targetAndDoubleClick(dH.element.get(0),ss.mkdel(this,function(dJ){this.edit()})))}else{dH.add_click(ss.mkdel(this,this.edit));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){dH.remove_click(ss.mkdel(this,this.edit));dH.dispose()})))}this.get_textElement().show();this.get_inputElement().hide();this.get_inputElement().blur(ss.mkdel(this,function(dJ){this.commit()}));this.add_enterKeyPressed(ss.mkdel(this,function(){this.commit()}));this.add_propertyChanged(ss.mkdel(this,function(){this.updateTextElement(this.get_text())}));if(!tsConfig.is_mobile){var dI=new bx(this,null,ss.mkdel(this,function(dJ){if(this.showHover){this.element.addClass('hover');this.$8(true)}}),ss.mkdel(this,function(dJ){if(this.showHover){this.element.removeClass('hover');this.$8(false)}}));this.disposables.add$1(dI)}this.set_isEditing(false);this.showHover=true},{add_hoverStateChanged:function(dD){this.$3$1=ss.delegateCombine(this.$3$1,dD)},remove_hoverStateChanged:function(dD){this.$3$1=ss.delegateRemove(this.$3$1,dD)},add_editing:function(dD){this.$3$2=ss.delegateCombine(this.$3$2,dD)},remove_editing:function(dD){this.$3$2=ss.delegateRemove(this.$3$2,dD)},add_committed:function(dD){this.$3$3=ss.delegateCombine(this.$3$3,dD)},remove_committed:function(dD){this.$3$3=ss.delegateRemove(this.$3$3,dD)},get_textElement:function(){return this.$9.$0()},get_isEditing:function(){return this.$3$4},set_isEditing:function(dD){this.$3$4=dD},get_textDisplayWidth:function(){return Math.min(tab.DoubleUtil.roundToInt(this.$9.$1().width()),tab.DoubleUtil.roundToInt(this.$9.$0().width()))},$8:function(dD){if(ss.isValue(this.$3$1)){this.$3$1(dD)}},updateTextElement:function(dD){this.$9.$1().text(dD);var dE=this.$9.$1().get(0);dE.title=(this.showTooltip?dD:'')},edit:function(){this.get_textElement().hide();this.get_inputElement().show();this.get_inputElement().focus();tab.DomUtil.selectAllInputText(this.get_inputElement());this.set_isEditing(true);this.element.addClass('editing');if(ss.isValue(this.$3$2)){this.$3$2()}},commit:function(){if(this.get_isEditing()){this.set_isEditing(false);this.get_inputElement().hide();this.get_textElement().show();this.element.removeClass('editing');if(ss.isValue(this.$3$3)){this.$3$3()}}},$7:function(){var dD=tab.DoubleUtil.roundToInt(this.element.parent().height());this.element.height(dD);var dE=this.element.children('div');var dF=tab.DoubleUtil.roundToInt(dE.height());this.get_textElement().css('height',dF+'px');this.get_textElement().css('line-height',dF+'px');this.get_inputElement().css('height',dF+'px');this.get_inputElement().css('line-height',dF+'px')},onAddedToDom:function(){this.$7();dC.prototype.onAddedToDom.call(this)}},{newEditableTextView:function(dD,dE,dF){var dG=new n;return new bk(dG,dD,dE,dF)}});var bl=global.spiff.EventUtil=ss.mkType(a,'spiff.EventUtil',null,null,{bindWithDispose:function(dD,dE,dF){var dG=ss.formatString('{0}.{1}',dE,++bl.$1);dD.on(dG,dF);return new tab.CallOnDispose(function(){dD.off(dG)})},addEventListenerWithDispose:function(dD,dE,dF,dG){dD.addEventListener(dE.toString(),dF,dG);return new tab.CallOnDispose(function(){dD.removeEventListener(dE.toString(),dF,dG)})},isCtrlKey:function(dD){if(ss.isNullOrUndefined(dD)){return false}return(BrowserSupport.BrowserSupport.IsMac()?dD.metaKey:dD.ctrlKey)},getDragFileList:function(dD){if(ss.isNullOrUndefined(dD)||ss.isNullOrUndefined(dD.dataTransfer)||ss.isNullOrUndefined(dD.dataTransfer.files)||dD.dataTransfer.files.length===0){return null}return dD.dataTransfer.files},stopEvent:function(dD){dD.stopPropagation();dD.preventDefault()},stopEvent$1:function(dD){dD.stopPropagation();dD.preventDefault()},stopEvent$2:function(dD){dD.stopPropagation();dD.preventDefault()}});var bm=global.spiff.EventUtilsInitializer=ss.mkType(a,'spiff.EventUtilsInitializer');var bn=global.spiff.ExclusiveMultiSelectGroupSelection=ss.mkType(a,'spiff.ExclusiveMultiSelectGroupSelection',function(dD){cy.call(this,dD)},{get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},mapSelected:function(dD){return function(dE){return this.mapSelected$1(dD).call(this,dE,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},handleTap:function(dD){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);this.get_selectedIndexes()[dD]=true}else if(this.get_selectedIndexes()[dD]){delete this.get_selectedIndexes()[dD];this.validateAllSelectedState()}else{this.get_selectedIndexes()[dD]=true}},handleTapAll:function(){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var dD=0;dD<this.groupSize;++dD){this.get_selectedIndexes()[dD]=true}}else{this.set_theAllItemIsSelected(true)}},clone:function(){var dD=new bn(this.groupSize);dD.allSelected=this.allSelected;dD.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return dD},isSelected:function(dD){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),dD)}},{buildExclusiveMultiSelectGroupSelection:function(dD){return function(dE,dF){var dG=new bn(dE.length);var dH=dE.length;for(var dI=0;dI<dH;++dI){if(dF(dE[dI])){dG.get_selectedIndexes()[dI]=true}}dG.validateAllSelectedState();return dG}}});var bo=global.spiff.ExclusiveSingleSelectGroupSelection=ss.mkType(a,'spiff.ExclusiveSingleSelectGroupSelection',function(dD){da.call(this,dD)},{mapSelected:function(dD){return function(dE){return this.mapSelected$1(dD).call(this,dE,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},clone:function(){var dD=new bo(this.groupSize);dD.allSelected=this.allSelected;dD.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return dD}},{buildExclusiveSingleSelectGroupSelection:function(dD){return function(dE,dF){var dG=new bo(dE.length);var dH=dE.length;for(var dI=0;dI<dH;++dI){if(dF(dE[dI])){dG.get_selectedIndexes()[dI]=true}}dG.validateAllSelectedState();return dG}}});var bp=global.spiff.FocusManager=ss.mkType(a,'spiff.FocusManager',function(){{bp.$0('focus',bp.$2);bp.$0('blur',bp.$1);bp.$0('keydown',bp.$3);bp.$0('keyup',bp.$3);bp.$0('touchstart',bp.$4);bp.$0('mousedown',bp.$4);if(!ss.referenceEquals(window.self,window.top)){bp.$b=1}}},null,{shutdown:function(){if(ss.isNullOrUndefined(bp.$a)){return}bp.$6('focus',bp.$2);bp.$6('blur',bp.$1);bp.$6('keydown',bp.$3);bp.$6('keyup',bp.$3);bp.$6('touchstart',bp.$4);bp.$6('mousedown',bp.$4);bp.$a=null},initialize:function(){if(ss.isNullOrUndefined(bp.$a)){bp.$a=new bp}},$0:function(dD,dE){document.addEventListener(dD,dE,true)},$6:function(dD,dE){document.removeEventListener(dD,dE,true)},updateFocusIndicatorVisibility:function(){$(document.activeElement).toggleClass('tab-showFocusIndicator',bp.$b===1)},$2:function(dD){if(ss.referenceEquals(document.activeElement,document.body)){return}if(document.hasFocus()&&ss.referenceEquals(document.activeElement,dD.target)&&k.$1()){bp.$b=1}bp.updateFocusIndicatorVisibility()},$1:function(dD){window.setTimeout(function(){if(document.hasFocus()){$(dD.target).removeClass('tab-showFocusIndicator')}else{k.$0()}})},$3:function(dD){var dE=dD.keyCode;k.$2(dE,dD.type==='keydown');if(ss.isNullOrUndefined(document.activeElement)){document.body.focus()}},$4:function(dD){bp.$b=0},wasFocusedByPointer:function(){return bp.$b===0},trapFocus:function(dD){dD.off(bp.$8).on(bp.$8,bp.$5)},untrapFocus:function(dD){dD.off(bp.$8)},$5:function(dD){if(dD.which===9){var dE=$(dD.currentTarget).find(':tabbable');if(ss.referenceEquals(dD.target,dE.last()[0])&&!dD.shiftKey){dE.first().focus()}else if(ss.referenceEquals(dD.target,dE.first()[0])&&dD.shiftKey){dE.last().focus()}else if(dE.length>0){return}dD.preventDefault();dD.stopPropagation()}}});var bq=global.spiff.FullscreenUtil=ss.mkType(a,'spiff.FullscreenUtil',null,null,{add_fullscreenStateChanged:function(dD){bq.$1$1=ss.delegateCombine(bq.$1$1,dD)},remove_fullscreenStateChanged:function(dD){bq.$1$1=ss.delegateRemove(bq.$1$1,dD)},get_fullscreenChangeEventName:function(){return bq.$8.substring(2)},get_fullscreenEnabled:function(){if(ss.isNullOrUndefined(bq.$7)){return false}return document[bq.$7]},get_fullscreenElement:function(){if(ss.isNullOrUndefined(bq.$6)){return null}return document[bq.$6]},get_inFullscreenMode:function(){return ss.isValue(bq.get_fullscreenElement())},$0:function(dD,dE){for(var dF=0;dF<dE.length;dF++){var dG=dE[dF];if(dG in dD||dG.toLowerCase()in dD){return dG}}return null},exitFullscreen:function(){if(ss.isNullOrUndefined(bq.$5)){return}document[bq.$5]()},requestFullscreen:function(dD){if(ss.isNullOrUndefined(bq.$9)){return}dD[bq.$9]()},$1:function(dD){document.documentElement.classList.toggle('fullscreen',bq.get_inFullscreenMode());window.setTimeout(function(){if(!ss.staticEquals(bq.$1$1,null)){bq.$1$1()}})},$2:function(){var dD=$(document.documentElement);if(bq.get_inFullscreenMode()){bp.trapFocus(dD)}else{bp.untrapFocus(dD)}},centeringContainerOffset:function(){if(!bq.get_inFullscreenMode()){return 0}var dD=$('#centeringContainer');return dD.offset().top}});var br=global.spiff.GenericDropdownButtonComponent=ss.mkType(a,'spiff.GenericDropdownButtonComponent',function(dD){cG.call(this,dD)},{render:function(){var dD=ss.coalesce(this.props.styleClass,'tab-unification-line-arrow-dropdown');var dE=null;if(this.props.isDisabled){dD=dD+' disabled'}if(this.props.disableArrowDown){dE={display:'none'}}return bf.div({className:'tab-GenericDropdownButton'+' '+dD,'data-test-id':ss.coalesce(this.props.testId,'tab-GenericDropdownButton')},bf.div({className:'tab-SelectionDisplay',key:'tab-SelectionDisplay'},this.props.selectionDisplay()),bf.div({className:'tab-DownArrowButton',style:dE,key:'tab-DownArrowButton'},bf.div({className:'arrow down'})))}},{create:function(dD){return React.createElement(br,dD)}});var bs=global.spiff.Glass=ss.mkType(a,'spiff.Glass',function(dD,dE){this.$5=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;dC.call(this,$("<div class='tab-glass clear-glass'></div>"));this.$5=dD||document.body;if(!ss.referenceEquals(this.$5,document.body)){this.element.css('position','absolute')}var dF=new EventUtils.EventHandleSpec;if(dE){dF.doubleTap=function(dG){dG.preventDefault()};dF.pinchStart=function(dG){dG.preventDefault()}}this.$4=dg.targetAndConfig(this.element[0],dF).onPress(ss.mkdel(this,this.$3)).onClick(ss.mkdel(this,this.$2)).onRightClick(ss.mkdel(this,this.$2))},{add_click:function(dD){this.$2$1=ss.delegateCombine(this.$2$1,dD)},remove_click:function(dD){this.$2$1=ss.delegateRemove(this.$2$1,dD)},add_clickWithEvent:function(dD){this.$2$2=ss.delegateCombine(this.$2$2,dD)},remove_clickWithEvent:function(dD){this.$2$2=ss.delegateRemove(this.$2$2,dD)},add_press:function(dD){this.$2$3=ss.delegateCombine(this.$2$3,dD)},remove_press:function(dD){this.$2$3=ss.delegateRemove(this.$2$3,dD)},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(dD){this.element.css('z-index',dD.toString())},get_opaque:function(){return this.element.hasClass('opaque-glass')},set_opaque:function(dD){this.element.toggleClass('clear-glass',!dD);this.element.toggleClass('opaque-glass',dD)},set_preventWebPageScroll:function(dD){if(dD){this.element.on(BrowserSupport.BrowserSupport.MouseWheelEvent(),function(dE){dE.preventDefault()})}else{this.element.off(BrowserSupport.BrowserSupport.MouseWheelEvent(),function(dE){dE.preventDefault()})}},show:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$5)){this.element.appendTo(this.$5)}if(this.get_opaque()){this.element.toggleClass('glass-fade-in-immediate',true)}this.element.show()},hide:function(){this.element.hide()},setColor:function(dD){this.element.css('background-color',dD)},dispose:function(){this.set_preventWebPageScroll(false);if(ss.isValue(this.$4)){this.$4.dispose();this.$4=null}dC.prototype.dispose.call(this)},$2:function(dD){if(ss.isValue(this.$2$1)){this.$2$1()}else if(ss.isValue(this.$2$2)){this.$2$2(dD)}},$3:function(dD){if(ss.isValue(this.$2$3)){this.$2$3(dD)}}});var bt=global.spiff.GridIScrollHandler=ss.mkType(a,'spiff.GridIScrollHandler',function(dD){this.$2=null;this.$0=null;this.$1=null;React.Component.call(this,dD);this.state={};this.$0=ss.mkdel(this,function(dE){this.$2=dE})},{render:function(){var dD=new cR;dD.customStyle={top:this.props.marginTop};dD.extraCssClass=this.props.rootCssClass;dD.scrollX=true;dD.scrollY=true;dD.onScroll=ss.mkdel(this,function(dE){this.props.onScroll(-dE.x,-dE.y)});dD.onScrollStop=ss.mkdel(this,function(dE,dF){this.props.onScroll(-dE.x,-dE.y);if(dE.y===dF.y&&!ss.staticEquals(this.$1,null)){this.$1()}});dD.startingY=this.state.writeOnlyScrollTop;dD.onScrollingControlRefUpdated=this.$0;return cQ.createScroller(dD,[this.props.children])},componentDidMount:function(){if(!ss.staticEquals(this.props.onRefUpdated,null)){this.props.onRefUpdated(this)}},componentWillUnmount:function(){if(!ss.staticEquals(this.props.onRefUpdated,null)){this.props.onRefUpdated(null)}},callOnScrollToEnd:function(dD){this.$1=dD},setScrollPosition$1:function(dD,dE){this.setState({writeOnlyScrollTop:dE})},scrollBy$1:function(dD,dE){var dF=this.$2;this.scrollBy$2(dD,dE,dF.get_x(),dF.get_y(),dF.get_maxScrollX(),dF.get_maxScrollY())},scrollBy$2:function(dD,dE,dF,dG,dH,dI){var dJ=dF+dD;var dK=Math.min(Math.max(dJ,0),dH);var dL=dG+dE;var dM=Math.min(Math.max(dL,0),dI);this.setScrollPosition$1(dK,dM)},setScrollPosition:function(dD,dE){this.$2.scrollTo(dD,dE)},getScrollPosition:function(){var dD=this.$2;var dE=Math.min(Math.max(dD.get_x(),0),dD.get_maxScrollX());var dF=Math.min(Math.max(dD.get_y(),0),dD.get_maxScrollY());return{scrollLeft:dE,scrollTop:dF}},scrollBy:function(dD,dE){var dF=this.$2;this.scrollBy$2(dD,dE,dF.get_x(),dF.get_y(),dF.get_maxScrollX(),dF.get_maxScrollY())},getScrollbarWidth:function(){return 9},canScroll:function(){return this.$2.get_canScroll()},dispose:function(){this.$2.destroy()},resetPosition:function(){this.$2.resetPosition()},refresh:function(){this.$2.refresh()},handleEvent:function(dD){this.$2.handleEvent(dD)},getScrollContainer:function(){return ReactDOM.findDOMNode(this)}});var bu=global.spiff.GroupSelection=ss.mkType(a,'spiff.GroupSelection',function(dD){this.groupSize=0;this.allSelected=false;this.$1$1=null;this.groupSize=dD;this.allSelected=false;this.set_selectedIndexes({})},{get_theAllItemIsSelected:function(){return this.allSelected},set_theAllItemIsSelected:function(dD){if(this.groupSize>0){this.allSelected=dD;if(dD===true){this.set_selectedIndexes(null)}else{this.set_selectedIndexes({})}}},get_selectedIndexes:function(){return this.$1$1},set_selectedIndexes:function(dD){this.$1$1=dD},get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize){this.set_theAllItemIsSelected(true)}},mapSelected:function(dD){return function(dE){return this.mapSelected$1(dD).call(this,dE,true)}},mapSelected$1:function(dD){return function(dE,dF){var dG;if(this.get_theAllItemIsSelected()&&dF){dG=[];var dH=this.groupSize;for(var dI=0;dI<dH;++dI){dG.push(dI)}}else{dG=_.map(this.get_selectedIndexes(),function(dJ,dK){return dK}).sort()}return _.map(dG,function(dJ){return dE(dJ)})}},handleTap:null,handleTapAll:null,isSelected:null,clone:null});var bv=global.spiff.HorizontalSliderComponent=ss.mkType(a,'spiff.HorizontalSliderComponent',function(dD,dE){this.$2=false;cG.$ctor1.call(this,dD,dE);this.state={value:dD.initialValue,emptyTextBox:false}},{render:function(){return dd.create({commitValue:ss.mkdel(this,this.$0),disabled:this.props.disabled,emptyTextBox:this.state.emptyTextBox,extraCssClass:this.props.extraCssClass,maxValue:this.props.maxValue,minValue:this.props.minValue,showValueTextBox:this.props.showValueTextBox,showPercentageSign:this.props.showPercentageSign,styleClass:this.props.styleClass,tabIndex:this.props.tabIndex,value:this.state.value,displayValueChanged:ss.mkdel(this,this.$1),width:this.props.width})},$1:function(dD){if(this.props.disabled){return}if(ss.isNullOrUndefined(dD)){this.setState({value:0,emptyTextBox:true})}else{this.setState({value:ss.unbox(dD),emptyTextBox:false})}this.$2=true},$0:function(dD,dE){if(this.props.disabled){return}var dF=this.$2||dD!==this.state.value||dE;if(!ss.staticEquals(this.props.onValueChanged,null)&&dF){this.props.onValueChanged(dD);this.$2=false}}});var bw=global.spiff.HoverAddClassBehavior=ss.mkType(a,'spiff.HoverAddClassBehavior',null,null,{attach:function(dD,dE,dF){dE=ss.coalesce(dE,'hover');return new bx(dD,dF,function(dG){bw.$0(dG,dE)},function(dG){bw.$1(dG,dE)})},$0:function(dD,dE){$(dD.currentTarget).addClass(dE)},$1:function(dD,dE){$(dD.currentTarget).removeClass(dE)}});var bx=global.spiff.HoverBehavior=ss.mkType(a,'spiff.HoverBehavior',function(dD,dE,dF,dG){this.$5=null;this.$6=null;this.$7=null;this.$8=null;this.$9=null;this.$9=dD;this.$5=dE;this.$6=dF;this.$7=dG;this.$9.add_disposed(ss.mkdel(this,this.$3));if(ss.isValue(dE)){this.$9.element.on('mouseenter'+this.$4(),dE,ss.mkdel(this,this.$0));this.$9.element.on('mouseleave'+this.$4(),dE,ss.mkdel(this,this.$1))}else{this.$9.element.on('mouseenter'+this.$4(),ss.mkdel(this,this.$0));this.$9.element.on('mouseleave'+this.$4(),ss.mkdel(this,this.$1))}},{$4:function(){return ss.formatString('.{0}',ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},dispose:function(){if(ss.isNullOrUndefined(this.$9)){return}this.$9.remove_disposed(ss.mkdel(this,this.$3));if(ss.isValue(this.$5)){var dD=this.$9.element;var dE=this.$5;dD.off(this.$4(),dE)}else{this.$9.element.off(this.$4())}this.$9=null},$0:function(dD){if(ss.isValue(this.$6)){this.$6(dD)}},$2:function(dD){if(ss.isValue(this.$8)){this.$8(dD)}},$1:function(dD){if(ss.isValue(this.$7)){this.$7(dD)}},$3:function(dD,dE){this.dispose()}},{$ctor1:function(dD,dE,dF,dG,dH){this.$5=null;this.$6=null;this.$7=null;this.$8=null;this.$9=null;this.$9=dD;this.$5=dE;this.$6=dF;this.$7=dG;this.$8=dH;this.$9.add_disposed(ss.mkdel(this,this.$3));if(ss.isValue(dE)){this.$9.element.on('mouseenter'+this.$4(),dE,ss.mkdel(this,this.$0));this.$9.element.on('mousemove'+this.$4(),dE,ss.mkdel(this,this.$2));this.$9.element.on('mouseleave'+this.$4(),dE,ss.mkdel(this,this.$1))}else{this.$9.element.on('mouseenter'+this.$4(),ss.mkdel(this,this.$0));this.$9.element.on('mousemove'+this.$4(),ss.mkdel(this,this.$2));this.$9.element.on('mouseleave'+this.$4(),ss.mkdel(this,this.$1))}}});var by=global.spiff.ICompositeSearchWidgetTemplate=ss.mkType(a,'spiff.ICompositeSearchWidgetTemplate');var bz=global.spiff.IconButton=ss.mkType(a,'spiff.IconButton',function(){this.iconElement=null;x.call(this,$('<a></a>').addClass('tab-iconButton'));this.setEnabled(true)},{get_buttonElement:function(){return this.element},setEnabled:function(dD){if(dD){this.get_buttonElement().removeClass('tab-disabled');this.get_buttonElement().addClass('tab-enabled')}else{this.get_buttonElement().removeClass('tab-enabled');this.get_buttonElement().addClass('tab-disabled')}return this},setIcon:function(dD){if(!ss.isValue(this.iconElement)){this.iconElement=$('<span></span>');this.iconElement.appendTo(this.get_buttonElement())}this.iconElement.removeClass().addClass('tab-iconButtonIcon').addClass(dD);return this}});var bA=global.spiff.IconButtonComponent=ss.mkType(a,'spiff.IconButtonComponent',function(dD){React.Component.call(this,dD);this.state=this.$0()},{get_className:function(){var dD=['tab-IconBtn'];dD.push(this.props.customClassName);if(this.props.disabled){dD.push('disabled')}return dD.join(' ')},$0:function(){var dD=new bB;dD.isActive=(ss.isValue(this.state)?this.state.isActive:false);return dD},render:function(){var dD=new EventUtils.EventHandleSpec;dD.tap=ss.mkdel(this,this.$1);dD.firstTouch=ss.mkdel(this,function(dE){if(tsConfig.is_mobile){var dF=new bB;dF.isActive=true;this.setState(dF)}});dD.lastTouch=ss.mkdel(this,function(dE){if(tsConfig.is_mobile){var dF=new bB;dF.isActive=false;this.setState(dF)}});return EventUtils.EventForwarder.div(dD,{className:this.get_className(),title:this.props.title,onMouseEnter:ss.mkdel(this,function(dE){if(!tsConfig.is_mobile){var dF=new bB;dF.isActive=true;this.setState(dF)}}),onMouseLeave:ss.mkdel(this,function(dE){if(!tsConfig.is_mobile){var dF=new bB;dF.isActive=false;this.setState(dF)}})},bf.div({className:'tab-Icon'+' '+this.props.iconClassName+(this.state.isActive?(' '+'active'):''),key:this.props.customClassName,tabIndex:this.props.tabIndex,role:'button',onKeyPress:ss.mkdel(this,function(dE){this.props.onKeyPress(dE)}),'aria-label':this.props.ariaLabelName}))},$1:function(dD){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(dD)}}});var bB=global.spiff.IconButtonState=ss.mkType(a,'spiff.IconButtonState',function(){this.isActive=false});var bC=global.spiff.IContent=ss.mkType(a,'spiff.IContent');var bD=global.spiff.IDialogContent=ss.mkType(a,'spiff.IDialogContent');var bE=global.spiff.IHasEnabledState=ss.mkType(a,'spiff.IHasEnabledState');var bF=global.spiff.IListItemContentCreator=ss.mkType(a,'spiff.IListItemContentCreator');var bG=global.spiff.IListItemDragAvatarCreator=ss.mkType(a,'spiff.IListItemDragAvatarCreator');var bH=global.spiff.IListViewDragFeedback=ss.mkType(a,'spiff.IListViewDragFeedback');var bI=global.spiff.IListViewScrollHandler=ss.mkType(a,'spiff.IListViewScrollHandler');var bJ=global.spiff.InputType=ss.mkEnum(a,'spiff.InputType',{positiveInteger:0,string:1});var bK=global.spiff.InteractAsButtonWrapperComponent=ss.mkType(a,'spiff.InteractAsButtonWrapperComponent',function(dD,dE){this.$4=null;cG.$ctor1.call(this,dD,dE);var dF=new EventUtils.EventHandleSpec;dF.tap=ss.mkdel(this,function(dG){this.$2();this.$0(dG)});this.$4=dF},{render:function(){var dD='tab-custom-button';var dE={role:'button'};if(!this.props.disabled){dE.onKeyDown=ss.mkdel(this,this.$3);dE.tabIndex=0}else{dD+=' '+'disabled'}dE.className=dD;return EventUtils.EventForwarder.div(this.$4,dE,this.props.buttonContent())},$3:function(dD){switch(dD.which){case 13:case 32:{this.$2();this.$1();break}default:{return}}dD.stopPropagation();dD.preventDefault()},$2:function(){if(!this.props.disabled&&!ss.staticEquals(this.props.handleAllTriggers,null)){this.props.handleAllTriggers()}},$1:function(){if(!this.props.disabled&&!ss.staticEquals(this.props.handleEnterSpaceOnly,null)){this.props.handleEnterSpaceOnly()}},$0:function(dD){if(!this.props.disabled&&!ss.staticEquals(this.props.handleClickOnly,null)){this.props.handleClickOnly(dD)}}},{create:function(dD){return React.createElement(bK,dD)}});var bL=global.spiff.IPropsProvider$1=ss.mkType(a,'spiff.IPropsProvider$1',function(dD){var dE=ss.registerGenericInterfaceInstance(bL,[dD],{add_propsUpdated:null,remove_propsUpdated:null,get_props:null});return dE});ss.initGenericInterface(bL,1);var bM=global.spiff.IScrollable=ss.mkType(a,'spiff.IScrollable');var bN=global.spiff.IScrollComponent=ss.mkType(a,'spiff.IScrollComponent',function(dD,dE){this.$4=null;this.$5=null;this.iScroll=null;React.Component.call(this,dD,dE);this.state={hovered:false,scrolling:false}},{render:function(){var dD=['tab-iscroll-component'];if(this.state.hovered){dD.push('hover')}if(this.state.scrolling){dD.push('tabScrolling')}if(ss.isValue(this.props.extraCssClass)){dD.push(this.props.extraCssClass)}if(this.props.alwaysShowScrollbarsIfScrollable){dD.push('showIfScrollable')}var dE=ss.arrayFromEnumerable(dD).join(' ');return bf.div({ref:'iscroll-wrapper',className:dE,style:this.props.customStyle,onMouseOver:ss.mkdel(this,this.handleOnMouseOver),onMouseOut:ss.mkdel(this,this.handleOnMouseOut)},bf.div({className:'tab-iscroll-content'},this.props.children))},componentDidMount:function(){this.$5=bl.bindWithDispose($(window),'resize',ss.mkdel(this,this.$1));var dD=ReactDOM.findDOMNode(this.refs['iscroll-wrapper']);this.iScroll=new i(dD,this.props);this.iScroll.on('scrollStart',ss.mkdel(this,this.handleScrollStart));this.iScroll.on('scroll',ss.mkdel(this,this.$2));this.iScroll.on('scrollEnd',ss.mkdel(this,function(){this.handleScrollStop();this.$0()}));this.$3()},componentWillUnmount:function(){this.$5=tab.MiscUtil.dispose$1(this.$5);this.iScroll.destroy();this.iScroll=null;this.$4=tab.MiscUtil.clearTimeout(this.$4)},componentDidUpdate:function(dD){if(!ss.referenceEquals(this.props.startingY,dD.startingY)&&ss.isValue(this.props.startingY)){this.iScroll.scrollTo(this.iScroll.x,ss.unbox(this.props.startingY),0,null);this.$0()}this.$3()},handleOnMouseOver:function(dD){this.setState({hovered:true,scrolling:this.state.scrolling})},handleOnMouseOut:function(dD){this.setState({hovered:false,scrolling:this.state.scrolling})},handleScrollStart:function(){this.setState({hovered:this.state.hovered,scrolling:true})},$2:function(){if(!ss.staticEquals(this.props.scrollCallback,null)){this.props.scrollCallback(this.iScroll.getComputedPosition())}},handleScrollStop:function(){this.setState({hovered:this.state.hovered,scrolling:false})},$1:function(dD){this.$3()},$3:function(){this.$4=window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.iScroll)){this.iScroll.refresh()}}),this.props.refreshDelay)},$0:function(){if(!ss.staticEquals(this.props.scrollStopCallback,null)){var dD=new Object;dD.x=this.iScroll.maxScrollX;dD.y=this.iScroll.maxScrollY;var dE=dD;this.props.scrollStopCallback(this.iScroll.getComputedPosition(),dE)}}});var bO=global.spiff.IScroller=ss.mkType(a,'spiff.IScroller');var bP=global.spiff.IScrollingControl=ss.mkType(a,'spiff.IScrollingControl');var bQ=global.spiff.IScrollProps=ss.mkType(a,'spiff.IScrollProps',function(){this.extraCssClass=null;this.iScrollOptions=null;this.refreshDelay=0;this.keepPositionOnRecreate=true;this.alwaysShowScrollbarsIfScrollable=false;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true;this.customStyle=null;this.scrollStopCallback=null;this.scrollCallback=null});var bR=global.spiff.IScrollTemplate=ss.mkType(a,'spiff.IScrollTemplate',function(dD){this.content=null;this.scroll=null;dh.call(this,$(dD))});var bS=global.spiff.IScrollView=ss.mkType(a,'spiff.IScrollView',function(dD,dE){this.scrollEndCleanup=new tab.DisposableHolder;this.scroller=null;cN.call(this,dD,dE)},{get_scrollerX:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.x)},get_scrollerY:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.y)},get_dom:function(){return this.get_template()},get_scrollableViewModel:function(){return this.get_viewModel()},get_scrollbarBuffer:null,get_verticalScrollbar:null,get_horizontalScrollbar:null,addScroller:function(){this.createScroller();this.postCreationScrollerSetup();this.get_dom().scroll.toggleClass('tabScrollerCanScrollX',this.get_scrollableViewModel().get_scrollX());this.get_dom().scroll.toggleClass('tabScrollerCanScrollY',this.get_scrollableViewModel().get_scrollY())},createScroller:null,postCreationScrollerSetup:function(){this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.scroller.destroy()})));this.scroller.on('scrollStart',ss.mkdel(this,this.$8));this.scroller.on('scrollEnd',ss.mkdel(this,this.$7));this.get_dom().scroll.addClass('tabScrollerIScroll');this.disposables.add$1(E.targetAndClick(this.get_verticalScrollbar(),function(dD){dD.stopPropagation()}));this.disposables.add$1(E.targetAndClick(this.get_horizontalScrollbar(),function(dD){dD.stopPropagation()}));this.get_dom().domRoot.on(BrowserSupport.BrowserSupport.MouseWheelEvent(),function(dD){dD.stopPropagation()})},setUpEvents:function(){this.get_scrollableViewModel().add_contentChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_contentChanged(ss.mkdel(this,this.$5))})));this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.handleRefresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.handleRefresh))})))},onAddedToDom:function(){dC.prototype.onAddedToDom.call(this);this.addNewContent()},$5:function(){this.get_dom().content.empty();this.addNewContent()},addNewContent:null,handleRefresh:function(){if(this.get_viewModel().get_hasScrollBars()){this.scroller.refresh();this.$6()}else{this.get_verticalScrollbar().addClass('noScroll');this.get_horizontalScrollbar().addClass('noScroll')}},$6:function(){this.get_verticalScrollbar().removeClass('noScroll');if(!this.scroller.hasVerticalScroll){this.get_verticalScrollbar().addClass('noScroll')}this.get_horizontalScrollbar().removeClass('noScroll');if(!this.scroller.hasHorizontalScroll){this.get_horizontalScrollbar().addClass('noScroll')}},$8:function(){if(tsConfig.is_mobile&&(this.scroller.directionX===0||!this.scroller.hasHorizontalScroll)&&(this.scroller.directionY===0||!this.scroller.hasVerticalScroll)){return}if(BrowserSupport.BrowserSupport.MouseCapture()){tab.DomUtil.setCapture(this.get_dom().scroll[0],true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){tab.DomUtil.releaseCapture()}))}else if(BrowserSupport.BrowserSupport.AddEventListener()&&!tsConfig.is_mobile){var dD=ss.mkdel(this,function(dF){this.sendEventToScroller(dF)});var dE=ss.mkdel(this,function(dF){var dG=dF.toElement;if(ss.isNullOrUndefined(dG)||dG.nodeName==='HTML'){if('createEvent'in document){var dH=document.createEvent('MouseEvent');dH.initEvent('mouseup',false,false);this.sendEventToScroller(dH)}}});document.addEventListener('mousemove',dD,true);document.addEventListener('mouseup',dD,true);document.addEventListener('mouseout',dE,true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){document.removeEventListener('mousemove',dD,true);document.removeEventListener('mouseup',dD,true);document.removeEventListener('mouseout',dE,true)}))}this.get_dom().scroll.addClass('tabScrolling')},sendEventToScroller:function(dD){this.scroller.handleEvent(dD);for(var dE=0;dE<this.scroller.indicators.length;dE++){var dF=this.scroller.indicators[dE];if(!ss.referenceEquals(dD.type,'mousemove'.toString())||dF.moved){dF.handleEvent(dD)}}},$7:function(){this.scrollEndCleanup.dispose();this.get_dom().scroll.removeClass('tabScrolling')},scrollTo:function(dD,dE,dF,dG){this.scroller.scrollTo(-dD,-dE,dF,dG)},scrollToElement:function(dD,dE,dF,dG){this.scroller.scrollToElement(dD,dE,dF,dG)}});var bT=global.spiff.ISelectable=ss.mkType(a,'spiff.ISelectable');var bU=global.spiff.ITabControlTemplate=ss.mkType(a,'spiff.ITabControlTemplate');var bV=global.spiff.ITextInputViewTemplate=ss.mkType(a,'spiff.ITextInputViewTemplate');var bW=global.spiff.IUberPopupContent=ss.mkType(a,'spiff.IUberPopupContent');var bX=global.spiff.JQueryGestureExtensions=ss.mkType(a,'spiff.JQueryGestureExtensions',null,null,{fireTableauGesture:function(dD,dE,dF,dG){if(ss.isNullOrUndefined(dF)){var dH=new Object;dH.type='touchend';dH.timeStamp=tab.DateUtil.get_nowAsTime();dH.keyCode=null;dH.ctrlKey=false;dH.altKey=false;dH.metaKey=false;dH.shiftKey=false;dH.charOrCode=null;dH.clientX=0;dH.clientY=0;dH.touches=new Array;dH.targetTouches=new Array;dH.changedTouches=new Array;dH.target=dD;dF=dH}var dI;switch(dE){case'dragMove':case'dragStart':case'dragEnd':{dI='drag';break}case'hover':case'moving':case'mouseleave':{dI='hover';break}case'pinchStart':case'pinchMove':case'pinchEnd':{dI='pinch';break}default:{dI='discrete';break}}var dJ=EventUtils.NormalizedEvent.Create(dF,dD,null);EventUtils.Gesture.FromHtml(dD,dI).Fire(dE,dJ,dG||{})}});var bY=global.spiff.LabelButton=ss.mkType(a,'spiff.LabelButton',function(dD,dE){this.$b='.label';x.call(this,dD);this.$b=dE},{get_labelElement:function(){return this.element.find(this.$b)},get_label:function(){return this.get_labelElement().text()},set_label:function(dD){this.get_labelElement().text(dD);if(ss.isNullOrEmptyString(dD)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},setLabelContents:function(dD){if(ss.isValue(dD)){this.get_labelElement().html(dD);this.get_labelElement().removeClass('hide')}else{this.get_labelElement().html('');this.get_labelElement().addClass('hide')}}},{newAnchorButton:function(){return new bY($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label')},newNativeButton:function(){return new bY($("<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>"),'.label')},newMenuButton:function(){return new bY($("<button class='tab-button' type='button'>\n            <div class='paired-icon'>\n                <span class='icon menu-button'></span>\n                <span class='tabComboBoxButton'></span>\n            </div>\n            <span class='label hide'></span></button>"),'.label')},newTextButton:function(dD,dE){var dF=new bY($("<span class='tab-text-button'><span class='label hide'></span></span>"),'.label');if(ss.isValue(dD)){dF.add_click(dD);dF.disposables.add$1(new tab.CallOnDispose(function(){dF.remove_click(dD)}))}if(ss.isValue(dE)){dF.set_label(dE)}return dF}});var bZ=global.spiff.LabelToggleButton=ss.mkType(a,'spiff.LabelToggleButton',function(dD,dE){this.$e='.label';dk.call(this,dD,null);this.$e=dE},{get_labelElement:function(){return this.element.find(this.$e)},get_inputElement:function(){return this.element.find('input')},get_label:function(){return this.get_labelElement().text()},set_label:function(dD){this.get_labelElement().text(dD);if(ss.isNullOrEmptyString(dD)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},get_selected:function(){return dk.prototype.get_selected.call(this)},set_selected:function(dD){if(this.get_selected()===dD){return}var dE=this.get_inputElement();if(ss.isValue(dE)){dE.prop('checked',(dD?'checked':''))}dk.prototype.set_selected.call(this,dD)},get_disabled:function(){return x.prototype.get_disabled.call(this)},set_disabled:function(dD){var dE=this.get_inputElement();if(ss.isValue(dE)){dE.prop('disabled',dD)}x.prototype.set_disabled.call(this,dD)}},{newCheckbox:function(dD,dE){var dF=bZ.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",dD,dE);dF.element.addClass('tab-unification-check').find('.icon').append($("<span class='innerIcon'></span>").addClass('tab-img-check'));return dF},newRadioButton:function(dD,dE){var dF=bZ.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",dD,dE);dF.element.addClass('tab-unification-radio').find('.icon').append($("<span class='innerIcon'></span>"));return dF},$0:function(dD,dE,dF){var dG=new bZ($(dD),'.label');dG.set_label(dE);dG.set_selected(dF);var dH=dG;var dI=dH.get_inputElement();if(ss.isValue(dI)){dI.click(function(dJ){dJ.preventDefault()})}return dH}});var ca=global.spiff.LineEditWithButtonComponent=ss.mkType(a,'spiff.LineEditWithButtonComponent',function(dD){this.$4=null;React.Component.call(this,dD,null);this.state=this.$0();var dE=new EventUtils.EventHandleSpec;dE.firstTouch=ss.mkdel(this,function(dF){this.handleEnterPress()});this.$4=dE},{handleBlur:function(dD){if(this.props.blurBehavior===0){this.$3()}else if(this.props.blurBehavior===1){this.handleEnterPress()}},componentWillReceiveProps:function(dD){if(!ss.referenceEquals(this.props.initialValue,dD.initialValue)){this.setState({displayedText:dD.initialValue})}},$3:function(){this.setState({displayedText:this.props.initialValue})},$0:function(){return{displayedText:(tab.MiscUtil.isNullOrEmpty$1(this.props.initialValue)?'':this.props.initialValue)}},handleInput:function(dD){if(this.props.inputFilter===0){dD=ss.replaceAllString(dD,',','');dD=ss.replaceAllString(dD,'.','');dD=ss.replaceAllString(dD,'-','');var dE={};if(ss.isNullOrEmptyString(dD)||ss.Int32.tryParse(dD,dE)){this.setState({displayedText:dD})}}else{this.setState({displayedText:dD})}},$2:function(dD){if(dD.keyCode===27){dD.preventDefault();dD.stopPropagation();this.$3()}},handleEnterPress:function(){var dD=this.$1();if(!ss.staticEquals(this.props.onCommit,null)){this.props.onCommit(dD)}if(this.props.blurBehavior===0){this.$3()}else if(!ss.referenceEquals(this.state.displayedText,dD)){this.setState({displayedText:dD})}},$1:function(){var dD={};if(ss.Int32.tryParse(this.state.displayedText,dD)){return((ss.isValue(this.props.maxValue)&&ss.Nullable$1.gt(dD.$,this.props.maxValue))?this.props.maxValue.toString():this.state.displayedText)}else{return this.state.displayedText}},render:function(){var dD=this.$4;var dE=new Object;dE.iconClassName='confirmArrowIcon';dE.customClassName='confirmButton';var dF=EventUtils.EventForwarder.div(dD,{className:'confirmButtonDiv'},React.createElement(bA,dE));var dG=React.createElement(SharedWidgets.OutlineTextFieldWidget,{text:this.state.displayedText,testId:'lineEdit',handleChange:ss.mkdel(this,this.handleInput),handleEnter:ss.mkdel(this,this.handleEnterPress),maxLength:ss.coalesce(this.props.maxLength,6)});return bf.div({className:'lineEditWithButtonComponent',onKeyDown:ss.mkdel(this,this.$2),onBlur:ss.mkdel(this,this.handleBlur),style:{width:ss.coalesce(this.props.textBoxWidth,'auto')}},dG,dF)}});var cb=global.spiff.ListComponent$2=ss.mkType(a,'spiff.ListComponent$2',function(dD,dE){var dF=ss.registerGenericClassInstance(cb,[dD,dE],function(dG,dH){React.Component.call(this,dG,dH)},{render:function(){var dG=_.map(this.props.items,ss.mkdel(this,function(dH){var dI=this.getEventHandleSpecForItem(dH);var dJ={className:'tabListItem',key:this.getItemKey(dH.data),role:'option'};if(this.isSelected(dH.data)){dJ['aria-selected']=true}if(ss.isNullOrUndefined(dI)){return bf.div(dJ,this.buildItem(dH.data))}else{return EventUtils.EventForwarder.div(dI,dJ,this.buildItem(dH.data))}}));return bf.div({className:'tabList',role:'listbox'},dG)},getItemKey:null,buildItem:null,isSelected:null,getEventHandleSpecForItem:function(dG){return null}},null,function(){return React.Component});return dF});ss.initGenericClass(cb,2);var cc=global.spiff.ListItemDragSource=ss.mkType(a,'spiff.ListItemDragSource',function(dD,dE){this.$1$1=null;this.$1$2=null;this.set_parentListView(dD);this.set_draggableListItemView(dE)},{get_parentListView:function(){return this.$1$1},set_parentListView:function(dD){this.$1$1=dD},get_draggableListItemView:function(){return this.$1$2},set_draggableListItemView:function(dD){this.$1$2=dD},startDrag:function(dD){if(ss.isNullOrUndefined(this.get_parentListView())||ss.isNullOrUndefined(this.get_draggableListItemView())||ss.isNullOrUndefined(this.get_parentListView().get_dragFeedback())){return null}return this.get_parentListView().get_dragFeedback().startDrag(this.get_parentListView(),this.get_draggableListItemView())},acceptsDragType:function(){return 1}});var cd=global.spiff.ListItemGroup=ss.mkType(a,'spiff.ListItemGroup',function(dD){this.$f=null;this.$g=null;cV.call(this);this.set_selectionType(dD)},{$e:function(dD){this.$d(ss.indexOf(this.get_items(),dD))},$d:function(dD){if(dD<0||dD>=this.get_items().length){return}this.$f=dD;this.$g=null},$b:function(){this.$f=null;this.$g=null},addItem:function(dD){cV.prototype.addItem.call(this,dD);if(dD.get_selected()&&ss.isNullOrUndefined(this.$f)&&this.get_selectionType()===0){this.$e(dD)}},onItemDisposed:function(dD,dE){this.$b();cV.prototype.onItemDisposed.call(this,dD,dE)},dispose:function(){this.$b();cV.prototype.dispose.call(this)},selectItem:function(dD){this.selectItemAtIndex(ss.indexOf(this.get_items(),dD))},selectSingleItem:function(dD){var dE=ss.indexOf(this.get_items(),dD);if(dE<0){return}cV.prototype.selectSingleItem.call(this,dD);this.$d(dE)},selectItemAtIndex:function(dD){cV.prototype.selectItem.call(this,this.get_items()[dD]);this.$d(dD)},selectItems:function(dD,dE){this.$c(dD,dE);this.$g=null},$c:function(dD,dE){cV.prototype.selectItems.call(this,dD,dE)},clearSelection:function(dD){cV.prototype.clearSelection.call(this,dD);this.$b()},selectItemForKey:function(dD,dE){if(this.get_selectionType()===2){return null}if(!ss.isValue(this.$f)){return null}var dF=dD===38;var dG=dD===40;if(dF||dG){if(!this.get_items()[ss.unbox(this.$f)].get_selected()){this.selectItem(this.get_items()[ss.unbox(this.$f)])}var dH=ss.unbox(this.$f)+(dF?-1:1);if(dH<0||dH>=this.get_items().length){return null}if(this.get_selectionType()===1&&dE){var dI=this.$g;if(ss.isValue(this.$g)){var dJ=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var dK=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));if(dH>=dJ&&dH<=dK){this.unselectItem(this.get_items()[ss.unbox(this.$f)])}}else{dI=this.$f}this.selectItem(this.get_items()[dH]);this.$g=dI}else{this.selectSingleItem(this.get_items()[dH]);this.$g=null}this.$f=dH;return this.get_items()[dH]}return null},handleSelectionChanging:function(dD,dE){var dF=dD;var dG=ss.indexOf(this.get_items(),dF);if(dG<0){return}if(this.get_selectionType()===0){cV.prototype.handleSelectionChanging.call(this,dD,dE);return}var dH=this.$f;var dI=this.$g;this.$d(dG);if(this.get_selectionType()===2||dE.get_ctrlKey()){if(dE.get_selecting()){this.selectItem(dF)}else{this.unselectItem(dF)}return}if(dE.get_shiftKey()&&(ss.isValue(dH)||ss.isValue(dI))){this.$g=ss.coalesce(dI,dH);var dJ=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var dK=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));var dL=[];for(var dM=dJ;dM<=dK;dM++){dL.push(this.get_items()[dM])}this.$c(dL,true);dE.cancel=true;return}this.selectSingleItem(dF);if(ss.referenceEquals(this.get_selectedItem(),dF)){dE.cancel=true}},handleSelectionChanged:function(dD,dE){cV.prototype.handleSelectionChanged.call(this,dD,dE);this.$e(dD)}});var ce=global.spiff.ListItemView=ss.mkType(a,'spiff.ListItemView',function(dD,dE){this.$g=null;this.$f=null;dk.call(this,ce.$0(dD),null);tab.Param.verifyValue(dE,'viewModel');tab.Param.verifyValue(dE.get_id(),'viewModel.Id');this.$g=dE;this.$g.add_propertyChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$g.remove_propertyChanged(ss.mkdel(this,this.$e))})));this.set_selectionId(dE.get_id());this.set_widgetId(dE.get_id());this.$f=dD},{get_viewModel:function(){return this.$g},get_selected:function(){return(this.addedToDom?dk.prototype.get_selected.call(this):this.$g.get_selected())},set_selected:function(dD){dk.prototype.set_selected.call(this,dD);this.get_viewModel().set_selected(dD)},get_isInvalid:function(){return this.$g.get_isInvalid()},set_isInvalid:function(dD){this.$f.toggleClass('invalid',dD);this.get_viewModel().set_isInvalid(dD)},get_isBold:function(){return this.$g.get_isBold()},set_isBold:function(dD){this.$f.toggleClass('bold',dD);this.get_viewModel().set_isBold(dD)},get_disabled:function(){return x.prototype.get_disabled.call(this)},set_disabled:function(dD){this.$f.toggleClass(this.get_disabledClass(),dD);x.prototype.set_disabled.call(this,dD)},init:function(){this.set_selected(this.$g.get_selected())},$e:function(dD,dE){switch(dE.get_propertyName()){case'selected':{this.set_selected(this.get_viewModel().get_selected());break}case'invalid':{this.set_isInvalid(this.get_viewModel().get_isInvalid());break}case'bold':{this.set_isBold(this.get_viewModel().get_isBold());break}case'spotlighted':{this.element.toggleClass('tab-list-item-spotlighted',this.get_viewModel().get_spotlighted());break}}}},{$0:function(dD){var dE=$('<div></div>').addClass('tab-list-item');dE.append(dD);return dE}});var cf=global.spiff.ListItemViewModel=ss.mkType(a,'spiff.ListItemViewModel',function(dD,dE,dF,dG,dH){this.$2=null;this.$0=null;this.$5=false;this.$4=false;this.$1=false;this.$6=false;this.$3=false;w.call(this);this.$2=dD;if(ss.isValue(dE)){this.$0=dE}this.$5=dF;this.$4=dG;this.$3=dH},{get_id:function(){return this.$2},get_data:function(){return this.$0},get_selected:function(){return this.$5},set_selected:function(dD){if(this.$5===dD){return}this.$5=dD;this.notifyPropertyChanged('selected')},get_isInvalid:function(){return this.$4},set_isInvalid:function(dD){if(this.$4===dD){return}this.$4=dD;this.notifyPropertyChanged('invalid')},get_isBold:function(){return this.$3},set_isBold:function(dD){if(this.$3===dD){return}this.$3=dD;this.notifyPropertyChanged('bold')},get_draggable:function(){return this.$1},set_draggable:function(dD){if(this.$1===dD){return}this.$1=dD;this.notifyPropertyChanged('draggable')},get_spotlighted:function(){return this.$6},set_spotlighted:function(dD){if(this.$6===dD){return}this.$6=dD;this.notifyPropertyChanged('spotlighted')}},{newListItem:function(dD,dE,dF,dG,dH){tab.Param.verifyString(dD,'id');return new cf(dD,dE,dF,dG,dH)}});var cg=global.spiff.ListItemViewModelCollectionBuilder=ss.mkType(a,'spiff.ListItemViewModelCollectionBuilder',function(){this.itemDatas=null;this.selectionIndexes=null;this.invalidIndexes=null;this.itemIds=null},{create:function(){this.$0();var dD=[];for(var dE=0,dF=this.itemDatas.length;dE<dF;dE++){var dG=this.itemIds[dE];var dH=(ss.isValue(this.selectionIndexes)?ss.contains(this.selectionIndexes,dE):false);var dI=(ss.isValue(this.invalidIndexes)?ss.contains(this.invalidIndexes,dE):false);var dJ=this.itemDatas[dE];var dK=new cf(dG,dJ,dH,dI,false);dK.set_draggable(dF>1);var dL=dK;dD.push(dL)}return dD},$0:function(){tab.Param.verifyValue(this.itemDatas,'ItemDatas');tab.Param.verifyValue(this.itemIds,'ItemIds')}});var ch=global.spiff.ListView=ss.mkType(a,'spiff.ListView',function(dD,dE){this.$l=[];this.$k=null;this.$3$1=null;this.$m=null;this.$3$2=null;ss.makeGenericType(v,[cj]).call(this,dD,new ck);this.get_viewModel().add_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().add_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().add_itemMoved(ss.mkdel(this,this.$e));this.disposables.add(ss.mkdel(this,function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e))}));this.set_scrollHandler(new g(this.element));this.get_dom().get_listItemContainer().keypress(ss.mkdel(this,this.$9)).keydown(ss.mkdel(this,this.$9));this.$k=dE;this.$5()},{get_dragFeedback:function(){return this.$3$1},set_dragFeedback:function(dD){this.$3$1=dD},add_listItemsUpdated:function(dD){this.$3$2=ss.delegateCombine(this.$3$2,dD)},remove_listItemsUpdated:function(dD){this.$3$2=ss.delegateRemove(this.$3$2,dD)},get_dom:function(){return this.get_template()},get_domRoot:function(){return this.get_dom().domRoot},get_itemViews:function(){return this.$l},$j:function(){return((this.$l.length>0)?this.$l[0].element[0].offsetTop:0)},get_scrollerPosition:function(){return this.get_scrollHandler().get_scrollViewPagePosition()},get_scrollerSize:function(){return this.get_scrollHandler().get_scrollViewSize()},get_scrollHandler:function(){return this.$m},set_scrollHandler:function(dD){this.$m=dD||new g(this.element)},useScrollableView:function(dD){this.set_scrollHandler(new f(dD))},$5:function(){for(var dD=0;dD<this.get_viewModel().get_collection().length;dD++){var dE={$:this.get_viewModel().get_collection()[dD]};if(ss.isValue(dE.$)){var dF=this.$k.createListItemContent(dE.$);var dG=new ce(dF,dE.$);dG.init();dG.onDoubleClick(ss.mkdel(this,this.$8));dG.set_disabled(!this.get_viewModel().get_enabled());dG.set_isInvalid(dE.$.get_isInvalid());dG.set_isBold(dE.$.get_isBold());dG.onMouseEnter(ss.mkdel({itemViewModel:dE,$this:this},function(dH){this.$this.$a(this.itemViewModel.$)}));dG.onMouseMove(ss.mkdel({itemViewModel:dE,$this:this},function(dH){this.$this.$b(this.itemViewModel.$)}));this.$i(dG);this.$l.push(dG);this.get_viewModel().addItemToGroup(dG);dG.addToDom(this.get_dom().get_listItemContainer());dE.$.add_propertyChanged(ss.mkdel(this,this.$f))}}this.$g(this.$3$2)},$c:function(dD){if(!ss.isValue(dD)){return}this.$h(this.$l[ss.unbox(dD)])},$d:function(dD){if(ss.isValue(dD)){this.$h(this.$l[ss.unbox(dD)])}},$8:function(dD){this.get_viewModel().selectionSubmitted()},$a:function(dD){this.get_viewModel().handleListItemMouseEnter(dD)},$b:function(dD){this.get_viewModel().handleListItemMouseMove(dD)},$9:function(dD){var dE=this.get_viewModel().get_listItemGroup().selectItemForKey(dD.which,dD.shiftKey);if(ss.isValue(dE)){bl.stopEvent$2(dD);this.$h(dE)}},onViewModelPropertyChanged:function(dD,dE){if(dE.get_propertyName()==='collection'){this.$6();this.get_dom().get_listItemContainer().empty();this.$5()}else if(dE.get_propertyName()==='enabled'){this.$l.forEach(ss.mkdel(this,function(dF){dF.set_disabled(!this.get_viewModel().get_enabled());this.$i(dF)}))}ss.makeGenericType(v,[cj]).prototype.onViewModelPropertyChanged.call(this,dD,dE)},$f:function(dD,dE){if(dE.get_propertyName()==='draggable'){var dF=this.$7(dD);this.$i(dF)}},$i:function(dD){if(dD.get_viewModel().get_draggable()&&!dD.get_disabled()){dD.element.addClass('tabDraggable');EventUtils.DragDropManager.attachDragSource(dD.element,new cc(this,dD))}else{dD.element.removeClass('tabDraggable');EventUtils.DragDropManager.removeDragSource(dD.element)}},tabIndex:function(dD){this.get_dom().get_listItemContainer().attr('tabindex',dD.toString());return this},showItemAtIndex:function(dD){this.$h(this.get_itemViews()[dD])},$h:function(dD){if(ss.isNullOrUndefined(dD)){return}var dE=dD.element[0];this.$m.scrollToElement(dE,this.$j())},$e:function(dD,dE){if(dD===dE||dD<0||dD>=this.get_itemViews().length||dE<0||dE>=this.get_itemViews().length){return}var dF=this.get_itemViews()[dD];dF.element.hide();if(dE<dD){dF.element.insertBefore(this.get_itemViews()[dE].element)}else{dF.element.insertAfter(this.get_itemViews()[dE].element)}dF.element.fadeIn();ss.removeAt(this.get_itemViews(),dD);ss.insert(this.get_itemViews(),dE,dF)},dispose:function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e));this.$6();ss.makeGenericType(v,[cj]).prototype.dispose.call(this)},$6:function(){this.$l.forEach(ss.mkdel(this,function(dD){dD.get_viewModel().remove_propertyChanged(ss.mkdel(this,this.$f));dD.dispose()}));ss.clear(this.$l)},$g:function(dD){if(ss.isValue(dD)){dD()}},$7:function(dD){for(var dE=0,dF=this.$l.length;dE<dF;dE++){if(ss.referenceEquals(this.$l[dE].get_selectionId(),dD.get_id())){return this.$l[dE]}}return null}},{createListView:function(dD,dE){return new ch(dD,dE)}});var ci=global.spiff.ListViewDragSortFeedback=ss.mkType(a,'spiff.ListViewDragSortFeedback',function(){this.$b='dragging';this.$c='dragHover';this.$e=null;this.$f=null;this.$n=0;this.$l=0;this.$g=null;this.$h=0;this.$k=null;this.$m=0;this.$j=0;this.$i=0;this.$d=null;this.$1$1=null;this.$1$2=null;this.$1$3=null},{add_dragStarting:function(dD){this.$1$1=ss.delegateCombine(this.$1$1,dD)},remove_dragStarting:function(dD){this.$1$1=ss.delegateRemove(this.$1$1,dD)},add_dragEnded:function(dD){this.$1$2=ss.delegateCombine(this.$1$2,dD)},remove_dragEnded:function(dD){this.$1$2=ss.delegateRemove(this.$1$2,dD)},get_dragClassName:function(){return this.$b},set_dragClassName:function(dD){this.$b=dD},get_dragHoverClassName:function(){return this.$c},set_dragHoverClassName:function(dD){this.$c=dD},get_avatarCreator:function(){return this.$1$3},set_avatarCreator:function(dD){this.$1$3=dD},dispose:function(){EventUtils.DragDropManager.remove_dragStarted(ss.mkdel(this,this.$8));EventUtils.DragDropManager.remove_dragEnded(ss.mkdel(this,this.$7));this.$9();this.$0()},startDrag:function(dD,dE){if(ss.isNullOrUndefined(dD)||ss.isNullOrUndefined(dD.get_itemViews())){return null}var dF=ss.indexOf(dD.get_itemViews(),dE);if(dF<0){return null}this.$5(dD,dF);this.$6(tab.DoubleUtil.roundToInt(this.$e.outerWidth()));this.$e.toggleClass(this.get_dragClassName(),true);this.$a();if(!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$f)}EventUtils.DragDropManager.add_dragStarted(ss.mkdel(this,this.$8));EventUtils.DragDropManager.add_dragEnded(ss.mkdel(this,this.$7));var dG=this.$1(dD.get_itemViews()[dF]);return new cw(this.$e,ss.mkdel(this,this.$3),ss.mkdel(this,this.$4),dG)},$5:function(dD,dE){this.$k=dD;this.$m=this.$k.get_itemViews().length;this.$j=this.$k.get_scrollerPosition().y;this.$i=this.$j+this.$k.get_scrollerSize().h;this.$n=dE;this.$l=dE;var dF=dD.get_itemViews()[dE];this.$f=dF.get_viewModel();this.$e=dF.element},$6:function(dD){this.$g=this.$2(dD).appendTo($('body')).hide();this.$h=ss.idiv(tab.DoubleUtil.roundToInt(this.$g.outerHeight()),2)},$2:function(dD){return $("<div class='tab-list-item-insertion-pointer'></div>").width(dD)},$1:function(dD){if(ss.isValue(this.get_avatarCreator())){return this.get_avatarCreator().createListItemDragAvatar(dD.get_viewModel())}return new bh(dD)},$8:function(dD){EventUtils.DragDropManager.remove_dragStarted(ss.mkdel(this,this.$8));EventUtils.DragDropManager.setDragCursor(new V(null,'move'));EventUtils.DragDropManager.setDragCursor(new V(null,'-webkit-grabbing'));EventUtils.DragDropManager.setDragCursor(new V(null,'-moz-grabbing'));EventUtils.DragDropManager.setDragCursor(new V(null,'grabbing'))},$7:function(dD){EventUtils.DragDropManager.remove_dragEnded(ss.mkdel(this,this.$7));this.$0();this.$9()},$3:function(dD){if(ss.isNullOrUndefined(this.$e)){return}this.$0();var dE=this.$k.get_itemViews()[this.$l].element;var dF=tab.DomUtil.getElementPosition(dE);var dG=this.$l>0&&(dD.pageY<this.$j||dD.pageY<dF.y);var dH=this.$l<this.$m-1&&(dD.pageY>this.$i||dD.pageY>dF.y+dE.outerHeight());if(!dG&&!dH){return}var dI=(dG?-1:1);this.$l+=dI;this.$k.showItemAtIndex(this.$l);this.$a();this.$d=window.setTimeout(ss.mkdel(this,function(){this.$3(EventUtils.DragDropManager.get_lastDragEvent())}),10)},$a:function(){if(this.$l===this.$n){this.$g.hide();this.$e.toggleClass(this.get_dragHoverClassName(),true);return}this.$e.toggleClass(this.get_dragHoverClassName(),false);var dD=this.$k.get_itemViews()[this.$l].element;var dE=tab.DomUtil.getElementPosition(dD);if(this.$l>this.$n){dE.y+=tab.DoubleUtil.roundToInt(dD.outerHeight())}tab.DomUtil.setElementPosition(this.$g,dE.x,dE.y-this.$h,null,false);this.$g.show()},$4:function(dD){this.$0();this.$9();if(this.$n!==this.$l){this.$k.get_viewModel().moveItem(this.$n,this.$l)}if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this.$f,this.$n!==this.$l)}},$9:function(){if(ss.isValue(this.$g)){this.$g.remove();this.$g=null}if(ss.isValue(this.$e)){this.$e.removeClass(this.get_dragHoverClassName());this.$e.removeClass(this.get_dragClassName());this.$e=null}},$0:function(){this.$d=tab.MiscUtil.clearTimeout(this.$d)}});var cj=global.spiff.ListViewModel=ss.mkType(a,'spiff.ListViewModel',function(dD,dE){this.$8=null;this.$6=null;this.$7=null;this.$5=null;this.$4=null;this.$9=null;this.$3=true;this.$a=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;w.call(this);this.$8={};this.$6=new cd(dE);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.update(dD)},{add_propsUpdated:function(dD){this.$2$1=ss.delegateCombine(this.$2$1,dD)},remove_propsUpdated:function(dD){this.$2$1=ss.delegateRemove(this.$2$1,dD)},add_selectionChanged:function(dD){this.$2$2=ss.delegateCombine(this.$2$2,dD)},remove_selectionChanged:function(dD){this.$2$2=ss.delegateRemove(this.$2$2,dD)},add_submitSelection:function(dD){this.$2$3=ss.delegateCombine(this.$2$3,dD)},remove_submitSelection:function(dD){this.$2$3=ss.delegateRemove(this.$2$3,dD)},add_listItemMouseEnter:function(dD){this.$2$4=ss.delegateCombine(this.$2$4,dD)},remove_listItemMouseEnter:function(dD){this.$2$4=ss.delegateRemove(this.$2$4,dD)},add_listItemMouseMove:function(dD){this.$2$5=ss.delegateCombine(this.$2$5,dD)},remove_listItemMouseMove:function(dD){this.$2$5=ss.delegateRemove(this.$2$5,dD)},add_selectionModelUpdated:function(dD){this.$2$6=ss.delegateCombine(this.$2$6,dD)},remove_selectionModelUpdated:function(dD){this.$2$6=ss.delegateRemove(this.$2$6,dD)},add_spotlightedItemChanged:function(dD){this.$2$7=ss.delegateCombine(this.$2$7,dD)},remove_spotlightedItemChanged:function(dD){this.$2$7=ss.delegateRemove(this.$2$7,dD)},add_itemMoved:function(dD){this.$2$8=ss.delegateCombine(this.$2$8,dD)},remove_itemMoved:function(dD){this.$2$8=ss.delegateRemove(this.$2$8,dD)},get_originalCollection:function(){return this.$7},get_collection:function(){return this.$5},get_filter:function(){return this.$4},set_filter:function(dD){this.$4=dD;this.$0()},get_sort:function(){return this.$9},set_sort:function(dD){this.$9=dD;this.$0()},$2:function(){return!ss.staticEquals(this.$4,null)||!ss.staticEquals(this.$9,null)},get_props:function(){return this.$8},get_selectionType:function(){return this.$6.get_selectionType()},get_listItemGroup:function(){return this.$6},get_firstSelectedItem:function(){var dD=this.$1(1);return((dD.length>0)?dD[0]:null)},get_selectedItems:function(){return this.$1(this.$6.get_numberOfSelectedItems())},get_enabled:function(){return this.$3},set_enabled:function(dD){if(this.$3===dD){return}this.$3=dD;this.notifyPropertyChanged('enabled')},dispose:function(){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.$6.dispose();ss.clear(this.$7);ss.clear(this.$5);w.prototype.dispose.call(this)},selectionSubmitted:function(){this.raiseActionEvent(this.$2$3)},handleListItemMouseEnter:function(dD){this.raiseActionEvent$1(cf).call(this,this.$2$4,dD)},handleListItemMouseMove:function(dD){this.raiseActionEvent$1(cf).call(this,this.$2$5,dD)},update:function(dD){this.$7=ss.arrayClone(dD);this.$0();this.$8.items=_.map(this.get_collection(),ss.mkdel(this,function(dE){return{data:dE.get_data()}}));this.raiseActionEvent(this.$2$1)},addItemToGroup:function(dD){this.$6.addItem(dD)},$0:function(){if(this.$2()){this.$5=(ss.isValue(this.$4)?this.$7.filter(this.$4):ss.arrayClone(this.$7));if(ss.isValue(this.$9)){this.$5.sort(this.$9)}}else{this.$5=this.$7}this.notifyPropertyChanged('collection')},onSelectionChanged:function(){this.raiseActionEvent(this.$2$2)},$1:function(dD){var dE=[];var dF=this.$6.get_numberOfSelectedItems();if(dF===1){dE.push(this.$6.get_selectedItem().get_viewModel());return dE}var dG=Math.min(dF,dD);for(var dH=0,dI=this.get_collection().length;dH<dI&&dE.length<dG;dH++){if(this.$6.isItemSelected(this.get_collection()[dH].get_id())){dE.push(this.get_collection()[dH])}}return dE},setSelectedItems:function(dD){if(this.get_collection().length===0){return}this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.get_listItemGroup().clearSelection(null);var dE=null;for(var dF=0,dG=dD.length;dF<dG;dF++){var dH=dD[dF];dE=Math.min(ss.coalesce(dE,dH),dH);this.get_collection()[dH].set_selected(true);if(this.get_listItemGroup().get_selectionType()===0){break}}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.UInt32])).call(this,this.$2$6,ss.coalesce(dE,0));this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},setInvalidItems:function(dD){for(var dE=0,dF=this.get_collection().length;dE<dF;++dE){this.get_collection()[dE].set_isInvalid(ss.contains(dD,dE))}},selectItemById:function(dD){for(var dE=0,dF=this.get_collection().length;dE<dF;dE++){var dG=this.get_collection()[dE];if(ss.referenceEquals(dG.get_id(),dD)){this.selectItemAtIndex(dE);break}}},selectItemAtIndex:function(dD){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));var dE=this.get_collection()[dD];var dF=!dE.get_selected();if(this.$6.get_selectionType()===0){this.clearSelection()}dE.set_selected(true);if(dF){this.raiseActionEvent(this.$2$2)}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.UInt32])).call(this,this.$2$6,dD);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},clearSpotlighting:function(){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}this.$a=null;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.UInt32])).call(this,this.$2$7,this.$a)},spotlightItemAtIndex:function(dD){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}var dE=this.get_collection()[dD];if(ss.isNullOrUndefined(dE)){return}dE.set_spotlighted(true);this.$a=dD;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.UInt32])).call(this,this.$2$7,this.$a)},clearSelection:function(){this.$6.clearSelection(null)},moveItem:function(dD,dE){if(dD===dE){return}var dF=this.get_collection()[dD];ss.removeAt(this.get_collection(),dD);ss.insert(this.get_collection(),dE,dF);if(!ss.staticEquals(this.$2$8,null)){this.$2$8(dD,dE)}}});var ck=global.spiff.ListViewTemplate=ss.mkType(a,'spiff.ListViewTemplate',function(){this.$0=null;dh.call(this,$("<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"));this.$0=this.getElementBySelector('.tab-list-itemHolder')},{get_domRootElement:function(){return this.domRoot},get_listItemContainer:function(){return this.$0}});var cl=global.spiff.Menu=ss.mkType(a,'spiff.Menu',function(dD){this.menuItems=null;this.defaultItem=null;this.menuItems=dD;this.defaultItem=_.find(dD,function(dE){return dE.isDefault})});var cm=global.spiff.MenuItem=ss.mkType(a,'spiff.MenuItem',function(){this.name=null;this.telemetryId=null;this.description=null;this.title=null;this.readId=null;this.iconClass=null;this.iconClassTwo=null;this.itemClass=null;this.checkState=0;this.enabled=false;this.isDivider=false;this.isTextInput=false;this.isDefault=false;this.subMenu=null;this.data=null;this.id=null;++cm.$0;this.id='menuItem'+cm.$0},{get_displayName:function(){if(ss.isNullOrUndefined(this.name)){return null}return this.name.replace('&','')},get_selectable:function(){return this.enabled&&!this.isDivider}},{newDivider:function(){return(new cn).isDivider(true).enabled(false).build()},newActionItem:function(dD,dE,dF,dG){return(new cn).name(dD).readId(dG).data(dE).enabled(!ss.staticEquals(dE,null)&&dF).build()},newActionItemWithItemClass:function(dD,dE,dF){return(new cn).name(dD).itemClass(dF).data(dE).enabled(!ss.staticEquals(dE,null)).build()},newItem:function(dD,dE,dF,dG,dH){return(new cn).data(dD).name(dE).telemetryId(dF).checkState(ss.coalesce(dG,0)).subMenu(dH).enabled(ss.isNullOrUndefined(dH)||dH.menuItems.some(function(dI){return dI.enabled})).build()}});var cn=global.spiff.MenuItemBuilder=ss.mkType(a,'spiff.MenuItemBuilder',function(){this.$0=null;this.$0=new cm},{checkState:function(dD){this.$0.checkState=dD;return this},data:function(dD){this.$0.data=dD;return this},description:function(dD){this.$0.description=dD;return this},enabled:function(dD){this.$0.enabled=dD;return this},isDivider:function(dD){this.$0.isDivider=dD;return this},isTextInput:function(dD){this.$0.isTextInput=dD;return this},iconClass:function(dD){this.$0.iconClass=dD;return this},iconClassTwo:function(dD){this.$0.iconClassTwo=dD;return this},itemClass:function(dD){this.$0.itemClass=dD;return this},name:function(dD){this.$0.name=dD;return this},telemetryId:function(dD){this.$0.telemetryId=dD;return this},readId:function(dD){this.$0.readId=dD;return this},subMenu:function(dD){this.$0.subMenu=dD;return this},title:function(dD){this.$0.title=dD;return this},build:function(){var dD=this.$0;this.$0=null;return dD}});var co=global.spiff.MenuItemCheckState=ss.mkEnum(a,'spiff.MenuItemCheckState',{none:0,check:1,radio:2});var cp=global.spiff.MenuItemDividerTemplate=ss.mkType(a,'spiff.MenuItemDividerTemplate',function(){dh.call(this,$("<div class='tabMenuItemDivider' role='separator'></div>"))});var cq=global.spiff.MenuItemTextInputTemplate=ss.mkType(a,'spiff.MenuItemTextInputTemplate',function(){this.textInput=null;dh.call(this,$("\n<div class='tabMenuItemTextInputPanel' role='menuitem'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'/>\n  </div>\n</div>"));this.textInput=this.getElementBySelector('.tabMenuItemTextInput')});var cr=global.spiff.MenuTemplate=ss.mkType(a,'spiff.MenuTemplate',function(){this.content=null;dh.call(this,$("<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'></div></div>"));this.content=this.getElementBySelector('.tabMenuContent')});var cs=global.spiff.MenuView=ss.mkType(a,'spiff.MenuView',function(dD,dE){this.menuStack=[];this.dom=null;this.menuViewModel=null;this.glass=null;this.$b={};this.menuDisposables=new tab.DisposableHolder;ss.makeGenericType(t,[ct]).call(this,dD,dE);this.menuViewModel=dD;this.dom=dE;this.menuStack[0]=this.dom;this.menuViewModel.add_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.add_shown(ss.mkdel(this,this.shown));this.menuViewModel.add_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.add_menuItemSelectionChanged(ss.mkdel(this,this.$9));this.element.addClass(this.menuViewModel.get_theme().menuClass);this.element.on('blur',ss.mkdel(this,this.onBlur));this.element.attr('aria-label',this.menuViewModel.get_ariaLabel());this.element.attr('id',this.menuViewModel.get_id())},{$a:function(){var dD=this.dom.domRoot;for(var dE=0;dE<this.menuStack.length;dE++){var dF=this.menuStack[dE];dD=dD.add(dF.domRoot)}return dD},dispose:function(){this.menuViewModel.remove_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.remove_shown(ss.mkdel(this,this.shown));this.menuViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.remove_menuItemSelectionChanged(ss.mkdel(this,this.$9));var dD=ss.mkdel(this,function(){this.menuDisposables.dispose();for(var dE=0;dE<this.menuStack.length;dE++){var dF=this.menuStack[dE];dF.dispose()}ss.clear(this.menuStack);this.removeGlass();ss.makeGenericType(v,[ct]).prototype.dispose.call(this)});this.$5(dD)},removeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},getElementForMenuItem:function(dD){return(ss.isValue(dD)?this.$b[dD.id]:null)},getMenuElementForMenuItem:function(dD){var dE=this.getElementForMenuItem(dD);if(ss.isNullOrUndefined(dE)){return null}var dF=this.menuStack[cs.getMenuItemLevel(dE)-1];if(ss.isNullOrUndefined(dF)){return null}else{return dF.domRoot}},updateMenu:function(){this.dom.content.children().remove();this.$b={};this.menuDisposables.dispose();this.menuDisposables=new tab.DisposableHolder;this.buildMenu(this.dom,this.menuViewModel.get_menu())},hidden:function(){var dD=ss.mkdel(this,function(){this.dom.domRoot.detach();this.removeGlass()});this.$5(dD)},shown:function(dD){if(dD.get_minWidth()!==0){var dE=tab.DoubleUtil.roundToInt(this.dom.domRoot.outerWidth(true))-tab.DoubleUtil.roundToInt(this.dom.domRoot.width());this.dom.domRoot.css('min-width',dD.get_minWidth()-dE+'px')}var dF=989;if(dD.relativeDom.length>0){var dG=tab.DomUtil.getComputedZIndex(dD.relativeDom[0]);if(dG>=dF){dF=Math.max(1000,dG+1)}}this.removeGlass();var dH=new bs(null,false);dH.set_zIndex(dF-1);this.glass=dH;this.glass.add_click(ss.mkdel(this,this.glassClicked));this.glass.show();this.dom.domRoot.css('z-index',dF);if(ss.isValue(dD.additionalMenuClass)){this.dom.domRoot.addClass(dD.additionalMenuClass)}db.getViewport(ss.mkdel(this,function(dJ){this.dom.domRoot.appendTo($('body'));this.positionMenu(dJ,dD,this.dom);this.dom.domRoot.css('visibility','visible');this.onAddedToDom();this.dom.domRoot.show();this.onSized()}));this.disposables.add$1(bl.bindWithDispose($(window),'resize',ss.mkdel(this,function(dJ){this.menuViewModel.hide()})));var dI=ss.mkdel(this,function(dJ){this.menuViewModel.hide()});tab.WindowHelper.addListener(window.self,'popstate',dI);this.disposables.add$1(new tab.CallOnDispose(function(){tab.WindowHelper.removeListener(window.self,'popstate',dI)}));EventUtils.GlobalUIEvents.add_DismissTemporaryElements(ss.mkdel(this,this.onDismissTemporaryElements));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){EventUtils.GlobalUIEvents.remove_DismissTemporaryElements(ss.mkdel(this,this.onDismissTemporaryElements))})))},onSized:function(){},$9:function(dD,dE){var dF=this.$b[dD.id];if(ss.isValue(dF)&&dF.is(':visible')){dF.toggleClass('tabMenuSelectedItem',dE);if(dE){this.scrollToMenuItem(dF)}}},scrollToMenuItem:function(dD){dD.offsetParent().scrollTop(tab.DoubleUtil.roundToInt(dD.position().top))},glassClicked:function(){this.menuViewModel.hide()},onDismissTemporaryElements:function(){this.menuViewModel.hide()},showSubmenu:null,activateSubmenu:function(dD,dE){if(!dD.enabled){return}var dF=dE.data('tabMenuMenuItemLevel');if(ss.isValue(dF)&&dF<this.menuStack.length){return}var dG=new cr;dG.domRoot.addClass(this.menuViewModel.get_theme().menuClass);dG.domRoot.attr('data-sub-menu-depth',this.menuStack.length.toString());this.menuStack.push(dG);this.buildMenu(dG,dD.subMenu);this.showSubmenu(dD,dE,dG);dG.domRoot.focus();dG.domRoot.on('blur',ss.mkdel(this,this.onBlur))},buildMenu:function(dD,dE){var dF=false;var dG=false;var dH=false;var dI=[];var dJ=dg.targetAndClick(dD.domRoot.get(0),ss.mkdel(this,this.$8));this.menuDisposables.add$1(dJ);for(var dK=0;dK<dE.menuItems.length;dK++){var dL=dE.menuItems[dK];var dM;if(dL.isDivider){dM=(new cp).domRoot.addClass(this.menuViewModel.get_theme().dividerClass)}else{if(dL.isTextInput){var dN=this.$6(dL);dM=dN.domRoot}else if(ss.isInstanceOfType(dL,Y)){dM=dL.get_domRoot()}else{var dO=(new m(dL.get_displayName(),dL.enabled)).$2(dL.checkState,dL.iconClass).$3(dL.iconClassTwo).$1(dL.description).$6(dL.title).$4(dL.subMenu).$5([this.menuViewModel.get_theme().itemClass,dL.itemClass]).$0();dF=dF||dO.$2;dG=dG||dO.$3;dH=dH||dO.$1;dO.domRoot.data('tabMenuMenuItem',dL);dO.domRoot.data('tabMenuMenuItemLevel',this.menuStack.length);dM=dO.domRoot}dM.addClass('tabMenuMenuItem');if(dL.isDefault){dM.addClass('tabMenuDefaultItem')}}dI.push(dM);this.$b[dL.id]=dM}dD.content.append(dI);if(!dF){dD.domRoot.addClass(this.menuViewModel.get_theme().noIconClass)}if(dG){dD.domRoot.addClass('tabMenuHasIconTwo')}if(!dH){dD.domRoot.addClass(this.menuViewModel.get_theme().noDescClass)}if(ss.isValue(this.menuViewModel.get_selectedItem())){this.$9(this.menuViewModel.get_selectedItem(),true)}},$8:function(dD){var dE=$(dD.target).closest('.'+'tabMenuMenuItem');var dF=dE.data('tabMenuMenuItem');if(ss.isNullOrUndefined(dF)){return}else if(ss.isValue(dF.subMenu)){this.activateSubmenu(dF,dE)}else{this.menuViewModel.clickMenuItem(dF);tab.OnlineAnalyticsClient.logEvent('Authoring_ContextMenuItemClicked',ss.mkdict(['MenuItemId',dF.telemetryId,'CheckState',dF.checkState]))}},onBlur:function(dD){window.setTimeout(ss.mkdel(this,function(){var dE=this.$a();if(dE.index(document.activeElement)<0&&dE.find(document.activeElement).length===0){this.get_viewModel().hide()}}))},$7:function(dD){dD.stopPropagation();switch(dD.which){case 13:{var dE=dD.data['callback'];if($.isFunction(dE)){dE($(dD.target).val())}break}case 9:{dD.preventDefault();dD.target.blur();this.menuViewModel.iterateFocus((dD.shiftKey?-1:1),null);break}}},$6:function(dD){var dE=new cq;dE.textInput.keydown(ss.mkdict(['callback',dD.data]),ss.mkdel(this,this.$7)).keypress(cs.$0).focus(ss.mkdel(this,function(dF){this.get_viewModel().set_focusedItem(dD)})).attr('placeholder',dD.description);if(!ss.isNullOrEmptyString(dD.itemClass)){dE.domRoot.addClass(dD.itemClass)}this.disposables.add$1(new tab.CallOnDispose(function(){dE.textInput.off()}));return dE},$5:function(dD){if($.fx.off||!this.menuViewModel.get_shouldAnimateOnClose()){dD()}else{this.$a().fadeOut(50,dD)}}},{getMenuItem:function(dD){return dD.data('tabMenuMenuItem')},getMenuItemLevel:function(dD){return ss.coalesce(dD.data('tabMenuMenuItemLevel'),1)},$0:function(dD){dD.stopPropagation()}});var ct=global.spiff.MenuViewModel=ss.mkType(a,'spiff.MenuViewModel',function(){this.$0=null;this.$3=null;this.$4=null;this.$2=null;this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=false;this.$2$8=false;this.$2$9=false;this.$2$10=null;this.$2$11=null;this.$2$12=null;w.call(this);this.set_shouldAnimateOnClose(true);this.set_theme(new dx);this.$1=_.once(ss.mkdel(this,function(){tab.ObjectRegistry.newView(cs).call(null,[this])}));this.$0=ss.mkdel(this,function(){_.defer(ss.mkdel(this,this.dispose))});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(this.$0)})))},{add_shown:function(dD){this.$2$1=ss.delegateCombine(this.$2$1,dD)},remove_shown:function(dD){this.$2$1=ss.delegateRemove(this.$2$1,dD)},add_hidden:function(dD){this.$2$2=ss.delegateCombine(this.$2$2,dD)},remove_hidden:function(dD){this.$2$2=ss.delegateRemove(this.$2$2,dD)},add_menuChanged:function(dD){this.$2$3=ss.delegateCombine(this.$2$3,dD)},remove_menuChanged:function(dD){this.$2$3=ss.delegateRemove(this.$2$3,dD)},add_menuItemClicked:function(dD){this.$2$4=ss.delegateCombine(this.$2$4,dD)},remove_menuItemClicked:function(dD){this.$2$4=ss.delegateRemove(this.$2$4,dD)},add_menuItemSelectionChanged:function(dD){this.$2$5=ss.delegateCombine(this.$2$5,dD)},remove_menuItemSelectionChanged:function(dD){this.$2$5=ss.delegateRemove(this.$2$5,dD)},add_menuItemFocusChanged:function(dD){this.$2$6=ss.delegateCombine(this.$2$6,dD)},remove_menuItemFocusChanged:function(dD){this.$2$6=ss.delegateRemove(this.$2$6,dD)},get_visible:function(){return this.$2$7},set_visible:function(dD){this.$2$7=dD},get_isExpanded:function(){return this.$2$8},set_isExpanded:function(dD){this.$2$8=dD},get_shouldAnimateOnClose:function(){return this.$2$9},set_shouldAnimateOnClose:function(dD){this.$2$9=dD},get_ariaLabel:function(){return this.$2$10},set_ariaLabel:function(dD){this.$2$10=dD},get_id:function(){return this.$2$11},set_id:function(dD){this.$2$11=dD},set_disposeOnHide:function(dD){this.remove_hidden(this.$0);if(dD){this.add_hidden(this.$0)}},get_menu:function(){return this.$3},set_menu:function(dD){if(_.isEqual(this.$3,dD)){return}this.$3=dD;if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},get_theme:function(){return this.$2$12},set_theme:function(dD){this.$2$12=dD},get_selectedItem:function(){return this.$4},set_selectedItem:function(dD){if(ss.isValue(this.$4)){if(!ss.staticEquals(this.$2$5,null)){this.$2$5(this.$4,false)}}if(ss.isNullOrUndefined(dD)){this.$4=null;return}this.$4=dD;if(!ss.staticEquals(this.$2$5,null)){this.$2$5(this.$4,true)}},get_focusedItem:function(){return this.$2},set_focusedItem:function(dD){if(ss.referenceEquals(this.$2,dD)){return}if(ss.isValue(this.$2)&&!ss.staticEquals(this.$2$6,null)){this.$2$6(this.$2,false)}if(ss.isNullOrUndefined(dD)||!dD.enabled){this.$2=null;return}this.$2=dD;if(!ss.staticEquals(this.$2$6,null)){this.$2$6(this.$2,true)}},show:function(dD){this.$1();this.set_isExpanded(dD.expanded);if(this.get_visible()){return}this.set_visible(true);if(tsConfig.is_desktop){(new bb(this)).show(dD)}else if(!ss.staticEquals(this.$2$1,null)){this.$2$1(dD)}},dispose:function(){this.hide();w.prototype.dispose.call(this)},hide:function(){if(this.get_visible()===false){return}this.set_visible(false);this.raiseActionEvent(this.$2$2)},clickMenuItem:function(dD){if(!dD.enabled){return}this.hide();if(!ss.staticEquals(this.$2$4,null)){this.$2$4(dD)}},iterateFocus:function(dD,dE){var dF=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(dF)){return}var dG=dE;if(ss.isNullOrUndefined(dG)){dG=ss.indexOf(dF.menuItems,this.get_focusedItem())}var dH=dG;var dI=dH;do{dI+=dD;if(dI>=dF.menuItems.length){dI=0}else if(dI<0){dI=dF.menuItems.length-1}}while(!dF.menuItems[dI].get_selectable()&&dI!==dH);if(dI!==dH){this.set_focusedItem(dF.menuItems[dI])}},focusByNamePrefix:function(dD){dD=dD.toLowerCase();var dE=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(dE)){return}var dF=ss.indexOf(dE.menuItems,this.get_focusedItem())+1;if(dF>=dE.menuItems.length){dF=0}var dG=dF;do{if(dE.menuItems[dG].enabled&&!dE.menuItems[dG].isDivider){if(ss.isValue(dE.menuItems[dG].name)&&ss.startsWithString(dE.menuItems[dG].name.toLowerCase(),dD)){this.set_focusedItem(dE.menuItems[dG]);return}}++dG;if(dG>=dE.menuItems.length){dG=0}}while(dG!==dF)},findMenuForMenuItem:function(dD){if(ss.isNullOrUndefined(dD)){return null}var dE=null;dE=function(dF){if(ss.contains(dF.menuItems,dD)){return dF}for(var dG=0;dG<dF.menuItems.length;dG++){var dH=dF.menuItems[dG];if(ss.isValue(dH.subMenu)){var dI=dE(dH.subMenu);if(ss.isValue(dI)){return dI}}}return null};return dE(this.get_menu())},findItemContainingSubMenu:function(dD){if(ss.isNullOrUndefined(dD)||ss.referenceEquals(this.get_menu(),dD)){return null}var dE=null;dE=function(dF){var dG=null;for(var dH=0;dH<dF.menuItems.length;dH++){var dI=dF.menuItems[dH];if(ss.isValue(dI.subMenu)){dG=(ss.referenceEquals(dI.subMenu,dD)?dI:dE(dI.subMenu));if(ss.isValue(dG)){break}}}return dG};return dE(this.get_menu())},hasMenuItems:function(){return ss.isValue(this.get_menu())&&!tab.MiscUtil.isNullOrEmpty$3(this.get_menu().menuItems)}},{createForMenu:function(dD,dE,dF,dG){var dH=new ct;dH.set_menu(dD);dH.set_disposeOnHide(true);var dI=dH;if(!ss.staticEquals(dE,null)){dI.add_menuItemClicked(dE);dI.disposables.add$1(new tab.CallOnDispose(function(){dI.remove_menuItemClicked(dE)}))}if(!ss.staticEquals(dF,null)){dI.add_hidden(dF);dI.disposables.add$1(new tab.CallOnDispose(function(){dI.remove_hidden(dF)}))}if(!ss.staticEquals(dG,null)){dI.add_shown(dG);dI.disposables.add$1(new tab.CallOnDispose(function(){dI.remove_shown(dG)}))}return dI},handleMenuActionItemClicked:function(dD){if($.isFunction(dD.data)){dD.data()}}});var cu=global.spiff.MenuViewTheme=ss.mkType(a,'spiff.MenuViewTheme',function(){this.menuClass='tabMenuBaseTheme';this.itemClass='tabMenuItemBaseTheme';this.dividerClass='tabMenuItemDividerBaseTheme';this.noIconClass='tabMenuNoIcons';this.noDescClass='tabMenuNoDesc'});var cv=global.spiff.ModalDialog=ss.mkType(a,'spiff.ModalDialog',function(dD,dE){this.$y=null;this.template=null;bc.call(this,dD,dE.domRoot);this.template=dE;this.$w();this.element.attr('aria-modal','true')},{get_glass:function(){return this.$y},ensureAttachedAndSized:function(){if(ss.isValue(this.$y)||this.isAttached()){return}this.$y=new bs(null,false);this.$y.set_opaque(true);this.$y.show();this.element.css('z-index',(this.$y.get_zIndex()+1).toString());bc.prototype.ensureAttachedAndSized.call(this)},bindToEvents:function(){bc.prototype.bindToEvents.call(this);this.disposables.add$1(bl.bindWithDispose($(window),'resize',ss.mkdel(this,this.onWindowResize)));this.disposables.add$1(bl.bindWithDispose($(window),'keyup',ss.mkdel(this,this.onDocumentKeyUp)))},detach:function(){this.$x();bc.prototype.detach.call(this)},dispose:function(){this.$x();if(ss.isValue(this.template)){this.template.dispose();this.template=null}bc.prototype.dispose.call(this)},$x:function(){if(ss.isValue(this.$y)){this.$y.dispose();this.$y=null}},$w:function(){this.configMoveDragSource(bc.defaultStationaryDialogConfigurer)},onWindowResize:function(dD){this.positionInWindow()},onDocumentKeyUp:function(dD){if(dD.which===27){this.close(null);dD.preventDefault();dD.stopPropagation();return}}},{$ctor1:function(dD,dE){cv.call(this,dD,new dh(dE))}});var cw=global.spiff.MoveDragInstance=ss.mkType(a,'spiff.MoveDragInstance',function(dD,dE,dF,dG){cw.$ctor1.call(this,dD,dE,dF,cw.$1,dG)},{get_dragType:function(){return'dragmove'},moveTo:function(dD){if(ss.isValue(this.$2)){this.$2(dD)}},endDragAt:function(dD){if(ss.isValue(this.$1)){this.$1(dD)}},cancelDrag:function(){if(ss.isValue(this.$0)){this.$0()}}},{$ctor1:function(dD,dE,dF,dG,dH){this.$2=null;this.$1=null;this.$0=null;EventUtils.DragInstance.call(this,dD,dH);this.$2=dE;this.$1=dF;this.$0=dG}});var cx=global.spiff.MoveDragSource=ss.mkType(a,'spiff.MoveDragSource',function(dD,dE,dF){this.$3=null;this.$2=null;this.$4=null;this.$1=null;this.$0=false;this.$1$1=null;this.$1$2=null;this.$3=dD;this.$2=dE;this.$1='useScrollSize';this.$0=dF;EventUtils.DragDropManager.attachDragSource(this.$3,this)},{add_moveAction:function(dD){this.$1$1=ss.delegateCombine(this.$1$1,dD)},remove_moveAction:function(dD){this.$1$1=ss.delegateRemove(this.$1$1,dD)},add_endAction:function(dD){this.$1$2=ss.delegateCombine(this.$1$2,dD)},remove_endAction:function(dD){this.$1$2=ss.delegateRemove(this.$1$2,dD)},get_offset:function(){return this.$4},set_offset:function(dD){this.$4=dD},get_elementToDrag:function(){return this.$3},get_elementToChange:function(){return this.$2},get_documentBodySize:function(){return this.$1},set_documentBodySize:function(dD){this.$1=dD},dispose:function(){EventUtils.DragDropManager.removeDragSource(this.$3)},calculateOffset:function(dD){var dE=this.$2.position();return{x:dD.pageX-tab.DoubleUtil.roundToInt(dE.left),y:dD.pageY-tab.DoubleUtil.roundToInt(dE.top)}},startDrag:function(dD){this.$4=this.calculateOffset(dD);this.$3.addClass('dragging');if(this.$0){this.$2.addClass('dragging')}return new cw(this.$3,ss.mkdel(this,this.dragMove),ss.mkdel(this,this.dragEnd),null)},acceptsDragType:function(){return 1},dragMove:function(dD){this.performMove(dD);if(ss.isValue(this.$1$1)){this.$1$1(dD)}},performMove:function(dD){var dE=dD.pageX-this.$4.x;var dF=dD.pageY-this.$4.y;var dG=((this.$1==='useClientSize')?document.body.clientWidth:document.body.scrollWidth);var dH=((this.$1==='useClientSize')?document.body.clientHeight:document.body.scrollHeight);dE=Math.max(0,Math.min(dG-tab.DoubleUtil.roundToInt(this.$2.outerWidth()),dE));dF=Math.max(0,Math.min(dH-tab.DoubleUtil.roundToInt(this.$2.outerHeight()),dF));tab.DomUtil.setElementPosition(this.$2,dE,dF,null,null)},dragEnd:function(dD){this.performMove(dD);this.$3.removeClass('dragging');if(this.$0){this.$2.removeClass('dragging')}if(ss.isValue(this.$1$2)){this.$1$2(dD)}}});var cy=global.spiff.MultiSelectGroupSelection=ss.mkType(a,'spiff.MultiSelectGroupSelection',function(dD){bu.call(this,dD)},{get_selectedCount:function(){return(this.get_theAllItemIsSelected()?this.groupSize:ss.count(Object.keys(this.get_selectedIndexes())))},handleTap:function(dD){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var dE=0;dE<this.groupSize;++dE){if(dE!==dD){this.get_selectedIndexes()[dE]=true}}}else if(this.get_selectedIndexes()[dD]){delete this.get_selectedIndexes()[dD]}else{this.get_selectedIndexes()[dD]=true;this.validateAllSelectedState()}},handleTapAll:function(){this.set_theAllItemIsSelected(!this.get_theAllItemIsSelected())},clone:function(){var dD=new cy(this.groupSize);dD.allSelected=this.allSelected;dD.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return dD},isSelected:function(dD){return this.get_theAllItemIsSelected()||ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),dD)}},{buildMultiSelectGroupSelection$1:function(dD){return function(dE,dF){var dG=new cy(dE.length);var dH=dE.length;for(var dI=0;dI<dH;++dI){if(dF(dE[dI])){dG.get_selectedIndexes()[dI]=true}}dG.validateAllSelectedState();return dG}},buildMultiSelectGroupSelection:function(dD){return function(dE,dF){var dG=new cy(dE.length);if(dF){dG.handleTapAll()}return dG}}});var cz=global.spiff.NoopDropTarget=ss.mkType(a,'spiff.NoopDropTarget',function(){EventUtils.DelegateDropTarget.call(this);this.onFeedbackType=function(){return'dropfeedbackuponentry'};this.onDragOver=function(dD,dE){return dE};this.onAcceptDrop=function(dD){return $.Deferred().resolve(false)};this.onGetDropCursor=function(dD){return V.noOp}});var cA=global.spiff.OnBlurBehavior=ss.mkEnum(a,'spiff.OnBlurBehavior',{reset:0,commit:1,none:2});var cB=global.spiff.OrientationHandler=ss.mkType(a,'spiff.OrientationHandler',null,null,{add_orientationChanged:function(dD){cB.$1$1=ss.delegateCombine(cB.$1$1,dD)},remove_orientationChanged:function(dD){cB.$1$1=ss.delegateRemove(cB.$1$1,dD)},get_isLandscape:function(){return cB.$f===90||cB.$f===-90},get_isPortrait:function(){return cB.$f===0||cB.$f===180},get_windowInstHelper:function(){return cB.$l},init:function(){if(!tsConfig.is_mobile){cB.$f=0;return}cB.$k=cB.$1();cB.$l=new tab.WindowHelper(cB.$k);cB.$f=cB.$3();cB.$g=cB.$l.get_innerWidth();if(BrowserSupport.BrowserSupport.OrientationChange()){$(cB.$k).on('orientationchange'.toString(),cB.$6)}$(cB.$k).on('resize'.toString(),cB.$7);if('addEventListener'in window.self){window.addEventListener('unload',cB.$a,true)}},$a:function(dD){cB.unbindEvents()},unbindEvents:function(){if(ss.isNullOrUndefined(cB.$k)){return}$(cB.$k).off('orientationchange'.toString(),cB.$6);$(cB.$k).off('resize'.toString(),cB.$7)},$1:function(){var dD=tab.WindowHelper.get_windowSelf();if(tabBootstrap.EmbedAndViewportCalculator.get_isEmbeddedInsideAnotherPage()){try{while(ss.isValue(dD.parent)&&!ss.referenceEquals(dD.parent,dD)){var dE=dD.parent;var dF=new tab.WindowHelper(dE);if(ss.isNullOrUndefined(dF.get_outerWidth())){break}dD=dE}}catch(dG){}}return dD},$6:function(dD){cB.$i=new Date;cB.$5()},$5:function(){var dD=new Date;if(dD-cB.$i>=2500||cB.$h||cB.$9()||cB.$8()){cB.$b();cB.$2()}else{cB.$0();cB.$j=window.setTimeout(cB.$5,75)}},$7:function(dD){if(cB.$h||cB.$9()){cB.$b();cB.$2()}},$2:function(){cB.$0();if(cB.$8()){cB.$f=cB.$3();cB.$h=false;if(ss.isValue(cB.$1$1)){cB.$1$1()}}},$9:function(){var dD=cB.$l.get_innerWidth();if(cB.$g!==dD){return true}return false},$8:function(){var dD=cB.$3();if(cB.$f!==dD){return true}return false},$b:function(){cB.$g=cB.$l.get_innerWidth();cB.$h=true},$3:function(){var dD;if(!BrowserSupport.BrowserSupport.IsAndroid()){dD=cB.$4();if(ss.isValue(dD)){return ss.unbox(dD)}}dD=((cB.$l.get_innerWidth()<cB.$l.get_innerHeight())?0:90);return ss.unbox(dD)},$4:function(){try{return cB.$k.orientation}catch(dD){}return null},$0:function(){cB.$j=tab.MiscUtil.clearTimeout(cB.$j)}});var cC=global.spiff.PagableListComponent$2=ss.mkType(a,'spiff.PagableListComponent$2',function(dD,dE){var dF=ss.registerGenericClassInstance(cC,[dD,dE],function(dG){React.Component.call(this,dG)},{render:function(){var dG=_.map(this.props.items,ss.mkdel(this,function(dK,dL){var dM=this.getEventHandleSpecForItem(dK);var dN=['tabListItem'];if(ss.imod(dL,2)===1){dN.push('tabListItemAlternate')}var dO={className:dN.join(' '),key:this.getUniqueKey(dK.data)};if(ss.isNullOrUndefined(dM)){return bf.div(dO,this.buildItem(dK.data))}else{return EventUtils.EventForwarder.div(dM,dO,this.buildItem(dK.data))}}));var dH=new cR;dH.scrollY=true;dH.scrollbars=true;dH.onScrollStop=ss.mkdel(this,this.onScrollStop);dH.alwaysShowScrollbarsIfScrollable=this.shouldScrollbarAlwaysBeShown();dH.startingY=this.props.startingY;var dI=dH;var dJ=cQ.createScroller(dI,dG);return bf.div({className:'tabPagableList'},dJ)},buildItem:null,getUniqueKey:null,onScrollStop:null,getEventHandleSpecForItem:function(dG){return null},shouldScrollbarAlwaysBeShown:function(){return false}},null,function(){return React.Component});return dF});ss.initGenericClass(cC,2);var cD=global.spiff.PopupListView=ss.mkType(a,'spiff.PopupListView',function(dD){ch.call(this,dD,dD.get_listItemCreator())});var cE=global.spiff.PopupListViewModel=ss.mkType(a,'spiff.PopupListViewModel',function(dD,dE,dF){this.$b=null;cj.call(this,dD,dF);this.$b=dE},{get_viewType:function(){return cD},get_viewModel:function(){return this},get_listItemCreator:function(){return this.$b},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(dD){}});var cF=global.spiff.PureRender=ss.mkType(a,'spiff.PureRender',null,null,{mixIn:function(dD){var dE=function(dF,dG){return cF.$0(dD,dF,dG)};dD['shouldComponentUpdate']=dE},$0:function(dD,dE,dF){var dG=!tab.MiscUtil.shallowEquals(dD.props,dE)||!tab.MiscUtil.shallowEquals(dD.state,dF);if(!dG){}return dG}});var cG=global.spiff.PureRenderComponent=ss.mkType(a,'spiff.PureRenderComponent',function(dD){React.Component.call(this,dD)},{render:null,shouldComponentUpdate:function(dD,dE){return cF.$0(this,dD,dE)}},{$ctor1:function(dD,dE){React.Component.call(this,dD,dE)}});var cH=global.spiff.ReactComponentExtensions=ss.mkType(a,'spiff.ReactComponentExtensions',null,null,{generateUniqueKeys:function(dD){return function(dE,dF){var dG={};for(var dH=0;dH<dE.length;++dH){dG[dE[dH].toString()]=0}for(var dI=0;dI<dF.length;++dI){dG[dF[dI]]=1}return _.map(dE,function(dJ){var dK=dJ.toString();var dL=dG[dK];if(dL===0){dG[dK]=1;return dK}var dM=null;do dM=[dK,'_',++dL].join('');while(ss.isValue(dG[dM]));dG[dK]=dL;dG[dM]=1;return dM})}}});var cI=global.spiff.ReactElement=ss.mkType(a,'spiff.ReactElement',null,null,{div$1:function(dD,dE){return bf.div.apply(null,[{className:dD}].concat(dE))},div:function(dD,dE){var dF=(ss.isValue(dD)?dD.join(' '):null);return bf.div.apply(null,[{className:dF}].concat(dE))},span$1:function(dD,dE){return bf.span.apply(null,[{className:dD}].concat(dE))},span:function(dD,dE){var dF=(ss.isValue(dD)?dD.join(' '):null);return bf.span.apply(null,[{className:dF}].concat(dE))},br:function(dD){return bf.br({className:dD})}});var cJ=global.spiff.ReactHostView$3=ss.mkType(a,'spiff.ReactHostView$3',function(dD,dE,dF){var dG=ss.registerGenericClassInstance(cJ,[dD,dE,dF],function(dH){this.$6=ss.getDefaultValue(dD);this.$1$1=null;this.$1$2=null;this.$0($("<div class='tab-ReactView'></div>"));this.$5(this.get_rootElement().get(0));this.$6=dH;this.$6.add_disposed(ss.mkdel(this,this.$2));this.$6.add_propsUpdated(ss.mkdel(this,this.$1))},{get_viewModel:function(){return this.$6},get_rootElement:function(){return this.$1$1},$0:function(dH){this.$1$1=dH},$4:function(){return this.$1$2},$5:function(dH){this.$1$2=dH},addToDom:function(dH){dH.append(this.$4());this.$3(this.$6.get_props())},onAddedToDom:function(){},$1:function(){this.$3(this.$6.get_props())},$3:function(dH){ReactDOM.render(React.createElement(dE,dH),this.$4())},dispose:function(){ReactDOM.unmountComponentAtNode(this.$4());this.get_rootElement().remove();this.$6.remove_propsUpdated(ss.mkdel(this,this.$1));this.$6.remove_disposed(ss.mkdel(this,this.$2))},$2:function(dH){this.dispose()},addClass:function(dH){this.get_rootElement().addClass(dH)}},null,null,function(){return[ss.makeGenericType(tab.IView$1,[dD]),ss.IDisposable,tab.IAppendableView]});dG.$1="<div class='tab-ReactView'></div>";tab.ObjectRegistry.registerType(dG,dG).call(null);return dG});ss.initGenericClass(cJ,3);var cK=global.spiff.ReactRefs=ss.mkType(a,'spiff.ReactRefs',null,null,{attachDragSource:function(dD){var dE=null;return function(dF){if(ss.isValue(dF)){dE=ReactDOM.findDOMNode(dF);EventUtils.DragDropManager.attachDragSource($(dE),dD())}else{EventUtils.DragDropManager.removeDragSource($(dE))}}},attachDropTarget:function(dD){var dE=null;return function(dF){if(ss.isValue(dF)){dE=ReactDOM.findDOMNode(dF);EventUtils.DragDropManager.attachDropTarget($(dE),dD())}else{EventUtils.DragDropManager.detachDropTarget($(dE))}}}});var cL=global.spiff.ReactSpiffAdapter$3=ss.mkType(a,'spiff.ReactSpiffAdapter$3',function(dD,dE,dF){var dG=ss.registerGenericClassInstance(cL,[dD,dE,dF],function(dH,dI,dJ){this.$3$1=null;React.Component.call(this,dI,dJ);this.set_widget(dH);this.get_widget().add_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged))},{get_widget:function(){return this.$3$1},set_widget:function(dH){this.$3$1=dH},render:function(){return bf.div(null,'')},componentDidMount:function(){var dH=$(ReactDOM.findDOMNode(this));this.get_widget().addToDom(dH)},componentWillUnmount:function(){this.get_widget().remove_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged));this.get_widget().dispose()},componentWillReceiveProps:function(dH){this.updateWidgetState(dH)},handleWidgetPropertyChanged:null,updateWidgetState:null},null,function(){return React.Component});return dG});ss.initGenericClass(cL,3);var cM=global.spiff.ResizeDragSource=ss.mkType(a,'spiff.ResizeDragSource',function(dD,dE,dF){this.$5='bottomRight';cx.call(this,dD,dE,false);this.$5=dF},{calculateOffset:function(dD){var dE=tab.PointUtil.fromPosition(this.get_elementToChange().position());var dF={x:0,y:0};switch(this.$5){case'bottomRight':{dF.x=dE.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-dD.pageX;dF.y=dE.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-dD.pageY;break}case'topLeft':{dF.x=dD.pageX-dE.x;dF.y=dD.pageY-dE.y;break}case'left':{dF.x=dD.pageX-dE.x;break}case'right':{dF.x=dE.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-dD.pageX;break}case'top':{dF.y=dD.pageY-dE.y;break}case'bottom':{dF.y=dE.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-dD.pageY;break}}return dF},performMove:function(dD){var dE=tab.PointUtil.fromPosition(this.get_elementToChange().position());var dF=tab.DoubleUtil.roundToInt(this.get_elementToChange().width());var dG=tab.DoubleUtil.roundToInt(this.get_elementToChange().height());var dH=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientWidth:tab.DomUtil.get_documentBody().scrollWidth);var dI=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientHeight:tab.DomUtil.get_documentBody().scrollHeight);switch(this.$5){case'bottomRight':{this.get_elementToChange().width(Math.min(dD.pageX+this.get_offset().x,dH)-dE.x);this.get_elementToChange().height(Math.min(dD.pageY+this.get_offset().y,dI)-dE.y);break}case'topLeft':{this.get_elementToChange().width(dF+(dE.x-Math.max(dD.pageX-this.get_offset().x,0)));this.get_elementToChange().height(dG+(dE.y-Math.max(dD.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),dE.x+dF-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),dE.y+dG-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()),null,null);break}case'left':{this.get_elementToChange().width(dF+(dE.x-Math.max(dD.pageX-this.get_offset().x,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),dE.x+dF-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),dE.y,null,null);break}case'right':{this.get_elementToChange().width(Math.min(dD.pageX+this.get_offset().x,dH)-dE.x);break}case'top':{this.get_elementToChange().height(dG+(dE.y-Math.max(dD.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),dE.x,dE.y+dG-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()),null,null);break}case'bottom':{this.get_elementToChange().height(Math.min(dD.pageY+this.get_offset().y,dI)-dE.y);break}}}});var cN=global.spiff.ScrollableView=ss.mkType(a,'spiff.ScrollableView',function(dD,dE){ss.makeGenericType(v,[cO]).call(this,dD,dE)},{get_scrollbarBuffer:null,get_scrollerX:null,get_scrollerY:null,scrollTo:null,scrollToElement:null},{createScrollableView:function(dD){if(dD.get_hasCustomIndicator()){return new X(dD)}else{return new ba(dD)}}});var cO=global.spiff.ScrollableViewModel=ss.mkType(a,'spiff.ScrollableViewModel',function(){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;w.call(this);this.$0(true)},{add_contentChanged:function(dD){this.$2$1=ss.delegateCombine(this.$2$1,dD)},remove_contentChanged:function(dD){this.$2$1=ss.delegateRemove(this.$2$1,dD)},add_refresh:function(dD){this.$2$2=ss.delegateCombine(this.$2$2,dD)},remove_refresh:function(dD){this.$2$2=ss.delegateRemove(this.$2$2,dD)},get_content:function(){return this.$3},set_content:function(dD){this.$3=dD;this.raiseActionEvent(this.$2$1)},get_options:function(){return this.$4},get_scrollX:function(){return(ss.isValue(this.$4.scrollX)?this.$4.scrollX:false)},set_scrollX:function(dD){this.$4.scrollX=dD;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenX=dD}},get_scrollY:function(){return(ss.isValue(this.$4.scrollY)?this.$4.scrollY:false)},set_scrollY:function(dD){this.$4.scrollY=dD;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenY=dD}},get_hasScrollBars:function(){return this.get_scrollY()||this.get_scrollX()},get_hasCustomIndicator:function(){return ss.isValue(this.$4.indicators)},set_hasCustomIndicator:function(dD){if(dD){if(ss.isNullOrUndefined(this.$4.indicators)){this.get_options().indicators=new Object;this.get_options().indicators.listenX=this.get_scrollX();this.get_options().indicators.listenY=this.get_scrollY()}}else{this.get_options().indicators=null}},get_indicatorOptions:function(){return this.get_options().indicators},$0:function(dD){this.$4={};this.set_hasCustomIndicator(dD);if(tsConfig.is_mobile){this.$1()}else{this.$2()}},$2:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom';this.$4.interactiveScrollbars=true}this.$4.mouseWheel=true;this.$4.disableMouse=true},$1:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom'}},triggerRefresh:function(){this.raiseActionEvent(this.$2$2)}},{$ctor1:function(dD){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;w.call(this);this.$0(dD)}});var cP=global.spiff.ScrollerType=ss.mkEnum(a,'spiff.ScrollerType',{iScroll:0});var cQ=global.spiff.ScrollingComponent=ss.mkType(a,'spiff.ScrollingComponent',function(dD,dE){React.Component.call(this,dD,dE)},{get_scrollingControl:null,componentDidMount:null,componentWillUnmount:null,render:null},{$0:function(dD){var dE=dD.forceScrollerType;if(ss.isNullOrUndefined(dE)){dE=0}return ss.unbox(dE)},createScroller:function(dD,dE){var dF=cQ.$0(dD);var dG=cQ.$2[dF];if(dE.length===1){return React.createElement(dG,dD,dE[0])}return React.createElement(dG,dD,dE)}});var cR=global.spiff.ScrollingProps=ss.mkType(a,'spiff.ScrollingProps',function(){this.extraCssClass=null;this.customStyle=null;this.forceScrollerType=null;this.scrollX=false;this.scrollY=false;this.scrollbars=true;this.mouseWheel=true;this.alwaysShowScrollbarsIfScrollable=false;this.onScrollStop=null;this.onScroll=null;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true;this.onScrollingControlRefUpdated=null});var cS=global.spiff.ScrollTo=ss.mkType(a,'spiff.ScrollTo',null,null,{elementInContainer:function(dD,dE){if(ss.isValue(dD)&&ss.isValue(dE)){window.setTimeout(function(){var dF=$(dE);var dG=$(dD);if(dG.parents().find(dE).length>0){var dH=dG;var dI=0;var dJ=0;while(dF.find(dH[0]).length>0){var dK=dH.position();dI+=dK.top;dJ+=dK.left;dH=dH.offsetParent()}var dL=dI<0||dJ<0||dI+dG.height()>dF.height()||dJ+dG.width()>dF.width();if(dL){dD.scrollIntoView()}}},0)}}});var cT=global.spiff.SelectableButtonGroupComponent=ss.mkType(a,'spiff.SelectableButtonGroupComponent',function(dD){React.Component.call(this,dD);this.state=this.$1(this.props.selection)},{$8:function(){return this.state.currentSelection},$7:function(){return this.props.showApplyAndCancelButtons&&!ss.referenceEquals(this.state.currentSelection,this.state.currentlyAppliedSelection)},$1:function(dD){var dE=dD;if(ss.isValue(dE)){dE=dE.clone()}return{currentlyAppliedSelection:dD,currentSelection:dE}},componentWillReceiveProps:function(dD){if(!ss.referenceEquals(dD.selection,this.state.currentlyAppliedSelection)){this.setState(this.$1(dD.selection))}},$0:function(){if(ss.referenceEquals(this.$8(),this.state.currentlyAppliedSelection)){return}this.setState(this.$1(this.$8()));if(!ss.staticEquals(this.props.onSelectionChanged,null)){this.props.onSelectionChanged(this.$8())}},$6:function(){this.setState(this.$1(this.state.currentlyAppliedSelection))},render:function(){var dD=this.props.allOption&&this.$8().groupSize>0;var dE;dE=cH.generateUniqueKeys(String).call(null,_.map(this.props.items,function(dH){return dH.label}),[(dD?'__ALL__':null)]);var dF=(!ss.isNullOrEmptyString(this.props.className)?('tab-vScrollable'+' '+this.props.className):'tab-vScrollable');if(this.props.showApplyAndCancelButtons){dF+=' '+'apply-cancel'}var dG='tab-SelectableButtonGroup'+(this.props.hasAnyIcons?' hasIcons':'');return bf.div({className:dG},bf.div({className:dF,role:'listbox'},(dD?ss.mkdel(this,function(){return React.createElement(b,{border:this.props.borders,label:this.props.allItem.label,tooltip:this.props.allItem.tooltip,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$8().get_theAllItemIsSelected(),isButtonTextMarkedAsExcluded:false,onTap:ss.mkdel(this,function(dH){this.$3()}),key:'__ALL__',getCustomContentBefore:this.props.allItem.getCustomContentBefore,getCustomContentAfter:this.props.allItem.getCustomContentAfter,additionalRoles:['option']})})():null),_.map(this.props.items,ss.mkdel(this,function(dH,dI){return React.createElement(b,{border:this.props.borders,disabled:dH.disabled,label:dH.label,tooltip:dH.tooltip,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$8().isSelected(dI),isButtonTextMarkedAsExcluded:this.props.isSelectionExclusive,onTap:ss.mkdel(this,function(dJ){this.$5(dI)}),onDoubleTap:ss.mkdel(this,function(dJ){this.$4(dJ,dH.onDoubleClick)}),key:dE[dI],testId:dH.testId,getCustomContentBefore:dH.getCustomContentBefore,getCustomContentAfter:dH.getCustomContentAfter,tabIndex:(dH.isTabbable?0:null),additionalRoles:['option']})}))),(this.props.showApplyAndCancelButtons?ss.mkdel(this,function(){return bf.div({className:'tab-ApplyCancelPanel'},React.createElement(z,{label:this.props.applyButtonLabel,customClassName:'apply',border:false,onTap:ss.mkdel(this,function(dH){this.$0()}),disabled:!this.$7()}),React.createElement(z,{label:this.props.cancelButtonLabel,customClassName:'cancel',border:false,onTap:ss.mkdel(this,function(dH){this.$6()}),disabled:!this.$7()}))})():null))},$3:function(){this.$8().handleTapAll();this.$2()},$5:function(dD){this.$8().handleTap(dD);this.$2()},$4:function(dD,dE){if(!ss.staticEquals(dE,null)){dE(dD)}},$2:function(){if(this.props.showApplyAndCancelButtons){this.setState(this.state)}else{this.$0()}}},{getDesiredHeight:function(dD){return $('.tab-vScrollable',dD).get(0).scrollHeight},getMinimumWidth:function(dD){return $('.tab-vScrollable',dD).get(0).scrollWidth}});var cU=global.spiff.SelectableButtonGroupItem=ss.mkType(a,'spiff.SelectableButtonGroupItem',function(){this.disabled=false;this.isTabbable=false;this.label=null;this.tooltip=null;this.getCustomContentBefore=null;this.getCustomContentAfter=null;this.testId=null;this.onDoubleClick=null});var cV=global.spiff.SelectableGroup=ss.mkType(a,'spiff.SelectableGroup',function(){this.$7=null;this.$9=null;this.$a=0;this.$8='tabSelected';this.$1$1=null;this.$7=[];this.$9={}},{add_selectionChanged:function(dD){this.$1$1=ss.delegateCombine(this.$1$1,dD)},remove_selectionChanged:function(dD){this.$1$1=ss.delegateRemove(this.$1$1,dD)},get_selectedClass:function(){return this.$8},set_selectedClass:function(dD){this.$8=dD},get_selectionType:function(){return this.$a},set_selectionType:function(dD){this.$a=dD},get_items:function(){return this.$7},get_selectedItems:function(){var dD=[];var dE=ss.getEnumerator(Object.keys(this.$9));try{while(dE.moveNext()){var dF=dE.current();dD.push(this.$9[dF])}}finally{dE.dispose()}return dD},get_selectedItem:function(){if(this.get_numberOfSelectedItems()===0){return null}var dD=Object.keys(this.$9)[0];return this.$9[dD]},get_numberOfSelectedItems:function(){return ss.getKeyCount(this.$9)},addItem:function(dD){dD.set_selectedClass(this.$8);this.$7.push(dD);if(dD.get_selected()){this.$6(dD,false,false)}this.$0(dD)},containsItem:function(dD){return ss.contains(this.get_items(),dD)},dispose:function(){ss.clearKeys(this.$9);this.get_items().forEach(ss.mkdel(this,this.$5));ss.clear(this.get_items())},onItemDisposed:function(dD,dE){var dF=dD;this.$5(dF);if(this.isItemSelected$1(dF)){delete this.$9[dF.get_selectionId()]}ss.remove(this.$7,dF)},$0:function(dD){dD.add_selectableDisposed(ss.mkdel(this,this.onItemDisposed));dD.add_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));dD.add_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},$5:function(dD){dD.remove_selectableDisposed(ss.mkdel(this,this.onItemDisposed));dD.remove_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));dD.remove_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},selectAll:function(){this.selectItems(this.get_items(),false)},isItemSelected$1:function(dD){return ss.isValue(dD)&&ss.keyExists(this.$9,dD.get_selectionId())},isItemSelected:function(dD){return ss.keyExists(this.$9,dD)},selectItem:function(dD){this.$6(dD,false,true)},selectSingleItem:function(dD){this.$6(dD,true,true)},$6:function(dD,dE,dF){var dG=false;if(dE||this.get_selectionType()===0){dG=this.$1(dD)}dG=this.$2(dD)||dG;if(dF&&dG){this.$4()}},selectItems:function(dD,dE){switch(this.get_selectionType()){case 0:{var dF=((ss.isValue(dD)&&dD.length>0)?dD[0]:null);this.selectItem(dF);break}case 1:case 2:{var dG=false;if(dE){dG=this.$1(null)}if(ss.isValue(dD)){for(var dH=0,dI=dD.length;dH<dI;dH++){dG=this.$2(dD[dH])||dG}}if(dG){this.$4()}break}}},$2:function(dD){if(ss.isNullOrUndefined(dD)){return false}if(ss.isNullOrUndefined(dD.get_selectionId())){return false}if(this.isItemSelected$1(dD)){return false}if(!this.containsItem(dD)){return false}this.$9[dD.get_selectionId()]=dD;dD.set_selected(true);return true},clearSelection:function(dD){if(this.$1(dD)){this.$4()}},$1:function(dD){var dE=ss.getKeyCount(this.$9);var dF=ss.getEnumerator(Object.keys(this.$9));try{while(dF.moveNext()){var dG=dF.current();if(ss.isValue(dD)&&ss.referenceEquals(dG,dD.get_selectionId())){continue}this.$3(this.$9[dG])}}finally{dF.dispose()}return dE>0&&ss.getKeyCount(this.$9)!==dE},unselectItem:function(dD){if(!this.isItemSelected$1(dD)){return}this.$3(dD);this.$4()},$3:function(dD){delete this.$9[dD.get_selectionId()];dD.set_selected(false)},handleSelectionChanging:function(dD,dE){var dF=dD;if(dE.get_selecting()){this.selectItem(dF)}else if(this.get_selectionType()!==0){this.unselectItem(dF)}else if(ss.referenceEquals(this.get_selectedItem(),dF)){dE.cancel=true}},handleSelectionChanged:function(dD,dE){var dF=dD;var dG=this.isItemSelected$1(dF);if(dF.get_selected()&&!dG){this.$2(dF)}else if(!dF.get_selected()&&dG){this.$3(dF)}},$4:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}});var cW=global.spiff.SelectionEventArgs=ss.mkType(a,'spiff.SelectionEventArgs',function(dD,dE,dF){this.$1=false;this.$2=false;this.$0=false;ss.CancelEventArgs.call(this);this.$1=dD;this.$2=dE;this.$0=dF},{get_selecting:function(){return this.$1},get_shiftKey:function(){return this.$2},get_ctrlKey:function(){return this.$0}});var cX=global.spiff.SelectionMethod=ss.mkEnum(a,'spiff.SelectionMethod',{single:0,multiGrouped:1,multiToggle:2});var cY=global.spiff.SharedWidgetsPointerEventAdapter=ss.mkType(a,'spiff.SharedWidgetsPointerEventAdapter',function(){this.$0=null;this.$1=null;this.$0=EventUtils.TableauEventHandlerForReact.CreateEmpty()},{didMount:function(dD,dE){var dF=new EventUtils.EventHandleSpec;if(!ss.staticEquals(dE.pointerClick,null)){dF.tap=function(dG){dE.pointerClick(dG.reactEvent)}}if(!ss.staticEquals(dE.pointerDown,null)){dF.firstTouch=function(dG){dE.pointerDown(dG.reactEvent)}}if(!ss.staticEquals(dE.pointerUp,null)){dF.lastTouch=function(dG){dE.pointerUp(dG.reactEvent)}}if(!ss.staticEquals(dE.pointerDoubleClick,null)){dF.doubleTap=function(dG){dE.pointerDoubleClick(dG.reactEvent)}}this.$0.UpdateEventHandleSpec(dD,dF);this.$1=dE},didUpdate:function(dD,dE){if(!ss.staticEquals(this.$1.pointerClick,dE.pointerClick)||!ss.staticEquals(this.$1.pointerDown,dE.pointerDown)||!ss.staticEquals(this.$1.pointerUp,dE.pointerUp)||!ss.staticEquals(this.$1.pointerDoubleClick,dE.pointerDoubleClick)){var dF=new EventUtils.EventHandleSpec;if(!ss.staticEquals(dE.pointerClick,null)){dF.tap=function(dG){dE.pointerClick(dG.reactEvent)}}if(!ss.staticEquals(dE.pointerDown,null)){dF.firstTouch=function(dG){dE.pointerDown(dG.reactEvent)}}if(!ss.staticEquals(dE.pointerUp,null)){dF.lastTouch=function(dG){dE.pointerUp(dG.reactEvent)}}if(!ss.staticEquals(dE.pointerDoubleClick,null)){dF.doubleTap=function(dG){dE.pointerDoubleClick(dG.reactEvent)}}this.$0.Update(dF)}this.$1=dE},getHtmlAttributes:function(dD){return this.$0.EventHandlingAttributesForReact},willUnmount:function(){this.$0.dispose()}});var cZ=global.spiff.ShowMenuOptions=ss.mkType(a,'spiff.ShowMenuOptions',function(dD,dE){this.relativeDom=null;this.preferUp=false;this.preferLeft=false;this.expanded=false;this.additionalMenuClass=null;this.cursorPosition=null;this.activatedBy=null;this.openedFrom=null;this.$1$1=0;this.relativeDom=dD;this.set_minWidth((dE?tab.DoubleUtil.roundToInt(dD.outerWidth()):0))},{get_minWidth:function(){return this.$1$1},set_minWidth:function(dD){this.$1$1=dD}});var da=global.spiff.SingleSelectGroupSelection=ss.mkType(a,'spiff.SingleSelectGroupSelection',function(dD){bu.call(this,dD)},{validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&(ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize||ss.count(Object.keys(this.get_selectedIndexes()))===0)){{this.set_theAllItemIsSelected(true)}}},handleTap:function(dD){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false)}if(!this.get_selectedIndexes()[dD]){if(ss.count(Object.keys(this.get_selectedIndexes()))>0){ss.clearKeys(this.get_selectedIndexes())}this.get_selectedIndexes()[dD]=true}this.validateAllSelectedState()},handleTapAll:function(){if(!this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(true)}},clone:function(){var dD=new da(this.groupSize);dD.allSelected=this.allSelected;dD.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return dD},isSelected:function(dD){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),dD)},selectNext:function(dD){var dE=0;var dF=dE;if(this.get_selectedCount()===1){dE=this.mapSelected(ss.Int32).call(this,function(dG){return dG-0})[0];dF=dE+dD}if(dF>=this.groupSize){if(dE===this.groupSize-1){dF=0}else{dF=this.groupSize-1}}this.$0(dF)},selectPrevious:function(dD){var dE=this.groupSize-1;var dF=dE;if(this.get_selectedCount()===1){dE=this.mapSelected(ss.Int32).call(this,function(dG){return dG-0})[0];dF=dE-dD}if(dF<0){if(dE===0){dF=this.groupSize-1}else{dF=0}}this.$0(dF)},selectFirst:function(){this.$0(0)},selectLast:function(){this.$0(this.groupSize-1)},$0:function(dD){dD=Math.max(0,dD);dD=Math.min(this.groupSize-1,dD);if(this.groupSize>0){this.allSelected=false;this.set_selectedIndexes({});this.get_selectedIndexes()[dD]=true}}},{buildSingleSelectGroupSelection$1:function(dD){return function(dE,dF){var dG=new da(dE.length);var dH=dE.length;if(dH===0){}for(var dI=0;dI<dH;++dI){if(dF(dE[dI])){dG.get_selectedIndexes()[dI]=true}}dG.validateAllSelectedState();return dG}},buildSingleSelectGroupSelection:function(dD){return function(dE,dF){var dG=new da(dE.length);if(dF){dG.handleTapAll()}return dG}}});var db=global.spiff.SpiffBrowserViewport=ss.mkType(a,'spiff.SpiffBrowserViewport',function(dD,dE){this.$0=null;this.$1=null;this.$0=dD;this.$1=dE},{get_dimensions:function(){return this.$0},get_getVisibleRoomFunc:function(){return this.$1},getVisibleRoom:function(dD){if(!ss.staticEquals(this.get_getVisibleRoomFunc(),null)){return this.get_getVisibleRoomFunc()(dD)}var dE=2147483647;return{roomAbove:dE,roomBelow:dE,roomLeft:dE,roomRight:dE}}},{getViewport:function(dD){if(!ss.staticEquals(db.getSpiffBrowserViewportFunc,null)){db.getSpiffBrowserViewportFunc(dD)}else{dD(new db(null,null))}}});var dc=global.spiff.StatelessDropdownComponent=ss.mkType(a,'spiff.StatelessDropdownComponent',function(dD,dE){this.$5=null;this.$6=null;React.Component.call(this,dD,dE);this.$5=ss.mkdel(this,function(dF){this.$6=dF})},{componentDidMount:function(){EventUtils.GlobalUIEvents.add_FirstTouch(ss.mkdel(this,this.$2));EventUtils.GlobalUIEvents.add_DismissTemporaryElements(ss.mkdel(this,this.$1));$(window).on('resize'.toString(),ss.mkdel(this,this.$0))},componentWillUnmount:function(){EventUtils.GlobalUIEvents.remove_FirstTouch(ss.mkdel(this,this.$2));EventUtils.GlobalUIEvents.remove_DismissTemporaryElements(ss.mkdel(this,this.$1));$(window).off('resize'.toString(),ss.mkdel(this,this.$0))},componentDidUpdate:function(){if(this.props.isSelecting){db.getViewport(ss.mkdel(this,this.$4))}},$2:function(dD,dE){if(ss.isValue(this.$6)&&this.$6.contains(dD.target)){return}this.props.onFocusLost()},$1:function(){this.props.onFocusLost()},$0:function(dD){if(this.props.isSelecting){db.getViewport(ss.mkdel(this,this.$4))}},$4:function(dD){var dE=ReactDOM.findDOMNode(this.refs['selector']);var dF=ReactDOM.findDOMNode(this.refs['relative']);if(ss.isNullOrUndefined(dE)||ss.isNullOrUndefined(dF)){return}var dG=$(dE);var dH=this.props.getDesiredHeight(dG);var dI=$(dF);var dJ=tab.PointUtil.fromPosition(dI.offset());var dK=dD.getVisibleRoom(dJ);var dL=dI.innerHeight();var dM=dK.roomBelow-dL-3;var dN=dK.roomAbove-3;var dO=dM>=Math.min(dH,dN);var dP=(dO?dM:dN);dH=Math.min(dH,ss.trunc(dP));var dQ=(dO?'auto':(dL+'px'));var dR=(dO?(dL+'px'):'auto');dG.css('bottom',dQ);dG.css('top',dR);dG.height(dH);if(!ss.staticEquals(this.props.getMinimumWidth,null)){var dS=this.props.getMinimumWidth(dG);if(dS>dK.roomRight){var dT=dS-dK.roomRight+13;dG.css('left',-1*dT+'px')}dG.css('min-width',dS)}},$3:function(dD){if(!ss.staticEquals(this.props.onKeyDown,null)){this.props.onKeyDown(dD)}},render:function(){var dD='tab-Dropdown';if(!ss.isNullOrUndefined(this.props.styleClass)){dD+=' '+this.props.styleClass}var dE=bf.div;var dF={className:dD,role:'combobox',onKeyDown:ss.mkdel(this,this.$3),'aria-expanded':this.props.isSelecting,ref:this.$5};var dG=new EventUtils.EventHandleSpec;dG.tap=ss.mkdel(this,function(dH){this.props.onSelectorToggled()});return dE(dF,EventUtils.EventForwarder.div(dG,{className:'tab-DropdownButton',role:'button',tabIndex:ss.coalesce(this.props.tabIndex,0),ref:'relative'},this.props.renderButton()),(this.props.isSelecting?this.renderSelector():null))},renderSelector:function(){return[bf.div({className:'tab-SelectorContainerOuter',key:'selector-container-outer',ref:'selector'},bf.div({className:'tab-SelectorContainer',key:'selector-container'},this.props.children))]}});var dd=global.spiff.StatelessHorizontalSliderComponent=ss.mkType(a,'spiff.StatelessHorizontalSliderComponent',function(dD){this.$q=null;this.$p=null;this.$o=false;cG.call(this,dD)},{$m:function(){if(ss.isNullOrUndefined(this.$p)){return null}var dD=this.$p.value;if(ss.isNullOrEmptyString(dD)){return null}var dE=parseInt(tableau.format.convertFullwidthNumberToAscii(dD));return this.$j(dE)},$n:function(){if(ss.isNullOrUndefined(this.$q)){return 0}var dD=parseInt(this.$q.value);return this.$j(dD)},componentWillMount:function(){this.$0()},componentWillUnmount:function(){this.$f()},$0:function(){this.$i();EventUtils.GlobalUIEvents.add_DragEnd(ss.mkdel(this,this.$3))},$f:function(){EventUtils.GlobalUIEvents.remove_DragEnd(ss.mkdel(this,this.$3))},$i:function(){this.$o=false},$3:function(dD,dE){if(this.$o){this.$2(this.$n(),false);this.$i()}},$g:function(){var dD={type:'range',value:this.props.value.toString(),min:this.props.minValue,max:this.props.maxValue,className:'tabHorizontalSlider',style:{width:this.props.width},disabled:this.props.disabled,onInput:ss.mkdel(this,this.$6),onChange:ss.mkdel(this,this.$6),onKeyUp:ss.mkdel(this,this.$7),onMouseUp:ss.mkdel(this,this.$9),onMouseDown:ss.mkdel(this,this.$8),onTouchEnd:ss.mkdel(this,this.$a),onTouchStart:ss.mkdel(this,this.$b),ref:ss.mkdel(this,this.$l),key:'sliderInput'};return bf.input(dD)},$h:function(){var dD={type:'text',value:(this.props.emptyTextBox?'':this.props.value.toString()),className:'tabHorizontalSliderPercentageText',disabled:this.props.disabled,onInput:ss.mkdel(this,this.$d),onChange:ss.mkdel(this,this.$d),onKeyUp:ss.mkdel(this,this.$e),onBlur:ss.mkdel(this,this.$c),ref:ss.mkdel(this,this.$k),key:'sliderBox'};if(ss.isValue(this.props.tabIndex)){dD.tabIndex=ss.unbox(this.props.tabIndex)}return bf.input(dD)},render:function(){var dD=[];if(this.props.showValueTextBox){var dE=this.$h();dD.push(dE);if(this.props.showPercentageSign){dD.push(bf.div({className:'tabHorizontalSliderPercentageSign',key:'percentageSign'},'%'))}}var dF=this.$g();return bf.div({className:this.props.styleClass+(this.props.disabled?' disabled':'')+(ss.isNullOrUndefined(this.props.extraCssClass)?'':(' '+this.props.extraCssClass))},bf.div({className:'unification-slider-control'+' '+'tabHorizontalSliderContainer'},dF),dD)},$c:function(dD){this.$2(ss.coalesce(this.$m(),0),false)},$e:function(dD){if(dD.which===13){this.$2(ss.coalesce(this.$m(),0),true)}},$d:function(dD){this.$1(this.$m())},$9:function(dD){this.$4()},$8:function(dD){this.$5()},$a:function(dD){this.$4()},$b:function(dD){this.$5()},$5:function(){this.$o=true},$4:function(){if(this.$o){this.$2(this.$n(),false)}else{this.$1(this.$n())}},$6:function(dD){this.$1(this.$n())},$7:function(dD){this.$2(this.$n(),false)},$1:function(dD){if(this.props.disabled){return}this.props.displayValueChanged(dD)},$2:function(dD,dE){if(this.props.disabled){return}this.props.commitValue(dD,dE)},$l:function(dD){this.$q=null;if(ss.isValue(dD)){this.$q=dD}},$k:function(dD){this.$p=null;if(ss.isValue(dD)){this.$p=dD}},$j:function(dD){if(_.isNaN(dD)||dD<this.props.minValue){return this.props.minValue}else if(dD>this.props.maxValue){return this.props.maxValue}return dD}},{create:function(dD){return React.createElement(dd,dD)}});var de=global.spiff.StyledTextButton=ss.mkType(a,'spiff.StyledTextButton',null,null,{createUnificationLabelButton:function(dD,dE,dF,dG,dH){var dI=de.$0(dD,dE,dF,1,dH);var dJ;switch(dG){case 0:{dJ='tabStyledTextButtonFilledGreen';break}case 1:{dJ='tabStyledTextButtonFilledRed';break}case 2:{dJ='tabStyledTextButtonFilledGrey';break}case 3:{dJ='tabStyledTextButtonOutline';break}default:{dJ='';break}}dI.addClass(dJ);return dI},createActionButton:function(dD,dE,dF,dG,dH){var dI=de.$0(dD,dE,dF,dG,dH);dI.addClass('tabStyledTextButtonAction');return dI},$0:function(dD,dE,dF,dG,dH){var dI=bY.newTextButton(dD,dE);dI.addClass('tabStyledTextButton');switch(dG){case 2:{dI.addClass('tabLargeStyledTextButton');break}case 1:{dI.addClass('tabMediumStyledTextButton');break}}dI.addClass(dF);if(ss.isValue(dH)){dI.tabIndex(ss.unbox(dH))}return dI}});var df=global.spiff.TabControl=ss.mkType(a,'spiff.TabControl',function(dD){this.$1=new cV;this.$5=null;this.$3={};this.$2=new tab.DisposableHolder;this.$4=null;this.$1$1=null;this.$5=dD||new d},{add_tabChanged:function(dD){this.$1$1=ss.delegateCombine(this.$1$1,dD)},remove_tabChanged:function(dD){this.$1$1=ss.delegateRemove(this.$1$1,dD)},get_domRoot:function(){return this.$5.get_root()},get_tabs:function(){return this.$5.get_tabs()},get_contentArea:function(){return this.$5.get_contentArea()},get_activeTabId:function(){return this.$4},set_activeTabId:function(dD){if(!ss.referenceEquals(this.$4,dD)){this.$4=dD;if(ss.isValue(this.$1$1)){this.$1$1()}}},addTab:function(dD,dE,dF,dG){if(ss.keyExists(this.$3,dD)){return}var dH=this.$5.createTabLabel(dD,dE);dH.domRoot.addClass(df.tabLabelIdPrefix+dD);var dI=new dk(dH.domRoot,null);var dJ=ss.mkdel(this,function(dK,dL){if(dL.get_propertyName()==='selected'&&dI.get_selected()){this.$0(dF.get_rootElement(),dD)}});dI.add_propertyChanged(dJ);this.$2.add$1(new tab.CallOnDispose(function(){dI.remove_propertyChanged(dJ)}));this.$2.add$1(dI);this.$1.addItem(dI);this.$3[dD]=dI;this.$5.get_tabs().append(dH.domRoot);dF.addToDom(this.$5.get_contentArea());if(dG){this.selectTab(dD)}else{dI.set_disabled(true)}},selectTab:function(dD){if(!ss.keyExists(this.$3,dD)){return}this.$1.selectItem(this.$3[dD])},enableTab:function(dD,dE){if(!ss.keyExists(this.$3,dD)){return}this.$3[dD].set_disabled(!dE);this.selectTab(this.get_activeTabId())},dispose:function(){this.$2.dispose();this.$1.dispose()},$0:function(dD,dE){this.$5.get_contentArea().children().hide();dD.show();this.set_activeTabId(dE)}});var dg=global.spiff.TableauClickHandler=ss.mkType(a,'spiff.TableauClickHandler',function(dD,dE){this.$7=null;this.$8=null;this.$6=new tab.DisposableHolder;this.$9=0;this.$a=0;this.$b=true;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$7=dE||new EventUtils.EventHandleSpec;this.$7.SetHandler('firstTouch',ss.mkdel(this,this.$3));this.$7.SetHandler('tap',ss.mkdel(this,this.$1));this.$7.SetHandler('rightClick',ss.mkdel(this,this.$4));if(!tsConfig.is_mobile){this.$7.SetHandler('pressEnd',ss.mkdel(this,this.$1))}this.$8=new EventUtils.TableauEventHandler(dD,this.$7)},{$g:function(dD){this.$1$1=ss.delegateCombine(this.$1$1,dD)},$h:function(dD){this.$1$1=ss.delegateRemove(this.$1$1,dD)},$c:function(dD){this.$1$2=ss.delegateCombine(this.$1$2,dD)},$d:function(dD){this.$1$2=ss.delegateRemove(this.$1$2,dD)},$e:function(dD){this.$1$3=ss.delegateCombine(this.$1$3,dD)},$f:function(dD){this.$1$3=ss.delegateRemove(this.$1$3,dD)},$i:function(dD){this.$1$4=ss.delegateCombine(this.$1$4,dD)},$j:function(dD){this.$1$4=ss.delegateRemove(this.$1$4,dD)},get_stopPropagationOnEvent:function(){return this.$b},set_stopPropagationOnEvent:function(dD){this.$b=dD},dispose:function(){if(ss.isValue(this.$8)){this.$8.dispose();this.$8=null}this.$6.dispose()},onPress:function(dD){this.$g(dD);this.$6.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h(dD)})));return this},onClick:function(dD){this.$c(dD);this.$6.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d(dD)})));return this},onDoubleClick:function(dD){this.$e(dD);this.$6.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f(dD)})));this.$0('doubleTap',ss.mkdel(this,this.$2));return this},onRightClick:function(dD){this.$i(dD);this.$6.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j(dD)})));return this},$0:function(dD,dE){if(!this.$7.IsHandling(dD)){var dF=new EventUtils.EventHandleSpec;dF.SetHandler(dD,dE);this.$8.Update(dF);$.extend(this.$7,dF)}},$5:function(dD,dE,dF){if(ss.isValue(dE)){if(dF){dD.stopPropagation()}dE(dD)}},$3:function(dD){this.$9=dD.pageX;this.$a=dD.pageY;this.$5(dD,this.$1$1,false)},$1:function(dD){this.$5(dD,this.$1$2,this.$b);if(dD.type==='touchend'){D.preventGhostClick(this.$9,this.$a,dD.target)}},$2:function(dD){this.$5(dD,this.$1$3,this.$b)},$4:function(dD){var dE=tab.DomUtil.handleTouchEvents(dD.target);if(dE){dD.preventDefault()}this.$5(dD,this.$1$4,this.$b)}},{target:function(dD){return new dg(dD,null)},targetAndConfig:function(dD,dE){return new dg(dD,dE)},targetAndClick:function(dD,dE){return(new dg(dD,null)).onClick(dE)},targetAndRightClick:function(dD,dE){return(new dg(dD,null)).onRightClick(dE)},targetAndDoubleClick:function(dD,dE){return(new dg(dD,null)).onDoubleClick(dE)}});var dh=global.spiff.Template=ss.mkType(a,'spiff.Template',function(dD){this.disposables=new tab.DisposableHolder;this.domRoot=null;this.domRoot=dD},{getElementsBySelector:function(dD){return this.domRoot.find(dD)},getElementBySelector:function(dD){var dE=this.getElementsBySelector(dD);return dE},dispose:function(){this.disposables.dispose();this.domRoot.remove()},addDisposable:function(dD){if(ss.isValue(dD)){this.disposables.add$1(dD)}}},{fromHtml:function(dD){return new dh($(dD))}});var di=global.spiff.TextDropdownButtonComponent=ss.mkType(a,'spiff.TextDropdownButtonComponent',function(dD,dE){cG.$ctor1.call(this,dD,dE)},{render:function(){var dD='tab-SelectionText'+(this.props.isSelectionTextMarkedAsExcluded?' excluded':'');var dE=ss.coalesce(this.props.styleClass,'tab-unification-outline-dropdown');return React.createElement(br,{styleClass:'tab-TextDropdownButton '+dE,selectionDisplay:ss.mkdel(this,function(){return[(!ss.isNullOrEmptyString(this.props.selectionIconClass)?ss.mkdel(this,function(){return bf.span({className:'tab-Icon'+' '+this.props.selectionIconClass,key:'icon'})})():null),bf.span({className:dD,key:'text'},this.props.selectionText)]})})}});var dj=global.spiff.TextInputView=ss.mkType(a,'spiff.TextInputView',function(dD,dE,dF,dG,dH){this.$5=null;this.$6=null;this.$4=false;this.$2$1=null;this.$2$2=null;dC.call(this,dD.get_domRootElement());this.$5=dD;this.$6=dE;this.$5.get_inputElement().val(this.$6);this.$5.get_inputElement().attr('placeholder',dF);this.$5.get_inputElement().attr('title',dF);if(ss.isValue(dG)){var dI='textinput-'+this.get_instanceId();dD.get_inputElement().attr('id',dI);dD.get_inputElement().before($(ss.formatString("<label for='{0}'>{1}</label>",dI,dG)))}if(dH){dD.get_inputElement().attr('readonly','readonly')}this.$5.get_inputElement().on('compositionstart compositionupdate',ss.mkdel(this,function(dJ){this.$4=true})).on('compositionend',ss.mkdel(this,function(dJ){this.$4=false})).on('keydown',ss.mkdel(this,this.$3)).on('input',ss.mkdel(this,this.$2))},{add_enterKeyPressed:function(dD){this.$2$1=ss.delegateCombine(this.$2$1,dD)},remove_enterKeyPressed:function(dD){this.$2$1=ss.delegateRemove(this.$2$1,dD)},add_escapeKeyPressed:function(dD){this.$2$2=ss.delegateCombine(this.$2$2,dD)},remove_escapeKeyPressed:function(dD){this.$2$2=ss.delegateRemove(this.$2$2,dD)},get_text:function(){return this.$6},set_text:function(dD){if(ss.referenceEquals(this.$6,dD)){return}this.get_inputElement().val(dD).trigger('input')},get_inputElement:function(){return this.$5.get_inputElement()},$2:function(dD){var dE=this.get_inputElement().val();if(!ss.referenceEquals(this.$6,dE)){this.$6=dE;this.raisePropertyChanged('text')}},$3:function(dD){if(this.$4){return}switch(dD.which){case 13:{if(!ss.staticEquals(this.$2$1,null)){bl.stopEvent$2(dD);this.$2$1()}break}case 27:{if(!ss.staticEquals(this.$2$2,null)){this.$2$2();dD.stopPropagation()}break}}}},{newTextInputView:function(dD,dE,dF,dG){var dH=new o;return new dj(dH,dD,dE,dF,dG)}});var dk=global.spiff.ToggleButton=ss.mkType(a,'spiff.ToggleButton',function(dD,dE){this.$c=null;this.$d=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;x.call(this,dD);this.$d=dk.$0();this.$c=ss.coalesce(dE,'selected')},{add_selectableDisposed:function(dD){this.$3$1=ss.delegateCombine(this.$3$1,dD)},remove_selectableDisposed:function(dD){this.$3$1=ss.delegateRemove(this.$3$1,dD)},add_selectedChanging:function(dD){this.$3$2=ss.delegateCombine(this.$3$2,dD)},remove_selectedChanging:function(dD){this.$3$2=ss.delegateRemove(this.$3$2,dD)},add_selectedChanged:function(dD){this.$3$3=ss.delegateCombine(this.$3$3,dD)},remove_selectedChanged:function(dD){this.$3$3=ss.delegateRemove(this.$3$3,dD)},get_selectedClass:function(){return this.$c},set_selectedClass:function(dD){if(ss.referenceEquals(this.$c,dD)){return}if(this.get_selected()){this.element.toggleClass(this.$c,false);this.element.toggleClass(dD,true)}this.$c=dD},get_selectionId:function(){return this.$d},set_selectionId:function(dD){this.$d=dD},get_selected:function(){return this.element.hasClass(this.$c)},set_selected:function(dD){if(this.get_selected()===dD){return}this.element.toggleClass(this.$c,dD);this.raisePropertyChanged('selected');this.$b(this.$3$3,null)},get_preventMouseDeselect:function(){return this.$3$4},set_preventMouseDeselect:function(dD){this.$3$4=dD},handleClick:function(dD){if(this.get_disabled()){return}var dE=!this.get_selected();if(this.get_preventMouseDeselect()&&!dE){return}if(!ss.staticEquals(this.$3$2,null)){var dF=new cW(dE,ss.isValue(dD)&&dD.shiftKey,bl.isCtrlKey(dD));this.$3$2(this,dF);if(dF.cancel){return}}this.set_selected(dE);x.prototype.handleClick.call(this,dD)},$b:function(dD,dE){if(!ss.staticEquals(dD,null)){dD(this,dE)}},onDisposed:function(dD){this.$b(this.$3$1,null);dC.prototype.onDisposed.call(this,dD)}},{createButton:function(dD,dE,dF){var dG=new dk(dD,dE);dG.set_selected(dF.get_toggleValue());var dH=function(dI,dJ){if(dJ.get_propertyName()==='selected'){dF.raiseToggled()}};dG.add_propertyChanged(dH);dG.disposables.add$1(new tab.CallOnDispose(function(){dG.remove_propertyChanged(dH)}));return dG},$0:function(){dk.$2++;return'toggleBtn-'+dk.$2.toString()}});var dl=global.spiff.ToggleButtonViewModel=ss.mkType(a,'spiff.ToggleButtonViewModel',function(dD,dE){this.$0=false;this.$2$1=null;this.$2$2=null;w.call(this);this.$0=dE;this.set_data({});this.add_toggled(dD);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_toggled(dD)})))},{add_toggled:function(dD){this.$2$1=ss.delegateCombine(this.$2$1,dD)},remove_toggled:function(dD){this.$2$1=ss.delegateRemove(this.$2$1,dD)},get_toggleValue:function(){return this.$0},set_toggleValue:function(dD){if(dD!==this.get_toggleValue()){this.raiseToggled()}this.$0=dD},get_data:function(){return this.$2$2},set_data:function(dD){this.$2$2=dD},raiseToggled:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}});var dm=global.spiff.UberPopupHorizontalAlign=ss.mkEnum(a,'spiff.UberPopupHorizontalAlign',{left:0,center:1,right:2});var dn=global.spiff.UberPopupHorizontalAttach=ss.mkEnum(a,'spiff.UberPopupHorizontalAttach',{left:0,right:1});var dp=global.spiff.UberPopupMode=ss.mkEnum(a,'spiff.UberPopupMode',{blockAndAutoHide:0,doNotBlockAndAutoHide:1,doNotBlockAndStayOpen:2});var dq=global.spiff.UberPopupShowOptions=ss.mkType(a,'spiff.UberPopupShowOptions',function(){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.isBeingPositionedRelativeToASharedDialogWidget=false;this.focusOnShown=true;this.popupMode=0;this.globalTouchWhitelist=null;this.glassZIndex=dq.startingGlassZIndex;this.useCaret=false},{isPopupHeightLimited:function(){return this.limitPopupHeight||ss.isValue(this.maxPopupHeight)}},{$ctor1:function(dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.isBeingPositionedRelativeToASharedDialogWidget=false;this.focusOnShown=true;this.popupMode=0;this.globalTouchWhitelist=null;this.glassZIndex=dq.startingGlassZIndex;this.useCaret=false;this.horizontalAlign=dD;this.horizontalAttach=dE;this.theme=dF;this.preferUp=dG;this.coverRelativeElement=dH;this.limitPopupHeight=dI;this.maxPopupHeight=dJ;this.additionalClassNames=dK;this.isToolbarFlyout=dL;this.popupMode=dM;this.globalTouchWhitelist=dN;this.glassZIndex=dO;this.focusOnShown=dP}});var dr=global.spiff.UberPopupTemplate=ss.mkType(a,'spiff.UberPopupTemplate',function(){this.content=null;this.caret=null;this.caretBorder=null;dh.call(this,$("<div class='tabUberPopup'><div class='tabUberPopupContent'></div><div class='tabUberArrow'></div><div class='tabUberArrow2'></div></div>"));this.content=this.getElementBySelector('.'+'tabUberPopupContent');this.caret=this.getElementBySelector('.'+'tabUberArrow');this.caretBorder=this.getElementBySelector('.'+'tabUberArrow2');this.caret.hide();this.caretBorder.hide()},{get_caretHeight:function(){if(!ss.isValue(dr.$2)){dr.$2=tab.DoubleUtil.roundToInt(this.caret.outerHeight())}return ss.unbox(dr.$2)}});var ds=global.spiff.UberPopupTheme=ss.mkEnum(a,'spiff.UberPopupTheme',{standard:0,minimalist:1});var dt=global.spiff.UberPopupView=ss.mkType(a,'spiff.UberPopupView',function(dD,dE){this.popupViewModel=null;this.glass=null;this.contentView=null;this.visible=false;ss.makeGenericType(v,[du]).call(this,dD,dE);this.popupViewModel=dD;this.popupViewModel.add_shown(ss.mkdel(this,this.shown));this.popupViewModel.add_hidden(ss.mkdel(this,this.hidden));this.$6()},{get_uberPopupShadowHeight:null,get_uberPopupMinimalistShadowHeight:function(){return 0},get_width:function(){return this.element.outerWidth(false)},get_height:function(){return this.element.outerHeight(false)},get_dom:function(){return this.get_template()},$6:function(){this.element.attr('tabindex','-1').on('keydown',ss.mkdel(this,function(dD){if(dD.which===27&&!(dD.metaKey||dD.shiftKey||dD.ctrlKey||dD.altKey)){this.get_viewModel().hide(false);dD.preventDefault();dD.stopPropagation()}}));if(this.get_viewModel().options.popupMode===0){this.get_viewModel().add_shown(ss.mkdel(this,function(){bp.trapFocus(this.element)}))}},dispose:function(){this.disposeContent();this.popupViewModel.remove_shown(ss.mkdel(this,this.shown));this.popupViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.disposeGlass();this.$a();ss.makeGenericType(v,[du]).prototype.dispose.call(this)},disposeContent:function(){if(ss.isValue(this.contentView)){this.contentView.dispose()}},updateMode:function(){if(!this.visible){return}switch(this.popupViewModel.get_mode()){case 0:{this.$a();this.showGlass();break}case 1:{this.hideGlass();this.$5();break}case 2:{this.$a();this.hideGlass();break}}},onViewModelPropertyChanged:function(dD,dE){if(dE.get_propertyName()==='mode'){this.updateMode()}else if(dE.get_propertyName()==='size'){this.positionPopup()}else if(dE.get_propertyName()==='content'){this.updateContent()}},shown:function(){var dD=this.get_viewModel().options;this.updateContent();this.visible=true;this.updateMode();if(dD.theme===1){this.element.addClass('tabUberPopupMinimal')}if(dD.useCaret){this.get_dom().domRoot.addClass('tabUberCaretStyle')}this.element.css('left','0px').css('top','0px');this.element.appendTo('body');this.contentView.addToDom(this.get_template().content);if(ss.isValue(dD.additionalClassNames)){dD.additionalClassNames.forEach(ss.mkdel(this,function(dE){this.element.addClass(dE)}))}if(this.popupViewModel.options.isToolbarFlyout&&tsConfig.is_mobile){this.element.show();this.positionPopup()}else{this.element.hide();this.positionPopup();this.element.show();if(this.get_viewModel().options.focusOnShown){window.setTimeout(ss.mkdel(this,function(){if(!$.contains(this.element[0],document.activeElement)){this.element.focus()}}))}}},hidden:function(){this.visible=false;this.hideGlass();this.element.hide();this.element.detach()},showGlass:function(){if(ss.isNullOrUndefined(this.glass)){this.glass=new bs(null,false);this.glass.set_zIndex(this.popupViewModel.options.glassZIndex);this.glass.add_click(ss.mkdel(this,this.glassClicked))}this.glass.show()},hideGlass:function(){if(ss.isValue(this.glass)){this.glass.hide()}},disposeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},glassClicked:function(){this.element.fadeOut(50,ss.mkdel(this,function(){this.popupViewModel.hide(true)}))},$5:function(){EventUtils.GlobalUIEvents.add_FirstTouch(ss.mkdel(this,this.$8));EventUtils.GlobalUIEvents.add_DismissTemporaryElements(ss.mkdel(this,this.$7))},$a:function(){EventUtils.GlobalUIEvents.remove_FirstTouch(ss.mkdel(this,this.$8));EventUtils.GlobalUIEvents.remove_DismissTemporaryElements(ss.mkdel(this,this.$7))},$8:function(dD,dE){if(this.get_template().domRoot.get(0).contains(dD.target)){return}if(ss.isValue(this.popupViewModel.options.globalTouchWhitelist)){for(var dF=0;dF<this.popupViewModel.options.globalTouchWhitelist.length;dF++){var dG=this.popupViewModel.options.globalTouchWhitelist[dF];if(dG.contains(dD.target)){return}}}this.popupViewModel.hide(false)},$7:function(){this.popupViewModel.hide(false)},positionPopup:function(){if(ss.isNullOrUndefined(this.get_viewModel().get_relativeElement())||this.get_viewModel().get_relativeElement().length<1){return}this.get_viewModel().get_resizeContent()(this.get_template().content,this.element);this.element.css('z-index',this.popupViewModel.options.glassZIndex+1);var dD=this.get_viewModel().options;if(!dD.isPopupHeightLimited()){this.element.css('max-height','100%')}this.positionPopupHorizontally();if(dD.isToolbarFlyout){this.$9()}else{this.positionPopupVertically()}this.get_dom().caret.toggle(dD.useCaret);this.get_dom().caretBorder.toggle(dD.useCaret)},positionPopupHorizontally:function(){var dD=this.get_viewModel().options;var dE=this.get_viewModel().get_relativeElement();var dF=$(dE.prop('ownerDocument'));var dG=this.get_width();var dH=tab.DomUtil.getPageOffset$1(dE).left;if(dD.horizontalAlign===1){dH+=dE.outerWidth(false)/2;dH-=dG/2}else if(dD.horizontalAlign===2){dH+=dE.outerWidth(false);dH-=dG}var dI=dH+dG-dF.width();if(dI>0){dH-=dI}if(dD.horizontalAttach===0){this.element.css('right','');this.element.css('left',Math.max(dH,0)+'px')}else{var dJ=$('body').outerWidth(true);var dK=dJ-(dH+dG);dK-=Math.max(0,dK+dG-dJ);this.element.css('left','');this.element.css('right',dK+'px')}if(dD.isToolbarFlyout){this.element.css('min-width',tab.DoubleUtil.roundToInt(dE.outerWidth(false)))}},$9:function(){var dD=this.get_viewModel().options;var dE=this.get_viewModel().get_relativeElement();var dF=$('body');var dG=tab.DomUtil.getPageOffset$1(dE).top;if(dD.preferUp){dG+=1;dG+=(dD.coverRelativeElement?dE.outerHeight(false):0);var dH=dF.outerHeight(true);this.element.css('top','');this.element.css('bottom',ss.trunc(dH-dG)+'px')}else{dG-=1;dG+=(dD.coverRelativeElement?0:dE.outerHeight(false));this.element.css('bottom','');this.element.css('top',ss.trunc(dG)+'px')}},positionPopupVertically:function(){var dD=this.get_viewModel().options;var dE=this.get_viewModel().get_relativeElement();var dF=tab.DomUtil.getPageOffset$1(dE);var dG=tab.DomUtil.roomAroundPosition(dF);var dH=dE.outerHeight(false);var dI=((dD.theme===1)?this.get_uberPopupMinimalistShadowHeight():this.get_uberPopupShadowHeight());if(dD.isPopupHeightLimited()){this.$b(dG,dI,dH)}var dJ=this.get_height();var dK=dG.roomBelow>=dJ+dH+dI;var dL=dG.roomAbove>dJ+dI;var dM=this.popupViewModel.options.useCaret;if(dM){dL=dG.roomAbove>dJ+this.get_dom().get_caretHeight()+4+dI}var dN=dF.top+dH;var dO=dF.top-dJ;var dP;if(dD.preferUp&&dL){dP=dO}else if(dK&&!dM){dP=dN}else if(dL){dP=dO}else if(dG.roomBelow>=dG.roomAbove&&!dM){dP=dF.top-(dJ-dG.roomBelow+dI)}else{dP=dF.top-dG.roomAbove+dI}if(dM){dP-=this.get_dom().get_caretHeight()+4}this.element.css('top',dP+'px')},$b:function(dD,dE,dF){var dG=this.get_viewModel().options;var dH=null;if(dG.limitPopupHeight){dH=Math.max(dD.roomAbove,dD.roomBelow-dF)-dE}if(ss.isValue(dG.maxPopupHeight)){var dI=dH;if(ss.isNullOrUndefined(dI)){dI=Number.MAX_VALUE}var dJ=dI;dH=Math.min(dJ,ss.unbox(dG.maxPopupHeight))}if(ss.isValue(dH)){this.element.css('max-height',dH+'px')}},updateContent:function(){this.disposeContent();var dD=this.get_template().content;dD.children().detach();this.contentView=this.get_viewModel().createContentView();if(this.visible){this.contentView.addToDom(dD)}}});var du=global.spiff.UberPopupViewModel=ss.mkType(a,'spiff.UberPopupViewModel',function(dD){this.$0=null;this.$1=null;this.options=new dq;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;w.call(this);this.$1=dD;this.set_resizeContent(function(){});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))},{add_shown:function(dD){this.$2$1=ss.delegateCombine(this.$2$1,dD)},remove_shown:function(dD){this.$2$1=ss.delegateRemove(this.$2$1,dD)},add_hidden:function(dD){this.$2$2=ss.delegateCombine(this.$2$2,dD)},remove_hidden:function(dD){this.$2$2=ss.delegateRemove(this.$2$2,dD)},add_commit:function(dD){this.$2$3=ss.delegateCombine(this.$2$3,dD)},remove_commit:function(dD){this.$2$3=ss.delegateRemove(this.$2$3,dD)},get_mode:function(){return this.options.popupMode},set_mode:function(dD){if(this.options.popupMode===dD){return}this.options.popupMode=dD;this.notifyPropertyChanged('mode')},get_content:function(){return this.$0},set_content:function(dD){this.$0=dD;if(ss.isValue(this.$0)){this.$0.updateUberPopupViewModel(this)}this.notifyPropertyChanged('content');this.notifyPropertyChanged('size')},set_disposeOnHide:function(dD){this.remove_hidden(ss.mkdel(this,this.dispose));if(dD){this.add_hidden(ss.mkdel(this,this.dispose))}},get_relativeElement:function(){return this.$1()},set_relativeElement:function(dD){this.$1=function(){return dD}},get_resizeContent:function(){return this.$2$4},set_resizeContent:function(dD){this.$2$4=dD},createContentView:function(){return tab.ObjectRegistry.newView$1(ss.makeGenericType(tab.IView$1,[tab.IViewModel])).call(null,this.get_content().get_viewType(),[this.get_content().get_viewModel()])},updatePosition:function(){this.notifyPropertyChanged('size')},show:function(){if(ss.isNullOrUndefined(this.$2$1)){return}this.$2$1()},hide:function(dD){if(dD&&ss.isValue(this.$2$3)){this.$2$3()}this.raiseActionEvent(this.$2$2)},addDisposables:function(dD){this.disposables.add$1(dD)}},{$ctor1:function(dD){du.call(this,function(){return dD})},createForContent:function(dD,dE,dF,dG){var dH=new du(dE);if(!ss.staticEquals(dF,null)){dH.add_hidden(dF);dH.addDisposables(new tab.CallOnDispose(function(){dH.remove_hidden(dF)}))}dH.set_content(dD);dH.set_disposeOnHide(true);tab.ObjectRegistry.newView(dt).call(null,[dH]);if(dG){dH.disposables.add$1(new tab.CallOnDispose(function(){dD.disposeViewModel()}))}return dH},createForContent$1:function(dD,dE,dF,dG){return du.createForContent(dD,function(){return dE},dF,dG)},createForContentUsingCaretStyle:function(dD,dE,dF,dG,dH){var dI=du.createForContent(dD,function(){return dE},dG,dH);dI.set_mode(2);var dJ=new dq;dJ.popupMode=2;dJ.preferUp=true;dJ.additionalClassNames=['tabUberCaretStyle',dF];dJ.horizontalAttach=0;dJ.horizontalAlign=1;dJ.useCaret=true;dI.options=dJ;return dI}});var dv=global.spiff.UnificationClassNames=ss.mkType(a,'spiff.UnificationClassNames');var dw=global.spiff.UnificationDarkMenuTheme=ss.mkType(a,'spiff.UnificationDarkMenuTheme',function(){cu.call(this);this.menuClass='tabMenuUnificationTheme dark';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'});var dx=global.spiff.UnificationLightMenuTheme=ss.mkType(a,'spiff.UnificationLightMenuTheme',function(){cu.call(this);this.menuClass='tabMenuUnificationTheme light';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'});var dy=global.spiff.VerticalSpinnerComponent=ss.mkType(a,'spiff.VerticalSpinnerComponent',function(dD,dE){this.$c=null;React.Component.call(this,dD,dE);this.state=dy.$0(this.props.initialValue)},{render:function(){var dD=this.state.displayValue;if(this.props.disabled&&ss.isValue(this.props.disabledText)){dD=this.props.disabledText}var dE={type:'text',value:dD,onChange:ss.mkdel(this,this.$8),onBlur:ss.mkdel(this,this.$0),disabled:this.props.disabled,maxLength:this.props.maxLength,onKeyDown:ss.mkdel(this,this.$5),onKeyUp:ss.mkdel(this,this.$6)};var dF=bf.input(dE);var dG=bf.div;var dH=new EventUtils.EventHandleSpec;dH.tap=ss.mkdel(this,function(dL){this.$7()});var dI=new EventUtils.EventHandleSpec;dI.tap=ss.mkdel(this,function(dL){this.$2()});var dJ=dG({className:'tab-unification-spinner-btn-group'+' '+'tab-unification-spinner-btn-group-vertical'},EventUtils.EventForwarder.div(dH,{className:'tab-unification-spinner-btn'},bf.span({className:'tab-img-triangle-up',key:'tab-img-triangle-up'})),EventUtils.EventForwarder.div(dI,{className:'tab-unification-spinner-btn'},bf.span({className:'tab-img-triangle-down',key:'tab-img-triangle-down'})));var dK=bf.div({className:'tab-unification-spinner-ctrl'+(this.props.disabled?' disabled':'')},dF,dJ);if(ss.isValue(this.props.label)){dK=bf.div(null,bf.span({className:'tab-unification-spinner-label'+(this.props.disabled?' disabled':'')},this.props.label),dK)}dK=bf.div({className:ss.coalesce(this.props.styleClass,'tab-outline-spinner')},dK);if(ss.isValue(this.props.extraCssClass)){dK=bf.div({className:this.props.extraCssClass},dK)}return dK},componentWillReceiveProps:function(dD){this.setState(dy.$0(dD.initialValue))},componentWillUnmount:function(){this.$1()},$8:function(dD){this.$1();var dE=dD.target;this.setState({value:this.state.value,pendingValue:this.state.pendingValue,displayValue:dE.value})},$0:function(dD){this.$1();var dE={};if(!ss.Int32.tryParse(this.state.displayValue,dE)){dE.$=this.state.value}this.$a(dE.$)},$5:function(dD){var dE=this.state.pendingValue;switch(dD.keyCode){case 38:{this.$1();dE+=this.props.stepSize;this.$9(dE);this.$b(dE);break}case 40:{this.$1();dE-=this.props.stepSize;this.$9(dE);this.$b(dE);break}case 13:{this.$0(null);break}}},$b:function(dD){if(this.props.updateWhenKeyDown){this.$3(dD)}},$6:function(dD){if(this.props.updateWhenKeyDown){return}switch(dD.keyCode){case 38:case 40:{this.$3(this.state.pendingValue);break}}},$7:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue+this.props.stepSize)},$2:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue-this.props.stepSize)},$3:function(dD){this.$1();if(this.props.actionDelay===0){this.$a(dD)}else{this.$9(dD);this.$c=window.setTimeout(ss.mkdel(this,function(){this.$a(this.state.pendingValue)}),this.props.actionDelay)}},$1:function(){this.$c=tab.MiscUtil.clearTimeout(this.$c)},$a:function(dD){dD=this.$4(dD);var dE=dD!==this.state.value;this.setState(dy.$0(dD));if(dE&&!ss.staticEquals(this.props.onValueChanged,null)){this.props.onValueChanged(dD)}},$4:function(dD){if(ss.isValue(this.props.minValue)){dD=Math.max(dD,ss.unbox(this.props.minValue))}if(ss.isValue(this.props.maxValue)){dD=Math.min(dD,ss.unbox(this.props.maxValue))}return dD},$9:function(dD){dD=this.$4(dD);this.setState({value:this.state.value,pendingValue:dD,displayValue:dD.toString()})}},{$0:function(dD){return{value:dD,pendingValue:dD,displayValue:dD.toString()}}});var dz=global.spiff.VerticalSpinnerProps=ss.mkType(a,'spiff.VerticalSpinnerProps',function(){this.styleClass='tab-outline-spinner';this.extraCssClass=null;this.label=null;this.initialValue=0;this.maxValue=null;this.minValue=null;this.maxLength=16;this.stepSize=1;this.disabled=false;this.disabledText=null;this.onValueChanged=null;this.actionDelay=0;this.updateWhenKeyDown=false});var dA=global.spiff.WaitingComponent=ss.mkType(a,'spiff.WaitingComponent',function(dD,dE){cG.$ctor1.call(this,dD,dE)},{render:function(){var dD=this.props.title;var dE=this.props.message;var dF=ss.coalesce(this.props.showButton,true);var dG=ss.coalesce(this.props.buttonType,7);var dH=this.props.buttonLabel;if(ss.isNullOrUndefined(dH)){dH=tab.Strings.Cancel}var dI=dH;var dJ={fontSize:'24px'};var dK={height:'100%',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'};return bf.div({className:'cancelContainer',style:dK},(ss.isValue(dD)?ss.mkdel(this,function(){return this.$0(React.createElement(SharedWidgets.InputLabelWidget,{testId:'title',style:dJ,children:dD}))})():null),this.$0(React.createElement(SharedWidgets.ActivitySpinnerWidget,{testId:'cancelSpinner'})),(ss.isValue(dE)?ss.mkdel(this,function(){return this.$0(React.createElement(SharedWidgets.InputLabelWidget,{testId:'message',children:dE}))})():null),(dF?ss.mkdel(this,function(){return this.$0(React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(dL){this.props.onButtonClick()}),buttonType:dG,testId:'cancelButton',children:dI,disabled:this.props.disableButton}))})():null))},$0:function(dD){var dE={marginTop:SharedWidgets.TabStyles.Spacing.DefaultSpace+'px',marginBottom:SharedWidgets.TabStyles.Spacing.DefaultSpace+'px'};return bf.div({style:dE},dD)}});var dB=global.spiff.WaitingComponentProps=ss.mkType(a,'spiff.WaitingComponentProps',function(){this.title=null;this.message=null;this.showButton=null;this.disableButton=false;this.buttonType=null;this.buttonLabel=null;this.onButtonClick=null});var dC=global.spiff.Widget=ss.mkType(a,'spiff.Widget',function(dD){this.disposables=new tab.DisposableHolder;this.$0=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.element=null;this.addedToDom=false;tab.Param.verifyValue(dD,'element');this.element=dD;dD.addClass('tab-widget');dD.data('widgetInstance',this);dC.$4++;this.$0=dC.$4},{add_disposed:function(dD){this.$1$1=ss.delegateCombine(this.$1$1,dD)},remove_disposed:function(dD){this.$1$1=ss.delegateRemove(this.$1$1,dD)},add_propertyChanged:function(dD){this.$1$2=ss.delegateCombine(this.$1$2,dD)},remove_propertyChanged:function(dD){this.$1$2=ss.delegateRemove(this.$1$2,dD)},get_name:function(){return ss.getTypeFullName(ss.getInstanceType(this))},get_instanceId:function(){return this.$0},get_eventNamespace:function(){return ss.formatString('.{0}_{1}',this.$0,ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},get_widgetId:function(){return this.$1},set_widgetId:function(dD){if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.removeClass(this.$1)}this.$1=dD;if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.addClass(this.$1)}},get_hoverTooltipText:function(){return this.element.attr('title')},set_hoverTooltipText:function(dD){tab.DomUtil.setNativeTooltip(this.element,dD)},enableTextSelection:function(){dC.enableTextSelectionOnElement(this.element);return this},disableTextSelection:function(){dC.disableTextSelectionOnElement(this.element);return this},dispose:function(){this.disposables.dispose();this.element.removeData('widgetInstance');this.element.remove();this.onDisposed(ss.EventArgs.Empty)},toString:function(){return this.get_name()},raisePropertyChanged:function(dD){if(ss.isValue(this.$1$2)){this.$1$2(this,new tab.PropertyChangedEventArgs(dD))}},createNamespacedEventName:function(dD){return dD+this.get_eventNamespace()},stopPropogationOfInputEvents:function(){tab.DomUtil.stopPropagationOfInputEvents(this.element,this.get_eventNamespace())},handleInputEvents:function(dD){tab.DomUtil.handleInputEvents(this.element,this.get_eventNamespace(),dD)},onDisposed:function(dD){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}},addToDom:function(dD){dD.append(this.element);this.onAddedToDom()},prependToDom:function(dD){dD.prepend(this.element);this.onAddedToDom()},onAddedToDom:function(){this.addedToDom=true},addClass:function(dD){this.element.addClass(dD)}},{enableTextSelectionOnElement:function(dD){dD.removeClass('tab-unselectable');dD.addClass(dC.selectableNodeClass);dD.off('.tab-disableSelection')},disableTextSelectionOnElement:function(dD){if(BrowserSupport.BrowserSupport.IsIE()){return}if(BrowserSupport.BrowserSupport.IsMobile()){return}dD.removeClass(dC.selectableNodeClass);dD.addClass('tab-unselectable');if(BrowserSupport.BrowserSupport.SelectStart()){var dE='selectstart'+'.tab-disableSelection';dD.on(dE,function(dF){if(tab.DomUtil.isFocusableTextElement(dF.target)){return}dF.preventDefault()})}},findWidget:function(dD,dE){tab.Param.verifyValue(dD,'element');var dF=dD;var dG;dE=dE||dC;do{dG=dF.data('widgetInstance');if(ss.isValue(dG)&&!ss.isAssignableFrom(dE,ss.getInstanceType(dG))){dG=null}dF=dF.parent('.'+'tab-widget')}while(ss.isNullOrUndefined(dG)&&!dF.is('body')&&dF.length>0);return(ss.isNullOrUndefined(dG)?null:dG)},getWidgets:function(dD,dE){var dF=[];dE=dE||dC;var dG;dD.each(function(dH,dI){dG=$(dI).data('widgetInstance');if(ss.isValue(dG)&&ss.isAssignableFrom(dE,ss.getInstanceType(dG))){dF.push(dG)}});return dF}});ss.initClass(b,ss.makeGenericType(y,[Object]));ss.initClass(cQ,React.Component);ss.initClass(c,cQ);ss.initInterface(bU,{get_root:null,get_tabs:null,get_contentArea:null,createTabLabel:null});ss.initClass(dh,null,[ss.IDisposable]);ss.initClass(d,dh,[ss.IDisposable,bU]);ss.initClass(e,dh,[ss.IDisposable]);ss.initInterface(bI,{get_scrollViewPagePosition:null,get_scrollViewSize:null,scrollToElement:null});ss.initClass(f,null,[bI]);ss.initClass(g,null,[bI]);ss.initInterface(bP,{get_x:null,get_y:null,get_maxScrollX:null,get_maxScrollY:null,get_canScroll:null,scrollBy:null,scrollTo:null,scrollToElement:null,destroy:null,resetPosition:null,refresh:null,handleEvent:null});ss.initClass(h,null,[bP]);ss.initClass(i,IScroll);ss.initClass(k);ss.initClass(l,dh,[ss.IDisposable]);ss.initClass(m,null,[ss.IDisposable]);ss.initInterface(bV,{get_domRootElement:null,get_inputElement:null});ss.initClass(n,dh,[ss.IDisposable,bV]);ss.initClass(o,dh,[ss.IDisposable,bV]);ss.initClass(p);ss.initClass(q);ss.initClass(cG,React.Component);cG.$ctor1.prototype=cG.prototype;ss.initClass(r,cG);ss.initClass(w,null,[tab.IViewModel,ss.IDisposable]);ss.initClass(dC,null,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(x,dC,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(z,ss.makeGenericType(y,[Object]));ss.initClass(dj,dC,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(B,dj,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(C,dh,[ss.IDisposable,bV]);ss.initClass(D);ss.initClass(E,null,[ss.IDisposable]);ss.initClass(F,React.Component);ss.initClass(cu);ss.initClass(G,cu);ss.initClass(H);ss.initClass(I,cu);ss.initClass(K,Object);ss.initClass(M);ss.initClass(N,dh,[ss.IDisposable]);ss.initClass(P,ss.makeGenericType(v,[Q]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[Q]),ss.IDisposable,tab.IAppendableView]);ss.initInterface(bE,{add_enabledChanged:null,remove_enabledChanged:null,get_enabled:null,set_enabled:null});ss.initClass(Q,ss.makeGenericType(u,[K]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(bL,[K]),bE]);ss.initClass(R,dC,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(S);ss.initInterface(by,{get_template:null,get_domRootElement:null,get_textInputView:null,get_searchButton:null,get_clearButton:null,disposeTemplate:null});ss.initClass(T,dh,[by,ss.IDisposable]);ss.initClass(U,H);ss.initClass(V);ss.initClass(bR,dh,[ss.IDisposable]);ss.initClass(W,bR,[ss.IDisposable]);ss.initClass(cN,ss.makeGenericType(v,[cO]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[cO]),ss.IDisposable,tab.IAppendableView]);ss.initClass(bS,cN,[tab.IWidget,ss.makeGenericType(tab.IView$1,[cO]),ss.IDisposable,tab.IAppendableView]);ss.initClass(X,bS,[tab.IWidget,ss.makeGenericType(tab.IView$1,[cO]),ss.IDisposable,tab.IAppendableView]);ss.initClass(cm);ss.initClass(Y,cm);ss.initClass(Z,bR,[ss.IDisposable]);ss.initClass(ba,bS,[tab.IWidget,ss.makeGenericType(tab.IView$1,[cO]),ss.IDisposable,tab.IAppendableView]);ss.initClass(bb);ss.initClass(bc,dC,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bd,H);ss.initClass(bf);ss.initClass(bs,dC,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bg,bs,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bh,null,[ss.makeGenericType(tab.IView$1,[tab.IViewModel]),ss.IDisposable,tab.IAppendableView]);ss.initClass(bi,React.Component);ss.initClass(bj,ss.makeGenericType(cL,[bk,Object,Object]));ss.initClass(bk,dj,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bl);ss.initClass(bm);ss.initClass(bu);ss.initClass(cy,bu);ss.initClass(bn,cy);ss.initClass(da,bu);ss.initClass(bo,da);ss.initClass(bp);ss.initClass(bq);ss.initClass(br,cG);ss.initClass(bt,React.Component,[Object]);ss.initClass(bv,cG);ss.initClass(bw);ss.initClass(bx,null,[ss.IDisposable]);bx.$ctor1.prototype=bx.prototype;ss.initClass(bz,x,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bA,React.Component);ss.initClass(bB);ss.initInterface(bC,{get_viewType:null,get_viewModel:null,disposeViewModel:null});ss.initInterface(bD,{add_hideDialogRequested:null,remove_hideDialogRequested:null,onDialogHidden:null},[ss.makeGenericType(bL,[Object])]);ss.initInterface(bF,{createListItemContent:null});ss.initInterface(bG,{createListItemDragAvatar:null});ss.initInterface(bH,{add_dragStarting:null,remove_dragStarting:null,add_dragEnded:null,remove_dragEnded:null,get_avatarCreator:null,set_avatarCreator:null,startDrag:null});ss.initClass(bK,cG);ss.initInterface(bM,{get_canScrollX:null,get_canScrollY:null,get_docSize:null,get_actualViewSize:null,set_actualViewSize:null,get_effectiveViewSize:null,get_scrollPos:null,set_scrollPos:null,setXPos:null,setYPos:null});ss.initClass(bN,React.Component);ss.initInterface(bO,{get_canScrollX:null,get_canScrollY:null,get_scrollPos:null,get_maxScroll:null,get_visibleArea:null,scrollX:null,scrollY:null,setScrollTarget:null,refresh:null});ss.initClass(bQ);ss.initInterface(bT,{add_selectableDisposed:null,remove_selectableDisposed:null,add_selectedChanging:null,remove_selectedChanging:null,add_selectedChanged:null,remove_selectedChanged:null,get_selectionId:null,set_selectionId:null,get_selected:null,set_selected:null,get_selectedClass:null,set_selectedClass:null});ss.initInterface(bW,{updateUberPopupViewModel:null},[bC]);ss.initClass(bX);ss.initClass(bY,x,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(dk,x,[tab.IWidget,tab.IAppendableView,ss.IDisposable,bT]);ss.initClass(bZ,dk,[tab.IWidget,tab.IAppendableView,ss.IDisposable,bT]);ss.initClass(ca,React.Component);ss.initClass(cc);ss.initClass(cV,null,[ss.IDisposable]);ss.initClass(cd,cV,[ss.IDisposable]);ss.initClass(ce,dk,[tab.IWidget,tab.IAppendableView,ss.IDisposable,bT]);ss.initClass(cf,w,[tab.IViewModel,ss.IDisposable]);ss.initClass(cg);ss.initClass(ch,ss.makeGenericType(v,[cj]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[cj]),ss.IDisposable,tab.IAppendableView]);ss.initClass(ci,null,[bH,ss.IDisposable]);ss.initClass(cj,w,[tab.IViewModel,ss.IDisposable,ss.makeGenericType(bL,[Object])]);ss.initClass(ck,dh,[ss.IDisposable]);ss.initClass(cl);ss.initClass(cn);ss.initClass(cp,dh,[ss.IDisposable]);ss.initClass(cq,dh,[ss.IDisposable]);ss.initClass(cr,dh,[ss.IDisposable]);ss.initClass(cs,ss.makeGenericType(t,[ct]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[ct]),ss.IDisposable,tab.IAppendableView]);ss.initClass(ct,w,[tab.IViewModel,ss.IDisposable]);ss.initClass(cv,bc,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);cv.$ctor1.prototype=cv.prototype;ss.initClass(cw,EventUtils.DragInstance);cw.$ctor1.prototype=cw.prototype;ss.initClass(cx,null,[ss.IDisposable]);ss.initClass(cz,EventUtils.DelegateDropTarget);ss.initClass(cB);ss.initClass(cD,ch,[tab.IWidget,ss.makeGenericType(tab.IView$1,[cj]),ss.IDisposable,tab.IAppendableView]);ss.initClass(cE,cj,[tab.IViewModel,ss.IDisposable,ss.makeGenericType(bL,[Object]),bW,bC]);ss.initClass(cF);ss.initClass(cH);ss.initClass(cI);ss.initClass(cK);ss.initClass(cM,cx,[ss.IDisposable]);ss.initClass(cO,w,[tab.IViewModel,ss.IDisposable]);cO.$ctor1.prototype=cO.prototype;ss.initClass(cR);ss.initClass(cS);ss.initClass(cT,React.Component);ss.initClass(cU);ss.initClass(cW,ss.CancelEventArgs);ss.initClass(cY,null,[Object]);ss.initClass(cZ);ss.initClass(db);ss.initClass(dc,React.Component);ss.initClass(dd,cG);ss.initClass(de);ss.initClass(df,null,[ss.IDisposable]);ss.initClass(dg,null,[ss.IDisposable]);ss.initClass(di,cG);ss.initClass(dl,w,[tab.IViewModel,ss.IDisposable]);ss.initClass(dq);dq.$ctor1.prototype=dq.prototype;ss.initClass(dr,dh,[ss.IDisposable]);ss.initClass(dt,ss.makeGenericType(v,[du]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[du]),ss.IDisposable,tab.IAppendableView]);ss.initClass(du,w,[tab.IViewModel,ss.IDisposable]);du.$ctor1.prototype=du.prototype;ss.initClass(dv);ss.initClass(dw,cu);ss.initClass(dx,cu);ss.initClass(dy,React.Component);ss.initClass(dz);ss.initClass(dA,cG);ss.initClass(dB);(function(){bf.a=bf.$0('a');bf.abbr=bf.$0('abbr');bf.address=bf.$0('address');bf.area=bf.$0('area');bf.article=bf.$0('article');bf.aside=bf.$0('aside');bf.audio=bf.$0('audio');bf.b=bf.$0('b');bf.base=bf.$0('base');bf.bdi=bf.$0('bdi');bf.bdo=bf.$0('bdo');bf.big=bf.$0('big');bf.blockquote=bf.$0('blockquote');bf.body=bf.$0('body');bf.br=bf.$0('br');bf.button=bf.$0('button');bf.canvas=bf.$0('canvas');bf.caption=bf.$0('caption');bf.cite=bf.$0('cite');bf.code=bf.$0('code');bf.col=bf.$0('col');bf.colgroup=bf.$0('colgroup');bf.data=bf.$0('data');bf.datalist=bf.$0('datalist');bf.dd=bf.$0('dd');bf.del=bf.$0('del');bf.details=bf.$0('details');bf.dfn=bf.$0('dfn');bf.dialog=bf.$0('dialog');bf.div=bf.$0('div');bf.dl=bf.$0('dl');bf.dt=bf.$0('dt');bf.em=bf.$0('em');bf.embed=bf.$0('embed');bf.fieldset=bf.$0('fieldset');bf.figcaption=bf.$0('figcaption');bf.figure=bf.$0('figure');bf.footer=bf.$0('footer');bf.form=bf.$0('form');bf.h1=bf.$0('h1');bf.h2=bf.$0('h2');bf.h3=bf.$0('h3');bf.h4=bf.$0('h4');bf.h5=bf.$0('h5');bf.h6=bf.$0('h6');bf.head=bf.$0('head');bf.header=bf.$0('header');bf.hgroup=bf.$0('hgroup');bf.hr=bf.$0('hr');bf.html=bf.$0('html');bf.i=bf.$0('i');bf.iframe=bf.$0('iframe');bf.img=bf.$0('img');bf.input=bf.$0('input');bf.ins=bf.$0('ins');bf.kbd=bf.$0('kbd');bf.keygen=bf.$0('keygen');bf.label=bf.$0('label');bf.legend=bf.$0('legend');bf.li=bf.$0('li');bf.link=bf.$0('link');bf.main=bf.$0('main');bf.map=bf.$0('map');bf.mark=bf.$0('mark');bf.menu=bf.$0('menu');bf.menuitem=bf.$0('menuitem');bf.meta=bf.$0('meta');bf.meter=bf.$0('meter');bf.nav=bf.$0('nav');bf.noscript=bf.$0('noscript');bf.object=bf.$0('object');bf.ol=bf.$0('ol');bf.optgroup=bf.$0('optgroup');bf.option=bf.$0('option');bf.output=bf.$0('output');bf.p=bf.$0('p');bf.param=bf.$0('param');bf.picture=bf.$0('picture');bf.pre=bf.$0('pre');bf.progress=bf.$0('progress');bf.q=bf.$0('q');bf.rp=bf.$0('rp');bf.rt=bf.$0('rt');bf.ruby=bf.$0('ruby');bf.s=bf.$0('s');bf.samp=bf.$0('samp');bf.script=bf.$0('script');bf.section=bf.$0('section');bf.select=bf.$0('select');bf.small=bf.$0('small');bf.source=bf.$0('source');bf.span=bf.$0('span');bf.strong=bf.$0('strong');bf.style=bf.$0('style');bf.sub=bf.$0('sub');bf.summary=bf.$0('summary');bf.sup=bf.$0('sup');bf.table=bf.$0('table');bf.tbody=bf.$0('tbody');bf.td=bf.$0('td');bf.textarea=bf.$0('textarea');bf.tfoot=bf.$0('tfoot');bf.th=bf.$0('th');bf.thead=bf.$0('thead');bf.time=bf.$0('time');bf.title=bf.$0('title');bf.tr=bf.$0('tr');bf.track=bf.$0('track');bf.u=bf.$0('u');bf.ul=bf.$0('ul');bf.var=bf.$0('var');bf.video=bf.$0('video');bf.wbr=bf.$0('wbr');bf.circle=bf.$1('circle');bf.clipPath=bf.$1('clipPath');bf.defs=bf.$1('defs');bf.ellipse=bf.$1('ellipse');bf.feColorMatrix=bf.$1('feColorMatrix');bf.filter=bf.$1('filter');bf.g=bf.$1('g');bf.height=bf.$1('height');bf.image=bf.$1('image');bf.line=bf.$1('line');bf.linearGradient=bf.$1('linearGradient');bf.mask=bf.$1('mask');bf.path=bf.$1('path');bf.pattern=bf.$1('pattern');bf.polygon=bf.$1('polygon');bf.polyline=bf.$1('polyline');bf.radialGradient=bf.$1('radialGradient');bf.rect=bf.$1('rect');bf.stop=bf.$1('stop');bf.svg=bf.$1('svg');bf.text=bf.$1('text');bf.tspan=bf.$1('tspan');bf.width=bf.$1('width')})();(function(){bl.$1=0})();(function(){cQ.$2=null;cQ.$2={};cQ.$2[0]=c})();(function(){e.$0="<span class='tabTabLabel'></span>"})();(function(){d.$0='<div>'+"<div class='tabTabLabels'></div>"+"<div class='tabTabContentArea'></div>"+'</div>'})();(function(){k.$4=new Array(10)})();(function(){l.$0="\n<div class='tabMenuItem' role='menuitem' data-test-id='tabMenuItem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName' data-test-id='tabMenuItemName'></span>\n  </div>\n</div>"})();(function(){n.$0="<div class='tab-editable-text-view'><div>"+"<div class='view-mode'><span class = 'text-span'></span></div>"+"<input class='edit-mode' type='text'/>"+'</div></div>'})();(function(){o.$0="<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"})();(function(){bp.$9='tab-showFocusIndicator';bp.$8='keydown.'+ss.getTypeName(bp);bp.$b=2;bp.$a=null})();(function(){bq.$7=null;bq.$6=null;bq.$5=null;bq.$9=null;bq.$8=null;bq.$4='#centeringContainer';bq.$1$1=null;bq.$7=bq.$0(document,['fullscreenEnabled','webkitFullscreenEnabled','msFullscreenEnabled','mozFullScreenEnabled']);bq.$6=bq.$0(document,['fullscreenElement','webkitFullscreenElement','msFullscreenElement','mozFullScreenElement']);bq.$5=bq.$0(document,['exitFullscreen','webkitExitFullscreen','msExitFullscreen','mozCancelFullScreen']);bq.$9=bq.$0(document.documentElement,['requestFullscreen','webkitRequestFullscreen','msRequestFullscreen','mozRequestFullScreen']);bq.$8=bq.$0(document,['onfullscreenchange','onwebkitfullscreenchange','onMSFullscreenChange','onmozfullscreenchange']);if(ss.isValue(bq.$8)&&bq.get_fullscreenEnabled()){document.addEventListener(bq.get_fullscreenChangeEventName().toString(),bq.$1)}bq.add_fullscreenStateChanged(bq.$2)})();(function(){dC.$3='widgetInstance';dC.$2='tab-widget';dC.$1='.tab-disableSelection';dC.$4=0;dC.selectableNodeClass=null;if(tab.FeatureParamsLookup.getBool(33)===true){$(document.head).append('<style type="text/css">.tab-DesignTint { background-color: #F1F1FC; }</style>')}dC.selectableNodeClass='tab-selectable'})();(function(){D.suppressClickBustingClass='suppressClickBusting';D.$3=25;D.$4=null;D.$1$1=null})();(function(){dj.textPropertyName='text'})();(function(){C.$0="<div class='tabTextInputView'>"+"<span class='tabClearableTextBoxClearButton'></span>"+"<div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div>"+'</div>'})();(function(){E.$2=10;E.$1=300;E.$3=0})();(function(){cT.$0='__ALL__'})();(function(){db.getSpiffBrowserViewportFunc=null})();(function(){dc.$2='selector';dc.$0='relative';dc.$1=3;dc.$3=2*3+6+1})();(function(){cm.$0=0})();(function(){N.$0="<span role='button' aria-live='off' aria-expanded='false' aria-haspopup='true' aria-atomic='true' aria-relevant='text' class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover' tabindex='0'>"+"<span class='tabComboBoxIcon'></span>"+"<div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize' aria-hidden='true'><span class='tabComboBoxName'></span></div>"+"<div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'></span></div>"+'</span>'})();(function(){bs.glassSelector='.tab-glass';bs.$1="<div class='tab-glass clear-glass'></div>";bs.$0='clear-glass';bs.$2='opaque-glass'})();(function(){cr.$0="<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'></div></div>"})();(function(){cp.$0="<div class='tabMenuItemDivider' role='separator'></div>"})();(function(){cq.$0="\n<div class='tabMenuItemTextInputPanel' role='menuitem'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'/>\n  </div>\n</div>"})();(function(){cs.defaultMenuItem='tabMenuDefaultItem';cs.classMenuItem='tabMenuMenuItem';cs.keyMenuItem='tabMenuMenuItem';cs.menuFadeDurationMs=50;cs.$5='tabMenuMenuItemLevel';cs.$2='tabMenuHasIconTwo';cs.$4='Authoring_ContextMenuItemClicked';cs.$1=989;cs.$3=1000})();(function(){Q.$0='hasIcons'})();(function(){P.iconPressedClass='tabComboBoxNoIconPressed';P.invalidClass='invalid';P.noIconClass='tabComboBoxNoIcon';P.pressedClass='pressed';P.disabledClass='disabled';P.classesForTheme=ss.mkdict([0,'tabComboStdTheme',1,'tabComboCompactTheme',2,'tabComboStdTheme tabUnification',3,'tabComboStdTheme tab-unification-line-arrow-dropdown'])})();(function(){dk.defaultSelectedClassName='selected';dk.selectedProperty='selected';dk.toggleClassProperty='selectedClass';dk.$2=0})();(function(){ce.listItemSpotlightedClassName='tab-list-item-spotlighted';ce.boldClass='bold';ce.invalidClass='invalid'})();(function(){cf.selectedProperty='selected';cf.invalidProperty='invalid';cf.draggableProperty='draggable';cf.spotlightedProperty='spotlighted';cf.boldProperty='bold'})();(function(){cj.collectionProperty='collection';cj.enabledProperty='enabled'})();(function(){ck.$0="<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"})();(function(){tab.ObjectRegistry.registerType(cD,cD).call(null)})();(function(){dq.startingGlassZIndex=987})();(function(){dt.minimalistThemeClass='tabUberPopupMinimal'})();(function(){R.listClassName='tabCompositeSearchWidgetList';R.$0=400})();(function(){bY.$1="<a href='#' class='tab-link-button'><span class='label hide'></span></a>";bY.$0="<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>";bY.$2="<button class='tab-button' type='button'>\n            <div class='paired-icon'>\n                <span class='icon menu-button'></span>\n                <span class='tabComboBoxButton'></span>\n            </div>\n            <span class='label hide'></span></button>";bY.$3="<span class='tab-text-button'><span class='label hide'></span></span>";bY.$4='.label'})();(function(){T.$0="<div class='tabCompositeSearchWidget'></div>"})();(function(){V.noOpAssetUrl='cursors/dragnop-black.cur';V.deleteAssetUrl='cursors/dragdel-black.cur';V.copyAssetUrl='cursors/dragcopy-black.cur';V.moveAssetUrl='cursors/dragmove-black.cur';V.noOp=new V('cursors/dragnop-black.cur','auto');V.delete$1=new V('cursors/dragdel-black.cur','auto');V.copy=new V('cursors/dragcopy-black.cur','auto');V.move=new V('cursors/dragmove-black.cur','auto')})();(function(){W.$0="<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'></span></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'></div></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'></div></div>\n        </div>"})();(function(){Z.$0="<div class='tabScroller'><span class='tabScrollerContent'></span></div>"})();(function(){ba.$1=1;ba.$0=9})();(function(){X.centeredVerticallyClassName='centeredVertically';X.scrollableClassName='scrollable';X.$1=8})();(function(){cw.$1=function(){}})();(function(){cB.$d=2500;cB.$e=75;cB.$k=null;cB.$l=null;cB.$f=0;cB.$g=0;cB.$j=null;cB.$i=null;cB.$h=false;cB.$1$1=null;cB.init()})();(function(){bc.positionProperty='position';bc.isActiveProperty='isActive';bc.$1='active';bc.$3='.tab-dialogCloseButton';bc.$2='.tab-dialogBodyContainer';bc.$8='.tab-dialogTitleBar';bc.$9='.tab-dialogTitle';bc.$6='.tab-dialogResizer';bc.$7='.tab-dialogSpinnerContainer';bc.$5="\n<div class='tab-dialog' role='dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'></div></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n";bc.$a=null;bc.$4=new cz;bc.defaultDraggableDialogConfigurer=null;bc.defaultStationaryDialogConfigurer=null;bc.defaultDraggableDialogConfigurer=ss.mkdel(this,function(dD){var dE=new cx(dD.$u,dD.$g,false);dE.set_documentBodySize('useClientSize');return dE});bc.defaultStationaryDialogConfigurer=function(){return null}})();(function(){bk.$0='editing';bk.$1='hover'})();(function(){EventUtils.FeatureFlagUtils.SetFeatureParamDebugTools(function(){return false});EventUtils.FeatureFlagUtils.SetTsConfigIsMobile(function(){return tsConfig.is_mobile});EventUtils.FeatureFlagUtils.SetBootStrapUtilIsEmbedded(function(){return tabBootstrap.EmbedAndViewportCalculator.get_isEmbeddedInsideAnotherPage()});EventUtils.FeatureFlagUtils.SetFeatureFlagIsEventHandlingReworkEnabled(function(){return tab.FeatureFlags.isEnabled('EventUtilsEventHandlingRework')});EventUtils.FeatureFlagUtils.SetLoggerDebug(function(dD){})})();(function(){bZ.$3="<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>";bZ.$2="<span class='innerIcon'></span>";bZ.$4='.label';bZ.$1='hide';bZ.$5='tab-unification-check';bZ.$6='tab-img-check';bZ.$7='tab-unification-radio'})();(function(){ca.$0=6})();(function(){ci.$0=10})();(function(){SharedWidgets.PointerEventAdapterManager.adapterFactory=function(){return new cY}})();(function(){df.tabLabelIdPrefix='tabTabLabelId-';tab.ObjectRegistry.registerType(df,df).call(null)})();(function(){dr.contentClassName='tabUberPopupContent';dr.caretClassName='tabUberArrow';dr.caretBorderClassName='tabUberArrow2';dr.$1="<div class='tabUberPopup'>"+"<div class='"+'tabUberPopupContent'+"'></div>"+"<div class='"+'tabUberArrow'+"'></div>"+"<div class='"+'tabUberArrow2'+"'></div>"+'</div>';dr.$2=null})();(function(){dv.designTint='tab-DesignTint';dv.text='tab-Text';dv.darkBackground='tab-darkBackground';dv.button='tab-UnifiedButton';dv.icon='tab-Icon';dv.iconButton='tab-IconBtn';dv.vScrollable='tab-vScrollable';dv.selectableButtonGroup='tab-SelectableButtonGroup';dv.selectionMark='tab-SelectionMark';dv.active='active';dv.hover='hover';dv.hitTestArea='tab-HitTestArea';dv.focused='focused';dv.bordered='bordered';dv.disabled='disabled';dv.selectable='selectable';dv.selected='selected';dv.unselected='unselected';dv.excluded='excluded';dv.textInput='tab-TextInput';dv.horizontalLayout='tab-HorizontalLayout';dv.applyCancelPanel='tab-ApplyCancelPanel';dv.applyCancel='apply-cancel';dv.apply$1='apply';dv.cancel='cancel';dv.sliderControlClass='unification-slider-control';dv.sliderContainerClass='tabHorizontalSliderContainer';dv.sliderInputClass='tabHorizontalSlider';dv.sliderTextBoxClass='tabHorizontalSliderPercentageText';dv.sliderPercentageClass='tabHorizontalSliderPercentageSign'})()})();;
/*! BEGIN LegacyDojoModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqllegacydojomoduleinterfaces');var b=global.tab.ICategoricalLegendView$1=ss.mkType(a,'tab.ICategoricalLegendView$1',function(w){var x=ss.registerGenericInterfaceInstance(b,[w],{},function(){return[ss.makeGenericType(tab.IView$1,[w]),ss.IDisposable,tab.IAppendableView]});ss.setMetadata(x,{variance:[1]});return x});ss.initGenericInterface(b,1);var c=global.tab.ICategoricalLegendViewModel=ss.mkType(a,'tab.ICategoricalLegendViewModel');var d=global.tab.IContinuousSlider=ss.mkType(a,'tab.IContinuousSlider');var e=global.tab.IContinuousSliderViewModel=ss.mkType(a,'tab.IContinuousSliderViewModel');var f=global.tab.ICurrentPagePanelWidgetShim=ss.mkType(a,'tab.ICurrentPagePanelWidgetShim');var g=global.tab.IFilterPanelWidgetShim=ss.mkType(a,'tab.IFilterPanelWidgetShim');var h=global.tab.ILegacyDojoUIModule=ss.mkType(a,'tab.ILegacyDojoUIModule');var i=global.tab.ILegacyDojoWidgetMaker=ss.mkType(a,'tab.ILegacyDojoWidgetMaker');var j=global.tab.ILegacyLegendView$1=ss.mkType(a,'tab.ILegacyLegendView$1',function(w){var x=ss.registerGenericInterfaceInstance(j,[w],{},function(){return[ss.makeGenericType(tab.IView$1,[w]),ss.IDisposable,tab.IAppendableView]});ss.setMetadata(x,{variance:[1]});return x});ss.initGenericInterface(j,1);var k=global.tab.ILegacyLegendViewModel=ss.mkType(a,'tab.ILegacyLegendViewModel');var l=global.tab.ILegacyQuickFilterDisplayView$1=ss.mkType(a,'tab.ILegacyQuickFilterDisplayView$1',function(w){var x=ss.registerGenericInterfaceInstance(l,[w],{},function(){return[ss.makeGenericType(tab.IView$1,[w]),ss.IDisposable,tab.IAppendableView]});ss.setMetadata(x,{variance:[1]});return x});ss.initGenericInterface(l,1);var m=global.tab.ILegacyQuickFilterDisplayViewModel=ss.mkType(a,'tab.ILegacyQuickFilterDisplayViewModel');var n=global.tab.ILegacyWidgetShim=ss.mkType(a,'tab.ILegacyWidgetShim');var o=global.tab.IPageView$1=ss.mkType(a,'tab.IPageView$1',function(w){var x=ss.registerGenericInterfaceInstance(o,[w],{},function(){return[ss.makeGenericType(tab.IView$1,[w]),ss.IDisposable,tab.IAppendableView]});ss.setMetadata(x,{variance:[1]});return x});ss.initGenericInterface(o,1);var p=global.tab.IPageViewModel=ss.mkType(a,'tab.IPageViewModel');var q=global.tab.IParameterControlView$1=ss.mkType(a,'tab.IParameterControlView$1',function(w){var x=ss.registerGenericInterfaceInstance(q,[w],{updateViewProperties:null},function(){return[ss.makeGenericType(tab.IView$1,[w]),ss.IDisposable,tab.IAppendableView]});ss.setMetadata(x,{variance:[1]});return x});ss.initGenericInterface(q,1);var r=global.tab.IParameterControlViewModel=ss.mkType(a,'tab.IParameterControlViewModel');var s=global.tab.IParameterControlWidgetShim=ss.mkType(a,'tab.IParameterControlWidgetShim');var t=global.tab.IQuantitativeColorLegendView$1=ss.mkType(a,'tab.IQuantitativeColorLegendView$1',function(w){var x=ss.registerGenericInterfaceInstance(t,[w],{},function(){return[ss.makeGenericType(tab.IView$1,[w]),ss.IDisposable,tab.IAppendableView]});ss.setMetadata(x,{variance:[1]});return x});ss.initGenericInterface(t,1);var u=global.tab.IQuantitativeColorLegendViewModel=ss.mkType(a,'tab.IQuantitativeColorLegendViewModel');var v=global.tab.ITabbedNavigation=ss.mkType(a,'tab.ITabbedNavigation');ss.initInterface(c,{},[tab.IViewModel,ss.IDisposable]);ss.initInterface(d,{get_widgetNode:null,onAddedToDomShim:null});ss.initInterface(e,{add_sliderValueChange:null,remove_sliderValueChange:null,add_intermediateChange:null,remove_intermediateChange:null,get_sliderClassName:null,set_sliderClassName:null,get_currentFraction:null,set_currentFraction:null,get_pixelWidth:null,set_pixelWidth:null,get_ruleTickCount:null,set_ruleTickCount:null,currentFractionUpdated:null},[tab.IViewModel,ss.IDisposable,spiff.IHasEnabledState]);ss.initInterface(n,{getDomNode:null,destroyRecursiveShim:null,startupShim:null});ss.initInterface(f,{destroyRecursiveShim$1:null,updatePropertiesShim:null,refreshLayoutShim:null},[n]);ss.initInterface(g,{updateAttributesShim:null,updateFilterStateShim:null,setTitleSizeShim:null,updateFilterPropertiesShim:null,updateSubWidgetShim:null},[n,ss.IDisposable]);ss.initInterface(h,{createTabbedNavigation:null,createPageViewModel:null,createCategoricalLegendViewModel:null,createQuantitativeColorLegendViewModel:null,createLegacyLegendViewModel:null,createLegacyQuickFilterDisplayViewModel:null,createParameterControlViewModel:null,createPageView:null,createLegacyQuickFilterDisplayView:null,createParameterControlView:null,createQuantitativeColorLegendView:null,createContinuousSliderViewModel:null,createLegacyLegendView:null,createContinuousSlider:null});ss.initInterface(i,{makeCurrentPagePanelWidget:null,makeFilterPanelWidget:null,makeControlWidget:null});ss.initInterface(k,{},[tab.IViewModel,ss.IDisposable]);ss.initInterface(m,{},[tab.IViewModel,ss.IDisposable]);ss.initInterface(p,{get_visualId:null,get_isHistoryToggleInteractionDisabled:null,get_pageModel:null},[tab.IViewModel,ss.IDisposable]);ss.initInterface(r,{get_parameterCtrlModel:null,get_hasBorder:null,get_hasContextMenu:null,showContextMenu:null},[tab.IViewModel,ss.IDisposable]);ss.initInterface(s,{destroyRecursiveShim$1:null,updatePropertiesShim:null,layoutShim:null},[n]);ss.initInterface(u,{},[tab.IViewModel,ss.IDisposable]);ss.initInterface(v,{get_widgetDomNode:null,destroyShim:null,startupShim:null,resizeShim:null});ss.setMetadata(b,{variance:[1]});ss.setMetadata(j,{variance:[1]});ss.setMetadata(l,{variance:[1]});ss.setMetadata(o,{variance:[1]});ss.setMetadata(q,{variance:[1]});ss.setMetadata(t,{variance:[1]})})();;
/*! BEGIN ModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlmoduleinterfaces');var b=global.tab.DataTabNotificationHandlers=ss.mkType(a,'tab.DataTabNotificationHandlers',function(){this.showJoinAreaHandler=null;this.updateDataPrepHandler=null;this.updateJoinAreaHandler=null});var c=global.tab.ExtensionServerContext=ss.mkType(a,'tab.ExtensionServerContext',function(){this.isAuthoring=false;this.isPublic=false;this.isSaas=false;this.isOfficialRelease=false});var d=global.tab.FlipboardNavigatorTemplate=ss.mkType(a,'tab.FlipboardNavigatorTemplate',function(){this.previous=null;this.scroller=null;this.next=null;this.previousArrow=null;this.nextArrow=null;spiff.Template.call(this,$("<div class='tabFlipboardNav'><span class='tabFlipboardNavPrevious'><div class='tabStoryLeftArrow'></div></span><span class='tabFlipboardNavScroller'></span><span class='tabFlipboardNavNext'><div class='tabStoryRightArrow'></div></span></div>"));this.previous=this.getElementBySelector('.tabFlipboardNavPrevious');this.scroller=this.getElementBySelector('.tabFlipboardNavScroller');this.next=this.getElementBySelector('.tabFlipboardNavNext');this.previousArrow=this.getElementBySelector('.tabStoryLeftArrow');this.nextArrow=this.getElementBySelector('.tabStoryRightArrow')});var e=global.tab.HitResultObjectType=ss.mkEnum(a,'tab.HitResultObjectType',{none:0,misc:1,annotation:2,trendLine:3,referenceLine:4,referenceLineLabel:5,semanticModelRefLine:6,mark:7,markLabel:8});var f=global.tab.IAliasDialogModule=ss.mkType(a,'tab.IAliasDialogModule');var g=global.tab.IAuthoringStoryboardView=ss.mkType(a,'tab.IAuthoringStoryboardView');var h=global.tab.IAuthoringStoryboardViewModel=ss.mkType(a,'tab.IAuthoringStoryboardViewModel');var i=global.tab.IAxisResizerManager=ss.mkType(a,'tab.IAxisResizerManager');var j=global.tab.IBinDialogModule=ss.mkType(a,'tab.IBinDialogModule');var k=global.tab.ICellResizerManager=ss.mkType(a,'tab.ICellResizerManager');var l=global.tab.ICellResizerManagerViewModel=ss.mkType(a,'tab.ICellResizerManagerViewModel');var m=global.tab.ICertificationMarkFactory=ss.mkType(a,'tab.ICertificationMarkFactory');var n=global.tab.ICommentingFactory=ss.mkType(a,'tab.ICommentingFactory');var o=global.tab.ICommentingModuleViewModel=ss.mkType(a,'tab.ICommentingModuleViewModel');var p=global.tab.IConnectionDetailModel=ss.mkType(a,'tab.IConnectionDetailModel');var q=global.tab.IConnectionDialogModule=ss.mkType(a,'tab.IConnectionDialogModule');var r=global.tab.IConnectPanePluginTableauServerFactory=ss.mkType(a,'tab.IConnectPanePluginTableauServerFactory');var s=global.tab.IDataAlertsPanelFactory=ss.mkType(a,'tab.IDataAlertsPanelFactory');var t=global.tab.IDataAlertsPanelModuleViewModel=ss.mkType(a,'tab.IDataAlertsPanelModuleViewModel');var u=global.tab.IDataCatalogClientComponentsFactory=ss.mkType(a,'tab.IDataCatalogClientComponentsFactory');var v=global.tab.IDataConnectionModule=ss.mkType(a,'tab.IDataConnectionModule');var w=global.tab.IDataConnectionPromptView$1=ss.mkType(a,'tab.IDataConnectionPromptView$1',function(bo){var bp=ss.registerGenericInterfaceInstance(w,[bo],{},function(){return[ss.makeGenericType(tab.IView$1,[bo]),ss.IDisposable,tab.IAppendableView]});ss.setMetadata(bp,{variance:[1]});return bp});ss.initGenericInterface(w,1);var x=global.tab.IDataConnectionPromptViewModel=ss.mkType(a,'tab.IDataConnectionPromptViewModel');var y=global.tab.IDataTabIsolatedModule=ss.mkType(a,'tab.IDataTabIsolatedModule');var z=global.tab.IDataTabModule=ss.mkType(a,'tab.IDataTabModule');var A=global.tab.IDeviceLayoutSelectorModule=ss.mkType(a,'tab.IDeviceLayoutSelectorModule');var B=global.tab.IDownloadAsVersionDialogModule=ss.mkType(a,'tab.IDownloadAsVersionDialogModule');var C=global.tab.IDownloadDialogModule=ss.mkType(a,'tab.IDownloadDialogModule');var D=global.tab.IFileUploadModule=ss.mkType(a,'tab.IFileUploadModule');var E=global.tab.IFlipboardNavigatorView=ss.mkType(a,'tab.IFlipboardNavigatorView');var F=global.tab.IFlipboardNavigatorViewModel=ss.mkType(a,'tab.IFlipboardNavigatorViewModel');var G=global.tab.IFrelardServerBootstrapModule=ss.mkType(a,'tab.IFrelardServerBootstrapModule');var H=global.tab.IGroupDialogModule=ss.mkType(a,'tab.IGroupDialogModule');var I=global.tab.IHeaderResizerManager=ss.mkType(a,'tab.IHeaderResizerManager');var J=global.tab.IHeaderResizerManagerViewModel=ss.mkType(a,'tab.IHeaderResizerManagerViewModel');var K=global.tab.IHitTestResult=ss.mkType(a,'tab.IHitTestResult');var L=global.tab.IPaneContent=ss.mkType(a,'tab.IPaneContent');var M=global.tab.IPaneTableView=ss.mkType(a,'tab.IPaneTableView');var N=global.tab.IPaneTableViewModel=ss.mkType(a,'tab.IPaneTableViewModel');var O=global.tab.IPdfExportDialogModule=ss.mkType(a,'tab.IPdfExportDialogModule');var P=global.tab.IResizeHeadersModule=ss.mkType(a,'tab.IResizeHeadersModule');var Q=global.tab.IResizerViewModel=ss.mkType(a,'tab.IResizerViewModel');var R=global.tab.IRichTextAuthoringModule=ss.mkType(a,'tab.IRichTextAuthoringModule');var S=global.tab.ISaveController=ss.mkType(a,'tab.ISaveController');var T=global.tab.ISavingModule=ss.mkType(a,'tab.ISavingModule');var U=global.tab.ISelfServiceSchedulesModule=ss.mkType(a,'tab.ISelfServiceSchedulesModule');var V=global.tab.IShareDialogFactory=ss.mkType(a,'tab.IShareDialogFactory');var W=global.tab.IShareDialogViewModel=ss.mkType(a,'tab.IShareDialogViewModel');var X=global.tab.ISharedWidgetsDataGrid=ss.mkType(a,'tab.ISharedWidgetsDataGrid');var Y=global.tab.ISharedWidgetsPlayground=ss.mkType(a,'tab.ISharedWidgetsPlayground');var Z=global.tab.IStoryAuthoringModule=ss.mkType(a,'tab.IStoryAuthoringModule');var ba=global.tab.IStoryContentPaneViewModel=ss.mkType(a,'tab.IStoryContentPaneViewModel');var bb=global.tab.IStoryLayoutPaneViewModel=ss.mkType(a,'tab.IStoryLayoutPaneViewModel');var bc=global.tab.IStoryModule=ss.mkType(a,'tab.IStoryModule');var bd=global.tab.IStoryPointCaptionViewModel=ss.mkType(a,'tab.IStoryPointCaptionViewModel');var be=global.tab.ITrendLineDialogModule=ss.mkType(a,'tab.ITrendLineDialogModule');var bf=global.tab.IViewController=ss.mkType(a,'tab.IViewController');var bg=global.tab.IViewUnderlyingDataTableModule=ss.mkType(a,'tab.IViewUnderlyingDataTableModule',function(){},{showDialog:null});var bh=global.tab.IVizClientLineagePanelViewModel=ss.mkType(a,'tab.IVizClientLineagePanelViewModel');var bi=global.tab.IVizClientMetricsPanelViewModel=ss.mkType(a,'tab.IVizClientMetricsPanelViewModel');var bj=global.tab.IVizHitInfo=ss.mkType(a,'tab.IVizHitInfo');var bk=global.tab.IVizHitTestDebouncer=ss.mkType(a,'tab.IVizHitTestDebouncer');var bl=global.tab.IVizportalWebclientApiFactory=ss.mkType(a,'tab.IVizportalWebclientApiFactory',function(){});var bm=global.tab.IVizZoneModule=ss.mkType(a,'tab.IVizZoneModule');var bn=global.tab.IZoneViewModel=ss.mkType(a,'tab.IZoneViewModel');ss.initClass(b);ss.initClass(c);ss.initClass(d,spiff.Template,[ss.IDisposable]);ss.initInterface(f,{showDialog:null});ss.initInterface(g,{addToDom$1:null},[ss.makeGenericType(tab.IView$1,[h]),ss.IDisposable,tab.IAppendableView]);ss.initInterface(h,{get_leftPanelContentPaneViewModel:null,get_leftPanelLayoutPaneViewModel:null},[tab.IViewModel,ss.IDisposable]);ss.initInterface(i,{setAxisResizers:null});ss.initInterface(j,{showDialog:null});ss.initInterface(k,{handleCellResizerUpdate:null,scrollY:null,scrollX:null,scrollYWithTimeout:null,scrollXWithTimeout:null});ss.initInterface(l,{add_updateCellResizerViews:null,remove_updateCellResizerViews:null,get_resizeInfo:null,get_cellWidthResizerVM:null,get_cellHeightResizerVM:null});ss.initInterface(m,{createCertificationMark:null});ss.initInterface(n,{createCommentingModuleViewModel:null});ss.initInterface(o,{get_closeCommentingDrawer:null,set_closeCommentingDrawer:null,get_loadDrawerFonts:null,set_loadDrawerFonts:null,get_showNotification:null,set_showNotification:null,updateForSheet:null},[spiff.IContent]);ss.initInterface(p,{});ss.initInterface(q,{showCreateConnectionDialog:null,showCreateConnectionDialogForPreselectedDatabase:null,showCreateConnectionDialogForPreselectedTable:null,showCreateConnectionDialogForEmptyWorkbook:null,showReplaceFileDialog:null,showEditConnectionDialog:null,uploadDroppedFiles:null,showPublishedConnectionDialog:null,showSignInDialog:null,showExtractInProgressDialog:null});ss.initInterface(r,{});ss.initInterface(s,{createDataAlertsPanelModuleViewModel:null});ss.initInterface(t,{},[spiff.IContent]);ss.initInterface(u,{createVizClientLineagePanelViewModel:null});ss.initInterface(v,{createDataConnectionPromptViewModel:null,createDataConnectionPromptView:null});ss.initInterface(x,{get_promptUpdated:null,set_promptUpdated:null},[tab.IViewModel,ss.IDisposable]);ss.initInterface(y,{});ss.initInterface(z,{showDataTab:null,hideDataTab:null,activateExtract:null});ss.initInterface(A,{buildDialogContent:null});ss.initInterface(B,{showDownloadAsVersionDialog:null});ss.initInterface(C,{buildDialogContent:null});ss.initInterface(D,{uploadFiles:null,copyTempFileToSessionStorage:null});ss.initInterface(E,{get_dom:null,get_domRoot:null},[ss.makeGenericType(tab.IView$1,[F]),ss.IDisposable,tab.IAppendableView]);ss.initInterface(F,{add_zoneResized:null,remove_zoneResized:null,add_activePointUpdated:null,remove_activePointUpdated:null,add_remoteUpdateComplete:null,remove_remoteUpdateComplete:null,add_flipboardNavigatorUpdated:null,remove_flipboardNavigatorUpdated:null,add_findParentScroller:null,remove_findParentScroller:null,get_currentPointIndex:null,get_numberOfPoints:null,get_storyPointHeight:null,get_storyPointWidth:null,get_previousDisabled:null,get_nextDisabled:null,get_showArrows:null,get_captions:null,get_useDarkIcons:null,get_scrollBarStyle:null,get_navType:null,get_currentStoryPointId:null,closeUberMenu:null,clickNext:null,clickPrevious:null},[tab.IViewModel,ss.IDisposable]);ss.initInterface(G,{createApiDispatcher:null});ss.initInterface(H,{showGroupDialog:null});ss.initInterface(I,{handleResizerUpdate:null});ss.initInterface(J,{add_updateResizerViews:null,remove_updateResizerViews:null,get_resizeInfo:null,get_rowHeaderResizerVMs:null,get_columnHeaderResizerVMs:null,get_totalColumnHeadersHeight:null},[tab.IViewModel,ss.IDisposable]);ss.initInterface(K,{get_hitObjectType:null,get_id:null});ss.initInterface(L,{get_title:null,get_id:null,get_contentViewType:null,get_contentViewModel:null,get_additionalContentViewClass:null},[tab.IViewModel,ss.IDisposable]);ss.initInterface(M,{get_scrollPosition:null,get_vizHitTestDebouncer:null,doTiledViewerRefreshImages:null},[ss.makeGenericType(tab.IView$1,[N]),ss.IDisposable,tab.IAppendableView]);ss.initInterface(N,{add_differentMarkBrushing:null,remove_differentMarkBrushing:null,add_differentMarkSelection:null,remove_differentMarkSelection:null,get_visualModel:null,get_sheetId:null,get_viewController:null,set_viewController:null},[tab.IViewModel,ss.IDisposable]);ss.initInterface(O,{showExportPdfDialog:null});ss.initInterface(P,{newHeaderResizerManagerViewModel:null,newHeaderResizerManager:null,newAxisResizerManager:null,newCellResizerManagerViewModel:null,newCellResizerManager:null});ss.initInterface(Q,{get_visualID:null,get_resizerOffset:null,get_resizerLength:null,get_isXResizer:null,get_resizerMinimumOffset:null,get_resizerMaximumOffset:null,get_cssClassName:null,sendResizeCommand:null},[tab.IViewModel,ss.IDisposable]);ss.initInterface(R,{showRichTextEditorDialog:null});ss.initInterface(S,{saveWorkbook:null,saveWorkbookAs:null,checkUnusedFiles:null,get_hasUnusedFiles:null});ss.initInterface(T,{getSaveControllerInstance:null});ss.initInterface(U,{get_defaultRecurrence:null,get_selfServiceSchedulePaneComponent:null,createSubscriptionWithSelfServiceSchedule:null,createSubscriptionsWithSelfServiceSchedule:null});ss.initInterface(V,{buildDialogContent:null});ss.initInterface(W,{get_showNotification:null,set_showNotification:null,get_showErrorNotification:null,set_showErrorNotification:null});ss.initInterface(X,{createGrid:null,createArrayRowStore:null,createGridSelection:null});ss.initInterface(Y,{show:null});ss.initInterface(bc,{newFlipboardNavigatorViewModel:null,newFlipboardViewModel:null,newFlipboardNavigatorView:null,newFlipboardView:null,insertStoryPoint:null,replaceStoryPoint:null,fireCloseStoryUberMenu:null,fireShowUpdateToast:null});ss.initInterface(Z,{newAuthoringStoryboardViewModel:null},[bc]);ss.initInterface(ba,{},[L,tab.IViewModel,ss.IDisposable]);ss.initInterface(bb,{},[L,tab.IViewModel,ss.IDisposable]);ss.initInterface(bd,{add_pointCaptured:null,remove_pointCaptured:null,get_caption:null,get_isCurrentPoint:null,get_isCaptured:null,get_shouldBeAdded:null,get_storyPointId:null,get_storyPointIndex:null,get_selectedStoryPointStyle:null,get_unselectedStoryPointStyle:null,clickStoryPoint:null,revertStoryPoint:null});ss.initInterface(be,{showDialog:null});ss.initInterface(bf,{get_viewSession:null,get_sheetName:null,get_cacheVersion:null,setTiledViewer:null,incrementCacheVersion:null},[ss.IDisposable]);ss.initClass(bg);ss.initInterface(bh,{},[spiff.IContent]);ss.initInterface(bi,{},[spiff.IContent]);ss.initInterface(bj,{get_result:null,get_visualId:null,get_sheetId:null,get_paneColumnIndex:null,get_paneRowIndex:null,get_paneLayerIndex:null,get_pageCoordinates:null});ss.initInterface(bk,{add_updated:null,remove_updated:null,get_current:null,getAsync:null,isWithinLastHitTestDistance:null,getLastHitTestDistance:null,update:null},[ss.IDisposable]);ss.initClass(bl);ss.initInterface(bm,{createPaneTableView:null,createPaneTableViewModel:null,addVizDragHandler:null,addAsyncVizDragHandler:null,addVizDragApprover:null,computeVizScrollCapabilities:null});ss.initInterface(bn,{add_resizeZone:null,remove_resizeZone:null,add_zoneResized:null,remove_zoneResized:null,add_validStateChanged:null,remove_validStateChanged:null,get_width:null,get_height:null,get_contentWidth:null,get_contentHeight:null,get_contentContainerStyle:null,get_titleSize:null,get_zoneId:null,get_hasTitle:null,get_associatedSheet:null,get_valid:null,get_model:null,forceZoneValidState:null});ss.setMetadata(w,{variance:[1]});(function(){d.$0="<div class='"+'tabFlipboardNav'+"'>"+"<span class='tabFlipboardNavPrevious'><div class='tabStoryLeftArrow'></div></span>"+"<span class='tabFlipboardNavScroller'></span>"+"<span class='tabFlipboardNavNext'><div class='tabStoryRightArrow'></div></span>"+'</div>'})()})();;
/*! BEGIN FileUploadModule */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlfileuploadmodule');var b=global.tab.ByteUtils=ss.mkType(a,'tab.ByteUtils',null,null,{determineBestByteType:function(s){if(s<1024){return tab.Strings.UploadBytes}else if(s<1048576){return tab.Strings.UploadKB}else if(s<1073741824){return tab.Strings.UploadMB}else{return tab.Strings.UploadGB}},getBytesWithMagnitude:function(s,t){if(ss.referenceEquals(t,tab.Strings.UploadBytes)){return s}else if(ss.referenceEquals(t,tab.Strings.UploadKB)){return s/1024}else if(ss.referenceEquals(t,tab.Strings.UploadMB)){return s/1048576}else{return s/1073741824}}});var c=global.tab.DataFileUploader=ss.mkType(a,'tab.DataFileUploader',function(s){this.$2=null;this.$6=0;this.$4=null;this.$7=0;this.$5=0;this.$3=null;this.$8='';this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=false;this.$1$5=0;this.$1$6=0;this.$2=s;this.$6=s.size;this.$4=s.name;this.set_uploadedSize(0);this.add_progressChanged(ss.mkdel(this,function(t){}))},{add_progressChanged:function(s){this.$1$1=ss.delegateCombine(this.$1$1,s)},remove_progressChanged:function(s){this.$1$1=ss.delegateRemove(this.$1$1,s)},add_uploadFinished:function(s){this.$1$2=ss.delegateCombine(this.$1$2,s)},remove_uploadFinished:function(s){this.$1$2=ss.delegateRemove(this.$1$2,s)},add_errorDetected:function(s){this.$1$3=ss.delegateCombine(this.$1$3,s)},remove_errorDetected:function(s){this.$1$3=ss.delegateRemove(this.$1$3,s)},get_canceled:function(){return this.$1$4},set_canceled:function(s){this.$1$4=s},get_file:function(){return this.$2},get_size:function(){return this.$6},get_name:function(){return this.$4},get_uploadedSize:function(){return this.$1$5},set_uploadedSize:function(s){this.$1$5=s},get_elapsedTime:function(){return this.$1$6},set_elapsedTime:function(s){this.$1$6=s},get_progress:function(){return this.$5},set_progress:function(s){if(this.$5!==s){this.$5=s;if(!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$5)}}},get_isComplete:function(){return this.get_progress()===100},cancelUpload:function(){this.set_canceled(true);if(this.get_isComplete()){h.cancelFileUpload(this.$8)}},createUpload:function(){var s=h.createFileUpload(this.$6);s.then(ss.mkdel(this,function(t){this.upload(t)}),ss.mkdel(this,function(t){this.$0(t)}))},upload:function(s){this.$3=new FileReader;this.$8=s;var t=tab.DateUtil.get_nowAsTime();this.$3.onloadend=ss.mkdel(this,function(u){var v=h.appendToFile(s,new Uint8Array(this.$3.result));v.then(ss.mkdel(this,function(w){if(this.get_canceled()){h.cancelFileUpload(s);return}this.set_uploadedSize(this.$7);if(this.$7<this.$6){this.set_progress(Math.floor(this.$7/this.$6*100));this.$1()}else{this.set_progress(100);if(!ss.staticEquals(this.$1$2,null)){this.set_elapsedTime(tab.DateUtil.get_nowAsTime()-t);this.$1$2(s)}}}),ss.mkdel(this,function(w){this.$0(w)}))});this.$1()},$1:function(){this.$7=Math.min(this.get_uploadedSize()+2097152,this.$6);var s=this.get_file().slice(this.get_uploadedSize(),this.$7);this.$3.readAsArrayBuffer(s)},$0:function(s){this.cancelUpload();this.$1$3(s)}},{new$1:function(s){return new c(s)}});var d=global.tab.FatalErrorComponent=ss.mkType(a,'tab.FatalErrorComponent',function(s){spiff.PureRenderComponent.call(this,s)},{get_getTitle:function(){return tab.Strings.FileUploadFatalErrorTitle},render:function(){return spiff.DOMElements.div({className:'tab-uploadDialog-fatalError'},spiff.DOMElements.div({className:'tab-uploadDialog-fatalError-title'},this.get_getTitle()),spiff.DOMElements.div({className:'tab-uploadDialog-fatalError-subtitle'},this.$0()),this.$1(),spiff.DOMElements.div({className:'tab-uploadDialog-fatalError-buttonContainer'},this.createCancelButton(),this.createAddButton(),this.createSkipButton()))},$0:function(){switch(this.props.fatalErrorType){case 0:{break}case 1:{return tab.Strings.FileUploadFatalErrorUnsupportedFileTypeSubtitle}case 2:{var s=_.find(this.props.recentlyIgnoredFiles,function(z){return g.isFileTypeSupported(z,'')});var t=g.getFileTypeFromExtension(g.getFileExtension(s));if(ss.referenceEquals(t,tab.Strings.FileUploadFileTypeExcel)){t=tab.Strings.FileUploadFileTypeExcelFile}var u=g.getConnectionClassToFileTypeName(this.props.connectionClass);var v=(this.$2(u)?2:0);v+=(this.$2(t)?1:0);switch(v){case 0:{return tab.Strings.FileUploadFatalErrorUnsupportedFileTypeByConnectionSubtitle_a_a(u,t)}case 1:{return tab.Strings.FileUploadFatalErrorUnsupportedFileTypeByConnectionSubtitle_a_an(u,t)}case 2:{return tab.Strings.FileUploadFatalErrorUnsupportedFileTypeByConnectionSubtitle_an_a(u,t)}default:{return tab.Strings.FileUploadFatalErrorUnsupportedFileTypeByConnectionSubtitle_an_an(u,t)}}}case 3:{var w=b.determineBestByteType(this.props.maxFileSize);var x=b.getBytesWithMagnitude(this.props.maxFileSize,w);var y=ss.formatString('{0:N1} {1}',x,w);return tab.Strings.FileUploadFatalErrorFileIsTooBigSubtitle(y)}case 4:{return tab.Strings.FileUploadFatalErrorFileIsEmptySubtitle}case 5:{return tab.Strings.FileUploadFatalErrorFileExists}case 6:{return tab.Strings.DragAndDropError_Multi}case 7:{return tab.Strings.FileUploadAccessError}default:{break}}return null},$1:function(){if(this.props.fatalErrorType===2||this.props.fatalErrorType===6||this.props.fatalErrorType===7){return null}var s=spiff.DOMElements.div({},_.map(this.props.recentlyIgnoredFiles,ss.mkdel(this,function(t,u){return spiff.DOMElements.div({key:u},t)})));return spiff.DOMElements.div({className:'tab-uploadDialog-fatalError-recentlyIgnoredContainer'},s)},createCancelButtonProps:function(){return{handleClick:ss.mkdel(this,function(s){this.props.dismiss()}),buttonType:3,testId:'FatalErrorCancelButton',children:tab.Strings.FileUploadButtonCancel}},createSkipButtonProps:function(){return{handleClick:ss.mkdel(this,function(s){this.props.skip()}),buttonType:2,testId:'FatalErrorSkipButton',style:{left:'12px'},children:((this.props.recentlyIgnoredFiles.length===1)?tab.Strings.FileUploadButtonSkipSingular:tab.Strings.FileUploadButtonSkipPlural)}},$2:function(s){return s.length>0&&'aeiouAEIOU'.indexOf(String.fromCharCode(s.charCodeAt(0)))!==-1},createCancelButton:function(){return React.createElement(SharedWidgets.ButtonWidget,this.createCancelButtonProps())},createAddButton:function(){return null},createSkipButton:function(){return((this.props.eligibleFileCount>0)?ss.mkdel(this,function(){return React.createElement(SharedWidgets.ButtonWidget,this.createSkipButtonProps())})():null)}});var e=global.tab.FatalErrorFileExistsComponent=ss.mkType(a,'tab.FatalErrorFileExistsComponent',function(s){d.call(this,s)},{get_getTitle:function(){return tab.Strings.FileUploadFatalErrorSameFileTitle},createAddButtonProps:function(){return{handleClick:ss.mkdel(this,function(s){this.props.add()}),buttonType:2,testId:'FatalErrorAddButton',children:tab.Strings.FileUploadButtonAdd}},createCancelButtonProps$1:function(){return{handleClick:ss.mkdel(this,function(s){this.props.dismiss()}),buttonType:3,testId:'FatalErrorCancelButton',style:{right:'12px'},children:tab.Strings.FileUploadButtonCancel}},createCancelButton:function(){return React.createElement(SharedWidgets.ButtonWidget,this.createCancelButtonProps$1())},createAddButton:function(){return React.createElement(SharedWidgets.ButtonWidget,this.createAddButtonProps())},createSkipButton:function(){var s=this.createSkipButtonProps();s.children=tab.Strings.FileUploadButtonReplaceUpdate;return React.createElement(SharedWidgets.ButtonWidget,s)}});var f=global.tab.FatalErrorType=ss.mkEnum(a,'tab.FatalErrorType',{none:0,unsupportedType:1,fileTypeMismatch:2,fileTooBig:3,fileIsEmpty:4,fileAlreadyExists:5,multiFileNotExpected:6,fileIsLocked:7});var g=global.tab.FileTypeUtils=ss.mkType(a,'tab.FileTypeUtils',null,null,{getFileExtensionsForConnectionType:function(s){switch(s){case'excel-direct':{return['.xls','.xlsx','.xlsm']}case'textscan':{return['.txt','.csv','.tab','.tsv']}case'ogrdirect':{return['.geojson','.kml','.topojson','.zip']}default:{return[]}}},getFileTypeFromExtension:function(s){switch(s){case'.xls':case'.xlsx':case'.xlsm':{return tab.Strings.FileUploadFileTypeExcel}case'.txt':case'.csv':case'.tab':case'.tsv':{return tab.Strings.FileUploadFileTypeText}case'.mdb':case'.accdb':{return tab.Strings.FileUploadFileTypeAccess}case'.json':{return tab.Strings.FileUploadFileTypeJson}case'.geojson':case'.kml':case'.shp':case'.mif':case'.topojson':case'.zip':{return tab.Strings.FileUploadFileTypeSpatial}case'.sav':case'.sas7bdat':case'.rda':case'.rdata':{return tab.Strings.FileUploadFileTypeStatistical}default:{return tab.Strings.FileUploadFileTypeOther}}},getFileExtension:function(s){var t=s.lastIndexOf(String.fromCharCode(46));return s.substr(t,s.length-t).toLowerCase()},getAllFileTypes:function(s){var t='';var u=', ';s.forEach(function(v){t+=v+u});return ss.removeString(t,t.length-u.length)},isFileTypeSupported:function(s,t){var u=g.getFileExtension(s);if(ss.isNullOrEmptyString(t)){return _.contains(g.allSupportedFileExtensions,u)}else{return _.contains(g.getFileExtensionsForConnectionType(t),u)}},getConnectionClassToFileTypeName:function(s){switch(s){case'excel':case'excel-direct':{return tab.Strings.FileUploadFileTypeExcelFile}case'csv':case'textscan':{return tab.Strings.FileUploadFileTypeText.toLowerCase()}case'ogrdirect':{return tab.Strings.FileUploadFileTypeSpatial}default:{return''}}}});var h=global.tab.FileUploadCommands=ss.mkType(a,'tab.FileUploadCommands',null,null,{appendToFile:function(s,t){var u=$.Deferred();var v={type:'POST',url:tabBootstrap.BaseUrlFormatter.formatSessionMethod('fileUploadAppend',tsConfig.sessionid,tsConfig.vizql_root)+'/'+s,headers:ss.mkdict(['Accept','text/javascript']),dataType:'json',contentType:'application/octet-stream',processData:false,data:t,success:function(w,x,y){u.resolve()},error:function(w,x,y){var z=w;var A;var B=z['responseJSON'];if(!ss.isNullOrUndefined(B)&&ss.keyExists(B,'msg')){A=B['msg']}else{A=tab.Strings.FileUploadServerUnresponsive}u.reject(A)}};tab.SessionHeartbeat.onVizportalPinged();tab.XhrUtil.helper(v,null);return u.promise()},getMaxFileUploadSize:function(){var s=$.Deferred();var t={type:'GET',url:tabBootstrap.BaseUrlFormatter.formatSessionMethod('getMaxFileUploadSize',tsConfig.sessionid,tsConfig.vizql_root),headers:ss.mkdict(['Accept','text/javascript']),dataType:'json',data:{},success:function(u,v,w){var x=u;s.resolve(x.maxsize)},error:function(u,v,w){var x=u;var y;var z=x['responseJSON'];if(!ss.isNullOrUndefined(z)&&ss.keyExists(z,'msg')){y=z['msg']}else{y=tab.Strings.FileUploadServerUnresponsive}s.reject(y)}};tab.SessionHeartbeat.onVizportalPinged();tab.XhrUtil.helper(t,null);return s.promise()},createFileUpload:function(s){var t=$.Deferred();var u=ss.mkdict(['totalFileSize',s.toString()]);var v={type:'POST',url:tabBootstrap.BaseUrlFormatter.formatSessionMethod('fileUploadCreate',tsConfig.sessionid,tsConfig.vizql_root),headers:ss.mkdict(['Accept','text/javascript']),data:u,dataType:'json',success:function(w,x,y){var z=w;t.resolve(z.file.id)},error:function(w,x,y){var z=w;var A;var B=z['responseJSON'];if(!ss.isNullOrUndefined(B)&&ss.keyExists(B,'msg')){A=B['msg']}else{A=tab.Strings.FileUploadServerUnresponsive}t.reject(A)}};tab.SessionHeartbeat.onVizportalPinged();tab.XhrUtil.helper(v,null);return t.promise()},cancelFileUpload:function(s){var t={type:'POST',url:tabBootstrap.BaseUrlFormatter.formatSessionMethod('fileUploadCancel',tsConfig.sessionid,tsConfig.vizql_root)+'/'+s,headers:ss.mkdict(['Accept','text/javascript']),dataType:'json'};tab.SessionHeartbeat.onVizportalPinged();tab.XhrUtil.helper(t,null)},createDataSourceFromFileUpload:function(s,t,u,v){var w=new tab.CreateDataSourceFromFileUploadCmd;w.c['fileIds']=s;w.c['dsClasses']=t;w.c['fileNames']=u;var x=w;if(!ss.isNullOrEmptyString(v)){x.c['datasource']=v}return x.invoke()},replaceFileConnectionFromFileUpload:function(s,t,u,v,w){var x=new tab.ReplaceFileConnectionFromFileUploadCmd;x.c['fileIds']=s;x.c['dsClass']=t;x.c['bool']=!w;x.c['fileNames']=u;x.c['connectionName']=v;var y=x;return y.invoke()},getFileConnectionFileList:function(s,t){if(ss.isNullOrEmptyString(t)||t!=='textscan'){var u=$.Deferred();var v={};v['fileNames']=[];u.resolve(new tab.GetFileConnectionFileListCmd$Response(v));return u.promise()}var w=new tab.GetFileConnectionFileListCmd;w.c['connectionName']=s;var x=w;return x.invoke()},copyTempFileToSessionSpecificStorage:function(s,t){var u=new tab.CopyTempFileToSessionSpecificStorageCmd;u.c['fileId']=t;u.c['fileName']=s;var v=u;return v.invoke()}});var i=global.tab.FileUploadInfo=ss.mkType(a,'tab.FileUploadInfo',null,null,{createInstance:function(){return i.$ctor()},$ctor:function(){var s={};s.fileSize=0;s.name=null;s.progress=0;return s},isInstanceOfType:function(){return true}});var j=global.tab.FileUploadModuleFactory=ss.mkType(a,'tab.FileUploadModuleFactory',function(){},{uploadFiles:function(s){var t=$.Deferred();var u=document.createElement('div');var v=0;h.getMaxFileUploadSize().done(function(w){v=w}).always(ss.mkdel(this,function(){var w={dismiss:ss.mkdel(this,function(){this.$0(u)}),files:s,maxFileSize:v,onFileUploadFinished:ss.mkdel(this,function(x,y,z){this.$0(u);t.resolve(x)}),onAllFileUploadsFinished:function(x){}};ReactDOM.render(React.createElement(r,w),u)}));return t.promise()},copyTempFileToSessionStorage:function(s,t){var u=$.Deferred();h.copyTempFileToSessionSpecificStorage(s.name,t).done(function(v){u.resolve(v.$$c['sessionStorageId'])});return u.promise()},$0:function(s){var t=s;s=null;if(!ss.isNullOrUndefined(t)){_.defer(function(){ReactDOM.unmountComponentAtNode(t)})}}});var k=global.tab.ProgressBarComponent=ss.mkType(a,'tab.ProgressBarComponent',function(s){spiff.PureRenderComponent.call(this,s)},{render:function(){var s=(this.props.doneUploadingAllFiles?(' '+'done'):'');s=(this.props.failed?(' '+'error'):s);return spiff.DOMElements.div({},spiff.DOMElements.progress({className:'tab-uploadDialog-progressBar'+s,max:100,value:((this.props.doneUploadingAllFiles||this.props.failed)?'100':this.props.totalProgressPercent.toString())}),spiff.DOMElements.div({className:'tab-uploadDialog-fraction'},ss.formatString(tab.Strings.FileUploadProgressIndicator(this.props.uploadedSoFar,this.props.totalSize,this.props.byteType))))}});var l=global.tab.UploadDataFileErrorInfosComponent=ss.mkType(a,'tab.UploadDataFileErrorInfosComponent',function(s){spiff.PureRenderComponent.call(this,s)},{render:function(){return spiff.DOMElements.div({className:'tab-uploadDialog-errorInfosArea'},((ss.isValue(this.props.filesThatSucceeded)&&this.props.filesThatSucceeded.length>0)?ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-uploadDialog-errorInfosCompletedSection'},spiff.DOMElements.div({className:'tab-uploadDialog-errorInfosCompletedHeader'},tab.Strings.FileUploadErrorInfosCompletedHeader),spiff.DOMElements.div({className:'tab-uploadDialog-errorInfosCompletedContent'},_.map(this.props.filesThatSucceeded,ss.mkdel(this,function(s,t){return spiff.DOMElements.div({key:t},s)}))))})():null),spiff.DOMElements.div({className:'tab-uploadDialog-errorInfosFailedSection'},spiff.DOMElements.div({className:'tab-uploadDialog-errorInfosFailedHeader'},tab.Strings.FileUploadErrorInfosFailedHeader),spiff.DOMElements.div({className:'tab-uploadDialog-errorInfosFailedContent'},_.map(this.props.filesThatFailed,ss.mkdel(this,function(s,t){return spiff.DOMElements.div({key:t,title:(ss.isValue(this.props.reasons)?this.props.reasons[t]:s)},s)})))))}});var m=global.tab.UploadDataFileProgressComponent$1=ss.mkType(a,'tab.UploadDataFileProgressComponent$1',function(s){var t=ss.registerGenericClassInstance(m,[s],function(u){spiff.PureRenderComponent.call(this,u)},{render:function(){if(this.props.done&&!this.props.hasProcessingError){window.setTimeout(ss.mkdel(this,this.$0),1000)}return spiff.DOMElements.div({className:'tab-uploadDialog-fileUploadUI',key:this.props.key},spiff.DOMElements.div({className:'tab-uploadDialog-progressContainer'},this.renderTitle(),this.renderCurrentFile(),this.renderFileDescription(),this.renderProgressBar(),this.renderSpinner(),spiff.DOMElements.div({className:'tab-uploadDialog-expandosArea'},this.renderMoreButton()),(this.props.hasProcessingError?React.createElement(SharedWidgets.ButtonWidget,this.createCloseButtonProps()):this.renderMoreArea())),spiff.DOMElements.div({className:'tab-uploadDialog-fatalError-buttonContainer'},this.renderIgnoreAndContinue(),(this.props.hasProcessingError?this.renderMoreArea():React.createElement(SharedWidgets.ButtonWidget,this.createCloseButtonProps())),this.renderRetry()))},renderTitle:function(){return spiff.DOMElements.div({className:'tab-uploadDialog-title'},this.$1())},renderMoreButton:function(){return null},renderRetry:function(){return null},renderMoreArea:function(){return null},renderIgnoreAndContinue:function(){return null},renderProgressBar:function(){return(!this.$2()?ss.mkdel(this,function(){return React.createElement(k,this.createProgressBarProps())})():null)},renderFileDescription:function(){return((!this.$2()&&ss.isValue(this.props.fileTypeSet))?ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-uploadDialog-fileDescription'},g.getAllFileTypes(this.props.fileTypeSet))})():null)},renderCurrentFile:function(){return((this.props.numberOfFiles===1)?ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-uploadDialog-currentFileName'},this.props.fileName)})():null)},createProgressBarProps:function(){return{failed:false,byteType:this.props.byteType,totalProgressPercent:this.props.totalProgressPercent,totalSize:this.props.totalSize,uploadedSoFar:this.props.uploadedSoFar,doneUploadingAllFiles:this.props.done}},createCloseButtonProps:function(){var u=this.props.done;var v=this.$2();var w=(this.props.done?2:(v?1:3));var x=ss.mkdel(this,function(y){this.$0()});return{handleClick:x,buttonType:w,testId:'FileUploadExitButton',children:(u?tab.Strings.FileUploadButtonClose:tab.Strings.FileUploadButtonCancel),disabled:this.props.isProcessing,style:{visibility:((u&&!this.props.hasProcessingError)?'hidden':'visible')}}},renderSpinner:function(){return(this.$2()?ss.mkdel(this,function(){return spiff.DOMElements.div({style:{marginTop:'18px'}},React.createElement(SharedWidgets.ActivitySpinnerWidget,{testId:'fileupload-spinner'}))})():null)},$1:function(){if(ss.isValue(this.props.title)){return this.props.title}else if(this.props.numberOfFiles<1){return tab.Strings.FileUploadPreProcessingTitle}else if(this.props.numberOfFiles===1){return tab.Strings.FileSingleUploadTitle}else{return tab.Strings.FileUploadTitle(this.props.numberOfFiles)}},$0:function(){if(!this.props.done){this.props.cancelUpload()}this.props.dismiss()},$2:function(){return this.props.isProcessing||this.props.numberOfFiles===0}},null,function(){return spiff.PureRenderComponent});return t});ss.initGenericClass(m,1);var n=global.tab.UploadDataFileProgressDialogComponent=ss.mkType(a,'tab.UploadDataFileProgressDialogComponent',function(s){React.Component.call(this,s)},{render:function(){return React.createElement(SharedWidgets.DialogWidget,{children:this.props.children,isModal:true,isGlassTransparent:false,onCloseRequest:this.props.dismiss,handleGlassClick:function(){},positioningBehavior:0,shouldAdjustPositionOnWindowResize:true,type:2,testId:'tabUploadProgressDialog',zIndex:1000})}});var o=global.tab.UploadDataFileProgressErrorComponent=ss.mkType(a,'tab.UploadDataFileProgressErrorComponent',function(s){ss.makeGenericType(m,[Object]).call(this,s)},{renderTitle:function(){var s=((this.props.numberOfFiles>1)?ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-uploadDialog-errorTitleComplete'},tab.Strings.FileUploadErrorTitleMultiComplete(this.props.successFilesCount))})():null);var t=((this.props.numberOfFiles>1)?ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-uploadDialog-errorTitleFailed'},tab.Strings.FileUploadErrorTitleMultiFailed(this.props.failedFilesCount))})():null);return spiff.DOMElements.div({},s,t,((this.props.numberOfFiles===1)?ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-uploadDialog-errorTitle'},tab.Strings.FileUploadErrorTitle)})():null))},renderMoreButton:function(){return((this.props.numberOfFiles>1)?ss.mkdel(this,function(){return React.createElement(SharedWidgets.ExpandoWidget,{isExpanded:this.props.showingMore,onExpand:this.props.toggleShowMore,onCollapse:this.props.toggleShowMore,direction:1,testId:'MoreButtonExpando',label:(this.props.showingMore?tab.Strings.HideDetailsLabel:tab.Strings.ShowDetailsLabel)})})():null)},renderRetry:function(){return React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(s){this.props.retry()}),buttonType:2,testId:'FileUploadRetryButton',children:tab.Strings.FileUploadButtonRetry,style:{float:'right',marginLeft:'12px'}})},createProgressBarProps:function(){var s=ss.makeGenericType(m,[Object]).prototype.createProgressBarProps.call(this);s.failed=true;return s},renderIgnoreAndContinue:function(){return((this.props.successFilesCount>0&&this.props.numberOfFiles!==1)?ss.mkdel(this,function(){return React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(s){this.props.ignoreAndContinue()}),buttonType:3,testId:'FileUploadIgnoreAndContinueButton',children:tab.Strings.FileUploadFailureIgnoreAndContinueLabel,style:{marginRight:'12px'}})})():null)},renderMoreArea:function(){if(this.props.numberOfFiles===1){return spiff.DOMElements.div({className:'tab-uploadDialog-errorMessage'},this.props.errorMessage)}else{return(this.props.showingMore?ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-uploadDialog-errorMoreAreaContainer'},React.createElement(l,this.props.errorInfosProps))})():null)}}});var p=global.tab.UploadDataFileProgressErrorConstants=ss.mkType(a,'tab.UploadDataFileProgressErrorConstants');var q=global.tab.UploadFileComponent=ss.mkType(a,'tab.UploadFileComponent',function(s){React.Component.call(this,s);this.state={fatalErrorType:0,filesToIgnore:[],recentlyIgnoredFiles:[],uploadErrorMsg:{}}},{componentDidMount:function(){window.setTimeout(ss.mkdel(this,function(){this.$9(this.props.files)}),100)},render:function(){if(this.state.fatalErrorType!==0){var s=this.$1();if(this.state.fatalErrorType===5){return React.createElement(e,s)}else{return React.createElement(d,s)}}if(ss.isNullOrUndefined(this.state.fileUploaders)){return React.createElement(ss.makeGenericType(m,[Object]),this.createProgressProps())}var t=this.$7();if(t){var u=this.createErrorProps();if(this.$5()&&!ss.staticEquals(this.props.createCustomProcessingErrorComponent,null)){return this.props.createCustomProcessingErrorComponent(u)}else{return React.createElement(o,u)}}else{return React.createElement(ss.makeGenericType(m,[Object]),this.createProgressProps())}},createProgressProps:function(){var s=_.reduce(this.state.fileUploaders,function(E,F){return E+F.get_size()},0);var t=_.reduce(this.state.fileUploaders,function(E,F){return E+F.get_uploadedSize()},0);var u=t/s*100;var v=b.determineBestByteType(s);var w=(ss.isValue(this.state.fileUploaders)?this.state.fileUploaders.length:0);var x=((w>0)?this.state.fileUploaders[0].get_name():'');var y=b.getBytesWithMagnitude(s,v);var z=ss.formatString('{0:N1}',y);var A=b.getBytesWithMagnitude(t,v);var B=ss.formatString('{0:N1}',A);var C=x;if(!ss.isNullOrEmptyString(C)){C=ss.replaceAllString(C,':','_')}var D=this.$5();return{byteType:v,cancelUpload:ss.mkdel(this,this.$0),dismiss:this.props.dismiss,done:this.props.done,fileName:C,hasProcessingError:D,key:w,numberOfFiles:w,isProcessing:this.props.isProcessing,title:this.props.currentActionMessage,totalProgressPercent:ss.trunc(u),totalSize:z,uploadedSoFar:B}},createErrorProps:function(){var s=[];_.each(this.state.fileUploaders,function(x){s.push(x.get_name())});var t=_.difference(s,this.state.filesToIgnore);var u=this.$5();if(u&&!(typeof(this.props.processingTelemetryType)==='undefined')){t=this.props.uploadOrProcessingFailedFiles;_.each(t,ss.mkdel(this,function(x){tab.FileUploadTelemetry.getInstance().logFileUploadFailureEvent(q.$1[x],this.props.processingTelemetryType)}))}var v=_.map(t,ss.mkdel(this,function(x,y){if(u){if(ss.isValue(this.props.uploadOrProcessingFailureReasons)){return this.props.uploadOrProcessingFailureReasons[y]}return ss.coalesce(this.props.defaultProcessingErrorReason,'')}else{if(ss.keyExists(this.state.uploadErrorMsg,x)){return this.state.uploadErrorMsg[x]}return tab.Strings.FileUploadUploadErrorReason}}));var w={filesThatFailed:t,filesThatSucceeded:_.difference(s,t),reasons:v};return _.extend({successFilesCount:s.length-t.length,failedFilesCount:t.length,ignoreAndContinue:ss.mkdel(this,function(){var x=((typeof(this.state.overwrite)==='undefined')?true:this.state.overwrite);this.props.onAllFileUploadsFinished(x);this.setState({errorMessage:null,fileUploaders:_.filter(this.state.fileUploaders,function(y){return!ss.contains(t,y.get_name())}),showingMore:false})}),toggleShowMore:ss.mkdel(this,function(){this.setState({showingMore:!this.state.showingMore})}),retry:ss.mkdel(this,function(){tab.FileUploadTelemetry.getInstance().logFileUploadRetryEvent('retry');var x=_.filter(this.props.files,ss.mkdel(this,function(y){return!ss.contains(this.state.filesToIgnore,y.name)}));this.$9(x);this.setState({errorMessage:null,showingMore:false})}),errorMessage:(u?this.props.processingErrorTitle:this.state.errorMessage),errorInfosProps:w,showingMore:this.state.showingMore},this.createProgressProps())},$1:function(){var s=_.filter(this.props.files,ss.mkdel(this,function(t){return!ss.contains(this.state.filesToIgnore,t.name)}));return{dismiss:ss.mkdel(this,function(){var t=this.state.fatalErrorType===5;if(t){tab.FileUploadTelemetry.getInstance().logFileUploadReplaceEvent('cancel')}else{tab.FileUploadTelemetry.getInstance().logFileUploadRetryEvent('cancel')}this.props.dismiss()}),eligibleFileCount:s.length,fatalErrorType:this.state.fatalErrorType,key:this.state.recentlyIgnoredFiles.length,maxFileSize:this.props.maxFileSize,recentlyIgnoredFiles:this.state.recentlyIgnoredFiles,skip:ss.mkdel(this,function(){var t=this.state.fatalErrorType===5;this.setState({fatalErrorType:0,recentlyIgnoredFiles:[],overwrite:(t?true:this.state.overwrite)},ss.mkdel(this,function(){if(t){tab.FileUploadTelemetry.getInstance().logFileUploadReplaceEvent('replace')}else{tab.FileUploadTelemetry.getInstance().logFileUploadRetryEvent('skip')}this.$9(s);return null}))}),add:ss.mkdel(this,function(){this.setState({fatalErrorType:0,recentlyIgnoredFiles:[],overwrite:false},ss.mkdel(this,function(){tab.FileUploadTelemetry.getInstance().logFileUploadReplaceEvent('add');this.$9(s);return null}))})}},$4:function(){if(this.state.fatalErrorType===2&&!ss.staticEquals(this.props.getMismatchErrorSubtitle,null)){return this.props.getMismatchErrorSubtitle(this.state.recentlyIgnoredFiles)}return''},$0:function(){_.each(this.state.fileUploaders,function(s){tab.FileUploadTelemetry.getInstance().logFileUploadFailureEvent(q.$1[s.get_name()],'upload_canceled');s.cancelUpload()})},$a:function(){return _.reduce(this.state.fileUploaders,function(s,t){return s&&t.get_isComplete()},true)},$7:function(){return ss.isValue(this.state.errorMessage)&&_.reduce(this.state.fileUploaders,function(s,t){return s&&(t.get_isComplete()||t.get_canceled())},true)||this.$5()},$9:function(s){if(ss.isNullOrUndefined(s)){return}if(this.state.filesToIgnore.length===0&&this.state.recentlyIgnoredFiles.length===0&&ss.isNullOrUndefined(this.state.fileUploaders)){ss.clearKeys(q.$1);_.each(s,function(A,B){tab.FileUploadTelemetry.getInstance().logFileUploadStartEvent(B,g.getFileExtension(A.name),A.size);q.$1[A.name]=B})}var t=_.filter(this.state.fileUploaders,function(A){return!A.get_canceled()&&A.get_isComplete()});var u=this.$3();var v=u.item1;var w=u.item2;if(ss.isNullOrUndefined(w)&&ss.isValue(v)){for(var x=0;x<v.length;x++){var y=v[x];var z={$:c.new$1(y)};z.$.add_uploadFinished(ss.mkdel({uploader1:z,$this:this},function(A){var B=this.uploader1.$.get_name();tab.FileUploadTelemetry.getInstance().logFileUploadSuccessEvent(q.$1[B],this.uploader1.$.get_elapsedTime());var C='textscan';var D=g.getFileTypeFromExtension(g.getFileExtension(B));if(ss.referenceEquals(D,tab.Strings.FileUploadFileTypeExcel)){C='excel-direct'}else if(ss.referenceEquals(D,tab.Strings.FileUploadFileTypeSpatial)){C='ogrdirect'}this.$this.props.onFileUploadFinished(A,C,B);if(this.$this.$a()){var E=((typeof(this.$this.state.overwrite)==='undefined')?true:this.$this.state.overwrite);this.$this.props.onAllFileUploadsFinished(E)}}));t.push(z.$);z.$.add_progressChanged(ss.mkdel({uploader1:z,$this:this},function(){if(this.uploader1.$.get_isComplete()){var A=ss.arrayClone(this.$this.state.filesToIgnore);A.push(this.uploader1.$.get_name());this.$this.setState({filesToIgnore:A})}else{this.$this.forceUpdate()}}));z.$.add_errorDetected(ss.mkdel({uploader1:z,$this:this},function(A){tab.FileUploadTelemetry.getInstance().logFileUploadFailureEvent(q.$1[this.uploader1.$.get_name()],'upload_error');var B=this.$this.state.uploadErrorMsg;B[this.uploader1.$.get_name()]=A;this.$this.setState({errorMessage:A,uploadErrorMsg:B})}));z.$.createUpload()}this.setState({fileUploaders:t,showingMore:false})}},$3:function(){var s=this.$2();this.$8(s.ineligibleFiles,s.fatalErrorType);return{item1:s.filesToUpload,item2:s.ineligibleFiles}},$2:function(){if(this.props.files.length===0){var s={fatalErrorType:7,filesToUpload:null,ineligibleFiles:null};tab.FileUploadTelemetry.getInstance().logFileUploadFailureEvent(0,'locked');return s}if(this.props.files.length>1&&!this.props.isMultiFileAllowed){var t={fatalErrorType:6,filesToUpload:null,ineligibleFiles:this.props.files};tab.FileUploadTelemetry.getInstance().logFileUploadFailureEvent(0,'multi_file_rejected');return t}var u=_.filter(this.props.files,ss.mkdel(this,function(C){return!ss.contains(this.state.filesToIgnore,C.name)}));var v=((this.props.maxFileSize===0)?[]:_.filter(u,ss.mkdel(this,function(C){return C.size>this.props.maxFileSize})));var w=_.filter(u,function(C){return C.size===0});var x=((typeof(this.state.overwrite)==='undefined'&&!(typeof(this.props.existingFilesToNotOverwrite)==='undefined'))?_.filter(u,ss.mkdel(this,function(C){return _.any(this.props.existingFilesToNotOverwrite,function(D){return ss.compareStrings(D,C.name,true)===0})})):null);if(ss.isValue(x)&&x.length>0){var y={fatalErrorType:5,filesToUpload:null,ineligibleFiles:x};this.$6(y.ineligibleFiles,'exists');return y}if(!ss.staticEquals(this.props.customFileFilter,null)){var z=this.props.customFileFilter(u);if(z.fatalErrorType!==0){if(z.fatalErrorType===2){this.$6(z.ineligibleFiles,'type_mismatch')}if(z.fatalErrorType===1){this.$6(z.ineligibleFiles,'unsupported')}return z}}if(v.length>0){var A={fatalErrorType:3,filesToUpload:_.difference(u,v),ineligibleFiles:v};this.$6(A.ineligibleFiles,'too_big');return A}if(w.length>0){var B={fatalErrorType:4,filesToUpload:_.difference(u,w),ineligibleFiles:w};this.$6(B.ineligibleFiles,'empty');return B}return{fatalErrorType:0,filesToUpload:u,ineligibleFiles:null}},$8:function(s,t){var u=ss.arrayClone(this.state.filesToIgnore);var v=[];_.each(s,function(w){if(t!==5){u.push(w.name)}v.push(w.name)});this.setState({fatalErrorType:t,filesToIgnore:u,recentlyIgnoredFiles:v})},$5:function(){return ss.isValue(this.props.uploadOrProcessingFailedFiles)&&this.props.uploadOrProcessingFailedFiles.length>0},$6:function(s,t){_.each(s,function(u){tab.FileUploadTelemetry.getInstance().logFileUploadFailureEvent(q.$1[u.name],t)})}});var r=global.tab.UploadFileContainer=ss.mkType(a,'tab.UploadFileContainer',function(s){React.Component.call(this,s);this.state={currentActionMessage:null,done:false,processing:false}},{render:function(){var s={currentActionMessage:this.state.currentActionMessage,dismiss:this.props.dismiss,done:this.state.done,uploadOrProcessingFailedFiles:this.state.failedFiles,uploadOrProcessingFailureReasons:this.state.failureReasons,files:this.props.files,key:this.props.files.length,maxFileSize:this.props.maxFileSize,onFileUploadFinished:this.props.onFileUploadFinished,onAllFileUploadsFinished:this.props.onAllFileUploadsFinished,isProcessing:this.state.processing};return React.createElement(n,{dismiss:this.props.dismiss},React.createElement(q,s))}});ss.initClass(b);ss.initClass(c);ss.initClass(d,spiff.PureRenderComponent);ss.initClass(e,d);ss.initClass(g);ss.initClass(h);ss.initClass(i);ss.initClass(j,null,[tab.IFileUploadModule]);ss.initClass(k,spiff.PureRenderComponent);ss.initClass(l,spiff.PureRenderComponent);ss.initClass(n,React.Component);ss.initClass(o,ss.makeGenericType(m,[Object]));ss.initClass(p);ss.initClass(q,React.Component);ss.initClass(r,React.Component);(function(){b.$1=1024;b.$2=1024*1024;b.$0=1048576*1024})();(function(){g.allSupportedFileExtensions=null;var s=[];s.push.apply(s,g.getFileExtensionsForConnectionType('excel-direct'));s.push.apply(s,g.getFileExtensionsForConnectionType('textscan'));s.push.apply(s,g.getFileExtensionsForConnectionType('ogrdirect'));g.allSupportedFileExtensions=s})();(function(){n.$0='tabUploadProgressDialog'})();(function(){q.$1={}})()})();;
/*! BEGIN UI */
(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};ss.initAssembly(a,'vqlui');global.onhelp=function(){return false};var b=global.FontFace$FontFaceLoadStatus=ss.mkEnum(a,'FontFace$FontFaceLoadStatus',{unloaded:'unloaded',loading:'loading',loaded:'loaded',error:'error'},true);var c=global.FontFaceSet$FontFaceSetLoadStatus=ss.mkEnum(a,'FontFaceSet$FontFaceSetLoadStatus',{loading:'loading',loaded:'loaded'},true);var d=global.TsConfigExtensions=ss.mkType(a,'TsConfigExtensions',null,null,{visibleSheetsAndRepositoryUrls:function(){var e=new Array(tsConfig.visible_sheets.length);for(var gv=0;gv<tsConfig.visible_sheets.length;++gv){e[gv]=new fY(tsConfig.visible_sheets[gv],tsConfig.repository_urls[gv])}return e}});var f=global.tab._ApiSerializer=ss.mkType(a,'tab._ApiSerializer',null,null,{serializeClientInfo:function(e,gv){var gw=e.get_applicationPresModel().workbookPresModel.dashboardPresModel;var gx=e.get_toolbarCommands().$1();var gy=!ss.isNullOrEmptyString(gw.sheetLayoutInfo.downloadLink)||e.get_toolbarCommands().$2();var gz=tsConfig.current_sheet_name;var gA=tsConfig.workbookName;var gB=y.getApiDashboardZonePresModels(gw.zones);var gC=f.serializePublishedSheets(e.get_applicationPresModel().workbookPresModel.sheetsInfo);var gD=f.serializeStory(gv);var gE=s.newClientInfo(gx,gy,gA,gz,ss.coalesce(tsConfig.clientNumber,''),gC,gB,gD);return gE},serializeSheetInfo:function(e,gv){var gw;if(ss.isValue(e.isStory)&&e.isStory){gw='story'}else if(ss.isValue(e.isDashboard)&&e.isDashboard){gw='dashboard'}else{gw='worksheet'}var gx=s.newSheetInfo(e.sheet,gw,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight,gv);return gx},serializePublishedSheets:function(e){var gv={};for(var gw=0;gw<e.length;gw++){var gx=e[gw];gv[gx.sheet]=gx}var gy=[];var gz=d.visibleSheetsAndRepositoryUrls();for(var gA=0;gA<gz.length;gA++){var gB=gz[gA];var gC=gv[gB.sheetName];if(ss.isValue(gC)){var gD=f.$0(gB.repositoryUrl);var gE=f.serializeSheetInfo(gC,gD);gy.push(gE)}}return gy},serializeStory:function(e){var gv=e.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(gv)){return null}var gw=gv.get_currentPointIndex();var gx=f.serializeStoryPoints(gv.get_captions(),e);var gy=s.newStory(gw,gx);return gy},serializeStoryPoints:function(e,gv){var gw=[];var gx=ss.getEnumerator(e);try{while(gx.moveNext()){var gy=gx.current();var gz=f.serializeStoryPoint(gy,gv);gw.push(gz)}}finally{gx.dispose()}return gw},serializeStoryPoint:function(e,gv){var gw=null;if(e.get_isCurrentPoint()&&gv.get_hasContainedSheet()){var gx=gv.get_containedSheetName();var gy=gv.get_containedSheetType();var gz=y.getApiDashboardZonePresModels(gv.get_containedDashboardZones());gw=s.newContainedSheetInfo(gx,gy,ss.unbox(gv.get_containedSheetZoneId()),gz)}var gA=s.newStoryPoint(e.get_caption(),e.get_storyPointIndex(),e.get_storyPointId(),e.get_isCaptured(),gw);return gA},serializeDataValue:function(e,gv){if(gv==='boolean'){if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}if(ss.isNullOrUndefined(e)){return null}switch(gv){case'boolean':{if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}case'date':case'datetime':{var gw=null;if(_.isDate(e)){gw=e}else if(_.isNumber(e)){if(isNaN(e)){gw=null}else{gw=new Date(tableau.types.JsDateFromOleDate(e))}}else{gw=tab.DateUtil.parsePresModelDate(e.toString())}if(ss.isNullOrUndefined(gw)||isNaN(gw)){return null}return gw.getTime()}case'integer':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var gx=parseInt(e.toString(),10);return(isNaN(gx)?null:gx)}case'real':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var gy=parseFloat(e.toString());return(isNaN(gy)?null:gy)}default:case'cstring':case'tuple':case'unknown':{return e.toString()}}},serializeCustomView:function(e,gv){return s.newCustomView(e.id,e.name,e.urlId,gv,e.startViewId,e.isPublic,f.serializeUser(e.owner))},serializeUser:function(e){return s.newUser(e.id,e.friendlyName,e.username)},convertToCustomizedView:function(e){var gv=new Object;gv.id=e.id;gv.isPublic=e.isPublic;gv.name=e.name;gv.owner=f.convertToUser(e.owner);gv.startViewId=e.startViewId;gv.urlId=e.urlId;var gw=gv;return gw},convertToUser:function(e){var gv={friendlyName:e.friendlyName,id:e.id,username:e.username};return gv},$0:function(e){var gv=tab.VizUriModel.createForViewingSheetNoQueryParamsNoHash(e);return gv.get_absoluteUri()}});var g=ss.mkType(a,'tab.$0',null,null,{$0:function(e,gv){var gw={};gw['api.commandResult']=e;gw['api.commandData']=gv;var gx=JSON.stringify(gw);return gx}});var h=ss.mkType(a,'tab.$1',function(){},null,{$1:function(e){var gv=e;var gw=[];if(ss.isValue(gv)){for(var gx=0;gx<gv.length;gx++){var gy=gv[gx];var gz=h.$3(gy);if(ss.isValue(gz)&&gz.isValidPresModel){gw.push(gz)}}}var gA=new Object;gA.parameters=Array.prototype.slice.call(gw);var gB=gA;return gB},$0:function(e){var gv=e;if(ss.isValue(gv.valid)&&!gv.valid){var gw=new Object;gw.isValidPresModel=false;var gx=gw;return gx}else{var gy=e;if(ss.isValue(gy)){return h.$3(gy)}}return null},$2:function(e){switch(e){case'boolean':{return'boolean'}case'real':{return'float'}case'integer':case'tuple':{return'integer'}case'date':{return'date'}case'datetime':{return'datetime'}case'cstring':default:{return'string'}}},$3:function(e){if(!ss.isValue(e.parameterName)||!ss.isValue(e.fieldCaption)){return null}var gv=e.dataType;var gw=[];for(var gx=0;gx<e.valuesAliases.length;gx++){var gy=e.valuesAliases[gx];var gz=e.formattedValues[gx];gw.push(h.$6(gv,gy,gz))}var gA=new Object;gA.isValidPresModel=true;gA.parameterName=e.parameterName;gA.name=e.fieldCaption;gA.currentValue=h.$6(gv,e.valueAlias,e.formattedValue);gA.dataType=h.$2(gv);gA.allowableValuesType=q.convertParameterDomainType(e.parameterDomainType);gA.allowableValues=Array.prototype.slice.call(gw);gA.stepSize=h.$8(gv,e.valueInc);gA.minValue=h.$7(gv,e.valueMin,e.formattedMin,null);gA.maxValue=h.$7(gv,e.valueMax,e.formattedMax,null);var gB=gA;if(gv==='date'||gv==='datetime'){gB.dateStepPeriod=q.convertPeriodType(e.datePeriodType)}return gB},$7:function(e,gv,gw,gx){var gy=new Object;gy.type=q.convertDataType(e);gy.value=f.serializeDataValue(gv,e);var gz=gy;if(!tab.MiscUtil.isNullOrEmpty$1(gx)){gz.aliasedValue=gx}if(!tab.MiscUtil.isNullOrEmpty$1(gw)){gz.formattedValue=gw}return gz},$6:function(e,gv,gw){return h.$7(e,h.$5(gv),gw,h.$4(gv))},$8:function(e,gv){if(ss.isValue(gv)){if(e==='integer'||e==='date'||e==='datetime'){return parseInt(gv)}if(e==='real'){return parseFloat(gv)}}return null},$5:function(e){return e[0]},$4:function(e){if(e.length<2){return null}if(ss.isNullOrUndefined(e[1])||e[1].length===0){return null}return e[1]}});var i=ss.mkType(a,'tab.$2',null,null,{$0:function(){if(tsConfig.isUnitTestRun){return}m.$0();i.$1();i.$2()},$1:function(){$(E.startup)},$2:function(){tab.CommandController.add_switchedViz(function(){E.startup()})}});var j=ss.mkType(a,'tab.$3',function(e){this.$0=null;this.$3=null;this.$2=null;this.$1=null;this.$3=e;this.$0=this.$3.css('font-family').split(',')[0];this.$2=[];this.$1=[]});var k=ss.mkType(a,'tab.$4',function(e,gv,gw,gx,gy){this.$5=0;this.$6=0;this.$4=0;this.$2=false;this.$3=null;this.$5=e;this.$6=gv;this.$4=gw;this.$2=gx;this.$3=gy},{$0:function(e,gv){var gw;if(this.$3==='horizontal'){gw=Math.round(this.$6)===Math.round(gv)}else{gw=Math.round(this.$5)===Math.round(e)}return gw},$1:function(e,gv){var gw=this.$4;var gx=e;var gy=gv;switch(this.$3){case'horizontal':{if(this.$2){gw=-gw}gx=this.$5+gw;break}case'up':{if(!this.$2){gw=-gw}gy=this.$6+gw;break}case'down':{if(this.$2){gw=-gw}gy=this.$6+gw;break}default:{break}}return{x:gx,y:gy}}});var l=ss.mkType(a,'tab.$5',function(e,gv,gw,gx,gy,gz,gA){this.$1=null;this.$5=0;this.$2=null;this.$6=null;this.$3=false;this.$4=false;this.$7=null;this.$1=e;this.$5=gv;this.$2=gw;this.$6=gx;this.$3=gy;this.$4=gz;this.$7=gA.clone()},{$0:function(e){e.set_linePattern(this.$1);e.set_textAngle(this.$5);e.set_shapeFillStyle(this.$2);e.set_textFillStyle(this.$6);e.set_shouldAntialias(this.$3);e.set_shouldUnderlineText(this.$4);e.set_transformation(this.$7)}});var m=ss.mkType(a,'tab.$6',null,null,{$0:function(){if(tsConfig.embedded){var e=document.getElementById('staticImage');if(ss.isNullOrUndefined(e)){return}m.$1(e);m.$2(e);m.$3(e)}},$3:function(e){if(e.style.width!=='auto'){return}var gv=m.$4(e,0);if(ss.isNullOrUndefined(gv)){return}e.style.width=ss.unbox(gv)+'px'},$2:function(e){if(e.style.height!=='auto'){return}var gv=m.$4(e,1);if(ss.isNullOrUndefined(gv)){return}e.style.height=ss.unbox(gv)+'px'},$1:function(e){var gv=e.parentElement;var gw={h:gv.offsetHeight,w:gv.offsetWidth};var gx=tabBootstrap.ViewerBootstrap.get_instance().get_sizeConstraints();if(gx.maxWidth===0&&gx.maxHeight===0){return}if(gw.w<gx.minWidth){gw.w=gx.minWidth}else if(gx.maxWidth!==0&&gw.w>gx.maxWidth){gw.w=gx.maxWidth}if(gw.h<gx.minHeight){gw.h=gx.minHeight}else if(gx.maxHeight!==0&&gw.h>gx.maxHeight){gw.h=gx.maxHeight}e.style.height=gw.h-(tsConfig.showTabs?31:9)+'px';e.style.width=gw.w-8+'px'},$4:function(e,gv){if(ss.isNullOrUndefined(e.style.backgroundSize)){return null}var gw=e.style.backgroundSize.split(' ');if(gw.length<=1){return null}return parseInt(gw[gv],10)}});var n=ss.mkType(a,'tab.$7',function(){this.$6=0;this.$7=0;this.$5=null;this.$1$1=null},{$2:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$3:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$0:function(e){this.$5=new Date;this.$6=e.pageX;this.$7=e.pageY},$1:function(e){this.$4(e)},$4:function(e){var gv=new Date-this.$5;var gw=Math.abs(e.pageX-this.$6);var gx=Math.abs(e.pageY-this.$7);if(gv<=600&&gw<=10&&gx<=10&&!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}}});var o=ss.mkType(a,'tab.$8',function(e,gv){this.$1$1=null;this.$1$2=null;this.$1(e);this.$3(gv)},{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$2:function(){return this.$1$2},$3:function(e){this.$1$2=e}});var p=global.tab.ActionExecutedEventArgs=ss.mkType(a,'tab.ActionExecutedEventArgs',function(){this.action=null;ss.EventArgs.call(this)});var q=global.tab.ApiCrossDomainEnumConverter=ss.mkType(a,'tab.ApiCrossDomainEnumConverter',null,null,{convertDataType:function(e){switch(e){case'boolean':{return'bool'}case'date':case'datetime':{return'date'}case'integer':case'real':case'tuple':{return'number'}case'cstring':{return'string'}case'unknown':default:{return'string'}}},convertUnderlyingDataType:function(e){switch(e){case'boolean':{return'boolean'}case'date':{return'date'}case'datetime':{return'datetime'}case'integer':{return'integer'}case'real':case'tuple':{return'float'}case'cstring':case'unknown':default:{return'string'}}},convertFieldAggregation:function(e){switch(e){case'attr':{return'ATTR'}case'average':{return'AVG'}case'collect':{return'COLLECT'}case'count':{return'COUNT'}case'count-d':{return'COUNTD'}case'day':{return'DAY'}case'end':{return'END'}case'hour':{return'HOUR'}case'in-out':{return'INOUT'}case'kurtosis':{return'KURTOSIS'}case'max':{return'MAX'}case'mdy':{return'MDY'}case'median':{return'MEDIAN'}case'min':{return'MIN'}case'minute':{return'MINUTE'}case'month':{return'MONTH'}case'month-year':{return'MONTHYEAR'}case'none':{return'NONE'}case'percentile':{return'PERCENTILE'}case'qtr':{return'QTR'}case'quart1':{return'QUART1'}case'quart3':{return'QUART3'}case'second':{return'SECOND'}case'skewness':{return'SKEWNESS'}case'std-dev':{return'STDEV'}case'std-dev-p':{return'STDEVP'}case'sum':{return'SUM'}case'sum-xsqr':{return'SUM_XSQR'}case'trunc-day':{return'TRUNC_DAY'}case'trunc-hour':{return'TRUNC_HOUR'}case'trunc-month':{return'TRUNC_MONTH'}case'trunc-qtr':{return'TRUNC_QTR'}case'trunc-second':{return'TRUNC_SECOND'}case'trunc-week':{return'TRUNC_WEEK'}case'trunc-year':{return'TRUNC_YEAR'}case'user':{return'USER'}case'var':{return'VAR'}case'var-p':{return'VARP'}case'week':{return'WEEK'}case'weekday':{return'WEEKDAY'}case'year':{return'YEAR'}default:{throw new ss.Exception('Unknown AggType: '+e)}}},convertFieldRole:function(e){switch(e){case'dimension':{return'dimension'}case'measure':{return'measure'}case'unknown':{return'unknown'}default:{throw new ss.Exception('Unknown FieldRole type: '+e)}}},convertParameterDomainType:function(e){switch(e){case'any':{return'all'}case'list':{return'list'}case'range':{return'range'}default:{throw new ss.Exception('Unknown ParameterTypesDomainType: '+e)}}},convertPeriodType:function(e){switch(e){case'year':{return'year'}case'day':{return'day'}case'hour':{return'hour'}case'minute':{return'minute'}case'month':{return'month'}case'quarter':{return'quarter'}case'second':{return'second'}case'week':{return'week'}default:{throw new ss.Exception('Unknown DatePeriodType: '+e)}}},convertRangeType:function(e){switch(e){case'curr':{return'curr'}case'last':{return'last'}case'lastn':{return'lastn'}case'next':{return'next'}case'nextn':{return'nextn'}case'todate':{return'todate'}case'invalid':default:{throw new ss.Exception('Unknown or invalid Filters.RelativeDateRangeType: '+e)}}},convertZoneType:function(e){switch(e){case'color':case'shape':case'size':{return'legend'}case'map':{return'legend'}case'filter':{return'quickFilter'}case'viz':{return'worksheet'}case'paramctrl':{return'parameterControl'}case'empty':{return'blank'}case'title':{return'title'}case'text':{return'text'}case'bitmap':{return'image'}case'web':{return'webPage'}case'layout-basic':case'layout-flow':case'layout-free-form':{return null}default:{return'blank'}}}});var r=global.tab.ApiCrossDomainParamConverter=ss.mkType(a,'tab.ApiCrossDomainParamConverter',null,null,{convertFilterUpdateType:function(e){var gv=e.toString();if(gv.toLowerCase()==='replace'){return'filter-replace'.toString()}else if(gv.toLowerCase()==='all'){return'filter-all'.toString()}else if(gv.toLowerCase()==='add'){return'filter-add'.toString()}else if(gv.toLowerCase()==='remove'){return'filter-remove'.toString()}else{return'filter-replace'.toString()}}});var s=global.tab.ApiCrossDomainPresModelsFactory=ss.mkType(a,'tab.ApiCrossDomainPresModelsFactory',null,null,{newClientInfo:function(e,gv,gw,gx,gy,gz,gA,gB){var gC=new Object;gC.isAutoUpdate=e;gC.isDownloadAllowed=gv;gC.workbookName=gw;gC.instanceId=gy;gC.currentSheetName=gx;gC.publishedSheets=gz;gC.dashboardZones=gA;gC.story=gB;return gC},newAutoUpdateState:function(e){var gv=new Object;gv.isAutoUpdate=e;return gv},newCommandError:function(e,gv){var gw=new Object;gw.errorCode=e;gw.additionalInformation=gv;return gw},newSheetInfo:function(e,gv,gw,gx,gy,gz,gA){var gB=new Object;gB.maxHeight=gz;gB.maxWidth=gy;gB.minHeight=gx;gB.minWidth=gw;var gC=new Object;gC.name=e;gC.sizeConstraints=gB;gC.repositoryUrl=gA;gC.sheetType=gv;return gC},newContainedSheetInfo:function(e,gv,gw,gx){var gy=new Object;gy.name=e;gy.sheetType=gv;gy.zoneId=gw;gy.dashboardZones=gx;return gy},newDashboardZone:function(e,gv,gw,gx,gy,gz,gA){var gB=new Object;gB.name=e;gB.zoneId=gv;gB.zoneType=gw;gB.height=gx;gB.width=gy;gB.x=gz;gB.y=gA;return gB},newStory:function(e,gv){var gw=new Object;gw.activeStoryPointIndex=e;gw.storyPoints=gv;return gw},newStoryPoint:function(e,gv,gw,gx,gy){var gz=new Object;gz.caption=e;gz.index=gv;gz.storyPointId=gw;gz.isUpdated=gx;gz.containedSheetInfo=gy;return gz},$0:function(e,gv,gw,gx,gy,gz){var gA=new Object;gA.fieldName=e;gA.filterType=gv;gA.caption=gw;gA.dataSourceName=gx;gA.fieldRole=gy;gA.fieldAggregation=gz;return gA},newCategoricalFilter:function(e,gv,gw,gx,gy,gz,gA,gB,gC){var gD=s.$0(e,gv,gw,gx,gy,gz);gD.isExclude=gA;gD.isAllSelected=gC;gD.appliedValues=gB;return gD},newQuantitativeFilter:function(e,gv,gw,gx,gy,gz,gA,gB,gC,gD,gE){var gF=s.$0(e,gv,gw,gx,gy,gz);gF.domainMinValue=gA;gF.domainMaxValue=gB;gF.minValue=gC;gF.maxValue=gD;gF.includeNullValues=gE;return gF},newHierarchicalFilter:function(e,gv,gw,gx,gy,gz,gA){var gB=s.$0(e,gv,gw,gx,gy,gz);gB.levels=gA;return gB},newRelativeDateFilter:function(e,gv,gw,gx,gy,gz,gA,gB,gC){var gD=s.$0(e,gv,gw,gx,gy,gz);gD.periodType=gA;gD.rangeType=gB;gD.rangeN=gC;return gD},newSharedFilterWorksheetInfoPresModel:function(e,gv,gw,gx){var gy=new Object;gy.worksheetName=e;gy.isActive=gv;gy.isEnabled=gw;gy.isSelected=gx;var gz=gy;return gz},newDataSourcesForWorksheet:function(e,gv){var gw=new Object;gw.worksheetName=e;gw.dataSources=gv;return gw},newDataSource:function(e,gv,gw){var gx=new Object;gx.name=e;gx.fields=gv;gx.isPrimary=gw;return gx},newField:function(e,gv,gw){var gx=new Object;gx.name=e;gx.role=gv;gx.aggregation=gw;return gx},newCustomViewsInfo:function(e,gv,gw,gx){var gy=new Object;gy.customViewLoaded=e;gy.defaultCustomViewId=gv;gy.currentView=gw;gy.customViews=gx;return gy},newCustomView:function(e,gv,gw,gx,gy,gz,gA){var gB=new Object;gB.id=e;gB.name=gv;gB.urlId=gw;gB.url=gx;gB.startViewId=gy;gB.isPublic=gz;gB.owner=gA;return gB},newUser:function(e,gv,gw){var gx=new Object;gx.id=e;gx.friendlyName=gv;gx.username=gw;return gx},newUnderlyingDataTablePM:function(e,gv,gw,gx){var gy=new Object;gy.dataTable=e;gy.headers=gv;gy.isSummary=gw;gy.name=gx;return gy},newUnderlyingDataColumnsPM:function(e,gv,gw,gx){var gy=new Object;gy.dataType=e;gy.fieldName=gv;gy.isReferenced=gw;gy.index=gx;return gy},newLogicalTablesPM:function(e){var gv=new Object;gv.logicalTables=e;return gv},newToolbarStatePM:function(e,gv,gw,gx,gy,gz,gA,gB,gC,gD,gE,gF){var gG=new Object;gG.canUndo=e;gG.canRedo=gv;gG.canRevert=gw;gG.isPaused=gx;gG.canRefreshData=gy;gG.canShowCustomViews=gz;gG.canShowPerformance=gA;gG.canShowDataAlert=gB;gG.canShowSubscribe=gC;gG.canShowShare=gD;gG.canShowDownload=gE;gG.canShowDesktopToggle=gF;return gG},newAddInInstancePM:function(e){var gv=new Object;gv.locator=s.newAddInLocatorPM(e.addInLocatorPresModel);gv.url=e.addInRegistrationPresModel.url;return gv},newAddInLocatorPM:function(e){var gv=new Object;gv.dashboardPath=s.newSheetPathPM(e.sheetPath);gv.instanceId=e.addInInstanceId;return gv},newSheetPathPM:function(e){var gv=new Object;gv.storyPointID=e.storyPointId;gv.storyboard=e.storyboard;gv.sheetName=e.sheetName;gv.isDashboard=e.isDashboard;return gv},newVisualIdPM:function(e){var gv=new Object;gv.worksheet=e.worksheet;gv.dashboard=e.dashboard;gv.storyboard=e.storyboard;gv.flipboardZoneID=e.flipboardZoneId;gv.storyPointID=e.storyPointId;return gv},newAddInBootstrapInfoPM:function(e){var gv=new Object;gv.addinDashboardInfo=s.newAddInDashboardInfoPM(e.addInDashboardInfoPresModel);gv.addInSettingsInfo=s.newAddInSettingsInfoPM(e.addInSettingsInfo);gv.addInEnvironment=s.newAddInEnvironmentInfoPM(e.addInEnvironmentPresModel);return gv},newAddInDashboardInfoPM:function(e){var gv=new Object;gv.name=e.dashboardPresModel.sheetPath.sheetName;gv.addInZoneId=e.zoneId;gv.zones=y.getApiDashboardZonePresModels(e.dashboardPresModel.zones);return gv},newAddInSettingsInfoPM:function(e){var gv=new Object;gv.settingsValues=e.addInSettings||{};return gv},newAddInEnvironmentInfoPM:function(e){var gv=new Object;gv.addInContext=e.addInContext;gv.addInMode=e.addInMode;gv.addInLanguage=e.addInLanguage;gv.addInLocale=e.addInLocale;gv.tableauVersion=e.tableauVersion;gv.operatingSystem=e.operatingSystem;gv.apiVersion=e.apiVersion||'0.0.1';return gv}});var t=global.tab.ApiCurrentSheetTypeHandler=ss.mkType(a,'tab.ApiCurrentSheetTypeHandler',function(e){this.$1=null;this.$1=e},{$0:function(){var e;if(tsConfig.current_sheet_type==='story'){e='story'}else if(tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='flexible-dashboard'){e='dashboard'}else{e='worksheet'}var gv=new Object;gv.sheetType=e;return gv},handleGetCurrentSheetType:function(e){var gv=g.$0('api.success',this.$0());this.$1.sendResponse(e,gv)}});var u=global.tab.ApiDataSourcesHandler=ss.mkType(a,'tab.ApiDataSourcesHandler',null,null,{$0:function(e,gv,gw){var gx=e.worksheetDataSchemaMap[gv].primaryDatasource;var gy=e.parametersDatasource;var gz=[];var gA=e.dataSources;var gB=_.keys(gA);for(var gC=0;gC<gB.length;gC++){var gD=gB[gC];if(ss.referenceEquals(gD,gy)){continue}var gE=gA[gD];if(!ss.isNullOrEmptyString(gw)&&!ss.referenceEquals(gE.datasource,gw)){continue}var gF=u.processDataSourceFields(gE.fieldList);var gG=ss.referenceEquals(gE.datasource,gx);var gH=s.newDataSource(gE.datasourceCaption,Array.prototype.slice.call(gF),gG);gz.push(gH)}var gI=s.newDataSourcesForWorksheet(gv,Array.prototype.slice.call(gz));return gI},processDataSourceFields:function(e){var gv=[];for(var gw=0;gw<e.length;gw++){var gx=e[gw];if(ss.isValue(gx.baseColumnName)){continue}if(gx.type==='field-folder'){continue}if(gx.type==='field'){continue}var gy=gx;if(ss.isValue(gy.columnList)){for(var gz=0;gz<gy.columnList.length;gz++){var gA=gy.columnList[gz];var gB=s.newField(gA.name,q.convertFieldRole(gA.fieldRole),q.convertFieldAggregation(gA.aggregation));gv.push(gB)}}else if(gx.type==='dimension'){var gC=s.newField(gx.name,'dimension','NONE');gv.push(gC)}else{var gD=s.newField(gx.name,q.convertFieldRole(gx.defaultFieldRole),q.convertFieldAggregation(gx.defaultAggregation));gv.push(gD)}}return gv}});var v=global.tab.ApiDeviceLayoutHandler=ss.mkType(a,'tab.ApiDeviceLayoutHandler',function(e,gv){this.$3=null;this.$2=null;this.$3=e;this.$2=gv;this.$3.add_newLayouts(ss.mkdel(this,this.$0));this.$0()},{$1:function(){var e=new Object;e.availableDeviceSpecificLayouts=this.$3.get_deviceLayouts();e.automaticDeviceSpecificLayouts=this.$3.get_autoGeneratedDeviceLayouts();e.currentlyRequestedLayout=tabBootstrap.ViewerBootstrap.get_instance().get_deviceDetector().get_deviceType();e.detectedDeviceType=tabBootstrap.ViewerBootstrap.get_instance().get_deviceDetector().get_detectedDeviceType();return e},dispose:function(){this.$3.remove_newLayouts(ss.mkdel(this,this.$0))},handleGetDeviceLayoutState:function(e){var gv=g.$0('api.success',this.$1());this.$2.sendResponse(e,gv)},$0:function(){this.$2.sendEventNotification('api.DeviceLayoutStateChangedEvent',null,JSON.stringify(this.$1()))}});var w=global.tab.ApiEventHandler=ss.mkType(a,'tab.ApiEventHandler',function(e,gv,gw){this.$1n=new tab.DisposableHolder;this.$1i=null;this.$1u={};this.$1k=null;this.$1r=null;this.$1s=null;this.$1m=false;this.$1o=false;this.$1t=null;this.$1p=null;this.$1l=null;this.$1q=null;this.$1j='1.0';this.$1i=gw;this.updateClients(e,gv);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().add_commandQueueComplete(ss.mkdel(this,this.onCommandComplete));tab.CommandController.get().add_beforeFirstCommandExecuted(ss.mkdel(this,this.updateClients$1))},{get_shareViewModel:function(){return this.$1q||(this.$1q=new eV)},dispose:function(){this.$1n.dispose();if(ss.isValue(this.$1t)){this.$1t.dispose();this.$1t=null}if(ss.isValue(this.$1s)){this.$1s.dispose();this.$1s=null}if(ss.isValue(this.$1p)){this.$1p.dispose();this.$1p=null}if(ss.isValue(this.$1q)){this.$1q.dispose();this.$1q=null}tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().remove_commandQueueComplete(ss.mkdel(this,this.onCommandComplete));tab.CommandController.get().remove_beforeFirstCommandExecuted(ss.mkdel(this,this.updateClients$1))},updateClients:function(e,gv){this.$1e(e);this.$1f(gv);_.defer(ss.mkdel(this,this.$1g));if(!this.$1o){var gw=tab.ApplicationModel.get_instance().get_workbook();if(ss.isValue(gw)){gw.addDashboardUpdatedHandler(ss.mkdel(this,this.onDashboardUpdated));this.$1o=true}}else{this.onDashboardUpdated(null)}if(ss.isValue(this.$1q)){this.$1q.dispose();this.$1q=null}},$1e:function(e){if(!ss.referenceEquals(this.$1k,e)){var gv=this.$1k;this.$1k=e;if(tsConfig.allow_custom_views){var gw=(ss.isValue(gv)?gv.get_customViewsViewModel():null);if(ss.isValue(gw)){gw.remove_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));gw.remove_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));gw.remove_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));gw.remove_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}var gx=(ss.isValue(e)?e.get_customViewsViewModel():null);if(ss.isValue(gx)){gx.add_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));gx.add_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));gx.add_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));gx.add_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}}this.$1m=false;this.$1t=tab.MiscUtil.dispose$1(this.$1t);if(ss.isValue(this.$1i)&&ss.isValue(this.$1k.get_toolbarCommands().get_toolbarViewModel())){this.$1t=new B(this.$1i,this.$1k.get_toolbarCommands().get_toolbarViewModel())}this.$1p=tab.MiscUtil.dispose$1(this.$1p);if(ss.isValue(this.$1i)&&ss.isValue(this.$1k.get_deviceLayoutViewModel())){this.$1p=new v(this.$1k.get_deviceLayoutViewModel(),this.$1i)}if(ss.isValue(this.$1i)){this.$1l=new t(this.$1i)}}},$1f:function(e){if(!ss.referenceEquals(this.$1r,e)||ss.isValue(this.$1s)&&!this.$1s.get_eventHandlerAttached()&&ss.isValue(e.get_flipboardNavigatorViewModel())){if(ss.isValue(this.$1s)){this.$1s.dispose()}this.$1r=e;if(ss.isValue(this.$1r)){this.$1s=new A(e,this.$1i)}}},$1g:function(){var e={};var gv=this.$1k.get_viewControllers();for(var gw=0;gw<gv.length;gw++){var gx=gv[gw];e[gx.get_sheetName()]=gx}var gy=_.keys(this.$1u);for(var gz=0;gz<gy.length;gz++){var gA=gy[gz];if(!ss.keyExists(e,gA)){this.$1u[gA].dispose();delete this.$1u[gA]}else{delete e[gA]}}this.$18(e)},$18:function(e){_.each(_.keys(e),ss.mkdel(this,function(gv){var gw=e[gv];var gx=ss.mkdel(this,function(gy,gz){if(ss.referenceEquals(gw.get_sheetName(),gy)){this.onSelectionChanged(gy,gz)}});fV.add_selectionChanged(gx);this.$1u[gv]=new tab.CallOnDispose(function(){fV.remove_selectionChanged(gx)})}))},handleEvent:function(e){var gv=e.data;if(ss.isNullOrUndefined(gv)||typeof(gv)!=='string'){return}var gw=gv;var gx=tab._ApiCommand.parse(gw);if(ss.isNullOrUndefined(gx.get_rawName())){return}this.routeCommand(gx)},routeCommand:function(e){switch(e.get_name()){case'api.GetClientInfoCommand':{this.$T(e);break}case'api.GetCurrentUrlCommand':{this.$V(e);break}case'api.GetShareUrlCommand':{this.$W(e);break}case'api.ClearFilterCommand':{this.$8(e);break}case'api.ApplyCategoricalFilterCommand':{this.$2(e);break}case'api.ApplyRangeFilterCommand':{this.$5(e);break}case'api.ApplyRelativeDateFilterCommand':{this.$6(e);break}case'api.ApplyHierarchicalFilterCommand':{this.$4(e);break}case'api.ApplyDashboardCategoricalFilterCommand':{this.$3(e);break}case'api.RefreshDataCommand':{this.$M(e);break}case'api.RevertAllCommand':{this.$P(e);break}case'api.SwitchActiveSheetCommand':{this.$19(e);break}case'api.UpdateActiveSheetCommand':{this.$1c(e);break}case'api.SelectMarksCommand':{this.$R(e);break}case'api.ClearSelectedMarksCommand':{this.$a(e);break}case'api.FetchSelectedMarksCommand':{this.$h(e);break}case'api.FetchParametersCommand':{this.$g(e);break}case'api.SetParameterValueCommand':{this.$X(e);break}case'api.InvokeCommandCommand':{this.$B(e);break}case'api.SetSheetSizeCommand':{this.$Z(e);break}case'api.ShowHideToolbarCommand':{this.$14(e);break}case'api.GetAppliedWorksheetsCommand':{this.$q(e);break}case'api.SetAppliedWorksheetsCommand':{this.$Y(e);break}case'api.GetFiltersListCommand':{this.$n(e);break}case'api.GetDashboardFiltersListCommand':{this.$j(e);break}case'api.GetOneFilterInfoCommand':{this.$p(e);break}case'api.GetDataSourceCommand':{this.$k(e);break}case'api.GetDataSourcesCommand':{this.$l(e);break}case'api.FetchCustomViewsCommand':{this.$e(e);break}case'api.ShowCustomViewCommand':{this.$10(e);break}case'api.UpdateCustomViewCommand':{this.$1d(e);break}case'api.MakeCurrentCustomViewDefaultCommand':{this.$E(e);break}case'api.RemoveCustomViewCommand':{this.$N(e);break}case'api.SaveNewCustomViewCommand':{this.$Q(e);break}case'api.ActivateStoryPoint':{this.$1s.activateStoryPoint(e);break}case'api.ActivatePreviousStoryPoint':{this.$1s.activatePreviousStoryPoint(e);break}case'api.ActivateNextStoryPoint':{this.$1s.activateNextStoryPoint(e);break}case'api.SwitchViz':{var gv=JSON.parse(e.get_parameters());tab.SessionServerCommands.switchToViz(gv['api.invokeCommandParam']);break}case'api.RevertStoryPoint':{this.$1s.revertStoryPoint(e);break}case'api.GetSummaryTableCommand':{this.$r(e);break}case'api.GetUnderlyingTableCommand':{this.$v(e);break}case'api.GetUnderlyingTablesCommand':{this.$x(e);break}case'api.GetUnderlyingTableDataCommand':{this.$w(e);break}case'api.ClearHighlightedMarksCommand':{this.$9(e);break}case'api.HighlightMarksCommand':{this.$y(e);break}case'api.HighlightMarksByPatternMatch':{this.$z(e);break}case'api.FetchHighlightedMarksCommand':{this.$f(e);break}case'api.GetToolbarState':{this.$u(e);break}case'api.Undo':{this.$1b(e);break}case'api.Redo':{this.$L(e);break}case'api.ToggleUpdates':{this.$1a(e);break}case'api.ShowShareDialog':{this.$16();break}case'api.ShowDataAlertDialog':{this.$12();break}case'api.ShowSubscribeDialog':{this.$17();break}case'api.ShowCustomViewsDialog':{this.$11();break}case'api.ShowPerformanceDialog':{this.$15();break}case'api.ShowDownloadDialog':{this.$13();break}case'api.GetDeviceLayoutState':{this.$m(e);break}case'api.GetCurrentSheetType':{this.$i(e);break}default:{this.$A(e);break}}},handleNewLayout:function(e){var gv=e.item1;var gw=e.item2;this.$1i.sendEventNotification('api.TabSwitchEvent',gv,gw)},handleMarkSelectionEvent:function(e,gv){if(ss.referenceEquals(e,gv.primarySheet)){this.$1i.sendEventNotification('api.MarksSelectionChangedEvent',e,null)}},handleFilterChangeEvent:function(e,gv,gw){var gx=gv.cmdResult.commandReturn;if(this.$C(gw)){if(ss.isNullOrUndefined(gx['filterAppliedWorksheets'])){return}var gy=gx['filterAppliedWorksheets'];if(gy.indexOf(e)===-1){return}gv.primarySheet=e}else if(ss.isNullOrUndefined(gv.primarySheet)){return}var gz=gx['fn'];if(ss.isNullOrUndefined(gx['invalidValues'])&&ss.isNullOrUndefined(gx['invalidFieldCaption'])&&ss.isValue(gz)){var gA=null;var gB=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),gv.primarySheet);if(ss.isValue(gB)){var gC=_.find(gB.get_filters(),function(gE){return ss.referenceEquals(gE.get_globalFieldName(),gz)});if(ss.isValue(gC)){gA=gC.get_filterPresModel().fieldCaption}else if(this.$C(gw)&&ss.isValue(gx['fieldCaption'])){gA=gx['fieldCaption']}}var gD=[gz,ss.coalesce(gA,gz)];this.$1i.sendEventNotification('api.FilterChangedEvent',e,JSON.stringify(gD))}},$D:function(e){return ss.referenceEquals(e,{ns:'tabdoc',cmd:'reset-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'clear-existing-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'range-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'categorical-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'categorical-filter-by-index'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'hierarchical-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'relative-date-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'add-manual-items-to-filter'}.cmd)},$C:function(e){return ss.referenceEquals(e,{ns:'tabdoc',cmd:'dashboard-categorical-filter'}.cmd)},removeEditDataAlertUrlParam:function(e){this.$1i.sendEventNotification('api.RemoveEditDataAlertUrlParamEvent',e,'')},onSelectionChanged:function(e,gv){if(ss.isNullOrUndefined(gv)||ss.isNullOrUndefined(gv.cmdResult)||ss.isNullOrUndefined(gv.cmdResult.commandName)){return}var gw=gv.cmdResult.commandName.split(':');if(gw[0]==='tabsrv'&&(ss.startsWithString(gw[1],'select')&&!ss.startsWithString(gw[1],'select-legend'))){this.handleMarkSelectionEvent(e,gv)}else{if(ss.startsWithString(gw[1],'highlight')||ss.startsWithString(gw[1],'select-legend')){this.$1i.sendEventNotification('api.MarksHighlightChangedEvent',e,null)}if(ss.startsWithString(gw[1],'select')&&!ss.startsWithString(gw[1],'select-legend')){this.handleMarkSelectionEvent(e,gv)}else if(this.$D(gw[1])||this.$C(gw[1])){this.handleFilterChangeEvent(e,gv,gw[1])}}},onClientFullyLoaded:function(){tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));this.$1i.sendEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},updateClients$1:function(){this.updateClients(this.$1k,this.$1r)},onCommandComplete:function(){this.$1i.sendEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onDashboardUpdated:function(e){e=tab.ModelUtils.findContentDashboard(null);this.$1n.dispose();if(ss.isNullOrUndefined(e)){return}var gv=e.get_zoneModels();_.each(gv,ss.mkdel(this,function(gw,gx){if(gw.get_zoneType()==='paramctrl'&&ss.isValue(gw.get_model())){if(ss.referenceEquals(ss.getInstanceType(gw.get_model()),tab.ParameterCtrlModel)){var gy=gw.get_model();gy.add_newParameterCtrl(ss.mkdel(this,this.onParameterChange));this.$1n.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){gy.remove_newParameterCtrl(ss.mkdel(this,this.onParameterChange))})))}}}))},onParameterChange:function(e){var gv=e.fieldCaption;this.$1i.sendEventNotification('api.ParameterChangedEvent',null,gv)},onCustomViewDestroyed:function(e,gv){this.$1i.sendEventNotification('api.CustomViewRemovedEvent',null,JSON.stringify(this.$b()))},onCustomViewUpdated:function(e,gv){this.$1i.sendEventNotification('api.CustomViewUpdatedEvent',null,JSON.stringify(this.$b()))},onCustomViewSetDefault:function(e,gv){this.$1i.sendEventNotification('api.CustomViewSetDefaultEvent',null,JSON.stringify(this.$b()))},onCustomViewListLoaded:function(e,gv){this.$1i.sendEventNotification('api.CustomViewsListLoadedEvent',null,JSON.stringify(this.$b()));this.$1m=true},$g:function(e){var gv=tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'get-parameter-models'},null);this.$U(e,gv,h.$1,null)},$X:function(e){var gv=JSON.parse(e.get_parameters());var gw={};gw['fieldCaption']=gv['api.setParameterName'];gw['valueString']=gv['api.setParameterValue'];var gx=tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'set-parameter-value'},gw);this.$U(e,gx,h.$0,null)},$q:function(e){var gv=function(gx,gy){gy['fn']=gx['api.fieldName']};var gw=this.$G(e,{ns:'tabdoc',cmd:'get-shared-filter'},gv);this.$U(e,gw,x.processGetSharedFilterWorksheets,null)},$Y:function(e){var gv=function(gx,gy){gy['fn']=gx['api.fieldName'];gy['sheets']=gx['api.sharedFilterSheets']};var gw=this.$G(e,{ns:'tabdoc',cmd:'change-shared-filter'},gv);this.$U(e,gw,null,null)},$n:function(e){var gv=function(gx,gy){gy['ignoreDomain']=gx['api.ignoreDomain'];gy['filterDomainInclusions']='selected';gy['filterRelevantValuesOnly']=(ss.keyExists(gx,'api.filterRelevantValuesOnly')?gx['api.filterRelevantValuesOnly']:true)};var gw=this.$G(e,{ns:'tabsrv',cmd:'get-filter-info'},gv);this.$U(e,gw,x.processFilters,null)},$j:function(e){this.$U(e,tab.CommandUtils.newCommand({ns:'tabsrv',cmd:'get-dashboard-filter-info'},null),x.processFiltersForDashboard,null)},$p:function(e){var gv=function(gx,gy){if(ss.isValue(gx['api.fieldCaption'])){gy['fieldCaption']=gx['api.fieldCaption']}else{gy['fn']=gx['api.fieldName']}if(ss.isValue(gx['api.filterHierarchicalLevels'])){gy['filterLevel']=gx['api.filterHierarchicalLevels']}gy['ignoreDomain']=gx['api.ignoreDomain'];gy['filterDomainInclusions']='selected';gy['filterRelevantValuesOnly']=(ss.keyExists(gx,'api.filterRelevantValuesOnly')?gx['api.filterRelevantValuesOnly']:true)};var gw=this.$G(e,{ns:'tabsrv',cmd:'get-filter-info'},gv);this.$U(e,gw,x.processSingleFilter,null)},$h:function(e){var gv=function(gx,gy){};var gw=this.$G(e,{ns:'tabdoc',cmd:'get-selection'},gv);this.$U(e,gw,ss.mkdel(this,this.$K),null)},$H:function(e,gv){var gw=new Object;var gx=new tab.DataDictionaryModel(null);gx.update(e);var gy=new tab.VizDataModel(null);gy.update(gv,tab.NoopModelEventsHandler.get_noopContext());var gz=[];gw.marks=gz;if(ss.isNullOrUndefined(gx)||gx.get_isEmpty()){return gw}gy.forEachTupleId(ss.mkdel(this,function(gA){var gB=new Object;gB.tupleId=gA;var gC=gB;var gD=[];gC.pairs=gD;gz.push(gC);gy.forEachVizDataField(ss.mkdel(this,function(gE,gF){var gG=new Object;gG.fieldName=gE.get_fieldCaption();gG.formattedValue=tab.VizDataLookup.lookupAlias(gA,gE,gx);gG.valueDataType=q.convertDataType(gE.get_dataType());var gH=gG;var gI=null;if(!tab.VizDataLookup.isSpecial(gA,gE,gx,null)&&gE.get_hasDataValues()&&gE.isTupleIdValid(gA)){gI=tab.VizDataLookup.lookupRawDataValue(gA,gE,gx)}var gJ=f.serializeDataValue(gI,gE.get_dataType());gH.value=gJ;gD.push(gH);return true}));return true}));return gw},$K:function(e){var gv=e;var gw=gv.dataDictionary;var gx=gv.vizData;return this.$H(gw,gx)},$4:function(e){var gv=function(gx,gy){gy['qualifiedFieldCaption']=gx['api.fieldCaption'];if(ss.isValue(gx['api.filterReset'])&&gx['api.filterReset']){gy['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(gx['api.exclude'])){gy['exclude']=gx['api.exclude']}var gz=r.convertFilterUpdateType(gx['api.filterUpdateType'].toString());gy['filterUpdateType']=gz;if(ss.isValue(gx['api.filterHierarchicalValues'])){gy['filterValues']=gx['api.filterHierarchicalValues']}if(ss.isValue(gx['api.filterHierarchicalLevels'])){gy['filterLevels']=gx['api.filterHierarchicalLevels']}if(ss.isNullOrUndefined(gx['api.filterHierarchicalValues'])&&ss.isNullOrUndefined(gx['api.filterHierarchicalLevels'])){gy['filterLevels']='[]'}}};var gw=this.$G(e,{ns:'tabdoc',cmd:'hierarchical-filter'},gv);this.$U(e,gw,x.processFilterCommandReturningFieldName,null)},$5:function(e){var gv=ss.mkdel(this,function(gx,gy){gy['qualifiedFieldCaption']=gx['api.fieldCaption'];if(ss.isValue(gx['api.filterReset'])&&gx['api.filterReset']){gy['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(gx['api.filterRangeMax'])){gy['rangeMax']=gx['api.filterRangeMax']}if(ss.isValue(gx['api.filterRangeMin'])){gy['rangeMin']=gx['api.filterRangeMin']}if(ss.isValue(gx['api.filterRangeNullOption'])){gy['included']=this.$o(gx['api.filterRangeNullOption'])}}});var gw=this.$G(e,{ns:'tabdoc',cmd:'range-filter'},gv);this.$U(e,gw,x.processFilterCommandReturningFieldName,null)},$6:function(e){var gv=function(gx,gy){gy['qualifiedFieldCaption']=gx['api.fieldCaption'];if(ss.isValue(gx['api.filterReset'])&&gx['api.filterReset']){gy['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(gx['api.filterDateArchorValue'])){gy['anchorDate']=gx['api.filterDateArchorValue']}gy['datePeriodType']=gx['api.filterPeriodType'].toLowerCase();gy['dateRangeType']=gx['api.filterDateRangeType'].toLowerCase();if(ss.isValue(gx['api.filterDateRange'])){gy['rangeN']=gx['api.filterDateRange']}}};var gw=this.$G(e,{ns:'tabdoc',cmd:'relative-date-filter'},gv);this.$U(e,gw,x.processFilterCommandReturningFieldName,null)},$1h:function(e){if(e.toLowerCase()==='replace'){return'select-replace'.toString()}else if(e.toLowerCase()==='add'){return'select-add'.toString()}else if(e.toLowerCase()==='remove'){return'select-remove'.toString()}return'select-replace'.toString()},$o:function(e){if(e.toLowerCase()==='nullvalues'){return'include-null'.toString()}else if(e.toLowerCase()==='nonnullvalues'){return'include-non-null'.toString()}else if(e.toLowerCase()==='allvalues'){return'include-all'.toString()}return'include-all'.toString()},$8:function(e){var gv=JSON.parse(e.get_parameters());var gw=w.$1();var gx=gv['api.fieldCaption'];var gy=ss.keyExists(gw,gx);var gz;if(gy){if(gw[gx]==='RD'){var gA=g.$0('api.localfailed','Clearing a relative date filter is not supported when an associated quick filter is on the Worksheet. Please call applyRelativeDateFilter instead.');this.$1i.sendResponse(e,gA);return}gz={ns:'tabdoc',cmd:'reset-filter'}}else{gz={ns:'tabdoc',cmd:'clear-existing-filter'}}var gB=function(gD,gE){gE['qualifiedFieldCaption']=gx};var gC=this.$G(e,gz,gB);this.$U(e,gC,x.processFilterCommandReturningFieldName,null)},$2:function(e){var gv=function(gx,gy){gy['qualifiedFieldCaption']=gx['api.fieldCaption'];if(ss.isValue(gx['api.filterReset'])&&gx['api.filterReset']){gy['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(gx['api.exclude'])){gy['exclude']=gx['api.exclude'].toString()}var gz=r.convertFilterUpdateType(gx['api.filterUpdateType'].toString());gy['filterUpdateType']=gz;if(ss.isValue(gx['api.filterCategoricalValues'])){gy['filterValues']=JSON.stringify(gx['api.filterCategoricalValues'])}else{gy['filterValues']='[""]'}}};var gw=this.$G(e,{ns:'tabdoc',cmd:'categorical-filter'},gv);this.$U(e,gw,x.processFilterCommandReturningFieldName,null)},$3:function(e){var gv=JSON.parse(e.get_parameters());var gw={};gw['dashboard']=gv['api.dashboardName'];gw['qualifiedFieldCaption']=gv['api.fieldCaption'];if(ss.isValue(gv['api.exclude'])){gw['exclude']=gv['api.exclude'].toString()}var gx=r.convertFilterUpdateType(gv['api.filterUpdateType'].toString());gw['filterUpdateType']=gx;if(ss.isValue(gv['api.filterCategoricalValues'])){gw['filterValues']=JSON.stringify(gv['api.filterCategoricalValues'])}else{gw['filterValues']='[""]'}var gy=tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'dashboard-categorical-filter'},gw);this.$U(e,gy,x.processFilterCommandReturningFieldName,null)},$0:function(e,gv){var gw=new ss.StringBuilder;gw.append('[');for(var gx=0;gx<e.length;gx++){if(gx>0){gw.append(',')}gw.append('{');gw.append('"'+'qualifiedFieldCaption'.toString()+'":');gw.append('"'+e[gx]+'"');gw.append(',');gw.append('"'+'selectValues'.toString()+'":');gw.append(gv[gx]);gw.append('}')}gw.append(']');return gw.toString()},$1:function(e,gv){var gw=new ss.StringBuilder;gw.append('[');for(var gx=0;gx<e.length;gx++){if(gx>0){gw.append(',')}gw.append('{');gw.append('"'+'qualifiedFieldCaption'+'":');gw.append('"'+e[gx]+'"');gw.append(',');var gy=JSON.parse(gv[gx]);var gz=JSON.parse(gy[0]);if(ss.isValue(gz['max'])){gw.append('"'+'maxValue'+'":');gw.append('"'+gz['max'].toString()+'"')}if(ss.isValue(gz['min'])){if(ss.isValue(gz['max'])){gw.append(',')}gw.append('"'+'minValue'.toString()+'":');gw.append('"'+gz['min'].toString()+'"')}if(ss.isValue(gz['nullOption'])){var gA=this.$o(gz['nullOption'].toString());gw.append(',');gw.append('"'+'included'.toString()+'":');gw.append('"'+gA+'"')}gw.append('}')}gw.append(']');return gw.toString()},$d:function(e,gv){if(ss.isValue(gv['visualIdPresModel'])){return}var gw={};gw.worksheet=e['api.worksheetName'];if(ss.isValue(e['api.dashboardName'])){gw.dashboard=e['api.dashboardName']}gv['visualIdPresModel']=JSON.stringify(gw)},$s:function(e){var gv=this.$G(e,{ns:'tabdoc',cmd:'get-summary-data'},C.$3);this.$U(e,gv,C.processSummaryData,null)},$r:function(e){var gv=ss.mkdel(this,function(gx,gy){gy['versionName']=this.$1j;gy['maxRows']=gx['api.maxRows'];gy['ignoreAliases']=gx['api.ignoreAliases'];gy['ignoreSelection']=gx['api.ignoreSelection'];this.$d(gx,gy)});var gw=this.$G(e,{ns:'tabdoc',cmd:'api-get-worksheet-summary-logical-table-data'},gv);this.$U(e,gw,z.processSummaryData,null)},$t:function(e){var gv=e;var gw='TableauException:';var gx=e.indexOf(gw);if(gx>=0){gv=e.substring(gx);var gy='<br>';if(!(gv.indexOf(gy)!==-1)){gy='/n'}gv=gv.substr(0,gv.indexOf(gy))}return gv},$I:function(e,gv){var gw=ss.formatString('Error executing JS API command:\n\n\t{0}\n\nDetails:\n\n{1}',gv,this.$t(e));return gw},$O:function(e){var gv=ss.mkdel(this,function(gy,gz){gz['versionName']=this.$1j;gz['showDataTableId']='single-table-id-sentinel';gz['maxRows']=gy['api.maxRows'];gz['ignoreAliases']=gy['api.ignoreAliases'];gz['ignoreSelection']=gy['api.ignoreSelection'];gz['includeAllColumns']=gy['api.includeAllColumns'];this.$d(gy,gz)});var gw=this.$G(e,{ns:'tabdoc',cmd:'api-get-worksheet-underlying-logical-table-data'},gv);var gx=ss.mkdel(this,function(gy){return this.$I(gy,'getUnderlyingDataAsync')});this.$U(e,gw,z.processUnderlyingTableData,gx)},$v:function(e){this.$O(e)},$x:function(e){var gv=ss.mkdel(this,function(gx,gy){gy['versionName']=this.$1j;this.$d(gx,gy)});var gw=this.$G(e,{ns:'tabdoc',cmd:'api-get-worksheet-logical-table-ids'},gv);this.$U(e,gw,z.processUnderlyingTables,null)},$w:function(e){var gv=ss.mkdel(this,function(gy,gz){gz['versionName']=this.$1j;gz['showDataTableId']=gy['api.tableId'];gz['maxRows']=gy['api.maxRows'];gz['ignoreAliases']=gy['api.ignoreAliases'];gz['ignoreSelection']=gy['api.ignoreSelection'];gz['includeAllColumns']=gy['api.includeAllColumns'];this.$d(gy,gz)});var gw=this.$G(e,{ns:'tabdoc',cmd:'api-get-worksheet-underlying-logical-table-data'},gv);var gx=ss.mkdel(this,function(gy){return this.$I(gy,'getUnderlyingTableDataAsync')});this.$U(e,gw,z.processUnderlyingTableData,gx)},$9:function(e){var gv=function(gx,gy){};var gw=this.$G(e,{ns:'tabsrv',cmd:'select-none'},gv);this.$U(e,gw,w.$3,null)},$y:function(e){var gv=function(gx,gy){gy['qualifiedFieldCaption']=gx['api.fieldCaption'];gy['objectTextIds']=gx['api.ObjectTextIDs']};var gw=this.$G(e,{ns:'tabdoc',cmd:'highlight-items'},gv);this.$U(e,gw,w.$3,null)},$z:function(e){var gv=function(gx,gy){gy['qualifiedFieldCaption']=gx['api.fieldCaption'];gy['valueString']=gx['api.Pattern']};var gw=this.$G(e,{ns:'tabdoc',cmd:'highlight-items-by-pattern-match'},gv);this.$U(e,gw,w.$3,null)},$f:function(e){var gv=function(gx,gy){};var gw=this.$G(e,{ns:'tabdoc',cmd:'get-highlighted-data'},gv);this.$U(e,gw,ss.mkdel(this,this.$J),null)},$J:function(e){var gv=e;var gw=gv.dataDictionary;var gx=gv.vizData;return this.$H(gw,gx)},$R:function(e){var gv=ss.mkdel(this,function(gx,gy){if(tab.MiscUtil.isNullOrEmpty(gx)){gy['selectionUpdateType']='select-replace'.toString()}else{gy['selectionUpdateType']=this.$1h(gx['api.filterUpdateType'].toString());if(ss.isValue(gx['api.categoricalFieldCaption'])&&ss.isValue(gx['api.categoricalMarkValues'])){var gz=JSON.parse(gx['api.categoricalFieldCaption']);var gA=JSON.parse(gx['api.categoricalMarkValues']);var gB=this.$0(gz,gA);gy['dimensionValueSelectionModels']=gB}if(ss.isValue(gx['api.hierarchicalFieldCaption'])&&ss.isValue(gx['api.hierarchicalMarkValues'])){var gC=JSON.parse(gx['api.hierarchicalFieldCaption']);var gD=JSON.parse(gx['api.hierarchicalMarkValues']);var gE=this.$0(gC,gD);gy['hierarchicalValueSelectionModels']=gE}if(ss.isValue(gx['api.rangeFieldCaption'])&&ss.isValue(gx['api.rangeMarkValues'])){var gF=JSON.parse(gx['api.rangeFieldCaption']);var gG=JSON.parse(gx['api.rangeMarkValues']);var gH=this.$1(gF,gG);gy['quantativeRangeSelectionModels']=gH}if(ss.isValue(gx['api.tupleIds'])){var gI=new ss.StringBuilder;gI.append('{');gI.append('"'+'selectionType'+'":');gI.append('"tuples"');gI.append(',');gI.append('"'+'objectIds'+'":');gI.append(gx['api.tupleIds']);gI.append('}');gy['selection']=gI.toString()}}});var gw=this.$G(e,{ns:'tabdoc',cmd:'select-by-value'},gv);gw.forceFireUrlActions=true;this.$U(e,gw,w.$4,null)},$a:function(e){var gv=function(gx,gy){};var gw=this.$G(e,{ns:'tabsrv',cmd:'select-none'},gv);this.$U(e,gw,w.$4,null)},$7:function(e){if(ss.isNullOrUndefined(this.$1k.get_customViewsViewModel())){if(ss.isValue(e)){var gv=g.$0('api.remotefailed',null);this.$1i.sendResponse(e,gv)}return false}return true},$b:function(){var e=null;var gv=[];var gw=0;if(this.$7(null)){var gx=this.$1k.get_customViewsViewModel();var gy=gx.get_currentCustomView();if(ss.isValue(gy)){e=f.serializeCustomView(gx.get_currentCustomView(),tab.CustomizedViewRequests.buildUrl(gx.get_currentCustomView(),true))}var gz=this.$1k.get_customViewsViewModel().get_myCustomViews();var gA=ss.getEnumerator(gz);try{while(gA.moveNext()){var gB=gA.current();var gC=tab.CustomizedViewRequests.buildUrl(gB,true);var gD=f.serializeCustomView(gB,gC);gv.push(gD)}}finally{gA.dispose()}var gE=this.$1k.get_customViewsViewModel().get_otherCustomViews();var gF=ss.getEnumerator(gE);try{while(gF.moveNext()){var gG=gF.current();var gH=tab.CustomizedViewRequests.buildUrl(gG,true);var gI=f.serializeCustomView(gG,gH);gv.push(gI)}}finally{gF.dispose()}gw=gx.get_defaultCustomViewId()}return s.newCustomViewsInfo(this.$1m,gw,e,gv)},$e:function(e){if(this.$7(e)){this.$1k.get_customViewsViewModel().updateCustomizedViews(ss.mkdel(this,function(gv,gw){var gx=g.$0('api.success',this.$b());this.$1i.sendResponse(e,gx)}),ss.mkdel(this,function(gv){var gw=g.$0('api.remotefailed',gv);this.$1i.sendResponse(e,gw)}))}},$10:function(e){var gv=JSON.parse(e.get_parameters());var gw=null;if(ss.isValue(gv['api.customViewParam'])){var gx=gv['api.customViewParam'];gw=f.convertToCustomizedView(gx)}if(this.$7(e)){this.$1k.get_customViewsViewModel().select(gw)}},$N:function(e){var gv=JSON.parse(e.get_parameters());var gw=gv['api.customViewParam'];var gx=f.convertToCustomizedView(gw);if(this.$7(e)){this.$1k.get_customViewsViewModel().destroy(gx,ss.mkdel(this,function(){var gy=g.$0('api.success',this.$b());this.$1i.sendResponse(e,gy)}),ss.mkdel(this,function(gy){var gz=g.$0('api.remotefailed',gy);this.$1i.sendResponse(e,gz)}))}},$1d:function(e){var gv=JSON.parse(e.get_parameters());var gw=gv['api.customViewParam'];var gx=f.convertToCustomizedView(gw);if(this.$7(e)){this.$1k.get_customViewsViewModel().update(gx,ss.mkdel(this,function(gy){var gz=g.$0('api.success',this.$b());this.$1i.sendResponse(e,gz)}),ss.mkdel(this,function(gy){var gz=g.$0('api.remotefailed',gy);this.$1i.sendResponse(e,gz)}))}},$E:function(e){if(this.$7(e)){this.$1k.get_customViewsViewModel().makeCurrentDefault(ss.mkdel(this,function(gv){var gw=g.$0('api.success',this.$b());this.$1i.sendResponse(e,gw)}),ss.mkdel(this,function(gv){var gw=g.$0('api.remotefailed',gv);this.$1i.sendResponse(e,gw)}))}},$Q:function(e){var gv=JSON.parse(e.get_parameters());var gw=gv['api.customViewName'];this.$1k.get_customViewsViewModel().save(gw,ss.mkdel(this,function(gx){var gy=this.$b();gy.newView=f.serializeCustomView(gx,tab.CustomizedViewRequests.buildUrl(gx,false));var gz=g.$0('api.success',gy);this.$1i.sendResponse(e,gz)}),ss.mkdel(this,function(gx){var gy=g.$0('api.remotefailed',gx);this.$1i.sendResponse(e,gy)}))},$k:function(e){var gv=JSON.parse(e.get_parameters());var gw=gv['api.dataSourceName'];var gx=gv['api.worksheetName'];var gy={};var gz=tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'get-schema'},gy);var gA=function(gB){var gC=gB;var gD=u.$0(gC,gx,gw);return gD.dataSources[0]};this.$U(e,gz,gA,null)},$l:function(e){var gv=JSON.parse(e.get_parameters());var gw=gv['api.worksheetName'];var gx=function(gA,gB){};var gy=this.$G(e,{ns:'tabdoc',cmd:'get-schema'},gx);var gz=function(gA){var gB=gA;var gC=u.$0(gB,gw,null);return gC};this.$U(e,gy,gz,null)},$B:function(e){var gv=JSON.parse(e.get_parameters());var gw=gv['api.invokeCommandName'];if(ss.keyExists(dp.invokeCommands,gw)){dp.invokeCommands[gw].execute(gv)}else if(gw==='showExportImageDialog'){this.$1k.get_toolbarCommands().exportImage(false)}else if(gw==='showExportDataDialog'){fW.exportData(dp.getParamsForCommand(gv))}else if(gw==='showExportCrosstabDialog'){tab.ExportServerCommands.exportCrosstabToCSV(dp.getParamsForCommand(gv),false)}else if(gw==='showExportPDFDialog'){this.$1k.get_toolbarCommands().exportPdf(null,false)}else if(gw==='showExportPowerPointDialog'){tab.ExportServerCommands.exportPowerPoint()}else if(gw==='pauseAutomaticUpdates'){this.$1k.get_toolbarCommands().$3();this.$S(e)}else if(gw==='resumeAutomaticUpdates'){this.$1k.get_toolbarCommands().$5();this.$S(e)}else if(gw==='toggleAutomaticUpdates'){this.$1a(e)}else if(gw==='showShareDialog'){this.$1k.get_toolbarCommands().$c()}else if(gw==='showDownloadWorkbookDialog'){var gx=this.$1k.get_applicationPresModel().workbookPresModel.dashboardPresModel;this.$1k.get_toolbarCommands().$0(gx.sheetLayoutInfo.downloadLink)}else if(gw==='selectedMarksKeepOnly'){this.$1k.get_toolbarCommands().$7()}else if(gw==='selectedMarksExclude'){this.$1k.get_toolbarCommands().$6()}},$u:function(e){if(ss.isValue(this.$1t)){var gv=g.$0('api.success',this.$1t.get_toolbarState());this.$1i.sendResponse(e,gv)}},$1b:function(e){tab.WorksheetServerCommands.undo();var gv=g.$0('api.success','');this.$1i.sendResponse(e,gv)},$L:function(e){tab.WorksheetServerCommands.redo();var gv=g.$0('api.success','');this.$1i.sendResponse(e,gv)},$1a:function(e){this.$1k.get_toolbarCommands().$e();this.$S(e)},$16:function(){this.$1k.get_toolbarCommands().$c()},$12:function(){this.$1k.get_toolbarCommands().$9()},$17:function(){this.$1k.get_toolbarCommands().$d()},$15:function(){this.$1k.get_toolbarCommands().$b()},$11:function(){this.$1k.get_toolbarCommands().$8()},$13:function(){this.$1k.get_toolbarCommands().$a()},$S:function(e){var gv=s.newAutoUpdateState(this.$1k.get_toolbarCommands().$1());var gw=g.$0('api.success',gv);this.$1i.sendResponse(e,gw)},$Z:function(e){var gv=JSON.parse(e.get_parameters());var gw={};gw['sheet']=gv['api.setSheetSizeName'];gw['minWidth']=gv['api.minWidth'];gw['minHeight']=gv['api.minHeight'];gw['maxWidth']=gv['api.maxWidth'];gw['maxHeight']=gv['api.maxHeight'];var gx=tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'set-sheet-size'},gw);this.$U(e,gx,null,null)},$M:function(e){this.$1k.get_toolbarCommands().$4();var gv=g.$0('api.success','');this.$1i.sendResponse(e,gv)},$P:function(e){tab.WorksheetServerCommands.revert(null);var gv=g.$0('api.success','');this.$1i.sendResponse(e,gv)},$14:function(e){var gv=JSON.parse(e.get_parameters());var gw=gv['api.showHideToolbarValue'];this.$1k.set_toolbarDisplayed(gw);this.$1k.doResize()},$19:function(e){var gv=JSON.parse(e.get_parameters());var gw=new Object;gw.oldRepositoryUrl=gv['api.oldRepositoryUrl'];gw.repositoryUrl=gv['api.switchToRepositoryUrl'];gw.sheetName=gv['api.switchToSheetName'];gw.oldSheetName=tsConfig.current_sheet_name;gw.noUndo=true;gw.successCallback=ss.mkdel(this,function(gx){var gy=g.$0('api.success','');this.$1i.sendResponse(e,gy)});gw.errorCallback=ss.mkdel(this,function(gx){var gy=g.$0('api.remotefailed',gx);this.$1i.sendResponse(e,gy)});E.fireOnTabSelect(gw)},$1c:function(e){this.$1k.doResize()},$T:function(e){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapFailed()){return}if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,function(){var gv=f.serializeClientInfo(this.$1k,this.$1r);var gw=g.$0('api.success',gv);this.$1i.sendResponse(e,gw)}))},$V:function(e){var gv=tab.VizUriModel.createForViewingSheet(tsConfig.repositoryUrl).get_absoluteUri();var gw=g.$0('api.success',gv);this.$1i.sendResponse(e,gw)},$W:function(e){if(this.get_shareViewModel().shouldGenerateDirtyViewShareUrl()){this.get_shareViewModel().generateDirtyViewShareUrl().done(ss.mkdel(this,function(gw){var gx=g.$0('api.success',gw.shareURL);this.$1i.sendResponse(e,gx)})).fail(ss.mkdel(this,function(){var gw=g.$0('api.remotefailed',null);this.$1i.sendResponse(e,gw)}))}else{var gv=g.$0('api.success',this.get_shareViewModel().generateShareUrl());this.$1i.sendResponse(e,gv)}},$A:function(e){var gv='Unknown API Call';var gw=g.$0('api.localfailed',gv);this.$1i.sendResponse(e,gw)},$G:function(e,gv,gw){return this.$F(e,tab.CommandUtils.newCommand(gv,null),gw)},$F:function(e,gv,gw){var gx=JSON.parse(e.get_parameters());var gy=this.$c(gx);gv.commandParams=gy;gw(gx,gy);return gv},$c:function(e){var gv={};if(ss.isValue(e['api.visualId'])){gv['visualIdPresModel']=JSON.stringify(e['api.visualId'])}else{gv['worksheet']=e['api.worksheetName'];if(ss.isValue(e['api.dashboardName'])){gv['dashboard']=e['api.dashboardName']}}return gv},$m:function(e){if(ss.isValue(this.$1p)){this.$1p.handleGetDeviceLayoutState(e)}},$i:function(e){if(ss.isValue(this.$1l)){this.$1l.handleGetCurrentSheetType(e)}},$U:function(e,gv,gw,gx){gv.noExceptionDialog=true;tab.ApiClientCommands.doApiCommand(gv,ss.mkdel(this,function(gy){var gz=gy;if(ss.isValue(gw)){gz=gw(gy)}var gA=g.$0('api.success',gz);this.$1i.sendResponse(e,gA)}),ss.mkdel(this,function(gy){var gz=gy.get_message();if(ss.isValue(gx)){gz=gx(gz)}var gA=g.$0('api.remotefailed',gz);this.$1i.sendResponse(e,gA)}))}},{$2:function(e,gv){var gw=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),e);if(ss.isValue(gw)){var gx=_.find(gw.get_filters(),function(gy){return ss.referenceEquals(gy.get_globalFieldName(),gv)});if(ss.isValue(gx)){return gx.get_filterPresModel().fieldCaption}}return null},$0:function(e){var gv=new ss.StringBuilder;for(var gw=0;gw<e.length;gw++){var gx=e[gw];if(!(gv.length===0)){gv.append('.')}gv.append('['+gx+']')}return gv.toString()},$1:function(){var e=new Set;var gv=tab.ModelUtils.findContentDashboard(null);var gw=gv.get_zoneModels();for(var gx=0;gx<gw.length;gx++){var gy=gw[gx];if(gy.get_zoneType()==='filter'&&ss.referenceEquals(gy.get_worksheetName(),tsConfig.current_sheet_name)){var gz=gy.get_model().get_fieldName();e.add(gz)}}var gA={};var gB=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(gB)){var gC=gB.get_filters();for(var gD=0;gD<gC.length;gD++){var gE=gC[gD];var gF=w.$0(gE.get_filterPresModel().name);if(e.has(gF)){var gG=gE.get_filterPresModel().fieldCaption;if(gE.get_filterPresModel().type!=='H'){gA[gG]=gE.get_filterPresModel().type}else{gG='';var gH=gE.get_filterPresModel().table[0].table;if(ss.isValue(gH)&&ss.isValue(gH.schema)&&ss.isValue(gH.schema[0])&&ss.isValue(gH.schema[0].name)){var gI=gH.schema[0].name;for(var gJ=1;gJ<gI.length;gJ++){gG+='['+gI[gJ]+']';gA[gG]=gE.get_filterPresModel().type;gG+='.'}}}}}}return gA},$3:function(e){return null},$4:function(e){var gv=e;if(ss.isValue(gv['invalidFields'])){return s.newCommandError('invalidSelectionFieldName',gv['invalidFields'])}else if(ss.isValue(gv['invalidValues'])){return s.newCommandError('invalidSelectionValue',gv['invalidValues'])}else if(ss.isValue(gv['invalidDates'])){return s.newCommandError('invalidSelectionDate',gv['invalidDates'])}return null}});var x=global.tab.ApiFilterHandler=ss.mkType(a,'tab.ApiFilterHandler',null,null,{processFilters:function(e){var gv=JSON.parse(e.toString());var gw=[];if(ss.isValue(gv)){for(var gx=0;gx<gv.length;gx++){var gy=gv[gx];var gz=x.$5(gy);if(ss.isValue(gz)){gw.push(gz)}}}var gA=new Object;gA.filters=Array.prototype.slice.call(gw);var gB=gA;return gB},processFiltersForDashboard:function(e){var gv=JSON.parse(e.toString());var gw=new Object;gw.filters={};var gx=gw;if(ss.isValue(gv)){var gy=new ss.ObjectEnumerator(gv);try{while(gy.moveNext()){var gz=gy.current();var gA=[];for(var gB=0;gB<gz.value.length;gB++){var gC=gz.value[gB];var gD=gC.targetSheets;var gE=x.$5(gC);if(ss.isValue(gE)&&!x.$6(gD,gx)){gA.push(gE)}}if(gA.length>0){gx.filters[gz.key]=gA}}}finally{gy.dispose()}}return gx},$6:function(e,gv){return tab.ListExtensions.where(Object).call(null,Object.keys(gv.filters),function(gw){return ss.contains(e,gw)}).length>0},processFilterCommandReturningFieldName:function(e){var gv=x.$0(e);if(ss.isValue(gv)){return gv}return e},processSingleFilter:function(e){var gv=x.$0(e);if(ss.isValue(gv)){return gv}var gw=JSON.parse(e.toString());if(ss.isValue(gw)){return x.$5(gw)}return null},processGetSharedFilterWorksheets:function(e){var gv=e;var gw=new Object;var gx=[];if(ss.isValue(gv)&&ss.isValue(gv.sharedFilterWorksheetInfoList)){for(var gy=0;gy<gv.sharedFilterWorksheetInfoList.length;gy++){var gz=gv.sharedFilterWorksheetInfoList[gy];gx.push(s.newSharedFilterWorksheetInfoPresModel(gz.worksheet,gz.isActive,gz.isEnabled,gz.isSelected))}}gw.sharedFilterWorksheetInfoList=Array.prototype.slice.call(gx);return gw},$0:function(e){var gv=e;if(ss.keyExists(gv,'parameterError')){if(ss.isValue(gv['invalidFieldCaption'])){return s.newCommandError('invalidFilterFieldName',gv['invalidFieldCaption'])}else if(ss.isValue(gv['invalidValues'])){return s.newCommandError('invalidFilterFieldValue',gv['invalidValues'])}else if(ss.isValue(gv['invalidAggFieldName'])){return s.newCommandError('invalidAggregationFieldName',gv['fieldCaption'])}else{return s.newCommandError('serverError',null)}}return null},$2:function(e){switch(e){case'C':{return'categorical'}case'H':{return'hierarchical'}case'Q':{return'quantitative'}case'RD':{return'relativedate'}default:{throw new ss.Exception('Unknown filter type: '+e)}}},$5:function(e){var gv=x.$2(e.type);switch(gv){case'categorical':{return x.$8(e)}case'relativedate':{return x.$b(e)}case'hierarchical':{return x.$9(e)}case'quantitative':{return x.$a(e)}default:{throw new ss.Exception('Unknown FilterType: '+gv)}}},$7:function(e,gv){var gw=e.fieldName;var gx=e.fieldCaption;var gy=x.$2(e.type);var gz=null;var gA=null;var gB=null;if(ss.isValue(e.fieldDetailsJson)&&ss.isValue(e.fieldDatasource)){gz=e.fieldDatasource;var gC=JSON.parse(e.fieldDetailsJson);var gD=gC['genFieldColumnPresModel'];gA=q.convertFieldRole(gD.fieldRole);gB=q.convertFieldAggregation(gD.aggregation)}return gv(gw,gy,gx,gz,gA,gB)},$8:function(e){var gv=e.exclude||false;var gw=e.allChecked||false||(e.all||false);var gx=null;if(ss.isValue(e.table)){var gy=e.table;if(ss.isValue(gy.tuples)){var gz=ss.coalesce(e.all,false)||ss.coalesce(e.allChecked,false);var gA=gy.tuples;var gB=[];for(var gC=0;gC<gA.length;gC++){var gD=gA[gC];if(gz||ss.isValue(gD.s)&&gD.s){var gE=gD.t[0];var gF=gD.d;gB.push(x.$4(e,gE,gF))}}gx=Array.prototype.slice.call(gB)}}var gG=function(gH,gI,gJ,gK,gL,gM){return s.newCategoricalFilter(gH,gI,gJ,gK,gL,gM,gv,gx,gw)};return x.$7(e,gG)},$a:function(e){var gv=null;var gw=null;var gx=null;var gy=null;var gz=false;if(ss.isValue(e.range)){var gA=e.range;if(ss.isValue(gA.min)&&ss.isValue(gA.min.v)){gv=x.$3(e,gA.min,null)}if(ss.isValue(gA.max)&&ss.isValue(gA.max.v)){gw=x.$3(e,gA.max,null)}}if(ss.isValue(e.table)){var gB=e.table;if(ss.isValue(gB.min)&&ss.isValue(gB.min.v)){gx=x.$3(e,gB.min,null)}if(ss.isValue(gB.max)&&ss.isValue(gB.max.v)){gy=x.$3(e,gB.max,null)}if(ss.isValue(gB.included)){var gC=gB.included;gz=gC==='include-all'||gC==='include-null'||gC==='include-range-or-null'}}var gD=function(gE,gF,gG,gH,gI,gJ){return s.newQuantitativeFilter(gE,gF,gG,gH,gI,gJ,gv,gw,gx,gy,gz)};return x.$7(e,gD)},$b:function(e){var gv=null;var gw=null;var gx=null;var gy=e.table;if(ss.isValue(gy)){if(ss.isValue(gy.periodType)){gv=q.convertPeriodType(gy.periodType)}if(ss.isValue(gy.rangeType)){gw=q.convertRangeType(gy.rangeType)}if(ss.isValue(gy.rangeN)){gx=gy.rangeN}}var gz=function(gA,gB,gC,gD,gE,gF){return s.newRelativeDateFilter(gA,gB,gC,gD,gE,gF,gv,gw,gx)};return x.$7(e,gz)},$4:function(e,gv,gw){return x.$3(e,gv,gw)},$3:function(e,gv,gw){var gx=new Object;if(ss.isNullOrUndefined(gv)){return gx}var gy=x.$1(gv.t);var gz=[gv];if(ss.isValue(e.range)){gz.push(e.range.min,e.range.max)}if(ss.isValue(e.table)){gz.push(e.table.min,e.table.max)}var gA=tab.QuickFilterDateFormatUtil.getDateTimeFormatMode(gz,'none',e.date_format,null);gx.type=q.convertDataType(gy);var gB=((gy==='date'||gy==='datetime')?e.date_format:e.format);var gC=tab.LegacyFilterModel.buildDataValueFromFilterValue(gv);gx.formattedValue=tableau.format.formatDataValue(gC,e.role,gB,null,gA);if(ss.isValue(gw)){gx.aliasedValue=gw}gx.value=y.serializeDataValue(gv.v,gy);return gx},$1:function(e){switch(e){case'b':{return'boolean'}case'd':{return'date'}case'i':{return'integer'}case'r':{return'real'}case's':{return'cstring'}case't':{return'datetime'}case'g':{return'spatial'}case null:{return'unknown'}}return'unknown'},$9:function(e){var gv=0;if(ss.isValue(e.levels)){gv=e.levels.length}var gw=function(gx,gy,gz,gA,gB,gC){return s.newHierarchicalFilter(gx,gy,gz,gA,gB,gC,gv)};return x.$7(e,gw)}});var y=global.tab.ApiPresModelsConverter=ss.mkType(a,'tab.ApiPresModelsConverter',null,null,{getApiAddInInstancePresModel:function(e){return s.newAddInInstancePM(e)},getApiAddInBootstrapInfoPresModel:function(e){return s.newAddInBootstrapInfoPM(e)},getApiUnderlyingDataTablePresModel:function(e,gv){var gw=e.dataDictionary;var gx=e.underlyingDataTableColumns;var gy=y.$1(gx);var gz=y.$0(gw,gx);var gA=s.newUnderlyingDataTablePM(gz,gy,gv,'');return gA},getApiDashboardZonePresModels:function(e){var gv=[];if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return gv}var gw=Object.keys(e);gw.sort(function(gI,gJ){return parseInt(gI,10)-parseInt(gJ,10)});for(var gx=0;gx<gw.length;gx++){var gy=gw[gx];var gz=e[gy];if(ss.isNullOrUndefined(gz)){continue}var gA=q.convertZoneType(gz.zoneCommon.zoneType);if(!ss.isValue(gA)){continue}var gB=(ss.isValue(gz.worksheet)?gz.worksheet:null);var gC=gz.zoneCommon.x;var gD=gz.zoneCommon.y;var gE=gz.zoneCommon.w;var gF=gz.zoneCommon.h;var gG=gz.zoneCommon.zoneId;var gH=s.newDashboardZone(gB,gG,ss.unbox(gA),gF,gE,gC,gD);gv.push(gH)}return gv},processSelectedMarks:function(e){var gv=e.dataDictionary;var gw=e.vizData;return y.$4(gv,gw)},processHighlightedMarks:function(e){var gv=e.dataDictionary;var gw=e.vizData;return y.$4(gv,gw)},getAddInLocatorPresModel:function(e){return dM.newAddInLocatorPresModel(e)},$4:function(e,gv){var gw=new Object;var gx=new tab.DataDictionaryModel(null);gx.update(e);var gy=new tab.VizDataModel(null);gy.update(gv,tab.NoopModelEventsHandler.get_noopContext());var gz=[];gw.marks=gz;if(ss.isNullOrUndefined(gx)||gx.get_isEmpty()){return gw}gy.forEachTupleId(ss.mkdel(this,function(gA){var gB=new Object;gB.tupleId=gA;var gC=gB;var gD=[];gC.pairs=gD;gz.push(gC);gy.forEachVizDataField(ss.mkdel(this,function(gE,gF){var gG=new Object;gG.fieldName=gE.get_fieldCaption();gG.formattedValue=tab.VizDataLookup.lookupAlias(gA,gE,gx);gG.valueDataType=q.convertDataType(gE.get_dataType());var gH=gG;var gI=null;if(!tab.VizDataLookup.isSpecial(gA,gE,gx,null)&&gE.get_hasDataValues()&&gE.isTupleIdValid(gA)){gI=tab.VizDataLookup.lookupRawDataValue(gA,gE,gx)}var gJ=y.serializeDataValue(gI,gE.get_dataType());gH.value=gJ;gD.push(gH);return true}));return true}));return gw},serializeDataValue:function(e,gv){if(gv==='boolean'){if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}if(ss.isNullOrUndefined(e)){return null}switch(gv){case'boolean':{if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}case'date':case'datetime':{var gw=null;if(_.isDate(e)){gw=e}else if(_.isNumber(e)){if(isNaN(e)){gw=null}else{gw=new Date(tableau.types.JsDateFromOleDate(e))}}else{gw=tab.DateUtil.parsePresModelDate(e.toString())}if(ss.isNullOrUndefined(gw)||isNaN(gw)){return null}return gw.getTime()}case'integer':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var gx=parseInt(e.toString(),10);return(isNaN(gx)?null:gx)}case'real':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var gy=parseFloat(e.toString());return(isNaN(gy)?null:gy)}default:case'cstring':case'tuple':case'unknown':{return e.toString()}}},$1:function(e){var gv=[];for(var gw=0;gw<e.length;gw++){var gx=e[gw];var gy=q.convertUnderlyingDataType(gx.dataType);var gz=s.newUnderlyingDataColumnsPM(gy,gx.fieldCaption,gx.isReferenced,gw);gv.push(gz)}return gv},$0:function(e,gv){var gw=gv[0].formatValIdxs.length;var gx=new Array(gw);for(var gy=0;gy<gw;gy++){gx[gy]=new Array(gv.length)}for(var gz=0;gz<gv.length;gz++){var gA=gv[gz];for(var gB=0;gB<gA.formatValIdxs.length;gB++){var gC=new Object;gC.formattedValue=y.$3(e,gA.formatValIdxs[gB],'cstring');gC.value=y.$3(e,gA.valueIndices[gB],gA.dataType);var gD=gC;gD.aliasedValue=gD.formattedValue;gx[gB][gz]=gD}}return gx},$3:function(e,gv,gw){var gx=null;var gy;if(gv>=0){gy=gw}else{gy='cstring';gv=-gv-1}var gz=y.$2(e,gy,gv);if(ss.isValue(gz)){gx=gz.toString()}return gx},$2:function(e,gv,gw){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.dataSegments)){return null}var gx=ss.getEnumerator(Object.keys(e.dataSegments));try{while(gx.moveNext()){var gy=gx.current();var gz=e.dataSegments[gy];if(ss.isNullOrUndefined(gz.dataColumns)){continue}for(var gA=0;gA<gz.dataColumns.length;gA++){var gB=gz.dataColumns[gA];if(ss.isNullOrUndefined(gB)||gB.dataType!==gv){continue}if(gw<gB.dataValues.length){return gB.dataValues[gw]}gw-=gB.dataValues.length;break}}}finally{gx.dispose()}return null}});var z=global.tab.ApiShowDataHandler=ss.mkType(a,'tab.ApiShowDataHandler',null,null,{processShowDataPresModel:function(e,gv){if(ss.isNullOrUndefined(e)){return[]}var gw=[];var gx=z.$5(e,gv);for(var gy=0;gy<gx.length;gy++){var gz=gx[gy];gw.push(z.$3(gz,gv))}return gw},processSummaryData:function(e){var gv=e;if(!ss.isValue(gv)){return z.buildEmptyUnderlyingTablePresModel(true)}return z.$3(gv,true)},processSingleTableFromShowDataPresModel:function(e,gv){var gw=z.$5(e,gv);if(gw.length===0){return z.buildEmptyUnderlyingTablePresModel(gv)}var gx=gw[0];return z.$3(gx,gv)},$5:function(e,gv){if(gv){if(ss.isValue(e.summaryTablePresModels)&&e.summaryTablePresModels.length>0){return e.summaryTablePresModels}}else if(ss.isValue(e.dataTablePresModels)&&e.dataTablePresModels.length>0){return e.dataTablePresModels}return[]},buildEmptyUnderlyingTablePresModel:function(e){return s.newUnderlyingDataTablePM(z.buildEmptyDataTable(),[],e,'')},buildEmptyDataTable:function(){return[]},$3:function(e,gv){var gw=null;if(ss.isValue(e.showDataTable)&&e.showDataTable.toString().length!==0){var gx=JSON.parse(e.showDataTable);gw=gx.table}var gy=null;if(ss.isValue(e.showDataFormattedTable)&&e.showDataFormattedTable.toString().length!==0){var gz=JSON.parse(e.showDataFormattedTable);gy=gz.table}var gA=e.showDataTableColumnPresModels;var gB=z.$1(gA,e.referencedColumns);var gC=z.$0(gw,gy,gA);var gD=e.name;var gE=s.newUnderlyingDataTablePM(gC,gB,gv,gD);return gE},$1:function(e,gv){if(ss.isNullOrUndefined(e)){return[]}var gw=[];for(var gx=0,gy=e.length;gx<gy;gx++){var gz=e[gx];var gA=q.convertUnderlyingDataType(gz.dataType);var gB=ss.isValue(gv)&&ss.indexOf(gv,gz.uniqueName.toString())>=0;var gC=s.newUnderlyingDataColumnsPM(gA,gz.fieldCaption,gB,gx);gw.push(gC)}return gw},$0:function(e,gv,gw){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(gv)){return z.buildEmptyDataTable()}var gx=e||gv;var gy=gv||e;var gz=z.$4(gy.schema,gw);var gA=gz.length;if(gA===0){return z.buildEmptyDataTable()}var gB=gx.tuples.length;var gC=new Array(gB);for(var gD=0;gD<gB;gD++){var gE=gx.tuples[gD];var gF=gy.tuples[gD];var gG=new Array(gA);for(var gH=0;gH<gA;gH++){var gI=gz[gH];var gJ=gF[gI];var gK=new Object;gK.value=gE[gI];gK.formattedValue=gJ;gK.aliasedValue=gJ;var gL=gK;gG[gH]=gL}gC[gD]=gG}return gC},$4:function(e,gv){var gw=[];if(ss.isNullOrUndefined(gv)||gv.length===0||ss.isNullOrUndefined(e)){return gw}for(var gx=0,gy=gv.length;gx<gy;gx++){var gz=e.indexOf(gv[gx].uniqueName.toString());if(gz>=0){gw.push(gz)}}return gw},processUnderlyingTables:function(e){var gv=e;var gw=z.$2(gv);return gw},$2:function(e){var gv=[];for(var gw=0;gw<e.length;gw++){var gx=e[gw];var gy=new Object;gy.tableId=gx.showDataTableId;gy.caption=gx.showDataTableCaption;var gz=gy;gv.push(gz)}var gA=s.newLogicalTablesPM(gv);return gA},processUnderlyingTableData:function(e){var gv=e;if(!ss.isValue(gv)){return z.buildEmptyUnderlyingTablePresModel(false)}return z.$3(gv,false)}});var A=global.tab.ApiStorytellingHandler=ss.mkType(a,'tab.ApiStorytellingHandler',function(e,gv){this.$7=null;this.$b=null;this.$8=new tab.DisposableHolder;this.$a=false;this.$9=false;tab.Param.verifyValue(e,'client');tab.Param.verifyValue(gv,'responder');this.$7=e;this.$b=gv;var gw=ss.mkdel(this,function(){var gx=e.get_flipboardNavigatorViewModel();if(ss.isValue(gx)){gx.add_remoteUpdateComplete(ss.mkdel(this,this.$4));this.$a=true;this.$8.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){gx.remove_remoteUpdateComplete(ss.mkdel(this,this.$4))})))}return ss.isValue(gx)});if(!gw()){_.defer(ss.mkdel(this,function(){if(this.$9){return}gw()}))}},{get_eventHandlerAttached:function(){return this.$a},dispose:function(){this.$8.dispose();this.$9=true},activateStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$2))},activatePreviousStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(gv){return this.$1(gv,function(gw){return gw.clickPrevious()})}))},activateNextStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(gv){return this.$1(gv,function(gw){return gw.clickNext()})}))},revertStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$5))},$5:function(e){return this.$3(e,'api.RevertStoryPoint',function(gv){return gv.revertStoryPoint()})},$2:function(e){return this.$3(e,'api.ActivateStoryPoint',function(gv){return gv.clickStoryPoint()})},$3:function(e,gv,gw){A.$0(e,gv);var gx=JSON.parse(e.get_parameters());var gy=gx['api.storyPointIndex'];if(!ss.isValue(gy)||isNaN(ss.unbox(gy))){throw new ss.Exception('Missing index parameter.')}var gz=this.$0();if(ss.Nullable$1.lt(gy,0)||ss.Nullable$1.ge(gy,ss.count(gz.get_captions()))){throw new ss.Exception('The index is out of bounds.')}var gA=$.Deferred();var gB=ss.getItem(gz.get_captions(),ss.unbox(gy));gw(gB).then(ss.mkdel(this,function(gC){var gD=f.serializeStoryPoint(gC,this.$7);gA.resolve(gD)}),function(gC){gA.reject(gC)});return gA.promise()},$1:function(e,gv){A.$0(e,['api.ActivateNextStoryPoint','api.ActivatePreviousStoryPoint']);var gw=this.$0();var gx=$.Deferred();gv(gw).then(ss.mkdel(this,function(gy){var gz=ss.getItem(gw.get_captions(),gy);var gA=f.serializeStoryPoint(gz,this.$7);gx.resolve(gA)}),function(gy){gx.reject(gy)});return gx.promise()},$4:function(){var e=f.serializeStory(this.$7);var gv=JSON.stringify(e);this.$b.sendEventNotification('api.StorytellingStateChangedEvent',null,gv)},$0:function(){var e=this.$7.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(e)){throw new ss.Exception('The active sheet is not a story.')}return e},$6:function(gv,gw){try{gw(gv).then(ss.mkdel(this,function(e){var gx=g.$0('api.success',e);this.$b.sendResponse(gv,gx)}),ss.mkdel(this,function(e){var gx=g.$0('api.remotefailed',e);this.$b.sendResponse(gv,gx)}))}catch(gx){var e=ss.Exception.wrap(gx);var errorResult1=g.$0('api.localfailed',e.get_message());this.$b.sendResponse(gv,errorResult1)}}},{$0:function(e,gv){var gw=($.isArray(gv)?gv:[gv]);var gx=_.any(gw,function(gy){return gy===e.get_name()});if(!gx){throw new ss.Exception("Command '"+e.get_name()+"' is not valid for the handler.")}}});var B=global.tab.ApiToolbarStateManager=ss.mkType(a,'tab.ApiToolbarStateManager',function(e,gv){this.$4=new tab.DisposableHolder;this.$5=null;this.$3=null;this.$1$1=null;if(ss.isNullOrUndefined(e)){throw new ss.ArgumentNullException('responder')}if(ss.isNullOrUndefined(gv)){throw new ss.ArgumentNullException('toolbarViewModel')}this.$5=gv;this.$3=e;this.$1();this.$5.add_newToolbar(ss.mkdel(this,this.$1));this.$4.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newToolbar(ss.mkdel(this,this.$1))})))},{get_toolbarState:function(){return this.$1$1},set_toolbarState:function(e){this.$1$1=e},dispose:function(){this.$4.dispose()},$2:function(){var e=new tab._ApiCommand('api.ToolbarStateChangedEvent',tab._ApiCommand.generateNextCommandId(),null,null);var gv=g.$0('api.success',this.get_toolbarState());this.$3.sendResponse(e,gv);this.$3.sendEventNotification('api.ToolbarStateChangedEvent',null,JSON.stringify(this.get_toolbarState()))},$0:function(e,gv){var gw=e[gv];return ss.isValue(gw)&&fA.shouldShowButton(gw,this.$5)},$1:function(){if(ss.isNullOrUndefined(this.$5.get_vizCommandItems())||ss.isNullOrUndefined(this.$5.get_nonVizCommandItems())){return}var e={};B.$0(e,this.$5.get_vizCommandItems());B.$0(e,this.$5.get_nonVizCommandItems());var gv=s.newToolbarStatePM(B.$1(e,'undo'),B.$1(e,'redo'),B.$1(e,'revert'),!B.$2(e,'toggle-updates','Pause'),B.$1(e,'refresh'),this.$0(e,'customviews'),tsConfig.is_metrics_enabled,this.$0(e,'alert'),this.$0(e,'subscribe'),this.$0(e,'share'),this.$0(e,'download'),ss.isValue(this.$5.get_deviceLayoutItem()));this.set_toolbarState(gv);this.$2()}},{$1:function(e,gv){var gw=e[gv];return ss.isValue(gw)&&gw.get_enabled()},$2:function(e,gv,gw){var gx=e[gv];if(ss.isNullOrUndefined(gx)){return false}var gy=new tab.CommandsPresModelWrapper.$ctor1(gx.get_commands());var gz=gy.get_commandItems();for(var gA=0;gA<gz.length;gA++){var gB=gz[gA];var gC=new tab.CommandItemWrapper(gB);if(ss.equals(gC.get_name(),gw)){return gC.get_enabled()}}return false},$0:function(e,gv){var gw=ss.getEnumerator(gv);try{while(gw.moveNext()){var gx=gw.current();var gy=new tab.CommandItemWrapper(gx);e[gy.get_iconRes()]=gy}}finally{gw.dispose()}}});var C=global.tab.ApiUnderlyingDataHandler=ss.mkType(a,'tab.ApiUnderlyingDataHandler',null,null,{processSummaryData:function(e){var gv=e;var gw=C.processDataDictionary(gv,true);return gw},processUnderlyingData:function(e){var gv=e;var gw=C.processDataDictionary(gv,false);return gw},prepareSummaryCommand:function(e,gv){gv['maxRows']=e['api.maxRows'];gv['ignoreAliases']=e['api.ignoreAliases'];gv['ignoreSelection']=e['api.ignoreSelection']},prepareUnderlyingCommand:function(e,gv){C.prepareSummaryCommand(e,gv);gv['includeAllColumns']=e['api.includeAllColumns']},processDataDictionary:function(e,gv){var gw=new tab.DataDictionaryModel(null);gw.update(e.dataDictionary);var gx=e.underlyingDataTableColumns;var gy=C.$1(gx);var gz=C.$0(gw,gx);var gA=s.newUnderlyingDataTablePM(gz,gy,gv,'');return gA},$1:function(e){if(ss.isNullOrUndefined(e)){return[]}var gv=[];for(var gw=0;gw<e.length;gw++){var gx=e[gw];var gy=q.convertUnderlyingDataType(gx.dataType);var gz=s.newUnderlyingDataColumnsPM(gy,gx.fieldCaption,gx.isReferenced,gw);gv.push(gz)}return gv},$0:function(e,gv){if(ss.isNullOrUndefined(gv)||gv.length===0){return[]}var gw=gv[0].formatValIdxs.length;var gx=new Array(gw);for(var gy=0;gy<gw;gy++){gx[gy]=new Array(gv.length)}for(var gz=0;gz<gv.length;gz++){var gA=gv[gz];for(var gB=0;gB<gA.formatValIdxs.length;gB++){var gC=new Object;gC.formattedValue=C.$2(e,gA.formatValIdxs[gB],'cstring');gC.value=C.$2(e,gA.valueIndices[gB],gA.dataType);gC.aliasedValue=gC.formattedValue;gx[gB][gz]=gC}}return gx},$2:function(e,gv,gw){var gx=null;var gy;if(gv>=0){gy=gw}else{gy='cstring';gv=-gv-1}var gz=e.getRawValue(gy,gv);if(ss.isValue(gz)){gx=gz.toString()}return gx}});var C=global.tab.ApiUnderlyingDataHandler=ss.mkType(a,'tab.ApiUnderlyingDataHandler',null,null,{processSummaryData:function(e){var gv=e;var gw=C.$5(gv,true);return gw},$6:function(e){var gv=e;var gw=C.$5(gv,false);return gw},$3:function(e,gv){gv['maxRows']=e['api.maxRows'];gv['ignoreAliases']=e['api.ignoreAliases'];gv['ignoreSelection']=e['api.ignoreSelection']},$4:function(e,gv){C.$3(e,gv);gv['includeAllColumns']=e['api.includeAllColumns']},$5:function(e,gv){var gw=new tab.DataDictionaryModel(null);gw.update(e.dataDictionary);var gx=e.underlyingDataTableColumns;var gy=C.$1(gx);var gz=C.$0(gw,gx);var gA=s.newUnderlyingDataTablePM(gz,gy,gv,'');return gA},$1:function(e){if(ss.isNullOrUndefined(e)){return[]}var gv=[];for(var gw=0;gw<e.length;gw++){var gx=e[gw];var gy=q.convertUnderlyingDataType(gx.dataType);var gz=s.newUnderlyingDataColumnsPM(gy,gx.fieldCaption,gx.isReferenced,gw);gv.push(gz)}return gv},$0:function(e,gv){if(ss.isNullOrUndefined(gv)||gv.length===0){return[]}var gw=gv[0].formatValIdxs.length;var gx=new Array(gw);for(var gy=0;gy<gw;gy++){gx[gy]=new Array(gv.length)}for(var gz=0;gz<gv.length;gz++){var gA=gv[gz];for(var gB=0;gB<gA.formatValIdxs.length;gB++){var gC=new Object;gC.formattedValue=C.$2(e,gA.formatValIdxs[gB],'cstring');gC.value=C.$2(e,gA.valueIndices[gB],gA.dataType);gC.aliasedValue=gC.formattedValue;gx[gB][gz]=gC}}return gx},$2:function(e,gv,gw){var gx=null;var gy;if(gv>=0){gy=gw}else{gy='cstring';gv=-gv-1}var gz=e.getRawValue(gy,gv);if(ss.isValue(gz)){gx=gz.toString()}return gx}});var D=global.tab.AppBannerViewModel=ss.mkType(a,'tab.AppBannerViewModel',function(){spiff.BaseViewModel.call(this);this.$6()},{shouldShowAppBanner:function(){return tsConfig.showAppBanner&&this.$1()&&!this.$3()},$1:function(){return tsConfig.is_mobile&&!tsConfig.is_mobile_app&&!tsConfig.isPublic&&!tsConfig.is_authoring&&!tabBootstrap.EmbedAndViewportCalculator.get_isEmbeddedInsideAnotherPage()&&!tab.NaturalLanguageUtil.isNlpView()},$3:function(){var e=tab.CookieHelper.getValueForCookie('hideAppBanner');return tab.MiscUtil.toBoolean(e,false)},createHideAppBannerCookie:function(){var e=new Date;e.setTime(e.getTime()+tab.DateUtil.oneWeek);tab.CookieHelper.setCookie('hideAppBanner',true.toString(),'/',e)},redirectToApp:function(){var e=tab.WindowHelper.getLocation(window.self);var gv=ss.replaceAllString(e.href,e.protocol,'tableau:');this.$5(gv);window.setTimeout(ss.mkdel(this,function(){this.$4()}),1000)},$4:function(){if(BrowserSupport.BrowserSupport.IsAndroid()){this.$5('https://play.google.com/store/apps/details?id=com.Tableau.TableauApp')}else if(BrowserSupport.BrowserSupport.IsIos()){if(window.confirm(tab.Strings.RedirectToApp)){this.$5('https://itunes.apple.com/app/tableau-mobile/id434633927')}}},$6:function(){if(tsConfig.is_on_prem_deep_linking_enabled&&this.$1()&&!BrowserSupport.BrowserSupport.IsFF()&&!this.$2()){var e=tab.WindowHelper.getLocation(window.self);var gv=e.href;var gw=ss.replaceAllString(gv,e.protocol,'tableau:');var gx=this.$0(gv);window.setTimeout(ss.mkdel(this,function(){this.$5(gx)}),1);this.$5(gw)}},$2:function(){var e=new URL(tab.WindowHelper.getLocation(window.self).href);var gv=new URLSearchParams(e.search);return gv.has(':deepLinkingDisabled')},$0:function(e){var gv=new URL(e);var gw=new URLSearchParams(gv.search);gw.set(':deepLinkingDisabled','y');gv.search=gw.toString();return gv.href},$5:function(e){tab.WindowHelper.locationReplace(window.self,e)}});var E=global.tab.Application=ss.mkType(a,'tab.Application',function(){this.$s=null;this.$r=null;this.$p=null;this.$t=null;this.$q=new tab.DisposableHolder;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=null;var e=null;e=ss.mkdel(this,function(gv,gw){E.remove_starting(e);this.$j();this.$k().$l();var gx=new tab.LayoutSession(null,E.get_commonDialogProvider(),E.get_commonBannerProvider());var gy=tab.CommandController.ensureCreated(gx,E.get_commonDialogProvider(),new V(null,null,null,false));gy.setBrowserViewportFunc(P.getViewport);gy.add_newLayoutId(ss.mkdel(this,this.$6));gy.add_tabChangeCompleted(ss.mkdel(this,this.$8));E.add_onTabSelect(ss.mkdel(this,this.$3));gy.add_destroyView(ss.mkdel(this,this.$2));gy.add_intermediateUpdate(ss.mkdel(this,this.$m));gy.add_switchingViz(ss.mkdel(this,this.$7));this.$q.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){gy.remove_newLayoutId(ss.mkdel(this,this.$6));gy.remove_tabChangeCompleted(ss.mkdel(this,this.$8));E.remove_onTabSelect(ss.mkdel(this,this.$3));gy.remove_destroyView(ss.mkdel(this,this.$2));gy.remove_intermediateUpdate(ss.mkdel(this,this.$m));gy.remove_switchingViz(ss.mkdel(this,this.$7))})));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.$5));var gz=E.$0(false,gx);this.set_client(gz);this.$s=gz;this.get_client().startup();this.$c(this.get_client(),this.$s);if(BrowserSupport.BrowserSupport.IsIE()){this.$0()}this.$r=new dJ;spiff.SpiffBrowserViewport.getSpiffBrowserViewportFunc=function(gA){P.getViewport(function(gB){var gC=new spiff.SpiffBrowserViewport(gB.get_dimensions(),function(gD){return gB.getVisibleRoom(gD,0)});gA(gC)})}});E.add_starting(e)},{add_clientChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_clientChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},get_tabHeight:function(){var e=$(this.get_tabbedNavigation().get_widgetDomNode());return e.outerHeight(true)},get_tabbedNavigation:function(){return this.$1$5},set_tabbedNavigation:function(e){this.$1$5=e},get_rightAreaDrawerViewModel:function(){return this.$1$6},set_rightAreaDrawerViewModel:function(e){this.$1$6=e},get_rightAreaDrawerView:function(){return this.$1$7},set_rightAreaDrawerView:function(e){this.$1$7=e},get_client:function(){return this.$1$8},set_client:function(e){this.$1$8=e},get_apiEventHandler:function(){return this.$1$9},set_apiEventHandler:function(e){this.$1$9=e},initRightAreaDrawer:function(){if(ss.isValue(this.get_rightAreaDrawerViewModel())){return}this.set_rightAreaDrawerViewModel(new eG(this.$p.get_rightAreaDrawer()));this.$b(this.get_rightAreaDrawerViewModel())},processUrlParamsToShowRightAreaDrawer:function(){if(ss.isNullOrUndefined(this.get_rightAreaDrawerViewModel())){return}var e=tab.VizUriModel.createForCurrentWindowLocation(null);if(tsConfig.allow_commenting&&e.get_showComments()&&tsConfig.commentingEnabled){this.get_rightAreaDrawerViewModel().toggleCommenting(fG.focusToolbar)}else if(tab.FeatureFlags.isEnabled('AlertSidePanel')&&tsConfig.allow_data_alert&&(!ss.isNullOrEmptyString(e.get_showDataAlertId())||e.get_showDataAlerts())){this.get_rightAreaDrawerViewModel().toggleDataAlertsPanel(fG.focusToolbar)}},$b:function(e){var gv=function(){E.get_instance().get_client().doResize()};e.add_open(gv);e.add_close(gv);this.$q.add$1(new tab.CallOnDispose(function(){e.remove_open(gv);e.remove_close(gv);tab.MiscUtil.dispose$1(e)}));this.set_rightAreaDrawerView(tab.ObjectRegistry.newView(eF).call(null,[e]));this.$1(this.get_rightAreaDrawerView())},initTabbedNavigation:function(){if(!tab.ApplicationModel.get_instance().get_showTabs()){return}var e=$('.tabbedNavigationWrapper');if(e.length>0){if(ss.isValue(this.get_tabbedNavigation())){this.get_tabbedNavigation().destroyShim()}tab.ModuleManager.load$1(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gv){var gw=$("<div dojoAttachPoint='tabbed_navigation' class='tabbedNavigation'></div>").get(0);gw.id='tabs';e.append(gw);this.set_tabbedNavigation(gv.createTabbedNavigation({},gw));this.get_tabbedNavigation().startupShim()}))}},dispose:function(){if(!ss.isValue(E.$6)){return}if(ss.isValue(this.get_apiEventHandler())){this.get_apiEventHandler().dispose();this.set_apiEventHandler(null)}this.$2();this.$q.dispose();this.$g();this.$r.dispose();if(ss.isValue(this.get_tabbedNavigation())){this.get_tabbedNavigation().destroyShim();this.set_tabbedNavigation(null)}E.$6=null},$k:function(){this.$p=tab.ApplicationModel.get_instance();this.$p.add_newWorkbook(ss.mkdel(this,this.$f));this.$q.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$p.remove_newWorkbook(ss.mkdel(this,this.$f));this.$p=null})));return this},$l:function(){this.$f(this.$p.get_workbook());this.$q.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f(null)})));return this},$f:function(e){if(ss.isValue(e)){e.add_dashboardDeleted(ss.mkdel(this,this.$o));e.add_uiModeChanged(ss.mkdel(this,this.$9))}if(ss.isValue(this.$t)){this.$t.remove_dashboardDeleted(ss.mkdel(this,this.$o));this.$t.remove_uiModeChanged(ss.mkdel(this,this.$9))}this.$t=e},$1:function(e){if(ss.isValue(e)){e.element.insertAfter(this.get_client().get_domNode())}},$o:function(e){this.$2()},$2:function(){if(ss.isNullOrUndefined(this.get_client())){return}this.get_client().destroyRecursive();this.set_client(null);this.$s=null},$3:function(e){tab.SheetClientCommands.switchSheets(e)},$g:function(){if(!E.get_isHostedInApiContext()){return}if(ss.isValue(this.get_apiEventHandler())){var e=window.removeEventListener;if(ss.isValue(e)){e('message',ss.mkdel(this,this.$4),true)}else{var gv=ss.mkdel(this,this.$4);window.self.detachEvent('onmessage',gv)}this.set_apiEventHandler(null)}},$c:function(e,gv){if(!E.get_isHostedInApiContext()){return}this.set_apiEventHandler(new w(e,gv,tabBootstrap.ViewerBootstrap.get_instance().apiResponder));var gw=window.addEventListener;if(ss.isValue(gw)){gw('message',ss.mkdel(this,this.$4),true)}else{var gx=ss.mkdel(this,this.$4);window.self.attachEvent('onmessage',gx)}},$0:function(){if(!E.get_isHostedInApiContext()){return}if('addEventListener'in window.self){window.addEventListener('unload',ss.mkdel(this,this.$e),true)}else{window.self.attachEvent('onunload',ss.mkdel(this,this.$e))}},$e:function(e){this.$g()},$5:function(){this.$m();this.$a();this.processUrlParamsToShowRightAreaDrawer();tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.$5))},$7:function(){E.$6.dispose();if(ss.isValue(E.$5)){E.$5.dispose()}E.$7=false},$j:function(){var e=function(gx){var gy=[];for(var gz=0;gz<gx.length;gz++){var gA=gx[gz];gy.push(tab.DownloadableFontPropertiesExtensions.toDownloadableFontProperties(gA,''))}eO.get_instance().notifyDownloadableFont(gy)};tab.FontNotificationUtil.add_fontPropertiesIdentified(e);tab.WorldUpdateInterceptor.get().add_onCommandResponse(function(gx){var gy=!tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(gx.get_applicationPresModel())&&gx.get_applicationPresModel().renderMode==='render-mode-client';var gz=ss.referenceEquals(gx.get_worldUpdateCommand().commandName,{ns:'tabdoc',cmd:'execute-expression'}.cmd);if(ss.referenceEquals(gx.get_worldUpdateCommand().commandName,{ns:'tabdoc',cmd:'set-active-story-point'}.cmd)||ss.referenceEquals(gx.get_worldUpdateCommand().commandName,{ns:'tabsrv',cmd:'render-tooltip-server'}.cmd)||gx.get_sheetChanged()||gx.get_rebuildTheWorld()||gy||gz){E.$2();if(gy||gz){var gA=null;gA=function(){tab.CommandController.get().remove_modelsUpdated(gA);E.handleAllFontsFound()};tab.CommandController.get().add_modelsUpdated(gA)}}});tab.FontNotificationUtil.add_allFontsFound(E.handleAllFontsFound);if(tab.ProgressiveLoader.get_progressiveLoadEnabled()){var gv=null;gv=function(){tab.WorldUpdateInterceptor.get().remove_onProgressiveLoadComplete(gv);E.handleAllFontsFound()};tab.WorldUpdateInterceptor.get().add_onProgressiveLoadComplete(gv)}var gw=function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){eO.get_instance().downloadFonts()}};tab.StartupUtils.callAfterModelsInitialized(function(){tab.CommandController.get().add_modelsUpdated(gw)});tab.StartupUtils.callOnceAfterInitialBootstrap(function(){if(!tab.ProgressiveLoader.get_progressiveLoadEnabled()){E.handleAllFontsFound()}tab.CommandController.get().remove_modelsUpdated(gw)});E.$2()},$a:function(){tabBootstrap.MetricsController.initSessionInfo();var e=[];if(tab.MetricsLogger.isLoggerEnabled()){e.push(new tab.MetricsLogger)}if(tab.OnlineAnalyticsMetricsLogger.isLoggerSupported()){e.push(new tab.OnlineAnalyticsMetricsLogger)}if(tab.NewRelicMetricsLogger.isLoggerSupported()){e.push(new tab.NewRelicMetricsLogger)}tabBootstrap.MetricsController.setEventLoggers(e)},$4:function(e){if(typeof(ss.getType('ss'))==='undefined'){return}if(ss.isValue(this.get_apiEventHandler())){this.get_apiEventHandler().handleEvent(e)}},$6:function(e){this.$n(e);var gv=tab.CommandController.get().legacySession;this.$2();tab.ApplicationModel.get_instance().get_shapeManager().clearShapeStampCache();tabBootstrap.MetricsController.initSessionInfo();var gw=E.$0(true,gv);this.set_client(gw);this.$s=gw;this.get_client().startup();if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}this.$m();this.$h(e)},$8:function(e){this.$m();E.handleAllFontsFound()},$m:function(){if(ss.isValue(this.get_apiEventHandler())){this.get_apiEventHandler().updateClients(this.get_client(),this.$s)}},$h:function(e){if(tsConfig.is_desktop){return}if(tabBootstrap.EmbedAndViewportCalculator.get_isEmbeddedInsideAnotherPage()){return}if(tab.NaturalLanguageUtil.isNlpView()){return}if(tsConfig.is_authoring){this.$i(e.repositoryUrl,e.sheetName)}else{this.replaceWindowLocationForTabChangeWhileViewing(e.repositoryUrl)}},$i:function(e,gv){var gw=tab.VizUriModel.createForCurrentWindowLocation(null);if(gw.get_isAuthorNewWorkbookUri()){return}if(this.$d(e)){var gx=tab.VizUriModel.createForAuthoringPublishedSheet(e);gx.replaceState(null)}else if(tab.MiscUtil.isNullOrEmpty$1(e)){var gy=tab.VizUriModel.createForAuthoringUnpublishedSheet(tsConfig.origin_repository_url,gv);gy.replaceState(null)}},replaceWindowLocationForTabChangeWhileViewing:function(e){if(this.$d(e)){var gv=tab.VizUriModel.createForViewingSheet(e);gv.replaceState(null)}else{}},$d:function(e){return!tab.MiscUtil.isNullOrEmpty$1(e)&&!ss.startsWithString(e,'ds:')},$n:function(e){tsConfig.current_sheet_name=e.sheetName;tsConfig.current_sheet_type=e.sheetType;tsConfig.current_view_id=e.viewId;if(e.isCurrentCustViewIdValid){tsConfig.current_custom_view_id=e.currentCustomViewId}else{tsConfig.current_custom_view_id=null}tsConfig.layoutid=e.layoutId;tsConfig.embeddedTitle=e.embeddedTitle;tsConfig.blogURI=e.blogLink;tsConfig.requestURI=e.shareLink;if(!ss.isNullOrEmptyString(tsConfig.downloadURI)){tsConfig.downloadURI=e.downloadLink}else{tsConfig.downloadURI=''}tsConfig.staticImage=e.staticImage;tsConfig.guid=e.guid;var gv=e.repositoryUrl;tsConfig.repositoryUrl=(this.$d(gv)?gv:'')},$9:function(){if(tab.ApplicationModel.get_instance().get_workbook().get_uiMode()==='data-tab'){EventUtils.GlobalUIEvents.FireDismissTemporaryElements()}}},{add_starting:function(e){E.$1$1=ss.delegateCombine(E.$1$1,e)},remove_starting:function(e){E.$1$1=ss.delegateRemove(E.$1$1,e)},add_started:function(e){E.$1$2=ss.delegateCombine(E.$1$2,e)},remove_started:function(e){E.$1$2=ss.delegateRemove(E.$1$2,e)},add_onTabSelect:function(e){E.$1$3=ss.delegateCombine(E.$1$3,e)},remove_onTabSelect:function(e){E.$1$3=ss.delegateRemove(E.$1$3,e)},get_instance:function(){if(ss.isNullOrUndefined(E.$6)){E.$6=new E}return E.$6},get_isHostedInApiContext:function(){return!ss.isNullOrEmptyString(tsConfig.apiID)||tsConfig.is_mobile_app},get_commonDialogProvider:function(){return E.$5||(E.$5=new bd)},get_commonBannerProvider:function(){return E.$4||(E.$4=new bc)},startup:function(){tabBootstrap.MetricsController.logMetricsEvent('APPSTR'.toString(),2,null);if(ss.isValue(E.$7)&&E.$7){throw new ss.Exception('Application.Startup() can only be called once')}var e=E.get_instance();if(!ss.staticEquals(E.$1$1,null)){E.$1$1(e,ss.EventArgs.Empty)}if(!ss.staticEquals(E.$1$2,null)){E.$1$2(e,ss.EventArgs.Empty)}EventUtils.DragDropManager.init();SharedWidgets.setConfig(E.$1());E.$7=true},$1:function(){var e={suppressClickBustingClassName:spiff.ClickBuster.suppressClickBustingClass};return e},$0:function(e,gv){var gw=ss.getType((tsConfig.is_mobile?'tab.ApplicationViewModelMobile':'tab.ApplicationViewModelWeb'));return new gw(e,gv)},handleAllFontsFound:function(){eO.get_instance().downloadFonts();eO.get_instance().allFontsFound()},$2:function(){bf.get_instance().reset(1);bf.get_instance().addCompletedHandler(1,cM.logUIStabilized);eO.get_instance().initialize(true);var e=tab.ServerFonts.effectiveBentonSans;var gv=tab.ServerFonts.tableauFontNames;eO.get_instance().registerServerLoadedFonts(e);eO.get_instance().registerServerLoadedFonts(gv);eO.get_instance().notifyDownloadableFont(e);if(tsConfig.is_authoring){eO.get_instance().notifyDownloadableFont(gv)}},fireOnTabSelect:function(e){if(!ss.staticEquals(E.$1$3,null)){E.$1$3(e)}}});var F=global.tab.ApplicationSizeCalculator=ss.mkType(a,'tab.ApplicationSizeCalculator',null,null,{calculateApplicationSize:function(){var e=null;var gv=tsConfig.is_mobile&&!tabBootstrap.EmbedAndViewportCalculator.get_isEmbeddedInsideAnotherPage();if(!gv){e=tab.DashboardSizeCalculator.asSizePresModel(tab.DashboardSizeCalculator.get_dashboardViewportSize())}else{var gw=F.calculateClientBounds();e={w:gw.w,h:gw.h}}return e},calculateClientBounds:function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);var gv=tabBootstrap.VizLayoutConstants.get_tabsHeight();var gw={l:0,t:gv,w:e.w,h:e.h};if(!tab.DashboardSizeCalculator.get_toolbarIsBottom()&&!tsConfig.is_authoring){gw.t+=tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()}return gw}});var G=global.tab.ApplicationTemplate=ss.mkType(a,'tab.ApplicationTemplate',function(){this.domNode=null;this.toolbarContainer=null;spiff.Template.call(this,G.$0());this.domNode=this.domRoot;this.toolbarContainer=$(H.toolbarContainerSelector)},null,{$0:function(){return $("<div id='dashboard-viewport'></div>")}});var H=global.tab.ApplicationView=ss.mkType(a,'tab.ApplicationView',function(e){this.$g=null;this.$f=null;this.$d=null;this.$e=null;ss.makeGenericType(spiff.BaseView$1,[J]).call(this,e,new G);spiff.FullscreenUtil.add_fullscreenStateChanged(H.$0);this.disposables.add(function(){spiff.FullscreenUtil.remove_fullscreenStateChanged(H.$0)})},{add_scrolled:function(e){this.get_dom().domNode[0].addEventListener('scroll',e)},remove_scrolled:function(e){this.get_dom().domNode[0].removeEventListener('scroll',e)},get_dom:function(){return this.get_template()},get_containerNode:function(){return(ss.isValue(this.$g)?this.$g.get_containerNode():null)},get_toolbarContainer:function(){return this.get_dom().toolbarContainer},$c:function(){return this.get_viewModel()},get_visibleRect:function(){return{l:this.get_dom().domNode[0].scrollLeft,t:this.get_dom().domNode[0].scrollTop,w:this.get_dom().domNode[0].clientWidth,h:this.get_dom().domNode[0].clientHeight}},onAddedToDom:function(){if(!this.addedToDom){this.$b();this.$a();this.$8();this.$7();this.$9();spiff.FocusManager.initialize();$(document.body).addClass('ff-IFrameSizedToWindow')}spiff.Widget.prototype.onAddedToDom.call(this)},$b:function(){if(tab.DashboardSizeCalculator.get_toolbarIsBottom()){this.get_toolbarContainer().detach().appendTo($(H.vizContainerSelector))}},resizeToolbar:function(){this.$f.forceResizeToolbar()},resizeAppBanner:function(e){if(ss.isValue(this.$d)){this.$d.get_rootElement().width(e.w)}},addDevicePreviewSettings:function(){var e=this.$c().get_devicePreviewViewModel();if(e.get_shouldCutInteraction()){this.$e=new spiff.Glass(null,false);this.$e.show()}if(e.get_shouldScaleDownVizContainer()){var gv=e.get_getDevicePreviewVizContainerCss();$(H.vizContainerSelector).css(gv)}},$7:function(){if(this.$c().get_appBannerViewModel().shouldShowAppBanner()){this.$d=tab.ObjectRegistry.newView(cZ).call(null,[this.$c().get_appBannerViewModel()]);this.$d.get_rootElement().insertBefore(I.selectCenteringContainer()).width(F.calculateClientBounds().w)}},$a:function(){this.$g=tab.ObjectRegistry.newView(go).call(null,[this.$c().get_workbookViewModel()]);this.$g.addToDom(this.get_dom().domNode)},$8:function(){if(ss.isNullOrUndefined(this.$c().get_toolbarViewModel())||!tsConfig.toolbarContainerVis){return}{var e=tabBootstrap.MetricsController.createContext('TBRADD'.toString(),64,null);try{this.$f=tab.ObjectRegistry.newView(fG).call(null,[this.$c().get_toolbarViewModel()]);this.$f.addToDom(this.get_toolbarContainer());this.get_toolbarContainer().height(tabBootstrap.VizLayoutConstants.get_vizToolbarHeight())}finally{if(ss.isValue(e)){e.dispose()}}}},$9:function(){if(ss.isNullOrUndefined(this.$c().get_toolbarViewModel())||ss.isNullOrUndefined(this.$c().get_toolbarViewModel().get_dialogHostViewModel())){return}var e=this.$c().get_toolbarViewModel().get_dialogHostViewModel();var gv=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[cf,ce,Object])).call(null,[e]);gv.addToDom(this.get_toolbarContainer());gv.addClass('tab-toolbar-dialoghost')},appendToDom:function(e){e.addToDom(this.get_dom().domNode)},convertPointFromPageToDashboardCoords:function(e){var gv=tab.DomUtil.toPoint(tab.DomUtil.getPageOffset$1(this.get_dom().domNode));var gw=tab.PointUtil.subtract(e,gv);var gx={x:this.get_dom().domNode[0].scrollLeft,y:this.get_dom().domNode[0].scrollTop};var gy=tab.PointUtil.add(gw,gx);return gy},dispose:function(){if(ss.isValue(this.$e)){this.$e.dispose()}ss.makeGenericType(spiff.BaseView$1,[J]).prototype.dispose.call(this)}},{$0:function(){if(tsConfig.isPublic){if(spiff.FullscreenUtil.get_inFullscreenMode()){$(H.vizContainerSelector).css({width:'',height:''})}else{var e=tabBootstrap.ViewerBootstrap.get_instance().getVizClientContainerSize(tsConfig.current_sheet_type);$(H.vizContainerSelector).css({width:e.w+'px',height:e.h+'px'})}}var gv=E.get_instance().get_tabbedNavigation();if(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()&&ss.isValue(gv)){gv.resizeShim()}}});var I=global.tab.ApplicationViewModel=ss.mkType(a,'tab.ApplicationViewModel',function(e,gv){this._connections=[];this.skipInit=false;this.$z=null;this.$u=false;this.$y=null;this.$x=null;this.$B=null;this.$t=null;this.$s=null;this.$v=false;this.$w=false;this.$A=0;this.$C=null;this.$2$2=null;spiff.Widget.call(this,$(null));this.$4(gv);this.skipInit=e;var gw=tabBootstrap.ViewerBootstrap.get_instance();if(ss.isNullOrUndefined(gw)){throw new ss.Exception('tabBootstrap.ViewerBootstrap is undefined')}if(gw.get_hasBootstrapCompleted()){tab.XhrUtil.set_currentTabName(tsConfig.current_sheet_name)}tab.XhrUtil.guid=tsConfig.guid;tab.XhrUtil.parentID=tsConfig.parentID;this.$B=new fW(this);this.enableTextSelection()},{get_flipboardNavigatorViewModel:function(){if(ss.isValue(this.$t)&&ss.isValue(this.$t.get_dashboardViewModel())){return this.$t.get_dashboardViewModel().get_flipboardNavigatorViewModel()}return null},get_hasContainedSheet:function(){return ss.isValue(this.get_containedSheetZoneId())},get_containedSheetName:function(){var e=this.$p();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)){return null}return e.get_dashboardViewModel().dashboardModel.get_sheetName()},get_containedSheetZoneId:function(){var e=this.$p();if(ss.isNullOrUndefined(e)||e.get_flipboardModel()===null){return null}return e.get_flipboardModel().get_zoneId()},get_containedSheetType:function(){var e=this.$p();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_flipboardModel())||ss.isNullOrUndefined(e.get_flipboardModel().get_storyPointModel())){return'worksheet'}return(e.get_flipboardModel().get_storyPointModel().get_isBackingSheetDashboard()?'dashboard':'worksheet')},get_containedDashboardZones:function(){var e=this.$p();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel.pm)){return null}return e.get_dashboardViewModel().dashboardModel.pm.zones},get_autoUpdate:function(){return tab.ApplicationModel.get_instance().get_autoUpdate()},set_autoUpdate:function(e){tab.ApplicationModel.get_instance().set_autoUpdate(e)},get_isDashboard:function(){return this.$n().get_isDashboard()},$r:function(){return tabBootstrap.VizLayoutConstants.get_shouldShowTabs()},get_vizSize:function(){return tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize()},get_session:function(){return this.$2$2},$4:function(e){this.$2$2=e},get_applicationPresModel:function(){return tab.ApplicationModel.get_instance().get_appPresModel()},get_viewControllers:function(){var e=this.$m();if(ss.isValue(e)){return e.viewControllers}return[]},get_toolbarDisplayed:function(){return tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed},set_toolbarDisplayed:function(e){tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed=e;if(ss.isValue(this.get_toolbarContainer())){this.get_toolbarContainer().toggle(e)}},get_invalid:function(){return tab.ApplicationModel.get_instance().get_invalid()},set_invalid:function(e){tab.ApplicationModel.get_instance().set_invalid(e)},get_skipInit:function(){return this.skipInit},get_toolbarCommands:function(){return this.$B},get_customViewsViewModel:function(){if(ss.isValue(this.get_toolbarViewModel())){return this.get_toolbarViewModel().get_customViewsViewModel()}else{return null}},get_toolbarViewModel:function(){if(ss.isValue(this.$t)){return this.$t.get_toolbarViewModel()}else{return null}},get_deviceLayoutViewModel:function(){if(ss.isValue(this.$t)){return this.$t.get_deviceLayoutViewModel()}else{return null}},$q:function(){return tab.Logger.getLoggerWithName(ss.getTypeName(I)+tsConfig.layoutid)},$p:function(){if(ss.isValue(this.$t)&&ss.isValue(this.$t.get_dashboardViewModel())){return this.$t.get_dashboardViewModel().get_flipboardViewModel()}return null},get_workbookViewModel:function(){return(ss.isValue(this.$t)?this.$t.get_workbookViewModel():null)},$n:function(){if(ss.isValue(this.$t)){return this.$t.get_dashboardViewModel()}return null},$m:function(){if(ss.isValue(this.$t)){return this.$t.get_contentDashboardViewModel()}return null},$o:function(){return(ss.isValue(this.$t)?this.$t.get_devicePreviewViewModel():null)},get_domNode:function(){return this.$s.get_dom().domNode},get_toolbarContainer:function(){return this.$s.get_toolbarContainer()},get_vizClientContainerSize:function(){var e=document.getElementById('viz-client-container');return{w:e.clientWidth,h:e.clientHeight}},get_dashboardViewport:function(){return this.$s},startup:function(){this.$t=new J(tab.ApplicationModel.get_instance());this.$s=tab.ObjectRegistry.newView(H).call(null,[this.$t]);this.$t.add_applicationUpdate(ss.mkdel(this,this.$g));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.$t.remove_applicationUpdate(ss.mkdel(this,this.$g))})));this.setupDomAndEvents();if(this.$t.get_shouldShowRightAreaDrawer()){E.get_instance().initRightAreaDrawer()}this.resize(false)},destroyRecursive:function(){this.destroy()},destroy:function(){this.$z=tab.MiscUtil.clearTimeout(this.$z);for(var e=0;e<this._connections.length;e++){var gv=this._connections[e];gv.dispose()}ss.clear(this._connections);this.$t=tab.MiscUtil.dispose$1(this.$t);$('body').off(this.createNamespacedEventName('mouseenter')).off(this.createNamespacedEventName('mouseleave'));this.$s=tab.MiscUtil.dispose$1(this.$s);this.dispose()},doResize:function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){this.$A++}var e=0;if(this.$u){e=(tsConfig.is_desktop?100:1000)}this.$z=tab.MiscUtil.clearTimeout(this.$z);this.$z=window.setTimeout(ss.mkdel(this,this.$h),e)},resize:function(e){if(!e&&ss.isValue(this.$y)){var gv=this.$7();if(gv.w===this.$y.w&&gv.h===this.$y.h){this.$w=false;return}if(this.$w){this.$y=gv;this.$w=false;return}this.$w=true}else{this.$w=false}this.doResize()},$9:function(){var e=tab.CommandController.get();e.resetInvalidationHandlers();e.add_onUrlActionsResponse(tab.ActionUtils.launchActionUrls);e.add_onInvalidation(ss.mkdel(this,this.$f));e.add_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$d));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){e.remove_onUrlActionsResponse(tab.ActionUtils.launchActionUrls);e.remove_onInvalidation(ss.mkdel(this,this.$f));e.remove_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$d))})));tab.BaseSession.subscribeToSessionRecoveryAttempt(eP.onSessionRecoveryAttempt)},$a:function(e){var gv=false;if(e.clientX>=e.target.clientWidth||e.clientY>=e.target.clientHeight){gv=true}return gv},onWhitespaceClick:function(e){if(tsConfig.is_authoring&&tsConfig.current_sheet_type!=='worksheet'){if(this.shouldWhitespaceClickClearActiveZone(e)){tab.SelectionClientCommands.clearActiveZone()}return}if(this.$j(e)){var gv=tab.ModelUtils.findActiveOrDefaultVisual(null);if(ss.isValue(gv)){tab.SelectionClientCommands.clearAllSelections(gv.get_visualId())}e.preventDefault()}},shouldWhitespaceClickClearActiveZone:function(e){var gv=this.$s.get_containerNode();var gw=(ss.isValue(gv)?gv.get(0):null);return ss.referenceEquals(e.target,this.get_domNode().get(0))&&!this.$a(e)||bx.isDashboardNode(e.target)||ss.referenceEquals(e.target,gw)&&ss.isValue(e.target)||ss.referenceEquals(e.target,go.findDashboardContainer().get(0))},$j:function(e){if(ss.isNullOrUndefined(e.target)){return false}return ss.referenceEquals(e.target,this.get_domNode().get(0))&&!this.$a(e)||bx.isDashboardNode(e.target)||$(e.target).hasClass('wcLayoutContainer')},setupDomAndEvents:function(){$('html').attr('lang',tsConfig.language).toggleClass('ie',BrowserSupport.BrowserSupport.IsIE());var e=$(H.applicationContainerSelector);e.append(this.get_domNode());var gv=new n;this.get_domNode().on(this.createNamespacedEventName('contextmenu'),ss.mkdel(this,this.$e)).on(this.createNamespacedEventName('mousedown'),ss.mkdel(gv,gv.$0)).on(this.createNamespacedEventName('mouseup'),ss.mkdel(gv,gv.$1));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_domNode().off(this.createNamespacedEventName('contextmenu')).off(this.createNamespacedEventName('mousedown')).off(this.createNamespacedEventName('mouseup'))})));gv.$2(ss.mkdel(this,this.onWhitespaceClick));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){gv.$3(ss.mkdel(this,this.onWhitespaceClick))})));this.$s.onAddedToDom();tab.LegacySessionWaitHandler.get_waitHandler().unlock();this.get_toolbarContainer().toggle(this.get_toolbarDisplayed());this.$l();tab.AckbarEventsHelper.get().add_doLaunchAuthoring(ss.mkdel(this,this.$5));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.AckbarEventsHelper.get().remove_doLaunchAuthoring(ss.mkdel(this,this.$5))})));this.$9()},$5:function(){tab.ToolbarServerCommands.launchEditing()},$8:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$g:function(){if(ss.isNullOrUndefined(this.$n())){return}tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,this.$l));if(!this.get_skipInit()&&!this.$v){tab.LegacySessionWaitHandler.get_waitHandler().onNextHide(ss.mkdel(this,this.$6));this.$i()}this.$v=true;if(!this.$r()){this.layoutToolbar()}this.$s.resizeAppBanner(F.calculateClientBounds());this.$o().set_vizSize(this.get_vizSize());this.$s.addDevicePreviewSettings();this.resize(false)},$l:function(){},$i:function(){if(tsConfig.showLytebox){$('#primaryContent').attr('src',this.$8())}},$e:function(e){var gv=$(e.target);if(gv.filter('input[type=text]').length===0&&gv.filter('textarea').length===0){e.preventDefault();e.stopPropagation()}},$7:function(){var e=null;if(tsConfig.isPublic){e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type)}else{e={w:window.innerWidth,h:window.innerHeight}}return e},$d:function(){E.get_instance().initTabbedNavigation();this.$y=this.$7();if(this.$A>1){this.$k()}},$f:function(e){var gv=e.layoutStatus;this.set_invalid(!ss.isNullOrUndefined(gv.invalidatedLayout)&&gv.invalidatedLayout);if(ss.isValue(gv.vizStateList)&&gv.vizStateList.length>0){var gw=[];for(var gx=0;gx<gv.vizStateList.length;gx++){var gy=gv.vizStateList[gx];if(!ss.contains(gw,gy.sheet)&&gy.vizRegionRectList.length>0){gw.push(gy.sheet)}}var gz=this.get_viewControllers();for(var gA=0;gA<gw.length;gA++){var gB=gw[gA];var gC={$:gB};var gD=_.find(gz,ss.mkdel({name:gC},function(gE){return ss.referenceEquals(gE.get_sheetName(),this.name.$)}));if(ss.isValue(gD)){gD.$0(e)}}}},$h:function(){if(!tab.LegacySessionWaitHandler.get_waitHandler().isBusy()&&(!this.$u||ss.isValue(tsConfig.layoutid))&&ss.isValue(this.$t)){this.$b();return}this.$z=tab.MiscUtil.clearTimeout(this.$z);this.$z=window.setTimeout(ss.mkdel(this,this.$h),100)},$b:function(){this.$y=this.$7();if(tsConfig.isPublic){var e=tabBootstrap.ViewerBootstrap.get_instance().getVizClientContainerSize(tsConfig.current_sheet_type);$(H.vizContainerSelector).css({width:e.w+'px',height:e.h+'px'})}this.$k();tab.CommandController.get().refreshLayout();this.layoutToolbar();var gv=E.get_instance().get_tabbedNavigation();if(this.$r()&&ss.isValue(gv)){if(tsConfig.is_mobile_app){var gw=this.get_vizClientContainerSize().w;gv.get_widgetDomNode().style.width=gw+'px'}gv.resizeShim()}this.$u=true},layoutToolbar:function(){var e=this.get_vizClientContainerSize().w;if(ss.isValue(this.$C)&&this.$C===e){return}this.$C=e;{var gv=tabBootstrap.MetricsController.createContext('TBRLAY'.toString(),64,null);try{if(!tab.ApplicationModel.get_instance().get_showToolbar()){this.get_toolbarContainer().css('visibility','hidden')}else if(tsConfig.toolbarContainerVis){this.get_toolbarContainer().css('visibility','visible');if(tsConfig.is_mobile&&!tsConfig.is_authoring&&!tabBootstrap.EmbedAndViewportCalculator.get_isEmbeddedInsideAnotherPage()){this.$s.resizeToolbar()}}}finally{if(ss.isValue(gv)){gv.dispose()}}}},$k:function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}I.updatePortSize();this.updateApplicationSize()},updateApplicationSize:function(){var e=F.calculateApplicationSize();if(!_.isEqual(this.$x,e)){this.$x=e;if(!ss.staticEquals(I.$2$1,null)){I.$2$1()}}},$c:function(){tabBootstrap.MetricsController.logMetricsEvent('APPINT'.toString(),2,tabBootstrap.ViewerBootstrap.get_instance().get_bootstrapRequestId());var e=tabBootstrap.Utility.sendCommandWithContext('tableau.responsive');if(!e){}},$6:function(){var e=(tab.ProgressiveLoader.get_progressiveLoadEnabled()?150:450);this.$c();var gv=$('#staticImage');var gw=$('#'+'loadingGlassPane');var gx=$('#'+'loadingSpinner');var gy=$('#svg-spinner-container');if(tsConfig.animateTransition){tab.WaitHandler.loadingElementFadeOut(gx,e,function(gz){gz.hide();gy.css('background','rgba(255,255,255,0.6)')});tab.WaitHandler.loadingElementFadeOut(gw,e,function(gz){gz.hide().css('cursor','default')});if(gv.length>0){tab.WaitHandler.loadingElementFadeOut(gv,e,function(gz){gz.hide()})}}else{gx.hide();gv.hide();gw.hide()}}},{add_applicationSizeChanged:function(e){I.$2$1=ss.delegateCombine(I.$2$1,e)},remove_applicationSizeChanged:function(e){I.$2$1=ss.delegateRemove(I.$2$1,e)},selectCenteringContainer:function(){return $('#centeringContainer')},updatePortSize:function(){tab.ApplicationModel.get_instance().get_workbook().withOuterDashboard(function(e){var gv=ec.calculatePortSize();var gw;switch(tsConfig.current_sheet_type){default:case'worksheet':{gw=gv.worksheetPortSize;break}case'dashboard':{gw=gv.dashboardPortSize;break}case'story':{gw=gv.storyPortSize;break}}if(!_.isEqual(e.get_dashboardSize(),gw)){tab.SheetClientCommands.setPortSize(gv.worksheetPortSize,gv.dashboardPortSize,gv.storyPortSize)}})}});var J=global.tab.ApplicationViewModelReal=ss.mkType(a,'tab.ApplicationViewModelReal',function(e){this.$3=null;this.$7=null;this.$2=null;this.$5=null;this.$6=null;this.$4=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));if(ss.isValue(this.$3.get_workbook())){this.handleNewWorkbook(this.$3.get_workbook())}this.$3.add_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate))})));this.$2=new D;this.$5=new cd;this.$4=new cc(this.$3.get_workbook());if(tsConfig.is_metrics_authoring){}if(!tsConfig.is_authoring&&!this.$3.get_isOffline()&&!tab.NaturalLanguageUtil.isNlpView()){var gv=new fH(this.$3.get_toolbar(),this.$4);gv.set_shouldShowCommenting(this.get_shouldShowCommenting());this.$6=gv;if(!tab.FeatureFlags.isEnabled('SkipPostLoadOperations')){tab.StartupUtils.callOnceAfterInitialBootstrap(ss.mkdel(this,this.$1))}}},{add_applicationUpdate:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_applicationUpdate:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_dashboardViewModel:function(){return this.$7.get_dashboardViewModel()},get_contentDashboardViewModel:function(){return this.$7.get_contentDashboardViewModel()},get_workbookViewModel:function(){return this.$7},get_appBannerViewModel:function(){return this.$2},get_toolbarViewModel:function(){return this.$6},get_devicePreviewViewModel:function(){return this.$5},get_deviceLayoutViewModel:function(){return this.$4},get_shouldShowCommenting:function(){var e=!tsConfig.is_authoring&&!tsConfig.is_mobile_app&&tsConfig.commentingEnabled&&tsConfig.allow_commenting&&tsConfig.allow_view_comments;return e},get_shouldShowRightAreaDrawer:function(){return!(tsConfig.is_authoring&&tsConfig.is_mobile)&&!tsConfig.is_mobile_app},$1:function(){if(tsConfig.isPublic||tsConfig.is_deferred_bootstrap){return}tab.CommandController.get().legacySession.performPostLoadOperations(tsConfig.current_sheet_name,function(e){})},dispose:function(){if(ss.isValue(this.$6)){this.$6.dispose()}this.$2.dispose();this.$0();this.$3.remove_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));this.$5.dispose();this.$4.dispose();spiff.BaseViewModel.prototype.dispose.call(this)},handleNewWorkbook:function(e){this.$0();this.$7=new gp(e)},$0:function(){if(ss.isValue(this.$7)){this.$7.dispose();this.$7=null}},handleApplicationUpdate:function(){this.raiseActionEvent(this.$2$1)}});var K=global.tab.BadPasswordAuthPromptOverlayWidget=ss.mkType(a,'tab.BadPasswordAuthPromptOverlayWidget',function(e,gv,gw){this.$2=null;this.$4=null;this.$3=null;L.call(this,e,gw);this.$2=e.RedirectUrl;this.$4=gv.dataSourceConnectionAttemptInfos[0];this.$3=gv},{show:function(){this.createOverlay();var e=new cw;var gv=ss.mkdel(this,function(){this.cleanup(e)});gr.add_zoneBecameValid(gv);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){gr.remove_zoneBecameValid(gv)});var gw=ss.mkdel(this,function(gy){this.onAuthDialogMessage(gy,e)});e.eventHandler=gw;var gx=ss.mkdel(this,function(){this.cleanup(e)});tab.CommandController.add_sheetNameChanged(gx);e.onTabSelectHandle=new tab.CallOnDispose(function(){tab.CommandController.remove_sheetNameChanged(gx)});tab.WindowHelper.addListener(window.self,'message',gw)},createOverlay:function(){var e=$('.dashboardSpacer');var gv=$("<div id='auth-overlay'></div>");if(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()){gv.addClass('authOverlayWithTabsShowing')}if(ss.isValue(this.$4)){tab.DataConnectionUtils.isTableauServerSupportedInReconnectFlow(this.dataSourceConnectionAttemptErrorResponse.ConnectionClass).done(ss.mkdel(this,function(gw){var gx=this.$1();if(gw){ReactDOM.render(React.createElement(fp,gx),gv.get(0))}else{ReactDOM.render(React.createElement(eX,gx),gv.get(0))}}))}else{this.$0(gv)}e.append(gv)},$0:function(e){var gv=document.createElement('iframe');gv.setAttribute('src',this.$2);gv.setAttribute('tb-test-id','dse-frame');e.append(gv)},$1:function(){var e=[];for(var gv=0;gv<this.$4.connectionAttrDisplayNames.length;++gv){e.push([this.$4.connectionAttrDisplayNames[gv],this.$4.connectionAttrDisplayValues[gv]])}var gw={connectionAttemptInfo:this.$3,connectionAttributes:this.$4.exceptionAttrs,connectionDisplayAttributes:Array.prototype.slice.call(e),connectionClass:this.dataSourceConnectionAttemptErrorResponse.ConnectionClass,connectionErrorStage:this.$4.connectionErrorStage,connectionName:this.dataSourceConnectionAttemptErrorResponse.ConnectionName,connectionTypeLabel:this.$4.connectionTypeLabel,dataSourceCaption:this.dataSourceConnectionAttemptErrorResponse.DataSourceCaption,errorType:this.dataSourceConnectionAttemptErrorResponse.ErrorType,onCredentialsAdded:ss.mkdel(this,function(gx){this.cleanup(null);this.onProceed()})};return gw}});var L=global.tab.BaseDataSourceConnectionErrorOverlayWidget=ss.mkType(a,'tab.BaseDataSourceConnectionErrorOverlayWidget',function(e,gv){M.call(this,e,gv,null)},{cleanup:function(e){var gv=document.getElementById('auth-overlay');if(!ss.isNullOrUndefined(gv)){gv.parentElement.removeChild(gv)}if(ss.isValue(e)){if(ss.isValue(e.onTabSelectHandle)){e.onTabSelectHandle.dispose()}tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);if(ss.isValue(e.zoneBecameValidHandler)){e.zoneBecameValidHandler.dispose()}}},dispose:function(){this.cleanup(null)}});var M=global.tab.BaseDataSourceConnectionErrorWidget=ss.mkType(a,'tab.BaseDataSourceConnectionErrorWidget',function(e,gv,gw){this.onProceed=null;this.onCancel=null;this.dataSourceConnectionAttemptErrorResponse=null;this.$1$1=false;this.dataSourceConnectionAttemptErrorResponse=e;this.onProceed=gv;this.onCancel=gw;this.set_submitted(false)},{get_retryWithMessageViewName:function(){return ss.formatString('/{0}/dataSourceGenericErrorView.html',tsConfig.language)},get_submitted:function(){return this.$1$1},set_submitted:function(e){this.$1$1=e},onAuthDialogMessage:function(e,gv){if(ss.isNullOrUndefined(e)){return}var gw=e;var gx=gw.data.toString();if(ss.isNullOrEmptyString(gx)||!ss.equalsT(gx,'tableau.authCompleted')){return}if(!ss.equalsT(BrowserSupport.BrowserSupport.GetOrigin(document.location),gw.origin)){return}this.set_submitted(true);this.cleanup(gv);if(ss.isValue(this.onProceed)){this.onProceed()}},show:null,cleanup:null});var N=global.tab.BaseDisposableDialog=ss.mkType(a,'tab.BaseDisposableDialog',function(){this.parentNode=null},{dispose:function(){if(ss.isValue(this.parentNode)){ReactDOM.unmountComponentAtNode(this.parentNode);$(this.parentNode).remove()}}});var O=global.tab.BaseToolbarButtonComponent$2=ss.mkType(a,'tab.BaseToolbarButtonComponent$2',function(e,gv){var gw=ss.registerGenericClassInstance(O,[e,gv],function(gx,gy,gz){this.$1=null;ss.makeGenericType(spiff.ReactSpiffAdapter$3,[gv,ss.makeGenericType(fx,[e]),Object]).call(this,gx(gy.viewModel),gy,gz);this.$1=gx},{handleWidgetPropertyChanged:function(gx,gy){},updateWidgetState:function(gx){if(!ss.referenceEquals(this.props.viewModel,gx.viewModel)){this.set_widget(tab.MiscUtil.dispose$1(this.get_widget()));this.set_widget(this.$1(gx.viewModel));var gy=$(ReactDOM.findDOMNode(this));if(ss.isValue(gy)){gy.append(this.get_widget().element)}}}},null,function(){return ss.makeGenericType(spiff.ReactSpiffAdapter$3,[gv,ss.makeGenericType(fx,[e]),Object])});return gw});ss.initGenericClass(O,2);var P=global.tab.BrowserViewport=ss.mkType(a,'tab.BrowserViewport',function(e){this.$0=null;this.$0=e},{get_dimensions:function(){return this.$0},translatePositionToViewport:function(e){var gv={x:e.x,y:e.y};P.$0(gv);gv.y-=this.$0.t;gv.x-=this.$0.l;return gv},getVisibleRoom:function(e,gv){var gw=this.translatePositionToViewport(e);var gx=function(gC){return Math.max(0,gC-gv)};var gy=gx(Math.min(this.get_dimensions().w-gw.x,window.pageXOffset+window.innerWidth-e.x));var gz=gx(Math.min(gw.x,e.x));var gA=gx(Math.min(gw.y,e.y));var gB=gx(Math.min(this.get_dimensions().h-gw.y,window.pageYOffset+window.innerHeight-e.y));return{roomAbove:gA,roomBelow:gB,roomLeft:gz,roomRight:gy}},getDocumentViewport:function(e){var gv=this.getVisibleRoom(e,0);return{l:ss.trunc(e.x-gv.roomLeft),t:ss.trunc(e.y-gv.roomAbove),w:ss.trunc(gv.roomLeft+gv.roomRight),h:ss.trunc(gv.roomAbove+gv.roomBelow)}}},{$9:function(){return tab.Logger.lazyGetLogger(P)},$8:function(){var e=window.self.visualViewport;if(ss.isValue(e)){return{l:ss.trunc(e.pageLeft),t:ss.trunc(e.pageTop),w:ss.trunc(e.width),h:ss.trunc(e.height)}}else{var gv=new tab.WindowHelper(window.self);return{l:gv.get_pageXOffset(),t:gv.get_pageYOffset(),w:gv.get_innerWidth(),h:gv.get_innerHeight()}}},getViewport:function(e){tab.Param.verifyValue(e,'callback');if(spiff.FullscreenUtil.get_inFullscreenMode()){e(new P(P.$8()))}else if(P.$b){P.$c.push(e);P.$6()}else{e(new P(P.$8()))}},$0:function(e){if(tabBootstrap.EmbedAndViewportCalculator.get_isEmbeddedInsideAnotherPage()){if(ss.isValue(P.$d)){e.y+=P.$d.y;e.x+=P.$d.x}}else{try{var gv=window.self;while(ss.isValue(gv.frameElement)){var gw=$(gv.frameElement).offset();e.y+=tab.DoubleUtil.roundToInt(gw.top);e.x+=tab.DoubleUtil.roundToInt(gw.left);gv=gv.parent}}catch(gx){var e=ss.Exception.wrap(gx)}}},$3:function(e){if(typeof(ss.getType('ss'))==='undefined'){return}var gv=e.data;if(ss.isNullOrUndefined(gv)||typeof(gv)!=='string'){return}var gw=gv;var gx=tab.NonApiCommand.parse(gw);if(gx.get_name()==='layoutInfoResp'){var gy={l:parseInt(ss.getItem(gx.get_parameters(),0),10),t:parseInt(ss.getItem(gx.get_parameters(),1),10),w:parseInt(ss.getItem(gx.get_parameters(),2),10),h:parseInt(ss.getItem(gx.get_parameters(),3),10)};P.$2(gy)}else if(gx.get_name()==='tableau.enableVisibleRectCommunication'){P.$b=true}else if(gx.get_name()==='vizOffsetResp'){P.$d={x:parseInt(ss.getItem(gx.get_parameters(),0),10),y:parseInt(ss.getItem(gx.get_parameters(),1),10)};P.$b=true}},$2:function(e){var gv=new P(e);if(P.$c.length!==0){var gw=P.$c.shift();gw(gv)}},$6:function(){if(BrowserSupport.BrowserSupport.PostMessage()){var e=new tab.NonApiCommand('layoutInfoReq',[]);window.parent.postMessage(e.serialize(),'*')}else{P.$2(P.$8())}},$5:function(){if(P.$a){if('removeEventListener'in window.self){window.removeEventListener('message',P.$3,true)}else{window.self.detachEvent('onmessage',P.$3)}P.$a=false}},$1:function(){if('addEventListener'in window.self){window.addEventListener('unload',P.$4,true)}else{window.self.attachEvent('onunload',P.$4)}},$4:function(e){P.$5()}});var Q=global.tab.ButtonZoneComponent=ss.mkType(a,'tab.ButtonZoneComponent',function(){React.Component.call(this)},{$9:function(){return this.props.enabledState==='enabled'},$8:function(){return this.props.enabledState==='disabled-no-permissions'},render:function(){var e=ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-button-object',title:this.props.tooltipText,'aria-label':this.props.tooltipText,style:this.$4(),onMouseEnter:ss.mkdel(this,function(gv){this.props.hoverActivated()}),onMouseLeave:ss.mkdel(this,function(gv){this.props.hoverDeactivated()}),onDoubleClick:ss.mkdel(this,this.$5),'data-test-id':'tab-button-object'},(!this.$9()?ss.mkdel(this,this.$e)():null),this.$d())});return spiff.InteractAsButtonWrapperComponent.create({handleClickOnly:ss.mkdel(this,this.$7),handleEnterSpaceOnly:ss.mkdel(this,this.$6),disabled:false,buttonContent:e})},$4:function(){var e={width:this.props.contentWidth,height:this.props.contentHeight};this.$1(e);return e},$1:function(e){this.$2(e);this.$0(e);e.boxSizing='border-box'},$2:function(e){var gv='#808080';e.borderWidth=this.props.border.width+'px';e.borderStyle=tab.BorderDefinition.borderStyleToCss(this.props.border.style);e.borderColor=(this.$9()?this.props.border.color:gv);if(this.props.buttonType==='text'&&this.props.hoverActive&&this.$9()){this.$3(e)}},$3:function(e){var gv=(this.props.border.get_hasColor()?tab.ColorModel.fromColorCode(this.props.border.color):tab.ColorModel.fromColorCode(this.props.backgroundColor));var gw=(gv.isLuminanceAboveThreshold(0.200000002980232)?Q.textButtonHoverOverlayColorDark:Q.textButtonHoverOverlayColorLight);var gx=tab.ColorModel.alphaBlend(gw,gv);e.borderColor=gx.toString();e.borderWidth=(this.props.border.get_hasWidth()?this.props.border.width:Q.defaultHoverBorderWidth);e.borderStyle=tab.BorderDefinition.borderStyleToCss((this.props.border.get_hasStyle()?this.props.border.style:'bs-solid'))},$0:function(e){var gv='#e5e5e5';e.backgroundColor=(this.$9()?this.props.backgroundColor:gv)},$e:function(){return spiff.DOMElements.div({className:'tab-button-zone-disabled-overlay',key:'disabledButtonOverlay'})},$5:function(e){if(tsConfig.is_authoring&&e.button===0&&!e.altKey&&!tab.ApplicationModel.get_instance().get_workbook().get_isCurrentSheetStoryboard()){this.$b('DoubleClick');this.props.handleAuthoringDoubleClick()}},$7:function(e){var gv=e.altKey||!tsConfig.is_authoring;if(this.$9()&&gv){var gw=(e.altKey?'AltClick':'SingleClick');this.$a(gw);this.props.buttonClickAction()}else if(gv&&this.$8()){var gx=(e.altKey?'AltClick':'SingleClick');this.$c(gx);this.props.handlePermissionsError()}},$6:function(){if(this.$9()){this.$a('EnterSpaceKey');this.props.buttonClickAction()}else if(this.$8()){this.$c('EnterSpaceKey');this.props.handlePermissionsError()}},$a:function(e){bs.logButtonActionInvoked(tsConfig.is_authoring,e,this.props.buttonType.toString(),this.props.buttonBehaviour.toString())},$b:function(e){bs.logOpenButtonConfigDialogInvoked(e,this.props.buttonType.toString(),this.props.buttonBehaviour.toString())},$c:function(e){bs.logOpenButtonPermissionsErrorDialogInvoked(e,this.props.buttonType.toString(),this.props.buttonBehaviour.toString())},$d:function(){if(this.props.buttonType==='text'){return this.$g()}else{return this.$f()}},$f:function(){var e=this.props.imageContent;var gv={imageUrl:e.imageUrl,encodedImage:e.encodedImage,encodedSVGImage:e.encodedSVGImage,imageHeight:e.imageHeight,imageWidth:e.imageWidth,backgroundColor:this.props.backgroundColor,hoverActive:this.props.hoverActive,isButtonImageEnabled:this.$9()};return React.createElement(R,gv)},$g:function(){var e=this.props.textContent;var gv={buttonTextIsEnabled:this.$9(),effectiveCaption:e.effectiveCaption.toString(),captionTextFont:e.captionTextFont,captionTextColor:e.captionTextColor,captionFontSize:e.captionFontSize,captionFontIsBold:e.captionFontIsBold,captionFontIsItalic:e.captionFontIsItalic,captionFontIsUnderlined:e.captionFontIsUnderlined,handleFontLoaded:e.handleFontLoaded};return React.createElement(T,gv)}});var R=global.tab.ButtonZoneImageComponent=ss.mkType(a,'tab.ButtonZoneImageComponent',function(){React.PureComponent.call(this)},{render:function(){if(this.props.isButtonImageEnabled){var e={className:'tab-button-zone-image-enabled-container'};return spiff.DOMElements.div(e,this.$2('tab-button-zone-image'),(this.props.hoverActive?ss.mkdel(this,this.$1)():null))}else{return this.$2('tab-button-zone-image-disabled')}},$2:function(e){var gv=this.props.imageWidth;var gw=this.props.imageHeight;var gx=this.props.imageUrl;if(!ss.isNullOrEmptyString(this.props.encodedImage)){var gy=e+'-offline';return this.$3(gv,gw,gy)}if(!ss.isNullOrEmptyString(this.props.encodedSVGImage)){gx='data:image/svg+xml;base64,'+this.props.encodedSVGImage}return this.$0(gv,gw,gx,e)},$1:function(){return spiff.DOMElements.div({className:'tab-button-zone-image-hover',style:{width:this.props.imageWidth,height:this.props.imageHeight,backgroundColor:tab.ColorModel.fromColorCode(this.props.backgroundColor).toRgb(),opacity:0.5}})},$3:function(e,gv,gw){var gx='data:image/jpeg;base64,'+this.props.encodedImage;return spiff.DOMElements.img({src:gx,className:gw,width:e,height:gv})},$0:function(e,gv,gw,gx){var gy={className:'tab-button-zone-SVG-image-wrapper',width:e,height:gv};var gz=spiff.DOMElements.feColorMatrix({values:'0.3333 0.3333 0.3333 0.17 0\n                        0.3333 0.3333 0.3333 0.17 0\n                        0.3333 0.3333 0.3333 0.17 0\n                        0      0      0      1    0'});if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')){gz=spiff.DOMElements.feColorMatrix({values:'0.3333 0.3333 0.3333 0.4 0\n                        0.3333 0.3333 0.3333 0.4 0\n                        0.3333 0.3333 0.3333 0.4 0\n                        0      0      0      1    0'})}var gA=spiff.DOMElements.filter({id:'grayscale'},gz);var gB=spiff.DOMElements.defs({},gA);var gC=spiff.DOMElements.image({xlinkHref:gw,className:gx,width:e,height:gv});return spiff.DOMElements.svg(gy,gB,gC)}});var S=global.tab.ButtonZoneImageConstants=ss.mkType(a,'tab.ButtonZoneImageConstants');var T=global.tab.ButtonZoneTextComponent=ss.mkType(a,'tab.ButtonZoneTextComponent',function(e){React.Component.call(this,e);eO.get_instance().add_fontPreparationComplete(ss.mkdel(this,this.$1))},{dispose:function(){eO.get_instance().remove_fontPreparationComplete(ss.mkdel(this,this.$1))},$1:function(){this.props.handleFontLoaded()},render:function(){if(this.props.buttonTextIsEnabled){return this.$2('tab-button-zone-text')}else{return this.$2('tab-button-zone-text-disabled')}},$2:function(e){var gv=this.$0();return spiff.DOMElements.div({className:e,'data-test-id':e,style:gv},this.props.effectiveCaption)},$0:function(){var e={};var gv;if(tab.FeatureFlags.isEnabled('DashboardButtonUXImprovements')){gv='#FFFFFF'}else{gv='#808080'}e.fontFamily=this.props.captionTextFont;e.color=(this.props.buttonTextIsEnabled?this.props.captionTextColor:gv);e.fontSize=this.props.captionFontSize+'pt';e.fontStyle=(this.props.captionFontIsItalic?'italic':'normal');e.fontWeight=(this.props.captionFontIsBold?'bold':'normal');e.textDecorationLine=(this.props.captionFontIsUnderlined?'underline':'none');var gw=new bp(e);tab.FormattingConverters.cleanUpFontFamilyStyling(gw);return e}});var U=global.tab.ButtonZoneViewModel=ss.mkType(a,'tab.ButtonZoneViewModel',function(e,gv){this.$q=null;this.$s=null;this.$r=false;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$q=e;this.$s=gv;this.$q.add_contentUpdated(ss.mkdel(this,this.$7));this.$s.add_resizeZone(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$s.remove_resizeZone(ss.mkdel(this,this.$a));this.$q.remove_contentUpdated(ss.mkdel(this,this.$7))})))},{$e:function(){return this.$q.get_backgroundColor()},get_border:function(){return new tab.BorderDefinition(this.$q.get_borderWidth(),this.$q.get_borderStyle(),this.$q.get_borderColor(),0)},$g:function(){return this.$q.get_buttonType()},$f:function(){return this.$q.get_buttonBehaviour()},$j:function(){return this.$q.get_effectiveCaption()},$i:function(){return this.$q.get_clickActionString()},$h:function(){return this.$q.get_clickActionMetadataString()},$p:function(){return this.$q.get_tooltipText()},$l:function(){return this.$q.get_encodedImage()},$m:function(){return this.$q.get_encodedSVGImage()},get_imageUrl:function(){var e='';if(!tab.MiscUtil.isNullOrEmpty$1(this.$q.get_imagePathKey())){var gv=tab.CommandController.get().legacySession;e=gv.formatDashboardTempfileReference(this.$q.get_imagePathKey(),true,false)}return e},$o:function(){return this.$q.get_width()},$n:function(){return this.$q.get_height()},get_width:function(){if(this.$g()==='text'){return this.$q.get_width()}else{return(this.get_isWidthConstrained()?this.$s.get_contentWidth():ss.trunc(this.get_aspectRatio()*this.$s.get_contentHeight()))}},get_height:function(){if(this.$g()==='text'){return this.$q.get_height()}else{return(this.get_isWidthConstrained()?ss.trunc(this.$s.get_contentWidth()/this.get_aspectRatio()):this.$s.get_contentHeight())}},get_aspectRatio:function(){return this.$o()/this.$n()},get_isWidthConstrained:function(){var e=this.$o()/this.$s.get_contentWidth()>=this.$n()/this.$s.get_contentHeight();return e},calculateImageWidthAccountingForBorderWidth:function(){return this.get_width()-2*this.get_border().width},calculateImageHeightAccountingForBorderWidth:function(){return this.get_height()-2*this.get_border().width},get_captionTextFont:function(){return this.$q.get_captionFontName()},get_captionTextColor:function(){return this.$q.get_captionTextColor()},get_captionFontSize:function(){return this.$q.get_captionFontSize()},get_captionFontIsBold:function(){return this.$q.get_captionFontIsBold()},get_captionFontIsItalic:function(){return this.$q.get_captionFontIsItalic()},get_captionFontIsUnderlined:function(){return this.$q.get_captionFontIsUnderlined()},$k:function(){return this.$q.get_enabledState()},createUpdatedProps:function(){return{backgroundColor:this.$e(),border:this.get_border(),buttonType:this.$g(),buttonBehaviour:this.$f(),buttonClickAction:ss.mkdel(this,this.buttonClickAction),tooltipText:this.$p(),enabledState:this.$k(),contentWidth:this.$s.get_contentWidth(),contentHeight:this.$s.get_contentHeight(),hoverActivated:ss.mkdel(this,this.$b),hoverDeactivated:ss.mkdel(this,this.$c),hoverActive:this.$r,handleAuthoringDoubleClick:ss.mkdel(this,this.$6),handlePermissionsError:ss.mkdel(this,this.$9),imageContent:this.$4(),textContent:this.$5()}},$4:function(){return{imageUrl:this.get_imageUrl(),encodedImage:this.$l(),encodedSVGImage:this.$m(),imageHeight:this.calculateImageHeightAccountingForBorderWidth(),imageWidth:this.calculateImageWidthAccountingForBorderWidth()}},$5:function(){return{captionTextFont:this.get_captionTextFont(),captionTextColor:this.get_captionTextColor(),captionFontSize:this.get_captionFontSize(),captionFontIsBold:this.get_captionFontIsBold(),captionFontIsItalic:this.get_captionFontIsItalic(),captionFontIsUnderlined:this.get_captionFontIsUnderlined(),effectiveCaption:this.$j(),handleFontLoaded:ss.mkdel(this,this.$8)}},$b:function(){this.$r=true;this.incrementProps()},$c:function(){this.$r=false;this.incrementProps()},isExportCrosstabButton:function(){return this.$d('crosstab')},isExportImageButton:function(){return this.$d('image')},isExportPDFButton:function(){return this.$d('pdf')},isExportPowerPointButton:function(){return this.$d('powerpoint')},$d:function(e){return this.$f()==='export'&&ss.equals(this.$h(),e)},$6:function(){var e=new tab.GetButtonConfigDialogCmd;e.c['dashboard']=this.$s.get_dashboardSheetName();e.c['dashboardObjectStateHandle']=this.$s.get_model().pm.zoneCommon.dashboardObjectCurrentStateHandle;e.c['dashboardObjectHandle']=this.$s.get_model().pm.zoneCommon.dashboardObjectHandle;e.c['zoneId']=this.$s.get_model().pm.zoneCommon.zoneId|0;e.c['fontFamilies']=tab.FormattingUtil.compatibleFontNameList();e.c['fontSizes']=tab.FormattingUtil.fontSizes;e.invoke()},$3:function(e){if(this.isExportImageButton()){var gv=e;var gw=tab.CommandController.get().legacySession;var gx=gw.formatSessionTempfileReference(gv.tempfileKey,true,true);gw.fileDownloadHelper.downloadFile(gx,0,true)}},buttonClickAction:function(){if(this.isExportPDFButton()){tab.ToolbarServerCommands.exportPdf(new cB,null)}else if(this.isExportPowerPointButton()){tab.ExportServerCommands.exportPowerPoint()}else if(this.isExportCrosstabButton()){tab.ExportServerCommands.exportCrosstabOptionsDialog()}else{var e=tab.CommandSerializer.deserialize(this.$i().toString(),false);tab.ServerCommands.executeServerCommand(e,'afterDelay',ss.mkdel(this,function(gv){this.$3(gv)}),null)}},$a:function(){this.incrementProps()},$7:function(){this.incrementProps()},$8:function(){this.incrementProps()},$9:function(){ca.show(this.$p(),tab.Strings.DashboardButtonAccessDenied,null)}});var V=global.tab.CancelDialog=ss.mkType(a,'tab.CancelDialog',function(e,gv,gw,gx){this.$e=ss.coalesce(tab.FeatureParamsLookup.getInt(50),2000);this.$g=0;this.$f=null;this.$c=null;this.$d=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;N.call(this);this.$7(e);this.$5(gv);this.$b(gw);if(gx){this.$9(V.returnFocusById)}},{$6:function(){return this.$2$1},$7:function(e){this.$2$1=e},$4:function(){return this.$2$2},$5:function(e){this.$2$2=e},$8:function(){return this.$2$3},$9:function(e){this.$2$3=e},$a:function(){return this.$2$4},$b:function(e){this.$2$4=e},handleCommandCompleted:function(){if(!ss.staticEquals(this.$c,null)){return}if(this.$0()){var e=new Date;X.$1(this.$d.get_commandName(),this.$f,e)}this.closeAndResetDialog()},handleCommandError:function(){this.closeAndResetDialog()},handleCommandStarted:function(e){this.$d=e;this.$g=window.setTimeout(ss.mkdel(this,this.$3),this.$e)},$3:function(){if(!this.$d.get_isCancelable()){return}if(ss.isNullOrUndefined(this.$d)||ss.isNullOrUndefined(this.$d.get_remoteCommands())){return}var e=this.$d.get_remoteCommands();if(e.length!==1){return}var gv=e[0];if(ss.isNullOrUndefined(V.instanceElement)){this.parentNode=document.createElement('div');var gw={cancel:ss.mkdel(this,function(){this.onCancel(gv)}),title:this.$a(),handleRef:this.$8()};V.instanceElement=React.createElement(W,gw);ReactDOM.render(V.instanceElement,this.parentNode);this.$f=new Date}},onCancel:function(e){this.$c=new Date;tab.CancelCommands.cancelRunningCommand(e,ss.mkdel(this,this.$2),ss.mkdel(this,this.$1))},$0:function(){return ss.isValue(this.$d)},closeAndResetDialog:function(){this.$g=tab.MiscUtil.clearTimeout(this.$g);V.instanceElement=null;this.$f=null;this.$c=null;this.$d=null;_.defer(ss.mkdel(this,this.dispose))},$2:function(e){if(!ss.staticEquals(this.$6(),null)){this.$6()(e)}if(this.$0()){var gv=new Date;X.$2(this.$d.get_commandName(),e,this.$f,this.$c,gv)}this.closeAndResetDialog()},$1:function(){if(!ss.staticEquals(this.$4(),null)){this.$4()()}if(this.$0()){var e=new Date;X.$0(this.$d.get_commandName(),this.$f,this.$c,e)}this.closeAndResetDialog()}},{returnFocusById:function(e){if(ss.isValue(e)){V.$0=document.activeElement.id}else if(ss.isValue(V.$0)){document.getElementById(V.$0).focus();V.$0=null}}});var W=global.tab.CancelDialogComponent=ss.mkType(a,'tab.CancelDialogComponent',function(e){spiff.PureRenderComponent.call(this,e);this.state={isCanceling:false}},{render:function(){return React.createElement(SharedWidgets.DialogWidget,{children:this.$1(),ref:this.props.handleRef,testId:'CancelDialog',isModal:true,type:2,positioningBehavior:0,dialogBodyStyle:{height:200+'px',overflow:'visible',padding:0},onCloseRequest:ss.mkdel(this,function(){this.$0()}),shouldReturnFocusOnClose:false,shouldAdjustPositionOnWindowResize:true,shouldRecenterOnUpdate:true,dialogWidth:375,showFooter:false,title:(ss.isNullOrEmptyString(this.props.title)?tab.Strings.CancelDialogProcessingStatus:this.props.title),zIndex:1000})},$1:function(){var e=new spiff.WaitingComponentProps;e.onButtonClick=ss.mkdel(this,this.$0);e.buttonType=3;e.buttonLabel=(this.state.isCanceling?tab.Strings.CancelDialogCancellingStatus:tab.Strings.DialogButtonCancel);e.disableButton=this.state.isCanceling;e.title=(ss.isNullOrEmptyString(this.props.title)?tab.Strings.CancelDialogProcessingStatus:this.props.title);return React.createElement(spiff.WaitingComponent,e)},$0:function(){this.props.cancel();this.setState({isCanceling:true})}});var X=global.tab.CancelDialogTelemetry=ss.mkType(a,'tab.CancelDialogTelemetry',null,null,{$1:function(e,gv,gw){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()){var gx=(ss.staticEquals(gv,null)?0:(gw-gv));tab.OnlineAnalyticsClient.logEvent('Cancel_Dialog',ss.mkdict(['ElapsedTotalTimeShownMS',gx,'CommandName',e,'CancelStatus','CompletedBeforeCancel']))}},$0:function(e,gv,gw,gx){X.$3(e,'Failure',gv,gw,gx)},$2:function(e,gv,gw,gx,gy){X.$3(e,tab.CancelTelemetry.convertCancellationStatusForLog(gv),gw,gx,gy)},$3:function(e,gv,gw,gx,gy){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()){var gz=gx-gw;var gA=gy-gw;tab.OnlineAnalyticsClient.logEvent('Cancel_Dialog',ss.mkdict(['ElapsedTimeBeforeCancelledMS',gz,'ElapsedTotalTimeShownMS',gA,'CommandName',e,'CancelStatus',gv]))}}});var Y=global.tab.CanvasRenderer=ss.mkType(a,'tab.CanvasRenderer',function(e,gv){this.$1=null;this.$2=null;this.$4=null;this.$5=null;this.$7=false;this.$3=null;this.$0=null;this.$6=null;this.$8=null;this.$1=e;this.$2=gv;this.$7=false;this.$8={x:0,y:0}},{get_renderOffset:function(){return this.$8},set_renderOffset:function(e){this.$8=e;this.get_currentContext().translate(-this.$8.x,-this.$8.y)},get_currentCanvas:function(){return(this.$7?this.$4:this.$1)},get_currentContext:function(){return(this.$7?this.$5:this.$2)},get_visibleRect:function(){if(ss.isValue(this.$0)){return this.$0}var e=Y.$5(this.get_currentCanvas(),this.get_currentCanvas().width);var gv=Y.$4(this.get_currentCanvas(),this.get_currentCanvas().height);return{x:this.$8.x,y:this.$8.y,w:e,h:gv}},clear:function(){this.clearRect(this.get_visibleRect())},reset:function(){this.$7=false;this.$5=null;this.$4=null;this.get_currentContext().reset();this.$8={x:0,y:0};this.clearPrevTextRunInfo()},setRenderOffsetNoTranslate:function(e){this.$8=e},clearRect:function(e){this.get_currentContext().clearRect(e.x,e.y,e.w,e.h)},isRectVisible:function(e){return tab.RectXYUtil.intersectsWith(e,this.get_visibleRect())},beginOffScreenRender:function(e){if(this.$7){return}if(ss.isValue(e)){this.$3=tab.RectXYUtil.intersect(e,this.get_visibleRect())}else{this.$3=this.get_visibleRect()}if(ss.isNullOrUndefined(this.$4)){this.$4=document.createElement('canvas');var gv={w:this.$1.width,h:this.$1.height};var gw={w:Y.$5(this.$1,0),h:Y.$4(this.$1,0)};Z.densifyCanvasUsingSize(this.$4,gv,gw)}if(ss.isNullOrUndefined(this.$5)){this.$5=Y.getRenderContext(this.$4,'transparent')}else{this.$5.reset()}var gx=this.$1.width/Y.$5(this.$1,this.$1.width);if(gx!==1){Z.scaleCanvasDrawing(this.$5,gx)}this.$5.setTransform(this.$2.get_transformation());this.$7=true;var gy=tab.RectXYUtil.outsetRect(this.$3,1,1);tab.RectXYUtil.intersectInPlace(gy,this.get_visibleRect());this.clearRect(gy)},endOffScreenRender:function(e){if(!this.$7){return}this.$7=false;this.$2.save();this.$2.set_alpha(e);this.$2.resetTransform();if(ss.isNullOrUndefined(this.$3)){this.$2.drawImage1(this.$4,0,0)}else if(!tab.RectXYUtil.isEmpty(this.$3)){var gv=this.$2.pixelRatio;var gw=Math.max(0,Math.floor((this.$3.x-this.$8.x)*gv));var gx=Math.max(0,Math.floor((this.$3.y-this.$8.y)*gv));var gy=Math.min(this.$1.width,Math.ceil(this.$3.w*gv));var gz=Math.min(this.$1.height,Math.ceil(this.$3.h*gv));this.$2.drawImage5(this.$4,gw,gx,gy,gz,gw,gx,gy,gz)}this.$2.restore()},renderFilledRectangle:function(e,gv,gw,gx,gy){var gz=gw/2;var gA=gx/2;var gB=this.get_currentContext();gB.set_shapeFillStyle(gy);gB.fillRect(e-gz,gv-gA,gw,gx)},renderFilledWedge:function(e,gv,gw,gx,gy,gz,gA){var gB=Y.toCanvasAngle(gx);var gC=Y.toCanvasAngle(gy);if(Math.abs(gC-gB)<Y.angleEpsilon){return}if(ss.isNullOrUndefined(gA)){gA=false}var gD=this.get_currentContext();gD.beginPath();gD.moveTo(e,gv);gB=Y.$6(gB);gC=Y.$6(gC);gD.arc(e,gv,gw,gB,gC,gA);gD.closePath();gD.set_shapeFillStyle(gz);gD.fill()},createStyleSettersAndSetDominantStyle:function(e){if(ss.isNullOrUndefined(e)){return function(gx){}}var gv=[];e.forEach(ss.mkdel(this,function(gx,gy){var gz=true;var gA=gx.v[(gx.c?0:0)];for(var gB=1;gB<gx.length;++gB){if(!ss.referenceEquals(gA,gx.v[(gx.c?0:gB)])){gz=false;break}}if(gz){this.setTextStyleProperty(gy,gA)}else if(gy!=='text_style_color'){gv.push(gy)}}));var gw=ss.mkdel(this,function(gx){for(var gy=0;gy<gv.length;gy++){var gz=gv[gy];var gA=e.get(gz);this.setTextStyleProperty(gz,gA.v[(gA.c?0:gx)])}});return gw},setTextStyleProperty:function(e,gv){switch(e){case'font':{this.get_currentContext().set_font(gv);break}case'text_orientation':{this.get_currentContext().set_textAngle(gv);break}case'text_alignment':{this.get_currentContext().set_textAlign(gv);break}case'alpha':case'text_style_color':{break}case'text_decoration':{this.get_currentContext().set_shouldUnderlineText(!!gv);break}default:{break}}},renderText:function(e,gv,gw,gx,gy,gz){if(gz&&ss.isValue(this.$6)&&this.$6.$0(gv,gw)){var gA=this.$6.$1(gv,gw);gv=gA.x;gw=gA.y}else{this.clearPrevTextRunInfo()}if(ss.isValue(gy)){this.get_currentContext().set_textFillStyle(gy)}if(gx>0){if(!gz){e=ss.trimEndString(e)}this.get_currentContext().fillText2(e,gv,gw,gx)}else{this.get_currentContext().fillText1(e,gv,gw)}if(gz){var gB=this.get_currentContext().measureText(e).width;var gC=this.get_currentContext().get_textAlign()==='end';var gD=this.get_currentContext().get_textAngle();var gE;if(gD>1){gE='down'}else if(gD<-1){gE='up'}else{gE='horizontal'}this.$6=new k(gv,gw,gB,gC,gE)}else{this.clearPrevTextRunInfo()}},clearPrevTextRunInfo:function(){this.$6=null},strokeCurrentPath:function(e,gv){var gw=this.get_currentContext();gw.set_lineWidth(e);gw.set_strokeStyle(gv);gw.stroke()},fillCurrentPath:function(e){var gv=this.get_currentContext();gv.set_shapeFillStyle(e);gv.fill()},startCachingVisibleRect:function(){this.$0=null;this.$0=this.get_visibleRect()},stopCachingVisibleRect:function(){this.$0=null}},{$7:function(e,gv,gw){if(ss.imod(Math.round(gw),2)===1){var gx=gv.x-e.x;var gy=gv.y-e.y;if(gx!==0||gy!==0){var gz=gx*gx+gy*gy;gz=Math.sqrt(gz);var gA=Math.abs(0.5*(gx/gz));var gB=Math.abs(0.5*(gy/gz));e.x+=gB;e.y+=gA;gv.x+=gB;gv.y+=gA}}},getRenderContext:function(e,gv){var gw;if(gv==='opaque'&&tab.FeatureParamsLookup.getBool(42)){var gx=ss.mkdict(['alpha',false]);gw=e.getContext('2d',gx)}else{gw=e.getContext('2d')}return new fq(gw)},addMultipolygonPath:function(e,gv){var gw=gv.polygonList;var gx=gw.length;for(var gy=0;gy<gx;gy++){var gz=gw[gy].lineList;var gA=gz.length;for(var gB=0;gB<gA;gB++){var gC=gz[gB].pointsF;var gD=gC.length;if(gD<2){continue}e.moveTo(gC[0],gC[1]);for(var gE=2;gE<gD;gE=gE+2){e.lineTo(gC[gE],gC[gE+1])}}}},addMultipointPath:function(e,gv,gw){var gx=gv.pointsF;var gy=gx.length;for(var gz=0;gz<gy;gz=gz+2){var gA=gx[gz];var gB=gx[gz+1];e.moveTo(gA+gw,gB);e.arc(gA,gB,gw,0,Y.twoPI,true)}},addMultilinePath:function(e,gv){var gw=gv.lineList;var gx=gw.length;for(var gy=0;gy<gx;gy++){var gz=gw[gy].pointsF;var gA=gz.length;if(gA===0||ss.imod(gA,2)===1){continue}e.moveTo(gz[0],gz[1]);for(var gB=2;gB<gz.length;gB=gB+2){e.lineTo(gz[gB],gz[gB+1])}}},boundsCoordinateArray:function(e,gv){var gw=e.length;for(var gx=0;gx<gw;gx=gx+2){var gy=e[gx];var gz=e[gx+1];gv.minX=Math.min(gv.minX,gy);gv.minY=Math.min(gv.minY,gz);gv.maxX=Math.max(gv.maxX,gy);gv.maxY=Math.max(gv.maxY,gz)}},boundsMultipolygon:function(e,gv){for(var gw=0;gw<e.polygonList.length;gw++){var gx=e.polygonList[gw];for(var gy=0;gy<gx.lineList.length;gy++){var gz=gx.lineList[gy];Y.boundsCoordinateArray(gz.pointsF,gv)}}},boundsMultilineString:function(e,gv){for(var gw=0;gw<e.lineList.length;gw++){var gx=e.lineList[gw];Y.boundsCoordinateArray(gx.pointsF,gv)}},getBasisVectorsBetweenTwoPoints:function(e,gv,gw){var gx=gv.x-e.x;var gy=gv.y-e.y;var gz=Math.sqrt(gx*gx+gy*gy);var gA={x:gw*(gx/gz),y:gw*(gy/gz)};var gB={x:-gA.y,y:gA.x};return{item1:gA,item2:gB}},fillPath:function(e,gv,gw){var gx=Math.floor(gv.length/2);if(gx<2){return}e.beginPath();e.moveTo(gv[0],gv[1]);for(var gy=2;gy<gx*2;gy+=2){e.lineTo(gv[gy],gv[gy+1])}if(gw){e.closePath()}e.fill()},strokePath:function(e,gv,gw,gx){var gy=Math.floor(gv.length/2);if(gy<2){return}e.beginPath();var gz=e.get_lineWidth();for(var gA=0;gA<gy*2-2;gA+=2){var gB={x:gv[gA],y:gv[gA+1]};var gC={x:gv[gA+2],y:gv[gA+3]};if(gy<=2&&gx){Y.$7(gB,gC,gz)}if(gA===0){e.moveTo(gB.x,gB.y)}Y.$3(e,gB,gC)}if(gw){e.closePath();var gD=gy*2;var gE={x:gv[gD-2],y:gv[gD-1]};var gF={x:gv[0],y:gv[1]};if(gy<=2&&gx){Y.$7(gE,gF,gz)}Y.$3(e,gE,gF)}e.stroke()},toCanvasAngle:function(e){return e*Y.twoPI-Y.halfPI},toCanvasLineCap:function(e){switch(e){case'flat':{return'butt'}case'square':{return'square'}case'round':{return'round'}case'triangle':{break}}return'butt'},toCanvasLineJoin:function(e){switch(e){case'bevel':{return'bevel'}case'miter':{return'miter'}case'round':{return'round'}}return'miter'},renderRectangle:function(e,gv,gw,gx,gy,gz,gA){var gB=gx/2;var gC=gy/2;e.set_lineJoin('miter');e.set_lineWidth(gA);e.set_strokeStyle(gz);e.strokeRect(gv-gB,gw-gC,gx,gy)},renderCircle:function(e,gv,gw,gx,gy,gz){e.beginPath();e.arc(gv,gw,Math.max(gx/2,0),0,Y.twoPI,true);e.closePath();e.set_lineWidth(gz);e.set_strokeStyle(gy);e.stroke()},renderFilledCircle:function(e,gv,gw,gx,gy){e.beginPath();e.arc(gv,gw,gx/2,0,Y.twoPI,true);e.closePath();e.set_shapeFillStyle(gy);e.fill()},renderWedge:function(e,gv,gw,gx,gy,gz,gA,gB,gC,gD){var gE=Y.toCanvasAngle(gy);var gF=Y.toCanvasAngle(gz);if(Math.abs(gF-gE)<Y.angleEpsilon){return}if(ss.isNullOrUndefined(gC)){gC=false}var gG=Math.abs(gz-gy)>=1;e.beginPath();if(!gG){e.moveTo(gv,gw)}gE=Y.$6(gE);gF=Y.$6(gF);e.arc(gv,gw,gx,gE,gF,gC);e.closePath();e.set_lineJoin((gD?'miter':'round'));e.set_lineWidth(gB);e.set_strokeStyle(gA);e.stroke()},createPlaceholderPath:function(e,gv,gw,gx){e.beginPath();e.arc(gv,gw,gx/2,0,Y.twoPI,true);e.closePath()},createMultipolygonPath:function(e,gv){e.beginPath();Y.addMultipolygonPath(e,gv.multiPolygon);e.closePath()},createMultipointPath:function(e,gv,gw){e.beginPath();Y.addMultipointPath(e,gw.multiPoint,gv/2);e.closePath()},fillMultiLineStringPath:function(e,gv,gw){e.set_lineCap('butt');e.set_lineJoin('round');e.set_strokeStyle(gw);e.set_lineWidth(gv);e.stroke()},fillClearMultiLineStringPath:function(e,gv,gw){var gx=e.get_globalCompositeOperation();e.set_globalCompositeOperation('destination-out');e.set_lineCap('butt');e.set_lineJoin('round');e.set_strokeStyle(gw);e.set_lineWidth(gv);e.stroke();e.set_globalCompositeOperation(gx)},$2:function(e,gv,gw){e.beginPath();e.moveTo(gv.x,gv.y);e.lineTo(gw.x,gw.y);e.stroke()},$0:function(e,gv,gw){var gx=e[0];var gy=e[1];var gz=Y.getBasisVectorsBetweenTwoPoints(gx,gy,gv);var gA=Y.$8(gz.item1);var gB={x:gA.x*(gw/2),y:gA.y*(gw/2)};var gC=gz.item2;var gD={x:gx.x-gB.x+gC.x,y:gx.y-gB.y+gC.y};var gE={x:gx.x-gB.x-gC.x,y:gx.y-gB.y-gC.y};var gF=new Array(2);gF[0]=gD;gF[1]=gE;return gF},fillMultiLineStringEndCaps:function(e,gv,gw,gx,gy){e.set_strokeStyle(gy);e.set_lineWidth(gx);var gz=gw/2;var gA=gv.lineList;var gB=gA.length;for(var gC=0;gC<gB;gC++){var gD=gA[gC].pointsF;var gE=gD.length;if(gE<4||ss.imod(gE,2)===1){continue}var gF={x:gD[0],y:gD[1]};var gG={x:gD[2],y:gD[3]};var gH=new Array(2);gH[0]=gF;gH[1]=gG;var gI=Y.$0(gH,gz,gx);Y.$2(e,gI[0],gI[1]);gF.x=gD[gE-2];gF.y=gD[gE-1];gG.x=gD[gE-4];gG.y=gD[gE-3];gH[0]=gF;gH[1]=gG;gI=Y.$0(gH,gz,gx);Y.$2(e,gI[0],gI[1])}e.beginPath();Y.addMultilinePath(e,gv)},$8:function(e){var gv=Math.sqrt(e.x*e.x+e.y*e.y);return{x:e.x/gv,y:e.y/gv}},createMultiLinePath:function(e,gv){e.beginPath();Y.addMultilinePath(e,gv.multiLine)},$3:function(e,gv,gw){if(BrowserSupport.BrowserSupport.CanvasLinePattern()){e.lineTo(gw.x,gw.y)}else{switch(e.get_linePattern()){case'dashed':{Y.$1(e,gv,gw,fq.defaultLineDashDashed[0],fq.defaultLineDashDashed[1]);break}case'dotted':{Y.$1(e,gv,gw,fq.defaultLineDashDotted[0],fq.defaultLineDashDotted[1]);break}case'solid':default:{e.lineTo(gw.x,gw.y);break}}}},$1:function(e,gv,gw,gx,gy){var gz=e.get_lineWidth();gx=gz*gx;gy=gz*gy;e.moveTo(gv.x,gv.y);var gA=false;var gB=gx;var gC=gv.x;var gD=gv.y;var gE=gw.x-gv.x;var gF=gw.y-gv.y;var gG=gE*gE+gF*gF;gG=Math.sqrt(gG);var gH=gE/gG;var gI=gF/gG;while(gG>0){var gJ=((gG>gB)?gB:gG);var gK=gC+gJ*gH;var gL=gD+gJ*gI;if(gA){e.moveTo(gK,gL)}else{e.lineTo(gK,gL)}gG-=gJ;gB-=gJ;if(gB===0){gA=!gA;gB=(gA?gy:gx)}gC=gK;gD=gL}},$5:function(e,gv){var gw=tab.DomUtil.parseWidthFromStyle(e.style);gw=(isNaN(gw)?gv:gw);return gw},$4:function(e,gv){var gw=tab.DomUtil.parseHeightFromStyle(e.style);gw=(isNaN(gw)?gv:gw);return gw},$6:function(e){return ss.trunc(e*100000)/100000}});var Z=global.tab.CanvasUtil=ss.mkType(a,'tab.CanvasUtil',null,null,{sizeCanvasWithHighDPISupport:function(e,gv,gw){var gx=ez.calculatePixelRatio(true);Z.setCanvasSizeAndDensify(e,gx,gw);if(!tab.DoubleUtil.isApproximatelyEqual(gx,1)){Z.scaleCanvasDrawing(gv,gx)}},setCanvasSizeAndDensify:function(e,gv,gw){if(ss.isValue(e)){var gx={w:ss.trunc(gw.w*gv),h:ss.trunc(gw.h*gv)};Z.densifyCanvasUsingSize(e,gx,gw)}},densifyCanvasUsingSize:function(e,gv,gw){if(ss.isValue(e)&&ss.isValue(gv)&&ss.isValue(gw)){e.width=gv.w;e.height=gv.h;e.style.width=Z.$0(gw.w);e.style.height=Z.$0(gw.h)}},scaleCanvasDrawing:function(e,gv){if(ss.isValue(e)){e.pixelRatio=gv;e.scale(gv,gv)}},isOverCanvasSizeLimit:function(e,gv,gw){var gx=Math.floor(gw*e*gw*gv+0.5);return gx>tabBootstrap.RenderingConstantsAndHelpers.get_canvasPixelLimit()},canvasDensified:function(e){return!!e.style.height&&!ss.referenceEquals(e.style.height,Z.$0(e.height))},$0:function(e){return e+'px'}});var ba=global.tab.CommandExecutedEventArgs=ss.mkType(a,'tab.CommandExecutedEventArgs',function(){this.command=null;ss.EventArgs.call(this)});var bb=global.tab.CommandsTelemetryUtils=ss.mkType(a,'tab.CommandsTelemetryUtils',null,null,{getMenuItemTelemetryInfoFromMenuAndCommands:function(e){if(ss.isNullOrUndefined(e.get_commands())){return null}var gv=[];var gw=[];bb.$0(e.get_commands(),e.get_menuPrefix(),gv,gw,e.get_menuTextMayBeSensitive());var gx=gm.getMenuItemsInFlatList(e.menuItems);var gy=_.filter(gx,function(gH){return ss.referenceEquals(gH.name,e.get_menuItem().name)});var gz=_.filter(gv,function(gH){return ss.referenceEquals((new tab.CommandItemWrapper(gH)).get_name(),e.get_menuItem().name)});var gA=_.indexOf(gy,e.get_menuItem());var gB=gz[gA];if(ss.isValue(gB)){var gC=new tab.CommandItemWrapper(gB);var gD=_.indexOf(gv,gB);var gE=gw[gD];var gF=gC.get_readId();var gG=new dE;gG.fullMenuItemName=gE;gG.set_menuItemPrefix(e.get_menuPrefix());gG.flatCommandItemList=gv;gG.set_commandIndexInFlattenedList(gD);gG.set_commandReadId(gF);gG.set_commandName(gC.get_commandName());return gG}return null},$0:function(e,gv,gw,gx,gy){var gz=tab.CommandsPresModelWrapper.create(e);gz.get_commandItems().forEach(function(gA){var gB=new tab.CommandItemWrapper(gA);var gC=gB.get_readId();if(!gy&&ss.isNullOrUndefined(gC)&&ss.isValue(gB.get_name())){gC=gB.get_name()}var gD=bb.joinToPrefix(gv,gC,':');gw.push(gA);gx.push(gD);if(ss.isValue(gB.get_commands())){bb.$0(gB.get_commands(),gD,gw,gx,gy)}})},joinToPrefix:function(e,gv,gw){var gx=!ss.isNullOrEmptyString(e);var gy=!ss.isNullOrUndefined(gv)&&!ss.isNullOrEmptyString(gv);var gz=new ss.StringBuilder('');if(gx){gz.append(e)}if(gx&&gy){gz.append(gw)}if(gy){gz.append(gv)}return gz.toString()}});var bc=global.tab.CommonBannerProviderImpl=ss.mkType(a,'tab.CommonBannerProviderImpl',function(){this.$3=new tab.DisposableHolder},{dispose:function(){this.$3.dispose()},showErrorBanner:function(e,gv,gw,gx){this.$2(e,gv,gw,gx,false)},showModalErrorBanner:function(e,gv,gw,gx){this.$2(e,gv,gw,gx,true)},showSuccessBanner:function(e,gv,gw,gx){if(tab.FeatureFlags.isEnabled('VqlWebSharedWidgetsToast')){this.$1({testId:'banner-success',toastType:'success',message:e,actionMessage:gv,autoDismiss:gx},gw,false)}else{dW.showNotification(e,null)}},showInfoBanner:function(e,gv,gw,gx){if(tab.FeatureFlags.isEnabled('VqlWebSharedWidgetsToast')){this.$1({testId:'banner-info',toastType:'info',message:e,actionMessage:gv,autoDismiss:gx},gw,false)}else{dW.showNotification(e,null)}},$2:function(e,gv,gw,gx,gy){if(tab.FeatureFlags.isEnabled('VqlWebSharedWidgetsToast')){var gz={testId:'banner-error',toastType:'error',message:e,actionMessage:gv};if(gy){gz.zIndex=1000}this.$1(gz,gw,gy)}else{dW.showNotification(e,null)}},$1:function(e,gv,gw){var gx=null;if(gw){var gy=new spiff.Glass(null,false);gy.set_opaque(true);gx=gy;gx.show()}var gz=document.createElement('div');e.topLeftYPx=tabBootstrap.VizLayoutConstants.get_authoringMenuBarHeight();e.onCloseRequest=function(){tab.MiscUtil.dispose$1(gx);ReactDOM.unmountComponentAtNode(gz)};if(!ss.staticEquals(gv,null)){e.onAction=function(){gv();e.onCloseRequest()}}var gA=React.createElement(SharedWidgets.ToastWidget,e);ReactDOM.render(gA,gz);this.$3.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.MiscUtil.dispose$1(gx);this.$0(gz)})))},$0:function(e){if(!ss.isNullOrUndefined(e)){_.defer(function(){ReactDOM.unmountComponentAtNode(e);$(e).remove()})}}});var bd=global.tab.CommonDialogProviderImpl=ss.mkType(a,'tab.CommonDialogProviderImpl',function(){this.$2=new tab.DisposableHolder},{showAlertDialog:function(e,gv){var gw=bd.$0();var gx={content:e,title:gv,contentSelectable:false,onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(gw)}};var gy=React.createElement(fc,gx);ReactDOM.render(gy,gw);this.$2.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0(gw)})))},showConfirmationDialog:function(e,gv,gw,gx,gy){var gz=bd.$0();var gA={content:e,title:gv,contentSelectable:gw,dialogButtons:[],onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(gz)}};if(gw){be.$1(gv,e,null)}gA.dialogButtons.push({buttonClickHandler:gx,buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});gA.dialogButtons.push({buttonClickHandler:gy,buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var gB=React.createElement(fc,gA);ReactDOM.render(gB,gz);this.$2.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0(gz)})))},ShowErrorDialog:function(e,gv,gw){be.$1(gv,e,gw);ca.show(e,gv,gw)},ShowLocalErrorDialog:function(e,gv,gw){var gx=bd.$0();var gy={content:e,title:gv,contentSelectable:true,dialogButtons:[{buttonClickHandler:null,buttonText:tab.Strings.DialogButtonOK,testId:'OKBtn',buttonType:2}],onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(gx)}};be.$1(gv,e,null);if(tab.FeatureFlags.isEnabled('WebErrorDialog')){gy.dialogWidth=500;var gz=React.createElement(dw,gy);ReactDOM.render(gz,gx)}else{gy.dialogWidth=250;var gA=React.createElement(fc,gy);ReactDOM.render(gA,gx)}this.$2.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0(gx)})))},showSheetAuthenticationOverlay:function(e,gv,gw){be.$0('AuthenticationOverlay',e);var gx=new K(e,gv,gw);gx.show();this.$2.add$1(gx)},showGenericDataSourceErrorOverlay:function(e,gv,gw){be.$0('GenericErrorOverlay',e);var gx=new cR(e,gv,gw);gx.show();this.$2.add$1(gx)},showSheetAuthenticationDialog:function(e,gv,gw){be.$0('AuthenticationDialog',e);var gx=new bW(e,gv,gw);gx.show();this.$2.add$1(gx)},showGenericDataSourceErrorDialog:function(e,gv,gw){be.$0('GenericErrorDialog',e);var gx=new cQ(e,gv,gw);gx.show();this.$2.add$1(gx)},showFileDownloadDialog:function(e,gv,gw,gx){var gy=new ci(e,gv,gw,gx);gy.show();this.$2.add$1(gy)},showConnectionMissingFileDialog:function(e,gv,gw){var gx=$.Deferred();var gy=new bk(e,gv,gw);gy.add_handled(function(gz){gx.resolve(gz)});gy.show();this.$2.add$1(gy);return gx.promise()},showEditConnectionInformationDialog:function(e,gv){var gw=$.Deferred();if(!tsConfig.is_authoring||!tab.ApplicationModel.get_instance().get_workbook().get_dataSchema().getDataSource(e.datasource).get_isDataTabViewSupported()){return gw.resolve(false).promise()}if(gv){this.$1(e).done(function(gy){gw.resolve(gy)})}else{var gx=new cm(e);gx.add_handled(ss.mkdel(this,function(gy){if(gy){this.$1(e).done(function(gz){gw.resolve(gz)})}else{gw.resolve(false)}}));gx.show()}return gw.promise()},$1:function(e){var gv=$.Deferred();if(e.connectionErrorStage!=='load-metadata-failed'){tab.ModuleManager.load$1(tab.IConnectionDialogModule).call(null,[]).done(function(gw){gw.showEditConnectionDialog(tab.DataConnectionUtils.connectionNameFromFullConnectionName(e.connectionFullName),function(gx){tab.VizClientCommands.setUIMode('data-tab','ReconnectEditConnection','');gv.resolve(true)},function(){gv.resolve(false)},false)})}else{tab.VizClientCommands.setUIMode('data-tab','ReconnectEditConnection','');gv.resolve(true)}return gv.promise()},showConnectionSignInDialog:function(e,gv){var gw=$.Deferred();var gx=e.dataSourceConnectionAttemptInfos[0];if(tab.TabbedAuthenticationDialogCommands.useTabbedAuthDialog(e)){tab.TabbedAuthenticationDialogCommands.showTabbedAuthenticationDialog(tab.DataConnectionUtils.getConnectionNames(e),gv,e);return gw}else{var gy=[];for(var gz=0;gz<e.dataSourceConnectionAttemptInfos[0].connectionAttrDisplayNames.length;++gz){gy.push([gx.connectionAttrDisplayNames[gz],gx.connectionAttrDisplayValues[gz]])}tab.ModuleManager.load$1(tab.IConnectionDialogModule).call(null,[]).done(function(gA){gA.showSignInDialog(gx.exceptionAttrs,Array.prototype.slice.call(gy),gx.datasourceCaption,tab.DataConnectionUtils.connectionNameFromFullConnectionName(gx.connectionFullName),gx.connectionTypeLabel,function(gB){gw.resolve()},function(){gw.reject()})});return gw.promise()}},dispose:function(){this.$2.dispose()},$0:function(e){ReactDOM.unmountComponentAtNode(e);$(e).remove()}},{$0:function(){var e=document.createElement('div');return e}});var be=global.tab.CommonDialogProviderTelemetry=ss.mkType(a,'tab.CommonDialogProviderTelemetry',null,null,{$1:function(e,gv,gw){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebErrorsOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Error.Alert',ss.mkdict(['Title',e,'Content',gv,'Links',(_.isArray(gw)?JSON.stringify(gw):'')]))}},$0:function(e,gv){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebErrorsOnlineTelemetry')){var gw=ss.coalesce(gv.ErrorType,'');var gx=ss.coalesce(gv.ErrorMessage,'');var gy=ss.coalesce(gv.RedirectUrl,'');tab.OnlineAnalyticsClient.logEvent('Error.DataSourceConnection',ss.mkdict(['Context',e,'ErrorType',gw,'Message',gx,'RedirectUrl',gy]))}}});var bf=global.tab.CompletionMonitor=ss.mkType(a,'tab.CompletionMonitor',function(){this.$2=null;this.$1=null;this.$2={};this.$1={}},{reset:function(e){this.$2[e]=0;this.$1[e]=null},hold:function(e){if(!ss.keyExists(this.$2,e)){this.$2[e]=0}this.$2[e]+=1;return new bh(e,ss.mkdel(this,function(){this.$0(e)}))},$0:function(e){if(this.$2[e]<=0){return}this.$2[e]-=1;if(this.$2[e]===0&&!ss.staticEquals(this.$1[e],null)){this.$1[e]()}},addCompletedHandler:function(e,gv){var gw=null;gw=ss.mkdel(this,function(){if(!ss.staticEquals(gv,null)){gv()}this.$1[e]=ss.delegateRemove(this.$1[e],gw)});this.$1[e]=ss.delegateCombine(this.$1[e],gw)}},{get_instance:function(){if(ss.isNullOrUndefined(bf.$0)){bf.$0=new bf}return bf.$0}});var bg=global.tab.CompletionMonitorType=ss.mkEnum(a,'tab.CompletionMonitorType',{unspecified:0,twoPassRendering:1});var bh=global.tab.CompletionToken=ss.mkType(a,'tab.CompletionToken',function(e,gv){this.$0=null;this.completionMonitorType=0;this.completionMonitorType=e;this.$0=gv},{dispose:function(){if(!ss.staticEquals(this.$0,null)){this.$0();this.$0=null}}});var bi=global.tab.ConfirmationView=ss.mkType(a,'tab.ConfirmationView',function(e){this.confirmViewModel=null;this.$c=null;ss.makeGenericType(spiff.BaseView$1,[bj]).call(this,e,spiff.Template.fromHtml("<div class='tabConfirmation'></div>"));this.confirmViewModel=e;this.confirmViewModel.add_shown(ss.mkdel(this,this.$b));this.confirmViewModel.add_hidden(ss.mkdel(this,this.$a));this.buildDom()},{dispose:function(){this.confirmViewModel.remove_shown(ss.mkdel(this,this.$b));this.confirmViewModel.remove_hidden(ss.mkdel(this,this.$a));this.$c.remove_closed(ss.mkdel(this,this.$9));this.$c.dispose();this.$c=null;ss.makeGenericType(spiff.BaseView$1,[bj]).prototype.dispose.call(this)},buildDom:function(){this.element.append($('<div></div>').addClass('tabConfirmationMessage').html(this.confirmViewModel.get_messageHtml()));var e=$('<div></div>').addClass('tabConfirmationButtons');this.element.append(e);if(this.confirmViewModel.get_showDenyButton()){var gv=React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(gz){this.$8()}),buttonType:3,testId:'tab-confirmation-deny',children:this.confirmViewModel.get_denyText()});var gw=$('<span></span>').addClass('tabConfirmationDenyButton').appendTo(e);ReactDOM.render(gv,gw.get(0))}if(this.confirmViewModel.get_showConfirmButton()){var gx=React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(gz){this.$7()}),buttonType:2,testId:'tab-confirmation-confirm',children:this.confirmViewModel.get_confirmText()});var gy=$('<span></span>').addClass('tabConfirmationConfirmButton').appendTo(e);ReactDOM.render(gx,gy.get(0))}this.$c=new spiff.ModalDialog.$ctor1(this.confirmViewModel.get_titleText(),this.element);this.$c.add_closed(ss.mkdel(this,this.$9))},$9:function(e,gv){this.confirmViewModel.cancel()},$7:function(){this.confirmViewModel.confirm()},$8:function(){this.confirmViewModel.deny()},$a:function(e){if(ss.isNullOrUndefined(this.$c)){return}this.$c.close(null)},$b:function(){if(ss.isNullOrUndefined(this.$c)){return}this.$c.show()}});var bj=global.tab.ConfirmationViewModel=ss.mkType(a,'tab.ConfirmationViewModel',function(){this.$3=null;this.$1=tab.Strings.ConfirmationButtonConfirm;this.$2=tab.Strings.ConfirmationButtonDeny;this.$6=tab.Strings.ConfirmationTitle;this.$4=true;this.$5=true;this.$8=false;this.$7=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this)},{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_messageHtml:function(){return this.$3},set_messageHtml:function(e){this.$3=e},get_visible:function(){return this.$8},get_confirmText:function(){return this.$1},set_confirmText:function(e){this.$1=e},get_denyText:function(){return this.$2},set_denyText:function(e){this.$2=e},get_titleText:function(){return this.$6},set_titleText:function(e){this.$6=e},get_showConfirmButton:function(){return this.$4},set_showConfirmButton:function(e){this.$4=e},get_showDenyButton:function(){return this.$5},set_showDenyButton:function(e){this.$5=e},dispose:function(){this.$7=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.prototype.dispose.call(this)},show:function(){if(this.$8){return}if(ss.isNullOrUndefined(this.$7)){this.$7=tab.ObjectRegistry.newView(bi).call(null,[this])}this.$8=true;this.raiseActionEvent(this.$2$1)},disposeOnHide:function(){var e=ss.mkdel(this,function(){this.dispose()});this.add_hidden(e);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(e)})))},confirm:function(){this.$0('confirm')},deny:function(){this.$0('deny')},cancel:function(){this.$0('cancel')},$0:function(e){if(this.$8===false){return}this.$8=false;if(ss.isValue(this.$2$2)){this.$2$2(e)}}},{create:function(e,gv){var gw=new bj;gw.set_messageHtml(e);gw.disposeOnHide();gw.add_hidden(gv);gw.disposables.add$1(new tab.CallOnDispose(function(){gw.remove_hidden(gv)}));return gw},createWithTitleConfirmDeny:function(e,gv,gw,gx,gy){var gz=bj.create(e,gv);gz.set_titleText(gw);gz.set_confirmText(gx);gz.set_denyText(gy);return gz},showConfirmation:function(e,gv){var gw=bj.create(e,gv);gw.show()},showWarningConfirmationWithOkCancel:function(e,gv){var gw=bj.createWithTitleConfirmDeny(e,gv,tab.Strings.WarningTitle,tab.Strings.DialogButtonOK,tab.Strings.DialogButtonCancel);gw.show()},showNotification:function(e,gv){var gw=bj.create(e,gv);gw.set_titleText(tab.Strings.WarningTitle);gw.set_showDenyButton(false);gw.set_confirmText(tab.Strings.DialogButtonOK);gw.show()}});var bk=global.tab.ConnectionMissingFileDialog=ss.mkType(a,'tab.ConnectionMissingFileDialog',function(e,gv,gw){this.$3=null;this.$2=null;this.$1=null;this.$4=false;this.$5=null;this.$2$1=null;N.call(this);this.$3=e;this.$2=gv;this.$1=gw;this.$5=ss.mkdel(this,this.$0);this.$4=false;if(gw==='textscan'){var gx=tab.DataConnectionUtils.stripDirectoryFromPath(e);if(!ss.referenceEquals(gx,e)){this.$4=true}}},{add_handled:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_handled:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},show:function(){this.parentNode=document.createElement('div');bk.$0=false;var e={key:'ConnectionMissingFileDialog',content:(this.$4?tab.Strings.ConnectionMissingFileDialogMissingDirectoryText(this.$3):tab.Strings.ConnectionMissingFileDialogText(this.$3)),title:tab.Strings.ConnectionMissingFileDialogTitle,contentSelectable:true,dialogWidth:500,dialogButtons:[],onDialogCloseRequested:ss.mkdel(this,function(){if(!bk.$0){this.$2$1(false)}ReactDOM.unmountComponentAtNode(this.parentNode)})};e.dialogButtons.push({buttonClickHandler:this.$5,buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});e.dialogButtons.push({buttonClickHandler:null,buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var gv=React.createElement(fc,e);ReactDOM.render(gv,this.parentNode)},$0:function(){bk.$0=true;tab.ModuleManager.load$1(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(e){e.showReplaceFileDialog(this.$2,this.$1).done(ss.mkdel(this,function(gv){this.$2$1(gv)})).fail(ss.mkdel(this,function(gv){_.defer(ss.mkdel(this,function(){this.$0()}))}))}))}});var bl=global.tab.CreateSubscriptionFormat=ss.mkType(a,'tab.CreateSubscriptionFormat',function(e,gv){this.attachImage=false;this.attachPdf=false;this.attachImage=e;this.attachPdf=gv});var bm=global.tab.CreateSubscriptionFrequency=ss.mkType(a,'tab.CreateSubscriptionFrequency',function(e){this.subscribeOnExtractRefresh=false;this.subscribeOnExtractRefresh=e});var bn=global.tab.CreateSubscriptionPDFOptions=ss.mkType(a,'tab.CreateSubscriptionPDFOptions',function(e,gv){this.paperSize=null;this.orientation=null;this.paperSize=e;this.orientation=gv});var bo=global.tab.CreateSubscriptionsCheckboxOptions=ss.mkType(a,'tab.CreateSubscriptionsCheckboxOptions',function(e,gv){this.subscribeSelf=false;this.sendOnlyWhenDataPresent=false;this.subscribeSelf=e;this.sendOnlyWhenDataPresent=gv});var bp=global.tab.CssPropertiesFormattingConverterObject=ss.mkType(a,'tab.CssPropertiesFormattingConverterObject',function(e){this.$0=null;this.$0=e},{get_getFontFamily:function(){if(ss.isNullOrUndefined(this.$0.fontFamily)){return''}else{return this.$0.fontFamily.toString()}},setCSS:function(e){var gv=new ss.ObjectEnumerator(e);try{while(gv.moveNext()){var gw=gv.current();switch(gw.key){case'font-style':{this.$0.fontStyle=gw.value;break}case'font-weight':{this.$0.fontWeight=gw.value;break}case'font-stretch':{this.$0.fontStretch=gw.value;break}case'font-family':{this.$0.fontFamily=gw.value;break}default:{break}}}}finally{gv.dispose()}},hasStyleProperty:function(e){switch(e){case'fontStyle':{return!ss.isNullOrUndefined(this.$0.fontStyle)}case'fontWeight':{return!ss.isNullOrUndefined(this.$0.fontWeight)}case'fontStretch':{return!ss.isNullOrUndefined(this.$0.fontStretch)}default:{return false}}}});var bq=global.tab.CustomViewsExternalModuleComponent=ss.mkType(a,'tab.CustomViewsExternalModuleComponent',function(e){ss.makeGenericType(el,[Object,Object,Object]).call(this,e)},{fetchAsyncDependencies:function(){return tab.ModuleManager.load('custom-views',[]).pipe(function(e){return e})},renderWithModule:function(e){return React.createElement(e.CustomViews,this.props)}});var br=global.tab.CustomViewsViewModel=ss.mkType(a,'tab.CustomViewsViewModel',function(){this.$p=[];this.$q=[];this.$l=null;this.$m=null;this.$n=null;this.$o=false;this.$r=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;spiff.BaseViewModel.call(this);if(tsConfig.allow_custom_views){tab.StartupUtils.callOnceAfterInitialBootstrap(ss.mkdel(this,function(){this.$9(null,null)}));tab.DashboardModel.add_modifiedSheetsChanged(ss.mkdel(this,this.onDirtyChanged));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.DashboardModel.remove_modifiedSheetsChanged(ss.mkdel(this,this.onDirtyChanged))})))}},{add_customViewListChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_customViewListChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_defaultCustomViewChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_defaultCustomViewChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_customViewDestroyed:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_customViewDestroyed:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_dirtyChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_dirtyChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_hideDialogRequested:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_hideDialogRequested:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_propsUpdated:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_propsUpdated:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},get_myCustomViews:function(){return this.$p},get_otherCustomViews:function(){return this.$q},get_currentCustomView:function(){return this.$l},get_defaultCustomViewId:function(){return this.$n},get_currentCustomViewName:function(){return this.$m},get_hasCustomViews:function(){return this.$p.length>0||this.$q.length>0},get_dirty:function(){return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_props:function(){return{children:this.$0(),dialogWidth:400,isGlassTransparent:false,isModal:true,positioningBehavior:0,shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,shouldRecenterOnUpdate:false,shouldReturnFocusOnClose:true,showCloseButton:true,showFooter:false,testId:'customViews',title:tab.Strings.CustomViewsDialogTitle,type:0}},$0:function(){var e=new Object;e.allowCustomViewDefault=tsConfig.allow_custom_view_default;e.allowCustomViewShare=tsConfig.allow_custom_view_share;e.allowCustomViewSave=tsConfig.allow_custom_view_save;e.currentViewId=(ss.isValue(this.$l)?this.$l.id:null);e.defaultViewId=this.$n;e.initialText=(ss.isValue(this.$l)?this.$l.name:'');e.myViews=this.get_myCustomViews();e.onDeleteView=ss.mkdel(this,this.handleDeleteCustomView);e.onRenameView=ss.mkdel(this,this.handleRenameCustomView);e.onSelectView=ss.mkdel(this,this.handleSelectCustomView);e.onSetDefaultView=ss.mkdel(this,this.handleSetDefaultCustomView);e.onToggleSharing=ss.mkdel(this,this.handleToggleCustomViewSharing);e.onSaveView=ss.mkdel(this,this.handleSaveCustomView);e.otherViews=this.get_otherCustomViews();e.workbookOwnerFriendlyName=tsConfig.workbook_owner_friendly_name;return React.createElement(bq,e)},$7:function(){if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}},handleDeleteCustomView:function(e){var gv=br.$2(e,this.get_myCustomViews());if(ss.isNullOrUndefined(gv)){throw new ss.Exception(ss.formatString('Cannot delete unknown custom view with ID: {0}',e))}this.destroyCustomView(gv,ss.mkdel(this,function(){this.$7()}),function(gw){dW.showNotification(tab.Strings.ToolbarCustomViewsErrorDeleting,null)})},handleRenameCustomView:function(e,gv){var gw=br.$2(e,this.get_myCustomViews());if(ss.isNullOrUndefined(gw)){throw new ss.Exception(ss.formatString('Cannot rename unknown custom view with ID: {0}',e))}this.$k(gw,gv,ss.mkdel(this,function(gx){this.$7()}),function(gx){dW.showNotification(tab.Strings.ToolbarCustomViewsErrorRenaming,null)})},handleSelectCustomView:function(e){var gv=this.$2(e);if(ss.isValue(e)&&ss.isNullOrUndefined(gv)){throw new ss.Exception(ss.formatString('Cannot select custom view with unknown ID: {0}',e))}this.select(gv)},handleSetDefaultCustomView:function(e){var gv=this.$2(e);if(ss.isValue(e)&&ss.isNullOrUndefined(gv)){throw new ss.Exception(ss.formatString('Cannot set default custom view with unknown ID: {0}',e))}this.setDefault(gv,ss.mkdel(this,function(gw){this.$7()}),function(gw){dW.showNotification(tab.Strings.ToolbarCustomViewsErrorSettingDefault,null)})},handleToggleCustomViewSharing:function(e){var gv=br.$2(e,this.get_myCustomViews());if(ss.isNullOrUndefined(gv)){throw new ss.Exception(ss.formatString('Cannot toggle sharing for custom view with unknown ID: {0}',e))}this.updateCustomizedViewPublicState(gv,!gv.isPublic,ss.mkdel(this,function(gw){this.$7()}),function(gw){var gx=tab.Strings.ToolbarCustomViewsErrorChangingPublicPrivateState;dW.showNotification(gx,null)})},handleSaveCustomView:function(e,gv,gw){var gx=this.$5(e)||new Object;gx.name=e;gx.isPublic=gw;{var gy=tabBootstrap.MetricsController.createContext('Exporting_CustomViewsSave',1024,null);try{this.save$1(gx,ss.mkdel(this,function(gz){this.$7();this.$d()}),function(gz){dW.showNotification(tab.Strings.ToolbarCustomViewsErrorSavingView,null)},gv)}finally{if(ss.isValue(gy)){gy.dispose()}}}},$d:function(){if(ss.contains(br.$9,tabBootstrap.EmbedAndViewportCalculator.get_embedMode())){var e=window.top;e.document.activeElement.blur()}else{window.document.activeElement.blur()}},$8:function(e){if(tsConfig.allow_custom_view_default){if(br.$6(e)){return ss.isNullOrUndefined(this.$n)}else{return ss.isValue(this.$n)&&ss.unbox(this.$n)===ss.unbox(e.id)}}else{return false}},$6:function(){this.raiseActionEvent(this.$2$5)},save:function(e,gv,gw){var gx=this.$5(e);if(ss.isNullOrUndefined(gx)){gx=new Object;gx.name=e}this.save$1(gx,gv,gw,false)},save$1:function(e,gv,gw,gx){tab.CustomizedViewRequests.saveCustomizedView(e,ss.mkdel(this,function(gy){var gz=ss.mkdel(this,function(gA){this.saveCustomizedViewSuccess(gA);if(ss.isValue(gv)){gv(gA)}});if(gx){this.setDefault(gy,gz,function(gA){gz(gy)})}else if(this.$8(gy)){this.setDefault(null,function(gA){gz(gy)},function(gA){gz(gy)})}else{gz(gy)}}),ss.mkdel(this,function(gy){this.$e(gy);if(ss.isValue(gw)){gw(gy)}}))},$5:function(e){var gv=null;for(var gw=0;gw<this.$p.length;gw++){var gx=this.$p[gw];if(ss.equalsT(gx.name,e)){gv=gx}}return gv},$2:function(e){return br.$2(e,this.get_myCustomViews())||br.$2(e,this.get_otherCustomViews())},select:function(e){if(br.$6(e)){tab.CustomizedViewRequests.navigateToOriginalView(null);tsConfig.current_custom_view_id=null}else{tab.CustomizedViewRequests.navigateToCustomizedView(e);tsConfig.current_custom_view_id=e.id}},destroy:function(e,gv,gw){this.destroyCustomView(e,gv,gw)},update:function(e,gv,gw){this.$i(e,null,gv,gw)},makeCurrentDefault:function(e,gv){this.setDefault(this.$l,e,gv)},setDefault:function(e,gv,gw){tab.CustomizedViewRequests.setDefaultCustomizedView(e,ss.mkdel(this,function(gx){this.$h(gx);if(ss.isValue(gv)){gv(gx)}}),ss.mkdel(this,function(gx){this.$g(gx);if(ss.isValue(gw)){gw(gx)}}))},resetViewIfRequired:function(){if(this.$r){this.select(null)}},updateCustomizedViews:function(e,gv){this.$9(e,gv)},destroyCustomView:function(e,gv,gw){this.$o=true;tab.CustomizedViewRequests.destroyCustomizedView(e,ss.mkdel(this,function(){ss.remove(this.get_myCustomViews(),e);if(ss.referenceEquals(e.id,this.$n)){this.$n=null}if(ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=null;tab.CustomizedViewRequests.updateTsConfig(null,true);this.$r=true}this.$9(function(gx,gy){if(ss.isValue(gv)){gv()}},null)}),ss.mkdel(this,function(gx){this.$9(null,null);if(ss.isValue(gw)){gw(gx)}}))},updateCustomizedViewPublicState:function(e,gv,gw,gx){if(!ss.isValue(e)||gv===e.isPublic){return}var gy=new Object;gy.id=e.id;gy.isPublic=gv;gy.name=e.name;gy.owner=e.owner;gy.startViewId=e.startViewId;gy.urlId=e.urlId;this.$i(gy,e,gw,gx)},$k:function(e,gv,gw,gx){if(ss.equalsT(e.name,gv)){return}var gy=new Object;gy.id=e.id;gy.isPublic=e.isPublic;gy.name=gv;gy.owner=e.owner;gy.startViewId=e.startViewId;gy.urlId=e.urlId;this.$i(gy,e,gw,gx)},$j:function(e,gv){if(ss.isValue(gv)){var gw=ss.indexOf(this.$p,gv);if(gw>=0){ss.removeAt(this.$p,gw);ss.insert(this.$p,gw,e)}if(ss.isValue(gv)&&ss.referenceEquals(e.id,gv.id)&&ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=e}}},$i:function(e,gv,gw,gx){tab.CustomizedViewRequests.updateCustomizedView(e,ss.mkdel(this,function(gy){this.$j(e,gv);this.$9(function(gz,gA){gw(gy)},null)}),ss.mkdel(this,function(gy){this.$9(null,null);if(ss.isValue(gx)){gx(gy)}}))},$9:function(e,gv){tab.CustomizedViewRequests.getCustomizedViews(ss.mkdel(this,function(gw,gx){this.$4(gw,gx);if(ss.isValue(e)){e(gw,gx)}}),ss.mkdel(this,function(gw){this.$3(gw);if(ss.isValue(gv)){gv(gw)}}))},saveCustomizedViewSuccess:function(e){var gv=tabBootstrap.EmbedAndViewportCalculator.get_isEmbeddedInsideAnotherPage()&&!tsConfig.reloadOnCustomViewSave;if(gv||ss.isValue(this.$l)&&ss.unbox(this.$l.id)===ss.unbox(e.id)){this.$6();if(gv){var gw;if(ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id){for(gw=0;gw<this.$p.length;gw++){if(ss.referenceEquals(this.$p[gw].name,e.name)){this.$p[gw]=e;break}}if(gw>=this.$p.length){this.$p.push(e);this.$p.sort(br.$1)}}else{for(gw=0;gw<this.$q.length;gw++){if(ss.referenceEquals(this.$q[gw].name,e.name)){this.$q[gw]=e;break}}if(gw>=this.$q.length){this.$q.push(e);this.$q.sort(br.$1)}}}this.$l=e}else{tab.CustomizedViewRequests.navigateToCustomizedView(e)}this.onDirtyChanged()},$e:function(e){this.$6()},$h:function(e){this.$n=(ss.isValue(e)?e.id:null);this.$c()},$g:function(e){},$4:function(e,gv){this.$p=[];this.$q=[];this.$l=null;this.$m=null;this.$n=gv;for(var gw=0;gw<e.length;gw++){var gx=e[gw];if(br.$0(gx)){this.$p.push(gx)}else{this.$q.push(gx)}if(br.$3(gx)){this.$l=gx;this.$m=gx.name}}this.$f();this.$b()},$1:function(){return ss.isValue(this.$l)},$f:function(){if(this.$1()){return}this.$m=(br.$5()?tab.Strings.ToolbarCustomViewsSharedView:(ss.isValue(tsConfig.current_custom_view_name)?tsConfig.current_custom_view_name.toString():tab.Strings.ToolbarCustomViewsOriginalView))},$3:function(e){this.$m=null;this.$o=false},$b:function(){this.$p.sort(br.$1);this.$q.sort(br.$1);if(ss.isValue(this.$2$1)){this.$2$1(this,ss.EventArgs.Empty)}if(this.$o){this.$a();this.$o=false}},$c:function(){if(ss.isValue(this.$2$2)){this.$2$2(this,ss.EventArgs.Empty)}},$a:function(){if(ss.isValue(this.$2$3)){this.$2$3(this,ss.EventArgs.Empty)}},onDirtyChanged:function(){this.raiseEvent(this.$2$4,null)},onDialogHidden:function(){this.resetViewIfRequired()}},{$6:function(e){return ss.isNullOrUndefined(e)},$0:function(e){return ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id},$3:function(e){if(br.$6(e)){return br.$4()}else{return ss.isValue(tsConfig.current_custom_view_id)&&ss.unbox(tsConfig.current_custom_view_id)===ss.unbox(e.id)}},$4:function(){return ss.isValue(tsConfig.current_custom_view_id)===false},$2:function(e,gv){var gw=ss.getEnumerator(gv);try{while(gw.moveNext()){var gx=gw.current();if(ss.referenceEquals(gx.id,e)){return gx}}}finally{gw.dispose()}return null},$1:function(e,gv){return ss.compareStrings(e.name,gv.name,true)},$5:function(){return ss.isValue(tsConfig.current_custom_view_created_by_feature)&&tsConfig.current_custom_view_created_by_feature===1}});var bs=global.tab.DashboardAuthoringButtonTelemetry=ss.mkType(a,'tab.DashboardAuthoringButtonTelemetry',null,null,{logButtonActionInvoked:function(e,gv,gw,gx){bs.$0('DashboardAuthoring_ButtonAction',ss.mkdict(['AuthoringMode',(e?bs.$6:bs.$a),'ClickType',gv,'ButtonType',gw,'ButtonBehavior',gx]))},logOpenButtonConfigDialogInvoked:function(e,gv,gw){bs.$0('DashboardAuthoring_OpenButtonConfigDialog',ss.mkdict(['ClickType',e,'ButtonType',gv,'ButtonBehavior',gw]))},logOpenButtonPermissionsErrorDialogInvoked:function(e,gv,gw){bs.$0('DashboardAuthoring_OpenButtonPermissionsErrorDialog',ss.mkdict(['ClickType',e,'ButtonType',gv,'ButtonBehavior',gw]))},$0:function(e,gv){tab.OnlineAnalyticsClient.logEvent(e,gv)}});var bt=global.tab.DashboardAuthoringObjectsPaneTelemetry=ss.mkType(a,'tab.DashboardAuthoringObjectsPaneTelemetry',null,null,{logAddNewObjectToDashboardEvent:function(e,gv,gw){tab.OnlineAnalyticsClient.logEvent(bt.$4,ss.mkdict(['MethodAdded',(e?'dragDrop':'doubleClick'),'IsTiled',gv,'AddedObjectType',gw]))}});var bu=global.tab.DashboardLoadCompleteEventProperties=ss.mkType(a,'tab.DashboardLoadCompleteEventProperties');var bv=global.tab.DashboardLoadCompleteTelemetry=ss.mkType(a,'tab.DashboardLoadCompleteTelemetry',null,null,{$l:function(){return tab.OnlineAnalyticsClient.get_telemetryEnabled()&&!tsConfig.is_authoring},track:function(e){if(ss.isValue(e)&&bv.$l()){tab.ModuleManager.load$1(tab.IVizZoneModule).call(null,[]).done(function(gv){var gw={};bv.$0(e,gw);bv.$2(e,gv,gw);bv.$1(gw);tab.OnlineAnalyticsClient.logEvent('Dashboard_LoadComplete',gw)})}},$1:function(e){e['EmbedMode']=tabBootstrap.EmbedAndViewportCalculator.get_embedMode();e['MobileApp']=tsConfig.is_mobile_app;e['MobileDevice']=tsConfig.is_mobile_user_agent||BrowserSupport.BrowserSupport.IsIOSDeviceInDesktopMode();e['ScreenHeight']=window.screen.height;e['ScreenWidth']=window.screen.width;e['ViewportHeight']=window.innerHeight;e['ViewportWidth']=window.innerWidth},$0:function(e,gv){gv['IsAutoGenerated']=bv.$i(e);gv['CurrentDeviceType']=e.get_currentDeviceLayout();gv['DetectedDeviceType']=tabBootstrap.ViewerBootstrap.get_instance().get_deviceDetector().get_detectedDeviceType();gv['DefaultLayoutSizeMode']=bv.$c(e);gv['CurrentLayoutSizeMode']=bv.$b(e);gv['DefaultMinWidth']=bv.$g(e);gv['DefaultMaxWidth']=bv.$e(e);gv['DefaultMinHeight']=bv.$f(e);gv['DefaultMaxHeight']=bv.$d(e);if(ss.isNullOrUndefined(e.get_dashboardSize())){return}gv['DashboardWidth']=e.get_dashboardSize().w;gv['DashboardHeight']=e.get_dashboardSize().h;gv['IsWebZonesEnabled']=tsConfig.is_web_zones_enabled},$2:function(e,gv,gw){var gx=tab.ModelUtils.getVisualModelsFromDashboard(e);var gy=0;var gz=0;var gA=0;var gB=0;var gC=0;var gD=new ss.ObjectEnumerator(gx);try{while(gD.moveNext()){var gE=gD.current();var gF=gE.value;var gG=gv.computeVizScrollCapabilities(gF);if(tab.ScrollCapabilitiesUtil.hasCapabilities(gG,3)){gy+=1}else if(tab.ScrollCapabilitiesUtil.hasCapabilities(gG,1)){gz+=1}else if(tab.ScrollCapabilitiesUtil.hasCapabilities(gG,2)){gA+=1}if(gF.get_isMap()){gC+=1;if(bv.$j(gF)){gB+=1}}}}finally{gD.dispose()}gw['BothScrollableVizCount']=gy;gw['FilterZonesCount']=bv.$3(e);gw['FloatingZonesCount']=bv.$4(e);gw['HighlighterZonesCount']=bv.$5(e);gw['ImageZonesCount']=bv.$6(e);gw['LegendZonesCount']=bv.$7(e);gw['MapCount']=gC;gw['PannableMapCount']=gB;gw['ParameterZonesCount']=bv.$8(e);gw['TextZonesCount']=bv.$9(e);gw['XScrollableVizCount']=gz;gw['YScrollableVizCount']=gA;gw['VizCount']=ss.getKeyCount(gx);gw['ViewId']=tsConfig.current_view_id;gw['WebZonesCount']=bv.$a(e);gw['SheetType']=tsConfig.current_sheet_type},$j:function(e){return e.get_isMap()&&e.get_vizNavigationSetting()!=='fixed'},$6:function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(gv){return gv.get_zoneCommonModel().get_zoneType()==='bitmap'}).length},$a:function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(gv){return gv.get_zoneCommonModel().get_zoneType()==='web'}).length},$7:function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(gv){return gv.get_zoneCommonModel().get_zoneType()==='color'||gv.get_zoneCommonModel().get_zoneType()==='map'||gv.get_zoneCommonModel().get_zoneType()==='shape'||gv.get_zoneCommonModel().get_zoneType()==='size'}).length},$3:function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(gv){return gv.get_zoneCommonModel().get_zoneType()==='filter'}).length},$4:function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(gv){return gv.get_isFloating()}).length},$5:function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(gv){return gv.get_zoneCommonModel().get_zoneType()==='highlighter'}).length},$8:function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(gv){return gv.get_zoneCommonModel().get_zoneType()==='paramctrl'}).length},$9:function(e){return tab.ListExtensions.where(tab.ZoneModel).call(null,e.zonesModel.get_zoneModels(),function(gv){return gv.get_zoneCommonModel().get_zoneType()==='text'}).length},$i:function(e){return tsConfig.current_sheet_type!=='story'&&e.get_currentDeviceLayout()!=='default'&&!ss.isNullOrUndefined(e.get_autoGeneratedDeviceLayouts())&&ss.contains(e.get_autoGeneratedDeviceLayouts(),e.get_currentDeviceLayout())},$c:function(e){return(bv.$h(e)?e.get_defaultLayoutSizeModel().sizeMode:'size-mode-auto')},$b:function(e){return e.get_currentLayoutSizeMode()},$g:function(e){return(bv.$h(e)?e.get_defaultLayoutSizeModel().minWidth:0)},$e:function(e){return(bv.$h(e)?e.get_defaultLayoutSizeModel().maxWidth:0)},$f:function(e){return(bv.$h(e)?e.get_defaultLayoutSizeModel().minHeight:0)},$d:function(e){return(bv.$h(e)?e.get_defaultLayoutSizeModel().maxHeight:0)},$h:function(e){return ss.isValue(e.get_defaultLayoutSizeModel())}});var bw=global.tab.DashboardTemplate=ss.mkType(a,'tab.DashboardTemplate',function(e,gv){this.dashboardNode=null;spiff.Template.call(this,$(e));this.dashboardNode=(gv?this.getElementBySelector('.'+'tab-dashboard'):this.domRoot)},null,{newDashboardTemplate:function(e){var gv=(e?"<div class='tab-gutter'><div id='tab-dashboard-region' class='tab-dashboard'></div></div>":"<div id='tab-dashboard-region' class='tab-dashboard'></div>");return new bw(gv,e)}});var bx=global.tab.DashboardView=ss.mkType(a,'tab.DashboardView',function(e){this.$c=null;ss.makeGenericType(spiff.BaseView$1,[by]).call(this,e,bw.newDashboardTemplate(e.get_hasGutter()));this.$c=e;this.$c.add_formatsChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c.remove_formatsChanged(ss.mkdel(this,this.$7))})));this.$c.add_newZone(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c.remove_newZone(ss.mkdel(this,this.$8))})));this.$c.add_vizRebuildStart(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c.remove_vizRebuildStart(ss.mkdel(this,this.$a))})));this.$c.add_sizeChanged(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c.remove_sizeChanged(ss.mkdel(this,this.$9))})))},{$b:function(){return this.get_template()},get_containerNode:function(){return this.$b().domRoot},get_dashboardSize:function(){return(ss.isValue(this.$c.get_size())?tab.DashboardSizeCalculator.asMetric(this.$c.get_size()):null)},$7:function(){if(ss.isValue(this.$c.get_formats())){var e=this.$c.get_formats();this.$b().dashboardNode.css(e);if(this.$c.get_hasGutter()){var gv={top:this.$c.gutter.top+'px',left:this.$c.gutter.left+'px'};this.$b().dashboardNode.css(gv)}}},$9:function(){if(ss.isNullOrUndefined(this.$c.get_size())){E.get_commonDialogProvider().ShowErrorDialog(tab.Strings.DashboardSizeSupressedExceptionMessage,tab.Strings.SupressedExceptionTitle,null);return}this.$b().dashboardNode.height(this.$c.get_size().h).width(this.$c.get_size().w);if(this.$c.get_hasGutter()){$('.tab-gutter').height(this.$c.get_size().h+this.$c.gutter.top+this.$c.gutter.bottom).width(this.$c.get_size().w+this.$c.gutter.left+this.$c.gutter.right)}},$8:function(e){var gv=tab.ObjectRegistry.newView(gr).call(null,[e]);if(e.get_zoneType()==='title'){gv.prependToDom(this.$b().dashboardNode)}else{gv.addToDom(this.$b().dashboardNode)}},onAddedToDom:function(){if(!this.addedToDom){if(!this.$c.get_hasValidPresModel()){throw new ss.ArgumentNullException('DashboardPresModel')}if(tsConfig.showTabs){this.$b().dashboardNode.attr('role','tabpanel')}this.$9();this.$7();var e=_.keys(this.$c.get_zoneViewModels());for(var gv=0;gv<e.length;gv++){var gw=e[gv];this.$8(this.$c.get_zoneViewModels()[gw])}if(this.$c.get_isDashboard()){this.get_containerNode().addClass('is-dashboard')}else if(this.$c.get_isStory()){this.get_containerNode().addClass('is-story')}else{this.get_containerNode().addClass('is-worksheet')}}spiff.Widget.prototype.onAddedToDom.call(this)},$a:function(){if(this.$c.get_renderMode()==='render-mode-client'){var e=this.$b().dashboardNode.find('img');var gv=e.length;for(var gw=0;gw<gv;gw++){var gx=e[gw];if(ss.isNullOrUndefined(gx)||gx.naturalHeight===0||gx.naturalWidth===0){continue}var gy=document.createElement('canvas');gy.width=gx.naturalWidth;gy.height=gx.naturalHeight;var gz=gy.getContext('2d');gz.drawImage(gx,0,0);try{var gA=gy.toDataURL('image/png',new Object);gx.src=gA}catch(gJ){}}}var gB=this.$b().dashboardNode.clone(false,false);gB.addClass('facadedom');bx.uniquefyClonedFilterRadioElements(gB);if(this.$c.get_renderMode()==='render-mode-server'){var gC=this.$b().dashboardNode.find('canvas');var gD=gB.find('canvas');var gE=gC.length;for(var gF=0;gF<gE;gF++){var gG=gC[gF];var gH=gD[gF];if(!ss.isValue(gH)){continue}var gI=gH.getContext('2d');if(ss.isValue(gG)&&gG.width>0&&gG.height>0&&ss.isValue(gI)){gI.drawImage(gG,0,0)}}}this.$b().dashboardNode.parent().append(gB)}},{findDashboard:function(){return $('.'+'tab-dashboard')},isDashboardNode:function(e){return $(e).hasClass('tab-dashboard')},isMultiSelectClick:function(e){return tab.ModelUtils.isMultiSelectFeatureEnabled(tab.ModelUtils.findContentDashboard(null))&&spiff.EventUtil.isCtrlKey(e)&&e.get_IsLeftMouseEvent()},uniquefyClonedFilterRadioElements:function(e){var gv=e.find('input:radio');for(var gw=0;gw<gv.length;++gw){var gx=gv[gw];var gy=ss.coalesce(gx.getAttribute('name'),'');gy+='_%%%CLONE%%%';gx.setAttribute('name',gy)}}});var by=global.tab.DashboardViewModel=ss.mkType(a,'tab.DashboardViewModel',function(e){this.$k={};this.$j=null;this.viewControllersBySheet={};this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.viewControllers=null;this.dashboardModel=null;this.gutter=null;spiff.BaseViewModel.call(this);this.gutter=tabBootstrap.VizLayoutConstants.get_authoringGutter();this.dashboardModel=e;this.dashboardModel.zonesModel.add_newZone(ss.mkdel(this,this.$7));this.dashboardModel.add_newDashboard(ss.mkdel(this,this.$6));this.dashboardModel.add_activeZoneChanged(ss.mkdel(this,this.$4));this.dashboardModel.add_readyZoneChanged(ss.mkdel(this,this.$8));tab.SheetSession.add_sheetDataChanged(ss.mkdel(this,this.$i));tab.BaseSession.add_stateChanged(ss.mkdel(this,this.$f));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.BaseSession.remove_stateChanged(ss.mkdel(this,this.$f))})));this.disposables.add$1(new tab.CallOnDispose(tab.StyleUtil.clearDefaultStyleSheet));this.dashboardModel.add_renderModeChanged(ss.mkdel(this,this.$9));tab.DashboardModel.add_designModeChanged(ss.mkdel(this,this.$5));this.dashboardModel.add_sizeChanged(ss.mkdel(this,this.$e));this.dashboardModel.add_formatsChanged(ss.mkdel(this,this.$d));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.dashboardModel.remove_renderModeChanged(ss.mkdel(this,this.$9));tab.DashboardModel.remove_designModeChanged(ss.mkdel(this,this.$5));this.dashboardModel.remove_sizeChanged(ss.mkdel(this,this.$e));this.dashboardModel.remove_formatsChanged(ss.mkdel(this,this.$d))})));this.viewControllers=[];this.$0()},{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_vizRebuildStart:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_vizRebuildStart:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_sizeChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_sizeChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_portSizeChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_portSizeChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_formatsChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_formatsChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_designModeChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_designModeChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},get_isStory:function(){return this.dashboardModel.pm.isStory},get_zoneViewModels:function(){return this.$k},get_formats:function(){var e=this.dashboardModel.get_formats();if(tsConfig.current_sheet_type==='worksheet'&&tsConfig.is_authoring){e['backgroundColor']='transparent'}return e},get_backgroundColor:function(){var e='#FFFFFF';if(ss.isValue(this.get_formats())&&ss.keyExists(this.get_formats(),'backgroundColor')){e=this.get_formats()['backgroundColor']}return e},get_renderMode:function(){return this.dashboardModel.get_renderMode()},get_size:function(){return this.$j||this.dashboardModel.get_dashboardSize()},set_size:function(e){this.$j=e;this.raiseActionEvent(this.$2$3)},get_hasValidPresModel:function(){return ss.isValue(this.dashboardModel.pm)},get_isDashboard:function(){return this.dashboardModel.get_isDashboard()},get_flipboardNavigatorViewModel:function(){if(!this.get_isStory()){return null}return this.$3('flipboard-nav')},get_flipboardViewModel:function(){return this.$3('flipboard')},get_hasGutter:function(){return tsConfig.is_authoring&&(tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='story'&&this.get_isStory())},dispose:function(){var e=ss.getEnumerator(Object.keys(this.$k));try{while(e.moveNext()){var gv=e.current();tab.MiscUtil.dispose$1(this.$k[gv])}}finally{e.dispose()}ss.clearKeys(this.$k);tab.SheetSession.remove_sheetDataChanged(ss.mkdel(this,this.$i));for(var gw=0;gw<this.viewControllers.length;gw++){var gx=this.viewControllers[gw];tab.MiscUtil.dispose$1(gx)}ss.clear(this.viewControllers);ss.clearKeys(this.viewControllersBySheet);this.dashboardModel.zonesModel.remove_newZone(ss.mkdel(this,this.$7));this.dashboardModel.remove_newDashboard(ss.mkdel(this,this.$6));this.dashboardModel.remove_activeZoneChanged(ss.mkdel(this,this.$4));this.dashboardModel.remove_readyZoneChanged(ss.mkdel(this,this.$8));spiff.BaseViewModel.prototype.dispose.call(this)},$7:function(e){if(ss.keyExists(this.$k,e.get_zoneId())){this.$b(e.get_zoneId())}var gv=this.$2(e);if(gv.get_zoneType()==='viz'){if(ss.isValue(gv.get_zoneContentViewModel())){this.$a(gv)}else{var gw=null;gw=ss.mkdel(this,function(){gv.remove_newZoneContent(gw);this.$a(gv)});gv.add_newZoneContent(gw)}}else if(gv.get_zoneType()==='dashboard-object'&&gv.get_objectType()==='extension'){if(cH.promptExtensionsForPermissionsIfNeededAndZoneIsInitialized(this.get_zoneViewModels(),gv)){return}var gx=null;gx=ss.mkdel(this,function(gy){var gz=gy;if(!gz.get_isInitialized()){return}cH.promptExtensionsForPermissionsIfNeeded(this.get_zoneViewModels());gv.remove_newZoneContent(gx)});gv.add_newZoneContent(gx)}gv.set_isActiveZone(gv.get_zoneId()===this.dashboardModel.get_activeZoneID());this.$g(gv)},$a:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneContentViewModel())){return}var gv=this.$1(e.get_associatedSheet());e.get_zoneContentViewModel().set_viewController(gv)},$2:function(e){var gv=new gs(e);this.$k[e.get_zoneId()]=gv;return gv},$3:function(e){var gv=new ss.ObjectEnumerator(this.$k);try{while(gv.moveNext()){var gw=gv.current();if(gw.value.get_zoneType()===e){return gw.value.get_zoneContentViewModel()}}}finally{gv.dispose()}return null},$g:function(e){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e)}},$6:function(){this.$h(ss.mkdel(this,function(e){return!this.dashboardModel.hasZone(e.get_zoneId())||!this.dashboardModel.isValidSheet(e.get_model())}))},$e:function(){this.raiseActionEvent(this.$2$3)},$d:function(){this.raiseActionEvent(this.$2$5)},$9:function(){if(!ss.referenceEquals(this.dashboardModel,tab.ModelUtils.findContentDashboard(null))){return}this.raiseActionEvent(this.$2$2);this.$h(function(e){return e.get_zoneType()==='viz'})},$h:function(e){var gv=[];var gw=_.keys(this.$k);for(var gx=0;gx<gw.length;gx++){var gy=gw[gx];var gz=this.$k[gy];if(e(gz)){gv.push(gy)}}this.$c(gv);this.$0()},$c:function(e){for(var gv=0;gv<e.length;gv++){var gw=e[gv];this.$b(gw)}},$b:function(e){var gv=this.$k[e];if(ss.isValue(gv)){if(gv.get_zoneType()==='viz'){var gw=this.viewControllersBySheet['v_'+gv.get_associatedSheet()];if(ss.isValue(gw)){delete this.viewControllersBySheet['v_'+gv.get_associatedSheet()];ss.remove(this.viewControllers,gw);gw.dispose()}}gv.dispose();delete this.$k[e]}},$0:function(){var e=this.dashboardModel.get_zoneModels();for(var gv=0;gv<e.length;gv++){var gw=e[gv];if(!ss.keyExists(this.$k,gw.get_zoneId())&&this.dashboardModel.isValidSheet(gw)){this.$7(gw)}}},$5:function(){if(!ss.referenceEquals(this.dashboardModel,tab.ModelUtils.findContentDashboard(null))){return}var e=ss.getEnumerator(Object.keys(this.$k));try{while(e.moveNext()){var gv=e.current();var gw=this.$k[gv];gw.set_isDesignModeEnabled(!gw.get_isDesignModeEnabled())}}finally{e.dispose()}},$f:function(e){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$i:function(){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$4:function(){if(tsConfig.isPublic){return}if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).isDashboard){return}var e=this.dashboardModel.get_activeZoneID();var gv=ss.getEnumerator(Object.keys(this.$k));try{while(gv.moveNext()){var gw=gv.current();var gx=this.$k[gw];gx.set_isActiveZone(gx.get_zoneId()===e)}}finally{gv.dispose()}},$8:function(){if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).isDashboard){return}var e=this.dashboardModel.get_readyZoneID();var gv=ss.getEnumerator(Object.keys(this.$k));try{while(gv.moveNext()){var gw=gv.current();var gx=this.$k[gw];gx.set_isReadyZone(gx.get_zoneId()===e)}}finally{gv.dispose()}},$1:function(e){var gv=this.dashboardModel.getViewSession(e);var gw=new fV(gv);this.viewControllersBySheet['v_'+e]=gw;this.viewControllers.push(gw);return gw}},{new$1:function(e){return new by(e)}});var bz=global.tab.DataAlertCreateComponent=ss.mkType(a,'tab.DataAlertCreateComponent',function(e,gv){React.Component.call(this,e,gv)},{render:function(){return spiff.DOMElements.div({className:'tab-dataAlertDialog tab-dataAlertCreateComponent','data-tb-test-id':'data-alert-create-component'},this.$5(),this.$4(),this.$d(),this.$9(),this.$3(),this.$8(),this.$7(),this.$a(),this.$6(),this.$b())},$a:function(){if(tab.FeatureFlags.isEnabled('AlertSidePanel')){var e=spiff.DOMElements.div({className:'tab-dataAlertPublicPrivateInfoTooltip',alt:tab.Strings.DataAlertPublicInfo},tab.Strings.DataAlertPublicInfo);return spiff.DOMElements.div({className:'tab-dataAlertPublicPrivateCheckbox',style:{display:'flex'}},React.createElement(SharedWidgets.CheckBoxWithLabelWidget,{label:tab.Strings.DataAlertPublicCheckboxLabel,checked:this.props.isPublic,handleChange:this.props.onPublicChanged,testId:'publicCheckBox',disabled:false,containerStyle:{marginRight:'5px'}}),React.createElement(SharedWidgets.Tooltip,{getContent:function(){return e},position:'BottomRightCorner'},spiff.DOMElements.div({className:'tabDataAlertsPublicPrivateInfo'})))}return null},$5:function(){var e;e=tab.Strings.DataAlertOnConstantThreshold2(this.props.selectionCaption);return spiff.DOMElements.div({className:'tab-dataAlertConditionMessage'},e)},$4:function(){return spiff.DOMElements.div({className:'tab-dataAlertConditionArea'},spiff.DOMElements.div({className:'tab-dataAlertOperatorArea'},React.createElement(SharedWidgets.SingleSelectDropdown,this.props.conditionProps)),spiff.DOMElements.div({className:'tab-dataAlertThresholdArea'},spiff.DOMElements.label({className:'tab-dataAlertThresholdLabel'},spiff.DOMElements.span({className:'tab-dataAlertLabelText'},tab.Strings.DataAlertThreshold),this.$c()),spiff.DOMElements.span(this.$1(this.props.thresholdIsValid),this.props.thresholdMessage)))},$1:function(e){return{className:(e?'tab-dataAlertStandardText':'tab-dataAlertErrorText'),id:'tab-threshold-description'}},$0:function(e,gv){return{className:'tab-dataAlertErrorText',style:{visibility:(e?'hidden':'visible')},id:gv}},$c:function(){var e='tab-dataAlertThresholdInputContainer '+'tab-TextInput';if(!this.props.thresholdIsValid){e+=' error'}var gv=React.createElement(SharedWidgets.TextFieldWidget,{kind:'line',onChange:ss.mkdel(this,function(gw){this.props.onThresholdInputTextChanged(gw.target.value)}),testId:'tab-alert-threshold',value:this.props.threshold,disabled:!this.props.readyForInteraction,maxLength:this.props.maxThresholdLength,className:e,style:{width:'100%'},'aria-describedby':'tab-threshold-description','aria-invalid':!this.props.thresholdIsValid});return gv},$d:function(){var e='tab-dataAlertTitleInputContainer '+'tab-TextInput';var gv=!tab.MiscUtil.isNullOrEmpty$1(this.props.title);if(!gv){e+=' error'}var gw=React.createElement(SharedWidgets.TextFieldWidget,{kind:'line',onChange:ss.mkdel(this,function(gx){this.props.onTitleInputTextChanged(gx.target.value)}),testId:'tab-alert-title',value:this.props.title,disabled:!this.props.readyForInteraction,maxLength:bC.maxTitleLength,className:e,style:{width:'100%'},'aria-describedby':(gv?'':'tab-subject-description'),'aria-invalid':!gv});return spiff.DOMElements.div({className:'tab-dataAlertTitleInputArea'},spiff.DOMElements.label({className:'tab-dataAlertTitleInputLabel'},spiff.DOMElements.span({className:'tab-dataAlertLabelText'},tab.Strings.DataAlertSubject),gw),spiff.DOMElements.span(this.$0(gv,'tab-subject-description'),tab.Strings.DataAlertNoSubjectErrorMessage))},$9:function(){return spiff.DOMElements.div({className:'tab-dataAlertNotificationIntervalInputArea'},React.createElement(SharedWidgets.SingleSelectDropdown,this.props.notificationIntervalProps))},$3:function(){return spiff.DOMElements.div({className:'tab-dataAlertAddRecipients'},React.createElement(ep,this.props.recipientPickerProps))},$8:function(){var e='tab-dataAlertEmailInputContainer '+'tab-TextInput';var gv=this.props.currentUserEmailIsValid;if(!gv){e+=' error'}var gw=React.createElement(SharedWidgets.TextFieldWidget,{kind:'line',onChange:ss.mkdel(this,function(gx){this.props.onEmailInputTextChanged(gx.target.value)}),testId:'tab-alert-email',disabled:!this.props.readyForInteraction,maxLength:cn.maxEmailLength,className:e,style:{width:'100%'},'aria-describedby':'tab-email-description','aria-invalid':!gv});return spiff.DOMElements.div({className:'tab-dataAlertEmailInputArea',disabled:!this.props.readyForInteraction,style:{visibility:(this.props.showEmailInput?'visible':'hidden'),height:(this.props.showEmailInput?'auto':'0px'),padding:(this.props.showEmailInput?'':'0px')}},spiff.DOMElements.label({className:'tab-dataAlertEmailInputLabel'},spiff.DOMElements.span({className:'tab-dataAlertLabelText'},tab.Strings.ToolbarSubscribeEmailPlaceholder)),gw)},$7:function(){return spiff.DOMElements.span(this.$0(ss.isNullOrEmptyString(this.props.emailErrorText),'tab-email-description'),this.props.emailErrorText)},$6:function(){if(this.props.showCreateMetricCheckbox){return spiff.DOMElements.div({className:'tab-dataAlertCreateMetricCheckbox',style:{display:'flex'}},React.createElement(SharedWidgets.CheckBoxWithLabelWidget,{label:'Create a metric from this alert',checked:this.props.createMetric,handleChange:this.props.onCreateMetricChanged,testId:'createMetricCheckBox',disabled:false}))}return null},$b:function(){var e={handleClick:ss.mkdel(this,function(gw){this.$2()}),buttonType:2,testId:'tab-dataAlertSubmitButton',children:this.props.submitButtonText,'aria-label':this.props.submitButtonText,disabled:!this.props.enableSubmitButton};var gv=React.createElement(SharedWidgets.ButtonWidget,e);return spiff.DOMElements.div({className:'tab-dataAlertSubmitButtonArea'},gv)},$2:function(){this.props.onSave()}});var bA=global.tab.DataAlertCreatePersister=ss.mkType(a,'tab.DataAlertCreatePersister',function(){bK.call(this);this.successMessage=tab.Strings.DataAlertCreateSuccess;this.failureMessage=tab.Strings.DataAlertCreateFailure},{getSubmitButtonText:function(){return tab.Strings.DataAlertCreateButton},saveDataAlert:function(e,gv){var gw=ss.mkdel(this,function(gA){this.failureMessage=((gA===210006)?tab.Strings.DataAlertDatasourceError:tab.Strings.DataAlertCreateFailure);this.onPersistFailure()});var gx=ss.mkdel(this,function(gA){this.failureMessage=tab.Strings.DataAlertCreateFailure;this.onPersistFailure()});if(e.get_isViewSaveNeeded()){var gy=new Object;gy.isHidden=true;gy.isPublic=true;gy.startViewId='DDA';var gz=gy;tab.CustomizedViewRequests.saveCustomizedView(gz,ss.mkdel(this,function(gA){e.set_customizedViewId(gA.id.toString());tab.WorkgroupServerCommands.createDataAlert(e,ss.mkdel(this,this.onPersistSuccess),gw)}),gx)}else{tab.WorkgroupServerCommands.createDataAlert(e,ss.mkdel(this,this.onPersistSuccess),gw)}}},{new$1:function(){return new bA}});var bB=global.tab.DataAlertCreatePreparer=ss.mkType(a,'tab.DataAlertCreatePreparer',function(e){this.$0=null;bL.call(this);this.$0=e},{prepareDataAlert:function(){this.dataAlert=new tab.DataAlert.$ctor1(this.$0);this.raiseDataAlertPrepared()}},{new$1:function(e){return new bB(e)}});var bC=global.tab.DataAlertCreateViewModel=ss.mkType(a,'tab.DataAlertCreateViewModel',function(e,gv){this.$G=null;this.$F=null;this.$E=null;this.$L=null;this.$K=false;this.$J=false;this.$H='';this.$I=null;this.users=null;this.$3$1=false;this.$3$2=false;ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]).call(this);this.set_emptySearch(true);if(tsConfig.is_guest){return}this.$F=e;this.$E=gv;this.$p();this.$n();this.refresh()},{get_emptySearch:function(){return this.$3$1},set_emptySearch:function(e){this.$3$1=e},get_noResults:function(){return this.$3$2},set_noResults:function(e){this.$3$2=e},$v:function(){var e=(ss.isValue(this.$G)?this.$G.get_operator().toString():'');return{label:tab.Strings.DataAlertCondition,testId:'data-alert-condition-operation',onChange:ss.mkdel(this,this.$a),disabled:!this.$y(),type:1,value:e,children:(ss.isValue(this.$G)?tab.DataAlertConditionOperation.displayString(this.$G.get_operator()):''),list:React.createElement(SharedWidgets.List,{items:_.map(tab.DataAlertConditionOperation.supportedOperations(),ss.mkdel(this,function(gv){return{value:gv.toString(),content:tab.DataAlertConditionOperation.displayString(gv),separator:false}})),selectedValue:e}),zIndex:1000}},$A:function(){var e=ss.mkdel(this,this.$f);var gv=(ss.isValue(this.$G)?this.$G.get_notificationIntervalInMinutes().toString():'');return{label:tab.Strings.DataAlertNotificationInterval,testId:'data-alert-notification-interval',onChange:e,disabled:!this.$y(),type:1,value:gv,className:'tab-dataAlertNotificationIntervalInputArea',children:(ss.isValue(this.$G)?tab.DataAlertNotificationInterval.getDisplayString(this.$G.get_notificationIntervalInMinutes()):''),list:React.createElement(SharedWidgets.List,{items:_.map(tab.DataAlertNotificationInterval.supportedIntervals(),ss.mkdel(this,function(gw){return{value:gw.toString(),content:tab.DataAlertNotificationInterval.getDisplayString(gw),separator:false}})),selectedValue:gv}),zIndex:1000}},$B:function(){var e=new eq;e.recipients=this.users;e.label=tab.Strings.DataAlertRecipients;e.placeholder=tab.Strings.DataAlertsRecipientsSearchPlaceholder;e.onRecipientAdd=ss.mkdel(this,this.addUserWithIndex);e.onRecipientsChange=ss.mkdel(this,this.setUsers);e.userValidator=ss.mkdel(this,this.$u);e.userErrorMessageGenerator=ss.mkdel(this,this.$t);e.debounceTimeout=bC.debounceTimeout;return e},$D:function(){return ss.isValue(this.$G)&&this.$G.get_thresholdIsValid()&&!this.$K&&this.$w()&&!ss.isNullOrEmptyString(this.$G.get_title())&&this.get_emptySearch()&&this.$J},$w:function(){if(tab.FeatureFlags.isEnabled('AlertRecipientPermissionsErrors')){if(this.$2()){return this.$z()}return true}else{if(this.$2()){return this.$z()&&this.$C()===1}return this.$C()===0}},$C:function(){return this.users.filter(function(e){return!e.hasEmail}).length},$x:function(){var e=this.users.filter(ss.mkdel(this,function(gv){return!this.$8(gv)})).length;if(this.$3()){return e+1}return e},$z:function(){return cn.validate(this.$H)},$y:function(){return this.$J},$p:function(){this.users=[];this.set_emptySearch(true)},$m:function(){this.$G.add_titleChanged(ss.mkdel(this,this.refresh));this.$G.add_notificationIntervalChanged(ss.mkdel(this,this.refresh));this.$G.add_publicChanged(ss.mkdel(this,this.refresh));this.$G.add_createMetricChanged(ss.mkdel(this,this.refresh));this.$G.add_measureChanged(ss.mkdel(this,this.refresh));this.$G.add_conditionChanged(ss.mkdel(this,this.refresh));this.$G.add_recipientsChanged(ss.mkdel(this,this.refresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$G.remove_titleChanged(ss.mkdel(this,this.refresh));this.$G.remove_notificationIntervalChanged(ss.mkdel(this,this.refresh));this.$G.remove_publicChanged(ss.mkdel(this,this.refresh));this.$G.remove_createMetricChanged(ss.mkdel(this,this.refresh));this.$G.remove_measureChanged(ss.mkdel(this,this.refresh));this.$G.remove_conditionChanged(ss.mkdel(this,this.refresh));this.$G.remove_recipientsChanged(ss.mkdel(this,this.refresh))})))},$n:function(){this.$F.add_dataAlertPrepared(ss.mkdel(this,this.$d));this.$F.add_dataAlertPrepareFailed(ss.mkdel(this,this.onDataAlertPrepareFailed));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$F.remove_dataAlertPrepared(ss.mkdel(this,this.$d));this.$F.remove_dataAlertPrepareFailed(ss.mkdel(this,this.onDataAlertPrepareFailed))})))},$o:function(){this.$L=new tab.Debouncer(ss.mkdel(this,function(){var e=tab.DataAlertClientCommands.updateDataAlert(this.$G);e.done(ss.mkdel(this,function(gv){this.$G.set_alertConditionMet(gv);this.refresh()}))}),bC.debounceTimeout);this.disposables.add$1(this.$L)},$7:function(){if(ss.isNullOrUndefined(this.$G)){return''}if(this.$G.get_thresholdIsValid()){return(this.$G.get_alertConditionMet()?tab.Strings.DataAlertThresholdConditionMet:tab.Strings.DataAlertThresholdConditionUnmet)}var e=this.$G.get_conditionPresModel().dataType;if(e==='integer'){if(ss.isNullOrUndefined(tab.ApplicationModel.get_instance().get_appPresModel())){if(tab.DoubleUtil.isValidDouble(this.$G.get_threshold())){return tab.Strings.DataAlertThresholdErrorIntegerInputDouble}}else{var gv=tab.ApplicationModel.get_instance().get_appPresModel().numberFormats;if(tab.DoubleUtil.isValidDouble(tableau.format.reformatNumberToJsFormat(this.$G.get_threshold(),gv))){return tab.Strings.DataAlertThresholdErrorIntegerInputDouble}}return tab.Strings.DataAlertThresholdErrorIntegerInputNonNumeric}if(e==='real'){return tab.Strings.DataAlertThresholdErrorDouble}throw new ss.ArgumentException('ThresholdType.DataType is not among the supported data types')},$6:function(){if(this.$K){return tab.Strings.DataAlertCreateButtonSaving}return this.$E.getSubmitButtonText()},refresh:function(){this.updateProps$1({readyForInteraction:this.$y(),onThresholdInputTextChanged:ss.mkdel(this,this.$i),maxThresholdLength:18,onTitleInputTextChanged:ss.mkdel(this,this.$j),onPublicChanged:ss.mkdel(this,this.$g),onSave:ss.mkdel(this,this.$9),title:(ss.isValue(this.$G)?this.$G.get_title():this.$5()),isPublic:ss.isValue(this.$G)&&this.$G.get_isPublic(),selectionCaption:(ss.isValue(this.$G)?this.$G.get_selectionCaption():''),threshold:(ss.isValue(this.$G)?this.$G.get_threshold():''),thresholdIsValid:ss.isValue(this.$G)&&this.$G.get_thresholdIsValid(),alertConditionMet:ss.isValue(this.$G)&&this.$G.get_alertConditionMet(),thresholdMessage:this.$7(),onEmailInputTextChanged:ss.mkdel(this,this.$e),showEmailInput:this.$2(),recipientPickerProps:this.$B(),enableSubmitButton:this.$D(),notificationIntervalProps:this.$A(),emailErrorText:this.$4(),currentUserEmailIsValid:this.$w(),submitButtonText:this.$6(),showCreateMetricCheckbox:this.$q(),createMetric:(ss.isValue(this.$G)?this.$G.get_createMetricFromDDA():false),onCreateMetricChanged:ss.mkdel(this,this.$c),conditionProps:this.$v()})},addUser:function(e){this.addUserWithIndex(e,-1)},addUserWithIndex:function(e,gv){if(_.any(this.users,function(gx){return gx.id===e.id})){return}if(tab.FeatureFlags.isEnabled('AlertRecipientPermissionsErrors')&&e.id!==tsConfig.current_user_id){var gw=tab.WorkgroupServerCommands.checkIfUserCanReceiveDataAlert(e.id+'');if(ss.isNullOrUndefined(e.dataAlertRecipientErrorCode)){e.dataAlertRecipientErrorCode=-1}gw.done(ss.mkdel(this,function(){e.dataAlertRecipientErrorCode=0;this.refresh()}));gw.fail(ss.mkdel(this,function(gx){e.dataAlertRecipientErrorCode=gx;this.refresh()}))}ss.insert(this.users,gv,e);this.refresh()},setUsers:function(e){this.users=e;this.refresh()},removeUser:function(e){ss.remove(this.users,e);this.refresh()},removeUserByIndex:function(e){ss.removeAt(this.users,e);this.refresh()},setIsSearchEmpty:function(e){this.set_emptySearch(e);this.refresh()},setNoResults:function(e){this.set_noResults(e);this.refresh()},buildTelemetryObject:function(e){return ss.mkdict(['SubmitButtonPressed',this.$K,'TotalRecipientCount',this.users.length,'InvalidUnlicensedRecipientCount',this.users.filter(function(gv){return gv.dataAlertRecipientErrorCode===90}).length,'InvalidViewPermissionsRecipientCount',this.users.filter(function(gv){return gv.dataAlertRecipientErrorCode===210007}).length,'InvalidDownloadPermissionRecipientCount',this.users.filter(function(gv){return gv.dataAlertRecipientErrorCode===210008}).length,'InvalidEmailRecipientCount',this.users.filter(function(gv){return gv.dataAlertRecipientErrorCode===10011}).length,'OperatorType',this.$G.get_operator(),'EmailFrequency',this.$G.get_notificationIntervalInMinutes(),'ConditionMet',this.$G.get_alertConditionMet(),'SubmitButtonEnabled',this.$D(),'CurrentUserHasEmail',!tab.MiscUtil.isNullOrEmpty$1(tsConfig.current_user_email),'EditMode',e])},$4:function(){if(tab.FeatureFlags.isEnabled('AlertRecipientPermissionsErrors')){if(this.$3()){return tab.Strings.SubscribeInvalidAddress}else if(this.$x()===1){return tab.Strings.DataAlertInvalidUser}else if(this.$x()>1){return tab.Strings.DataAlertInvalidPluralUsers(this.$x())}else if(this.get_noResults()&&!this.get_emptySearch()){return tab.Strings.DataAlertNoUsersMatchSearch}return''}else{if(this.$2()){if(this.$w()){return''}return tab.Strings.SubscribeInvalidAddress}else if(this.$C()>0){return tab.Strings.DataAlertRecipientWithNoEmail}else if(this.get_noResults()&&!this.get_emptySearch()){return tab.Strings.DataAlertNoUsersMatchSearch}return''}},$8:function(e){return e.id===tsConfig.current_user_id||e.dataAlertRecipientErrorCode===0||e.dataAlertRecipientErrorCode===-1},$3:function(){return this.$2()&&!this.$w()},$2:function(){return this.$1()&&tab.MiscUtil.isNullOrEmpty$1(tsConfig.current_user_email)},$1:function(){return this.users.filter(function(e){return e.id===tsConfig.current_user_id}).length===1},$e:function(e){this.$H=e;this.refresh()},$j:function(e){if(ss.isNullOrUndefined(this.$G)){return}if(ss.referenceEquals(e,this.$G.get_title())){return}this.$G.set_title(e)},$g:function(e){if(ss.isNullOrUndefined(this.$G)){return}this.$G.set_isPublic(e)},$c:function(e){if(ss.isNullOrUndefined(this.$G)){return}this.$G.set_createMetricFromDDA(e)},$q:function(){return tab.FeatureFlags.isEnabled('MetricsAuthoringDDA')&&ss.referenceEquals(this.$E.getSubmitButtonText(),tab.Strings.DataAlertCreateButton)},$d:function(){this.$G=this.$F.get_preparedDataAlert();this.$I=ss.arrayClone(this.$G.get_recipients());this.$m();this.$o();this.$h();var e=this.$G.get_title();if(ss.isNullOrUndefined(e)){e=this.$5()}var gv=e;this.$j(gv);this.$g(this.$G.get_isPublic());this.$c(this.$G.get_createMetricFromDDA());this.$G.set_deviceType(tabBootstrap.ViewerBootstrap.get_instance().get_deviceDetector().get_deviceType());this.$J=true;this.refresh()},onDataAlertPrepareFailed:function(){this.$K=false;this.$J=false;this.refresh()},onDataAlertPreparing:function(){this.$J=false;this.refresh()},$5:function(){var e=tab.Strings.DataAlertSubjectTemplate(tsConfig.current_sheet_name);if(e.length>bC.maxTitleLength){e=e.substr(0,bC.maxTitleLength-3)+'...'}return e},$f:function(e){var gv={};if(ss.isValue(this.$G)&&ss.Int32.tryParse(e,gv)){this.$G.set_notificationIntervalInMinutes(gv.$)}},$i:function(e){if(ss.referenceEquals(e,this.$G.get_threshold())){return}if(tab.MiscUtil.isNullOrEmpty$1(e)){this.$L.cancel()}else{this.$s()}this.$r(this.$G.get_operator(),e)},$a:function(e){if(ss.isNullOrUndefined(e)){return}var gv=e;this.$b(gv)},$b:function(e){if(e===this.$G.get_operator()){return}this.$s();this.$r(e,this.$G.get_threshold())},$s:function(){if(ss.isValue(this.$L)){this.$L.invokeActionDelayed()}},$9:function(){this.$K=true;this.refresh();if(tab.MiscUtil.isNullOrEmpty$1(tsConfig.current_user_email)){this.$l()}else{this.$k()}},$l:function(){var e=ss.mkdel(this,this.$k);var gv=ss.mkdel(this,function(gw){var gx=((gw===10011)?tab.Strings.SubscribeInvalidAddress:tab.Strings.DataAlertCreateFailure);E.get_commonBannerProvider().showErrorBanner(gx,null,null,false);this.$K=false;this.refresh()});tab.WorkgroupServerCommands.setUserEmail(this.$H,e,gv)},$k:function(){if(tab.FeatureFlags.isEnabled('AlertRecipientPermissionsErrors')){var e=this.users.filter(ss.mkdel(this,this.$8));this.$G.updateRecipients(e)}else{this.$G.updateRecipients(this.users)}this.$E.saveDataAlert(this.$G,this.$I)},$h:function(){this.users=this.$G.get_recipients()},$r:function(e,gv){var gw=this.$G.get_conditionPresModel().dataAlertThresholdText;if(this.$G.isValidThresholdText(gv)){gw=gv}this.$G.set_threshold(gv);this.$G.set_conditionPresModel({dataAlertConditionOp:e,dataAlertThresholdText:gw,dataType:this.$G.get_conditionPresModel().dataType})},$u:function(e){if(e.id===tsConfig.current_user_id){return((this.$z()||e.hasEmail)?0:1)}if(tab.FeatureFlags.isEnabled('AlertRecipientPermissionsErrors')){if(e.dataAlertRecipientErrorCode===-1){return 2}if(e.dataAlertRecipientErrorCode===0){return 0}return 1}else{return(e.hasEmail?0:1)}},$t:function(e){if(tab.FeatureFlags.isEnabled('AlertRecipientPermissionsErrors')){switch(e.dataAlertRecipientErrorCode){case 10011:{return tab.Strings.DataAlertRecipientPillNoEmail(e.friendlyName)}case 90:{return tab.Strings.DataAlertRecipientPillUnlicensed(e.friendlyName)}case 210007:{return tab.Strings.DataAlertRecipientPillNoViewPermissions(e.friendlyName)}case 210008:{return tab.Strings.DataAlertRecipientPillNoDownloadPermissions(e.friendlyName)}default:{return''}}}else{return''}}},{new$1:function(e,gv){return new bC(e,gv)}});var bD=global.tab.DataAlertDialogViewModel=ss.mkType(a,'tab.DataAlertDialogViewModel',function(e,gv,gw){this.$o=null;this.$q=null;this.$m=null;this.$n=null;this.$p=null;this.$r=false;this.$t=null;this.$s=false;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.dialogPosition=null;this.$3$4=null;this.$3$5=false;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$t=e;this.$p=gv;this.$r=tab.FeatureFlags.isEnabled('SuspendDataAlerts')&&gw;e.add_showOrUpdateDialog(ss.mkdel(this,this.$g));this.$f();this.$g()},{add_hideDialogRequested:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_hideDialogRequested:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},add_dialogHidden:function(e){this.$3$2=ss.delegateCombine(this.$3$2,e)},remove_dialogHidden:function(e){this.$3$2=ss.delegateRemove(this.$3$2,e)},add_alertDeletedFromErrorDialog:function(e){this.$3$3=ss.delegateCombine(this.$3$3,e)},remove_alertDeletedFromErrorDialog:function(e){this.$3$3=ss.delegateRemove(this.$3$3,e)},$k:function(){return!ss.isNullOrEmptyString(this.$p)},get_createViewModel:function(){return this.$o},get_dialogHostViewModel:function(){return this.$3$4},set_dialogHostViewModel:function(e){this.$3$4=e},$l:function(){return this.$t.pm},$i:function(){return this.$3$5},$j:function(e){this.$3$5=e},$f:function(){this.set_dialogHostViewModel(new cf);var e=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[cf,ce,Object])).call(null,[this.get_dialogHostViewModel()]);var gv=$(document.createElement('div'));e.addToDom(gv)},$g:function(){if(ss.isNullOrUndefined(this.$l())||!this.$l().isDataAlertDialogVisible){this.get_dialogHostViewModel().hide();this.$s=false;return}if(this.$k()&&this.$r&&!this.$c()){this.$d();E.get_commonBannerProvider().showSuccessBanner(tab.Strings.DataAlertResumedSucessfullyToast,null,null,true);this.$s=false;this.$6();return}if(!this.$s){this.$h();this.get_dialogHostViewModel().show(this);this.$s=true}},setupInlineEditing:function(e){this.$p=e;this.$r=false;this.$j(true)},$d:function(){var e=E.get_instance().get_rightAreaDrawerViewModel();e.toggleDataAlertsPanel(fG.focusToolbar)},$h:function(){if(!this.$l().isDataAlertDialogVisible){return}if(this.$c()){if(this.$r){this.$d()}this.$4()}else{if(tab.CommandController.get_hasInstance()){tab.CommandController.get().add_undoCommand(ss.mkdel(this,this.$b))}this.$5()}this.incrementProps()},$c:function(){return ss.isValue(this.$l())&&!ss.isNullOrEmptyString(this.$l().dataAlertErrorText)},$4:function(){this.$q=new bI(this.$l().dataAlertErrorText,this.$p,this.$r||this.$k());this.$q.add_okButtonClicked(ss.mkdel(this,this.$b));this.$q.add_alertDeletedFromErrorDialog(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$q.remove_okButtonClicked(ss.mkdel(this,this.$b))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$q.remove_alertDeletedFromErrorDialog(ss.mkdel(this,this.$e))})));this.disposables.add$1(this.addChildViewModel(this.$q));this.disposables.add$1(this.$q);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$q=null})))},$e:function(){this.raiseActionEvent(this.$3$3)},$5:function(){if(this.$k()){this.$m=bE.new$1(this.$p);this.$n=bF.new$1(this.$l(),this.$p)}else{this.$m=bA.new$1();this.$n=bB.new$1(this.$l())}this.$o=bC.new$1(this.$n,this.$m);var e=ss.mkdel(this,function(){E.get_commonBannerProvider().showErrorBanner(tab.Strings.DataAlertLoadForEditFailure,null,null,false);this.$b()});this.$m.add_persistSuccess(ss.mkdel(this,this.$b));this.$m.add_persistFailure(ss.mkdel(this,this.$b));this.$n.add_dataAlertPrepareFailed(e);this.disposables.add$1(this.$o);this.disposables.add$1(this.addChildViewModel(this.$o));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$m.remove_persistSuccess(ss.mkdel(this,this.$b));this.$m.remove_persistFailure(ss.mkdel(this,this.$b));this.$n.remove_dataAlertPrepareFailed(e);this.$m=null;this.$n=null;this.$o=null})));this.$n.prepareDataAlert()},createInitialProps:function(){return{dialogWidth:400,isModal:true,positioningBehavior:2,shouldAdjustPositionOnWindowResize:true,shouldReturnFocusOnClose:true,showCloseButton:true,testId:'dataAlertDialog',type:0}},createUpdatedProps:function(){return(this.$c()?this.$a():this.$8())},$8:function(){return{children:this.$7(),footerContent:null,shouldReturnFocusOnClose:true,showFooter:false,title:this.$9()}},$9:function(){return(this.$k()?tab.Strings.DataAlertDialogTitleEditMode:tab.Strings.DataAlertDialogTitle)},$7:function(){return React.createElement(bz,this.$o.get_props())},$a:function(){return this.$q.get_dialogProps()},$b:function(){this.raiseActionEvent(this.$3$1)},onDialogHidden:function(){this.$6();this.$s=false},$6:function(){tab.DataAlertClientCommands.closeDataAlertDialog().done([ss.mkdel(this,function(){this.raiseActionEvent(this.$3$2)})]);if(!this.$c()&&ss.isValue(this.$o)){bM.$0(this.$o.buildTelemetryObject(this.$k()))}var e=this.$k()&&!this.$i();if(e||this.$r){if(ss.isValue(this.$n)&&this.$n.get_preparedDataAlert().get_viewType().toString()==='hiddenView'){var gv=new tab.RepoPathObject(tsConfig.repositoryUrl);var gw=tab.VizUriModel.createForViewingSheet(gv.get_originalViewURL());gw.removeQueryParam(bG.editDataAlertUrlParam);gw.removeQueryParam(bG.resumeDataAlertUrlParam);gw.removeQueryParam(bG.instanceIdUrlParam);gw.set_ignoreStickySession(true);gw.setWindowLocation(null)}else{var gx=tab.VizUriModel.createForCurrentWindowLocation(null);gx.removeQueryParam(bG.editDataAlertUrlParam);gx.removeQueryParam(bG.resumeDataAlertUrlParam);gx.replaceState(null)}if(ss.isValue(E.get_instance().get_apiEventHandler())){E.get_instance().get_apiEventHandler().removeEditDataAlertUrlParam(tsConfig.current_sheet_name)}}this.$p=null;this.$r=false;_.defer(ss.mkdel(this,this.$3))},$3:function(){this.disposables.dispose()},onCancel:function(e,gv){this.$6()},dispose:function(){if(tab.CommandController.get_hasInstance()){tab.CommandController.get().remove_undoCommand(ss.mkdel(this,this.$b))}this.$t.remove_showOrUpdateDialog(ss.mkdel(this,this.$g));tab.MiscUtil.dispose$1(this.get_dialogHostViewModel());spiff.BaseViewModel.prototype.dispose.call(this)}},{get_instance:function(){return bD.$1},new$1:function(e,gv,gw){return new bD(e,gv,gw)},handleDataAlertClick:function(e){bM.logAlertToolbarButtonClicked();if(!ss.isNullOrEmptyString(e)){bD.showInfoNotificationAndLogError(e,'platformPropagatedError');return}tab.DataAlertClientCommands.newDataAlert(function(){bD.showInfoNotificationAndLogError(tab.Strings.DataAlertInitFailure,'genericDataAlertInitError')})},showInfoNotificationAndLogError:function(e,gv){bM.logAlertToolbarButtonError(gv,e);E.get_commonBannerProvider().showInfoBanner(e,null,null,true)}});var bE=global.tab.DataAlertEditPersister=ss.mkType(a,'tab.DataAlertEditPersister',function(e){this.$0='';bK.call(this);this.$0=e;this.successMessage=tab.Strings.DataAlertUpdateSuccess;this.failureMessage=tab.Strings.DataAlertUpdateFailure},{getSubmitButtonText:function(){return tab.Strings.DataAlertUpdateButton},saveDataAlert:function(e,gv){var gw=bE.getDifferenceInUserLists(gv,e.get_recipients());var gx=bE.getDifferenceInUserLists(e.get_recipients(),gv);tab.WorkgroupServerCommands.updateDataAlert(e,this.$0,gw,gx,ss.mkdel(this,this.onPersistSuccess),ss.mkdel(this,this.onPersistFailure))}},{new$1:function(e){return new bE(e)},getDifferenceInUserLists:function(e,gv){var gw=_.difference(gv.map(function(gA){return gA.id}),e.map(function(gA){return gA.id}));var gx=[];for(var gy=0;gy<gw.length;gy++){var gz={$:gw[gy]};ss.arrayAddRange(gx,gv.filter(ss.mkdel({id:gz},function(gA){return gA.id===this.id.$})))}return gx},getOldUsersToRemove:function(e,gv){return bE.getDifferenceInUserLists(gv,e)}});var bF=global.tab.DataAlertEditPreparer=ss.mkType(a,'tab.DataAlertEditPreparer',function(e,gv){this.$7=null;this.$5=false;this.$6=false;bL.call(this);this.dataAlert=new tab.DataAlert.$ctor1(e);this.$7=gv},{prepareDataAlert:function(){this.$0()},$1:function(e){if(ss.isNullOrUndefined(e)||e.length===0){this.raiseDataAlertPrepareFailed();return}if(e.length>1){this.raiseDataAlertPrepareFailed();return}this.$4(e);this.$5=true;this.$3()},$4:function(e){var gv=e[0];this.dataAlert.set_title(gv.get_title());this.dataAlert.set_deviceType(gv.get_deviceType());this.dataAlert.set_notificationIntervalInMinutes(gv.get_notificationIntervalInMinutes());this.dataAlert.set_viewType(gv.get_viewType());this.dataAlert.set_isPublic(gv.get_isPublic())},$3:function(){if(this.$5&&this.$6){this.raiseDataAlertPrepared()}},$2:function(e){this.$6=true;_.each(e,function(gv){gv.hasEmail=true});this.dataAlert.updateRecipients(e);this.$3()},$0:function(){this.$5=false;this.$6=false;tab.WorkgroupServerCommands.getDataAlertForDataAlertId(tsConfig.current_view_id,this.$7).done(ss.mkdel(this,this.$1)).fail(ss.mkdel(this,this.raiseDataAlertPrepareFailed));tab.WorkgroupServerCommands.getUsersForDataAlertId(this.$7).done(ss.mkdel(this,this.$2)).fail(ss.mkdel(this,this.raiseDataAlertPrepareFailed))}},{new$1:function(e,gv){return new bF(e,gv)}});var bG=global.tab.DataAlertEditUrlHelper=ss.mkType(a,'tab.DataAlertEditUrlHelper',null,null,{isDataAlertEdit:function(){var e=bG.editDataAlertId();return!ss.isNullOrEmptyString(e)},editDataAlertId:function(){var e=tabBootstrap.UrlLocationHashManager.get_urlLocationSearchParams()[bG.editDataAlertUrlParam];return(ss.isNullOrEmptyString(e)?'':e)},isResumeDataAlert:function(){var e=tabBootstrap.UrlLocationHashManager.get_urlLocationSearchParams()[bG.resumeDataAlertUrlParam];return!ss.isNullOrEmptyString(e)&&ss.equalsT(e,'true')}});var bH=global.tab.DataAlertErrorComponent=ss.mkType(a,'tab.DataAlertErrorComponent',function(e){spiff.PureRenderComponent.call(this,e)},{render:function(){return spiff.DOMElements.div({className:bH.$1},this.renderGenericMessage())},renderGenericMessage:function(){var e=(tab.MiscUtil.isNullOrEmpty$1(this.props.alertSubject)?tab.Strings.DataAlertErrorDialogViewChanged(this.props.sheetName):tab.Strings.DataAlertErrorDialogViewChangedWithSubject(this.props.sheetName,this.props.alertSubject));return spiff.DOMElements.div({className:bH.$2},e)}});var bI=global.tab.DataAlertErrorViewModel=ss.mkType(a,'tab.DataAlertErrorViewModel',function(e,gv,gw){this.$f=null;this.$c=null;this.$d=null;this.$e=false;this.$3$1=null;this.$3$2=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$f=e;this.$c=gv;this.$e=gw;this.$a()},{add_okButtonClicked:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_okButtonClicked:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},add_alertDeletedFromErrorDialog:function(e){this.$3$2=ss.delegateCombine(this.$3$2,e)},remove_alertDeletedFromErrorDialog:function(e){this.$3$2=ss.delegateRemove(this.$3$2,e)},get_dialogProps:function(){return{children:this.$8(),title:tab.Strings.DataAlertAccessErrorTitle,showFooter:true,footerContent:this.$9(),zIndex:1000}},$a:function(){tab.WorkgroupServerCommands.getDataAlertForDataAlertId(tsConfig.current_view_id,this.$c).done(ss.mkdel(this,this.$b))},$b:function(e){if(e.length===1){this.$d=e[0].get_title()}this.incrementProps()},$8:function(){return React.createElement(bH,this.get_props())},createUpdatedProps:function(){return{errorText:this.$f,sheetName:tsConfig.current_sheet_name,alertSubject:this.$d}},$7:function(){var e=function(){E.get_commonBannerProvider().showErrorBanner(tab.Strings.DataAlertDeleteFailureToast,null,null,false)};var gv=ss.mkdel(this,function(){E.get_commonBannerProvider().showSuccessBanner(tab.Strings.DataAlertDeleteConfirmationToast(this.$d),null,null,true);this.raiseActionEvent(this.$3$2)});tab.WorkgroupServerCommands.deleteDataAlerts([this.$c],gv,e)},$9:function(){if(this.$e){return React.createElement(SharedWidgets.DialogFooterButtonsWidget,this.$5())}return React.createElement(SharedWidgets.DialogFooterButtonsWidget,this.$6())},$6:function(){return{buttons:[this.$3(tab.Strings.DialogButtonOK)]}},$5:function(){return{buttons:[this.$3(tab.Strings.DialogButtonCancel),this.$4()]}},$4:function(){return{handleClick:ss.mkdel(this,function(e){this.$7();this.raiseActionEvent(this.$3$1)}),buttonType:0,testId:'DeleteAlert',children:tab.Strings.DataAlertDeleteButtonResumeError,disabled:false}},$3:function(e){return{handleClick:ss.mkdel(this,function(gv){this.raiseActionEvent(this.$3$1)}),buttonType:1,testId:'OK',children:e,disabled:false}}});var bJ=global.tab.DataAlertPageReloadHandler=ss.mkType(a,'tab.DataAlertPageReloadHandler',function(){},null,{removeLeftoverRefline:function(e){var gv=e.pm;if(ss.isNullOrUndefined(gv)){return}var gw=E.get_instance().get_rightAreaDrawerViewModel();var gx=ss.isNullOrEmptyString(bG.editDataAlertId())&&gv.dataAlertDialogMode==='edit'&&!gw.get_isOpen();var gy=gv.dataAlertDialogMode==='background';if(!ss.isNullOrEmptyString(gv.referenceLineId)&&!gw.get_isOpen()&&(gx||gy)){var gz=new tab.CloseDataAlertDialogCmd;gz.set_noExceptionDialog(true);gz.invoke()}}});var bK=global.tab.DataAlertPersisterBase=ss.mkType(a,'tab.DataAlertPersisterBase',function(){this.successMessage=null;this.failureMessage=null;this.$1$1=null;this.$1$2=null},{add_persistSuccess:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_persistSuccess:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_persistFailure:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_persistFailure:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},getSubmitButtonText:function(){return''},saveDataAlert:function(e,gv){},onPersistSuccess:function(){E.get_commonBannerProvider().showSuccessBanner(this.successMessage,null,null,true);if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},onPersistFailure:function(){E.get_commonBannerProvider().showErrorBanner(this.failureMessage,null,null,false);if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}});var bL=global.tab.DataAlertPreparerBase=ss.mkType(a,'tab.DataAlertPreparerBase',function(){this.dataAlert=null;this.$1$1=null;this.$1$2=null},{add_dataAlertPrepared:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_dataAlertPrepared:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_dataAlertPrepareFailed:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_dataAlertPrepareFailed:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_preparedDataAlert:function(){return this.dataAlert},prepareDataAlert:null,raiseActionEvent:function(e){if(!ss.staticEquals(e,null)){e()}},raiseDataAlertPrepared:function(){this.raiseActionEvent(this.$1$1)},raiseDataAlertPrepareFailed:function(){this.raiseActionEvent(this.$1$2)}});var bM=global.tab.DataAlertTelemetry=ss.mkType(a,'tab.DataAlertTelemetry',null,null,{logAlertToolbarButtonClicked:function(){tab.OnlineAnalyticsClient.logEvent('DataAlert_CreateAlertButtonClicked',ss.mkdict(['ErrorMessageType','createAlertButtonClicked']))},logAlertToolbarButtonError:function(e,gv){tab.OnlineAnalyticsClient.logEvent('DataAlert_CreateAlertButtonClicked',ss.mkdict(['ErrorMessageType',e,'ErrorMessageString',gv]))},$0:function(e){tab.OnlineAnalyticsClient.logEvent('DataAlert_CloseOrSubmitButtonClicked',e)}});var bN=global.tab.DataAlertTelemetryConstants=ss.mkType(a,'tab.DataAlertTelemetryConstants');var bO=global.tab.DataDetailsButtonViewModel=ss.mkType(a,'tab.DataDetailsButtonViewModel',function(e){this.$4=new tab.DisposableHolder;this.$5=null;this.$1$1=null;if(tab.FeatureFlags.isEnabled('ChangeDataDetailsToolbarIcon')){tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.$0));tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.$2));this.$4.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.$0));tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$2))})))}this.$5=function(){var gw=E.get_instance().get_rightAreaDrawerViewModel();fD.logPaneToggleButtonSelectionEvent('lineage',gw.getToggleType(tab.IVizClientLineagePanelViewModel).call(gw,3));gw.toggleLineagePanel(e)};var gv=new fA(tab.Strings.DataDetailsToolbarButtonLabel,'tab-icon-lineage',this.$5);gv.set_sidePaneType(3);this.set_buttonViewModel(gv);this.$4.add$1(this.get_buttonViewModel())},{$1:function(){return tab.FeatureFlags.isEnabled('CatalogSevereWarnings')},get_buttonViewModel:function(){return this.$1$1},set_buttonViewModel:function(e){this.$1$1=e},dispose:function(){this.$4.dispose()},$2:function(e){tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$2));if(ss.referenceEquals(e.item1,e.item2)){return}this.$0()},$0:function(){tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.$0));var e=tab.Log.get(this);tab.OnlineAnalyticsClient.logEvent('QualityWarningCheck',null);this.$3().then(function(){tab.OnlineAnalyticsClient.logEvent('DataDetails',ss.mkdict(['Message','QualityWarningCheckCompleted']))},function(){tab.OnlineAnalyticsClient.logEvent('DataDetails',ss.mkdict(['Message','QualityWarningCheckFailed']))})},$3:function(){var e={};var gv={};gv['viewPath']=(new tab.RepoPathObject(tsConfig.repositoryUrl)).get_originalViewURL();e['query']='query ViewWarnings($viewPath: String!) {\n              views(filter: {path: $viewPath}, permissionMode: FILTER_RESULTS) {\n                normalUpstreamDataQualityWarnings: upstreamDataQualityWarnings(filter: {isActive: true, isSevere: false}) {\n                  id\n                }\n                severeUpstreamDataQualityWarnings: upstreamDataQualityWarnings(filter: {isActive: true, isSevere: true}) {\n                  id\n                }\n              }\n            }\n            ';e['variables']=gv;e['operationName']='ViewWarnings';var gw=ss.mkdel(this,function(gx,gy,gz){var gA=gx;var gB=tab.Log.get(this);var gC=bO.dataHasSevereDataQualityWarning(gA);if(this.$1()&&gC){tab.OnlineAnalyticsClient.logEvent('DataDetails',ss.mkdict(['Message','DisplayWithSevereBadge']));this.get_buttonViewModel().set_iconClass('tab-icon-lineage-severe-status');var gD=E.get_commonBannerProvider();var gE=tab.Strings.DataCatalogSevereWarningCount;var gF=this.$5;gD.showInfoBanner(gE,tab.Strings.DataCatalogSevereWarningAction,gF,false)}else if(bO.dataHasQualityWarning(gA)){tab.OnlineAnalyticsClient.logEvent('DataDetails',ss.mkdict(['Message','DisplayWithBadge']));this.get_buttonViewModel().set_iconClass('tab-icon-lineage-status')}else{tab.OnlineAnalyticsClient.logEvent('DataDetails',ss.mkdict(['Message','DisplayWithoutBadge']));this.get_buttonViewModel().set_iconClass('tab-icon-lineage')}});return tab.XhrUtil.helper({type:'POST',headers:ss.mkdict(['X-XSRF-TOKEN',tab.CookieHelper.getValueForCookie('XSRF-TOKEN')]),url:'/api/metadata/graphql',data:JSON.stringify(e),contentType:'application/json',success:gw},null)}},{dataHasSevereDataQualityWarning:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.data)||ss.isNullOrUndefined(e.data.views)){return false}for(var gv=0;gv<e.data.views.length;gv++){var gw=e.data.views[gv];if(ss.isValue(gw.severeUpstreamDataQualityWarnings)&&gw.severeUpstreamDataQualityWarnings.length>0){return true}}return false},dataHasQualityWarning:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.data)||ss.isNullOrUndefined(e.data.views)){return false}for(var gv=0;gv<e.data.views.length;gv++){var gw=e.data.views[gv];if(ss.isValue(gw.normalUpstreamDataQualityWarnings)&&gw.normalUpstreamDataQualityWarnings.length>0){return true}}return false}});var bP=global.tab.DataHighlighterView=ss.mkType(a,'tab.DataHighlighterView',function(e,gv){this.dataHighlighterViewModel=null;this.$j=null;this.$k=null;this.dataHighlighterContentElement=null;this.dataHighlighterViewRootElement=null;this.zoneTitleRegionRootElement=null;this.dataHighlighterButtonElement=null;this.$n=null;this.queryDelayTimer=null;this.currentListPopulationMode=0;this.notShownResultsListItemIsVisible=false;this.$m=false;this.$l=null;ss.makeGenericType(spiff.BaseView$1,[bR]).call(this,e,gv);this.dataHighlighterViewModel=e;this.$k=gv.domRoot;this.dataHighlighterContentElement=gv.get_dataHighlighterContentElement();this.dataHighlighterViewRootElement=gv.get_dataHighlighterViewRootElement();this.dataHighlighterButtonElement=gv.get_dataHighlighterMenuButtonElement();this.zoneTitleRegionRootElement=gv.get_zoneTitleRegionRootElement();this.$j=tab.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.dataHighlighterViewRootElement.append(this.$j.get_domRoot());this.$j.addClass('tabDataHighlighterView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(this.get_viewModel().get_searchPlaceholderString());if(!ss.isNullOrUndefined(this.get_viewModel().get_searchText())&&this.get_viewModel().get_searchText().length>0){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive());this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText())}this.$i();this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$8));this.get_compositeSearchWidget().add_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().add_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().add_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().add_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.add_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.add_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.add_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.add_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.add_domainItemsChanged(ss.mkdel(this,this.$7));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$9)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$a)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'mouseup',ss.mkdel(this,this.$b)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'touchend',ss.mkdel(this,this.$b)));this.setTitleFromModel();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().removeList();this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$8));this.get_compositeSearchWidget().remove_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().remove_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().remove_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().remove_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.remove_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.remove_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.remove_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.remove_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.remove_domainItemsChanged(ss.mkdel(this,this.$7));this.$e()})))},{get_compositeSearchWidget:function(){return this.$j},$8:function(e){this.$e();this.$i();if(e.trim().length>0){this.get_viewModel().set_isActive(true);this.$h()}else{this.dataHighlighterViewModel.clearHighlighting();this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}this.get_viewModel().lastSatisfiedSearchTerm=null;this.get_viewModel().lastSatisfiedSearchResults=null;this.get_viewModel().set_searchText(e)},$i:function(){if(this.$j.get_textInputView().get_text().trim().length>0){this.$j.get_searchButton().element.hide();this.$j.get_clearButton().element.show()}else{this.$j.get_searchButton().element.show();this.$j.get_clearButton().element.hide()}},$h:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$d),200)},$e:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$d:function(){this.dataHighlighterViewModel.sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false);this.$e()},handleNewSearchQueryResults:function(e,gv){if(!ss.referenceEquals(e,this.$j.get_textInputView().get_text())||ss.isNullOrUndefined(gv)){return}this.populateAndDisplayList(gv,2)},populateAndDisplayList:function(e,gv){this.currentListPopulationMode=gv;this.$n=tab.MiscUtil.dispose(this.$n);this.$n=[];var gw=Math.min(e.dataHighlighterItems.length,this.get_viewModel().get_maxNumberListItems());for(var gx=0;gx<gw;gx++){var gy=e.dataHighlighterItems[gx];this.$n.push(spiff.ListItemViewModel.newListItem(gy.objectId.toString(),gy,false,false,false))}if(gw<e.totalNumberOfItemsInSet){var gz=e.totalNumberOfItemsInSet-gw;var gA=((gz>1)?tab.Strings.SearchResultsNotShownPlural(gz.toString()):tab.Strings.SearchResultsNotShownSingular);this.$n.push(spiff.ListItemViewModel.newListItem(gA,null,false,false,false));this.notShownResultsListItemIsVisible=true}else{this.notShownResultsListItemIsVisible=false}this.get_compositeSearchWidget().showListInsideUberPopup(this.$n,this,this.dataHighlighterViewRootElement,'tabDataHighlighterViewSearchResultList',312)},createListItemContent:function(e){var gv="<div class='{0}' title='{1}'>{1}</div>";var gw;if(ss.isValue(e.get_data())){var gx=e.get_data();gw=gx.text}else{gw=e.get_id()}var gy=ss.formatString(gv,'tab-list-item-label',tab.EscapingUtil.escapeHtml(gw));return $(gy).css(this.get_viewModel().get_formatStyle())},handleListItemSelected:function(e){if(ss.isNullOrUndefined(e.get_data())){return}var gv=e.get_data();this.get_compositeSearchWidget().setSearchText(gv.text);this.get_compositeSearchWidget().get_clearButton().element.show();this.get_compositeSearchWidget().get_searchButton().element.hide();this.get_viewModel().highlightItems([gv.objectId]);this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur();this.get_viewModel().lastSatisfiedSearchTerm=this.get_compositeSearchWidget().get_textInputView().get_text();this.get_viewModel().lastSatisfiedSearchResults={dataHighlighterItems:[gv]};this.get_viewModel().saveSearchTextForItem(gv.text,gv.objectId)},removeList:function(){this.currentListPopulationMode=0;this.get_compositeSearchWidget().removeList()},handleTitleChanged:function(){this.setTitleFromModel()},setTitleFromModel:function(){if(ss.isValue(this.dataHighlighterViewModel.get_zoneTitleHtml())){this.zoneTitleRegionRootElement.html(this.dataHighlighterViewModel.get_zoneTitleHtml());var e=this.dataHighlighterViewModel.get_titleAreaHeight();if(e>0){e=Math.max(e,17);this.zoneTitleRegionRootElement.height(e)}else{this.zoneTitleRegionRootElement.height('')}var gv=this.dataHighlighterViewModel.get_titleAreaWidth();if(gv>0){this.zoneTitleRegionRootElement.width(this.dataHighlighterViewModel.get_titleAreaWidth());this.$k.addClass('tab-HorizontalLayout')}else{this.$k.removeClass('tab-HorizontalLayout')}tableau.util.setupTitleEllipsis(this.zoneTitleRegionRootElement);this.zoneTitleRegionRootElement.attr('title',this.dataHighlighterViewModel.get_zoneTitleTooltip())}this.$k.toggleClass('tabBordered',this.get_viewModel().get_zoneHasBorder())},handleTextInputElementClicked:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;this.$l=(this.$c()?this.$f():null);if(e===0){this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)}else if(!this.$c()){this.$g()}},$f:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_inputElement();var gv=e.prop('selectionStart');var gw=e.prop('selectionEnd');var gx=gv!==gw;if(gx){return null}return gv},$c:function(){return ss.isValue(this.get_compositeSearchWidget().get_listViewModel())},$g:function(){if(ss.referenceEquals(this.get_viewModel().lastSatisfiedSearchTerm,this.get_compositeSearchWidget().get_textInputView().get_text())&&ss.isValue(this.get_viewModel().lastSatisfiedSearchResults)){this.populateAndDisplayList(this.get_viewModel().lastSatisfiedSearchResults,2)}this.get_viewModel().sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false)},$9:function(e){this.get_viewModel().set_isActive(true);this.$m=true},$a:function(e){tab.WindowHelper.clearSelection();this.$m=false},$b:function(e){var gv=this.$f();var gw=ss.isValue(gv);var gx=ss.isValue(this.$l);if(this.$m){if(gw&&!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.get_compositeSearchWidget().get_textInputView().get_inputElement())}this.$m=false}else if(this.$c()&&gx&&gw){var gy=ss.unbox(this.$l);var gz=ss.unbox(gv);if(gy===gz){var gA=this.get_compositeSearchWidget().get_textInputView().get_text().length;if(gz===gA){this.removeList()}}}this.$l=null},handleSearchButtonClicked:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().focus();this.$m=false;this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)},handleClearButtonClicked:function(){this.$m=false},handleSearchTextChanged:function(){if(ss.isValue(this.queryDelayTimer)){return}this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText());this.$i();this.get_compositeSearchWidget().get_textInputView().get_inputElement().focus()},handleIsActiveChanged:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive())},$7:function(){if(!this.$c()){return}var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(e>0){this.$g()}else{this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}},handleEnterKeyPress:function(){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()},handleEscapeKeyPress:function(){if(ss.isNullOrEmptyString(this.get_compositeSearchWidget().get_textInputView().get_text())){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()}else{this.get_compositeSearchWidget().get_textInputView().set_text('')}}});var bQ=global.tab.DataHighlighterView$ListPopulationMode=ss.mkEnum(a,'tab.DataHighlighterView$ListPopulationMode',{none:0,fullDomain:1,searchResults:2});var bR=global.tab.DataHighlighterViewModel=ss.mkType(a,'tab.DataHighlighterViewModel',function(e,gv,gw){this.$3=null;this.$8=null;this.$9=null;this.$6=null;this.$5=false;this.$7=null;this.$4=null;this.lastSatisfiedSearchTerm=null;this.lastSatisfiedSearchResults=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$3=e;this.$8=gv;this.$6=gw;this.$5=this.$3.get_isActive();this.set_searchText(this.$3.get_searchText());this.$4=ss.arrayClone(this.$3.get_fullDomainItemSet().dataHighlighterItems);if(ss.isValue(this.$6)){if(ss.isValue(this.$6.get_model().pm)&&this.$6.get_hasTitle()){this.$9=this.$6.get_model().pm.zoneTitle}this.$6.add_updateZone(ss.mkdel(this,this.$2));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6.remove_updateZone(ss.mkdel(this,this.$2))})))}this.$3.add_newDataHighlighterPresModel(ss.mkdel(this,this.$1));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newDataHighlighterPresModel(ss.mkdel(this,this.$1))})))},{add_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_titleChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_titleChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_searchTextChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_searchTextChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_isActiveChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_isActiveChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_domainItemsChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_domainItemsChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneTitleHtml:function(){if(ss.isValue(this.$9)){return this.$9.html}else{return''}},get_titleAreaHeight:function(){return((ss.isValue(this.$9)&&this.$6.get_titleSize().h!==0)?this.$9.h:0)},get_titleAreaWidth:function(){return((ss.isValue(this.$9)&&this.$6.get_titleSize().w!==0)?this.$9.w:0)},get_zoneHasBorder:function(){return this.$3.get_zoneHasBorder()},get_zoneWidth:function(){return this.$3.get_zoneWidth()},get_zoneTitleTooltip:function(){return(ss.isValue(this.$9)?this.$9.caption:'')},get_searchPlaceholderString:function(){return this.$3.get_searchPlaceholderString()},get_fullDomainItemSet:function(){return this.$3.get_fullDomainItemSet()},get_searchText:function(){return this.$7},set_searchText:function(e){var gv=!ss.referenceEquals(e,this.$7);this.$7=e;if(gv&&!ss.staticEquals(this.$2$3,null)){this.$2$3()}},get_numHighlighted:function(){return this.$3.get_numHighlighted()},get_isActive:function(){return this.$5},set_isActive:function(e){var gv=e!==this.$5;this.$5=e;if(gv&&!ss.staticEquals(this.$2$4,null)){this.$2$4()}},get_isDropdownActive:function(){return tsConfig.is_authoring&&!this.$6.get_isInDashboard()&&tab.FeatureFlags.isEnabled('MttwHighlighterTitles')},get_maxNumberListItems:function(){var e=tab.FeatureParamsLookup.getInt(44);if(ss.isNullOrUndefined(e)){e=this.$3.get_maxNumberListItems()}return e},get_formatStyle:function(){return tab.FormattingConverters.makeFormatStyleDict(this.$3.get_bodyTextStyle(),null)},alertIfDomainItemsChanged:function(){if(bR.$0(this.$4,this.get_fullDomainItemSet().dataHighlighterItems)){this.$4=ss.arrayClone(this.get_fullDomainItemSet().dataHighlighterItems);this.raiseActionEvent(this.$2$5)}},showContextMenu:function(e){var gv=new tab.GetDataHighlighterMenuCmd;gv.c['fn']=this.$3.get_fieldName();gv.c['worksheet']=tsConfig.current_sheet_name;gv.invoke().done(function(gw){var gx=gw.$$c['commands'];if(tsConfig.is_mobile||tsConfig.is_mobile_app){tab.RichTextClientCommands.removeRichTextCommands(gx)}var gy=gm.menuViewModelFromCommands(gx,function(gz){gm.commandMenuItemClicked(gz)},null,null,null);if(ss.isValue(gy)){gy.show(e)}})},$0:function(){return tab.ApplicationModel.get_instance().get_isLocalRenderMode()},sendSearchQuery:function(e,gv){if(tab.ApplicationModel.get_instance().get_isOffline()){var gw=e.toLowerCase();var gx=[];var gy=[];var gz=this.$3.get_fullDomainItemSet().dataHighlighterItems;for(var gA=0;gA<gz.length;gA++){var gB=gz[gA];if(gB.text.toString().toLowerCase().indexOf(gw)!==-1){gy.push(gB.objectId);gx.push(gB)}}this.lastSatisfiedSearchTerm=e;var gC={dataHighlighterItems:Array.prototype.slice.call(gx),totalNumberOfItemsInSet:gx.length};this.lastSatisfiedSearchResults=gC;if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,gC)}this.highlightItems(Array.prototype.slice.call(gy))}else{var gD=new tab.HighlightItemsByPatternMatchCmd;gD.c['fn']=this.$3.get_fieldName();gD.c['valueString']=e;gD.c['visualIdPresModel']=this.$8;gD.set_uiBlocking('none');gD.invoke().done(ss.mkdel(this,function(gE){if(gv){return}this.lastSatisfiedSearchTerm=e;this.lastSatisfiedSearchResults=gE.$$c['dataHighlighterItemSet'];if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,gE.$$c['dataHighlighterItemSet'])}}))}},saveSearchTextForItem:function(e,gv){var gw=new tab.HighlightItemsByPatternMatchCmd;gw.c['fn']=this.$3.get_fieldName();gw.c['valueString']=e;gw.c['visualIdPresModel']=this.$8;gw.c['objectIds']=[gv];gw.invoke()},highlightItems:function(e){if(e.length>0){tab.SelectionClientCommands.highlightItems(this.$3,this.$3.get_fieldName(),e,this.$8,this.$0())}},clearHighlighting:function(){tab.SelectionClientCommands.clearHighlighting(this.$3,this.$3.get_fieldName(),this.$8,this.$0())},restoreSearchResultsHighlighting:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.lastSatisfiedSearchResults)){this.highlightItems(this.lastSatisfiedSearchResults.dataHighlighterItems.map(function(e){return e.objectId}))}}else{this.sendSearchQuery(this.lastSatisfiedSearchTerm,true)}},$2:function(){var e=this.$6.get_model();var gv=ss.isValue(e.pm)&&ss.isValue(e.pm.zoneTitle);if(gv){var gw=(this.$6.get_model().get_hasTitle()?e.pm.zoneTitle:null);if(!ss.referenceEquals(gw,this.$9)){this.$9=gw;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}}}},$1:function(){this.set_isActive(this.$3.get_isActive());this.set_searchText(this.$3.get_searchText());this.alertIfDomainItemsChanged()}},{$0:function(e,gv){if(e.length!==gv.length){return true}else{for(var gw=0;gw<e.length;gw++){if(!ss.referenceEquals(e[gw].text,gv[gw].text)){return true}}}return false}});var bS=global.tab.DataHighlighterViewTemplate=ss.mkType(a,'tab.DataHighlighterViewTemplate',function(){this.$1=null;this.$3=null;this.$4=null;this.$2=null;spiff.Template.call(this,$("\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion'></div>\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'></div>\n                </div>\n                <div class='tabDataHighlighterMenuView'>\n                    <div class='tabDataHighlighterMenuButton'>\n                        <div class='tabHighlighterContextMenuButtonIcon'></div>\n                    </div>\n                </div>\n            </div>"));this.$1=this.domRoot.find('.tabDataHighlighterContent');this.$3=this.domRoot.find('.tabDataHighlighterView');this.$4=this.domRoot.find('.tab-zone-titleregion');this.$2=this.domRoot.find('.tabDataHighlighterMenuButton')},{get_dataHighlighterContentElement:function(){return this.$1},get_dataHighlighterViewRootElement:function(){return this.$3},get_zoneTitleRegionRootElement:function(){return this.$4},get_dataHighlighterMenuButtonElement:function(){return this.$2}});var bT=global.tab.DataMonitoringPanel=ss.mkType(a,'tab.DataMonitoringPanel',function(e,gv){spiff.PureRenderComponent.$ctor1.call(this,e,gv)},{render:function(){var e=new gk;e.moduleName=bT.$1;e.initialProps=this.props;return React.createElement(gj,e)}});var bU=global.tab.DataMonitoringPanelProps=ss.mkType(a,'tab.DataMonitoringPanelProps',function(){this.onCloseRequested=null;this.viewId=null});var bV=global.tab.DataMonitoringPanelViewModel=ss.mkType(a,'tab.DataMonitoringPanelViewModel',function(e){this.$3=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[bU]).call(this);this.$3=e;tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.handleTabChangeComplete));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.handleTabChangeComplete))})))},{createInitialProps:function(){var e=new bU;e.onCloseRequested=this.$3;e.viewId=tsConfig.current_view_id;return e},createUpdatedProps:function(){return this.createInitialProps()},get_viewType:function(){return ss.makeGenericType(spiff.ReactHostView$3,[bV,bT,bU])},get_viewModel:function(){return this},disposeViewModel:function(){this.dispose()},handleTabChangeComplete:function(e){if(ss.referenceEquals(e.item1,e.item2)){return}if(ss.isValue(tab.ApplicationModel.get_instance().get_workbook().get_storyboard())){this.$3();return}this.incrementProps()}});var bW=global.tab.DataSourceConnectionErrorDialog=ss.mkType(a,'tab.DataSourceConnectionErrorDialog',function(e,gv,gw){this.$1=null;M.call(this,e,gv,gw);this.$1=new cl(tab.Strings.AuthenticationRequired,e.RedirectUrl,'dse-frame')},{show:function(){var e=new cw;var gv=ss.mkdel(this,function(gw){this.onAuthDialogMessage(gw,e)});e.eventHandler=gv;tab.WindowHelper.addListener(window.self,'message',gv);this.$1.add_closed(ss.mkdel(this,function(gw,gx){this.$0(e)}));this.$1.show()},cleanup:function(e){this.$1.close(null)},dispose:function(){this.$1.dispose()},$0:function(e){tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);if(!this.get_submitted()&&!ss.staticEquals(this.onCancel,null)){this.onCancel()}}});var bX=global.tab.DataSourceExtractController=ss.mkType(a,'tab.DataSourceExtractController',null,null,{commitPendingExtractAction:function(){var e=$.Deferred();if(!tsConfig.allowExtractAuthoring||tab.ApplicationModel.get_instance().get_workbook().get_uiMode()!=='data-tab'){return e.resolve()}var gv=new tab.CheckExtractActionNeededCmd;gv.set_uiBlocking('immediately');return gv.invoke().pipe(function(gw){if(gw.$$c['extractAction']==='create'||gw.$$c['extractAction']==='remove'){return tab.ModuleManager.load$1(tab.IDataTabModule).call(null,[]).pipe(function(gx){return gx.activateExtract(gw.$$c['datasource'],gw.$$c['datasourceCaption'],gw.$$c['extractAction']==='create')})}return e.resolve()})}});var bY=global.tab.DatePicker=ss.mkType(a,'tab.DatePicker',function(e){this.$o=0;this.$A=null;this.$w=null;this.$p=null;this.$n=null;this.$z=null;this.$s=null;this.$t=null;this.$q=null;this.$r=null;this.$v=null;this.$y=null;this.$x=null;this.$u=null;this.$C=null;this.$B=null;this.$D=false;spiff.Widget.call(this,$('<span></span>'));this.$o=e.firstDayOfWeek;this.$A=e.shortDayOfWeekNames;this.$B=e.todayFormatTemplate;this.$w=e.monthYearFormatter;this.$p=e.fullDateFormatter;this.$D=false;var gv=new Date;this.$n=bY.$4(bY.$0(e.monthToShow)||gv);this.$z=bY.$0(e.dateToSelect);this.setDateRange(e.minDate,e.maxDate);this.element.addClass('tab-datepicker');this.$b().appendTo(this.element);var gw=$('<div></div>').addClass('tab-datepicker-month-table-wrapper').append($('<div></div>').addClass('tab-datepicker-week-shade')).append(this.$c());gw.appendTo(this.element);this.$a().appendTo(this.element);this.element.mousedown(function(gx){spiff.EventUtil.stopEvent$2(gx)});this.$j()},{setDateRange:function(e,gv){this.$s=bY.$0(e);this.$q=bY.$0(gv);this.$t=bY.$4(this.$s);this.$r=bY.$4(this.$q)},show:function(e){if(ss.isValue(e)){this.$n=bY.$4(bY.$0(e));this.$z=bY.$0(e)}this.$j();return this.element.show().width(tab.DoubleUtil.roundToInt(this.element.width()))},hide:function(){this.$D=false;this.element.height('auto');return this.element.hide()},positionCalendarByElement:function(e){P.getViewport(ss.mkdel(this,function(gv){var gw=e.offset();var gx=tab.DoubleUtil.roundToInt(this.element.outerWidth());var gy=this.getMaxHeight();var gz=tab.DoubleUtil.roundToInt(e.outerHeight());gw=this.$6(gv,gz,gw,gx,gy);this.element.offset(gw)}))},$6:function(e,gv,gw,gx,gy){var gz=tab.DoubleUtil.roundToInt(gw.left);var gA=tab.DoubleUtil.roundToInt(gw.top);var gB=e.getDocumentViewport({x:gz,y:gA});var gC=gB.l+gB.w;var gD=gB.t+gB.h;if(gA+gv-1+gy<=gD){gA+=gv-1;gz=bY.$2(gz,gx,gB.l,gC)}else if(gA-(gy-1)>gB.t){this.useMaxHeight();gA-=gy-1;gz=bY.$2(gz,gx,gB.l,gC)}else if(gz-(gx-1)>gB.l){gz-=gx-1;gA=bY.$2(gA,gy,gB.t,gD)}else{var gE=gz;gz=gB.l;gz=bY.$2(gz,gx,gB.l,gE);gA=bY.$2(gA,gy,gB.t,gD)}return{left:gz,top:gA}},getMaxHeight:function(){var e=this.element.find('.tab-datepicker-month-table tbody tr');return tab.DoubleUtil.roundToInt(this.element.outerHeight())+Math.round(tab.DoubleUtil.roundToInt(e.outerHeight())*(6-e.length))},useMaxHeight:function(){if(!this.$D){this.$D=true;this.$j();this.element.height(tab.DoubleUtil.roundToInt(this.element.height()))}},$b:function(){var e=$('<div></div>').addClass('tab-datepicker-header');this.$v=$('<span></span>').addClass('tab-datepicker-header-text').appendTo(e);this.$y=$('<span></span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-prev-month-button').appendTo(e).click(ss.mkdel(this,this.$h));this.$x=$('<span></span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-next-month-button').appendTo(e).click(ss.mkdel(this,this.$g));return e},$a:function(){var e=$('<div></div>').addClass('tab-datepicker-footer');$('<span></span>').addClass('tab-datepicker-today-label').html(ss.formatString(this.$B,"<span class='tab-datepicker-today-date'></span>")).appendTo(e);this.$C=$('.tab-datepicker-today-date',e).click(ss.mkdel(this,this.$4));return e},$c:function(){this.$u=$('<table></table>').addClass('tab-datepicker-month-table');this.$u.on('click','.tab-datepicker-day-cell',ss.mkdel(this,this.$5));return this.$u},$5:function(e){var gv=$(e.target);if(!gv.hasClass('tab-disabled')){this.$f(gv)}},$f:function(e){this.$u.find('.tab-datepicker-day-cell-selected').removeClass('tab-datepicker-day-cell-selected');e.addClass('tab-datepicker-day-cell-selected');var gv=e.data();this.$z=new Date(gv['year'],gv['month'],gv['dayOfMonth']);var gw=new Date(Date.UTC(gv['year'],gv['month'],gv['dayOfMonth']));this.$i(gw)},$i:function(e){this.element.trigger('dateSelected',[e])},$h:function(e){if(this.$e()){if(this.$n.getMonth()===0){if(this.$n.getFullYear()>1){this.$n.setMonth(11);this.$n.setFullYear(this.$n.getFullYear()-1)}}else{this.$n.setMonth(this.$n.getMonth()-1)}this.$j()}},$g:function(e){if(this.$d()){if(this.$n.getMonth()===11){this.$n.setMonth(0);this.$n.setFullYear(this.$n.getFullYear()+1)}else{this.$n.setMonth(this.$n.getMonth()+1)}this.$j()}},$e:function(){return ss.isNullOrUndefined(this.$t)||this.$n>this.$t},$d:function(){return ss.isNullOrUndefined(this.$r)||this.$n<this.$r},$4:function(e){var gv=bY.$3(new Date);if(!this.$7(gv)){this.$i(gv)}},$j:function(){this.$l();this.$m();this.$k();this.element.prop('unselectable','on');this.element.find('*').prop('unselectable','on');this.element.trigger('calendarUpdated')},$l:function(){this.$v.text(this.$w(bY.$3(this.$n)));this.$y.toggleClass('tab-disabled',!this.$e());this.$x.toggleClass('tab-disabled',!this.$d())},$k:function(){this.$C.text(this.$p(bY.$3(new Date)));this.$C.toggleClass('tab-disabled',this.$8(bY.$4(new Date)))},$9:function(e){return $('<td></td>').addClass('tab-datepicker-day-cell').text(e.getDate().toString()).data(ss.mkdict(['year',e.getFullYear(),'month',e.getMonth(),'dayOfMonth',e.getDate()])).toggleClass('tab-datepicker-day-cell-today',bY.$5(e,new Date)).toggleClass('tab-datepicker-day-cell-selected',!!this.$z&&bY.$5(e,this.$z)).toggleClass('tab-datepicker-day-cell-othermonth',e.getMonth()!==this.$n.getMonth()).toggleClass('tab-disabled',this.$7(e))},$7:function(e){return ss.isValue(this.$s)&&e<this.$s||ss.isValue(this.$q)&&e>this.$q},$8:function(e){return ss.isValue(this.$t)&&e<this.$t||ss.isValue(this.$r)&&e>this.$r},$m:function(){var e=(new Date(this.$n.getFullYear(),this.$n.getMonth(),1)).getDay();var gv;var gw,gx;var gy,gz,gA;this.$u.html('');gy=$('<thead></thead>').appendTo(this.$u);gA=$('<tr></tr>').appendTo(gy);gv=this.$o;do{$('<th></th>').addClass('tab-datepicker-header-cell').text(this.$A[gv]).appendTo(gA);gv=bY.$1(gv,1)}while(gv!==this.$o);gz=$('<tbody></tbody>').appendTo(this.$u);gA=$('<tr></tr>').appendTo(gz);gw=new Date(this.$n.getFullYear(),this.$n.getMonth(),1);gw.setDate(gw.getDate()-bY.$1(e,-this.$o));gx=new Date(this.$n.getFullYear(),this.$n.getMonth()+1,1);gx.setDate(gx.getDate()+bY.$1(this.$o,-gx.getDay()));while(!bY.$5(gw,gx)){this.$9(gw).appendTo(gA);gw.setDate(gw.getDate()+1);if(gw.getDay()===this.$o&&!bY.$5(gw,gx)){gA=$('<tr></tr>').appendTo(gz)}}if(this.$D){var gB=gz.find('tr');if(gB.length<6){var gC=tab.DoubleUtil.roundToInt(gB.height());for(var gD=gB.length;gD<6;++gD){$("<tr><td class='tab-datepicker-day-cell'></td></tr>").height(gC).insertAfter(gB.last())}}}}},{$0:function(e){return(!!e?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()):null)},$3:function(e){return(!!e?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())):null)},$4:function(e){return(!!e?new Date(e.getFullYear(),e.getMonth(),1):null)},$2:function(e,gv,gw,gx){if(e+gv>gx){e=gx-gv;if(e<gw){e+=Math.ceil((gw-e)/2)}}return e},$1:function(e,gv){return ss.imod(e+gv+14,7)},$5:function(e,gv){return e.getFullYear()===gv.getFullYear()&&e.getMonth()===gv.getMonth()&&e.getDate()===gv.getDate()}});var bZ=global.tab.DatePickerSettings=ss.mkType(a,'tab.DatePickerSettings',function(e,gv,gw,gx,gy,gz,gA,gB,gC){this.monthToShow=null;this.dateToSelect=null;this.minDate=null;this.maxDate=null;this.firstDayOfWeek=0;this.shortDayOfWeekNames=null;this.todayFormatTemplate=null;this.monthYearFormatter=null;this.fullDateFormatter=null;this.monthToShow=(ss.isNullOrUndefined(e)?null:new Date(e.getTime()));this.dateToSelect=(ss.isNullOrUndefined(gv)?null:new Date(gv.getTime()));this.minDate=(ss.isNullOrUndefined(gw)?null:new Date(gw.getTime()));this.maxDate=(ss.isNullOrUndefined(gx)?null:new Date(gx.getTime()));this.firstDayOfWeek=ss.coalesce(gy,0);this.shortDayOfWeekNames=(ss.isNullOrUndefined(gz)?['S','M','T','W','T','F','S']:ss.arrayClone(gz));this.todayFormatTemplate=(ss.isNullOrUndefined(gA)?'Today: {0}':gA);this.monthYearFormatter=(ss.isNullOrUndefined(gB)?function(gD){return ss.localeFormatDate(bY.$0(gD),'MMMM yyyy')}:gB);this.fullDateFormatter=(ss.isNullOrUndefined(gC)?function(gD){return ss.localeFormatDate(bY.$0(gD),'MMMM d, yyyy')}:gC)});var ca=global.tab.DetailedErrorDialog=ss.mkType(a,'tab.DetailedErrorDialog',null,null,{$1:function(e){var gv=ss.arrayClone(ss.netSplit(e,['<br>','<br/>','\r\n','\r','\n','<li>','<ul>','</ul>'],null,1));var gw=gv[0];ss.remove(gv,gw);var gx=[];ss.arrayInsertRange(gx,0,gv);var gy=gx;return{item1:gw,item2:gy}},$0:function(e){var gv={};if(ss.isValue(e)){for(var gw=0;gw<e.length;gw++){var gx=e[gw];gv[gx.displayText]=gx.url}}return gv},show:function(e,gv,gw){var gx=ca.$1(e);var gy=ca.$0(gw);var gz={errorDialogTitle:gv,errorShortMessage:gx.item1,errorDetails:Array.prototype.slice.call(gx.item2),errorCodeId:0,errorHelpLink:'https://www.tableau.com/support/',issueHelperLinks:JSON.stringify(gy),queryDetails:'',useCopyCommand:false};var gA='doc:update-detailed-error-dialog-event';try{tab.ApplicationModel.get_instance().raiseNotification(gA,gz,null)}catch(gB){var exception=ss.Exception.wrap(gB);tab.ErrorTrace.report(new ss.Exception('Error when showing the error dialog.',exception),false)}}});var cb=global.tab.DeviceLayoutToolbarButtonBuilder=ss.mkType(a,'tab.DeviceLayoutToolbarButtonBuilder',null,null,{$3:function(){var e=tabBootstrap.ViewerBootstrap.get_instance().get_deviceDetector().get_deviceType();if(e==='phone'||e==='tablet'){return'desktop'}else{return tabBootstrap.ViewerBootstrap.get_instance().get_deviceDetector().get_detectedDeviceType()}},get_isDeviceLayoutSelectorEnabled:function(){if(tsConfig.current_sheet_type!=='dashboard'){return false}var e=!ss.isNullOrEmptyString(tsConfig.guid);if(e){return false}if(tsConfig.isPublic){return true}else{var gv=tabBootstrap.EmbedAndViewportCalculator.get_isEmbeddedInsideAnotherPage()&&!tsConfig.isVizPortal;return!gv}},buildViewModel:function(e,gv,gw){if(!cb.get_isDeviceLayoutSelectorEnabled()){return null}var gx=cb.$3();if(tabBootstrap.ViewerBootstrap.get_instance().get_deviceDetector().get_detectedDeviceType()==='desktop'||!cb.$0(gx,e,gv)){return null}var gy=function(){tab.ModuleManager.load$1(tab.IDeviceLayoutSelectorModule).call(null,[]).done(function(gz){var gA=gz.buildDialogContent(gx,gv);gw.show(gA)})};return new fA(cb.$2(gx),cb.$1(gx),gy)},$2:function(e){switch(e){case'desktop':{return tab.Strings.DeviceLayoutSelectorDesktopLayoutToolbarButtonLabel}case'tablet':{return tab.Strings.DeviceLayoutSelectorTabletLayoutToolbarButtonLabel}case'phone':{return tab.Strings.DeviceLayoutSelectorPhoneLayoutToolbarButtonLabel}default:{return''}}},$1:function(e){switch(e){case'desktop':{return'tab-icon-desktopLayout'}case'tablet':{return'tab-icon-tabletLayout'}case'phone':{return'tab-icon-phoneLayout'}default:{return''}}},$0:function(e,gv,gw){if(tsConfig.isPublic){var gx=gw.indexOf(tabBootstrap.ViewerBootstrap.get_instance().get_deviceDetector().get_deviceType())!==-1;var gy=gw.indexOf(e)!==-1;return gx||gy}var gz=gv.indexOf(tabBootstrap.ViewerBootstrap.get_instance().get_deviceDetector().get_deviceType())!==-1;var gA=gv.indexOf(e)!==-1;return gz||gA}});var cc=global.tab.DeviceLayoutViewModel=ss.mkType(a,'tab.DeviceLayoutViewModel',function(e){this.$1=null;this.$2$1=null;spiff.BaseViewModel.call(this);e.withDashboard(ss.mkdel(this,this.$0))},{add_newLayouts:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLayouts:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_deviceLayouts:function(){return(ss.isValue(this.$1)?this.$1.get_deviceLayouts():null)},get_autoGeneratedDeviceLayouts:function(){return(ss.isValue(this.$1)?this.$1.get_autoGeneratedDeviceLayouts():null)},$0:function(e){this.$1=e;this.raiseActionEvent(this.$2$1)}});var cd=global.tab.DevicePreviewViewModel=ss.mkType(a,'tab.DevicePreviewViewModel',function(){this.$2$1=null;spiff.BaseViewModel.call(this)},{get_vizSize:function(){return this.$2$1},set_vizSize:function(e){this.$2$1=e},$0:function(){return cd.get_isDevicePreviewMode()&&ss.isValue(this.get_vizSize())},get_shouldCutInteraction:function(){return this.$0()},get_shouldScaleDownVizContainer:function(){return this.$0()&&tsConfig.deviceTypeOverride==='phone'},get_getDevicePreviewVizContainerCss:function(){var e=this.get_vizSize().w;var gv=this.get_vizSize().h+tabBootstrap.VizLayoutConstants.get_tabsHeight();var gw=tabBootstrap.ViewerBootstrap.get_instance().getViewport().w;var gx=cd.getZoomRatio(gw,e);return{width:e+'px',height:gv+'px',transform:'scale('+gx+','+gx+')','transform-origin':'0 0'}}},{get_isDevicePreviewMode:function(){return tab.FeatureParamsLookup.getBool(57)},getZoomRatio:function(e,gv){var gw=0.25;var gx=e/gv;if(gx<gw){gx=gw}if(gx>1){gx=1}return gx}});var ce=global.tab.DialogHostComponent=ss.mkType(a,'tab.DialogHostComponent',function(){React.Component.call(this)},{render:function(){return(this.props.isShown?this.$0():null)},$0:function(){return React.createElement(SharedWidgets.DialogWidget,this.props.dialogProps)}});var cf=global.tab.DialogHostViewModel=ss.mkType(a,'tab.DialogHostViewModel',function(){this.$6=false;this.$5=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this)},{$4:function(){var e={onCloseRequest:ss.mkdel(this,this.hide),handleGlassClick:ss.mkdel(this,this.$3)};if(ss.isValue(this.$5)){$.extend(e,this.$5.get_props())}return e},dispose:function(){if(ss.isValue(this.$5)){this.$5.remove_hideDialogRequested(ss.mkdel(this,this.hide))}spiff.BaseViewModel.prototype.dispose.call(this)},show:function(e){if(ss.isNullOrUndefined(e)){return}if(this.$6&&ss.isValue(this.$5)){this.$5.onDialogHidden()}EventUtils.GlobalUIEvents.FireDismissTemporaryElements();this.$6=true;this.$5=e;this.$5.add_hideDialogRequested(ss.mkdel(this,this.hide));this.$5.add_propsUpdated(ss.mkdel(this,this.incrementProps));this.incrementProps()},hide:function(){if(!this.$6){return}if(ss.isValue(this.$5)){this.$5.onDialogHidden();this.$5.remove_hideDialogRequested(ss.mkdel(this,this.hide));this.$5.remove_propsUpdated(ss.mkdel(this,this.incrementProps));this.$5=null}this.$6=false;this.incrementProps()},createUpdatedProps:function(){return{isShown:this.$6,dialogProps:this.$4()}},$3:function(){if(tsConfig.is_mobile){this.hide()}}});var cg=global.tab.DisabledTooltipBehavior=ss.mkType(a,'tab.DisabledTooltipBehavior',function(){},{attach:function(){},detach:function(){},dispose:function(){},disposeTooltip:function(){},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,gv,gw){},hoverOverWhitespace:function(e){},multiSelectComplete:function(e){},singleSelectComplete:function(e){},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){},onScroll:function(){},mouseDown:function(e,gv){}});var ch=global.tab.DownloadButtonEnablementLogicOperator=ss.mkType(a,'tab.DownloadButtonEnablementLogicOperator',function(){this.$2=false;this.$3=false;this.$0=null;this.$1=null},{withPermissionCriterion:function(e){this.$2=this.$2||e;return this},withPermissionCriterionMessage:function(e){this.$0=e;return this},withSheetSelectionCriterion:function(e){this.$3=this.$3||e;return this},withSheetSelectionCriterionMessage:function(e){this.$1=e;return this},evaluateResult:function(){return this.$2&&this.$3},evaluateMessage:function(){return(!this.$2?this.$0:(!this.$3?this.$1:null))}});var ci=global.tab.DownloadFileDialog=ss.mkType(a,'tab.DownloadFileDialog',function(e,gv,gw,gx){this.$4=null;this.$3=null;this.$5=null;this.$6=null;this.$2=null;tab.Param.verifyString(e,'title');tab.Param.verifyString(gv,'message');tab.Param.verifyString(gw,'url');tab.Param.verifyString(gx,'urlTarget');this.$4=e;this.$3=gv;this.$5=gw;this.$6=gx},{show:function(){var e=document.createElement('div');this.$2=function(){_.defer(function(){ReactDOM.unmountComponentAtNode(e)})};var gv={testId:'FileDownload-Dlg',isModal:true,title:this.$4,showCloseButton:false,type:0,positioningBehavior:0,onCloseRequest:ss.mkdel(this,this.dispose),shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,children:this.$3,zIndex:1000};var gw=this.$1(ss.mkdel(this,this.dispose));gv.footerContent=gw;gv.showFooter=true;var gx=React.createElement(SharedWidgets.DialogWidget,gv);ReactDOM.render(gx,e)},dispose:function(){this.$2()},$1:function(e){var gv=ci.$0(e);var gw=this.$0(e);var gx=[];gx.push(gv);gx.push(gw);var gy=gx;var gz=spiff.DOMElements.div({style:{display:'flex',alignItems:'center',justifyContent:'flex-end',height:'100%'},children:gy});return gz},$0:function(e){var gv=spiff.DOMElements.a({href:this.$5,target:this.$6,className:'tabDownloadFileButton',style:{textDecoration:'none',wordBreak:'keep-all'},onClick:function(gx){e()},'data-test-id':'DownloadLink',role:'button'},tab.Strings.DialogButtonDownload);var gw=spiff.DOMElements.div({className:spiff.ClickBuster.suppressClickBustingClass,key:'download-button-wrapper-key',style:{paddingLeft:SharedWidgets.TabStyles.Spacing.MediumSpace},children:gv});return gw}},{$0:function(e){var gv=React.createElement(SharedWidgets.ButtonWidget,{handleClick:function(gx){e()},buttonType:1,testId:'CancelBtn',children:tab.Strings.DialogButtonCancel});var gw=spiff.DOMElements.div({key:'cancel-button-wrapper-key',children:gv});return gw}});var cj=global.tab.DynamicallyLoadedContentDialog=ss.mkType(a,'tab.DynamicallyLoadedContentDialog',function(e){spiff.ModalDialog.$ctor1.call(this,e,$('<span></span>'))},{show:function(){spiff.Dialog.prototype.show.call(this);this.showInternal()},showInternal:null});var ck=global.tab.DynamicallyLoadedContentIntoDomDialog=ss.mkType(a,'tab.DynamicallyLoadedContentIntoDomDialog',function(e,gv){this.$J=null;cj.call(this,e);this.$J=gv;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-small')},{showInternal:function(){this.get_body().append(this.$J)}});var cl=global.tab.DynamicallyLoadedContentIntoIframeDialog=ss.mkType(a,'tab.DynamicallyLoadedContentIntoIframeDialog',function(e,gv,gw){this.$J=null;this.urlToLoadDialogContent=null;cj.call(this,e);this.$J=gw;this.urlToLoadDialogContent=gv;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-tall')},{showInternal:function(){var e=$('<iframe></iframe>');e.attr('src',this.urlToLoadDialogContent);e.attr('tb-test-id',this.$J);this.get_body().append(e)}});var cm=global.tab.EditConnectionInformationDialog=ss.mkType(a,'tab.EditConnectionInformationDialog',function(e){this.$2=null;this.$3=false;this.$2$1=null;N.call(this);this.$2=e},{add_handled:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_handled:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},show:function(){this.parentNode=document.createElement('div');var e={key:'EditConnectionInformationDialog',content:tab.Strings.EditConnectionInformationDialogText(this.$2.datasourceCaption),showDetailsLabel:tab.Strings.ShowDetailsLabel,hideDetailsLabel:tab.Strings.HideDetailsLabel,detailsContent:this.$2.exceptionMessage,title:tab.Strings.EditConnectionInformationDialogTitle,contentSelectable:true,dialogWidth:500,dialogButtons:[],onDialogCloseRequested:ss.mkdel(this,this.$0)};e.dialogButtons.push({buttonClickHandler:ss.mkdel(this,this.$1),buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});e.dialogButtons.push({buttonClickHandler:ss.mkdel(this,this.$0),buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var gv=React.createElement(fc,e);ReactDOM.render(gv,this.parentNode)},$1:function(){if(!ss.staticEquals(this.$2$1,null)&&!this.$3){this.$2$1(true);this.$3=true;tab.VizClientCommands.setUIMode('data-tab','ReconnectEditConnection','')}},$0:function(){if(!ss.staticEquals(this.$2$1,null)&&!this.$3){this.$2$1(false);this.$3=true}this.dispose()}});var cn=global.tab.EmailValidator=ss.mkType(a,'tab.EmailValidator',null,null,{validate:function(e){if(ss.isNullOrEmptyString(e)){return false}if(e.length>cn.maxEmailLength){return false}var gv=new RegExp('^[^\\s"(),:;<>@[\\]]+@([-a-z0-9]+\\.)+[a-z0-9]{2,}$','i');return gv.test(e)}});var co=global.tab.EmptyExtensionTemplate=ss.mkType(a,'tab.EmptyExtensionTemplate',function(){this.content=null;spiff.Template.call(this,$("<div class='tab-extension-empty'></div>"))});var cp=global.tab.EmptyFloatingLayoutFlowView=ss.mkType(a,'tab.EmptyFloatingLayoutFlowView',function(e){ss.makeGenericType(spiff.BaseView$1,[cr]).call(this,e,new cq)});var cq=global.tab.EmptyFloatingLayoutFlowViewTemplate=ss.mkType(a,'tab.EmptyFloatingLayoutFlowViewTemplate',function(){spiff.Template.call(this,$("<div class='tab-EmptyFloatingLayout'></div>"));this.domRoot.text(tab.Strings.EmptyFloatingLayoutFlowMessage)});var cr=global.tab.EmptyFloatingLayoutViewModel=ss.mkType(a,'tab.EmptyFloatingLayoutViewModel',function(e){spiff.BaseViewModel.call(this);e.add_childrenAdded(ss.mkdel(this,this.onChildrenAdded));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){e.remove_childrenAdded(ss.mkdel(this,this.onChildrenAdded))})))},{onChildrenAdded:function(){this.dispose()}});var cs=global.tab.EmptyLayoutGridTemplate=ss.mkType(a,'tab.EmptyLayoutGridTemplate',function(){spiff.Template.call(this,$("<div class='tab-EmptyFloatingLayout'></div>"));this.domRoot.text(tab.Strings.EmptyLayoutGridMessage)});var ct=global.tab.EmptyLayoutGridView=ss.mkType(a,'tab.EmptyLayoutGridView',function(e){ss.makeGenericType(spiff.BaseView$1,[cr]).call(this,e,new cs)});var cu=global.tab.EmptyLayoutStackTemplate=ss.mkType(a,'tab.EmptyLayoutStackTemplate',function(){spiff.Template.call(this,$("<div class='tab-EmptyFloatingLayout'></div>"));this.domRoot.text(tab.Strings.EmptyLayoutStackMessage)});var cv=global.tab.EmptyLayoutStackView=ss.mkType(a,'tab.EmptyLayoutStackView',function(e){ss.makeGenericType(spiff.BaseView$1,[cr]).call(this,e,new cu)});var cw=global.tab.EventHandlerParam=ss.mkType(a,'tab.EventHandlerParam',function(){this.eventHandler=null;this.onTabSelectHandle=null;this.zoneBecameValidHandler=null});var cx=global.tab.ExplainDataPaneView=ss.mkType(a,'tab.ExplainDataPaneView',function(e,gv){spiff.PureRenderComponent.$ctor1.call(this,e,gv)},{render:function(){var e=new gk;e.moduleName=cx.$1;var gv={};gv['presModel']=this.props.explainDataPanePresModel;gv['originIsWeb']=true;e.initialProps=gv;return React.createElement(gj,e)}});var cy=global.tab.ExplainDataPaneViewProps=ss.mkType(a,'tab.ExplainDataPaneViewProps',function(){this.explainDataPanePresModel=null});var cz=global.tab.ExplainDataSidePaneProxy=ss.mkType(a,'tab.ExplainDataSidePaneProxy',function(){new eJ(cz.id,ss.mkdel(this,this.openOrUpdateCallback),ss.mkdel(this,this.openOrUpdateCallback),ss.mkdel(this,this.closeCallback),'doc:open-explain-data-pane-event','doc:open-explain-data-pane-event','doc:close-explain-data-pane-event')},{openOrUpdateCallback:function(e,gv){var gw=new cy;gw.explainDataPanePresModel=e;var gx=React.createElement(cx,gw);ReactDOM.render(gx,gv)},closeCallback:function(){}});var cA=global.tab.ExportCrosstabToExcelInvokeCommand=ss.mkType(a,'tab.ExportCrosstabToExcelInvokeCommand',function(){},{execute:function(e){tab.ExportServerCommands.exportCrosstabToExcelJsApi(dp.getParamsForCommand(e))}});var cB=global.tab.ExportHelper=ss.mkType(a,'tab.ExportHelper',function(){this.$0=null;this.$0={}},{get_sheetScrollPositions:function(){return this.$0},setSheetScrollPositions:function(e){this.$0={};for(var gv=0;gv<e.length;gv++){var gw=e[gv];this.$0[gw.get_sheetName()]=gw.get_viewWidget().get_scrollPosition()}},triggerExportPdfUI:function(e,gv){tab.ModuleManager.load$1(tab.IPdfExportDialogModule).call(null,[]).done(function(gw){gw.showExportPdfDialog(tab.CommandController.get().legacySession,e,gv)})}});var cC=global.tab.ExtensionIFrameTemplate=ss.mkType(a,'tab.ExtensionIFrameTemplate',function(e){this.$1=null;spiff.Template.call(this,$('<div><iframe></iframe></div>'));this.$1=e;this.get_frame().prop('name',this.$1);this.get_frame().prop('id',this.$1);var gv={position:'absolute',top:0+'px',left:0+'px'};this.get_container().css(gv);this.get_frame().css({border:'0px none'})},{get_container:function(){return this.domRoot},get_frame:function(){return this.get_container().children().first()},get_iFrame:function(){return this.get_container().find('#'+this.$1).get(0)},setSrc:function(e){this.get_frame().prop('src',e)}});var cD=global.tab.ExtensionLoadErrorTemplate=ss.mkType(a,'tab.ExtensionLoadErrorTemplate',function(e){this.content=null;spiff.Template.call(this,$(ss.formatString("<div class='tab-extension-error tab-selectable'>{0}</div>",e)));var gv={'text-align':'center'};this.domRoot.css(gv)});var cE=global.tab.ExtensionZoneTemplate=ss.mkType(a,'tab.ExtensionZoneTemplate',function(){this.content=null;spiff.Template.call(this,$("<div class='tab-extension'></div>"))},{updateContentTemplate:function(e){this.domRoot.children().detach();this.domRoot.append(e.domRoot)}});var cF=global.tab.ExtensionZoneView=ss.mkType(a,'tab.ExtensionZoneView',function(e,gv){this.$m=null;this.$k=null;this.$l=null;this.$i=null;this.$j=null;ss.makeGenericType(spiff.BaseView$1,[cG]).call(this,e,new cE);this.$m=gv;this.get_viewModel().add_extensionZoneUpdated(ss.mkdel(this,this.$9));this.get_viewModel().add_refreshExtensionZone(ss.mkdel(this,this.$9));this.$m.add_propertyChanged(ss.mkdel(this,this.$e));this.$m.add_resizeZone(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_extensionZoneUpdated(ss.mkdel(this,this.$9));this.get_viewModel().remove_refreshExtensionZone(ss.mkdel(this,this.$9));this.$m.remove_propertyChanged(ss.mkdel(this,this.$e));this.$m.remove_resizeZone(ss.mkdel(this,this.$a));if(ss.isValue(this.$j)){this.$j.dispose()}})));this.$i=tab.ModuleManager.load('@tableau/'+'api-platform-js',[]).pipe(function(gw){return gw})},{get_zoneViewModel:function(){return this.get_viewModel().get_zoneViewModel()},get_domRoot:function(){return this.get_template().domRoot},$h:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9()},$e:function(e,gv){if(gv.get_propertyName()==='isActiveZone'){this.$f()}},$9:function(){if(this.get_viewModel().get_isEmpty()||this.get_viewModel().get_renderStatus()==='promptNeeded'||this.get_viewModel().get_renderStatus()==='initial'){this.$b()}else if(this.get_viewModel().get_renderStatus()==='load'){this.$c()}else{var e=new cD(this.get_viewModel().get_errorMessage());this.$h().updateContentTemplate(e)}},$b:function(){var e=new co;this.$h().updateContentTemplate(e);return},$d:function(e){var gv=new cD(e);this.$h().updateContentTemplate(gv);return},$c:function(){var e=this.get_viewModel().get_loadUrl();var gv=this.$7();this.$i.then(ss.mkdel(this,function(gw){var gx=new tab.ExtensionServerContext;gx.isAuthoring=tsConfig.is_authoring;gx.isPublic=tsConfig.isPublic;gx.isSaas=tsConfig.is_saas;gx.isOfficialRelease=!tsConfig.isBeta&&!ss.equalsT(tsConfig.externalVersion,'0.0.0');var gy=gx;this.$j=gw.createApiDispatcher(this.get_viewModel().get_extensionInstanceInfo(),gy);if(this.get_viewModel().isFirstClassExtension()){this.$j.setOverrideMessageTarget(window.location.origin+e)}this.$h().updateContentTemplate(gv);this.$k.setSrc(e);this.$j.setExtensionFrame(this.$k.get_iFrame());this.$f()}),ss.mkdel(this,function(gw){}));this.$f()},$7:function(){if(ss.isNullOrUndefined(this.$k)){this.$k=new cC('extension_frame_'+this.get_zoneViewModel().get_zoneId())}this.$g();return this.$k},$g:function(){tab.DomUtil.resize(this.$k.get_frame()[0],{l:0,t:0,w:this.get_zoneViewModel().get_contentWidth(),h:this.get_zoneViewModel().get_contentHeight()})},$8:function(){this.$m.setActiveAndUpdateReadyZone('replace',0,0)},$f:function(){if(!tsConfig.is_authoring||tsConfig.is_mobile){return}if(ss.isNullOrUndefined(this.$l)){var e=new spiff.Glass(this.element[0],false);e.set_opaque(false);this.$l=e;this.$l.add_click(ss.mkdel(this,this.$8));this.disposables.add$1(this.$l)}if(this.$m.get_isActiveZone()){this.$l.hide()}else{this.$l.show()}},$a:function(){if(ss.isValue(this.$k)){this.$g()}}});var cG=global.tab.ExtensionZoneViewModel=ss.mkType(a,'tab.ExtensionZoneViewModel',function(e,gv){this.$6=null;this.$9=null;this.$7=false;this.$8='initial';this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$6=e;this.$9=gv;this.$6.add_extensionZoneUpdated(ss.mkdel(this,this.handleExtensionZoneUpdated));tab.ApplicationModel.get_instance().get_extensionPermissionsCache().add_updated(ss.mkdel(this,this.$2));tab.ApplicationModel.get_instance().registerNotificationHandler('doc:block-extension-event',ss.mkdel(this,this.$0));if(tsConfig.is_authoring){tab.ApplicationModel.get_instance().registerNotificationHandler('doc:reload-add-in-event',ss.mkdel(this,this.$5))}this.$4();this.disposables.add(ss.mkdel(this,function(){this.$6.remove_extensionZoneUpdated(ss.mkdel(this,this.handleExtensionZoneUpdated));tab.ApplicationModel.get_instance().get_extensionPermissionsCache().remove_updated(ss.mkdel(this,this.$2));if(tsConfig.is_authoring){tab.ApplicationModel.get_instance().unRegisterNotificationHandler('doc:reload-add-in-event',ss.mkdel(this,this.$5))}tab.ApplicationModel.get_instance().unRegisterNotificationHandler('doc:block-extension-event',ss.mkdel(this,this.$0))}))},{add_extensionZoneUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_extensionZoneUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_extensionZoneReady:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_extensionZoneReady:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_refreshExtensionZone:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_refreshExtensionZone:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_zoneViewModel:function(){return this.$9},get_extensionInstanceInfo:function(){return this.$6.pm.addInInstancePresModel},get_extensionKey:function(){if(this.get_isEmpty()){return null}return{addInId:this.get_extensionInstanceInfo().addInRegistrationPresModel.addInId,extensionVersion:this.get_extensionInstanceInfo().addInRegistrationPresModel.extensionVersion,extensionUrl:this.get_url()}},get_isInitialized:function(){return this.$7},get_isEmpty:function(){return this.get_extensionInstanceInfo().isEmpty},get_isValid:function(){return this.get_extensionInstanceInfo().isValid},get_url:function(){return(this.get_isEmpty()?null:this.get_extensionInstanceInfo().addInRegistrationPresModel.url)},get_loadUrl:function(){return(this.isFirstClassExtension()?this.get_url().substring('tableau:'.length):this.get_url())},get_extensionName:function(){return(this.get_isEmpty()?null:this.get_extensionInstanceInfo().addInRegistrationPresModel.addInName)},get_renderStatus:function(){return this.$8},get_errorMessage:function(){var e=(tsConfig.is_saas?tab.Strings.SiteAdmin:tab.Strings.ServerAdmin);var gv=this.get_extensionInstanceInfo().addInRegistrationPresModel;switch(this.$8){case'extensionsDisabledOnServer':{return(tsConfig.isPublic?tab.Strings.ExtensionsDisabledOnPublic:tab.Strings.ExtensionsDisabledOnServer)}case'extensionBlockedByServer':{return(tsConfig.isPublic?tab.Strings.ExtensionNotSupportedOnPublic(this.get_extensionName(),gv.extensionVersion):tab.Strings.ExtensionBlockedByServer(this.get_extensionName(),this.get_url()))}case'extensionsDisabledOnSite':{return(tsConfig.isPublic?tab.Strings.ExtensionsDisabledOnPublic:tab.Strings.ExtensionsDisabledOnSite(e))}case'notInSafeList':{return(tsConfig.isPublic?tab.Strings.ExtensionNotSupportedOnPublic(this.get_extensionName(),gv.extensionVersion):tab.Strings.ExtensionNotFoundOnSafelist(this.get_extensionName(),this.get_url(),e))}case'safeListViolation':{return(tsConfig.isPublic?tab.Strings.ExtensionViolatesSafelistPermissionOnPublic(this.get_extensionName(),this.get_url()):tab.Strings.ExtensionViolatesSafelistPermission(this.get_extensionName(),this.get_url(),e))}case'userDenied':{if(tsConfig.is_authoring){return tab.Strings.ExtensionDeniedByUserAuthoring}return tab.Strings.ExtensionDeniedByUser}case'extensionBlockedPreRelease':{return tab.Strings.ExtensionBlockedPreRelease(gv.extensionVersion,this.get_extensionName(),gv.extensionAuthorWebsite)}default:{return''}}},handleExtensionZoneUpdated:function(){if(this.get_renderStatus()==='initial'){this.$4()}else{this.raiseActionEvent(this.$2$1)}},isFirstClassExtension:function(){if(!tab.FeatureFlags.isEnabled('FirstClassExtensions')){return false}return(ss.isValue(this.get_url())?ss.startsWithString(this.get_url(),'tableau:'):false)},$2:function(){if(this.get_isEmpty()){return}if(this.get_renderStatus()==='promptNeeded'||this.get_renderStatus()==='userDenied'||this.get_renderStatus()==='load'){var e=tab.ApplicationModel.get_instance().get_extensionPermissionsCache();if(e.hasUserResponse(this.get_extensionKey())){var gv=(e.getPermissionsApproval(this.get_extensionKey())?'load':'userDenied');if(gv!==this.$8){this.$8=gv;this.raiseActionEvent(this.$2$1)}}}},$4:function(){if(!this.get_isValid()){this.$7=true;return}if(this.get_isEmpty()){return}if(this.get_renderStatus()!=='initial'){this.$7=true;return}if(this.isFirstClassExtension()){this.$3('load');return}tab.WorkgroupServerCommands.getExtensionLoadStatus(this.get_extensionInstanceInfo().addInRegistrationPresModel).done(ss.mkdel(this,function(e){this.$3(e.status)})).fail(function(){})},$3:function(e){var gv=this.$1(e);if(gv==='promptNeeded'){var gw=tab.ApplicationModel.get_instance().get_extensionPermissionsCache();if(gw.hasUserResponse(this.get_extensionKey())){gv=(gw.getPermissionsApproval(this.get_extensionKey())?'load':'userDenied')}}this.$8=gv;this.$7=true;this.raiseActionEvent(this.$2$2);this.raiseActionEvent(this.$2$1)},$1:function(e){switch(e){case'blockedByServer':{return'extensionBlockedByServer'}case'disabledOnServer':{return'extensionsDisabledOnServer'}case'disabledOnSite':{return'extensionsDisabledOnSite'}case'notInSafeList':{return'notInSafeList'}case'safeListViolation':{return'safeListViolation'}case'promptUser':{return'promptNeeded'}case'load':{return'load'}default:{throw new ss.Exception('Extension Encountered Error While Rendering')}}},$5:function(e,gv){this.raiseActionEvent(this.$2$3)},$0:function(e,gv){this.$8='extensionBlockedPreRelease';this.raiseActionEvent(this.$2$3)}});var cH=global.tab.ExtensionZoneViewModelHelper=ss.mkType(a,'tab.ExtensionZoneViewModelHelper',function(){},null,{promptExtensionsForPermissionsIfNeeded:function(e){var gv=cH.$0(e);if(tab.MiscUtil.isNullOrEmpty$2(gv)){return}var gw=[];for(var gx=0;gx<gv.length;gx++){var gy=gv[gx];if(gy.get_renderStatus()==='promptNeeded'){gw.push(gy.get_extensionKey())}}tab.ExtensionClientCommands.showPermissionsPromptDialog(gw)},$0:function(e){var gv=[];var gw=_.keys(e);for(var gx=0;gx<gw.length;gx++){var gy=gw[gx];var gz=e[gy];if(gz.get_zoneType()==='dashboard-object'&&gz.get_objectType()==='extension'){var gA=gz.get_zoneContentViewModel();if(ss.isNullOrUndefined(gA)||!gA.get_isInitialized()){return null}if(gA.get_isValid()){gv.push(gz.get_zoneContentViewModel())}}}return gv},promptExtensionsForPermissionsIfNeededAndZoneIsInitialized:function(e,gv){if(ss.isValue(gv.get_zoneContentViewModel())){var gw=gv.get_zoneContentViewModel();if(gw.get_isInitialized()){cH.promptExtensionsForPermissionsIfNeeded(e);return true}}return false}});var cI=global.tab.FilePickerComponent=ss.mkType(a,'tab.FilePickerComponent',function(e){this.$3=null;this.$2=null;spiff.PureRenderComponent.call(this,e);this.$3=ss.mkdel(this,function(gv){this.$2=gv;this.$1()})},{componentDidUpdate:function(){this.$1()},render:function(){return spiff.DOMElements.input({style:{display:'none'},type:'file',multiple:this.props.allowMulti,onChange:ss.mkdel(this,this.$0),value:null,accept:this.props.allowedFileExtensions.join(','),ref:this.$3})},$1:function(){if(ss.isValue(this.$2)){this.$2.click()}},$0:function(e){e.stopPropagation();e.preventDefault();this.props.onFileBrowse(this.$2.files)}});var cJ=global.tab.FilePickerConfig=ss.mkType(a,'tab.FilePickerConfig',function(){this.allowedFileExtensions=null;this.allowMulti=false});var cK=global.tab.FilePickerViewModel=ss.mkType(a,'tab.FilePickerViewModel',function(e,gv){this.$4=null;this.$5=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$4=e;this.$5=gv},{createInitialProps:function(){return{onFileBrowse:ss.mkdel(this,this.$3)}},createUpdatedProps:function(){return{allowedFileExtensions:this.$4.allowedFileExtensions,allowMulti:this.$4.allowMulti}},$3:function(e){this.$5(e)}},{createFilePickerViewModel:function(e,gv){return new cK(e,gv)}});var cL=global.tab.FileReconnectWidget=ss.mkType(a,'tab.FileReconnectWidget',function(e){eX.call(this,e)},{createEditConnectionButtonProps:function(){var e=function(){tab.VizClientCommands.setUIMode('data-tab','FileReconnect','')};return{handleClick:function(gv){e()},buttonType:3,testId:'SheetReconnectEditConnection',children:tab.Strings.SheetReconnectEditConnectionLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'auto',marginRight:'auto'}}},createPrimaryButtonProps:function(){var e=null;e=ss.mkdel(this,function(){tab.ModuleManager.load$1(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(gv){gv.showReplaceFileDialog(this.props.connectionName,this.props.connectionClass).done(ss.mkdel(this,function(gw){if(gw&&!ss.staticEquals(this.props.onCredentialsAdded,null)){this.props.onCredentialsAdded(null)}})).fail(function(gw){e()})}))});return{handleClick:function(gv){e()},buttonType:1,testId:'FileReconnectLocateFile',children:tab.Strings.SheetReconnectLocateFileLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'30px',marginRight:'auto'}}}});var cM=global.tab.FontMetricsLogger=ss.mkType(a,'tab.FontMetricsLogger',null,null,{logUIStabilized:function(){cM.$0('UI Stabilized')},logFontsLoaded:function(){cM.$0('AllFontsDownloaded')},$0:function(e){tabBootstrap.MetricsController.logMetricsEvent(e,128,null)}});var cN=global.tab.FontNormalizer=ss.mkType(a,'tab.FontNormalizer',function(){this.normalizeFont=null;this.normalizeFont=(BrowserSupport.BrowserSupport.IsIE()?cN.$0:cN.$2)},null,{instance:function(){if(ss.isNullOrUndefined(cN.$5)){cN.$5=new cN;cN.$1()}return cN.$5},$0:function(e){if(tab.MiscUtil.isNullOrEmpty$1(e)){return e}var gv=e.split(' ');var gw;var gx=false;for(var gy=0;gy<gv.length;++gy){gw=cN.$4[gv[gy]];if(!(typeof(gw)==='undefined')){gx=true;gv[gy]=gw}}if(gx){return gv.join(' ')}return e},$2:function(e){return e},$1:function(){if(ss.isValue(cN.$4)){return}if(BrowserSupport.BrowserSupport.IsIE()){cN.$4={};cN.$4['華康中明體']='DLCMingMedium';cN.$4['華康粗明體']='DLCMingBold';cN.$4['細明體']='Ming Light';cN.$4['新細明體']='PMingLiU';cN.$4['細明體-ExtB']='MingLiU-ExtB';cN.$4['新細明體-ExtB']='PMingLiU-ExtB';cN.$4['MS宋体']='MS Song';cN.$4['新宋体']='NSimSun';cN.$4['中易宋体']='SimSun';cN.$4['宋体']='SimSun';cN.$4['宋体-18030']='SimSun-18030';cN.$4['新宋体-18030']='NSimSun-18030';cN.$4['宋体–方正超大字符集']='SimSun (Founder Extended)';cN.$4['宋體ExtA']='SimSun-ExtA';cN.$4['宋體ExtB']='SimSun-ExtB';cN.$4['华文宋体']='STSong';cN.$4['华文中宋']='STZhongsong';cN.$4['ＭＳ']='MS';cN.$4['明朝']='Mincho';cN.$4['Ｐ明朝']='PMincho';cN.$4['平成明朝']='Heisei Minchō';cN.$4['リュウミン']='Ry­ūbundō Minchō';cN.$4['小塚明朝']='Kozuka Minchō';cN.$4['바탕']='Batang';cN.$4['바탕체']='BatangChe';cN.$4['궁서']='Gungsuh';cN.$4['궁서체']='GungsuhChe';cN.$4['华文细黑']='STHeiti Light';cN.$4['微軟正黑體']='Microsoft JhengHei';cN.$4['微软雅黑']='Microsoft YaHei';cN.$4['MS黑体']='MS Hei';cN.$4['蒙纳黑体']='MHei';cN.$4['中易黑体']='SimHei';cN.$4['メイリオ']='Meiryo';cN.$4['ゴシック']='Gothic';cN.$4['Ｐゴシック']='PGothic';cN.$4['돋움']='Dotum';cN.$4['돋움체']='DotumChe';cN.$4['굴림']='Gulim';cN.$4['굴림체']='GulimChe';cN.$4['맑은']='Malgun';cN.$4['고딕']='Gothic';cN.$4['새굴림']='New Gulim';cN.$4['標楷體']='KaiU';cN.$4['中易楷体']='SimKai';cN.$4['楷体_GB2312']='SimKai';cN.$4['华文楷体']='STKaiti';cN.$4['中易隶书']='SimLi';cN.$4['隶书']='SimLi';cN.$4['中易仿宋']='SimFang';cN.$4['仿宋']='SimFang';cN.$4['幼圆']='SimYou';cN.$4['华文行楷']='HuaWen Xingkai';cN.$4['华文彩云']='HuaWen CaiYun';cN.$4['方正舒体']='FangZheng ShuTi';cN.$4['方正启体']='FangZheng QiTi';cN.$4['汉仪雪君体']='HanYi XueJun';cN.$4['華康少女體']='HuaKang ShaoNu';cN.$4['華康娃娃體']='HuaKang WuaWua'}}});var cO=global.tab.FormattingTelemetryClient=ss.mkType(a,'tab.FormattingTelemetryClient',null,null,{logRichTextEditorEvent:function(e){if(tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Formatting.RichTextEditing',e)}},logPerformanceEvent:function(e){if(tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Formatting_Performance',e)}}});var cP=global.tab.GenericDataSourceErrorWidget=ss.mkType(a,'tab.GenericDataSourceErrorWidget',function(e,gv){spiff.Widget.call(this,$('<div class="auth-box ocontent tb-data-source-error-container" role="alert"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry" tabindex="0" role="button"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'));$('.tb-data-source-error',this.element).text(tab.Strings.DataSourceGenericErrorMsg);$('.tb-data-source-error-sub',this.element).text(tab.Strings.DataSourceGenericErrorSubMsg);var gw=$('.tb-data-source-button-retry',this.element);gw.text(tab.Strings.DataSourceGenericErrorButtonLabel);gw.on('click',function(gx){if(ss.isValue(gv)){gv()}});gw.on('keypress',function(gx){if(gx.which===13||gx.which===32){if(ss.isValue(gv)){gv()}gx.stopPropagation()}});e=ss.replaceAllString(e,'<br>','\r\n');$('.tb-data-source-error-message',this.element).text(e)});var cQ=global.tab.GenericDataSourceExceptionDialogWidget=ss.mkType(a,'tab.GenericDataSourceExceptionDialogWidget',function(e,gv,gw){this.$2=tab.Strings.DataSourceGenericTitle;this.$1=null;M.call(this,e,gv,gw);var gx=ss.mkdel(this,function(){if(ss.isValue(this.onProceed)){this.onProceed()}this.cleanup(null)});var gy=new cP(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,gx);this.$1=new ck(this.$2,gy.element);this.$1.add_closed(ss.mkdel(this,function(gz,gA){this.$0()}))},{show:function(){this.$1.show()},cleanup:function(e){this.$1.closeAndDispose()},dispose:function(){this.$1.dispose()},$0:function(){if(!this.get_submitted()&&!ss.staticEquals(this.onCancel,null)){this.onCancel()}}});var cR=global.tab.GenericDataSourceExceptionOverlayWidget=ss.mkType(a,'tab.GenericDataSourceExceptionOverlayWidget',function(e,gv,gw){this.$1=null;L.call(this,e,gw);this.$1=gv},{createOverlay:function(e){var gv=$('.dashboardSpacer');var gw=$("<div id='auth-overlay' tabindex='0'></div>");if(tsConfig.is_authoring&&tab.MiscUtil.shouldShowDataTab()){this.$0(gw)}else{var gx=ss.mkdel(this,function(){this.set_submitted(true);if(!ss.staticEquals(this.onProceed,null)){this.onProceed()}this.cleanup(e)});var gy=new cP(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,gx);gw.append(gy.element)}gv.append(gw)},$0:function(e){var gv=ss.mkdel(this,function(gx){if(!ss.staticEquals(this.onProceed,null)){this.onProceed()}});var gw={connectionAttributes:this.$1.exceptionAttrs,connectionClass:this.dataSourceConnectionAttemptErrorResponse.ConnectionClass,connectionErrorStage:this.$1.connectionErrorStage,connectionName:this.dataSourceConnectionAttemptErrorResponse.ConnectionName,errorMessage:this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,errorType:this.dataSourceConnectionAttemptErrorResponse.ErrorType,dataSourceCaption:this.dataSourceConnectionAttemptErrorResponse.DataSourceCaption,onCredentialsAdded:gv};if(ss.contains(tab.ConnectionClass.get_getSupportedFileClasses(),this.dataSourceConnectionAttemptErrorResponse.ConnectionClass)){ReactDOM.render(React.createElement(cL,gw),e.get(0))}else{ReactDOM.render(React.createElement(eX,gw),e.get(0))}},show:function(){var e=new cw;var gv=ss.mkdel(this,function(){this.cleanup(e)});gr.add_zoneBecameValid(gv);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){gr.remove_zoneBecameValid(gv)});this.createOverlay(e)}});var cS=global.tab.GeoLocationNotificationView=ss.mkType(a,'tab.GeoLocationNotificationView',function(e){dV.call(this,e);this.adjustMargin=false;this.element.addClass('tabGeoLocationNotification');if(ss.isValue(this.notificationViewModel.get_displayPosition())){this.messageDom.parent().css('left',this.notificationViewModel.get_displayPosition().x+'px');this.messageDom.parent().css('top',this.notificationViewModel.get_displayPosition().y+'px')}this.updateContent()});var cT=global.tab.HelpKeyboardShortcut=ss.mkType(a,'tab.HelpKeyboardShortcut',function(e){this.$0=null;KeyboardShortcuts.GlobalKeyboardShortcut.call(this);this.$0=e},{getKeyComboOrKeyCombos:function(){var e=new Object;e.macControl='required';e.command='required';e.shift='optional';return new KeyboardShortcuts.KeyCombos(new KeyboardShortcuts.KeyCombo('/',e),ss.applyConstructor(KeyboardShortcuts.KeyCombo,['F1',null].concat(null)))},isAllowed:function(e){return true},executeShortcut:function(e){tab.WindowHelper.open(this.$0,'_blank')},getTelemetryKey:function(){return'Help'}});var cU=global.tab.HorizontalIteratorButtonTemplate=ss.mkType(a,'tab.HorizontalIteratorButtonTemplate',function(){ds.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'></span><span class='tabCatLegendScrollNext'></span></div>")},{$1:function(){this.prevButton.addClass('tabCatLegendScrollLeft');this.nextButton.addClass('tabCatLegendScrollRight')}});var cV=global.tab.HttpsEmbedHttpAuthoringMessage=ss.mkType(a,'tab.HttpsEmbedHttpAuthoringMessage',function(e){spiff.Template.call(this,$("<div class='webZoneHttpsEmbedHttpAuthoring'><div class='message'></div><div class='url'><span>(</span><span class='scheme'>http://</span><span class='path'></span><span>)</span></div></div>"));this.$1().text(tab.Strings.WebZoneHttpsEmbedHttpAuthoring);if(ss.startsWithString(e,'http://')){e=e.replace('http://','')}this.$2().text(unescape(e))},{$1:function(){return this.domRoot.find('.'+'message')},$2:function(){return this.domRoot.find('.'+'path')}});var cW=global.tab.HttpsEmbedHttpViewMessage=ss.mkType(a,'tab.HttpsEmbedHttpViewMessage',function(e){spiff.Template.call(this,$("<div class='webZoneHttpsEmbedHttpView'><div class='message'></div><a target='_blank'></a></div>"));this.$2().text(tab.Strings.WebZoneHttpsEmbedHttpView);this.$1().prop('href',e);this.$1().text(unescape(e))},{$2:function(){return this.domRoot.find('.'+'message')},$1:function(){return this.domRoot.find('a')}});var cX=global.tab.HttpsEmbedWebZoneBlockedMessage=ss.mkType(a,'tab.HttpsEmbedWebZoneBlockedMessage',function(e){spiff.Template.call(this,$("<div class='webZoneBlocked'><div class='message'></div></div>"));this.$1().text(tab.Strings.WebZoneDisabled);this.$1().attr('name','frame_'+e+'disabled')},{$1:function(){return this.domRoot.find('.'+'message')}});var cY=global.tab.IApiStorytellingClient=ss.mkType(a,'tab.IApiStorytellingClient');var cZ=global.tab.IAppBannerView=ss.mkType(a,'tab.IAppBannerView');var da=global.tab.IClient=ss.mkType(a,'tab.IClient');var db=global.tab.IDashboardViewport=ss.mkType(a,'tab.IDashboardViewport');var dc=global.tab.IDataAlertPreparer=ss.mkType(a,'tab.IDataAlertPreparer');var dd=global.tab.IFilterTypeViewModel=ss.mkType(a,'tab.IFilterTypeViewModel');var de=global.tab.IFlipboardViewModel=ss.mkType(a,'tab.IFlipboardViewModel');var df=global.tab.IFontLoader=ss.mkType(a,'tab.IFontLoader');var dg=global.tab.IFrameTemplate=ss.mkType(a,'tab.IFrameTemplate',function(e,gv){spiff.Template.call(this,$('<div><iframe></iframe></div>'));this.get_frame().prop('name',e);var gw={position:'absolute',top:0+'px',left:0+'px'};if(tsConfig.is_mobile){if(BrowserSupport.BrowserSupport.IsSafari()||BrowserSupport.BrowserSupport.IsIos()){this.get_container().css('-webkit-overflow-scrolling','touch');gw.height=gv.get_contentHeight()+'px';gw.width=gv.get_contentWidth()+'px'}gw.overflow='auto'}this.get_container().css(gw);this.get_frame().css({border:'0px none'})},{get_container:function(){return this.domRoot},get_frame:function(){return this.get_container().children().first()},setSrc:function(e,gv){if(!ss.referenceEquals(this.get_frame().prop('original_url'),gv)){this.get_frame().prop('src',e);this.get_frame().prop('original_url',gv)}}});var dh=global.tab.IInvokeCommand=ss.mkType(a,'tab.IInvokeCommand');var di=global.tab.IJumpstartRefreshJobController=ss.mkType(a,'tab.IJumpstartRefreshJobController');var dj=global.tab.ImageUtil=ss.mkType(a,'tab.ImageUtil',null,null,{scaleImage:function(e,gv,gw,gx,gy){var gz=document.createElement('canvas');gz.width=gv;gz.height=gw;if(gv>0&&gw>0){var gA=document.createElement('canvas');gA.width=gx;gA.height=gy;var gB=gA.getContext('2d');gB.drawImage(e,0,0);var gC=gB.getImageData(0,0,gx,gy);var gD=gz.getContext('2d');var gE=gD.createImageData(gv,gw);dj.bilinearDownSampleAlgorithm(gC,gE);gD.putImageData(gE,0,0)}return gz},bilinearDownSampleAlgorithm:function(e,gv){var gw=e.width;var gx=e.height;var gy=gw/gv.width;var gz=gx/gv.height;var gA=gy;var gB=gz;var gC=e.data;var gD=gv.data;var gE=new Array(gD.length);for(var gF=0;gF<gE.length;gF++){gE[gF]=0}var gG=1/(gy*gz);var gH=0;var gI=0;var gJ=false;var gK,gL;gK=gL=0;var gM=gG;var gN=0;var gO=0;var gP=0;var gQ=4*gv.width;for(var gR=0;gR<gx;gR++){gA=gy;for(var gS=0;gS<gw;gS++){var gT=gC[gH];var gU=gC[gH+1];var gV=gC[gH+2];var gW=gC[gH+3];gM=gG;if(gJ){gM=gK;gO=gL;if(gA<1){gO*=gA}var gX=gI+gQ;gE[gX]+=gT*gO;gE[gX+1]+=gU*gO;gE[gX+2]+=gV*gO;gE[gX+3]+=gW*gO}if(gA<1){gN=gM*(1-gA);gM*=gA;if(gJ){gP=gL*(1-gA);var gY=gI+gQ;gE[gY+4]+=gT*gP;gE[gY+5]+=gU*gP;gE[gY+6]+=gV*gP;gE[gY+7]+=gW*gP}gE[gI+4]+=gT*gN;gE[gI+5]+=gU*gN;gE[gI+6]+=gV*gN;gE[gI+7]+=gW*gN}gE[gI++]+=gT*gM;gE[gI++]+=gU*gM;gE[gI++]+=gV*gM;gE[gI++]+=gW*gM;gH+=4;gA-=1;if(gA<dj.$1){gA+=gy}else{gI-=4}}gB-=1;if(gB<dj.$1){gB+=gz}else{gI-=gQ}if(gB<1){gJ=true;gK=gB/(gy*gz);gL=(1-gB)/(gy*gz)}else{gJ=false}}for(var gZ=0;gZ<gE.length;gZ++){gD[gZ]=gE[gZ]+0.5}}});var dk=global.tab.ImageZoneTemplate=ss.mkType(a,'tab.ImageZoneTemplate',function(){spiff.Template.call(this,$("<div class='tab-image'></div>"))});var dl=global.tab.ImageZoneView=ss.mkType(a,'tab.ImageZoneView',function(e,gv){this.$i=null;this.$j=null;this.$h=null;ss.makeGenericType(spiff.BaseView$1,[dm]).call(this,e,new dk);this.$j=gv;this.$g().add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$j.add_resizeZone(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$g().remove_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$j.remove_resizeZone(ss.mkdel(this,this.$c));this.$j=null})))},{get_domRoot:function(){return this.get_template().domRoot},get_image:function(){return this.$i},$g:function(){return this.get_viewModel()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&(tsConfig.is_authoring&&tsConfig.current_sheet_type==='dashboard'||tab.FeatureFlags.isEnabled('MobileLinksAreClickable'))){this.element.addClass(spiff.ClickBuster.suppressClickBustingClass)}this.handleNewImageZone()},handleNewImageZone:function(){this.createImageZoneView()},createImageZoneView:function(){var e=ss.mkdict(['position','absolute','overflow','hidden','top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(e);var gv=ss.isNullOrEmptyString(this.$g().get_imageZonePresModel().imageKey)&&ss.isNullOrEmptyString(this.$g().get_imageZonePresModel().image);if(gv){this.$9()}else{this.$i=this.$a()}},$9:function(){var e=this.get_template().domRoot.find('.'+dl.emptyImageClass).length===0;if(!e){return}this.get_template().domRoot.empty();var gv=((!tsConfig.is_mobile&&tsConfig.is_authoring&&tsConfig.current_sheet_type==='dashboard')?tab.Strings.EmptyImageZoneMessage:'');var gw=$('<div>'+gv+'</div>').addClass(dl.emptyImageClass);this.get_template().domRoot.append(gw)},$a:function(){var e=$('<img/>');var gv=ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$i)){window.setTimeout(ss.mkdel(this,function(){this.$h=e.get(0);this.$e()}),1)}else{this.$h=e.get(0);this.$e()}e.off('load')});e.on('load',gv);var gw=this.$g().get_imageUrl();if(!ss.isNullOrEmptyString(this.$g().get_imageZonePresModel().image)){gw='data:image/jpeg;base64,'+this.$g().get_imageZonePresModel().image}var gx=this.$g().get_imageZonePresModel().altText;if(!ss.isNullOrEmptyString(gx)){e.attr('alt',gx)}e.css('border','none').css('display','block').attr('src',gw);if(this.$g().get_imageZonePresModel().isSvgImage){e.css('width',this.$g().get_imageZonePresModel().imageWidth);e.css('height',this.$g().get_imageZonePresModel().imageHeight)}return e},$7:function(e){this.get_template().domRoot.empty();this.get_template().domRoot.append(e)},$c:function(){if(ss.isNullOrEmptyString(this.$g().get_imageZonePresModel().image)&&ss.isNullOrEmptyString(this.$g().get_imageZonePresModel().imageKey)){return}this.$e()},$e:function(){var e=this.$g().get_imageZonePresModel();if(e.isScaled){this.$d()}var gv=this.$f();this.$7(gv);if(e.isCentered){this.$8(gv)}return gv},$b:function(){var e=this.$g().get_zoneModel();var gv=this.$g().get_imageZonePresModel();var gw=fT.absolutizeURI(gv.url,false);var gx=!tab.MiscUtil.isNullOrEmpty$1(gv.imageKey)||!tab.MiscUtil.isNullOrEmpty$1(gv.image);var gy=e.get_zoneCommonModel().get_zoneType()==='bitmap'&&gx&&!tab.MiscUtil.isNullOrEmpty$1(gw);if(gy){return $('<a></a>').attr('href',gw).attr('target','_blank').css(ss.mkdict(['position','absolute','outline','none']))}else{return $('<div></div>')}},$f:function(){var e=this.get_image();var gv=this.$b();gv.append(e);return gv},$d:function(){var e=this.$g().get_imageZonePresModel().isSvgImage;var gv=this.$g().get_zoneModel();var gw=this.$h['width'];var gx=this.$h['height'];if(e){gw=this.$g().get_imageZonePresModel().imageWidth;gx=this.$g().get_imageZonePresModel().imageHeight}else if(BrowserSupport.BrowserSupport.IsIE()){gw=this.$h['naturalWidth'];gx=this.$h['naturalHeight']}var gy={$:0};var gz={$:0};var gA={};dl.$0(e,gv,gw,gx,gA,gy,gz);if(BrowserSupport.BrowserSupport.IsIE()&&!e){var gB=window.screen['deviceXDPI'];var gC=window.screen['systemXDPI'];var gD=gB/gC>1;if(!gD&&gy.$>0&&gz.$>0&&gy.$/gw<0.75&&gw<500&&gx<500){var gE=this.$i.get(0).getAttribute('src');var gF=dj.scaleImage(this.$h,gy.$,gz.$,ss.trunc(gw),ss.trunc(gx));this.$i=$(gF);this.$i.get(0).setAttribute('src',gE);gA.$=ss.mkdict(['width',gy.$+'px','height',gz.$+'px'])}else{this.$i=$(this.$h)}}this.$i.css(gA.$)},$8:function(e){e.addClass('tab-centeredImageWrapper')}},{$0:function(e,gv,gw,gx,gy,gz,gA){if(gw/gv.get_zoneCommonModel().get_contentWidth()>=gx/gv.get_zoneCommonModel().get_contentHeight()){gz.$=gv.get_zoneCommonModel().get_contentWidth();gA.$=ss.trunc(gv.get_zoneCommonModel().get_contentWidth()/gw*gx);if(e){gy.$={width:gv.get_zoneCommonModel().get_contentWidth()+'px',height:gA.$+'px'}}else{gy.$={width:gv.get_zoneCommonModel().get_contentWidth()+'px',height:'auto'}}}else{gA.$=gv.get_zoneCommonModel().get_contentHeight();gz.$=ss.trunc(gv.get_zoneCommonModel().get_contentHeight()/gx*gw);if(e){gy.$={height:gv.get_zoneCommonModel().get_contentHeight()+'px',width:gz.$+'px'}}else{gy.$={height:gv.get_zoneCommonModel().get_contentHeight()+'px',width:'auto'}}}}});var dm=global.tab.ImageZoneViewModel=ss.mkType(a,'tab.ImageZoneViewModel',function(e){this.$0=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$0=e;this.$0.add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0.remove_newImageZone(ss.mkdel(this,this.handleNewImageZone))})))},{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$0.get_zoneModel()},get_imageZonePresModel:function(){return this.$0.pm},get_imageUrl:function(){var e=tab.CommandController.get().legacySession;var gv=e.formatDashboardTempfileReference(this.get_imageZonePresModel().imageKey,true,false);return gv},handleNewImageZone:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}});var dn=global.tab.IMovable=ss.mkType(a,'tab.IMovable');var dp=global.tab.InvokeCommandUtils=ss.mkType(a,'tab.InvokeCommandUtils',function(){},null,{getParamsForCommand:function(e){if(ss.isNullOrUndefined('api.invokeCommandParam')){return null}return e['api.invokeCommandParam']}});var dq=global.tab.ISlider=ss.mkType(a,'tab.ISlider');var dr=global.tab.IteratorButtons=ss.mkType(a,'tab.IteratorButtons',function(e,gv,gw){this.$a=null;this.$c=null;this.$8=new tab.DisposableHolder;this.$9=false;this.$b=0;this.$a=e;if(gv){this.$c=new cU}else{this.$c=new fU}this.$b=100;this.$9=gv;this.$c.$1();this.$c.nextButton.width(gw).height(gw).css('line-height',gw+'px');this.$c.prevButton.width(gw).height(gw).css('line-height',gw+'px');this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.nextButton,'click',ss.mkdel(this,this.$2)));this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.prevButton,'click',ss.mkdel(this,this.$3)));this.updateButtonState()},{get_domRoot:function(){return this.$c.domRoot},get_scrollIncrement:function(){return this.$b},set_scrollIncrement:function(e){this.$b=e},$6:function(){return(this.$9?this.$a.scrollLeft():tab.DoubleUtil.roundToInt(this.$a.scrollTop()))},$7:function(e){if(this.$9){this.$a.scrollLeft(e)}else{this.$a.scrollTop(e)}},$5:function(){if(this.$9){return this.$a.children()[0].scrollWidth-tab.DoubleUtil.roundToInt(this.$a.width())}else{return this.$a.children()[0].scrollHeight-tab.DoubleUtil.roundToInt(this.$a.height())}},reset:function(){if(this.$9){this.$a.scrollLeft(0)}else{this.$a.scrollTop(0)}this.updateButtonState()},dispose:function(){this.$c.dispose();this.$8.dispose()},$3:function(e){this.$7(Math.max(0,this.$6()-this.$b));this.updateButtonState()},$2:function(e){this.$7(Math.min(this.$5(),this.$6()+this.$b));this.updateButtonState()},updateButtonState:function(){this.$4(this.$c.prevButton,this.$1());this.$4(this.$c.nextButton,this.$0())},$1:function(){return this.$6()>0},$0:function(){return this.$6()<this.$5()},$4:function(e,gv){e.toggleClass('tabIterButtonDisabled',!gv)}});var ds=global.tab.IteratorButtonTemplate=ss.mkType(a,'tab.IteratorButtonTemplate',function(e){this.prevButton=null;this.nextButton=null;spiff.Template.call(this,$(e));this.prevButton=this.getElementBySelector('.tabCatLegendScrollPrev');this.nextButton=this.getElementBySelector('.tabCatLegendScrollNext')},{$1:null});var dt=global.tab.ITooltipBehavior=ss.mkType(a,'tab.ITooltipBehavior');var du=global.tab.JumpstartRefreshJobController=ss.mkType(a,'tab.JumpstartRefreshJobController',function(){this.$1=false;this.$1$1=null;this.$1=false;this.$0()},{add_activeJumpstartSampleData:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_activeJumpstartSampleData:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_isJumpstartSampleData:function(){return this.$1},reset:function(){du.$0=null},$0:function(){if(!tsConfig.is_mobile_app){tab.WorkgroupServerCommands.getWorkbookTemplateCreationRefreshExtractJob(tsConfig.current_workbook_id).done(ss.mkdel(this,function(e){this.$1=e.get_jobInProgress();if(this.$1&&ss.isValue(this.$1$1)){this.$1$1(e.get_jobId())}}))}}},{get_instance:function(){if(ss.isNullOrUndefined(du.$0)){du.$0=new du}return du.$0}});var dv=global.tab.KeyboardHandlers=ss.mkType(a,'tab.KeyboardHandlers',null,null,{setAccessibilityKeyboardHandlers:function(e,gv){return spiff.EventUtil.bindWithDispose($(e),'keyup',function(gw){dv.$0(gw,gv)})},$0:function(e,gv){switch(e.which){case 32:case 13:{if(!ss.staticEquals(gv,null)){gv()}break}default:{return}}e.preventDefault();e.stopPropagation()}});var dw=global.tab.LegacyErrorDialog=ss.mkType(a,'tab.LegacyErrorDialog',function(e){React.Component.call(this,e)},{render:function(){var e=this.buildCommonDialogProps();var gv=React.createElement(SharedWidgets.DialogWidget,e);return gv},closeDialog:function(){_.defer(this.props.onDialogCloseRequested)},buildCommonDialogProps:function(){var e={testId:'Dialog-Provider',isModal:true,title:this.props.title,showCloseButton:true,type:0,positioningBehavior:0,dialogStyle:{maxWidth:600},dialogWidth:this.props.dialogWidth,onCloseRequest:ss.mkdel(this,function(){this.closeDialog()}),zIndex:1000};var gv=[];var gw=spiff.DOMElements.div({children:this.$0(this.props.content),className:spiff.Widget.selectableNodeClass});gv.push(gw);var gx=this.$0(this.props.detailsContent);if(ss.isValue(this.props.additionalLinks)){for(var gy=0;gy<this.props.additionalLinks.length;gy++){var gz=this.props.additionalLinks[gy];gx.push(spiff.DOMElements.p({},spiff.DOMElements.a({href:gz.url,target:'_blank',children:gz.displayText})))}}if(!tab.MiscUtil.isNullOrEmpty$3(gx)){var gA=spiff.DOMElements.div({style:dw.$1,children:gx,className:spiff.Widget.selectableNodeClass});gv.push(gA)}e.children=gv;return e},$0:function(e){var gv=[];if(ss.isNullOrEmptyString(e)){return gv}var gw='<br/>';e=ss.replaceAllString(e,'<br>',gw);e=ss.replaceAllString(e,'\n',gw);var gx=e.split(gw);var gy=dw.textArea.value();for(var gz=0;gz<gx.length;gz++){var gA=gx[gz];gy.innerHTML=gA;var gB=spiff.DOMElements.p({children:gy.textContent});gv.push(gB)}return gv}});var dx=global.tab.LogOnView=ss.mkType(a,'tab.LogOnView',function(e){this.logOnViewModel=null;this.$b=null;ss.makeGenericType(spiff.BaseView$1,[dy]).call(this,e,spiff.Template.fromHtml("<div class='tabLogon'></div>"));this.logOnViewModel=e;var gv=$('<div></div>');var gw=spiff.StyledTextButton.createActionButton(ss.mkdel(this,this.$9),tab.Strings.LogOnButton,'tabLogOnDialogButton',2,1);gv.append(gw.element);this.element.append(gv);this.disposables.add$1(gw);this.logOnViewModel.add_shown(ss.mkdel(this,this.$a));this.logOnViewModel.add_hidden(ss.mkdel(this,this.$7));this.$b=new spiff.ModalDialog.$ctor1(' ',this.element);this.$b.get_dialogElement().addClass('tabLogonDialog');this.$b.add_closed(ss.mkdel(this,function(){this.logOnViewModel.cancel()}));this.disposables.add$1(this.$b);dx.$1=ss.mkdel(this,this.$8)},{dispose:function(){dx.$1=null;this.logOnViewModel.remove_shown(ss.mkdel(this,this.$a));this.logOnViewModel.remove_hidden(ss.mkdel(this,this.$7));this.$b.dispose();ss.makeGenericType(spiff.BaseView$1,[dy]).prototype.dispose.call(this)},onViewModelPropertyChanged:function(e,gv){this.updateContent()},updateContent:function(){},$8:function(){this.logOnViewModel.logOnComplete()},$a:function(){this.$9();this.$b.show()},$7:function(){this.$b.dispose()},$9:function(){var e=800;var gv=600;var gw=new tab.WindowHelper(window.self);var gx=gw.get_screenLeft()+ss.idiv(gw.get_outerWidth()-e,2);var gy=gw.get_screenTop()+ss.idiv(gw.get_outerHeight()-gv,3);var gz=ss.formatString('width={0},height={1},left={2},top={3},toolbar=1,resizable=1',e,gv,gx,gy);var gA='/#/signin?closePopupWhenDone=true&site='+encodeURIComponent(tsConfig.site_url_name);var gB=tab.WindowHelper.open(gA,'TableauAuthentication',gz);if(ss.isValue(gB)){_.defer(ss.mkdel(gB,gB.focus))}}},{fireLogOnComplete:function(){if(ss.isValue(dx.$1)){dx.$1()}}});var dy=global.tab.LogOnViewModel=ss.mkType(a,'tab.LogOnViewModel',function(){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.BaseViewModel.call(this)},{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_logOnCanceled:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_logOnCanceled:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_logOnCompleted:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_logOnCompleted:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_logOnUrl:function(){return'/'},dispose:function(){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.BaseViewModel.prototype.dispose.call(this)},showLogOn:function(){tab.ObjectRegistry.newView(dx).call(null,[this]);if(ss.isValue(this.$2$1)){this.$2$1()}},cancel:function(){if(ss.isValue(this.$2$2)){this.$2$2()}if(ss.isValue(this.$2$3)){this.$2$3()}},logOnComplete:function(){if(ss.isValue(this.$2$2)){this.$2$2()}if(ss.isValue(this.$2$4)){this.$2$4()}}},{logOnAndTransitionSession:function(e){var gv=new dy;gv.showLogOn();var gw=function(){gv.dispose();tab.SaveServerCommands.transitionSessionAfterLogon(function(){tabBootstrap.ViewerBootstrap.get_instance().disableClearSessionOnBrowserUnload();e.removeHash();tab.WindowHelper.setLocationHref(window.self,e.get_absoluteUri())})};gv.add_logOnCompleted(gw);var gx=function(){gv.dispose()};gv.add_logOnCanceled(gx);gv.disposables.add$1(new tab.CallOnDispose(function(){gv.remove_logOnCompleted(gw);gv.remove_logOnCanceled(gx)}))}});var dz=global.tab.MapScaleComponent=ss.mkType(a,'tab.MapScaleComponent',function(e,gv){React.Component.call(this,e,gv)},{render:function(){var e=((this.props.marginOfError>0.1)?this.props.tooltipText:'');return spiff.DOMElements.div({className:'tab-MapScale',title:e,style:this.$2()},spiff.DOMElements.div({className:'tab-MapScaleOuterHalo',style:this.$0()}),spiff.DOMElements.div({className:'tab-MapScaleInnerHalo',style:this.$0()}),spiff.DOMElements.label({className:'tab-MapScaleReadout',style:this.$1()},this.props.readoutText))},$2:function(){var e=(this.props.shouldShowMapScale?'':'none');return{width:this.props.width+'px',color:this.props.readoutColor,borderColor:this.props.readoutColor,display:e}},$1:function(){var e='1px 1px 0 '+this.props.borderColor+', 1px -1px 0 '+this.props.borderColor+', -1px 1px 0 '+this.props.borderColor+', -1px -1px 0 '+this.props.borderColor;return{textShadow:e}},$0:function(){return{borderColor:this.props.borderColor}}});var dA=global.tab.MapScaleViewModel=ss.mkType(a,'tab.MapScaleViewModel',function(e){this.$3=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$3=e;this.$3.add_updatedMapScaleInfo(ss.mkdel(this,this.handleUpdatedMapScaleInfo));this.disposables.add(ss.mkdel(this,function(){this.$3.remove_updatedMapScaleInfo(ss.mkdel(this,this.handleUpdatedMapScaleInfo))}))},{createUpdatedProps:function(){var e=this.$3;if(!e.get_hasPresModel()){return dA.$1}return{width:e.get_mapScaleWidth(),readoutText:e.get_mapScaleReadoutString(),readoutColor:e.get_mapScaleColor(),borderColor:e.get_mapScaleBorderColor(),shouldShowMapScale:e.get_shouldShowMapScale(),marginOfError:e.get_mapScaleMarginOfError(),tooltipText:e.get_mapScaleTooltipString()}},handleUpdatedMapScaleInfo:function(){this.incrementProps()}});var dB=global.tab.MapSessionProperties=ss.mkType(a,'tab.MapSessionProperties');var dC=global.tab.MapSessionTelemetry=ss.mkType(a,'tab.MapSessionTelemetry',null,null,{$4:function(){return tab.OnlineAnalyticsClient.get_telemetryEnabled()},track:function(e){if(ss.isValue(e)&&dC.$4()){tab.ModuleManager.load$1(tab.IVizZoneModule).call(null,[]).done(function(gv){var gw=tab.ModelUtils.getVisualModelsFromDashboard(e);if(dC.$2(gw)){var gx={};dC.$1(gw,gv,gx);dC.$0(gx);tab.OnlineAnalyticsClient.logEvent('Map_Session_Telemetry',gx)}})}},$0:function(e){e['EmbedMode']=tabBootstrap.EmbedAndViewportCalculator.get_embedMode();e['IsAuthoring']=tsConfig.is_authoring;e['MapboxGLSupported']=tabBootstrap.MapboxGLSupport.isSupported();e['MapboxGLNotSupportedReason']=tabBootstrap.MapboxGLSupport.getNotSupportedReason();e['MobileApp']=tsConfig.is_mobile_app;e['MobileDevice']=tsConfig.is_mobile_user_agent||BrowserSupport.BrowserSupport.IsIOSDeviceInDesktopMode()},$1:function(e,gv,gw){var gx=0;var gy=0;var gz=0;var gA=0;var gB=new ss.ObjectEnumerator(e);try{while(gB.moveNext()){var gC=gB.current();var gD=gC.value;if(gD.get_isMap()){gy+=1;if(ss.isValue(gD.get_mapServerModel())&&gD.get_mapServerModel().get_useFastMaps()){gA+=1}else{gz+=1}if(gD.get_vizNavigationSetting()!=='fixed'){gx+=1}}}}finally{gB.dispose()}gw['MapCount']=gy;gw['PannableMapCount']=gx;gw['SheetType']=tsConfig.current_sheet_type;gw['VizCount']=ss.getKeyCount(e);gw['ViewId']=tsConfig.current_view_id;gw['ClientRenderMapCount']=gA;gw['ServerRenderMapCount']=gz},$2:function(e){var gv=new ss.ObjectEnumerator(e);try{while(gv.moveNext()){var gw=gv.current();var gx=gw.value;if(gx.get_isMap()){return true}}}finally{gv.dispose()}return false}});var dD=global.tab.MenuItemTelemetryConfigOptions=ss.mkType(a,'tab.MenuItemTelemetryConfigOptions',function(){this.menuItems=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=false},{get_commands:function(){return this.$1$1},set_commands:function(e){this.$1$1=e},get_menuItem:function(){return this.$1$2},set_menuItem:function(e){this.$1$2=e},get_menuPrefix:function(){return this.$1$3},set_menuPrefix:function(e){this.$1$3=e},get_menuTextMayBeSensitive:function(){return this.$1$4},set_menuTextMayBeSensitive:function(e){this.$1$4=e}});var dE=global.tab.MenuItemTelemetryInfo=ss.mkType(a,'tab.MenuItemTelemetryInfo',function(){this.flatCommandItemList=null;this.fullMenuItemName=null;this.$1$1=null;this.$1$2=0;this.$1$3=null;this.$1$4=null},{get_menuItemPrefix:function(){return this.$1$1},set_menuItemPrefix:function(e){this.$1$1=e},get_commandIndexInFlattenedList:function(){return this.$1$2},set_commandIndexInFlattenedList:function(e){this.$1$2=e},get_commandReadId:function(){return this.$1$3},set_commandReadId:function(e){this.$1$3=e},get_commandName:function(){return this.$1$4},set_commandName:function(e){this.$1$4=e}});var dF=global.tab.MethodAdded=ss.mkEnum(a,'tab.MethodAdded',{dragDrop:'dragDrop',doubleClick:'doubleClick'},true);var dG=global.tab.Metrics=ss.mkType(a,'tab.Metrics',null,null,{get_scrollW:function(){return dG.$2.value()},get_minScrollWidth:function(){if(BrowserSupport.BrowserSupport.IsSafari()||BrowserSupport.BrowserSupport.IsMac()){return 60}return dG.get_scrollW()*2},get_scrollH:function(){return dG.$2.value()},get_minScrollHeight:function(){if(BrowserSupport.BrowserSupport.IsSafari()||BrowserSupport.BrowserSupport.IsMac()){return 60}return dG.get_scrollH()*2},$0:function(){if(tsConfig.is_mobile){return 0}var e=document.createElement('div');var gv=e.style;gv.width='100px';gv.height='100px';gv.overflow='scroll';gv.position='absolute';gv.top='0px';gv.filter='alpha(opacity=0)';gv.opacity='0';gv.left='0px';var gw=document.createElement('div');gw.style.width='400px';gw.style.height='400px';e.appendChild(gw);document.body.appendChild(e);var gx=e.offsetWidth-e.clientWidth;document.body.removeChild(e);e.removeChild(gw);e=gw=null;gx=((gx>0)?gx:9);return gx}});var dH=global.tab.MetricsAuthoringModuleLoader=ss.mkType(a,'tab.MetricsAuthoringModuleLoader',null,null,{load:function(e){var gv=$.Deferred();tab.ModuleManager.load(dH.$1.moduleName,[]).done(function(gw){gv.resolve(new dI(e))});return gv}});var dI=global.tab.MetricsAuthoringViewModel=ss.mkType(a,'tab.MetricsAuthoringViewModel',function(e){this.$9=null;this.$8=null;this.$3$1=null;this.$3$2=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$8=e;this.$9=new MetricsAuthoring.MetricsAuthoringController(this.$3());this.$6()},{$3:function(){var e=new MetricsAuthoring.MetricsAuthoringApiClient;var gv=this.$8;var gw=tsConfig.current_user_id.toString();var gx=tsConfig.current_workbook_id;var gy=tsConfig.allow_create_metric;var gz=tsConfig.current_view_id;var gA=tsConfig.current_project_id.toString();var gB=(ss.isValue(tsConfig.current_custom_view_id)?tsConfig.current_custom_view_id.toString():null);var gC=tsConfig.site_url_name;var gD=tsConfig.allow_view_underlying;var gE=!tsConfig.workbook_allow_subscriptions;var gF=E.get_commonBannerProvider();var gG=ss.mkdel(gF,gF.showSuccessBanner);var gH=E.get_commonBannerProvider();var gI=ss.mkdel(gH,gH.showInfoBanner);var gJ=E.get_commonBannerProvider();return{apiClient:e,onCloseRequested:gv,userId:gw,workbookId:gx,userCanCreateMetric:gy,viewId:gz,projectId:gA,customizedViewId:gB,siteUrlName:gC,userHasVUD:gD,workbookRequiresCredentials:gE,externalSuccessNotifier:gG,externalInfoNotifier:gI,externalErrorNotifier:ss.mkdel(gJ,gJ.showErrorBanner),vizqlUrl:tab.CommandController.get().legacySession.get_urlRoot(),sessionId:tsConfig.sessionid,isSaas:tsConfig.is_saas,lang:tsConfig.language,externalVersion:tsConfig.externalVersion,serverPlatform:tsConfig.serverPlatform,connectedMetricsEnabled:tab.FeatureFlags.isEnabled('MetricsAuthoringConnectedMetrics')}},get_unifiedId:function(){return this.$3$1},set_unifiedId:function(e){this.$3$1=e},get_repositoryUrl:function(){return this.$3$2},set_repositoryUrl:function(e){this.$3$2=e},createInitialProps:function(){return{store:this.$9.store}},createUpdatedProps:function(){return{store:this.$9.store}},get_viewType:function(){return ss.makeGenericType(spiff.ReactHostView$3,[dI,MetricsAuthoring.MetricsAuthoringApp,Object])},get_viewModel:function(){return this},disposeViewModel:function(){if(ss.isValue(this.$9)){this.$9.dispose()}this.get_viewModel().dispose()},$7:function(e){if(ss.isValue(this.$9)){this.$9.dispose()}this.$9=e;this.incrementProps()},$6:function(){tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.$5));tab.DashboardModel.add_modifiedSheetsChanged(ss.mkdel(this,this.$4));this.disposables.add(ss.mkdel(this,function(){tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$5));tab.DashboardModel.remove_modifiedSheetsChanged(ss.mkdel(this,this.$4))}));this.$4()},$5:function(e){if(tsConfig.current_sheet_type==='story'){this.$8()}else if(!ss.referenceEquals(e.item1,e.item2)){this.$7(new MetricsAuthoring.MetricsAuthoringController(this.$3()))}},$4:function(){this.$9.setIsDirtyView(tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified())}});var dJ=global.tab.ModifierKeyState=ss.mkType(a,'tab.ModifierKeyState',function(){$(document).on('keydown.ModifierKeyState keyup.ModifierKeyState mouseover.ModifierKeyState',ss.mkdel(this,this.$0))},{dispose:function(){$(document).off('.ModifierKeyState')},$0:function(e){dJ.fireModifierKeysChanged(e)}},{add_modifierKeysChanged:function(e){dJ.$1$1=ss.delegateCombine(dJ.$1$1,e)},remove_modifierKeysChanged:function(e){dJ.$1$1=ss.delegateRemove(dJ.$1$1,e)},fireModifierKeysChanged:function(e){if(!ss.staticEquals(dJ.$1$1,null)){dJ.$1$1(e)}}});var dK=global.tab.ModulesRegistration=ss.mkType(a,'tab.ModulesRegistration',null,null,{$6:function(e){var gv=[];dK.$5(gv);var gw;if(tsConfig.debugMode||tsConfig.isUnitTestRun){var gx='vqllegacydojoui.debug';var gy=tab.ModuleManager.registerDependencyModule(gx,gx).andLoadOnDemandIf(e).moduleBeingConfigured;if(tsConfig.is_mobile){gw=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIMobile',null).andLoadOnDemandIf(e).moduleBeingConfigured}else{gw=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIWeb',null).andLoadOnDemandIf(e).moduleBeingConfigured}gv.push(gy)}else if(tsConfig.is_mobile){gw=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIMobile',null).andLoadOnDemandIf(e).moduleBeingConfigured}else{gw=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIWeb',null).andLoadOnDemandIf(e).moduleBeingConfigured}for(var gz=0;gz<gv.length;gz++){var gA=gv[gz];gw.addDependency(gA)}gw.waitUntilModuleReadyFunc=function(){var gB=$.Deferred();dojo.addOnLoad(function(){gB.resolve()});return gB}},$5:function(e){var gv='.js.uncompressed';var gw='built-dojo/tableau/client{0}';var gx='built-dojo/dojo/dojo';var gy=(tsConfig.is_mobile?'mobile':'web');var gz=ss.formatString(gw,gy);var gA=tab.ModuleManager.registerRawJsModule(gx,gx,gx+gv).moduleBeingConfigured;var gB=tab.ModuleManager.registerRawJsModule(gz,gz,gz+gv).moduleBeingConfigured;e.push(gA);e.push(gB)},$3:function(e){var gv='commenting';var gw=tab.ModuleManager.registerRawJsModule(gv,gv+'.min',gv).andLoadOnDemandIf(e).andExportResultAs('Commenting').moduleBeingConfigured;var gx=tab.ModuleManager.register(tab.ICommentingFactory).call(null,'Commenting',null).andLoadOnDemandIf(e).moduleBeingConfigured;dK.$0(gx);gx.addDependency(gw)},$1:function(e,gv,gw){var gx=tsConfig.external_static_asset_prefix+'/css/';var gy=(tsConfig.debugMode?gw:gv);e.addDependencyOnCssFile(gx+gy+'.css')},$0:function(e){var gv=tab.ModuleManager.registerRawJsModule('codemirror','codemirror-min','codemirror').andExportResultAs('CodeMirror').moduleBeingConfigured;dK.$1(gv,'codemirror-min','codemirror');e.addDependency(gv)},$8:function(){tab.ModuleManager.registerRawJsModule('@tableau/rich-text-editor','rich-text-editor.min','rich-text-editor').andShowLoadingIndicator()},$2:function(e){tab.ModuleManager.registerTypicalRawJsModule('leaflet').andLoadOnDemandIf(e);var gv='-dev';var gw='mapboxgl';var gx='/css/mapbox-gl.css';tab.ModuleManager.registerRawJsModule('mapbox-gl','mapbox-gl','mapbox-gl'+gv).andLoadOnDemandIf(e).andExportResultAs(gw).moduleBeingConfigured.addDependencyOnCssFile(tsConfig.external_static_asset_prefix+gx)},$7:function(e){var gv=tab.ModuleManager.registerTypicalRawJsModule('natural-language-common').andLoadOnDemandIf(e).andExportResultAs('NaturalLanguageCommon').moduleBeingConfigured;if(!tsConfig.is_authoring){var gw=tab.ModuleManager.registerTypicalRawJsModule('natural-language-discoverability').andLoadOnDemandIf(e).moduleBeingConfigured;gw.addDependency(gv)}if(tab.NaturalLanguageUtil.isNlpView()){var gx=tab.ModuleManager.registerTypicalRawJsModule('natural-language-fields-panel').andLoadOnDemandIf(e).andExportResultAs('NaturalLanguageFieldsPanel').moduleBeingConfigured;var gy=tab.ModuleManager.registerTypicalRawJsModule('natural-language-ui-main').andLoadOnDemandIf(e).andExportResultAs('NaturalLanguage').moduleBeingConfigured;gx.addDependency(gv);gy.addDependency(gx);gy.addDependency(gv)}},$9:function(e){tab.ModuleManager.registerTypicalRawJsModule('schema-viewer').andLoadOnDemandIf(e)},$4:function(e){var gv=tab.ModuleManager.registerTypicalRawJsModule('data-alerts-panel').andLoadOnDemandIf(e).andExportResultAs('DataAlertsPanel').moduleBeingConfigured;var gw=tab.ModuleManager.register(tab.IDataAlertsPanelFactory).call(null,'DataAlertsPanel',null).andLoadOnDemandIf(e).moduleBeingConfigured;gw.addDependency(gv);dK.$0(gw)},$a:function(e){var gv='ShareDialog';var gw='ShareDialog';var gx='share-dialog';var gy=tab.ModuleManager.registerTypicalRawJsModule(gx).andLoadOnDemandIf(e).andExportResultAs(gw).moduleBeingConfigured;var gz=tab.ModuleManager.register(tab.IShareDialogFactory).call(null,gv,null).andLoadOnDemandIf(e).moduleBeingConfigured;gz.addDependency(gy)}});var dL=global.tab.NativeFontLoader=ss.mkType(a,'tab.NativeFontLoader',function(){this.$2=null;this.$3=null;this.$1$1=null;this.$1$2=null;this.$2={};this.$3=[]},{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){},addFonts:function(e){for(var gv=0;gv<e.length;gv++){var gw=e[gv];var gx=ss.mkdict(['style',gw.get_style(),'weight',gw.get_weight()]);var gy=new FontFace(gw.get_fontFamily(),gw.get_source(),gx);if(ss.keyExists(this.$2,gw.get_hash())){continue}dL.$0().add(gy);this.$2[gw.get_hash()]=gy}},downloadFonts:function(){var e=_.values(this.$2);for(var gv=0;gv<e.length;gv++){var gw=e[gv];if(gw.status==='unloaded'){this.$3.push(gw.load());this.$0()}}},finishDownloadingFonts:function(){if(this.$3.length>0){Promise.all(this.$3).then(ss.mkdel(this,this.$1))}else{this.$1()}},$1:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},{$0:function(){return document['fonts']}});var dM=global.tab.NativePresModelsFactory=ss.mkType(a,'tab.NativePresModelsFactory',null,null,{newAddInLocatorPresModel:function(e){var gv=new Object;gv.addInInstanceId=e.instanceId;gv.sheetPath=new Object;gv.sheetPath.isDashboard=e.dashboardPath.isDashboard;gv.sheetPath.sheetName=e.dashboardPath.sheetName;gv.sheetPath.storyboard=e.dashboardPath.storyboard;gv.sheetPath.storyPointId=e.dashboardPath.storyPointID;return gv},newVisualIdPresModel:function(e){var gv=new Object;gv.worksheet=e.worksheet;gv.dashboard=e.dashboard;gv.storyboard=e.storyboard;gv.storyPointId=e.storyPointID;gv.flipboardZoneId=e.flipboardZoneID;return gv}});var dN=global.tab.NaturalLanguageCommands=ss.mkType(a,'tab.NaturalLanguageCommands',null,null,{saveOrSaveAs:function(e){var gv=$.Deferred();var gw=ss.mkdel(this,function(gy){var gz={authoringUrl:tab.VizUriModel.createVizUriModelForAuthoringSheetInWorkbook(tsConfig.current_sheet_name,gy).get_absoluteUri(),viewingUrl:tab.VizUriModel.createVizUriModelForViewingSheetInWorkbook(tsConfig.current_sheet_name,gy).get_absoluteUri(),workbookName:gy.name};gv.resolve(gz)});var gx=function(){gv.reject()};switch(e){case'save':{eK.saveWorkbook(gw,gx);break}case'saveAs':{eK.saveWorkbookAs(gw,gx);break}}return gv.promise()}});var dO=global.tab.NaturalLanguageDiscoverabilityDialogLoader=ss.mkType(a,'tab.NaturalLanguageDiscoverabilityDialogLoader',null,null,{$0:function(){var e=$.Deferred();tab.ModuleManager.load('natural-language-discoverability',[]).done(function(gv){dO.$2=gv;e.resolve(dO.$2)});return e},$1:function(e,gv){if(ss.isNullOrUndefined(e)){return}var gw={siteId:e.site.id+'',siteRoot:tsConfig.site_root,siteRole:e.site.role};var gx={activeSheetType:fP.sheetTypeFromTsConfig(),activeWorkbookId:tsConfig.current_workbook_id,allowTelemetry:tsConfig.nlpAllowTelemetry,allowParserTelemetry:tsConfig.nlpAllowParserTelemetry,buildVersion:'',deploymentType:(tsConfig.is_saas?'Online':'OnPrem'),displayName:tsConfig.current_user_friendly_name,domainName:tsConfig.current_user_domain_name,externalVersion:'',isReleaseStage:e.server.version.isReleaseStage,pod:e.server.logicalServerInstanceId,sessionId:tsConfig.sessionid,siteLuid:e.site.luid,userId:tsConfig.current_user_id,userEmail:'',username:tsConfig.current_user_name};var gy={datasourcePermissionList:gv,siteConstants:gw,telemetryData:gx};ReactDOM.render(React.createElement(dO.$2,gy),document.createElement('div'))},render:function(){dO.$0().done(function(e){dS.getNLPPermittedDatasources().done(function(gv){if(!tab.MiscUtil.isNullOrEmpty$3(gv)){tab.WorkgroupServerCommands.get_getSessionInfo().done(function(gw){dO.$1(gw,gv)}).fail(function(gw){})}})})}});var dP=global.tab.NaturalLanguageSessionInfo=ss.mkType(a,'tab.NaturalLanguageSessionInfo',function(){this.serverBuild=null;this.siteId=null;this.siteLuid=null;this.pod=null;this.publishedDatasourceId=null;this.unifiedDatasourceId=null;this.isReleaseStage=false;this.externalVersion=null;this.ownerId=null;this.siteRole=null});var dQ=global.tab.NaturalLanguageUbertipCommands=ss.mkType(a,'tab.NaturalLanguageUbertipCommands',null,null,{shouldBeUsed:function(e){return tab.FeatureFlags.isEnabled('NLMarkInteraction')&&tab.NaturalLanguageUtil.isNlpView()&&ss.referenceEquals(e.command.commandName,{ns:'tabdoc',cmd:'keep-only-or-exclude'}.cmd)},executeCommand:function(e){if(!dQ.shouldBeUsed(e)){return}dR.loadModule().done(function(gv){gv.executeUbertipCommand(dQ.$0(e))})},$0:function(e){if(ss.referenceEquals(e.command.commandName,{ns:'tabdoc',cmd:'keep-only-or-exclude'}.cmd)){return((e.command.commandParams['exclude']==='true')?'Exclude':'KeepOnly')}return'Unknown'}});var dR=global.tab.NaturalLanguageUIMainLoader=ss.mkType(a,'tab.NaturalLanguageUIMainLoader',null,null,{loadModule:function(){var e=$.Deferred();tab.ModuleManager.load('natural-language-ui-main',[]).done(function(gv){dR.$4=gv;e.resolve(dR.$4)});return e},render:function(){if($('.'+'tab-nlbox-layout').length!==0){return}dR.loadModule().done(function(e){eO.downloadAdditionalNLPFonts();var gv=$("<div class='"+'tab-nlbox-layout'+"'></div>").get(0);$(document.body).append(gv);tab.WorkgroupServerCommands.get_getSessionInfo().done(function(gw){dR.$2(gw)}).fail(function(gw){})})},$2:function(e){var gv=dR.$0(e);tab.WorkgroupServerCommands.fetchDataSourcesByRepositoryUrl(function(gw){gv.publishedDatasourceId=((gw.length>0)?(gw[0].get_datasourceId()+''):'');gv.unifiedDatasourceId=((gw.length>0)?(gw[0].get_id()+''):'');gv.ownerId=((gw.length>0)?(gw[0].get_ownerId()+''):'');dR.$1(gv)},fP.datasourceUrlFromTsConfig())},$0:function(e){if(ss.isNullOrUndefined(e)){var gv=new dP;gv.serverBuild='UNKNOWN BUILD';gv.siteId='';gv.siteLuid='';gv.pod='(Unknown POD)';gv.isReleaseStage=true;gv.externalVersion='';return gv}var gw=e.site;var gx=e.server;var gy=gx.version;var gz=new dP;gz.serverBuild=gy.build;gz.siteId=gw.id+'';gz.siteLuid=gw.luid;gz.pod=gx.logicalServerInstanceId;gz.isReleaseStage=gy.isReleaseStage;gz.externalVersion=gy.externalVersion.major+'.'+gy.externalVersion.minor+'.'+gy.externalVersion.patch;gz.siteRole=e.site.role;return gz},$1:function(e){var gv={curatorGuideUrl:tab.UriUtil.makeHelpUri('server-ask-data-optimize',''),feedbackFormMode:fP.feedbackModeFromTsConfig(),finishedNlpOnboardingStage:fP.nlpOnboardingStageFromTsConfig(),helpUrl:tab.UriUtil.makeHelpUri('ask-data',''),askDataEnablementHelpUrl:tab.UriUtil.makeHelpUri('server-ask-data-site-setting',''),initialWorksheetName:tsConfig.current_sheet_name,isSavingAllowed:tsConfig.allow_save_as,isUserDatasourceAdmin:tsConfig.is_admin||ss.referenceEquals(tsConfig.current_user_id+'',e.ownerId),pageType:fP.pageTypeFromTsConfig(),presLayer:new tab.CustomUIBlockingPluginPresentationLayer(dU.get_commandsList()),siteRole:e.siteRole};var gw={currentProjectId:tsConfig.current_project_id,datasourceName:tsConfig.workbookName,datasourceUrl:fP.datasourceUrlFromTsConfig(),publishedDatasourceId:e.publishedDatasourceId,siteId:e.siteId,siteName:tsConfig.site_name,siteUrlName:tsConfig.site_url_name,unifiedDatasourceId:e.unifiedDatasourceId};var gx={allowTelemetry:tsConfig.nlpAllowTelemetry,allowParserTelemetry:tsConfig.nlpAllowParserTelemetry,buildVersion:e.serverBuild,deploymentType:fP.deploymentTypeFromTsConfig(),displayName:tsConfig.current_user_friendly_name,domainName:tsConfig.current_user_domain_name,externalVersion:e.externalVersion,isReleaseStage:e.isReleaseStage,pod:e.pod,sessionId:tsConfig.sessionid,siteLuid:e.siteLuid,userId:tsConfig.current_user_id,userEmail:ss.coalesce(tsConfig.current_user_email,''),username:tsConfig.current_user_name};var gy={save:function(){return dN.saveOrSaveAs('save')},saveAs:function(){return dN.saveOrSaveAs('saveAs')},switchToThisSheet:function(gA){return tab.SheetClientCommandPromises.goToSheet(gA)},getDataRoleDestinationProjects:function(){return tab.WorkgroupServerCommands.getDestinationProjects('datarole',null)}};var gz={configConstants:gv,dashboardSpacer:function(){return go.findDashboardContainer().get(0)},dashboardViewport:function(){return $(H.dashboardViewportSelector).get(0)},datasourceConstants:gw,sendFeedbackToCuratorEmail:dS.sendFeedbackToCuratorEmail,telemetryData:gx,updateUserNlpOnboardingStage:dS.updateUserNlpOnboardingStage,vizClientActions:gy};ReactDOM.render(React.createElement(dR.$4.RootComponent,gz),$('.'+'tab-nlbox-layout').get(0))}});var dS=global.tab.NaturalLanguageVizPortalRequests=ss.mkType(a,'tab.NaturalLanguageVizPortalRequests',null,null,{updateUserNlpOnboardingStage:function(e){var gv=ss.mkdict(['nlpOnboardingStage',e]);var gw=$.Deferred();var gx=tab.VizPortalServer.createRequest('updateUserNlpOnboardingStage',gv,function(gy){gw.resolve(gy)},function(){gw.reject()});tab.XhrUtil.helper(gx,null);return gw},getNLPPermittedDatasources:function(){var e=$.Deferred();var gv=ss.mkdict(['workbookId',tsConfig.current_workbook_id]);tab.XhrUtil.helper(tab.VizPortalServer.createRequest('getNLPPermittedDatasources',gv,function(gw){e.resolve(gw)},function(gw){e.reject(gw)}),null);return e},sendFeedbackToCuratorEmail:function(e,gv,gw){var gx=ss.mkdict(['datasourceId',e,'message',gv,'sendCopyToSender',gw]);var gy=$.Deferred();var gz=tab.VizPortalServer.createRequest('sendFeedbackToCuratorEmail',gx,function(){gy.resolve()},function(gA){gy.reject(gA)});tab.XhrUtil.helper(gz,null);return gy}});var dT=global.tab.NeedRemoteTooltip=ss.mkEnum(a,'tab.NeedRemoteTooltip',{localOnly:0,needRemote:1,needRemoteForViTOnly:2});var dU=global.tab.NonBlockingCommands=ss.mkType(a,'tab.NonBlockingCommands',function(){},null,{get_commandsList:function(){return dU.$1}});var dV=global.tab.NotificationView=ss.mkType(a,'tab.NotificationView',function(e){this.notificationViewModel=null;this.messageDom=null;this.closeDom=null;this.$9=false;this.adjustMargin=true;ss.makeGenericType(spiff.BaseView$1,[dW]).call(this,e,spiff.Template.fromHtml("<div class='tabNotification'></div>"));this.notificationViewModel=e;this.element.attr('role','alert');this.messageDom=$('<div></div>').addClass('tabNotificationMessage').appendTo(this.element);var gv=$('<div></div>').addClass('tabNotificationClose').attr('tabindex','0').attr('aria-label',tab.Strings.AccessbilityNotificationButtonDismissLabel).attr('role','button').keydown(ss.mkdel(this,function(gw){if(gw.which===13||gw.which===32){gw.preventDefault();gw.stopPropagation();this.$7(gw)}}));this.closeDom=spiff.ClickHandler.targetAndClick(gv,ss.mkdel(this,this.$7)).get_target();this.closeDom.appendTo(this.element);this.notificationViewModel.add_shown(ss.mkdel(this,this.shown));this.notificationViewModel.add_hidden(ss.mkdel(this,this.hidden))},{dispose:function(){if(this.get_viewModel().get_visible()){this.$9=true;this.get_viewModel().hide();return}this.notificationViewModel.remove_shown(ss.mkdel(this,this.shown));this.notificationViewModel.remove_hidden(ss.mkdel(this,this.hidden));ss.makeGenericType(spiff.BaseView$1,[dW]).prototype.dispose.call(this)},onViewModelPropertyChanged:function(e,gv){this.updateContent()},updateContent:function(){this.messageDom.text(this.notificationViewModel.get_message())},hidden:function(){this.element.fadeOut('slow',ss.mkdel(this,this.$8))},shown:function(){this.element.css('display','none');this.element.appendTo($('body'));this.element.fadeIn('fast');this.updateContent();if(this.adjustMargin){this.element.css('margin-left','-'+this.element.outerWidth(true)/2+'px')}},$8:function(){if(this.$9){this.dispose()}else{this.element.detach()}},$7:function(e){this.get_viewModel().hide()}});var dW=global.tab.NotificationViewModel=ss.mkType(a,'tab.NotificationViewModel',function(){this.$4=null;this.$5=false;this.$2=5000;this.$1=0;this.$3=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this)},{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_message:function(){return this.$4},set_message:function(e){this.$4=e},get_visible:function(){return this.$5},get_autoHideTimeout:function(){return this.$2},set_autoHideTimeout:function(e){this.$2=e},get_displayPosition:function(){return this.$3},set_displayPosition:function(e){this.$3=e},show:function(){if(this.$5){return}this.$5=true;if(this.$2>0){this.$1=window.setTimeout(ss.mkdel(this,this.hide),this.$2)}this.raiseActionEvent(this.$2$1)},disposeOnHide:function(){this.add_hidden(ss.mkdel(this,this.dispose));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))},hide:function(){if(this.$5===false){return}this.$5=false;window.clearTimeout(this.$1);this.raiseActionEvent(this.$2$2)},$0:function(e,gv){this.hide()}},{$0:function(e,gv){var gw=new dW;gw.set_message(e);if(ss.isValue(gv)){gw.set_autoHideTimeout(ss.unbox(gv))}return gw},showGeoLocationNotification:function(e,gv,gw){var gx=dW.$0(e,gv);gx.set_displayPosition(gw);tab.ObjectRegistry.newView(cS).call(null,[gx]);EventUtils.GlobalUIEvents.add_FirstTouch(ss.mkdel(gx,gx.$0));EventUtils.GlobalUIEvents.add_DismissTemporaryElements(ss.mkdel(gx,gx.hide));gx.disposables.add$1(new tab.CallOnDispose(function(){EventUtils.GlobalUIEvents.remove_FirstTouch(ss.mkdel(gx,gx.$0));EventUtils.GlobalUIEvents.remove_DismissTemporaryElements(ss.mkdel(gx,gx.hide))}));gx.disposeOnHide();gx.show()},showNotification:function(e,gv){dW.showCustomNotification(dV).call(null,e,gv)},showCustomNotification:function(e){return function(gv,gw){var gx=dW.$0(gv,gw);tab.ObjectRegistry.newView(e).call(null,[gx]);gx.disposeOnHide();gx.show();return gx}}});var dX=global.tab.OverlayImage=ss.mkType(a,'tab.OverlayImage',function(e,gv){this.$6=null;this.$5=null;spiff.Widget.call(this,$("<img class='tab-overlayImage'/>"));this.$6=$(e);this.element.on('load',ss.mkdel(this,function(){this.$4()}));this.element.attr('src',gv)},{get_location:function(){return{x:ss.trunc(this.$5.x),y:ss.trunc(this.$5.y)}},set_location:function(e){this.$5={x:e.x,y:e.y};this.$4()},clone:function(){return new dX(this.$6.get(0),this.element.attr('src'))},show:function(e){this.$5=e;this.$4()},hide:function(){this.element.detach()},$4:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$6[0])){this.$6.append(this.element)}if(ss.isNullOrUndefined(this.$5)){return}var e=this.$5.y;var gv=this.$5.x;this.element.css(ss.mkdict(['top',e+'px','left',gv+'px']))}});var dY=global.tab.PagableGroupListComponent=ss.mkType(a,'tab.PagableGroupListComponent',function(e){ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]).call(this,e)},{buildItem:function(e){var gv=['tabPagableUserListItem'];if(ss.referenceEquals(e,this.props.activeGroup)){gv.push('active')}return spiff.DOMElements.div({className:gv.join(' '),style:{whiteSpace:'nowrap'},title:e.name},e.name)},getUniqueKey:function(e){return e.id},getEventHandleSpecForItem:function(e){var gv=new EventUtils.EventHandleSpec;gv.tap=ss.mkdel(this,function(gw){this.props.onGroupSelected(e.data)});return gv},onScrollStop:function(e,gv){if(e.y===gv.y){this.props.fetchNextPage()}},shouldScrollbarAlwaysBeShown:function(){return true}});var dZ=global.tab.PagableUserListComponent=ss.mkType(a,'tab.PagableUserListComponent',function(e){ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]).call(this,e)},{buildItem:function(e){var gv=['tabPagableUserListItem'];if(ss.referenceEquals(e,this.props.activeUser)){gv.push('active')}return spiff.DOMElements.div({className:gv.join(' '),style:{whiteSpace:'nowrap'},title:e.friendlyName},e.friendlyName)},getUniqueKey:function(e){return e.id},getEventHandleSpecForItem:function(e){var gv=new EventUtils.EventHandleSpec;gv.tap=ss.mkdel(this,function(gw){this.props.onUserSelected(e.data)});return gv},onScrollStop:function(e,gv){if(e.y===gv.y){this.props.fetchNextPage()}},shouldScrollbarAlwaysBeShown:function(){return true}});var ea=global.tab.PillStatus=ss.mkEnum(a,'tab.PillStatus',{valid:0,invalid:1,pending:2});var eb=global.tab.PluginFilePicker=ss.mkType(a,'tab.PluginFilePicker',function(){this.$0=new tab.DisposableHolder;this.$2=null;this.$1=null},{getFile:function(e){var gv=$.Deferred();var gw=new cJ;gw.allowedFileExtensions=eb.$1(e);gw.allowMulti=false;this.$1=gw;this.$2=tab.MiscUtil.dispose$1(this.$2);this.$2=cK.createFilePickerViewModel(this.$1,function(gy){eb.$2(gv,gy)});var gx=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[cK,cI,Object])).call(null,[this.$2]);gx.addToDom($(document.body));return gv.promise()},getImageFile:function(){var e=new Object;e.fileTypeList=['mapped-images-and-svg'];var gv=e;return this.getFile(gv)},dispose:function(){this.$2=tab.MiscUtil.dispose$1(this.$2);this.$0.dispose()}},{get_instance:function(){eb.$3=eb.$3||new eb;return eb.$3},set_instance:function(e){eb.$3=e},$0:function(e){var gv={};gv['all']='.';gv['xls-direct']='.xls, .xlsx, .xlsm';gv['mapped-images']='.bmp, .dib, .emf, .gif, .jfif, .jpe, .jpeg, .jpg, .png, .rle, .tif, .tiff, .wmf';gv['mapped-images-and-svg']='.bmp, .dib, .emf, .gif, .jfif, .jpe, .jpeg, .jpg, .png, .rle, .svg, .tif, .tiff, .wmf';gv['tms']='.tms';gv['datasources']='.tds, .tdsx';gv['workbooks']='.twb, .twbx';gv['ssl-certs']='.cert, .crt, .cer, .arm, .pem';var gw=gv;if(!ss.keyExists(gw,e)){throw new ss.ArgumentException(ss.formatString('The file extension key ({0}) was not recognized',e.toString()))}return gw[e]},$1:function(e){return _.map(e.fileTypeList,function(gv){return eb.$0(gv)})},$2:function(e,gv){if(gv.length===0){e.reject('no-file-selected');return}tab.ModuleManager.load$1(tab.IFileUploadModule).call(null,[]).done(ss.mkdel(this,function(gw){try{gw.uploadFiles(gv).done(ss.mkdel(this,function(gx){gw.copyTempFileToSessionStorage(gv[0],gx).done(ss.mkdel(this,function(gy){var gz=new Object;gz.fileName=gv[0].name;gz.fileLocator=gy;var gA=gz;e.resolve(gA)}))})).fail(function(gx){e.reject('upload-failed')})}catch(gx){e.reject('upload-failed')}})).fail(function(gw){e.reject('upload-failed')})}});var ec=global.tab.PortSizeCalculator=ss.mkType(a,'tab.PortSizeCalculator',null,null,{calculatePortSize:function(){var e;var gv;if(tsConfig.is_authoring){e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('dashboard');gv=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('worksheet')}else{e=(!tsConfig.is_mobile?tab.DashboardSizeCalculator.calculateDashboardSize():tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('dashboard'));gv=e}return{dashboardPortSize:tab.SizePresModelUtils.sanitizePresModel(tab.DashboardSizeCalculator.asSizePresModel(e)),storyPortSize:tab.SizePresModelUtils.sanitizePresModel(tab.DashboardSizeCalculator.asSizePresModel(e)),worksheetPortSize:tab.SizePresModelUtils.sanitizePresModel(tab.DashboardSizeCalculator.asSizePresModel(gv))}}});var ed=global.tab.PresModelBrowserView=ss.mkType(a,'tab.PresModelBrowserView',function(e){ss.makeGenericType(spiff.BaseView$1,[ee]).call(this,e,spiff.Template.fromHtml('<div></div>'))});var ee=global.tab.PresModelBrowserViewModel=ss.mkType(a,'tab.PresModelBrowserViewModel',function(e,gv,gw){this.data=null;this.$0=null;this.name=null;spiff.BaseViewModel.call(this);this.name=e;if(ee.$1(gv)){if($.isArray(gv)){this.data=ee.$2(gv)}else{this.data=ee.$3(gv)}}else{this.data=gv.toString()}this.$0=gw},{activate:function(){if(!ss.staticEquals(this.$0,null)){this.$0()}}},{$1:function(e){return ss.isValue(e)&&typeof(e)==='object'},$2:function(e){var gv=[];for(var gw=0;gw<e.length;++gw){gv.push(ee.$4(gw.toString(),e[gw]))}return gv},$3:function(e){var gv=[];var gw=new ss.ObjectEnumerator(e);try{while(gw.moveNext()){var gx=gw.current();gv.push(ee.$4(gx.key,gx.value))}}finally{gw.dispose()}return gv},$0:function(e){return'<strong>'+e+':</strong> '},$4:function(e,gv){if(ee.$1(gv)){if($.isArray(gv)){return ss.mkdict(['text',ee.$0(e),'children',ee.$2(gv)])}else{return ss.mkdict(['text',ee.$0(e),'children',ee.$3(gv)])}}else if(ss.endsWithString(e,'Json')&&(ss.startsWithString(gv,'{')||ss.startsWithString(gv,'['))){var gw=null;try{gw=JSON.parse(gv)}catch(gx){}if(ss.isValue(gw)){return ee.$4(e,gw)}}return ee.$0(e)+gv}});var ef=global.tab.PublicInfoComponent=ss.mkType(a,'tab.PublicInfoComponent',function(e,gv){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[ei,eg,Object]).call(this,tab.ObjectRegistry.newView(ei).call(null,[e.viewModel]),e,gv)},{handleWidgetPropertyChanged:function(e,gv){},updateWidgetState:function(e){}});var eg=global.tab.PublicInfoProps=ss.mkType(a,'tab.PublicInfoProps',function(){this.viewModel=null});var eh=global.tab.PublicInfoTemplate=ss.mkType(a,'tab.PublicInfoTemplate',function(){this.publicInfoArea=null;this.moreAboutPublicSection=null;this.viewAndAuthorInfoSection=null;spiff.Template.call(this,$("<div class='tab-publicInfoView tab-toolbarDialog'><a class='tab-moreAboutPublicSection' target='_blank'></a><div class='tab-viewAndAuthorInfoSection'></div></div>"));this.publicInfoArea=this.domRoot;this.moreAboutPublicSection=this.getElementBySelector('.tab-moreAboutPublicSection');this.viewAndAuthorInfoSection=this.getElementBySelector('.tab-viewAndAuthorInfoSection')});var ei=global.tab.PublicInfoView=ss.mkType(a,'tab.PublicInfoView',function(e){this.$c=null;ss.makeGenericType(spiff.BaseView$1,[ej]).call(this,e,new eh);this.$c=e;this.$b()},{get_dom:function(){return this.get_template()},$b:function(){this.get_dom().moreAboutPublicSection.empty();this.get_dom().viewAndAuthorInfoSection.empty();this.$9();if(this.$c.get_shouldShowViewCount()){this.$a();if(this.$c.get_shouldShowAuthorByLine()){this.$8()}}if(this.$c.get_shouldShowAuthorByLine()){this.$7()}},$9:function(){this.get_dom().moreAboutPublicSection.attr('href',this.$c.get_publicLogoLink());this.get_dom().moreAboutPublicSection.text(tab.Strings.ToolbarLearnMoreAboutTableau)},$a:function(){var e=$('<span></span>').text(tab.Strings.ToolbarViewCount(ej.get_localizedViewCount()));this.get_dom().viewAndAuthorInfoSection.append(e)},$8:function(){var e=$('<span></span>');e.addClass('tab-belowPublicDivider');e.text('|');this.get_dom().viewAndAuthorInfoSection.append(e)},$7:function(){var e=$('<span></span>').html(this.$c.get_authorProfileLink());this.get_dom().viewAndAuthorInfoSection.append(e)},onAddedToDom:function(){this.$b();spiff.Widget.prototype.onAddedToDom.call(this)}});var ej=global.tab.PublicInfoViewModel=ss.mkType(a,'tab.PublicInfoViewModel',function(){spiff.BaseViewModel.call(this)},{add_hideDialogRequested:function(e){},remove_hideDialogRequested:function(e){},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_props:function(){var e=new eg;e.viewModel=this;return{children:React.createElement(ef,e),dialogWidth:260,isGlassTransparent:false,isModal:true,positioningBehavior:0,shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,shouldRecenterOnUpdate:true,shouldReturnFocusOnClose:true,showCloseButton:true,showFooter:false,testId:'public-info',title:tab.Strings.ToolbarMoreInfo,type:0}},get_shouldShowAuthorByLine:function(){return tsConfig.isPublic&&tsConfig.show_byline},get_shouldShowViewCount:function(){return tsConfig.isPublic&&tsConfig.showViewCount&&ej.get_viewCount()>tsConfig.viewCountThreshold},get_publicLogoLink:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return tsConfig.watermarklink+'?ref='+e.split('?')[0]},get_authorProfileLink:function(){var e=window.location;var gv=ss.formatString('{0}//{1}/profile/app/rdr/repo?workbook={2}',e.protocol,e.hostname,tsConfig.workbook_repo_url);return ss.formatString('<a class="tab-toolbarAuthorByText" target="_blank" href="{0}">{1}</a>',tab.EscapingUtil.escapeHtml(gv),tab.EscapingUtil.escapeHtml(tab.Strings.ToolbarMoreByAuthor))},onDialogHidden:function(){}},{get_localizedViewCount:function(){var e={t:'i',v:ej.get_viewCount(),s:null};return tableau.format.formatDataValue(e,null,tab.ApplicationModel.get_instance().get_numberFormat(),null,0)},get_viewCount:function(){return tsConfig.viewCount}});var ek=global.tab.PureComponentWithAsyncDependencies$3=ss.mkType(a,'tab.PureComponentWithAsyncDependencies$3',function(e,gv,gw){var gx=ss.registerGenericClassInstance(ek,[e,gv,gw],function(gy){this.$2=false;this.$1=ss.getDefaultValue(e);this.$0=null;spiff.PureRenderComponent.call(this,gy);this.$2=false;this.$0=this.fetchAsyncDependencies().done(ss.mkdel(this,function(gz){this.$1=gz;this.$2=true}))},{render:function(){if(!this.$2){this.$0.done(ss.mkdel(this,function(gy){this.forceUpdate()}));return this.renderWhileWaiting()}return this.renderWithDependencies(this.$1)},fetchAsyncDependencies:null,renderWhileWaiting:null,renderWithDependencies:null},null,function(){return spiff.PureRenderComponent});return gx});ss.initGenericClass(ek,3);var el=global.tab.PureComponentWithModule$3=ss.mkType(a,'tab.PureComponentWithModule$3',function(e,gv,gw){var gx=ss.registerGenericClassInstance(el,[e,gv,gw],function(gy){ss.makeGenericType(ek,[e,gv,gw]).call(this,gy)},{fetchAsyncDependencies:function(){return tab.ModuleManager.load$1(e).call(null,[])},renderWhileWaiting:function(){return null},renderWithDependencies:function(gy){return this.renderWithModule(gy)},renderWithModule:null},null,function(){return ss.makeGenericType(ek,[e,gv,gw])});return gx});ss.initGenericClass(el,3);var em=global.tab.QuickFilterConstants=ss.mkType(a,'tab.QuickFilterConstants');var en=global.tab.QuickFilterNoninteractiveDropdownComponent=ss.mkType(a,'tab.QuickFilterNoninteractiveDropdownComponent',function(e){spiff.PureRenderComponent.call(this,e)},{render:function(){var e=['tab-legacy-dropdown-container','tab-legacy-qf-bordered'].join(' ');var gv={borderColor:this.props.borderColor};return spiff.DOMElements.div({className:e,style:gv},spiff.DOMElements.div({className:'tab-legacy-dropdown-summary'},this.props.children),(!this.props.hideIcon?ss.mkdel(this,this.renderIcon)():null))},renderIcon:function(){var e={borderColor:this.props.borderColor};return spiff.DOMElements.div({className:'tab-legacy-dropdown-icon-container',style:e},spiff.DOMElements.div({className:'tab-legacy-dropdown-icon'}))}});var eo=global.tab.QuickFilterReadoutComponent=ss.mkType(a,'tab.QuickFilterReadoutComponent',function(e){spiff.PureRenderComponent.call(this,e)},{render:function(){var e=['tab-legacy-qf-readout-container','tab-legacy-qf-bordered'].join(' ');var gv={borderColor:this.props.borderColor};return spiff.DOMElements.div({className:e,style:gv},this.$1(),(!this.props.hideIcon?ss.mkdel(this,this.$0)():null))},$1:function(){var e=(ss.isNullOrEmptyString(this.props.text)?' ':this.props.text);var gv=['tab-legacy-qf-readout-text',this.props.textClass].join(' ');var gw={textDecoration:(this.props.strikethroughText?'line-through':'none')};return spiff.DOMElements.div({className:gv,style:gw},e)},$0:function(){var e=['tab-legacy-qf-readout-icon',this.props.iconClass].join(' ');return spiff.DOMElements.div({className:e})}});var ep=global.tab.RecipientPicker=ss.mkType(a,'tab.RecipientPicker',function(e,gv){this.$4=null;this.$5=null;React.Component.call(this,e,gv);this.$5=new tab.Debouncer(ss.mkdel(this,this.$3),e.debounceTimeout);this.state=new er},{render:function(){var e=this.state.users.map(ss.mkdel(this,function(gv){return{content:gv.friendlyName,value:gv.username,testId:'user-listitem-'+gv.username}}));return React.createElement(SharedWidgets.ChipPicker,{label:this.props.label,listItems:e,placeholder:this.props.placeholder,testId:'recipient-picker',maxLines:this.props.maxLines,listMaxHeight:150,onFilterItems:ss.mkdel(this,this.$0),onValueAdd:ss.mkdel(this,this.$1),onValuesChange:ss.mkdel(this,this.$2),className:'recipient-picker',children:this.props.recipients.map(ss.mkdel(this,function(gv){var gw;switch(this.props.userValidator(gv)){case 0:{gw=ep.$1(gv);break}case 1:{gw=ep.$0(gv,this.props.userErrorMessageGenerator(gv));break}case 2:default:{gw=ep.$2(gv,this.props.userErrorMessageGenerator(gv));break}}return gw}))})},$0:function(e){var gv=new er;gv.users=this.state.users;gv.filterValue=e.trim();this.setState(gv,ss.mkdel(this,function(){this.$5.invokeActionDelayed();return null}))},$1:function(e,gv){if(ss.staticEquals(this.props.onRecipientAdd,null)){return}var gw=e.toLowerCase();var gx=ss.indexOf(this.props.recipients.map(function(gz){return gz.username}),gw);if(gx<0){var gy=this.state.users.filter(function(gz){return ss.referenceEquals(gz.username.toLowerCase(),gw)})[0];this.props.onRecipientAdd(tab.UserFactory.copy(gy),gv)}},$2:function(e){if(ss.staticEquals(this.props.onRecipientsChange,null)){return}var gv={};this.props.recipients.forEach(function(gx){gv[gx.username]=gx});var gw=e.map(function(gx){return tab.UserFactory.copy(gv[gx])});this.props.onRecipientsChange(gw)},$3:function(){var e=this.state.filterValue;var gv=new Date;var gw=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(e,0);gw.done(ss.mkdel(this,function(gx){if(ss.staticEquals(this.$4,null)||gv>this.$4){this.$4=gv;var gy=new er;gy.users=gx.items;gy.filterValue=this.state.filterValue;this.setState(gy)}}))}},{$1:function(e){var gv={children:e.friendlyName,key:e.username,value:e.username,tooltip:e.friendlyName,testId:e.username+'-chip',className:'recipient-picker-chip'+' '+'recipient-picker-chip-normal'};return React.createElement(SharedWidgets.Chip,gv)},$2:function(e,gv){var gw={children:e.friendlyName,key:'pending-'+e.username,value:e.username,tooltip:e.friendlyName,testId:e.username,className:'recipient-picker-chip'+' '+'recipient-picker-chip-pending',message:gv,'aria-busy':true};return React.createElement(SharedWidgets.Chip,gw)},$0:function(e,gv){var gw={children:e.friendlyName,key:'error-'+e.username,value:e.username,testId:e.username+'-chip',className:'recipient-picker-chip'+' '+'recipient-picker-chip-error',message:gv};return React.createElement(SharedWidgets.ErrorChip,gw)}});var eq=global.tab.RecipientPickerProps=ss.mkType(a,'tab.RecipientPickerProps',function(){this.recipients=null;this.label=null;this.placeholder=null;this.maxLines=2;this.onRecipientAdd=null;this.onRecipientsChange=null;this.userValidator=null;this.userErrorMessageGenerator=null;this.debounceTimeout=0});var er=global.tab.RecipientPickerState=ss.mkType(a,'tab.RecipientPickerState',function(){this.users=[];this.filterValue=''});var es=global.tab.RedoKeyboardShortcut=ss.mkType(a,'tab.RedoKeyboardShortcut',function(){fS.call(this)},{getKeyComboOrKeyCombos:function(){var e=new Object;e.controlOrCommand='required';var gv=new KeyboardShortcuts.KeyCombo('y',e);var gw=new Object;gw.controlOrCommand='required';gw.shift='required';var gx=gw;var gy=new KeyboardShortcuts.KeyCombo('z',gx);return new KeyboardShortcuts.KeyCombos(gv,gy)},getCommandId:function(){return{ns:'tabdoc',cmd:'redo'}}});var et=global.tab.RelatedViewRecommendationsPanel=ss.mkType(a,'tab.RelatedViewRecommendationsPanel',function(e,gv){spiff.PureRenderComponent.$ctor1.call(this,e,gv)},{render:function(){var e=new gk;e.moduleName=et.$1;e.initialProps=this.props;return React.createElement(gj,e)}});var eu=global.tab.RelatedViewRecommendationsPanelProps=ss.mkType(a,'tab.RelatedViewRecommendationsPanelProps',function(){this.onCloseRequested=null;this.viewId=null;this.siteUrlName=null});var ev=global.tab.RelatedViewRecommendationsViewModel=ss.mkType(a,'tab.RelatedViewRecommendationsViewModel',function(e){this.$3=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[eu]).call(this);this.$3=e;tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.handleTabChangeComplete));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.handleTabChangeComplete))})))},{createInitialProps:function(){var e=new eu;e.onCloseRequested=this.$3;e.viewId=tsConfig.current_view_id;e.siteUrlName=tsConfig.site_url_name;return e},createUpdatedProps:function(){return this.createInitialProps()},handleTabChangeComplete:function(e){if(ss.referenceEquals(e.item1,e.item2)){return}if(ss.isValue(tab.ApplicationModel.get_instance().get_workbook().get_storyboard())){this.$3();return}this.incrementProps()},get_viewType:function(){return ss.makeGenericType(spiff.ReactHostView$3,[ev,et,eu])},get_viewModel:function(){return this},disposeViewModel:function(){this.dispose()}});var ew=global.tab.RenderAndCheckFontLoader=ss.mkType(a,'tab.RenderAndCheckFontLoader',function(){this.$b=null;this.$a=null;this.$9=null;this.$8=null;this.$c=0;this.$d=0;this.$1$1=null;this.$1$2=null;this.$b={}},{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){this.$2()},addFonts:function(e){for(var gv=0;gv<e.length;gv++){var gw=e[gv];if(!ss.keyExists(this.$b,gw.woffLocation)){var gx=this.$1(gw);this.$b[gw.woffLocation]=new j(gx)}var gy=this.$b[gw.woffLocation];if(!_.contains(gy.$2,gw)&&!_.contains(gy.$1,gw)){this.$b[gw.woffLocation].$2.push(gw)}}},downloadFonts:function(){this.updateMeasurementDivs()},finishDownloadingFonts:function(){this.updateMeasurementDivs();this.$7()},updateMeasurementDivs:function(){if(ss.isNullOrUndefined(this.$8)){this.$8=ew.$0('tab-baselineFontMeasurer',["'Courier New', Monaco, monospace"]);this.$8.appendTo(document.body)}if(ss.isNullOrUndefined(this.$a)){this.$a=$('<canvas></canvas>').css(ew.$5).appendTo(document.body)[0];this.$9=this.$a.getContext('2d')}var e=_.values(this.$b);for(var gv=0;gv<e.length;gv++){var gw=e[gv];if(ss.isValue(gw.$3)&&!ss.referenceEquals(gw.$3[0].parentElement,document.body)){gw.$3.appendTo(document.body)}}},updateFontState:function(){var e=_.values(this.$b);for(var gv=0;gv<e.length;gv++){var gw=e[gv];if(ss.isNullOrUndefined(gw.$3)){continue}var gx=3;var gy=tab.DoubleUtil.roundToInt(gw.$3.width());this.$9.font='100% '+gw.$0;var gz=tab.DoubleUtil.roundToInt(this.$9.measureText('The quick brown fox jumps over the lazy dog iiilllest').width);if(!ew.$3(gw.$3,this.$8)&&Math.abs(gz-gy)<=gx){gw.$3=null}else{this.$4()}}},isDownloadingDone:function(){var e=_.values(this.$b);for(var gv=0;gv<e.length;gv++){var gw=e[gv];if(ss.isValue(gw.$3)){return false}}return true},$1:function(e){var gv="'"+e.woffLocation.substr(e.woffLocation.lastIndexOf('/')+1)+"'";var gw=new tab.DownloadableFontProperties;gw.set_fontFamily(gv);gw.woffLocation=e.woffLocation;var gx=gw;tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',gx.toCSSRules());var gy=ew.$0('tab-hiddenFontMeasurer',[gx.get_fontFamily(),"'Courier New', Monaco, monospace"]);return gy},$7:function(){this.$2();var e=this.$3();if(e){return}this.$c=window.setInterval(ss.mkdel(this,function(){this.$3()}),100)},$3:function(){this.$d++;this.updateFontState();var e=this.isDownloadingDone();if(e||this.$d>1200){this.$2();this.$6();if(e){this.$0()}return true}return false},$2:function(){window.clearInterval(this.$c);this.$c=0;this.$d=0},$6:function(){if(ss.isValue(this.$8)){this.$8.remove();this.$8=null}if(ss.isValue(this.$a)){this.$9=null;this.$a.parentNode.removeChild(this.$a);this.$a=null}$('body > .'+'tab-hiddenFontMeasurer').remove()},$4:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$5:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){var e=_.values(this.$b);for(var gv=0;gv<e.length;gv++){var gw=e[gv];while(gw.$2.length>0){var gx=gw.$2.pop();gw.$1.push(gx);tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',gx.toCSSRules())}}this.$5()}},{$0:function(e,gv){var gw=$('<span></span>').text('The quick brown fox jumps over the lazy dog iiilllest');var gx=$('<div></div>').css(ew.$5).css('font-family',gv.join(', ')).addClass(e);gx.append(gw);return gx},$3:function(e,gv){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(gv)){return false}var gw=e.children('span')[0];var gx=gv.children('span')[0];return ew.$1(gw,gx)===0&&ew.$2(gw,gx)===0},$1:function(e,gv){var gw=e.getBoundingClientRect().height;var gx=(ss.isNullOrUndefined(gv)?0:gv.getBoundingClientRect().height);return ss.compare(gw,gx)},$2:function(e,gv){var gw=e.getBoundingClientRect().width;var gx=(ss.isNullOrUndefined(gv)?0:gv.getBoundingClientRect().width);return ss.compare(gw,gx)}});var ex=global.tab.RenderingPerfEventArgs=ss.mkType(a,'tab.RenderingPerfEventArgs',function(e,gv){this.eventTime=0;this.region=null;this.vizIdentifier=null;ss.EventArgs.call(this);this.eventTime=window.performance.now();this.region=gv;this.vizIdentifier=e});var ey=global.tab.RenderingPerfUtils=ss.mkType(a,'tab.RenderingPerfUtils',null,null,{dispatchRenderingPerfEvent:function(e,gv,gw){if(!tab.FeatureFlags.isEnabled('BeviPerfEventDispatch')){return}var gx={detail:new ex(e,gv)};var gy=new CustomEvent(gw,gx);var gz=$(ey.$1);if(gz.length>0){gz.get(0).dispatchEvent(gy)}if(tab.FeatureFlags.isEnabled('BrowserEverywhere_Hosting_ClientPerfTelemetry')){tabBootstrap.MetricsController.logMetricsEvent('RNDBER'.toString(),4,null)}}});var ez=global.tab.RenderUtil=ss.mkType(a,'tab.RenderUtil',null,null,{calculatePixelRatio:function(e){var gv=1;if(ss.isValue(tsConfig.highDpi)&&tsConfig.highDpi){if(ss.isValue(tsConfig.pixelRatio)){gv=tsConfig.pixelRatio}else if(!e){gv=BrowserSupport.BrowserSupport.DevicePixelRatio()}else{gv=BrowserSupport.BrowserSupport.DevicePixelRatio()/BrowserSupport.BrowserSupport.BackingStoragePixelRatio()}}return gv},manualFadeAnimation:function(e,gv,gw,gx,gy,gz){var gA=gv;var gB=gw;var gC=ss.idiv(gy,1000)*gx;var gD=(gw-gv)/gC;var gE=ss.idiv(1000,gx);var gF=null;gF=function(){if(gA>gB){e.css('filter','alpha(opacity='+gB+')');e.css('opacity',(gB/100).toString());return}e.css('filter','alpha(opacity='+gA+')');e.css('opacity',(gA/100).toString());gA+=gD;if(ss.isValue(gz)){gE+=gE}window.setTimeout(gF,gE)};window.setTimeout(gF,gE)},compareBoundingClientHeight:function(e,gv){var gw=e.getBoundingClientRect().height;var gx=(ss.isNullOrUndefined(gv)?0:gv.getBoundingClientRect().height);return ss.compare(gw,gx)},compareBoundingClientWidth:function(e,gv){var gw=e.getBoundingClientRect().width;var gx=(ss.isNullOrUndefined(gv)?0:gv.getBoundingClientRect().width);return ss.compare(gw,gx)},ensureImageEltSize:function(e,gv){var gw=ez.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(gw,1)){var gx=$(e);gx.css('max-width',gv.w+'px');gx.css('max-height',gv.h+'px')}}});var eA=global.tab.RightAreaDrawerModuleLoader=ss.mkType(a,'tab.RightAreaDrawerModuleLoader',function(){this.disposables=new tab.DisposableHolder;this.$0=null;this.$1=null;this.$3=null;this.$5=null;this.$4=null;this.$2=null},{loadCommentingModule:function(){if(ss.isValue(this.$0)){return this.$0}var e=$.Deferred();this.$0=e;tab.ModuleManager.load$1(tab.ICommentingFactory).call(null,[]).done(ss.mkdel(this,function(gv){var gw=gv.createCommentingModuleViewModel();gw.updateForSheet(tsConfig.current_sheet_name);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){gw.disposeViewModel();this.$0=null})));e.resolve(gw)}));return this.$0},loadDataAlertsPanelModule:function(){if(ss.isValue(this.$1)){return this.$1}var e=$.Deferred();this.$1=e;var gv=tabBootstrap.MetricsController.createContext('Alerts Panel Load',4,null);tab.ModuleManager.load$1(tab.IDataAlertsPanelFactory).call(null,[]).done(ss.mkdel(this,function(gw){var gx=E.get_instance().get_rightAreaDrawerViewModel();var gy=gw.createDataAlertsPanelModuleViewModel(ss.mkdel(gx,gx.closeDrawer));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){gy.disposeViewModel();this.$1=null})));e.resolve(gy);gv.dispose()}));return this.$1},loadLineageModule:function(){if(ss.isValue(this.$3)){return this.$3}var e=$.Deferred();this.$3=e;tab.ModuleManager.load$1(tab.IDataCatalogClientComponentsFactory).call(null,[]).done(ss.mkdel(this,function(gv){tab.ModuleManager.load$1(tab.IVizportalWebclientApiFactory).call(null,[]).done(ss.mkdel(this,function(gw){var gx=E.get_instance().get_rightAreaDrawerViewModel();var gy=gv.createVizClientLineagePanelViewModel(ss.mkdel(gx,gx.closeDrawer));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){gy.disposeViewModel();this.$3=null})));e.resolve(gy)}))}));return this.$3},loadRelatedViewRecommendationsModule:function(){if(ss.isNullOrUndefined(this.$5)){var e=$.Deferred();var gv=E.get_instance().get_rightAreaDrawerViewModel();var gw=ss.mkdel(gv,gv.closeDrawer);var gx=new ev(gw);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){gx.disposeViewModel();this.$5=null})));e.resolve(gx);this.$5=e}return this.$5},loadMetricsModule:function(){var e=this.$4;if(ss.isNullOrUndefined(e)){var gv=E.get_instance().get_rightAreaDrawerViewModel();e=this.$4=dH.load(ss.mkdel(gv,gv.closeDrawer))}return e},loadDataMonitoringPanelModule:function(){if(ss.isNullOrUndefined(this.$2)){var e=$.Deferred();var gv=E.get_instance().get_rightAreaDrawerViewModel();var gw=ss.mkdel(gv,gv.closeDrawer);var gx=new bV(gw);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){gx.disposeViewModel();this.$2=null})));e.resolve(gx);this.$2=e}return this.$2},dispose:function(){this.disposables.dispose()}});var eB=global.tab.RightAreaDrawerModuleLoaderTemplate=ss.mkType(a,'tab.RightAreaDrawerModuleLoaderTemplate',function(){this.loaderContainer=null;spiff.Template.call(this,eB.$0());this.loaderContainer=this.domRoot},null,{$0:function(){return $("<div class='tab-right-area-drawer-module-loader'></div>")}});var eC=global.tab.RightAreaDrawerModuleLoaderView=ss.mkType(a,'tab.RightAreaDrawerModuleLoaderView',function(e){ss.makeGenericType(spiff.BaseView$1,[eD]).call(this,e,new eB);var gv=React.createElement(SharedWidgets.ActivitySpinnerWidget,{testId:'waiting',shouldShowUnderlay:false});window.setTimeout(ss.mkdel(this,function(){ReactDOM.render(gv,this.get_dom().loaderContainer.get(0))}),300);this.get_dom().loaderContainer.css({position:'absolute',top:0+'px',right:0+'px',bottom:0+'px',left:0+'px','box-sizing':'border-box','border-left-style':'solid','border-left-width':SharedWidgets.TabStyles.Sizing.BorderWidth+'px','border-left-color':SharedWidgets.TabStyles.Colors.L6,'background-color':SharedWidgets.TabStyles.Colors.L1,'padding-top':85+'px','text-align':'center'})},{get_dom:function(){return this.get_template()}});var eD=global.tab.RightAreaDrawerModuleLoaderViewModel=ss.mkType(a,'tab.RightAreaDrawerModuleLoaderViewModel',function(e){this.$3=null;this.$2=null;spiff.BaseViewModel.call(this);this.$2=e},{$1:function(){if(ss.isNullOrUndefined(this.$3)){this.$3=new eA;this.disposables.add$1(this.$3)}return this.$3},get_viewModel:function(){return this},get_viewType:function(){return eC},disposeViewModel:function(){this.dispose()},get_typeOfContentBeingLoaded:function(){return this.$2.get_typeOfContentBeingLoaded()},$0:function(e){return function(gv){gv.then(function(gw){E.get_instance().get_rightAreaDrawerViewModel().set_content(gw)},null);return this}}},{getContentFromType:function(e){var gv=new eD(tab.ApplicationModel.get_instance().get_rightAreaDrawer());switch(e){case 1:{return gv.$0(tab.ICommentingModuleViewModel).call(gv,gv.$1().loadCommentingModule())}case 2:{return gv.$0(tab.IDataAlertsPanelModuleViewModel).call(gv,gv.$1().loadDataAlertsPanelModule())}case 3:{return gv.$0(tab.IVizClientLineagePanelViewModel).call(gv,gv.$1().loadLineageModule())}case 4:{return gv.$0(dI).call(gv,gv.$1().loadMetricsModule())}case 5:{return gv.$0(ev).call(gv,gv.$1().loadRelatedViewRecommendationsModule())}case 6:{return gv.$0(bV).call(gv,gv.$1().loadDataMonitoringPanelModule())}default:{return null}}}});var eE=global.tab.RightAreaDrawerTemplate=ss.mkType(a,'tab.RightAreaDrawerTemplate',function(){this.drawerContainer=null;spiff.Template.call(this,eE.$0());this.drawerContainer=this.domRoot},null,{$0:function(){return $("<div id='right-panel'></div>")}});var eF=global.tab.RightAreaDrawerView=ss.mkType(a,'tab.RightAreaDrawerView',function(e){ss.makeGenericType(spiff.BaseView$1,[eG]).call(this,e,new eE);this.get_viewModel().add_open(ss.mkdel(this,this.$7));this.get_viewModel().add_close(ss.mkdel(this,this.$7));this.get_viewModel().add_contentChanged(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_open(ss.mkdel(this,this.$7));this.get_viewModel().remove_close(ss.mkdel(this,this.$7));this.get_viewModel().remove_contentChanged(ss.mkdel(this,this.$8))})));this.$7()},{get_dom:function(){return this.get_template()},addFloatingPanelToDom:function(e){this.get_dom().drawerContainer.empty();this.get_dom().drawerContainer.append(e)},$7:function(){if(tsConfig.is_authoring){this.get_dom().drawerContainer.css({position:'absolute',top:this.get_viewModel().get_drawerTopOffset()+'px',right:'0px',width:this.get_viewModel().get_drawerWidth()+'px',bottom:this.get_viewModel().get_drawerBottomOffset()+'px','border-top-style':'solid','border-top-width':SharedWidgets.TabStyles.Sizing.BorderWidth+'px','border-top-color':SharedWidgets.TabStyles.Colors.L6})}else{this.get_dom().drawerContainer.css({'flex-grow':'0','flex-shrink':'0','flex-basis':this.get_viewModel().get_drawerWidth()+'px',order:'2',position:'relative'})}},$8:function(){this.get_dom().drawerContainer.empty();if(ss.isValue(this.get_viewModel().get_content())){var e=tab.ObjectRegistry.newView$1(ss.makeGenericType(tab.IView$1,[tab.IViewModel])).call(null,this.get_viewModel().get_content().get_viewType(),[this.get_viewModel().get_content().get_viewModel()]);e.addToDom(this.get_dom().drawerContainer)}}});var eG=global.tab.RightAreaDrawerViewModel=ss.mkType(a,'tab.RightAreaDrawerViewModel',function(e){this.onClose=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$3=null;spiff.BaseViewModel.call(this);this.$4=e;this.$4.add_updated(ss.mkdel(this,this.$1));this.$4.add_contentChanged(ss.mkdel(this,this.$0));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$4.remove_updated(ss.mkdel(this,this.$1));this.$4.remove_contentChanged(ss.mkdel(this,this.$0))})))},{add_open:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_open:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_close:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_close:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_contentChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_contentChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_content:function(){return this.$3},set_content:function(e){this.$3=e;this.raiseActionEvent(this.$2$3)},get_drawerWidth:function(){return tabBootstrap.ViewerBootstrap.get_instance().get_rightAreaDrawerWidth()},get_drawerTopOffset:function(){return tab.DashboardSizeCalculator.calculateDashboardViewportBounds().t},get_drawerBottomOffset:function(){return(tsConfig.is_authoring?tabBootstrap.VizLayoutConstants.get_authoringTabsHeight():0)},get_isOpen:function(){return this.$4.get_isOpen()},set_isOpen:function(e){this.$4.set_isOpen(e)},get_typeOfContentBeingLoaded:function(){return this.$4.get_typeOfContentBeingLoaded()},openDrawer:function(e){tab.RightAreaDrawerCommands.showRightAreaDrawer(e)},closeDrawer:function(){tab.RightAreaDrawerCommands.hideRightAreaDrawer();if(!ss.staticEquals(this.onClose,null)){this.onClose()}},$2:function(e){return function(){return ss.isValue(this.get_content())&&ss.isInstanceOfType(this.get_content().get_viewModel(),e)}},getToggleType:function(e){return function(gv){if(!this.get_isOpen()){return 0}if(this.$2(e).call(this)){return 1}if(this.$2(eD).call(this)&&this.get_content().get_viewModel().get_typeOfContentBeingLoaded()===gv){return 1}return 2}},toggleCommenting:function(e){this.onClose=e;this.togglePanel(tab.ICommentingModuleViewModel).call(this,1)},toggleDataAlertsPanel:function(e){this.onClose=e;this.togglePanel(tab.IDataAlertsPanelModuleViewModel).call(this,2)},toggleLineagePanel:function(e){this.onClose=e;this.togglePanel(tab.IVizClientLineagePanelViewModel).call(this,3)},toggleRelatedViewRecommendationsPanel:function(e){this.onClose=e;this.togglePanel(ev).call(this,5)},toggleDataMonitoringPanel:function(e){this.onClose=e;this.togglePanel(bV).call(this,6)},togglePanel:function(e){return function(gv){switch(this.getToggleType(e).call(this,gv)){case 0:{this.openDrawer(gv);break}case 1:{this.closeDrawer();break}case 2:{tab.RightAreaDrawerCommands.setTypeOfContentBeingLoaded(gv);break}default:{return}}}},$1:function(){if(this.get_isOpen()){tabBootstrap.ViewerBootstrap.get_instance().set_rightAreaDrawerWidth(eG.drawerWidthOpen);this.raiseActionEvent(this.$2$1)}else{tabBootstrap.ViewerBootstrap.get_instance().set_rightAreaDrawerWidth(eG.drawerWidthClosed);this.raiseActionEvent(this.$2$2)}},$0:function(){if(ss.isValue(this.get_content())){this.get_content().disposeViewModel()}this.set_content(eD.getContentFromType(this.get_typeOfContentBeingLoaded()))}});var eH=global.tab.RightAreaDrawerViewModel$ToggleType=ss.mkEnum(a,'tab.RightAreaDrawerViewModel$ToggleType',{OPEN:0,CLOSE:1,REPLACE:2});var eI=global.tab.RightHybridSidePaneProxy=ss.mkType(a,'tab.RightHybridSidePaneProxy');var eJ=global.tab.RightHybridSidePaneProxyHelper=ss.mkType(a,'tab.RightHybridSidePaneProxyHelper',function(e,gv,gw,gx,gy,gz,gA){tab.BaseHybridSidePaneProxyHelper.call(this,e,gv,gw,gx,gy,gz,gA)},{get_containerClass:function(){return'tabRightPane'},openPane:function(e){if(this.isShown()||ss.isNullOrUndefined(E.get_instance())){return}var gv=$('<div></div>').addClass(this.get_containerClass());gv.css({width:'100%',height:'100%','border-left-style':'solid','border-left-width':SharedWidgets.TabStyles.Sizing.BorderWidth+'px','border-left-color':SharedWidgets.TabStyles.Colors.L6});E.get_instance().get_rightAreaDrawerViewModel().openDrawer(7);E.get_instance().get_rightAreaDrawerView().addFloatingPanelToDom(gv);gv.get(0).setAttribute(this.sidePaneIdAttr,this.sidePaneId);this.openCallback(e,gv.get(0))},updatePane:function(e){if(!this.isShown()){return}this.updateCallback(e,this.getContainer().get(0))},closePane:function(){if(!this.isShown()||ss.isNullOrUndefined(E.get_instance())){return}var e=this.getContainer();ReactDOM.unmountComponentAtNode(e.get(0));e.remove();E.get_instance().get_rightAreaDrawerViewModel().closeDrawer();this.closeCallback()}});var eK=global.tab.SavingUtil=ss.mkType(a,'tab.SavingUtil',null,null,{isSaveEnabled:function(){return tsConfig.allow_save&&!tab.ApplicationModel.get_instance().get_workbook().get_isWorkbookIncomplete()&&!du.get_instance().get_isJumpstartSampleData()&&!tab.NaturalLanguageUtil.isNlpView()},isSaveAsEnabled:function(){return tsConfig.allow_save_as},loadSaveController:function(){var e=$.Deferred();tab.ModuleManager.load$1(tab.ISavingModule).call(null,[]).done(function(gv){e.resolve(gv.getSaveControllerInstance())});return e},saveWorkbook:function(e,gv){eK.loadSaveController().done(function(gw){gw.saveWorkbook(e,gv)})},saveWorkbookAs:function(e,gv){eK.loadSaveController().done(function(gw){gw.saveWorkbookAs(e,gv)})}});var eL=global.tab.SelectActionResolver=ss.mkType(a,'tab.SelectActionResolver',null,null,{fromNormalizedEvent:function(e,gv){var gw=e.GetSelectAction();switch(gv){case 0:{return((gw==='toggle')?'range':gw)}case 1:{return((gw==='range')?'simple':gw)}case 2:default:{return gw}}}});var eM=global.tab.SelectActionResolverEvent=ss.mkEnum(a,'tab.SelectActionResolverEvent',{dragEnd:0,markTap:1,other:2});var eN=global.tab.SelfServiceSubscriptionCreationParameters=ss.mkType(a,'tab.SelfServiceSubscriptionCreationParameters',function(e,gv,gw,gx,gy,gz,gA,gB,gC,gD){this.subject=null;this.includeValue=false;this.recurrenceModel=null;this.subscriptionMessage=null;this.users=null;this.groups=null;this.subscriptionParams=null;this.subscriptionFormat=null;this.subscriptionPDFOptions=null;this.subscriptionFrequency=null;this.subject=e;this.includeValue=gv;this.recurrenceModel=gw;this.subscriptionMessage=gx;this.users=gy;this.groups=gz;this.subscriptionParams=gA;this.subscriptionFormat=gB;if(tab.FeatureFlags.isEnabled('PDFSubscriptionOptions')){this.subscriptionPDFOptions=gC}this.subscriptionFrequency=gD});var eO=global.tab.ServerFontLoader=ss.mkType(a,'tab.ServerFontLoader',function(){this.$6={};this.$5=null;this.$8=false;this.$7=false;this.$3=null;this.$4=null;this.$1$1=null;this.$5=eO.$0();this.$5.add_fontsReady(ss.mkdel(this,this.$1));this.$5.add_fontDownloading(ss.mkdel(this,this.$0));this.$7=true},{add_fontPreparationComplete:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontPreparationComplete:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_fontsLoadedPromise:function(){return this.$4},initialize:function(e){this.$5.reset();this.$8=false;this.$4=$.Deferred();if(e){this.$3=bf.get_instance().hold(1)}},registerServerLoadedFonts:function(e){for(var gv=0;gv<e.length;gv++){var gw=e[gv];var gx=gw.get_hash();if(!ss.keyExists(this.$6,gx)){this.$6[gx]=gw}}},notifyDownloadableFont:function(e){if(this.$8){return}var gv=[];for(var gw=0;gw<e.length;gw++){var gx=e[gw];var gy=gx.get_hash();if(ss.keyExists(this.$6,gy)){gv.push(this.$6[gy])}}if(ss.isValue(gv)&&gv.length>0){this.$5.addFonts(gv)}},downloadFonts:function(){{var e=tabBootstrap.MetricsController.createContext('DownloadFonts',128,null);try{this.$5.downloadFonts()}finally{if(ss.isValue(e)){e.dispose()}}}},allFontsFound:function(){this.$8=true;this.$5.finishDownloadingFonts()},$0:function(){this.$7=true},$1:function(){cM.logFontsLoaded();if(this.$7){this.$2();this.$7=false}if(ss.isValue(this.$3)){this.$3.dispose()}this.$4.resolve()},$2:function(){tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){tab.WindowHelper.setTimeout(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}),200)}))}},{get_instance:function(){if(ss.isNullOrUndefined(eO.$2)){eO.$2=new eO}return eO.$2},get_allCustomFonts:function(){return _.union(tab.ServerFonts.tableauFontNames,tab.ServerFonts.effectiveBentonSans)},loadFonts:function(e){var gv=$.Deferred();eO.get_instance().get_fontsLoadedPromise().then(function(){eO.get_instance().initialize(false);eO.get_instance().registerServerLoadedFonts(e);eO.get_instance().notifyDownloadableFont(e);eO.get_instance().downloadFonts();eO.get_instance().allFontsFound();eO.get_instance().get_fontsLoadedPromise().then(function(){gv.resolve()},null)},null);return gv},downloadAdditionalDrawerFonts:function(){var e=(BrowserSupport.BrowserSupport.IsHighDpi()?eO.drawerFontNames:eO.drawerLowDpiFontNames);return eO.loadFonts(e)},downloadAdditionalNLPFonts:function(){var e=(BrowserSupport.BrowserSupport.IsHighDpi()?eO.nlpFontNames:eO.nlpLowDpiFontNames);return eO.loadFonts(e)},$0:function(){if(BrowserSupport.BrowserSupport.FontLoader()&&BrowserSupport.BrowserSupport.Promise()&&(BrowserSupport.BrowserSupport.IsFF()||BrowserSupport.BrowserSupport.IsChrome()||BrowserSupport.BrowserSupport.IsSafari()||BrowserSupport.BrowserSupport.IsIos())){return new dL}return new ew}});var eP=global.tab.SessionViewModel=ss.mkType(a,'tab.SessionViewModel',null,null,{onSessionRecoveryAttempt:function(e){var gv;if(e.get_isInactive()){gv=e.get_inactivityWarning()}else{gv=tab.Strings.SessionRecoveryWarning}dW.showNotification(gv,null)}});var eQ=global.tab.ShareComponent=ss.mkType(a,'tab.ShareComponent',function(e,gv){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[eU,eR,Object]).call(this,tab.ObjectRegistry.newView(eU).call(null,[e.viewModel]),e,gv)},{handleWidgetPropertyChanged:function(e,gv){},updateWidgetState:function(e){}});var eR=global.tab.ShareProps=ss.mkType(a,'tab.ShareProps',function(){this.viewModel=null});var eS=global.tab.ShareTemplate=ss.mkType(a,'tab.ShareTemplate',function(){this.shareArea=null;this.shareStateArea=null;this.shareLinkSection=null;this.shareLinkTitle=null;this.shareLinkInput=null;this.shareLinkButtons=null;this.shareEmbedTitle=null;this.shareEmbedInput=null;spiff.Template.call(this,$("\n            <div class='tab-shareView tab-toolbarDialog'>\n            </div>"));this.shareArea=this.domRoot});var eT=global.tab.ShareToggleButtonViewModel=ss.mkType(a,'tab.ShareToggleButtonViewModel',function(){this.$4=0;this.$3$1=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this)},{add_originalViewSelected:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_originalViewSelected:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},createUpdatedProps:function(){return{selectedToggle:this.$4,leftToggleText:tab.Strings.ToolbarCurrentView,rightToggleText:tab.Strings.ToolbarOriginalView,handleLeftToggleSelected:ss.mkdel(this,function(){this.$3(false)}),handleRightToggleSelected:ss.mkdel(this,function(){this.$3(true)}),testId:'ShareToggleButton',ariaLabel:tab.Strings.ShareViewOptions}},$3:function(e){this.$4=(e?1:0);this.incrementProps();this.raiseActionEvent$1(Boolean).call(this,this.$3$1,e)}});var eU=global.tab.ShareView=ss.mkType(a,'tab.ShareView',function(e){this.$f=null;this.$e=null;this.$g=null;ss.makeGenericType(spiff.BaseView$1,[eV]).call(this,e,new eS);this.$f=e;this.$f.saveSharedView();this.$8();this.$f.add_selectedViewChanged(ss.mkdel(this,this.$d));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_selectedViewChanged(ss.mkdel(this,this.$d))})))},{get_dom:function(){return this.get_template()},$8:function(){var e=$("\n            <div class='tab-shareLinkSection'>\n                <label>\n                    <span class='tab-shareLinkTitle tab-shareTitle'></span>\n                    <span class='tab-shareLinkInput'></span>\n                </label>\n                <div class='tab-shareLinkButtons'></div>\n            </div>");var gv=$("\n            <div class='tab-shareEmbedSection'>\n                <label>\n                    <span class='tab-shareEmbedTitle tab-shareTitle'></span>\n                    <span class='tab-shareEmbedInput'></span>\n                </label>\n            </div>");if(this.$f.get_allowSharingDifferentViews()){this.get_dom().shareArea.append($("\n            <div class='tab-shareViewStateSection'>\n            </div>"));this.get_dom().shareStateArea=this.get_dom().getElementBySelector('.tab-shareViewStateSection')}this.get_dom().shareArea.append(gv);this.get_dom().shareArea.append(e);this.get_dom().shareLinkSection=this.get_dom().getElementBySelector('.tab-shareLinkSection');this.get_dom().shareLinkTitle=this.get_dom().getElementBySelector('.tab-shareLinkTitle');this.get_dom().shareLinkButtons=this.get_dom().getElementBySelector('.tab-shareLinkButtons');this.get_dom().shareLinkInput=this.$a().get_inputElement();this.get_dom().getElementBySelector('.tab-shareLinkInput').replaceWith(this.get_dom().shareLinkInput);this.get_dom().shareEmbedTitle=this.get_dom().getElementBySelector('.tab-shareEmbedTitle');this.get_dom().shareEmbedInput=this.$a().get_inputElement();this.get_dom().getElementBySelector('.tab-shareEmbedInput').replaceWith(this.get_dom().shareEmbedInput);if(!tsConfig.is_mobile){this.get_dom().shareLinkInput.click(ss.mkdel(this,function(gA){this.get_dom().shareLinkInput.focus();this.get_dom().shareLinkInput.select()}));this.get_dom().shareEmbedInput.click(ss.mkdel(this,function(gA){this.get_dom().shareEmbedInput.focus();this.get_dom().shareEmbedInput.select()}))}this.get_dom().shareLinkButtons.empty();if(this.$f.get_shouldShowSocialShareOptions()){var gw=React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(gA){this.$f.doSendEmailAction()}),buttonType:10,testId:'tab-shareSocialMail',children:'',title:tab.Strings.ShareDialogEmailLink,getContent:this.$b('tab-shareMailIcon')});var gx=React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(gA){this.$f.doTwitterShareAction()}),buttonType:10,testId:'tab-shareSocialTwitter',children:'',title:tab.Strings.ShareDialogTwitterLink,getContent:this.$b('tab-shareSocialTwitter')});var gy=React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(gA){this.$f.doFacebookShareAction()}),buttonType:10,testId:'tab-shareSocialFacebook',children:'',title:tab.Strings.ShareDialogFacebookLink,getContent:this.$b('tab-shareSocialFacebook')});ReactDOM.render(spiff.DOMElements.div({key:'buttons'},gw,gx,gy),this.get_dom().shareLinkButtons.get(0))}else{var gz=$('<span></span>').appendTo(this.get_dom().shareLinkButtons);this.$e=this.$9();ReactDOM.render(this.$e,gz.get(0))}},$b:function(e){var gv=React.createElement('div',{className:e});return function(gw){return gv}},$7:function(e,gv){e.attr('tabindex','0');e.attr('title',gv);e.attr('role','link')},$9:function(){var e=React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(gw){this.$f.doSendEmailAction()}),buttonType:5,testId:'EmailButton',children:tab.Strings.ShareDialogEmailLink});var gv=React.createElement(SharedWidgets.InlineBlock,{children:e});return gv},$c:function(){this.get_dom().shareLinkTitle.html(this.$f.get_linkLabel());this.get_dom().shareEmbedTitle.html(this.$f.get_embedLabel());if(this.$f.get_allowSharingDifferentViews()){this.$g=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[eT,SharedWidgets.ToggleTextWidget,Object])).call(null,[this.$f.shareToggleButtonViewModel]);this.$g.addToDom(this.get_dom().shareStateArea)}this.$f.set_shouldShareOriginalView(false);this.$d()},$d:function(){var e=this.$f.generateShareBaseUrl();if(ss.isNullOrEmptyString(e)){this.get_dom().shareLinkSection.hide()}else{var gv=this.$f.generateShareUrl();this.get_dom().shareLinkInput.val(gv);this.get_dom().shareLinkSection.show()}this.$f.generateEmbedCode().always(ss.mkdel(this,function(gw){this.get_dom().shareEmbedInput.val(gw)}))},onAddedToDom:function(){this.$c();spiff.Widget.prototype.onAddedToDom.call(this)},$a:function(){var e=spiff.TextInputView.newTextInputView('','',null,!tsConfig.is_mobile);e.get_inputElement().addClass('tab-shareInput');return e}});var eV=global.tab.ShareViewModel=ss.mkType(a,'tab.ShareViewModel',function(){this.embedCodeVersion=3;this.shareToggleButtonViewModel=null;this.$b=true;this.$2$1=null;spiff.BaseViewModel.call(this);this.$b=!this.$a();this.shareToggleButtonViewModel=new eT;this.shareToggleButtonViewModel.add_originalViewSelected(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.shareToggleButtonViewModel.remove_originalViewSelected(ss.mkdel(this,this.$7))})))},{add_hideDialogRequested:function(e){},remove_hideDialogRequested:function(e){},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},add_selectedViewChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_selectedViewChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_props:function(){var e=new eR;e.viewModel=this;return{children:React.createElement(eQ,e),dialogWidth:260,isGlassTransparent:false,isModal:true,positioningBehavior:0,shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,shouldRecenterOnUpdate:true,shouldReturnFocusOnClose:true,showCloseButton:true,showFooter:false,testId:'share',title:tab.Strings.ToolbarShare,type:0}},get_allowSharingDifferentViews:function(){if(!tsConfig.isPublic||!tsConfig.statefulURL){return false}if(this.$a()){return true}return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_shouldShareOriginalView:function(){return this.$b},set_shouldShareOriginalView:function(e){this.$b=e},get_shouldShowSocialShareOptions:function(){return tsConfig.isPublic},get_linkLabel:function(){return tab.Strings.ToolbarSendTitle},get_embedLabel:function(){return tab.Strings.ToolbarEmbedTitle},get_currentViewLabel:function(){return tab.Strings.ToolbarCurrentView},get_originalViewLabel:function(){return tab.Strings.ToolbarOriginalView},$a:function(){return!tab.MiscUtil.isNullOrEmpty$1(tsConfig.guid)},saveSharedView:function(){if(!this.get_allowSharingDifferentViews()){return}tab.XhrUtil.guid=null;if(tsConfig.statefulURL){var e=this.$4();if(e==='null'||ss.isNullOrUndefined(e)){e=''}tab.CommandController.get().legacySession.saveSharedView('',e,function(){})}},$7:function(e){this.set_shouldShareOriginalView(e);this.raiseActionEvent(this.$2$1)},shouldGenerateDirtyViewShareUrl:function(){return tab.FeatureFlags.isEnabled('DirtyViewSharing')&&!tsConfig.is_guest&&tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},generateDirtyViewShareUrl:function(){var e=$.Deferred();var gv=new eW;if(!tsConfig.isPublic&&tab.FeatureFlags.isEnabled('DirtyViewSharing')){var gw=new Object;gw.createdByFeature=1;gw.isHidden=true;var gx=gw;tab.CustomizedViewRequests.saveCustomizedView(gx,ss.mkdel(this,function(gy){var gz='';var gA=tab.VizUriModel.createForViewingSheet(tsConfig.repositoryUrl);var gB=tab.WindowHelper.getLocation(tabBootstrap.Utility.get_locationWindow());if(!tab.MiscUtil.isNullOrEmpty$1(gB.port)){gz=gB.protocol+'//'+gB.host+gA.get_path()}else{gz=gB.protocol+'//'+gB.hostname+gA.get_path()}gz=this.$9(gz);gv.shareURL=gz;gv.id=(ss.isValue(gy.id)?gy.id.toString():'');e.resolve(gv)}),function(gy){e.reject(gy)})}else{e.resolve(gv)}return e},generateShareUrl:function(){var e=this.generateShareBaseUrl();return this.$9(e)},$9:function(e){var gv=e;gv=eV.$3(gv,tsConfig.toolbarvis,tsConfig.toolbarvisDefault,'toolbar',null);gv=eV.$3(gv,tabBootstrap.VizLayoutConstants.get_shouldShowTabs(),tsConfig.showTabsDefault,'tabs',null);gv=eV.$3(gv,tsConfig.isPublic&&tsConfig.showViewCount,tsConfig.showViewCountDefault,'display_count',null);gv=eV.$3(gv,false,false,'size',null);gv=eV.$3(gv,false,false,'commentingEnabled',null);gv=eV.$3(gv,false,false,'isVizPortal',null);gv=eV.$3(gv,tab.MiscUtil.sanatizeBoolean(tsConfig.showVizHome),true,'showVizHome',null);gv=eV.$3(gv,true,false,'origin','viz_share_link');gv=eV.$3(gv,this.isEmbeddedView(),false,'embed',null);if(!ss.isNullOrEmptyString(tsConfig.deviceTypeOverride)){gv=eV.$3(gv,true,false,'device',tsConfig.deviceTypeOverride)}return gv},$8:function(e){e=eV.$3(e,false,false,'jsonOnly',null);e=eV.$3(e,false,false,'ignore_sticky_session',null);return e},generateShareBaseUrl:function(){var e=tsConfig.requestURI;e=this.$8(e);if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()){var gv=tab.XhrUtil.guid;var gw=window.location;var gx=(tsConfig.forceHttpsForPublicEmbed?'https:':gw.protocol);var gy=gx+'//'+gw.hostname+eV.currentViewPath;if(!tab.MiscUtil.isNullOrEmpty$1(gv)){e=gy+gv}else if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.guid)){e=gy+tsConfig.guid}}return e},generateApiBasedEmbedCode:function(){var e=tab.VizUriModel.createForCurrentWindowLocation(null);var gv=tableau.util.parseUri(e.get_absoluteUri());var gw=eV.$6(gv);var gx=this.$1(this.$5());var gy=tab.EscapingUtil.escapeHtml(eV.$4());var gz;var gA=tab.ModelUtils.findContentDashboard(null);if(gA.get_isDashboard()&&gA.get_deviceLayouts().length>0){gz=eV.$0()}else{var gB=tab.DashboardClientCommands.getCurrentSheetSizeConstraints().pipe(function(gC){return eV.$1(gC,0.75)},function(gC){return''});gz=gB}return gz.pipe(ss.mkdel(this,function(gC){return this.$0(gw,gx,gy,gC)}),function(gC){return''})},$1:function(e){var gv='';if(!tab.MiscUtil.isNullOrEmpty$1(e)){var gw=tab.EscapingUtil.escapeHtml;var gx=ss.coalesce(this.$4(),'#');gv="<noscript><a href='"+gw(gx)+"'>"+"<img alt='"+gw(tsConfig.embeddedTitle)+" ' src='"+gw(e)+"' style='border: none' /></a></noscript>"}return gv},$0:function(e,gv,gw,gx){var gy="\n                <script type='text/javascript'>\n                    var divElement = document.getElementById('{0}');\n                    var vizElement = divElement.getElementsByTagName('object')[0];\n                    {1}\n                    var scriptElement = document.createElement('script');\n                    scriptElement.src = '{2}';\n                    vizElement.parentNode.insertBefore(scriptElement, vizElement);\n                </script>";var gz=ss.formatString(gy,gw,gx,e);var gA=window.location;var gB=this.$6(gA,this.$5(),'');var gC=ss.formatString("<div class='tableauPlaceholder' id='{0}' style='position: relative'>{1}{2}</div>",gw,gv,gB);return gC+gz},generateEmbedCode:function(){if(tsConfig.isPublic){return this.generateApiBasedEmbedCode()}var e=$.Deferred();var gv=this.generateEmbedCodeForServerAndOnline();return e.resolve(gv).promise()},generateEmbedCodeForServerAndOnline:function(){var e=window.location;var gv=tab.EscapingUtil.escapeHtml;var gw=this.$4();var gx=tsConfig.embeddedTitle;var gy=this.$5();var gz=this.$2();var gA=eV.$8(e);var gB="width='"+gz.w+"' height='"+gz.h+"'";var gC=this.$6(e,gy,gB);var gD=ss.coalesce(gw,'#');var gE='';if(!tab.MiscUtil.isNullOrEmpty$1(gy)){gE="<noscript><a href='"+gv(gD)+"'>"+"<img alt='"+gv(gx)+" ' src='"+gv(gy)+"' style='border: none' /></a></noscript>"}var gF=ss.formatString("<div class='tableauPlaceholder' style='width: {0}px; height: {1}px;'>{2}{3}</div>",gz.w,gz.h,gE,gC);return gA+gF},$6:function(e,gv,gw){var gx=tabBootstrap.ViewerBootstrap.get_instance().location.search;var gy=tsConfig.repositoryUrl;var gz=tsConfig.site_root;var gA=tab.EscapingUtil.escapeHtml;var gB="<object class='tableauViz' "+gw+" style='display:none;'>";var gC=ss.arrayClone(eV.$e);gC.push('embed');gC.push('show_tabs');gC.push('loadOrderID');var gD=(tsConfig.forceHttpsForPublicEmbed?'https:':e.protocol);gB+="<param name='host_url' value='"+gA(encodeURIComponent(gD+'//'+e.host+'/'))+"' /> ";gC.push('host_url');gB+="<param name='embed_code_version' value='"+this.embedCodeVersion+"' /> ";gC.push('embed_code_version');if(!this.get_allowSharingDifferentViews()){gB+="<param name='site_root' value='"+gA(gz)+"' />";gB+="<param name='name' value='"+gA(gy)+"' />";gC.push('site_root');gC.push('name');gB+="<param name='tabs' value='"+(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()?'yes':'no')+"' />";gC.push('tabs')}else{var gE=this.generateShareBaseUrl();gB+="<param name='path' value='"+gA(ss.replaceAllString(gE,gD+'//'+e.hostname+'/',''))+"' /> ";gC.push('path')}gB+="<param name='toolbar' value='"+(tsConfig.toolbarvis?'yes':'no')+"' />";gC.push('toolbar');if(!ss.isNullOrEmptyString(tsConfig.deviceTypeOverride)){gB+="<param name='device' value='"+tsConfig.deviceTypeOverride+"' />"}if(tsConfig.isPublic){if(!tab.MiscUtil.isNullOrEmpty$1(gv)){var gF=ss.replaceAllString(gv,'_rss.png','.png');gB+="<param name='static_image' value='"+gA(gF)+"' /> "}gB+="<param name='animate_transition' value='yes' />";gB+="<param name='display_static_image' value='yes' />";gB+="<param name='display_spinner' value='yes' />";gB+="<param name='display_overlay' value='yes' />";gB+="<param name='display_count' value='yes' />";gC.push('animate_transition');gC.push('display_static_image');gC.push('display_spinner');gC.push('display_overlay');gC.push('display_count')}if(gx.length>0){var gG=gx.substr(1).split('&');for(var gH=0;gH<gG.length;gH++){var gI=gG[gH].match(new RegExp('^(:|%3A)([^=]+)=(.+)'));var gJ;var gK;if(ss.isValue(gI)&&gI.length===4){gJ=gI[2];gK=gI[3]}else{gJ='filter';gK=gG[gH]}if(!tab.MiscUtil.isNullOrEmpty$1(gJ)&&!ss.contains(gC,gJ)){gB+="<param name='"+gA(gJ)+"' value='"+gA(gK)+"' />"}}}gB+='</object>';return gB},onDialogHidden:function(){},doSendEmailAction:function(){ff.mailTo(this.generateShareUrl(),tsConfig.shareDescription)},doFacebookShareAction:function(){ff.facebookPopup(tsConfig.facebookAppID,this.generateShareUrl(),this.$3(),tsConfig.shareDescription,tsConfig.facebookDescription,eV.$7())},doTwitterShareAction:function(){ff.twitterPopup(this.generateShareUrl(),tsConfig.shareDescription)},$5:function(){var e=tab.XhrUtil.guid;var gv=tsConfig.staticImage;if(!ss.isValue(gv)){return''}if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var gw=gv.indexOf('/images/')+8;var gx=gv.substr(0,gw);gv=gx+e.substr(0,2)+'/'+e+'/1_rss.png'}if(tsConfig.forceHttpsForPublicEmbed&&!ss.startsWithString(gv,'https')){gv.replace('http','https')}return gv},isEmbeddedView:function(){if(ss.referenceEquals(window.self,window.top)){return true}try{return!ss.referenceEquals(window.top.location.hostname,window.location.hostname)}catch(e){return true}},$4:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$2:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().w;var gv=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().h;gv+=eV.$5();return{w:e,h:gv}},$3:function(){var e=tab.XhrUtil.guid;if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var gv=this.$5();var gw=gv.split(String.fromCharCode(47));gw[gw.length-1]='thumb.png';var gx=gw.join('/');gx+='?vizqlid='+tab.CommandController.get().legacySession.get_id();return gx}return tsConfig.baseViewThumbLink}},{$6:function(e){var gv='/javascripts/api/viz_v1.js';var gw=(tsConfig.forceHttpsForPublicEmbed?'https:':e['protocol']);return encodeURI(gw+'//'+e['hostname']+gv)},$0:function(){var e;var gv=new ss.StringBuilder(ss.formatString('if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_tablet_max_size));gv.append(eV.$2(tabBootstrap.VizSizeConstraints.getSizeConstraints('desktop'),0.75));gv.append(ss.formatString('} else if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_phone_max_size));gv.append(eV.$2(tabBootstrap.VizSizeConstraints.getSizeConstraints('tablet'),0.75));gv.append('} else { ');gv.append(eV.$2(tabBootstrap.VizSizeConstraints.getSizeConstraints('phone'),1.77));gv.append('} ');var gw=$.Deferred();e=gw.resolve(gv.toString()).promise();return e},$2:function(e,gv){return eV.$1({minWidth:e.minWidth,maxWidth:e.maxWidth,minHeight:e.minHeight,maxHeight:e.maxHeight},gv)},$1:function(e,gv){var gw=new ss.StringBuilder('');var gx=eV.$5();if(e.dashboardSizingMode==='automatic'||e.minWidth===0&&e.maxWidth===0){gw.append("vizElement.style.width='100%';")}else if(e.minWidth===e.maxWidth){gw.append(ss.formatString("vizElement.style.width='{0}px';",e.minWidth))}else{if(e.minWidth>0){gw.append(ss.formatString("vizElement.style.minWidth='{0}px';",e.minWidth))}else{gw.append("vizElement.style.width='100%';")}if(e.maxWidth>0){gw.append(ss.formatString("vizElement.style.maxWidth='{0}px';",e.maxWidth))}else{gw.append("vizElement.style.maxWidth='100%';")}if(e.minWidth>0&&e.maxWidth>0&&e.minWidth!==e.maxWidth){gw.append("vizElement.style.width='100%';")}}if(e.dashboardSizingMode==='automatic'||e.minHeight===0&&e.maxHeight===0){gw.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",gv))}else if(e.minHeight===e.maxHeight){gw.append(ss.formatString("vizElement.style.height='{0}px';",e.minHeight+gx))}else{if(e.minHeight>0){gw.append(ss.formatString("vizElement.style.minHeight='{0}px';",e.minHeight+gx))}else{gw.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",gv))}if(e.maxHeight>0){gw.append(ss.formatString("vizElement.style.maxHeight='{0}px';",e.maxHeight+gx))}else{gw.append(ss.formatString("vizElement.style.maxHeight=(divElement.offsetWidth*{0})+'px';",gv))}if(e.minHeight>0&&e.maxHeight>0&&e.minHeight!==e.maxHeight){gw.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",gv))}}return gw.toString()},$8:function(e){var gv=e.protocol+'//'+e.host+'/javascripts/api/viz_v1.js';return"<script type='text/javascript' src='"+gv+"'></script>"},$5:function(){var e=0;if(tsConfig.toolbarvis){e+=27}e+=tabBootstrap.VizLayoutConstants.get_tabsHeight();return e},$7:function(){return tsConfig.facebookRedirectURI||eV.$d},$3:function(e,gv,gw,gx,gy){var gz=gv!==gw;var gA=e;var gB='';if(ss.isNullOrEmptyString(gy)){gB=':'+gx+'='+(gv?'y':'n')}else{gB=':'+gx+'='+gy}var gC=new RegExp(':'+gx+'=[^&]+');if(!!gA.match(gC)){if(gz){gA=gA.replace(gC,gB)}else{gA=gA.replace(gC,'');gA=gA.replace(new RegExp('&&'),'&');gA=gA.replace(new RegExp('\\?&'),'?');gA=gA.replace(new RegExp('&$'),'');gA=gA.replace(new RegExp('\\?$'),'')}}else if(gz){if(!!gA.match(new RegExp('[?]'))){gA=gA+'&'+gB}else{gA=gA+'?'+gB}}return gA},$4:function(){var e=(new Date).getTime().toString();return'viz'+e}});var eW=global.tab.ShareViewModel$ViewShareInfo=ss.mkType(a,'tab.ShareViewModel$ViewShareInfo',function(){this.id=null;this.shareURL=null});var eX=global.tab.SheetReconnectWidget=ss.mkType(a,'tab.SheetReconnectWidget',function(e){spiff.PureRenderComponent.call(this,e);this.state={isConnectionClassSupported:false}},{$2:function(){this.determineIfConnectionClassSupported().done(ss.mkdel(this,function(e){this.setState({isConnectionClassSupported:e})}))},componentWillMount:function(){this.$2()},componentWillReceiveProps:function(e){if(!ss.referenceEquals(e.connectionClass,this.props.connectionClass)){this.$2()}},render:function(){return spiff.DOMElements.div({className:'tab-reconnect-sheetWidget'},spiff.DOMElements.div({className:'tab-reconnect-sheetWidget-title'},tab.Strings.SheetReconnectTitle),(this.shouldRenderSubtitle()?ss.mkdel(this,this.createSubtitle)():null),(this.shouldShowErrorMessage()?ss.mkdel(this,this.createErrorMessage)():null),(this.shouldRenderEditConnectionButton()?ss.mkdel(this,this.createEditConnectionButton)():null),(this.state.isConnectionClassSupported?ss.mkdel(this,function(){return React.createElement(SharedWidgets.ButtonWidget,this.createPrimaryButtonProps())})():null),(this.shouldRenderEditingNotSupported()?ss.mkdel(this,this.$0)():null))},$0:function(){return spiff.DOMElements.div({className:'tab-reconnect-sheetWidget-editing-not-supported'},tab.Strings.SheetReconnectEditingNotSupported)},shouldRenderSubtitle:function(){return!ss.isNullOrEmptyString(this.props.connectionClass)},createSubtitle:function(){return spiff.DOMElements.div({className:'tab-reconnect-sheetWidget-subtitle'},tab.Strings.SheetReconnectSubtitle(this.props.dataSourceCaption))},determineIfConnectionClassSupported:function(){var e=$.Deferred();if(ss.contains(tab.ConnectionClass.get_getSupportedFileClasses(),this.props.connectionClass)){e.resolve(this.props.connectionErrorStage==='create-protocol-failed')}tab.DataConnectionUtils.isDatabaseClassSupportedInReconnectFlow(this.props.connectionClass).done(ss.mkdel(this,function(gv){if(gv){e.resolve(tab.DeferredConnectionsCommandHandler.isBadPasswordError(this.props.errorType))}else{e.resolve(false)}}));return e.promise()},shouldRenderEditConnectionButton:function(){return tab.MiscUtil.shouldShowDataTab()&&tsConfig.is_authoring&&(this.state.isConnectionClassSupported||this.props.connectionErrorStage==='load-metadata-failed'||ss.isNullOrEmptyString(this.props.connectionClass))},shouldRenderEditingNotSupported:function(){return tab.MiscUtil.shouldShowDataTab()&&tsConfig.is_authoring&&!this.shouldRenderEditConnectionButton()},createEditConnectionButton:function(){return React.createElement(SharedWidgets.ButtonWidget,this.createEditConnectionButtonProps())},shouldShowErrorMessage:function(){return ss.isNullOrEmptyString(this.props.connectionClass)&&!ss.isNullOrEmptyString(this.props.errorMessage)},createErrorMessage:function(){return spiff.DOMElements.div({className:'tab-reconnect-error-message'},tab.Strings.SheetReconnectErrorMessage(this.props.errorMessage.trim()))},createEditConnectionButtonProps:function(){var e=function(){tab.VizClientCommands.setUIMode('data-tab','ReconnectEditConnection','')};return{handleClick:function(gv){e()},buttonType:3,testId:'SheetReconnectEditConnection',children:tab.Strings.SheetReconnectEditConnectionLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'auto',marginRight:'30px'}}},$1:function(){if(tab.TabbedAuthenticationDialogCommands.useTabbedAuthDialog(this.props.connectionAttemptInfo)){return ss.mkdel(this,function(){var e=$.Deferred();tab.TabbedAuthenticationDialogCommands.showTabbedAuthenticationDialog(tab.DataConnectionUtils.getConnectionNames(this.props.connectionAttemptInfo),false,this.props.connectionAttemptInfo);var gv=function(gx,gy){e.resolve()};var gw=function(gx,gy){e.reject()};tab.ApplicationModel.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-closed-event',gw);tab.ApplicationModel.get_instance().registerNotificationHandler('doc:tabbed-auth-dialog-connected-event',gv);e.done([ss.mkdel(this,function(gx){this.props.onCredentialsAdded(null)})])})}else{return ss.mkdel(this,function(){tab.ModuleManager.load$1(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(e){e.showSignInDialog(this.props.connectionAttributes,this.props.connectionDisplayAttributes,this.props.dataSourceCaption,this.props.connectionName,this.props.connectionTypeLabel,this.props.onCredentialsAdded,null)}))})}},createPrimaryButtonProps:function(){var e=this.$1();return{handleClick:function(gv){e()},buttonType:1,testId:'SheetReconnectSignIn',children:tab.Strings.SheetReconnectSignInLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'auto',marginRight:'auto'}}}});var eY=global.tab.ShowDataTableContainerSerialized=ss.mkType(a,'tab.ShowDataTableContainerSerialized',function(){this.table=null});var eZ=global.tab.ShowDataTableSerialized=ss.mkType(a,'tab.ShowDataTableSerialized',function(){this.schema=null;this.tuples=null});var fa=global.tab.ShownEventArgs=ss.mkType(a,'tab.ShownEventArgs',function(){this.shownX=0;this.shownY=0;this.origX=0;this.origY=0;this.position=null;this.viewport=null;ss.EventArgs.call(this)},null,{areShownArgsSame:function(e,gv){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(gv)){return true}if(ss.isNullOrUndefined(e)&&ss.isValue(gv)||ss.isValue(e)&&ss.isNullOrUndefined(gv)){return false}var gw;gw=e.origX===gv.origX;gw=gw&&e.origY===gv.origY;gw=gw&&e.shownX===gv.shownX;gw=gw&&e.shownY===gv.shownY;gw=gw&&e.position===gv.position;gw=gw&&tab.RectUtil.isEqual(e.viewport.get_dimensions(),gv.viewport.get_dimensions());return gw}});var fb=global.tab.ShownTooltipEventArgs=ss.mkType(a,'tab.ShownTooltipEventArgs',function(){this.tooltipAnchorY=0;fa.call(this)},null,{areShownArgsSame:function(e,gv){return fa.areShownArgsSame(e,gv)&&e.tooltipAnchorY===gv.tooltipAnchorY}});var fc=global.tab.SimpleTextContentDialog=ss.mkType(a,'tab.SimpleTextContentDialog',function(e){React.Component.call(this,e);this.state=new fd},{render:function(){var e=this.buildCommonDialogProps();var gv=React.createElement(SharedWidgets.DialogWidget,e);return gv},closeDialog:function(){_.defer(this.props.onDialogCloseRequested)},buildCommonDialogProps:function(){var e={testId:'Dialog-Provider',isModal:true,title:this.props.title,showCloseButton:true,type:0,positioningBehavior:0,dialogStyle:{maxWidth:600},dialogWidth:this.props.dialogWidth,onCloseRequest:ss.mkdel(this,function(){this.closeDialog()}),zIndex:1000};var gv=[];var gw=spiff.DOMElements.div({children:this.$2(this.props.content),className:spiff.Widget.selectableNodeClass,key:'0'});gv.push(gw);if(!ss.isNullOrEmptyString(this.props.detailsContent)){var gx={isExpanded:this.state.detailsAreExpanded,onExpand:ss.mkdel(this,function(){var gD=new fd;gD.detailsAreExpanded=true;this.setState(gD)}),onCollapse:ss.mkdel(this,function(){var gD=new fd;gD.detailsAreExpanded=false;this.setState(gD)}),direction:1,testId:'Dialog-Provider-Details'};var gy=(this.state.detailsAreExpanded?this.props.hideDetailsLabel:this.props.showDetailsLabel);gx.label=(ss.isValue(gy)?gy:'');var gz=React.createElement(SharedWidgets.ExpandoWidget,gx,spiff.DOMElements.div({children:this.$2(this.props.detailsContent),className:spiff.Widget.selectableNodeClass,key:'1'}));gv.push(gz)}if(ss.isValue(this.props.additionalLinks)){var gA=2;for(var gB=0;gB<this.props.additionalLinks.length;gB++){var gC=this.props.additionalLinks[gB];gv.push(spiff.DOMElements.p({},spiff.DOMElements.a({href:gC.url,target:'_blank',children:gC.displayText,key:gA})));gA++}}e.children=gv;this.$1(e);return e},$2:function(e){if(ss.isNullOrEmptyString(e)){return null}var gv='<br/>';e=ss.replaceAllString(e,'<br>',gv);e=ss.replaceAllString(e,'\n',gv);var gw=e.split(gv);var gx=[];var gy=fc.textArea.value();for(var gz=0;gz<gw.length;gz++){var gA=gw[gz];gy.innerHTML=gA;var gB=spiff.DOMElements.p({children:gy.textContent,key:gA});gx.push(gB)}return gx},$1:function(e){var gv={buttons:[],testId:'DialogButtons'};if(ss.isValue(this.props.dialogButtons)){for(var gw=0;gw<this.props.dialogButtons.length;gw++){var gx=this.props.dialogButtons[gw];this.$0(gx,gv)}}if(gv.buttons.length>0){var gy=React.createElement(SharedWidgets.DialogFooterButtonsWidget,gv);e.footerContent=gy;e.showFooter=true}},$0:function(e,gv){var gw={handleClick:ss.mkdel(this,function(gx){if(!ss.staticEquals(e.buttonClickHandler,null)){e.buttonClickHandler()}this.closeDialog()}),buttonType:e.buttonType,testId:e.testId,children:e.buttonText};gv.buttons.push(gw)}});var fd=global.tab.SimpleTextContentDialogState=ss.mkType(a,'tab.SimpleTextContentDialogState',function(){this.detailsAreExpanded=false});var fe=global.tab.SmoothTooltipBehavior=ss.mkType(a,'tab.SmoothTooltipBehavior',function(e){this.$6=750;this.$9=null;this.$7=null;this.$8=null;this.$5=new tab.DisposableHolder;this.$1$1=null;this.serverMarkBounds=null;tab.Param.verifyValue(e,'tooltip');this.$9=e;var gv=tab.FeatureParamsLookup.getInt(11);if(ss.isValue(gv)){this.$6=ss.coalesce(gv,0)}},{add_onMouseStop:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onMouseStop:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},attach:function(){this.$9.add_showed(ss.mkdel(this,this.$3));this.$9.add_closed(ss.mkdel(this,this.$2));this.$9.add_disposed(ss.mkdel(this,this.$4))},detach:function(){this.$5.dispose();if(ss.isValue(this.$9)){this.$9.remove_showed(ss.mkdel(this,this.$3));this.$9.remove_closed(ss.mkdel(this,this.$2));this.$9.remove_disposed(ss.mkdel(this,this.$4))}},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return false},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return false},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,gv,gw){if(gv){this.$9.close()}else if(ss.isValue(gw)&&gw&&this.$9.get_isShown()){this.$9.move(e)}else{this.showTooltip(e)}},hoverOverWhitespace:function(e){if(this.$9.get_isShown()){this.$9.close()}},multiSelectComplete:function(e){this.showTooltip(e)},singleSelectComplete:function(e){this.showTooltip(e)},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){if(this.$9.get_isShown()){this.$9.close()}},onScroll:function(){if(this.$9.get_isShown()){this.$9.close()}},mouseDown:function(e,gv){},showTooltip:function(e){if(EventUtils.DragDropManager.get_isDragging()){return}if(this.$9.get_isShown()&&tab.PointUtil.equals(this.$9.get_location(),e)){return}this.$9.show(this.$9.get_body().children()[0],e)},$3:function(){this.$0();this.$1({x:this.$9.get_calculatedShownArgs().origX,y:this.$9.get_calculatedShownArgs().origY});this.$8=new Date},$2:function(){this.$9.element.off('.SmoothTooltipBehavior');this.$8=null;this.$0()},onMouseMove:function(e){var gv=$.fn.getTouchEvent(e);var gw=EventUtils.NormalizedEvent.Create(gv,e.target,null);var gx=gw.touches[0];var gy=this.$9.get_lastLocation()||{x:0,y:0};var gz={x:gx.pageX,y:gx.pageY};this.$9.set_lastLocation(gz);this.$9.move(gz);var gA=tab.PointUtil.distance(gy,this.$9.get_lastLocation());if(gA>0){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$1(gz);if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var gB=ss.trunc(tab.DomUtil.getPageOffset$1($(e.target)).left);var gC=ss.trunc(tab.DomUtil.getPageOffset$1($(e.target)).top);if(!ss.isValue(this.serverMarkBounds)||!tab.RectXYUtil.inRect(this.serverMarkBounds,{x:gx.pageX-gB,y:gx.pageY-gC})){this.$9.close()}}}},$1:function(e){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$7=window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.$1$1)){this.$1$1(e)}}),this.$6)},$4:function(e,gv){this.dispose()},$0:function(){this.$7=tab.MiscUtil.clearTimeout(this.$7)}});var ff=global.tab.Social=ss.mkType(a,'tab.Social',null,null,{twitterPopup:function(e,gv){var gw=$('#twitter_creator');var gx=(ss.isValue(gw)?gw.attr('content'):null);if(!ss.isNullOrEmptyString(gx)){gx=' '+gx}gv+=gx;var gy={};gy['url']=e;gy['via']='tableaupublic';gy['text']=gv;gy['related']='tableau';var gz='https://twitter.com/share?'+$.param(gy);var gA=null;var gB='scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=680,height=350';window.open(gz,gA,gB)},facebookPopup:function(e,gv,gw,gx,gy,gz){var gA={};gA['app_id']=e;gA['link']=gv;gA['picture']=gw;gA['name']=gx;gA['description']=gy;if(!!gz&&gz.length>0){gA['redirect_uri']=gz}var gB='http://www.facebook.com/dialog/feed?'+$.param(gA);var gC=null;var gD='scrollbars=yes,resizable=yes,toolbar=no,location=no,width=1000,height=565';var gE=window.open(gB,gC,gD);if(ss.isValue(gE)&&typeof(gE['focus'])==='function'){gE.focus()}},mailTo:function(e,gv){var gw=ss.mkdict(['body',e]);if(!!gv){gw['subject']=gv}var gx='mailto:?'+$.param(gw);var gy=window.open(gx,'MailWindow');if(ss.isValue(gy)){window.setTimeout(function(){try{if(gy.location.href==='about:blank'){gy.close()}}catch(gz){}},999)}}});var fg=global.tab.SubscribeComponent=ss.mkType(a,'tab.SubscribeComponent',function(e,gv){React.Component.call(this,e,gv);var gw=e.users;var gx=((gw.length===0)?'':gw[0].friendlyName);var gy=e.groups;var gz=((gy.length===0)?'':gy[0].name);var gA=(ss.isValue(this.props.selfServiceSchedulesModule)?this.props.selfServiceSchedulesModule.get_defaultRecurrence():null);var gB=e.subscribeRecipientPickerProps;gB.externalComponentUpdate=ss.mkdel(this,function(){this.$1()});gB.selfSubscribeStateUpdate=ss.mkdel(this,function(gC){this.setState({selfSubscribe:gC});this.$1()});this.state={message:null,subject:e.defaultSubject,includeValue:tab.Strings.ToolbarSubscribeThisView,scheduleValue:'0',frequencyValue:tab.Strings.ToolbarSubscribeOnSchedule,formatValue:tab.Strings.ToolbarSubscribeToImage,pdfOptions:new bn('letter'.toString(),'portrait'.toString()),email:e.email,users:e.users,groups:e.groups,usersText:this.$4(gw.length,gx,tab.Strings.ToolbarSubscribeAddUsersPlaceholder),groupsText:this.$4(gy.length,gz,tab.Strings.ToolbarSubscribeAddGroupsPlaceholder),recurrenceModel:gA,sendOnlyWhenDataPresent:false,selfSubscribe:!e.isSelfSubscribeCheckboxEnabled,createRequestSent:false,subscribeRecipientPickerProps:gB}},{componentDidMount:function(){this.$1()},componentWillReceiveProps:function(e){if(ss.isValue(e.selfServiceSchedulesModule)&&ss.isNullOrUndefined(this.state.recurrenceModel)){this.$r({recurrenceModel:e.selfServiceSchedulesModule.get_defaultRecurrence()})}},$r:function(e){this.setState(function(gv,gw){return _.extend({},gv,e)},ss.mkdel(this,function(){this.$1();return null}))},handleIncludeSelection:function(e){this.$r({includeValue:e})},handleFormatSelection:function(e){var gv=ss.referenceEquals(e,tab.Strings.ToolbarSubscribeToPdf)||ss.referenceEquals(e,tab.Strings.ToolbarSubscribeToImageAndPdf);this.$r({formatValue:e})},handlePDFPaperSizeSelection:function(e){var gv=this.state.pdfOptions.orientation;this.$r({pdfOptions:new bn(e,gv)})},handlePDFOrientationSelection:function(e){var gv=this.state.pdfOptions.paperSize;this.$r({pdfOptions:new bn(gv,e)})},handleFrequencySelection:function(e){this.$r({frequencyValue:e})},handleScheduleSelection:function(e){this.$r({scheduleValue:e})},handleSelfSubscribeSelection:function(e){this.setState({selfSubscribe:e},ss.mkdel(this,function(){this.props.updateSelfSubscribeCheck(e);this.$1();return null}))},handleEmailInput:function(e){var gv=e.target.value;this.props.setEmail(gv);var gw=this.state.subscribeRecipientPickerProps;gw.showNoEmailAsErrorChip=!cn.validate(gv);this.$r({email:gv,subscribeRecipientPickerProps:gw})},handleSubjectInput:function(e){this.$r({subject:e.target.value})},handleMessageInput:function(e){this.$r({message:e.target.value})},$4:function(e,gv,gw){var gx=new ss.StringBuilder;if(e>0){gx.append(gv);if(e>1){gx.append(' + ');gx.append(e-1)}}else{gx.append(gw)}return gx.toString()},$5:function(e){this.$r({sendOnlyWhenDataPresent:e})},isPdfFormatSelected:function(){return ss.referenceEquals(this.state.formatValue,tab.Strings.ToolbarSubscribeToPdf)||ss.referenceEquals(this.state.formatValue,tab.Strings.ToolbarSubscribeToImageAndPdf)},isSubscribeEnabled:function(){var e=this.$6();if(!e){return false}if(ss.isNullOrUndefined(this.state.subject)||this.state.subject.trim().length===0){return false}if(ss.isNullOrEmptyString(this.state.email)||!this.props.emailIsValid(this.state.email)){return false}if(tsConfig.allow_subscribe_others){return this.state.users.length>0||this.state.groups.length>0||this.state.selfSubscribe}else{return true}},$6:function(){if(!this.props.isSelfServiceSchedulesEnabled&&(ss.isNullOrUndefined(this.props.schedules)||this.props.schedules.length===0)){return false}return true},$7:function(){if(ss.isNullOrEmptyString(this.props.email)){var e=function(gw){};var gv=ss.mkdel(this,function(){this.props.setEmail(this.state.email);this.$s()});tab.WorkgroupServerCommands.setUserEmail(this.state.email,gv,e)}else if(!this.state.createRequestSent){this.$s()}this.state.createRequestSent=true},$s:function(){var e=(!tab.MiscUtil.isNullOrEmpty$1(this.state.message)?this.state.message:null);var gv=new bo(this.state.selfSubscribe,this.state.sendOnlyWhenDataPresent);var gw=new bl(ss.referenceEquals(this.state.formatValue,tab.Strings.ToolbarSubscribeToImage)||ss.referenceEquals(this.state.formatValue,tab.Strings.ToolbarSubscribeToImageAndPdf),ss.referenceEquals(this.state.formatValue,tab.Strings.ToolbarSubscribeToPdf)||ss.referenceEquals(this.state.formatValue,tab.Strings.ToolbarSubscribeToImageAndPdf));var gx=this.state.pdfOptions;var gy=new bm(ss.equalsT(this.state.frequencyValue,tab.Strings.ToolbarSubscribeOnExtractRefresh));if(this.props.isSelfServiceSchedulesEnabled){var gz=new eN(this.state.subject,ss.referenceEquals(this.state.includeValue,tab.Strings.ToolbarSubscribeAllView),this.state.recurrenceModel,e,this.state.users,this.state.groups,gv,gw,gx,gy);this.props.createSubscriptionsWithSelfServiceSchedule(gz)}else{var gA=new fn(this.state.subject,ss.referenceEquals(this.state.includeValue,tab.Strings.ToolbarSubscribeAllView),parseInt(this.state.scheduleValue),e,this.state.users,this.state.groups,gv,gw,gx,gy);this.props.createSubscriptions(gA)}},$1:function(){var e=(!tab.MiscUtil.isNullOrEmpty$1(this.state.message)?this.state.message:null);var gv=new bo(this.state.selfSubscribe,this.state.sendOnlyWhenDataPresent);var gw=new bl(ss.referenceEquals(this.state.formatValue,tab.Strings.ToolbarSubscribeToImage)||ss.referenceEquals(this.state.formatValue,tab.Strings.ToolbarSubscribeToImageAndPdf),ss.referenceEquals(this.state.formatValue,tab.Strings.ToolbarSubscribeToPdf)||ss.referenceEquals(this.state.formatValue,tab.Strings.ToolbarSubscribeToImageAndPdf));var gx=this.state.pdfOptions;var gy=new bm(ss.equalsT(this.state.frequencyValue,tab.Strings.ToolbarSubscribeOnExtractRefresh));if(this.props.isSelfServiceSchedulesEnabled){var gz=new eN(this.state.subject,ss.referenceEquals(this.state.includeValue,tab.Strings.ToolbarSubscribeAllView),this.state.recurrenceModel,e,this.state.users,this.state.groups,gv,gw,gx,gy);this.props.updateSubscriptionsParameters(gz)}else{var gA=new fn(this.state.subject,ss.referenceEquals(this.state.includeValue,tab.Strings.ToolbarSubscribeAllView),parseInt(this.state.scheduleValue),e,this.state.users,this.state.groups,gv,gw,gx,gy);this.props.updateSubscriptionsParameters(gA)}},render:function(){return spiff.DOMElements.div({className:'tab-subscribeViewContent',style:{padding:'0px'},'data-tb-test-id':'subscribe-view-content'},this.$d())},$d:function(){return spiff.DOMElements.div({className:''},(tsConfig.allow_subscribe_others?this.$k():null),(this.props.isSelfSubscribeCheckboxEnabled?this.$p():null),this.$c(),(this.props.sendOnlyWhenDataPresentCheckboxVisible?this.$9():null),(this.props.isFormatDropdownEnabled?this.$a():null),((this.props.arePdfOptionsDropdownsEnabled&&this.isPdfFormatSelected())?this.$h():null),this.$q(),this.$f(),this.$m(),(this.props.shouldShowMissingEmailAlert?this.renderMissingEmailAlert():null))},renderMissingEmailAlert:function(){var e=spiff.DOMElements.span({},tab.Strings.MissingValidEmailAddressAlert,' ',React.createElement(SharedWidgets.TextLinkWidget,{className:'tab-subscribe-link',href:this.props.userSettingsPageUrl,kind:1,target:'_tab','data-tb-test-id':'account-settings-link'},tab.Strings.GoToAccountSettings));var gv=React.createElement(SharedWidgets.CompactInlineAlertWidget,{className:'tab-missing-email-alert-text',testId:'email-address-missing-alert',children:e,type:'error'});return gv},$p:function(){var e={marginBottom:18};return React.createElement(SharedWidgets.CheckBoxWithLabelWidget,{checked:this.state.selfSubscribe,label:tab.Strings.SubscribeSelf,handleChange:ss.mkdel(this,this.handleSelfSubscribeSelection),testId:'self-subscribe-checkbox',removeLeftMargin:true,containerStyle:e})},$a:function(){var e=ss.mkdel(this,this.handleFormatSelection);var gv;var gw=[{content:tab.Strings.ToolbarSubscribeToImage,value:tab.Strings.ToolbarSubscribeToImage},{content:tab.Strings.ToolbarSubscribeToPdf,value:tab.Strings.ToolbarSubscribeToPdf},{content:tab.Strings.ToolbarSubscribeToImageAndPdf,value:tab.Strings.ToolbarSubscribeToImageAndPdf}];gv=React.createElement(SharedWidgets.SingleSelectDropdown,{type:1,label:tab.Strings.ToolbarSubscribeFormat,list:React.createElement(SharedWidgets.List,{items:gw,selectedValue:this.state.formatValue}),onChange:e,value:this.state.formatValue,testId:'subscribe-format-dropdown'});return spiff.DOMElements.div({className:'tab-subscribeFormat dropdown',style:{marginBottom:18}},gv)},$2:function(){return[{content:tab.Strings.PdfExportPageOrientationPortrait,value:'portrait'.toString()},{content:tab.Strings.PdfExportPageOrientationLandscape,value:'landscape'.toString()}]},$3:function(){return[{content:tab.Strings.PdfExportPageSizeLetter,value:'letter'.toString()},{content:tab.Strings.PdfExportPageSizeLegal,value:'legal'.toString()},{content:tab.Strings.PdfExportPageSizeNote,value:'note'.toString()},{content:tab.Strings.PdfExportPageSizeFolio,value:'folio'.toString()},{content:tab.Strings.PdfExportPageSizeTabloid,value:'tabloid'.toString()},{content:tab.Strings.PdfExportPageSizeLedger,value:'ledger'.toString()},{content:tab.Strings.PdfExportPageSizeStatement,value:'statement'.toString()},{content:tab.Strings.PdfExportPageSizeExecutive,value:'executive'.toString()},{content:tab.Strings.PdfExportPageSizeA3,value:'a3'.toString()},{content:tab.Strings.PdfExportPageSizeA4,value:'a4'.toString()},{content:tab.Strings.PdfExportPageSizeA5,value:'a5'.toString()},{content:tab.Strings.PdfExportPageSizeB4,value:'b4'.toString()},{content:tab.Strings.PdfExportPageSizeB5,value:'b5'.toString()},{content:tab.Strings.PdfExportPageSizeQuarto,value:'quarto'.toString()},{content:tab.Strings.PdfExportPageSizeUnspecified,value:'unspecified'.toString()}]},$i:function(){var e=ss.mkdel(this,this.handlePDFOrientationSelection);var gv=this.$2();return React.createElement(SharedWidgets.SingleSelectDropdown,{type:1,label:tab.Strings.PdfDialogOrientation,list:React.createElement(SharedWidgets.List,{items:gv,selectedValue:this.state.pdfOptions.orientation}),onChange:e,value:this.state.pdfOptions.orientation,testId:'subscribe-orientation-dropdown',className:'tab-subscribe-orientation-dropdown'})},$j:function(){var e=ss.mkdel(this,this.handlePDFPaperSizeSelection);var gv=this.$3();return React.createElement(SharedWidgets.SingleSelectDropdown,{type:1,label:tab.Strings.PdfDialogPaperSize,list:React.createElement(SharedWidgets.List,{items:gv,selectedValue:this.state.pdfOptions.paperSize}),onChange:e,value:this.state.pdfOptions.paperSize,testId:'subscribe-paper-size-dropdown',className:'tab-subscribe-paper-size-dropdown'})},$h:function(){return spiff.DOMElements.div({className:'tab-pdf-size-and-orientation-dropdowns'},this.$j(),this.$i())},$m:function(){if(this.props.isScheduleFrequencyDropdownEnabled){return this.$b()}else{return this.$l()}},$l:function(){if(this.props.isSelfServiceSchedulesEnabled){return this.$o()}else{return this.$n()}},$o:function(){if(ss.isNullOrUndefined(this.props.selfServiceSchedulesModule)||ss.isNullOrUndefined(this.state.recurrenceModel)){return null}var e='subscription-schedule-label';var gv={testId:e,id:e,style:{fontSize:SharedWidgets.TabStyles.Typography.Sizing.Default,lineHeight:'21px',color:'#4f4f4f'}};var gw=React.createElement(SharedWidgets.InputLabelWidget,gv,tab.Strings.ToolbarSubscribeSchedule);var gx={recurrenceModel:this.state.recurrenceModel,externalLabelId:e};var gy={timeZonesEnabled:tab.FeatureFlags.isEnabled('UserTimeZone'),timeZoneDisplayName:tsConfig.userTimeZoneDisplayName,linkToUserSettings:this.props.userSettingsPageUrl};gx.timeZoneDetails=gy;gx.recurrenceModelChangedCallback=ss.mkdel(this,function(gB){this.$r({recurrenceModel:gB})});var gz=React.createElement(this.props.selfServiceSchedulesModule.get_selfServiceSchedulePaneComponent(),gx);var gA={marginBottom:18};return spiff.DOMElements.div({className:'tab-subscribeSchedule dropdown',style:gA},gw,gz)},$b:function(){var e=ss.referenceEquals(this.state.frequencyValue,tab.Strings.ToolbarSubscribeOnSchedule);var gv;var gw;gv=this.$0((e?18:0));gw={marginBottom:18};var gx={className:'tab-subscribeFrequency dropdown',style:gw};return spiff.DOMElements.div(gx,gv,(e?this.$l():this.$g()))},$0:function(e){var gv=ss.mkdel(this,this.handleFrequencySelection);var gw;var gx=[{content:tab.Strings.ToolbarSubscribeOnSchedule,value:tab.Strings.ToolbarSubscribeOnSchedule},{content:tab.Strings.ToolbarSubscribeOnExtractRefresh,value:tab.Strings.ToolbarSubscribeOnExtractRefresh}];gw=React.createElement(SharedWidgets.SingleSelectDropdown,{type:1,label:tab.Strings.ToolbarSubscribeFrequency,list:React.createElement(SharedWidgets.List,{items:gx,selectedValue:this.state.frequencyValue}),onChange:gv,value:this.state.frequencyValue,testId:'subscribe-frequency-dropdown',style:{marginBottom:e}});return gw},$g:function(){return spiff.DOMElements.div({className:'tab-nextExpectedSubscriptionBasedOnExtractRefresh label',style:{fontSize:SharedWidgets.TabStyles.Typography.Sizing.Default,fontStyle:'italic',lineHeight:'21px',color:SharedWidgets.TabStyles.Typography.Color.Secondary,marginTop:SharedWidgets.TabStyles.Spacing.SmallSpace,marginBottom:SharedWidgets.TabStyles.Spacing.DefaultSpace}},tab.Strings.NextExpextedSubscriptionBasedOnExtraxtRefresh)},$n:function(){var e=ss.mkdel(this,this.handleScheduleSelection);var gv=2;var gw=SharedWidgets.TabStyles.Spacing.DefaultSpace;var gx;var gy=ss.Int32.parse(this.state.scheduleValue);var gz='';if(this.props.schedules.length>gy){gz=this.props.schedules[gy].content}gx=React.createElement(SharedWidgets.SingleSelectDropdown,{children:gz,type:1,label:tab.Strings.ToolbarSubscribeSchedule,list:React.createElement(SharedWidgets.List,{items:this.props.schedules,selectedValue:this.state.scheduleValue,style:{maxHeight:10*SharedWidgets.TabStyles.Sizing.ListRowHeight+2*SharedWidgets.TabStyles.Spacing.DefaultSpace+gv,maxWidth:464-2*gw}}),onChange:e,value:this.state.scheduleValue,testId:'subscribe-schedule-dropdown'});return spiff.DOMElements.div({className:'tab-subscribeSchedule dropdown',style:{marginBottom:18}},gx)},$k:function(){return spiff.DOMElements.div({className:'tab-subscribeRecipients'},React.createElement(fk,this.state.subscribeRecipientPickerProps))},$c:function(){var e=ss.mkdel(this,this.handleIncludeSelection);var gv;var gw=[{content:tab.Strings.ToolbarSubscribeThisView,value:tab.Strings.ToolbarSubscribeThisView},{content:tab.Strings.ToolbarSubscribeAllView,value:tab.Strings.ToolbarSubscribeAllView}];gv=React.createElement(SharedWidgets.SingleSelectDropdown,{type:1,label:tab.Strings.ToolbarSubscribeInclude,list:React.createElement(SharedWidgets.List,{items:gw,selectedValue:this.state.includeValue}),onChange:e,value:this.state.includeValue,testId:'subscribe-include-dropdown'});return spiff.DOMElements.div({className:'tab-subscribeViews dropdown',style:{marginBottom:8}},gv)},$q:function(){var e;var gv=fg.$1(function(gw){return tab.MiscUtil.isNullOrEmpty$1(gw)},this.state.subject);e=React.createElement(SharedWidgets.TextFieldWidget,{kind:'line',label:tab.Strings.ToolbarSubscribeSubjectPlaceholder,onChange:ss.mkdel(this,this.handleSubjectInput),testId:'subscribe-subject-text',message:(ss.isValue(gv)?tab.Strings.ToolbarSubscribeMissingSubject:'​'),valid:gv,value:this.state.subject});return spiff.DOMElements.div({className:'tab-subscribeSubject'},e)},$f:function(){var e=2000;var gv=1800;var gw=fg.$0(this.state.message,e,gv);var gx=React.createElement(SharedWidgets.TextAreaWidget,{label:tab.Strings.ToolbarSubscribeMessageLabel,placeholder:tab.Strings.ToolbarSubscribeMessagePlaceholder,testId:'subscribe-message-input',message:gw,onChange:ss.mkdel(this,this.handleMessageInput),maxLength:e,rows:1,valid:fg.$1(function(gy){return ss.isValue(gy)},gw),style:{minHeight:this.props.subscribeComponentBoxHeight,resize:'none',overflow:'auto'}});return spiff.DOMElements.div({className:'tab-subscribeMessage',style:{marginBottom:18}},gx)},$9:function(){var e={marginBottom:18};return React.createElement(SharedWidgets.CheckBoxWithLabelWidget,{checked:this.state.sendOnlyWhenDataPresent,label:tab.Strings.ToolbarSubscribeDataPresentCheckbox,handleChange:ss.mkdel(this,this.$5),testId:'send-when-data-checkbox',disabled:ss.referenceEquals(this.state.includeValue,tab.Strings.ToolbarSubscribeAllView),removeLeftMargin:true,containerStyle:e})},$e:function(){return spiff.DOMElements.a({className:'tab-manageSubscribers',href:this.props.subscriptionsPageUrl,target:'_tab',style:{marginTop:SharedWidgets.TabStyles.Spacing.DefaultSpace,marginBottom:SharedWidgets.TabStyles.Spacing.MediumSpace},tabIndex:0},tab.Strings.ManageSubscriptions)},$8:function(){var e=!this.isSubscribeEnabled()||this.state.createRequestSent;return spiff.DOMElements.div({className:'tabSubscribeButtonContainer'},React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(gv){this.props.onCancel()}),buttonType:3,testId:'subscription-dialog-cancel',children:tab.Strings.SubscribeCancel,style:{marginRight:12}}),React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(gv){this.$7()}),buttonType:2,testId:'subscription-dialog-subscribe',children:tab.Strings.ToolbarSubscribeSubmitButton,disabled:e}))}},{$1:function(e,gv){if(e(gv)){return false}return null},$0:function(e,gv,gw){if(ss.isNullOrUndefined(e)||e.length<gw){return null}return tab.Strings.MessageCharacterLimit(e.length,gv)}});var fh=global.tab.SubscribeComponentContainer=ss.mkType(a,'tab.SubscribeComponentContainer',function(e){ss.makeGenericType(ek,[tab.ISelfServiceSchedulesModule,fi,Object]).call(this,e)},{fetchAsyncDependencies:function(){return(this.props.isSelfServiceSchedulesEnabled?tab.ModuleManager.load$1(tab.ISelfServiceSchedulesModule).call(null,[]):$.when.apply(null,null))},renderWhileWaiting:function(){return this.$3(this.props)},renderWithDependencies:function(e){var gv=this.props;if(ss.isValue(e)){gv=_.clone(this.props);gv.selfServiceSchedulesModule=e}return this.$3(gv)},$3:function(e){return React.createElement(fg,e)}});var fi=global.tab.SubscribeProps=ss.mkType(a,'tab.SubscribeProps',function(){this.schedules=null;this.defaultSubject=null;this.email=null;this.emailIsValid=null;this.users=null;this.groups=null;this.onCancel=null;this.createSubscriptions=null;this.createSubscriptionsWithSelfServiceSchedule=null;this.setEmail=null;this.shouldShowMissingEmailAlert=false;this.subscriptionsPageUrl=null;this.userSettingsPageUrl=null;this.sendOnlyWhenDataPresentCheckboxVisible=false;this.isFormatDropdownEnabled=false;this.arePdfOptionsDropdownsEnabled=false;this.isScheduleFrequencyDropdownEnabled=false;this.isSelfSubscribeCheckboxEnabled=false;this.isSelfServiceSchedulesEnabled=false;this.selfServiceSchedulesModule=null;this.subscribeRecipientPickerProps=null;this.subscribeComponentBoxHeight=0;this.updateSubscriptionsParameters=null;this.updateSelfSubscribeCheck=null});var fj=global.tab.SubscribeRecipientListItemInfo=ss.mkType(a,'tab.SubscribeRecipientListItemInfo',function(){this.name=null;this.tooltip=null;this.listItemId=null},null,{$ctor2:function(e){this.name=null;this.tooltip=null;this.listItemId=null;this.name=e.friendlyName;this.tooltip=e.username;this.listItemId='User_'+e.id},$ctor1:function(e){this.name=null;this.tooltip=null;this.listItemId=null;this.name=e.name;this.tooltip=e.name;this.listItemId='Group_'+e.id}});var fk=global.tab.SubscribeRecipientPicker=ss.mkType(a,'tab.SubscribeRecipientPicker',function(e,gv){this.$a=null;React.Component.call(this,e,gv);this.$a=new tab.Debouncer(ss.mkdel(this,this.$8),e.debounceTimeout);this.state={recipients:[],filterValue:''}},{render:function(){return React.createElement(SharedWidgets.ChipPicker,{label:this.props.label,listItems:this.$1(),listMaxHeight:this.props.listMaxHeight,placeholder:this.props.placeholder,testId:'subscribe-recipients-picker',maxLines:this.props.maxLines,onFilterItems:ss.mkdel(this,this.$4),onValueAdd:ss.mkdel(this,this.$5),onValuesChange:ss.mkdel(this,this.$6),className:'subscribe-recipients-picker',children:this.$9(),style:{height:this.props.height,marginBottom:8}})},componentDidMount:function(){this.$4('')},$0:function(e){return{content:e.name,value:e.listItemId,disabled:ss.isValue(this.$3(e.listItemId,false)),testId:e.listItemId,tooltip:e.tooltip}},$1:function(){return _.map(this.state.recipients,ss.mkdel(this,function(e){return this.$0(fk.$0(e))}))},$4:function(e){this.setState(ss.mkdel(this,function(gv,gw){return _.extend({},gv,{filterValue:e})}),ss.mkdel(this,function(){this.$a.invokeActionDelayed();return null}))},$8:function(){this.$2(this.state.filterValue)},$2:function(e){var gv=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(e,0);var gw=tab.WorkgroupServerCommands.fetchPageOfGroups(e,0);$.when(gv,gw).done(ss.mkdel(this,function(gx,gy){var gz=_.map(gx.items,function(gA){return gA});_.each(gy.items,function(gA){gz.push(gA)});gz.sort(fk.$1);this.setState(ss.mkdel(this,function(gA,gB){return _.extend({},gA,{recipients:gz})}))}))},$5:function(e,gv){if(ss.staticEquals(this.props.onRecipientAdd,null)){return}var gw=e.toLowerCase();var gx=ss.indexOf(this.props.recipients.map(function(gz){return fk.$0(gz).listItemId}),gw);if(gx<0){var gy=_.find(this.state.recipients,function(gz){return ss.equalsT(fk.$0(gz).listItemId.toLowerCase(),gw)});if(ss.isValue(gy)){this.props.onRecipientAdd(gy,gv);if(this.$7(gy)&&!ss.staticEquals(this.props.selfSubscribeStateUpdate,null)){this.props.selfSubscribeStateUpdate(true)}if(!ss.staticEquals(this.props.externalComponentUpdate,null)){this.props.externalComponentUpdate()}}}},$3:function(e,gv){var gw=_.find(this.props.recipients,function(gx){return ss.equalsT(fk.$0(gx).listItemId.toLowerCase(),e.toLowerCase())});return gw},$6:function(e){if(ss.staticEquals(this.props.onRecipientsChange,null)){return}var gv=e.map(ss.mkdel(this,function(gw){return this.$3(gw,true)}));this.props.onRecipientsChange(gv);if(!ss.staticEquals(this.props.selfSubscribeStateUpdate,null)){if(_.any(gv,ss.mkdel(this,function(gw){return this.$7(gw)}))){this.props.selfSubscribeStateUpdate(true)}else{this.props.selfSubscribeStateUpdate(false)}}if(!ss.staticEquals(this.props.externalComponentUpdate,null)){this.props.externalComponentUpdate()}},$7:function(e){return e.recipientType===1&&e.id===tsConfig.current_user_id},$9:function(){return _.map(this.props.recipients,ss.mkdel(this,function(e){var gv;if(e.recipientType===1&&!e.hasEmail&&this.props.showNoEmailAsErrorChip){gv=fk.$3(e)}else{gv=fk.$2(e)}return gv}))}},{$0:function(e){var gv=e.recipientType;switch(gv){case 1:{var gw=e;var gx=new fj;gx.name=gw.friendlyName;gx.listItemId='User_'+gw.id;gx.tooltip=gw.username;return gx}case 2:{var gy=e;var gz=new fj;gz.name=gy.name;gz.listItemId='Group_'+gy.id;gz.tooltip=gy.name;return gz}default:{var gA=new fj;gA.name='Invalid user';gA.listItemId='User_'+-1;gA.tooltip='Invalid user';return gA}}},$1:function(e,gv){var gw=fk.$0(e).name.toLowerCase();var gx=fk.$0(gv).name.toLowerCase();return ss.compare(gw,gx)},$2:function(e){var gv=fk.$0(e);return React.createElement(SharedWidgets.Chip,{children:gv.name,key:gv.listItemId,value:gv.listItemId,tooltip:gv.tooltip,testId:'subscribe-recipients-'+gv.name,className:'subscribe-recipients-picker-chip'})},$3:function(e){var gv=fk.$0(e);return React.createElement(SharedWidgets.ErrorChip,{children:gv.name,key:gv.listItemId,value:gv.listItemId,tooltip:tab.Strings.ToolbarSubscribeUserMissingEmail(gv.tooltip),testId:'subscribe-recipients-error-'+gv.name,message:gv.name,className:'subscribe-recipients-picker-chip-error'})}});var fl=global.tab.SubscribeRecipientPickerProps=ss.mkType(a,'tab.SubscribeRecipientPickerProps',function(){this.recipients=null;this.label=null;this.placeholder=null;this.maxLines=2;this.height=0;this.listMaxHeight=150;this.onRecipientAdd=null;this.onRecipientsChange=null;this.externalComponentUpdate=null;this.selfSubscribeStateUpdate=null;this.debounceTimeout=200;this.showNoEmailAsErrorChip=true});var fm=global.tab.SubscribeViewModel=ss.mkType(a,'tab.SubscribeViewModel',function(){this.$s=[];this.$k=[];this.$n=[];this.$p=[];this.$j=[];this.$q=false;this.$h=false;this.$i=false;this.$m=null;this.$o=false;this.$r=false;this.$l=0;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.$3$6=null;this.$3$7=null;this.$3$8=null;this.$3$9=false;this.$3$10=null;this.$3$11=false;this.$3$12=false;this.$3$13=null;this.$3$14=null;this.$3$15=null;this.$3$16=null;this.$3$17=false;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);if(!tsConfig.is_guest||tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){tab.StartupUtils.callOnceAfterInitialBootstrap(ss.mkdel(this,function(){tab.WorkgroupServerCommands.getSchedules(ss.mkdel(this,function(gv){this.$p=gv.filter(function(gw){return gw.get_schedulePresModel().scheduledAction==='Subscription'});if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}this.incrementProps()}))}))}this.setScheduleFrequencyDropdownState();this.set_email(tsConfig.current_user_email);this.set_currentUserHasEmail(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.current_user_email));var e=(ss.isNullOrEmptyString(tsConfig.site_url_name)?'/#':('/#/site/'+tsConfig.site_url_name));if(tsConfig.is_admin){this.set_subscriptionsPageUrl(ss.formatString('{0}/workbooks/{1}/subscriptions',e,tsConfig.current_workbook_id))}else{this.set_subscriptionsPageUrl(ss.formatString('{0}/user/{1}/{2}/subscriptions',e,tsConfig.current_user_domain_name,tsConfig.current_user_name))}if(tab.FeatureFlags.isEnabled('UserTimeZone')){this.set_userSettingsPageUrl(ss.formatString('{0}/user/{1}/{2}/settings',e,tsConfig.current_user_domain_name,tsConfig.current_user_name))}this.set_subscriptionParameters(null);this.set_createRequestSent(false)},{add_schedulesChanged:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_schedulesChanged:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},add_subscribeSuccess:function(e){this.$3$2=ss.delegateCombine(this.$3$2,e)},remove_subscribeSuccess:function(e){this.$3$2=ss.delegateRemove(this.$3$2,e)},add_subscribeCancel:function(e){this.$3$3=ss.delegateCombine(this.$3$3,e)},remove_subscribeCancel:function(e){this.$3$3=ss.delegateRemove(this.$3$3,e)},add_usersChanged:function(e){this.$3$4=ss.delegateCombine(this.$3$4,e)},remove_usersChanged:function(e){this.$3$4=ss.delegateRemove(this.$3$4,e)},add_groupsChanged:function(e){this.$3$5=ss.delegateCombine(this.$3$5,e)},remove_groupsChanged:function(e){this.$3$5=ss.delegateRemove(this.$3$5,e)},add_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$3$6=ss.delegateCombine(this.$3$6,e)},remove_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$3$6=ss.delegateRemove(this.$3$6,e)},add_hideDialogRequested:function(e){this.add_subscribeSuccess(e);this.add_subscribeCancel(e)},remove_hideDialogRequested:function(e){this.remove_subscribeSuccess(e);this.remove_subscribeCancel(e)},add_dialogHidden:function(e){this.$3$7=ss.delegateCombine(this.$3$7,e)},remove_dialogHidden:function(e){this.$3$7=ss.delegateRemove(this.$3$7,e)},get_mode:function(){return this.$l},get_schedules:function(){return this.$p},get_subscribeProps:function(){var e=new fi;e.users=this.get_users();e.groups=this.get_groups();e.email=this.get_email();e.emailIsValid=ss.mkdel(this,this.$4);e.schedules=this.generateSchedules();e.defaultSubject=this.get_defaultSubject();e.onCancel=this.$3$3;e.createSubscriptions=ss.mkdel(this,function(gv){this.setDataAndCreateSubscriptions(gv)});e.createSubscriptionsWithSelfServiceSchedule=ss.mkdel(this,function(gv){this.setDataAndCreateSubscriptionsSelfService(gv)});e.setEmail=ss.mkdel(this,function(gv){this.set_email(gv)});e.shouldShowMissingEmailAlert=this.get_shouldShowMissingEmailAlert();e.subscriptionsPageUrl=this.get_subscriptionsPageUrl();e.userSettingsPageUrl=this.get_userSettingsPageUrl();e.sendOnlyWhenDataPresentCheckboxVisible=this.get_sendOnlyWhenDataPresentCheckboxVisible();e.isFormatDropdownEnabled=tab.FeatureFlags.isEnabled('PDFSubscriptionsSP1')&&tab.FeatureFlags.isEnabled('PDFSubscriptionsUI')&&tsConfig.allow_subscription_attachments;e.arePdfOptionsDropdownsEnabled=tab.FeatureFlags.isEnabled('PDFSubscriptionOptions')&&tab.FeatureFlags.isEnabled('PDFSubscriptionsSP1')&&tab.FeatureFlags.isEnabled('PDFSubscriptionsUI')&&tsConfig.allow_subscription_attachments;e.isScheduleFrequencyDropdownEnabled=this.get_scheduleFrequencyDropdownEnabled()&&tab.FeatureFlags.isEnabled('SubscriptionsOnExtractRefresh');e.isSelfSubscribeCheckboxEnabled=tsConfig.allow_subscribe_others;e.isSelfServiceSchedulesEnabled=fm.isSelfServiceSchedulesEnabled();e.subscribeRecipientPickerProps=this.$g();e.subscribeComponentBoxHeight=fm.subscribeComponentBoxHeight;e.updateSubscriptionsParameters=ss.mkdel(this,this.$d);e.updateSelfSubscribeCheck=ss.mkdel(this,this.$c);return e},get_shouldSubscribeAllViews:function(){return this.$q},set_shouldSubscribeAllViews:function(e){this.$q=e;if(ss.staticEquals(this.$3$6,null)){return}this.$3$6()},get_attachImage:function(){return this.$h},set_attachImage:function(e){this.$h=e},get_attachPdf:function(){return this.$i},set_attachPdf:function(e){this.$i=e},get_pdfOptions:function(){return this.$m},set_pdfOptions:function(e){this.$m=e},get_subscribeOnExtractRefresh:function(){return this.$r},set_subscribeOnExtractRefresh:function(e){this.$r=e},get_scheduleFrequencyDropdownEnabled:function(){return this.$o},set_scheduleFrequencyDropdownEnabled:function(e){this.$o=e},get_subscriptionParameters:function(){return this.$3$8},set_subscriptionParameters:function(e){this.$3$8=e},get_createRequestSent:function(){return this.$3$9},set_createRequestSent:function(e){this.$3$9=e},get_footerContent:function(){return this.$3$10},set_footerContent:function(e){this.$3$10=e},get_sendOnlyWhenDataPresentCheckboxEnabled:function(){return!this.$q},get_sendOnlyWhenDataPresentCheckboxSelected:function(){return this.$3$11},set_sendOnlyWhenDataPresentCheckboxSelected:function(e){this.$3$11=e},get_addPdfAttachmentCheckboxSelected:function(){return this.$3$12},set_addPdfAttachmentCheckboxSelected:function(e){this.$3$12=e},get_sendOnlyWhenDataPresentCheckboxVisible:function(){if(!tsConfig.allow_subscribe_on_data_present){return false}return tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='worksheet'},get_defaultSubject:function(){return tsConfig.current_sheet_name},get_email:function(){return this.$3$13},set_email:function(e){this.$3$13=e},get_message:function(){return this.$3$14},set_message:function(e){this.$3$14=e},get_subscriptionsPageUrl:function(){return this.$3$15},set_subscriptionsPageUrl:function(e){this.$3$15=e},get_userSettingsPageUrl:function(){return this.$3$16},set_userSettingsPageUrl:function(e){this.$3$16=e},get_users:function(){return this.$s},set_users:function(e){this.$s=e;this.raiseActionEvent(this.$3$4)},get_groups:function(){return this.$k},set_groups:function(e){this.$k=e;this.raiseActionEvent(this.$3$5)},get_recipients:function(){return this.$n},set_recipients:function(e){this.$n=e},get_dataSources:function(){return this.$j},set_dataSources:function(e){this.$j=e},get_sendOnlyWhenDataPresent:function(){return this.get_sendOnlyWhenDataPresentCheckboxSelected()&&!this.get_shouldSubscribeAllViews()},get_shouldShowMissingEmailAlert:function(){var e=this.get_recipients().filter(function(gv){return fm.$0(gv)});return(!tsConfig.allow_subscribe_others?!this.get_currentUserHasEmail():(!this.get_currentUserHasEmail()&&!tab.MiscUtil.isNullOrEmpty$3(e)))},get_currentUserHasEmail:function(){return this.$3$17},set_currentUserHasEmail:function(e){this.$3$17=e},$f:function(){return(this.get_sendOnlyWhenDataPresent()?'DataPresent':'Always')},createUpdatedProps:function(){var e=React.createElement(fh,this.get_subscribeProps());return{children:e,dialogWidth:fm.subscriptionDialogWidth,isGlassTransparent:false,isModal:true,positioningBehavior:2,shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,shouldRecenterOnUpdate:false,shouldReturnFocusOnClose:true,showCloseButton:true,showFooter:true,testId:'subscribe',title:tab.Strings.SubscribeTitle,type:0,footerContent:this.renderFooter(),dialogStyle:{maxHeight:'75vh',overflowY:'auto'}}},onDialogHidden:function(){this.set_users([]);this.set_groups([]);this.set_recipients([]);this.raiseActionEvent(this.$3$7);this.set_message(null);this.set_createRequestSent(false);this.set_email(tsConfig.current_user_email);this.incrementProps()},$a:function(e){if(ss.isNullOrUndefined(e)){return this.shouldSubscribeButtonBeEnabled(this.get_defaultSubject(),null)}var gv;var gw;if(fm.isSelfServiceSchedulesEnabled()){var gx=e;gv=gx.subject;gw=gx.recurrenceModel}else{var gy=e;gv=gy.subject;gw=null}return this.shouldSubscribeButtonBeEnabled(gv,gw)},shouldSubscribeButtonBeEnabled:function(e,gv){if(!fm.isSelfServiceSchedulesEnabled()&&(ss.isNullOrUndefined(this.get_schedules())||this.get_schedules().length===0)||fm.isSelfServiceSchedulesEnabled()&&ss.isNullOrUndefined(gv)){return false}if(ss.isNullOrUndefined(e)||e.trim().length===0){return false}if(!this.get_isEmailPresentForAny()){return false}if(tsConfig.allow_subscribe_others){return this.get_users().length>0||this.get_groups().length>0}return true},get_isEmailPresentForAny:function(){var e=this.get_recipients().filter(ss.mkdel(this,function(gv){return this.$e(gv)}));return this.get_recipients().length===0&&this.get_currentUserHasEmail()||!tab.MiscUtil.isNullOrEmpty$3(e)},$e:function(e){return e.recipientType!==1||e.hasEmail},generateScheduleViewModel:function(){var e=new spiff.ComboBoxViewModel;e.set_additionalMenuClass('tabSubscriptionScheduleDropdown');var gv=e;var gw=this.get_schedules();for(var gx=0;gx<gw.length;gx++){var gy=gw[gx];var gz=gy.get_schedulePresModel().name;if(tsConfig.display_schedule_description_as_name){if(tsConfig.features['AdminSelfServiceSchedules']){var gA=SelfServiceSchedules.RecurrenceConverters.castScheduleToRecurrence(gy.get_schedulePresModel());gz=SelfServiceSchedules.LocalizationHelpers.getRecurrenceStringLocalized(gA)}else{gz=gy.get_scheduleFrequencyDescription()}}gv.addItem(new spiff.ComboBoxItem(null,gz,gy,null,null))}if(gv.get_items().length>0){gv.set_selectedItem(gv.get_items()[0])}return gv},generateSchedules:function(){if(fm.isSelfServiceSchedulesEnabled()){return null}var e=this.get_schedules().length;var gv=new Array(e);for(var gw=0;gw<e;gw++){var gx=this.get_schedules()[gw];var gy=gx.get_schedulePresModel().name;if(tsConfig.display_schedule_description_as_name){gy=gx.get_scheduleFrequencyDescription()}gv[gw]={content:gy,value:gw.toString(),tooltip:gy}}return gv},setScheduleFrequencyDropdownState:function(){var e=tab.WorkgroupServerCommands.checkIfCanSupportExtractRefreshSubscription(tsConfig.current_workbook_id);e.done(ss.mkdel(this,function(gv){this.set_scheduleFrequencyDropdownEnabled(gv);this.incrementProps()}))},setDataAndCreateSubscriptions:function(e){this.set_shouldSubscribeAllViews(e.includeValue);this.set_sendOnlyWhenDataPresentCheckboxSelected(e.subscriptionParams.sendOnlyWhenDataPresent);this.set_users(e.users);this.set_groups(e.groups);this.set_attachImage(e.subscriptionFormat.attachImage);this.set_attachPdf(e.subscriptionFormat.attachPdf);if(tab.FeatureFlags.isEnabled('PDFSubscriptionOptions')&&this.get_attachPdf()){this.set_pdfOptions(new bn(e.subscriptionPDFOptions.paperSize,e.subscriptionPDFOptions.orientation))}this.set_subscribeOnExtractRefresh(e.subscriptionFrequency.subscribeOnExtractRefresh);this.createSubscriptions(e.subject,this.get_schedules()[e.scheduleValue],e.subscriptionMessage)},setDataAndCreateSubscriptionsSelfService:function(e){this.set_shouldSubscribeAllViews(e.includeValue);this.set_sendOnlyWhenDataPresentCheckboxSelected(e.subscriptionParams.sendOnlyWhenDataPresent);this.set_users(e.users);this.set_groups(e.groups);this.set_attachImage(e.subscriptionFormat.attachImage);this.set_attachPdf(e.subscriptionFormat.attachPdf);if(tab.FeatureFlags.isEnabled('PDFSubscriptionOptions')&&this.get_attachPdf()){this.set_pdfOptions(new bn(e.subscriptionPDFOptions.paperSize,e.subscriptionPDFOptions.orientation))}this.set_subscribeOnExtractRefresh(e.subscriptionFrequency.subscribeOnExtractRefresh);this.createSubscriptionsWithSelfServiceSchedule(e.subject,e.recurrenceModel,e.subscriptionMessage)},createSubscription:function(e,gv){var gw=ss.mkdel(this,function(){this.raiseActionEvent(this.$3$2);E.get_commonBannerProvider().showSuccessBanner(tab.Strings.SubscribeSuccess,null,null,true)});var gx=function(){E.get_commonBannerProvider().showErrorBanner(tab.Strings.SubscribeFailure,null,null,false)};tab.WorkgroupServerCommands.createSubscription(e,this.get_shouldSubscribeAllViews(),gv,this.$f(),gw,gx)},createSubscriptionWithSelfServiceSchedule:function(e,gv){tab.ModuleManager.load$1(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(gw){gw.createSubscriptionWithSelfServiceSchedule(e,this.get_shouldSubscribeAllViews(),gv,this.$f(),this.$3$2)}))},createSubscriptions:function(e,gv,gw){this.$3(e,gv,false,gw)},createSubscriptionsWithSelfServiceSchedule:function(e,gv,gw){this.$3(e,gv,true,gw)},$3:function(e,gv,gw,gx){var gy=ss.mkdel(this,function(gF){var gG=(ss.keyExists(gF,'results')?gF['results'].length:0);E.get_commonBannerProvider().showSuccessBanner(tab.Strings.SubscribeOthersSuccess(gG),null,null,false);this.raiseActionEvent(this.$3$2)});var gz=ss.mkdel(this,function(gF){var gG=gF['errors'];if(gG.length===1&&ss.isNullOrUndefined(gG[0]['id'])){E.get_commonBannerProvider().showErrorBanner(tab.Strings.SubscribeFailure,null,null,false)}else{E.get_commonBannerProvider().showErrorBanner(tab.Strings.SubscribeOthersFailed(gG.length),null,null,false);this.raiseActionEvent(this.$3$2)}});var gA=function(gF){E.get_commonBannerProvider().showErrorBanner(tab.Strings.SubscribeFailure,null,null,false)};var gB=_.map(this.get_users(),function(gF){return gF.id.toString()});var gC=_.map(this.get_groups(),function(gF){return gF.id.toString()});if(gC.length===0){gC=null}if(!tsConfig.allow_subscribe_others&&!_.contains(gB,tsConfig.current_user_id.toString())){gB.push(tsConfig.current_user_id.toString())}var gD=(ss.isNullOrUndefined(this.get_pdfOptions())?null:this.get_pdfOptions().paperSize);var gE=(ss.isNullOrUndefined(this.get_pdfOptions())?null:this.get_pdfOptions().orientation);if(gw){tab.ModuleManager.load$1(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(gF){gF.createSubscriptionsWithSelfServiceSchedule(e,this.get_shouldSubscribeAllViews(),gv,this.$f(),gB,gC,gy,gz,gA,gx,this.get_attachImage(),this.get_attachPdf(),this.get_subscribeOnExtractRefresh(),gE,gD)}))}else{this.set_users([]);this.set_groups([]);this.set_recipients([]);tab.WorkgroupServerCommands.createSubscriptions(e,this.get_shouldSubscribeAllViews(),gB,gv,this.$f(),gy,gz,gA,gx,gC,this.get_attachImage(),this.get_attachPdf(),this.get_subscribeOnExtractRefresh(),gE,gD)}},$4:function(e){return cn.validate(e)},$g:function(){var e=new fl;e.recipients=this.get_recipients();e.label=tab.Strings.ToolbarSubscribeAddUsersLabel;e.placeholder=tab.Strings.ToolbarSubscribeAddUsersOrGroupsPlaceholder;e.onRecipientsChange=ss.mkdel(this,this.$6);e.onRecipientAdd=ss.mkdel(this,this.$5);e.height=fm.subscribeComponentBoxHeight;return e},$5:function(e,gv){if(gv<0){gv=this.get_recipients().length}ss.insert(this.get_recipients(),gv,e);var gw=e.recipientType;switch(e.recipientType){case 1:{this.get_users().push(e);break}case 2:{this.get_groups().push(e);break}default:{break}}this.incrementProps()},$6:function(e){ss.clear(this.get_users());ss.clear(this.get_groups());ss.clear(this.get_recipients());_.each(e,ss.mkdel(this,function(gv){this.$5(gv,-1)}));this.incrementProps()},$d:function(e){this.set_subscriptionParameters(e);this.incrementProps()},$c:function(e){var gv=this.get_recipients().filter(function(gy){return fm.$0(gy)});var gw=this.get_users().filter(function(gy){return fm.$0(gy)});if(e){var gx=tab.UserFactory.currentUser();gx.hasEmail=this.get_currentUserHasEmail();if(tab.MiscUtil.isNullOrEmpty$3(gv)){this.get_recipients().push(gx)}if(tab.MiscUtil.isNullOrEmpty$3(gw)){this.get_users().push(gx)}}else{if(!tab.MiscUtil.isNullOrEmpty$3(gv)){ss.remove(this.get_recipients(),gv[0])}if(!tab.MiscUtil.isNullOrEmpty$3(gw)){ss.remove(this.get_users(),gw[0])}}this.incrementProps()},$9:function(){return React.createElement(SharedWidgets.TextLinkWidget,{className:'tab-subscribe-link',href:this.get_subscriptionsPageUrl(),kind:1,target:'_tab','data-tb-test-id':'manage-subscriptions',style:{marginTop:4,display:'inline-block'}},tab.Strings.ManageSubscriptions)},$b:function(){if(fm.isSelfServiceSchedulesEnabled()){this.setDataAndCreateSubscriptionsSelfService(this.get_subscriptionParameters())}else{this.setDataAndCreateSubscriptions(this.get_subscriptionParameters())}},$7:function(){if(!this.get_createRequestSent()){this.$b()}this.set_createRequestSent(true)},$8:function(){var e=ss.isNullOrUndefined(this.get_subscriptionParameters())&&tsConfig.allow_subscribe_others||!this.$a(this.get_subscriptionParameters())||this.get_createRequestSent();var gv={float:'right'};return spiff.DOMElements.div({className:'tabSubscribeButtonContainer',style:gv},React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(gw){this.$3$3()}),buttonType:3,testId:'subscription-dialog-cancel',children:tab.Strings.SubscribeCancel,style:{marginRight:12}}),React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(gw){this.$7()}),buttonType:2,testId:'subscription-dialog-subscribe',children:tab.Strings.ToolbarSubscribeSubmitButton,disabled:e}))},renderFooter:function(){this.set_footerContent(spiff.DOMElements.div({className:'tabSubscribeFooter',style:{height:48,width:464,display:'table-cell',verticalAlign:'middle'}},(tsConfig.is_mobile?null:this.$9()),this.$8()));return this.get_footerContent()}},{isSelfServiceSchedulesEnabled:function(){return tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled},$0:function(e){return e.recipientType===1&&e.id===tsConfig.current_user_id}});var fn=global.tab.SubscriptionCreationParameters=ss.mkType(a,'tab.SubscriptionCreationParameters',function(e,gv,gw,gx,gy,gz,gA,gB,gC,gD){this.subject=null;this.includeValue=false;this.scheduleValue=0;this.subscriptionMessage=null;this.users=null;this.groups=null;this.subscriptionParams=null;this.subscriptionFormat=null;this.subscriptionPDFOptions=null;this.subscriptionFrequency=null;this.subject=e;this.includeValue=gv;this.scheduleValue=gw;this.subscriptionMessage=gx;this.users=gy;this.groups=gz;this.subscriptionParams=gA;this.subscriptionFormat=gB;if(tab.FeatureFlags.isEnabled('PDFSubscriptionOptions')){this.subscriptionPDFOptions=gC}this.subscriptionFrequency=gD});var fo=global.tab.TabEventArgs=ss.mkType(a,'tab.TabEventArgs',function(e,gv,gw){this.tabLabelElement=null;this.tabContentElement=null;this.tabIndex=0;ss.EventArgs.call(this);this.tabLabelElement=e;this.tabContentElement=gv;this.tabIndex=gw});var fp=global.tab.TableauServerReconnectWidget=ss.mkType(a,'tab.TableauServerReconnectWidget',function(e){eX.call(this,e)},{createEditConnectionButtonProps:function(){var e=function(){tab.VizClientCommands.setUIMode('data-tab','ReconnectEditConnection','')};return{handleClick:function(gv){e()},buttonType:3,testId:'SheetReconnectEditConnection',children:tab.Strings.SheetReconnectEditConnectionLabel,style:{marginTop:18+'px',marginBottom:'auto',marginLeft:'auto',marginRight:30+'px'}}},determineIfConnectionClassSupported:function(){var e=$.Deferred();tab.DataConnectionUtils.isTableauServerSupportedInReconnectFlow(this.props.connectionClass).done(function(gv){e.resolve(gv)});return e.promise()}});var fq=global.tab.TabRenderContext2D=ss.mkType(a,'tab.TabRenderContext2D',function(e){this.$6=null;this.$c=null;this.$d=null;this.$m=null;this.$f=null;this.$k=0;this.$h=null;this.$l=null;this.$i=false;this.$7=null;this.$8=null;this.$9=null;this.$a=null;this.$j=false;this.$e=0;this.$g=0;this.$b=null;this.dirtyRect=null;this.pixelRatio=0;this.$6=e;this.$c=new Array;this.$d=cN.instance();this.$m=new tab.TransformationMatrix;this.reset();this.clearDirtyRect()},{get_textAngle:function(){return this.$k},set_textAngle:function(e){this.$k=e},get_isTextAngleHorizontal:function(){return Math.abs(this.get_textAngle())<0.01},get_numberSavedStates:function(){return this.$g},get_alpha:function(){return this.$6.globalAlpha},set_alpha:function(e){if(e!==this.$6.globalAlpha){this.$6.globalAlpha=e}},get_globalCompositeOperation:function(){return this.$6.globalCompositeOperation},set_globalCompositeOperation:function(e){this.$6.globalCompositeOperation=e},get_font:function(){return this.$6.font},set_font:function(e){var gv=this.$d.normalizeFont(e);if(!ss.referenceEquals(gv,this.$6.font)){this.$6.font=gv}this.$e=fq.$0(gv)},get_lineCap:function(){return this.$8},set_lineCap:function(e){if(e!==this.$8){this.$6.lineCap=e;this.$8=e}},get_lineJoin:function(){return this.$9},set_lineJoin:function(e){if(e!==this.$9){this.$6.lineJoin=e;this.$9=e}},get_lineWidth:function(){return this.$6.lineWidth},set_lineWidth:function(e){if(e!==this.$6.lineWidth){this.$6.lineWidth=e;if(this.$f!=='solid'){this.$5()}}},get_linePattern:function(){return this.$f},set_linePattern:function(e){if(e!==this.$f){this.$f=e;this.$5()}},get_transformation:function(){return this.$m},set_transformation:function(e){this.$m.setTransform(e)},get_strokeStyle:function(){return this.$a},set_strokeStyle:function(e){if(!ss.referenceEquals(e,this.$a)){this.$6.strokeStyle=e;this.$a=e}},get_shapeFillStyle:function(){return this.$h},set_shapeFillStyle:function(e){this.$h=e;this.$3(e)},get_shouldAntialias:function(){return this.$i},set_shouldAntialias:function(e){this.$i=e},get_shouldUnderlineText:function(){return this.$j},set_shouldUnderlineText:function(e){this.$j=e},get_textFillStyle:function(){return this.$l},set_textFillStyle:function(e){this.$l=e},get_textAlign:function(){return this.$6.textAlign},set_textAlign:function(e){this.$6.textAlign=e},get_textBaseline:function(){return this.$6.textBaseline},set_textBaseline:function(e){this.$6.textBaseline=e},get_currentClipRect:function(){return this.$b},clearDirtyRect:function(){this.dirtyRect={x:0,y:0,w:0,h:0}},setDefaultPropertyValues:function(){this.set_alpha(1);this.set_strokeStyle('rgb(0,0,0)');this.set_linePattern(fq.defaultLinePattern);this.set_lineWidth(1);this.set_lineJoin(fq.defaultLineJoin);this.set_lineCap(fq.defaultLineCap);this.set_shapeFillStyle('rgb(0,0,0)');this.set_textFillStyle('rgb(0,0,0)');this.set_textBaseline(fq.defaultTextBaseline);this.set_textAlign(fq.defaultTextAlign);this.set_textAngle(0);this.set_font(8+'pt '+'Arial');this.$i=true;this.$j=false},setClip:function(e){this.beginPath();this.$b=e;this.rect(e.x,e.y,e.w,e.h);this.$1()},arc:function(e,gv,gw,gx,gy,gz){this.$6.arc(e,gv,gw,gx,gy,gz)},beginPath:function(){this.$6.beginPath()},bezierCurveTo:function(e,gv,gw,gx,gy,gz){this.$6.bezierCurveTo(e,gv,gw,gx,gy,gz)},clearRect:function(e,gv,gw,gx){this.$6.clearRect(e,gv,gw,gx)},closePath:function(){this.$6.closePath()},createLinearGradient:function(e,gv,gw,gx){return this.$6.createLinearGradient(e,gv,gw,gx)},drawImage1:function(e,gv,gw){this.$6.drawImage(e,gv,gw)},drawImage3:function(e,gv,gw,gx,gy){this.$6.drawImage(e,gv,gw,gx,gy)},drawImage4:function(e,gv,gw,gx,gy){this.$6.drawImage(e,gv,gw,gx,gy)},drawImage5:function(e,gv,gw,gx,gy,gz,gA,gB,gC){this.$6.drawImage(e,gv,gw,gx,gy,gz,gA,gB,gC)},fill:function(){this.$6.fill()},fillRect:function(e,gv,gw,gx){this.$6.fillRect(e,gv,gw,gx)},fillText1:function(e,gv,gw){if(this.$4()){var gx=ss.mkdel(this,function(gy){this.$6.fillText(gy,0,0)});this.$2(gx,e,gv,gw)}else{this.$6.fillText(e,gv,gw)}},fillText2:function(e,gv,gw,gx){if(this.$4()){var gy=ss.mkdel(this,function(gz){this.$6.fillText(gz,0,0,gx)});this.$2(gy,e,gv,gw)}else{this.$6.fillText(e,gv,gw,gx)}},lineTo:function(e,gv){this.$6.lineTo(e,gv)},measureText:function(e){return this.$6.measureText(e)},moveTo:function(e,gv){this.$6.moveTo(e,gv)},rect:function(e,gv,gw,gx){this.$6.rect(e,gv,gw,gx)},reset:function(){while(this.$g>0){this.restore()}this.setDefaultPropertyValues();this.resetTransform();this.pixelRatio=1;this.save()},restore:function(){this.$6.restore();this.$8=this.$6.lineCap;this.$9=this.$6.lineJoin;this.$a=this.$6.strokeStyle;this.$7=this.$6.fillStyle;var e=this.$c.pop();e.$0(this);--this.$g},rotate:function(e){this.$m.rotate(e);this.$0()},save:function(){var e=new l(this.$f,this.$k,this.$h,this.$l,this.$i,this.$j,this.$m);this.$c.push(e);this.$6.save();++this.$g},scale:function(e,gv){if(e===1&&gv===1){return}this.$m.scale(e,gv);this.$0()},setTransform:function(e){this.$m.setTransform(e);this.$0()},resetTransform:function(){this.$m.reset();this.$0()},stroke:function(){this.$6.stroke()},strokeRect:function(e,gv,gw,gx){this.$6.strokeRect(e,gv,gw,gx)},strokeText1:function(e,gv,gw){},strokeText2:function(e,gv,gw,gx){},translate:function(e,gv){if(e===0&&gv===0){return}this.$m.translate(e,gv);this.$0()},$0:function(){var e=this.$m.get_matrix();this.$6.setTransform(e[0],e[1],e[2],e[3],e[4],e[5])},$1:function(){this.$6.clip()},$4:function(){return!this.get_isTextAngleHorizontal()||ss.isNullOrUndefined(this.$h)||!ss.referenceEquals(this.$h,this.$l)||this.$j},$2:function(e,gv,gw,gx){this.$6.save();var gy=this.$m.clone();this.translate(gw,gx);if(!this.get_isTextAngleHorizontal()){this.rotate(this.get_textAngle())}this.$3(this.$l);e(gv);if(this.$j){var gz=this.measureText(gv).width;var gA=Math.round(Math.max(1,(this.$e-5)/10));var gB=Math.round((this.$e-5)/10);var gC=0;if(this.get_textAlign()==='center'){gC-=gz/2}else if(this.get_textAlign()==='end'){gC-=gz}this.$6.fillRect(gC,gB,gz,gA)}this.$6.restore();this.$m.setTransform(gy);this.$7=null},$3:function(e){if(!ss.referenceEquals(e,this.$7)){this.$6.fillStyle=e;this.$7=e}},$5:function(){var e=null;var gv=0;switch(this.$f){case'solid':{e=[];break}case'dashed':{gv=this.$6.lineWidth;e=[fq.defaultLineDashDashed[0]*gv,fq.defaultLineDashDashed[1]*gv];break}case'dotted':{gv=this.$6.lineWidth;e=[fq.defaultLineDashDotted[0]*gv,fq.defaultLineDashDotted[1]*gv];break}}if(typeof(this.$6['setLineDash'])==='function'){this.$6.setLineDash(e)}else if('mozDash'in this.$6){this.$6['mozDash']=e}else if('webkitLineDash'in this.$6){this.$6['webkitLineDash']=e}}},{$0:function(e){if(!tab.MiscUtil.isNullOrEmpty$1(e)){var gv=e.split(' ');for(var gw=0;gw<gv.length;gw++){var gx=gv[gw];var gy=parseFloat(gx);if(isFinite(gy)){return gy}}}return 8}});var fr=global.tab.TextRegionOptions=ss.mkType(a,'tab.TextRegionOptions',function(e){this.textSelectable=false;this.textSelectable=e});var fs=global.tab.TextRegionTemplate=ss.mkType(a,'tab.TextRegionTemplate',function(e){this.textRegionBoundaryElem=null;this.contentElem=null;this.formatIndicatorElem=null;this.chevron=null;spiff.Template.call(this,$(fs.$0(e)));var gv=ss.mkdel(this,this.getElementBySelector);this.textRegionBoundaryElem=gv('.tab-textRegion-boundary');this.contentElem=gv('.'+'tab-textRegion-content');this.formatIndicatorElem=gv('.'+'tab-formatThisZone');this.formatIndicatorElem.hide()},{showFormatIndicator:function(){this.formatIndicatorElem.show()},hideFormatIndicator:function(){this.formatIndicatorElem.hide();if(ss.isValue(this.chevron)&&this.chevron.get_selected()){this.chevron.set_selected(false)}},minSizeHint:function(){if(ss.isValue(this.chevron)){var e=parseInt(this.chevron.element.css('top'));var gv=parseInt(this.chevron.element.css('right'));var gw=parseInt(this.chevron.element.css('height'));var gx=parseInt(this.chevron.element.css('width'));return{w:gx+2*gv,h:gw+2*e}}return{w:0,h:0}},addChevron:function(e){if(ss.isNullOrUndefined(this.chevron)){this.chevron=new spiff.ToggleButton($("<span class='"+'tabAuthoringTitleEditArrow'+"'></span>"),null);this.chevron.add_click(e);this.formatIndicatorElem.append(this.chevron.element)}}},{$0:function(e){var gv='';if(e>0){gv=ss.formatString("role='heading' aria-level='{0}'",e)}return ss.formatString("<div {0} class='tab-textRegion'>\n            <div class='tab-textRegion-boundary'>\n                <div class='tab-textRegion-content'></div>\n            </div>\n            <div class='tab-formatThisZone'></div>\n        </div>",gv)}});var ft=global.tab.TextRegionView=ss.mkType(a,'tab.TextRegionView',function(e){ft.$ctor2.call(this,e,-1,false)},{get_textRegionViewModel:function(){return this.get_viewModel()},$g:function(){return this.$g()},get_domRoot:function(){return this.get_template().domRoot},$h:function(){return this.get_template()},minSizeHint:function(){return this.$h().minSizeHint()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&(tsConfig.current_sheet_type==='dashboard'||tab.FeatureFlags.isEnabled('MobileLinksAreClickable'))){this.element.addClass(spiff.ClickBuster.suppressClickBustingClass)}if(this.get_textRegionViewModel().options.textSelectable){this.$h().contentElem.addClass('tab-selectable')}this.handleNewTextRegion();eO.get_instance().add_fontPreparationComplete(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add(ss.mkdel(this,function(){eO.get_instance().remove_fontPreparationComplete(ss.mkdel(this,this.handleNewTextRegion))}))},$a:function(){var e=this.get_template().domRoot.find('.'+ft.placeholderTextParentClass).length===0;if(!e){return}var gv=((!tsConfig.is_mobile&&tsConfig.is_authoring&&tsConfig.current_sheet_type==='dashboard')?tab.Strings.EmptyTextRegionMessage:'');var gw="<div class='"+ft.placeholderTextParentClass+"'>\n                <div class='"+ft.placeholderTextTextClass+"'>"+gv+'</div>\n            </div>';this.get_template().domRoot.append($(gw))},handleNewTextRegionForFlexibleDashboard:function(){var e=ss.isNullOrEmptyString(this.get_textRegionViewModel().get_textRegionPresModel().caption);if(e){this.$h().contentElem.empty();this.$a()}else{this.get_template().domRoot.find('.'+ft.placeholderTextParentClass).remove();this.$8(this.$h().textRegionBoundaryElem);this.$9(this.$h().contentElem)}},handleNewTextRegionForLegacyDashboard:function(){this.$8(this.$h().textRegionBoundaryElem);this.$9(this.$h().contentElem)},handleNewTextRegion:function(){if(!this.get_textRegionViewModel().get_hasPresModel()){return}if(this.$i){this.handleNewTextRegionForFlexibleDashboard()}else{this.handleNewTextRegionForLegacyDashboard()}},$b:function(){var e=new spiff.ShowMenuOptions(this.$h().chevron.element,false);e.activatedBy='Chevron';e.openedFrom=this.$d();var gv=e;this.$e(gv)},handleRightClick:function(e){var gv=new spiff.ShowMenuOptions(this.element,false);gv.cursorPosition={left:e.clientX,top:e.clientY};gv.activatedBy='ContextMenu';gv.openedFrom=this.$d();var gw=gv;this.$e(gw)},$e:function(e){var gv=ss.mkdel(this,function(gx){this.$f=true;this.$h().showFormatIndicator()});var gw=ss.mkdel(this,function(){this.$f=false;this.$h().hideFormatIndicator()});this.get_viewModel().showContextMenu(e,gv,gw)},handleDoubleClick:function(e){if(this.get_viewModel().isTitle()){this.get_viewModel().openRichTextEditorDialogForTitle()}else if(this.get_viewModel().isCaption()&&tsConfig.features['MttwCaptions']){this.get_viewModel().openRichTextEditorDialogForCaption()}cO.logRichTextEditorEvent(ss.mkdict(['RichTextEditorOpenedBy','DoubleClick','RichTextEditorOpenedFrom',this.$d()]))},$d:function(){return((tsConfig.current_sheet_type==='worksheet')?'WorksheetTitle':'WorksheetTitleOnDashboard')},handleHover:function(){this.$h().showFormatIndicator()},handleMouseLeave:function(){if(!this.$f){this.$h().hideFormatIndicator()}},$9:function(e){var gv={};e.removeAttr('style');e.html(this.get_textRegionViewModel().get_html());tab.FormattingConverters.cleanUpFontFamilyStyles(e);if(!tsConfig.is_mobile&&!tab.FeatureFlags.isEnabled('EventUtilsEventHandlingRework')){var gw=function(gF){gF.stopPropagation()};e.on(this.createNamespacedEventName('touchstart'),gw).on(this.createNamespacedEventName('touchend'),gw)}var gx=this.get_textRegionViewModel().get_orientation();var gy=ft.$3(gx);var gz=ft.$2(gx);if(gy||gz){var gA=tab.DoubleUtil.roundToInt(e.parent().width());var gB=tab.DoubleUtil.roundToInt(e.parent().height());gv['width']=gB+'px';var gC='0%';if(gy){gv['bottom']='100%';gC='100%'}else if(gz){gv['top']='100%';gC='0%'}e.css(gv);gv['left']=ft.$1(gA,tab.DoubleUtil.roundToInt(e.height()),this.get_textRegionViewModel().get_hAlign(),gx);ft.$0(e,'0% '+gC,gx.toString())}else{var gD=this.get_textRegionViewModel().get_styledBox();e.width('calc(100% - '+2*gD.padding+'px)');var gE=tab.DoubleUtil.roundToInt(this.$h().domRoot.height());if(gE<=tab.DoubleUtil.roundToInt(e.height())&&!this.$c(e,gE)){gv['top']='0%'}else{switch(this.get_textRegionViewModel().get_vAlign()){case'v-align-center':{gv['top']='50%';gv['margin-top']=ss.idiv(-tab.DoubleUtil.roundToInt(e.height()),2)+'px';break}case'v-align-bottom':{gv['bottom']='0%';break}case'v-align-top':{gv['top']='0%';break}default:{break}}}}e.css(gv)},$c:function(e,gv){var gw=false;e.find('span').each(function(gx,gy){if(!gw&&ss.isValue(gy.style.lineHeight)){gw=parseInt(gy.style.lineHeight)>=gv}});return gw},$8:function(e){var gv=this.get_textRegionViewModel().get_styledBox();var gw=tab.FormattingConverters.getCSSBorderStyle(gv.borderStyle);var gx=ss.mkdict(['border-width',gv.uw+'px','border-color',gv.borderColor,'border-style',gw,'padding',gv.padding+'px']);if(this.get_textRegionViewModel().get_styledBox().hasFill){this.$7(gx)}e.css(gx)},$7:function(e){var gv=tab.ColorModel.fromColorCode(this.get_textRegionViewModel().get_styledBox().fillColor);if(gv.get_a()<1){e['background-color']=gv.toString()}else{e['background-color']=gv.toString()}}},{$ctor1:function(e,gv){ft.$ctor2.call(this,e,-1,gv)},$ctor2:function(e,gv,gw){this.$i=false;this.$f=false;ss.makeGenericType(spiff.BaseView$1,[fu]).call(this,e,new fs(gv));this.$i=gw;this.get_textRegionViewModel().add_newTextRegion(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_textRegionViewModel().remove_newTextRegion(ss.mkdel(this,this.handleNewTextRegion))})));this.disposables.add$1(spiff.TableauClickHandler.targetAndRightClick(this.element[0],ss.mkdel(this,this.handleRightClick)));if(tsConfig.is_authoring&&!tsConfig.is_mobile&&(this.get_viewModel().isTitle()||this.get_viewModel().isCaption()&&tsConfig.features['MttwCaptions'])){this.disposables.add$1(spiff.TableauClickHandler.targetAndDoubleClick(this.element[0],ss.mkdel(this,this.handleDoubleClick)));var gx=new EventUtils.EventHandleSpec;gx.hoverDelay=0;var gy=gx;gy.SetHandler('mouseleave',ss.mkdel(this,this.handleMouseLeave));gy.SetHandler('hover',ss.mkdel(this,this.handleHover));this.disposables.add$1(spiff.TableauClickHandler.targetAndConfig(this.element[0],gy));this.$h().addChevron(ss.mkdel(this,this.$b))}},$3:function(e){return Math.round(e)===90},$2:function(e){return Math.round(e)===-90},$0:function(e,gv,gw){var gx={};gx['transform-origin']=gv;gx['transform']='rotate('+gw+'deg)';e.css(gx)},$1:function(e,gv,gw,gx){var gy=0;if(gv>e){gw=(ft.$3(gx)?'h-align-right':'h-align-left')}switch(gw){case'h-align-left':{gy=0;break}case'h-align-right':{gy=e-gv;break}case'h-align-center':{gy=ss.idiv(e,2)-ss.idiv(gv,2);break}}return gy+'px'}});var fu=global.tab.TextRegionViewModel=ss.mkType(a,'tab.TextRegionViewModel',function(e){this.$3=null;this.options=new fr(true);this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newText(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newText(ss.mkdel(this,this.handleNewTextRegion))})))},{add_newTextRegion:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newTextRegion:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_textRegionPresModel:function(){return this.$3.pm},get_hAlign:function(){return this.$3.get_hAlign()},get_html:function(){return this.$3.get_html()},get_orientation:function(){return this.$3.get_orientation()},get_vAlign:function(){return this.$3.get_vAlign()},get_styledBox:function(){return this.$3.get_styledBox()},get_presModelKey:function(){return this.$3.presModelKey},get_hasPresModel:function(){return!ss.isNullOrUndefined(this.$3.pm)},handleNewTextRegion:function(){this.$2()},isTitle:function(){return ss.referenceEquals(this.get_presModelKey().name,'visualTitle'.toString())&&(tsConfig.current_sheet_type==='worksheet'||tsConfig.current_sheet_type==='dashboard')},isCaption:function(){return ss.referenceEquals(this.get_presModelKey().name,'visualCaption'.toString())&&(tsConfig.current_sheet_type==='worksheet'||tsConfig.current_sheet_type==='dashboard')},openRichTextEditorDialogForTitle:function(){tab.RichTextClientCommands.launchWorksheetTitleRichTextEditor(this.$3.get_sheetName())},openRichTextEditorDialogForCaption:function(){tab.RichTextClientCommands.launchWorksheetCaptionRichTextEditor(this.$3.get_sheetName())},showContextMenu:function(e,gv,gw){if(!tsConfig.is_authoring){return}var gx=((tsConfig.current_sheet_type==='dashboard')?tsConfig.current_sheet_name:null);if(this.isTitle()){var gy=ss.mkdel(this,function(gA){var gB=gA.$$c['commands'];var gC=this.$1(e,gB,gv,gw);gC.show(e)});tab.SheetClientCommands.getTitleContextMenu(this.$3.get_sheetName(),gx,gy)}if(this.isCaption()){var gz=ss.mkdel(this,function(gA){var gB=gA.$$c['commands'];var gC=this.$1(e,gB,gv,gw);gC.show(e)});tab.SheetClientCommands.getCaptionContextMenu(this.$3.get_sheetName(),gx,gz)}},$1:function(e,gv,gw,gx){tab.Param.verifyValue(gv,'commands');var gy=tab.CommandsPresModelWrapper.create(gv);if(tab.MiscUtil.isNullOrEmpty$3(gy.get_commandItems())){if(ss.isValue(gx)){gx()}return null}var gz=[];gm.newMenuItemsFromCommands(gz,gv,ss.mkdel(this,function(gA){return this.$0(e,gA)}),null);return spiff.MenuViewModel.createForMenu(new spiff.Menu(gz),gm.commandMenuItemClicked,gx,gw)},$0:function(e,gv){var gw=gm.createDropdownMenuCommandHandler(gv);return function(){var gx=tab.CommandSerializer.deserialize(tab.CommandItemWrapper.create(gv).get_command(),false);if(tab.RichTextClientCommands.isRichTextEditingCommand(gx)){cO.logRichTextEditorEvent(ss.mkdict(['RichTextEditorOpenedBy',e.activatedBy,'RichTextEditorOpenedFrom',e.openedFrom]))}gw()}},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}});var fv=global.tab.TiledImageViewModel=ss.mkType(a,'tab.TiledImageViewModel',function(){spiff.BaseViewModel.call(this)});var fw=global.tab.ToggleFullScreenKeyboardShortcut=ss.mkType(a,'tab.ToggleFullScreenKeyboardShortcut',function(){KeyboardShortcuts.GlobalKeyboardShortcut.call(this)},{getKeyComboOrKeyCombos:function(){var e;if(BrowserSupport.BrowserSupport.IsMac()){var gv=new Object;gv.macControl='required';gv.command='required';e=ss.applyConstructor(KeyboardShortcuts.KeyCombo,['f',gv].concat(null))}else{e=ss.applyConstructor(KeyboardShortcuts.KeyCombo,['F11',null].concat(null))}return e},isAllowed:function(e){return fG.shouldAllowFullScreen()&&KeyboardShortcuts.GlobalKeyboardShortcut.prototype.isAllowed.call(this,e)},executeShortcut:function(e){if(spiff.FullscreenUtil.get_inFullscreenMode()){spiff.FullscreenUtil.exitFullscreen()}else{spiff.FullscreenUtil.requestFullscreen(document.documentElement)}},getTelemetryKey:function(){return'Toggle Full Screen'}});var fx=global.tab.ToolbarButtonProps$1=ss.mkType(a,'tab.ToolbarButtonProps$1',function(e){var gv=ss.registerGenericClassInstance(fx,[e],function(){this.viewModel=null});return gv});ss.initGenericClass(fx,1);var fy=global.tab.ToolbarButtonTemplate=ss.mkType(a,'tab.ToolbarButtonTemplate',function(){this.$2$1=null;this.$2$2=null;spiff.Template.call(this,$("<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg'></span><span class='tabToolbarButtonText'></span></div>"));this.set_image(this.getElementBySelector('.'+'tabToolbarButtonImg'));this.set_text(this.getElementBySelector('.'+'tabToolbarButtonText'))},{get_image:function(){return this.$2$1},set_image:function(e){this.$2$1=e},get_text:function(){return this.$2$2},set_text:function(e){this.$2$2=e}});var fz=global.tab.ToolbarButtonView=ss.mkType(a,'tab.ToolbarButtonView',function(e){this.$b=null;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[fA]).call(this,e,new fy);this.get_viewModel().add_clickButtonRequested(ss.mkdel(this,this.onClicked));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_clickButtonRequested(ss.mkdel(this,this.onClicked))})));this.get_viewModel().add_showButtonRequested(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_showButtonRequested(ss.mkdel(this,this.$a))})));this.get_viewModel().add_hideButtonRequested(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_hideButtonRequested(ss.mkdel(this,this.$8))})));this.$9()},{get_dom:function(){return this.get_template()},get_toolbarButton:function(){return this.$3$1},set_toolbarButton:function(e){this.$3$1=e},$9:function(){this.set_toolbarButton(new spiff.LabelButton(this.get_dom().domRoot,'.'+'tabToolbarButtonText'));this.disposables.add$1(this.get_toolbarButton());this.get_toolbarButton().add_click(ss.mkdel(this,this.onClicked));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_toolbarButton().remove_click(ss.mkdel(this,this.onClicked))})));this.element.attr('aria-label',this.get_viewModel().get_text());var e=this.get_viewModel().get_iconClass().substring(this.get_viewModel().get_iconClass().lastIndexOf('-')+1);this.element.addClass(e);if(e==='enterFullscreen'||e==='exitFullscreen'){e='toggle-fullscreen'}this.element.attr('data-tb-test-id',e+'-ToolbarButton');this.element.attr('id',e+'-ToolbarButton');this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('isActive'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('enabled'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('text'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('tooltipText'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('iconClass'));var gv={};var gw={};var gx={};this.$7(gv,gw,gx);if(gv.$||gw.$||gx.$){this.element.attr('aria-expanded',this.get_viewModel().get_sidePaneOpened().toString());this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('sidePaneOpened'));this.element.on('focus',ss.mkdel(this,function(gy){this.get_viewModel().recomputeSidePaneOpened()}))}},$7:function(e,gv,gw){e.$=tab.FeatureFlags.isEnabled('AccessibleCommentingPane')&&this.get_viewModel().get_sidePaneType()===1;gv.$=tab.FeatureFlags.isEnabled('AccessibleAlertsPanel')&&this.get_viewModel().get_sidePaneType()===2;gw.$=this.get_viewModel().get_sidePaneType()===3},onViewModelPropertyChanged:function(e,gv){switch(gv.get_propertyName()){case'isActive':{this.get_toolbarButton().element.toggleClass('tabActive',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass()+'-active',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass(),!this.get_viewModel().get_isActive());break}case'enabled':{var gw=this.get_viewModel().get_enabled();this.get_toolbarButton().set_disabled(!gw);if(!gw){this.element.attr('aria-disabled','true')}else{this.element.removeAttr('aria-disabled')}var gx='-1';if(tsConfig.is_authoring&&gw){gx='0'}this.element.attr('tabindex',gx);break}case'text':{this.get_dom().get_text().text(ss.coalesce(this.get_viewModel().get_text(),''));break}case'tooltipText':{this.get_toolbarButton().set_hoverTooltipText(ss.coalesce(this.get_viewModel().get_tooltipText(),''));break}case'iconClass':{if(ss.isValue(this.$b)){this.get_dom().get_image().removeClass(this.$b)}this.get_dom().get_image().addClass(this.get_viewModel().get_iconClass());this.$b=this.get_viewModel().get_iconClass();break}case'sidePaneOpened':{var gy={};var gz={};var gA={};this.$7(gy,gz,gA);if(gy.$||gz.$||gA.$){this.element.attr('aria-expanded',this.get_viewModel().get_sidePaneOpened().toString())}break}}},onClicked:function(){if(ss.isValue(this.get_toolbarButton())&&!ss.staticEquals(this.get_viewModel().get_buttonAction(),null)){this.get_viewModel().execute();var e={};var gv={};var gw={};this.$7(e,gv,gw);if(e.$||gv.$||gw.$){this.get_viewModel().recomputeSidePaneOpened()}}this.get_viewModel().showDialog()},$a:function(){this.get_dom().domRoot.show();this.get_viewModel().set_isHidden(false)},$8:function(){this.get_dom().domRoot.hide();this.get_viewModel().set_isHidden(true)}},{create:function(e){return new fz(e)}});var fA=global.tab.ToolbarButtonViewModel=ss.mkType(a,'tab.ToolbarButtonViewModel',function(e,gv,gw){this.$2=null;this.action=null;this.dialogContent=null;this.$7=null;this.$8=null;this.$3=null;this.$0=null;this.$1=false;this.$4=false;this.$5=false;this.$6=0;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=false;this.$2$8=false;spiff.BaseViewModel.call(this);this.$7=e;this.$3=gv;this.action=gw;this.$1=!ss.staticEquals(gw,null);if(tab.FeatureFlags.isEnabled('AccessibleCommentingPane')||tab.FeatureFlags.isEnabled('AccessibleAlertsPanel')){this.$5=false;this.$6=0}},{add_showDialogRequested:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_showDialogRequested:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_clickButtonRequested:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_clickButtonRequested:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_showButtonRequested:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_showButtonRequested:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_hideButtonRequested:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_hideButtonRequested:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_buttonAction:function(){return this.action},get_itemWrapper:function(){return this.$2$5},set_itemWrapper:function(e){this.$2$5=e},get_hintText:function(){var e=KeyboardShortcuts.KeyboardShortcutManager.FindAssociatedShortcut(this.get_itemWrapper());return(ss.isNullOrUndefined(e)?null:e.getHintText())},get_enabled:function(){return this.$1},set_enabled:function(e){if(!this.get_isSeparator()&&this.$1!==e){this.$1=e;this.notifyPropertyChanged('enabled')}},get_iconClass:function(){return this.$3},set_iconClass:function(e){if(!this.get_isSeparator()&&!(ss.compareStrings(this.$3,e,false)===0)){this.$3=e;this.notifyPropertyChanged('iconClass')}},get_iconType:function(){return this.$2$6},set_iconType:function(e){this.$2$6=e},get_isActive:function(){return this.$4},set_isActive:function(e){if(!this.get_isSeparator()&&this.$4!==e){this.$4=e;this.notifyPropertyChanged('isActive')}},get_text:function(){return this.$7},set_text:function(e){if(!this.get_isSeparator()&&!(ss.compareStrings(this.$7,e,false)===0)){this.$7=e;this.notifyPropertyChanged('text')}},get_tooltipText:function(){return this.$8},set_tooltipText:function(e){if(!this.get_isSeparator()&&!ss.referenceEquals(this.$8,e)){this.$8=e;this.notifyPropertyChanged('tooltipText')}},get_description:function(){return this.$0},set_description:function(e){if(!this.get_isSeparator()&&!ss.referenceEquals(this.$0,e)){this.$0=e;this.notifyPropertyChanged('description')}},get_sidePaneOpened:function(){return this.$5},set_sidePaneOpened:function(e){if(!this.get_isSeparator()&&this.$5!==e){this.$5=e;this.notifyPropertyChanged('sidePaneOpened')}},get_sidePaneType:function(){return this.$6},set_sidePaneType:function(e){if(!this.get_isSeparator()&&this.$6!==e){this.$6=e}},get_isSeparator:function(){return this.$2$7},set_isSeparator:function(e){this.$2$7=e},get_isHidden:function(){return this.$2$8},set_isHidden:function(e){this.$2$8=e},dispose:function(){spiff.BaseViewModel.prototype.dispose.call(this)},execute:function(){if(!ss.staticEquals(this.action,null)){this.action()}},showDialog:function(){if(ss.staticEquals(this.$2$1,null)){return}this.$2().done(ss.mkdel(this,function(e){if(!ss.staticEquals(this.$2$1,null)&&ss.isValue(e)){this.$2$1(e)}}))},clickButton:function(){this.raiseActionEvent(this.$2$2)},showButton:function(){if(this.get_isHidden()){this.raiseActionEvent(this.$2$3)}},hideButton:function(){this.raiseActionEvent(this.$2$4)},recomputeSidePaneOpened:function(){var e=tab.FeatureFlags.isEnabled('AccessibleCommentingPane')&&this.get_sidePaneType()===1;var gv=tab.FeatureFlags.isEnabled('AccessibleAlertsPanel')&&this.get_sidePaneType()===2;var gw=this.get_sidePaneType()===3;if(ss.isValue(E.get_instance().get_rightAreaDrawerViewModel())){if(e||gv||gw){this.set_sidePaneOpened(E.get_instance().get_rightAreaDrawerViewModel().get_isOpen()&&E.get_instance().get_rightAreaDrawerViewModel().get_typeOfContentBeingLoaded()===this.get_sidePaneType())}}}},{shouldShowButton:function(e,gv){if(ss.isNullOrUndefined(gv)){return false}switch(e.get_iconRes()){case'ask-data':{return tsConfig.showAskData&&tsConfig.has_nlp_permitted_datasources}case'share':{return tsConfig.showShareOptions}case'edit':{return tsConfig.allow_authoring&&!tsConfig.previewMode&&!tsConfig.isPublic&&!tsConfig.is_mobile_app&&!gv.get_useSmallScreenToolbar()}case'customviews':{return tsConfig.allow_custom_views&&!gv.get_forceHideCustomViewsButton()}case'subscribe':{return tsConfig.allow_subscriptions&&tsConfig.workbook_allow_subscriptions}case'download':{return!tsConfig.previewMode}case'alert':{if(tab.FeatureFlags.isEnabled('AlertSidePanel')&&!tsConfig.is_mobile_app){return tsConfig.allow_view_data_alerts}else{return tsConfig.allow_data_alert}}case'lineage':{return tsConfig.allow_cataloging&&tsConfig.current_sheet_type!=='story'}case'public-logo':{return tsConfig.isPublic}case'metrics':{return tsConfig.allow_metrics_button&&!gv.get_useSmallScreenToolbar()}default:{return true}}},createSeparator:function(){var e=new fA(null,'tabAuthToolbarSeparator',null);e.set_isSeparator(true);return e},createFromCommandItemWithLogging:function(e,gv,gw,gx){var gy=fA.createFromCommandItem(e,gv,gw,gx);gy.action=ss.delegateCombine(gy.action,function(){fD.logButtonSelectionEvent(gy.get_iconType())});return gy},createFromCommandItem:function(e,gv,gw,gx){tab.Param.verifyValue(e,'commandItem');var gy=tab.CommandItemWrapper.create(e);var gz=new fA(gy.get_name(),gv+gy.get_iconRes(),null);gz.$1=ss.isNullOrUndefined(gy.get_enabled())||gy.get_enabled();gz.set_iconType(gy.get_iconRes());gz.set_description(gy.get_descriptionText());gz.set_itemWrapper(gy);var gA=gz;gA.$2=function(){return fA.fetchDialogContent(gw,gA)};var gB=tab.CommandSerializer.deserialize(gy.get_command(),false);if(gA.get_iconType()==='edit'&&!tab.FeatureFlags.isEnabled('KillMobileAuthoring')){gA.action=tab.ToolbarServerCommands.launchEditing}else if(gA.get_iconType()==='alert'){gA.action=function(){bD.handleDataAlertClick(gy.get_descriptionText())}}else if(ss.isValue(gB)){gA.action=ss.mkdel(this,function(){var gC={ns:gB.commandNamespace,cmd:gB.commandName};gA.set_isActive(true);if(tab.WebCommandRegistry.get_instance().hasCommand(gC)){var gD=tab.WebCommandRegistry.get_instance().createCommandWithParams(gC,gB.commandParams);gD.invoke();gA.set_isActive(false)}else{tab.ServerCommands.executeServerCommand(gB,'immediately',function(gE){gA.set_isActive(false);if(!ss.staticEquals(gx,null)){gx()}},function(gE){gA.set_isActive(false);if(!ss.staticEquals(gx,null)){gx()}})}})}return gA},fetchDialogContent:function(e,gv){var gw=$.Deferred();switch(gv.get_iconType()){case'ask-data':{dO.render();break}case'download':{tab.ModuleManager.load$1(tab.IDownloadDialogModule).call(null,[]).done(function(gy){gv.dialogContent=gv.dialogContent||gy.buildDialogContent(fG.focusToolbar);gw.resolve(gv.dialogContent)});break}case'share':{if(!tsConfig.isPublic&&tab.FeatureFlags.isEnabled('NewShareDialog')){tab.ModuleManager.load$1(tab.IShareDialogFactory).call(null,[]).done(function(gy){gv.dialogContent=gy.buildDialogContent(fG.focusToolbar);gw.resolve(gv.dialogContent)})}else{gv.dialogContent=gv.dialogContent||fA.$0(gv.get_iconType(),e);gw.resolve(gv.dialogContent)}break}case'customviews':{if(ss.isNullOrUndefined(gv.dialogContent)){var gx=e.get_customViewsViewModel();gv.dialogContent=gx;tab.ModuleManager.load('custom-views',[]).done(function(gy){window.setTimeout(function(){gw.resolve(gv.dialogContent)},0)})}else{gw.resolve(gv.dialogContent)}break}default:{gv.dialogContent=gv.dialogContent||fA.$0(gv.get_iconType(),e);gw.resolve(gv.dialogContent);break}}return gw.promise()},$0:function(e,gv){switch(e){case'share':{return new eV}case'customviews':{return(ss.isNullOrUndefined(gv)?null:gv.get_customViewsViewModel())}case'subscribe':{return new fm}case'public-logo':{return new ej}default:{return null}}}});var fB=global.tab.ToolbarDropdownButtonViewModel=ss.mkType(a,'tab.ToolbarDropdownButtonViewModel',function(e,gv,gw){this.$9=null;fA.call(this,e,gv,null);tab.Param.verifyValue(gw,'menuBuilder');this.$9=gw;this.set_enabled(this.createMenu().menuItems.some(function(gx){return gx.enabled}))},{createMenu:function(){return this.$9(null)},execute:function(){},dropdownClicked:function(e,gv){var gw=this.createMenu();if(!gw.menuItems.some(function(gA){return gA.enabled})){return null}var gx=spiff.MenuViewModel.createForMenu(gw,ss.mkdel(this,function(gA){this.raiseActionEvent$1(spiff.MenuItem).call(this,gv,gA);gm.commandMenuItemClicked(gA)}),ss.mkdel(this,function(){this.set_isActive(false)}),null);var gy=new spiff.ShowMenuOptions(e,true);gy.additionalMenuClass='tabToolbarDropdownMenu '+this.get_iconClass()+'ContextMenu';var gz=gy;gx.show(gz);this.set_isActive(true);return gx}});var fC=global.tab.ToolbarDropdownMenuViewModel=ss.mkType(a,'tab.ToolbarDropdownMenuViewModel',function(e,gv,gw){this.$c=null;this.$b=null;this.$3$1=null;this.$3$2=null;fA.call(this,e,gv,null);tab.Param.verifyValue(gw,'menuBuilder');this.$c=gw;this.$b=this.createMenu();this.set_enabled(this.$b.menuItems.some(function(gB){return gB.enabled}));if(this.get_enabled()){var gx=0;var gy=0;for(var gz=0;gz<this.$b.menuItems.length;gz++){var gA=this.$b.menuItems[gz];if(gA.checkState!==0){gx=gy;break}gy++}gy=0;this.$9({dropdownType:0,menuItemInfos:_.map(this.$b.menuItems,ss.mkdel(this,function(gB){return{displayValue:gB.name,disabled:!gB.enabled,value:(gy++).toString()}})),containerStyle:{width:'97px'},selectedValue:gx.toString(),onSelect:ss.mkdel(this,this.$a),testId:'FitDropdown'})}},{add_propsUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_propsUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},get_props:function(){return this.$3$2},$9:function(e){this.$3$2=e},createMenu:function(){return this.$c(null)},$a:function(e){if(ss.compare(e,this.get_props().selectedValue)!==0){this.get_props().selectedValue=e;this.raiseActionEvent(this.$3$1);var gv=parseInt(e);var gw=this.$b.menuItems[gv];spiff.MenuViewModel.handleMenuActionItemClicked(gw)}}});var fD=global.tab.ToolbarTelemetry=ss.mkType(a,'tab.ToolbarTelemetry',null,null,{logButtonSelectionEvent:function(e){tab.OnlineAnalyticsClient.logEvent(fD.toolbarButtonSelectLogEventName,ss.mkdict([fD.buttonNamePropertyName,e,fD.paneToggleStatePropertyName,fD.$0(E.get_instance().get_rightAreaDrawerViewModel().get_isOpen()),fD.isFullscreenPropertyName,spiff.FullscreenUtil.get_inFullscreenMode(),fD.isMobileDevicePropertyName,tsConfig.is_mobile]))},logPaneToggleButtonSelectionEvent:function(e,gv){tab.OnlineAnalyticsClient.logEvent(fD.toolbarButtonSelectLogEventName,ss.mkdict([fD.buttonNamePropertyName,e,fD.paneToggleStatePropertyName,fD.$1(gv),fD.isFullscreenPropertyName,spiff.FullscreenUtil.get_inFullscreenMode(),fD.isMobileDevicePropertyName,tsConfig.is_mobile]))},$0:function(e){return(e?fD.paneOpen:fD.paneClose)},$1:function(e){switch(e){case 0:{return fD.paneOpen}case 1:{return fD.paneClose}case 2:{return fD.paneReplace}default:{return''}}}});var fE=global.tab.ToolbarTemplate=ss.mkType(a,'tab.ToolbarTemplate',function(){this.toolbar=null;this.leftItems=null;this.rightItems=null;spiff.Template.call(this,$((tsConfig.isPublic?"\n            <div class='tab-toolbar public tab-fill'>\n                <div class='tab-vizItems tab-fill-left'></div>\n                <div class='tab-nonVizItems tab-fill-right'></div>\n            </div>":"\n            <div class='tab-toolbar tab-fill' data-tb-test-id='toolbar'>\n                <div class='tab-vizItems tab-fill-left'></div>\n                <div class='tab-nonVizItems tab-fill-right'></div>\n            </div>")));this.toolbar=this.domRoot;this.leftItems=this.getElementBySelector('.tab-vizItems');this.rightItems=this.getElementBySelector('.tab-nonVizItems')});var fF=global.tab.ToolbarToggleButtonViewModel=ss.mkType(a,'tab.ToolbarToggleButtonViewModel',function(e,gv,gw,gx,gy){this.$9=null;fA.call(this,e,gw,gx);this.$9=gy;this.set_iconType(gv)},{get_toggleToText:function(){return this.$9},set_toggleToText:function(e){this.$9=e}},{createFromCommandItemsWithLogging:function(e,gv,gw,gx){var gy=fF.$1(e,gv);if(ss.isNullOrUndefined(gy)){return null}var gz=fA.createFromCommandItemWithLogging(gy['active'].get_item(),gw,null,gx);return fF.$0(gz,gy['inactive'])},createFromCommandItems:function(e,gv,gw,gx){var gy=fF.$1(e,gv);if(ss.isNullOrUndefined(gy)){return null}var gz=fA.createFromCommandItem(gy['active'].get_item(),gw,null,gx);return fF.$0(gz,gy['inactive'])},$1:function(e,gv){var gw=tab.CommandItemWrapper.create(e);var gx=tab.CommandItemWrapper.create(gv);var gy={};if(!ss.isValue(gw.get_enabled())||gw.get_enabled()){gy['active']=gw;gy['inactive']=gx}else if(!ss.isValue(gx.get_enabled())||gx.get_enabled()){gy['active']=gx;gy['inactive']=gw}else{return null}return gy},$0:function(e,gv){var gw=new fF(e.get_text(),e.get_iconType(),e.get_iconClass(),e.get_buttonAction(),gv.get_name());gw.disposables.add$1(e);gw.set_enabled(ss.isValue(gv)&&!gv.get_enabled());if(gw.get_enabled()){return gw}return null}});var fG=global.tab.ToolbarView=ss.mkType(a,'tab.ToolbarView',function(e){this.$R=['alert','lineage','metrics','discover','data-monitoring'];this.$S=null;this.$U=0;this.$T=0;this.$O=0;this.$N=0;this.$L=0;this.$Q=0;this.$M=null;this.$P=[];this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;ss.makeGenericType(spiff.BaseView$1,[fH]).call(this,e,new fE);this.$S=e;this.$S.add_newToolbar(ss.mkdel(this,this.$w));eO.get_instance().add_fontPreparationComplete(ss.mkdel(this,this.$p));spiff.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$o));this.$x();this.disposables.add(ss.mkdel(this,function(){this.$S.remove_newToolbar(ss.mkdel(this,this.$w));eO.get_instance().remove_fontPreparationComplete(ss.mkdel(this,this.$p));spiff.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$o))}));this.element.on('keydown',ss.mkdel(this,this.$v));this.element.attr('role','toolbar');this.element.attr('tabindex','-1');this.element.on('focus',ss.mkdel(this,this.$u));if(tsConfig.allow_custom_views){this.$z()}var gv=_.throttle(ss.mkdel(this,this.$p),50);this.disposables.add$1(spiff.EventUtil.bindWithDispose($(window),'resize',function(gw){gv()}))},{get_dom:function(){return this.get_template()},$B:function(){return this.$3$1},$C:function(e){this.$3$1=e},$I:function(){return this.$3$2},$J:function(e){this.$3$2=e},$E:function(){return this.$3$3},$F:function(e){this.$3$3=e},$G:function(){return this.$3$4},$H:function(e){this.$3$4=e},$D:function(){return this.$S.get_customViewsViewModel()},$K:function(e){this.get_dom().leftItems.toggleClass('narrow',e)},$u:function(e){this.element.find('.tabToolbarButton'+"[tabIndex='0']").focus()},getCurrentFocusedButtonId:function(){return this.$M},$A:function(){var e=this.get_dom().toolbar.width();var gv=this.get_dom().leftItems;var gw=this.get_dom().rightItems;this.$K(false);fG.$2(this.$I());for(var gx=0;gx<this.$P.length;gx++){var gy=this.$P[gx];fG.$2(gy)}if(spiff.FullscreenUtil.get_inFullscreenMode()||tsConfig.isPublic){fG.$0(gv);fG.$0(gw);this.$r(e);return}if(this.$b(e,this.$U,this.$O)){fG.$3(gv);fG.$3(gw)}else if(this.$b(e,this.$T,this.$O)){fG.$0(gv);fG.$3(gw)}else if(this.$b(e,this.$U,this.$N)){fG.$3(gv);fG.$0(gw)}else{fG.$0(gv);fG.$0(gw);this.$q(e)}},$r:function(e){var gv=this.$T;var gw=this.$N;if(ss.isValue(this.$G())){if(!this.$b(e,gv,gw)){this.$K(true);gv-=this.$Q-this.$L}}if(ss.isValue(this.$I())){if(!this.$b(e,gv,gw)){this.$I().element.hide();gv-=this.$L}}if(ss.isValue(this.$E())){if(!this.$b(e,gv,gw)){this.$E().element.hide()}}},$q:function(e){var gv=this.$T;var gw=this.$N;if(ss.isValue(this.$I())){if(!this.$b(e,gv,gw)){this.$I().element.hide();gv-=this.$L}}var gx=this.$n(e,gv,gw);var gy=this.$P.slice(0,gx);for(var gz=0;gz<gy.length;gz++){var gA=gy[gz];gA.element.hide()}},$n:function(e,gv,gw){if(gv+gw<=e||this.$L===0){return 0}var gx=e-(gv+this.$L);var gy=ss.trunc(gx/this.$L);return((gy>=this.$P.length)?0:(this.$P.length-gy))},$w:function(){this.rebuildVizItems();this.rebuildNonVizItems();this.setUpTabIndex();this.$s()},setUpTabIndex:function(){var e=this.element.find('.tabToolbarButton'+':not(.disabled):focusable');if(e.length>0){var gv=this.$l();if(ss.isValue(gv)&&ss.contains(e.get(),gv)){gv.setAttribute('tabindex','0')}else{var gw=e.first().attr('tabindex','0');this.$M=gw[0].getAttribute('id')}}else{this.element.find('.tabToolbarButton'+':not(.disabled)').first().attr('tabindex','0')}},$l:function(){return this.element[0].querySelector('#'+this.$M)},rebuildVizItems:function(){this.get_dom().leftItems.empty();if(tsConfig.isPublic){this.$9(this.get_dom().leftItems)}else{this.$a(this.get_dom().leftItems)}},$9:function(e){var gv=new fA(tab.Strings.ToolbarGoToTableauPublic,'tab-icon-public-logo',ss.mkdel(this,function(){fD.logButtonSelectionEvent('GoToVizhome');window.open(this.$S.get_vizhomeLink(),'_blank')}));this.$H(fz.create(gv));e.append(this.$G().element)},$a:function(e){this.$J(null);var gv=ss.getEnumerator(this.$S.get_vizItems());try{while(gv.moveNext()){var gw=gv.current();var gx=fz.create(gw);e.append(gx.element);if(ss.equalsT('redo',gw.get_iconType())){this.$J(gx)}}}finally{gv.dispose()}if(tsConfig.is_metrics_enabled){var gy=new fA(tab.Strings.ToolbarShowPerformanceRecording,'tab-icon-performance',ss.mkdel(this.$S,this.$S.showPerformanceMetrics));var gz=fz.create(gy);e.append(gz.element)}},rebuildNonVizItems:function(){this.get_dom().rightItems.empty();if(tsConfig.isPublic){this.$a(this.get_dom().rightItems);this.$8(this.get_dom().rightItems)}else{this.$8(this.get_dom().rightItems)}},$7:function(e){this.$C(null);var gv=ss.getEnumerator(this.$S.get_nonVizItems());try{while(gv.moveNext()){var gw=gv.current();var gx=fz.create(gw);if(!ss.equalsT('public-logo',gw.get_iconType())&&!_.contains(this.$R,gw.get_iconType())){e.append(gx.element)}if(ss.equalsT('customviews',gw.get_iconType())){gx.get_dom().get_text().css('max-width','160px');this.$C(gx);this.$P.push(gx)}else if(ss.equalsT('alert',gw.get_iconType())){this.$k(e,gx)}else if(ss.equalsT('metrics',gw.get_iconType())){this.$j(e)}else if(ss.equalsT('lineage',gw.get_iconType())){this.$i(e)}else if(ss.equalsT('discover',gw.get_iconType())){this.$g(e)}else if(ss.equalsT('data-monitoring',gw.get_iconType())){this.$e(e)}else{this.$P.push(gx)}}}finally{gv.dispose()}},$8:function(e){if(!spiff.FullscreenUtil.get_inFullscreenMode()){this.$7(e)}if(this.get_viewModel().get_shouldShowCommenting()){this.$d(e)}if(ss.isValue(this.$S.get_deviceLayoutItem())&&!spiff.FullscreenUtil.get_inFullscreenMode()){this.$f(e)}if(fG.shouldAllowFullScreen()){this.$h(e)}this.updateCustomViewsButton(false)},$k:function(e,gv){if(tab.FeatureFlags.isEnabled('AlertSidePanel')){this.$c(e)}else{e.append(gv.element);this.$P.push(gv)}},$o:function(){this.$y();this.$w();fG.focusToolbar()},$i:function(e){var gv=fz.create(this.get_viewModel().get_dataDetailsButtonHelper().get_buttonViewModel());e.append(gv.element);this.disposables.add$1(gv)},$g:function(e){var gv=function(){var gz=E.get_instance().get_rightAreaDrawerViewModel();gz.toggleRelatedViewRecommendationsPanel(fG.focusToolbar)};var gw=new fA(tab.Strings.DiscoverToolbarButtonLabel,'tab-icon-share',gv);gw.set_sidePaneType(5);var gx=gw;var gy=fz.create(gx);e.append(gy.element);this.$P.push(gy);this.disposables.add$1(new tab.CallOnDispose(function(){tab.MiscUtil.dispose$1(gy)}))},$e:function(e){var gv=function(){var gz=E.get_instance().get_rightAreaDrawerViewModel();gz.toggleDataMonitoringPanel(fG.focusToolbar)};var gw=new fA(tab.Strings.DataMonitoringToolbarButtonLabel,'tab-icon-commenting',gv);gw.set_sidePaneType(6);var gx=gw;var gy=fz.create(gx);e.append(gy.element);this.$P.push(gy);this.disposables.add$1(new tab.CallOnDispose(function(){tab.MiscUtil.dispose$1(gy)}))},$d:function(e){var gv=function(){var gy=E.get_instance().get_rightAreaDrawerViewModel();fD.logPaneToggleButtonSelectionEvent('commenting',gy.getToggleType(tab.ICommentingModuleViewModel).call(gy,1));gy.toggleCommenting(fG.focusToolbar)};var gw=new fA(tab.Strings.CommentingToolbarButtonLabel,'tab-icon-commenting',gv);if(tab.FeatureFlags.isEnabled('AccessibleCommentingPane')){gw.set_sidePaneType(1)}var gx=fz.create(gw);e.append(gx.element);this.$P.push(gx);this.disposables.add$1(new tab.CallOnDispose(function(){tab.MiscUtil.dispose$1(gx)}))},$c:function(e){var gv=function(){var gy=E.get_instance().get_rightAreaDrawerViewModel();fD.logPaneToggleButtonSelectionEvent('alert',gy.getToggleType(tab.IDataAlertsPanelModuleViewModel).call(gy,2));gy.toggleDataAlertsPanel(fG.focusToolbar)};var gw=new fA(tab.Strings.DataAlertToolbarButtonLabel,'tab-icon-alert',gv);if(tab.FeatureFlags.isEnabled('AccessibleAlertsPanel')){gw.set_sidePaneType(2)}var gx=fz.create(gw);e.append(gx.element);this.$P.push(gx);this.disposables.add$1(new tab.CallOnDispose(function(){tab.MiscUtil.dispose$1(gx)}))},$j:function(e){var gv=function(){var gy=E.get_instance().get_rightAreaDrawerViewModel();fD.logPaneToggleButtonSelectionEvent('metrics',gy.getToggleType(dI).call(gy,4));gy.togglePanel(dI).call(gy,4)};var gw=new fA(tab.Strings.MetricsToolbarButtonLabel,'tab-icon-metrics',gv);var gx=fz.create(gw);e.append(gx.element);this.$P.push(gx);this.disposables.add$1(new tab.CallOnDispose(function(){tab.MiscUtil.dispose$1(gx)}))},$f:function(e){var gv=fz.create(this.$S.get_deviceLayoutItem());e.append(gv.element);this.disposables.add$1(new tab.CallOnDispose(function(){tab.MiscUtil.dispose$1(gv)}))},$h:function(e){var gv=(spiff.FullscreenUtil.get_inFullscreenMode()?new fA(tab.Strings.ToolbarExitFullscreen,'tab-icon-exitFullscreen',function(){fD.logButtonSelectionEvent('exitFullscreen');spiff.FullscreenUtil.exitFullscreen()}):new fA(tab.Strings.ToolbarEnterFullscreen,'tab-icon-enterFullscreen',function(){fD.logButtonSelectionEvent('enterFullscreen');spiff.FullscreenUtil.requestFullscreen(document.documentElement)}));this.$F(fz.create(gv));e.append(this.$E().element);this.$P.push(this.$E())},updateCustomViewsButton:function(e){if(ss.isNullOrUndefined(this.$B())){return}var gv=this.$D().get_currentCustomViewName();if(!e&&ss.isNullOrUndefined(gv)){this.$B().element.css('visibility','hidden')}else{this.$B().element.css('visibility','');this.$B().element.toggleClass('tab-customviews-modified',this.$D().get_dirty());var gw=tab.Strings.ToolbarCustomViewsTemplate(gv);if(!ss.equalsT(this.$B().get_toolbarButton().get_label(),gw)){this.$B().get_toolbarButton().set_label(gw)}}},$m:function(e){return ss.mkdel(this,function(gv,gw){this.updateCustomViewsButton(e);this.$s()})},$z:function(){var e=this.$m(false);var gv=this.$m(true);this.$D().add_dirtyChanged(e);this.$D().add_customViewListChanged(gv);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$D().remove_dirtyChanged(e);this.$D().remove_customViewListChanged(gv)})))},$s:function(){if(tsConfig.is_mobile){this.get_dom().toolbar.css('left','-10000px')}this.get_dom().toolbar.width('10000px');fG.$1(this.get_dom().rightItems);this.$K(false);fG.$2(this.$I());for(var e=0;e<this.$P.length;e++){var gv=this.$P[e];fG.$2(gv)}if(this.$L===0){fG.$0(this.get_dom().leftItems);fG.$0(this.get_dom().rightItems);this.$T=this.get_dom().leftItems.outerWidth(true);this.$N=this.get_dom().rightItems.outerWidth(true);this.$L=ss.coalesce(ss.trunc(this.get_dom().rightItems.children().last().outerWidth(true)),0);if(ss.isValue(this.$G())){this.$Q=this.$G().element.outerWidth(true)}}fG.$3(this.get_dom().leftItems);fG.$3(this.get_dom().rightItems);this.$U=this.get_dom().leftItems.outerWidth(true);this.$O=this.get_dom().rightItems.outerWidth(true);this.get_dom().toolbar.width('');if(tsConfig.is_mobile){this.get_dom().toolbar.css('left','')}this.$p()},$y:function(){this.$U=0;this.$T=0;this.$O=0;this.$N=0;this.$L=0},forceResizeToolbar:function(){this.$p()},$p:function(){{var e=tabBootstrap.MetricsController.createContext('TBRHRE'.toString(),64,null);try{var gv=this.get_dom().leftItems;var gw=this.get_dom().rightItems;if(gv.children().length===0&&gw.children().length===0){return}fG.$1(gw);this.$A()}finally{if(ss.isValue(e)){e.dispose()}}}},$v:function(e){switch(e.which){case 37:{this.$t(-1);break}case 39:{this.$t(1);break}default:{return}}e.preventDefault();e.stopPropagation()},$t:function(e){var gv=this.element.find('.tabToolbarButton'+':not(.disabled):focusable');var gw=this.$l();if(ss.isValue(gw)){gw.setAttribute('tabindex','-1');var gx=gv.index(gw);var gy=gv.eq(ss.imod(gx+e,gv.length));gy.attr('tabindex','0');gy.focus();this.$M=gy[0].id}},$b:function(e,gv,gw){return!(gv+gw>=e)},$x:function(){KeyboardShortcuts.KeyboardShortcutManager.RegisterShortcut(fG.$e);KeyboardShortcuts.KeyboardShortcutManager.RegisterShortcut(fG.$9);KeyboardShortcuts.KeyboardShortcutManager.RegisterShortcut(fG.$b);this.disposables.add(function(){KeyboardShortcuts.KeyboardShortcutManager.UnregisterShortcut(fG.$e);KeyboardShortcuts.KeyboardShortcutManager.UnregisterShortcut(fG.$9);KeyboardShortcuts.KeyboardShortcutManager.UnregisterShortcut(fG.$b)})}},{focusToolbar:function(){var e=document.getElementsByClassName('tab-toolbar');if(e.length!==0){e[0].focus()}},$2:function(e){if(ss.isValue(e)){e.element.show()}},shouldAllowFullScreen:function(){return spiff.FullscreenUtil.get_fullscreenEnabled()&&!tsConfig.is_mobile},$1:function(e){e.children('.tabToolbarButton').css('width','')},$0:function(e){e.addClass('hideLabels');e.removeClass('showLabels');e.find('.tabToolbarButton').each(function(gv,gw){var gx=$(gw);var gy=gx.find('.tabToolbarButtonText').text();gx.attr('title',gy);gx.removeAttr('aria-label')})},$3:function(e){e.addClass('showLabels');e.removeClass('hideLabels');e.find('.tabToolbarButton').each(function(gv,gw){gw.removeAttribute('title');var gx=$(gw);var gy=gx.find('.tabToolbarButtonText').text();gx.attr('aria-label',gy)})}});var fH=global.tab.ToolbarViewModel=ss.mkType(a,'tab.ToolbarViewModel',function(e,gv){this.$b=null;this.$c=[];this.$a=[];this.$7=new br;this.$8=null;this.$9=false;this.$2$1=null;this.$2$2=false;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$b=e;if(!tsConfig.allow_custom_view_save){this.$9=true;this.$7.add_customViewListChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$7.remove_customViewListChanged(ss.mkdel(this,this.$5))})))}tab.ApplicationModel.get_instance().registerNotificationHandler('doc:export-power-point-options-dialog-close-notification-event',function(gx,gy){fG.focusToolbar()});if(tab.FeatureFlags.isEnabled('ExportCrosstabOptionsDialog')){tab.ApplicationModel.get_instance().registerNotificationHandler('doc:export-crosstab-options-dialog-close-notification-event',function(gx,gy){fG.focusToolbar()})}this.set_dialogHostViewModel(new cf);this.$8=gv;this.$8.add_newLayouts(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8.remove_newLayouts(ss.mkdel(this,this.$6))})));if(ss.isValue(this.$8.get_deviceLayouts())){this.$6()}if(ss.isValue(this.$b.get_vizCommandItems())){this.$4(null)}var gw=ss.mkdel(this,function(){this.$4(null)});this.$b.add_newToolbar(gw);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.$4));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$b.remove_newToolbar(gw);tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$4));tab.ApplicationModel.get_instance().unRegisterNotificationHandler('doc:export-power-point-options-dialog-close-notification-event',null);if(tab.FeatureFlags.isEnabled('ExportCrosstabOptionsDialog')){tab.ApplicationModel.get_instance().unRegisterNotificationHandler('doc:export-crosstab-options-dialog-close-notification-event',null)}})));if(tab.FeatureFlags.isEnabled('ShowLineageButton')&&tsConfig.allow_cataloging&&tsConfig.toolbarContainerVis){this.set_dataDetailsButtonHelper(new bO(fG.focusToolbar));tab.OnlineAnalyticsClient.logEvent('DataDetails',ss.mkdict(['Message','Display']))}},{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shouldShowCommenting:function(){return this.$2$2},set_shouldShowCommenting:function(e){this.$2$2=e},get_vizCommandItems:function(){return this.$b.get_vizCommandItems()},get_nonVizCommandItems:function(){return this.$b.get_nonVizCommandItems()},get_vizItems:function(){return this.$c},get_nonVizItems:function(){return this.$a},get_deviceLayoutItem:function(){return this.$2$3},set_deviceLayoutItem:function(e){this.$2$3=e},get_customViewsViewModel:function(){return this.$7},get_dialogHostViewModel:function(){return this.$2$4},set_dialogHostViewModel:function(e){this.$2$4=e},get_forceHideCustomViewsButton:function(){return this.$9},get_vizhomeLink:function(){return tabBootstrap.ViewerBootstrap.get_instance().location.toString().split('?')[0]+'?:showVizHome=yes&:toolbarRedirect=yes'},get_useSmallScreenToolbar:function(){var e=window.screen;return e.width<430||e.height<430},get_dataDetailsButtonHelper:function(){return this.$2$5},set_dataDetailsButtonHelper:function(e){this.$2$5=e},dispose:function(){this.$7.dispose();this.get_dialogHostViewModel().dispose();this.$3();spiff.BaseViewModel.prototype.dispose.call(this)},$2:function(e,gv,gw){for(var gx=0;gx<e.length;gx++){var gy=e[gx];var gz=tab.CommandItemWrapper.create(gy);tab.Param.verifyValue(gy,'commandItem');switch(gz.get_commandsType()){case'separator':{gv.push(fA.createSeparator());break}case'item':{if(fA.shouldShowButton(gz,this)){this.$0(gy,gv,gw)}break}case'subcommands':{if(gz.get_iconRes()==='toggle-updates'){var gA={$:this.$1(tab.CommandsPresModelWrapper.create(gz.get_commands()).get_commandItems(),gv,gw)};var gB={$:tab.ApplicationModel.get_instance().get_workbook()};gB.$.withDashboard(ss.mkdel({workbook:gB,button:gA},function(){if(this.workbook.$.get_isCurrentSheetStoryboard()){this.button.$.set_enabled(false)}}))}break}}}},$3:function(){for(var e=0;e<this.$c.length;e++){var gv=this.$c[e];gv.dispose()}ss.clear(this.$c);for(var gw=0;gw<this.$a.length;gw++){var gx=this.$a[gw];gx.dispose()}ss.clear(this.$a)},$5:function(e,gv){if(this.$9&&this.$7.get_hasCustomViews()){this.$9=false;this.$4(null)}},$6:function(){this.set_deviceLayoutItem(cb.buildViewModel(this.$8.get_deviceLayouts(),this.$8.get_autoGeneratedDeviceLayouts(),this.get_dialogHostViewModel()))},$0:function(e,gv,gw){var gx=fA.createFromCommandItemWithLogging(e,'tab-icon-',this,gw);var gy=this.get_dialogHostViewModel();gx.add_showDialogRequested(ss.mkdel(gy,gy.show));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var gz=this.get_dialogHostViewModel();gx.remove_showDialogRequested(ss.mkdel(gz,gz.show))})));if(gx.get_itemWrapper().get_isVisible()){gv.push(gx)}},$1:function(e,gv,gw){if(e.length!==2){return null}var gx=fF.createFromCommandItemsWithLogging(e[0],e[1],'tab-icon-',gw);if(ss.isValue(gx)){gv.push(gx)}return gx},$4:function(e){{var gv=tabBootstrap.MetricsController.createContext('TBRHNT'.toString(),64,null);try{this.$3();if(tsConfig.toolbarvis){this.$2(this.$b.get_vizCommandItems(),this.$c,fG.focusToolbar)}this.$2(this.$b.get_nonVizCommandItems(),this.$a,null);this.raiseActionEvent(this.$2$1)}finally{if(ss.isValue(gv)){gv.dispose()}}}},showPerformanceMetrics:function(){tab.CommandController.get().legacySession.saveAndOpenMetricsView()},showDialog:function(e){var gv=ss.getEnumerator(this.get_nonVizItems());try{while(gv.moveNext()){var gw=gv.current();if(ss.equalsT(e,gw.get_iconType())){if(e==='alert'){gw.execute()}else{gw.showDialog()}}}}finally{gv.dispose()}}},{get_toolbarHeight:function(){return tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()}});var fI=global.tab.Tooltip=ss.mkType(a,'tab.Tooltip',function(e){this.tupleId=null;this.$g=null;this.$k=[];this.$i=false;this.$m=null;this.$l=false;this.$q=16;this.$h=16;this.$j=null;this.$p=null;this.$o=false;this.$n=false;this.$f=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=false;spiff.Widget.call(this,(e||fI.$0()).domRoot);this.$g=e||fI.$0();this.$l=tsConfig.is_mobile;if(!tsConfig.is_mobile){$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.$p=null}))}},{add_closed:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_closed:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_prePosition:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_prePosition:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_positionCalculated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_positionCalculated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_showed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_showed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_positioned:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_positioned:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_isShown:function(){return this.$i},get_body:function(){return this.$g.get_body()},get_location:function(){return this.$m},set_location:function(e){this.move(e)},get_horizontalOffset:function(){return this.$h},set_horizontalOffset:function(e){this.$h=e},get_verticalOffset:function(){return this.$q},set_verticalOffset:function(e){this.$q=e},get_lastLocation:function(){return this.$j},set_lastLocation:function(e){this.$j=e},get_calculatedShownArgs:function(){return this.$f},get_showAbove:function(){return this.$l},set_showAbove:function(e){this.$l=e},get_freezePositionWhileOpen:function(){return this.$2$6},set_freezePositionWhileOpen:function(e){this.$2$6=e},setTooltipBodyAndReposition:function(e,gv){this.requestLayout(ss.mkdel(this,function(){if(!ss.staticEquals(gv,null)){gv()}this.get_body().empty().append(e)}),false)},allowMouseEventPassthrough:function(e){this.element.toggleClass('tab-allowMouseEventPassthrough',e)},isInSafeZone:function(e,gv){var gw=this.element.position();var gx=tab.DoubleUtil.roundToInt(this.element.outerWidth());var gy=tab.DoubleUtil.roundToInt(this.element.outerHeight());var gz=10;var gA=10;if(gv){gz+=this.get_horizontalOffset();gA+=this.get_verticalOffset()}return e.x>=gw.left-gz&&e.x<=gw.left+gx+gz&&e.y>=gw.top-gA&&e.y<=gw.top+gy+gA},show:function(e,gv){if(ss.isNullOrUndefined(gv)||this.$o){this.close();return}this.set_lastLocation(gv);this.ensureAttachedAndSized();this.$n=true;if(this.get_isShown()){this.setTooltipBodyAndReposition(e,null)}else{this.get_body().empty().append(e);this.requestLayout(null,false)}},move:function(e){if(!this.$i||ss.isNullOrUndefined(e)||ss.isValue(this.$m)&&this.$m.x===e.x&&this.$m.y===e.y){return}this.$j=e;this.requestLayout(null,false)},close:function(){this.set_freezePositionWhileOpen(false);this.$n=false;this.detach();this.$i=false;this.onClosed()},hideUntilReposition:function(){this.element.hide();this.$n=true},dispose:function(){this.close();if(!tsConfig.is_mobile){$(window).off(this.createNamespacedEventName('resize'))}spiff.Widget.prototype.dispose.call(this)},forceLayout:function(){this.$f=null;this.set_freezePositionWhileOpen(false);this.requestLayout(null,false)},requestLayout:function(e,gv){if(!ss.staticEquals(e,null)){this.$k.push(e)}P.getViewport(ss.mkdel(this,function(gw){this.layoutTooltip(gw,gv)}))},onShowed:function(){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},onPrePosition:function(){if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},onPositionCalculated:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},onPositioned:function(){if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}},onClosed:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}},ensureAttachedAndSized:function(){if(!this.element.parent().is(document.body)){this.element.appendTo(document.body)}},$b:function(){if(tab.DomUtil.nodeHasTextSelection(this.element.get(0))){window.getSelection().removeAllRanges()}},detach:function(){this.$b();this.element.hide();this.element.detach();this.element.off(this.get_eventNamespace());this.element.find('*').off(this.get_eventNamespace()).removeClass('hover')},$4:function(e,gv){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(gv)){return null}this.$m=e;var gw=ss.isValue(this.$p)&&e.y>=ss.unbox(this.$p)-16;var gx=tab.DoubleUtil.roundToInt(this.element.height());var gy=tab.DoubleUtil.roundToInt(this.element.width());var gz=gv.getVisibleRoom(e,1);var gA=gx+this.get_verticalOffset();var gB=gy+this.get_horizontalOffset();var gC;var gD;if(gz.roomRight>=gB){gC=true;gD=e.x+this.get_horizontalOffset()}else if(gz.roomLeft>=gB){gC=false;if(gz.roomAbove>=gA||gz.roomBelow>=gA){gD=e.x+ss.trunc(gz.roomRight)-gy}else{gD=e.x-gB}}else{gC=true;gD=Math.max(0,e.x-gy+ss.trunc(gz.roomRight))}var gE=(this.get_showAbove()?this.$5(e,gz,gA,gB):this.$6(e,gz,gA,gB,gw));var gF=gE<=e.y;var gG=new fb;if(gF){if(gC){gG.position='AR'}else{gG.position='AL'}}else if(gC){gG.position='BR'}else{gG.position='BL'}gG.shownX=gD;gG.shownY=gE;gG.tooltipAnchorY=gE;gG.origX=e.x;gG.origY=e.y;gG.viewport=gv;return gG},$e:function(e){if(ss.isValue(e)){var gv=this.$9(e.position);if(!this.element.hasClass(gv)){this.element.removeClass('tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR');this.element.addClass(gv)}this.$f=e}},$a:function(){if(ss.isValue(this.$f)){this.element.css(ss.mkdict(['left',this.$f.shownX+'px','top',this.$f.shownY+'px']))}},$9:function(e){var gv;switch(e){case'AR':{gv='tab-tooltipAR';break}case'AL':{gv='tab-tooltipAL';break}case'BL':{gv='tab-tooltipBL';break}case'BR':default:{gv='tab-tooltipBR';break}}return gv},layoutTooltip:function(e,gv){this.element.css(ss.mkdict(['top','-1000px','left','-1000px']));if(this.get_freezePositionWhileOpen()){this.$8()}else if(gv){var gw=this.$4(this.get_lastLocation(),e);if(ss.isNullOrUndefined(gw)){return}this.$e(gw);this.$a()}else{this.$7();this.onPrePosition();var gx=this.$4(this.get_lastLocation(),e);if(ss.isNullOrUndefined(gx)){}if(!this.$c(gx)){this.$a();return}this.$e(gx);this.onPositionCalculated();if(this.$n){this.$n=false;this.$d()}this.$a();this.onPositioned()}},$8:function(){this.$7();this.$d();this.$a();this.onPositioned()},$d:function(){this.element.show();this.$i=true;this.onShowed()},$7:function(){for(var e=0;e<this.$k.length;e++){var gv=this.$k[e];gv()}ss.clear(this.$k)},$c:function(e){if(ss.isNullOrUndefined(e)){return false}if(this.$n){return true}if(fb.areShownArgsSame(e,this.$f)){return false}return true},$6:function(e,gv,gw,gx,gy){var gz;if(!gy&&gv.roomBelow>=gw){gz=e.y+this.get_verticalOffset();this.$p=null}else if(!gy&&gv.roomAbove>=gw&&gv.roomRight>=gx){gz=e.y+(ss.trunc(gv.roomBelow)-gw+this.get_verticalOffset())}else if(gv.roomAbove>=gw){gz=e.y-gw;if(!ss.isValue(this.$p)){this.$p=e.y}}else{gz=Math.max(0,e.y-ss.trunc(gv.roomAbove))}return gz},$5:function(e,gv,gw,gx){var gy;if(gv.roomAbove>=gw){gy=e.y-gw;if(!ss.isValue(this.$p)){this.$p=e.y}}else if(gv.roomBelow>=gw){gy=e.y+this.get_verticalOffset();this.$p=null}else if(gv.roomAbove>=gw&&gv.roomRight>=gx){gy=e.y+(ss.trunc(gv.roomBelow)-gw+this.get_verticalOffset())}else{gy=Math.max(0,e.y-ss.trunc(gv.roomAbove))}return gy},setSuppressTooltip:function(e){this.$o=e;if(this.$o&&this.$i&&!this.isInSafeZone(this.get_lastLocation(),false)){this.close()}}},{$0:function(){return fI.$5||(fI.$5=new fN)}});var fJ=global.tab.TooltipBaseLegacyMode=ss.mkType(a,'tab.TooltipBaseLegacyMode',function(e,gv){fK.call(this,'sticky',e,gv);var gw=this.get_currentBehavior();gw.attach();this.get_tooltip().add_showed(ss.mkdel(this,this.$t))},{get_currentTooltipMode:function(){return'sticky'},onTap:function(){this.get_tooltip().close()},onPress:function(){this.get_tooltip().close()},dispose:function(){this.get_tooltip().remove_showed(ss.mkdel(this,this.$t));fK.prototype.dispose.call(this)},getSingleSelectBehaviorCallback:function(e){return ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e)})},shouldForceRemoteTooltipForObject:function(e,gv){var gw=this.getAffectedObjects(e,gv);return e==='mark'&&ss.isValue(gw)&&gw.length>1||tab.ActionUtils.doesWorksheetContainHoverActionsThatInvalidateVisualPresModelAndRunRemotely(this.get_visualIDPresModel().worksheet)},showCommandAreaAndActions:function(){this.get_ubertip().showCommandAreaAndActions()},$t:function(){this.get_tooltip().allowMouseEventPassthrough(false)}});var fK=global.tab.TooltipBaseMode=ss.mkType(a,'tab.TooltipBaseMode',function(e,gv,gw){this.disposables=new tab.DisposableHolder;this.tooltipBehaviors=null;this.$q=null;this.readyForHover=true;this.$s=null;this.$r=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=null;this.$1$10=null;this.$1$11=null;this.$q=gv;this.set_visualIDPresModel(gw);this.set_tooltip(new fI(null));this.get_tooltip().add_closed(ss.mkdel(this,this.$b));this.get_tooltip().add_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().add_showed(ss.mkdel(this,this.$0));this.get_tooltip().get_body().on('mouseleave.basemode',ss.mkdel(this,this.$d));this.set_ubertip(new fQ(this.get_tooltip(),this.get_ubertipShouldEnforceButtonOrdering(),this.shouldAddCommandButtonsAndActions()));this.get_ubertip().add_actionExecuted(ss.mkdel(this,this.$e));this.get_ubertip().add_commandExecuted(ss.mkdel(this,this.$f));this.get_ubertip().add_ubertipMenuToggled(ss.mkdel(this,this.$h));this.get_ubertip().add_ubertipMenuClosed(ss.mkdel(this,this.$g));this.set_defaultBehaviorType(e);this.set_currentBehaviorType(e);this.tooltipBehaviors={};this.buildBehaviorsDictionary();if(tsConfig.is_mobile){fZ.add_mobileVizReduceTransform(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fZ.remove_mobileVizReduceTransform(ss.mkdel(this,this.$c))})))}},{add_tooltipClosed:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_tooltipClosed:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_mouseExitedTooltip:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_mouseExitedTooltip:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_ubertipUpdated:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_ubertipUpdated:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_ubertipActionExecuted:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_ubertipActionExecuted:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},get_isTooltipShown:function(){return this.get_tooltip().get_isShown()},get_visualIDPresModel:function(){return this.$1$6},set_visualIDPresModel:function(e){this.$1$6=e},get_tooltip:function(){return this.$1$7},set_tooltip:function(e){this.$1$7=e},get_latestHoverPoint:function(){return this.$1$8},set_latestHoverPoint:function(e){this.$1$8=e},get_tupleId:function(){return this.get_tooltip().tupleId},get_ubertip:function(){return this.$1$9},set_ubertip:function(e){this.$1$9=e},get_currentBehavior:function(){return this.$2(this.get_currentBehaviorType())},get_currentBehaviorType:function(){return this.$1$10},set_currentBehaviorType:function(e){this.$1$10=e},get_defaultBehaviorType:function(){return this.$1$11},set_defaultBehaviorType:function(e){this.$1$11=e},get_ubertipShouldEnforceButtonOrdering:function(){return false},get_currentTooltipMode:null,get_multiSelectCompleteBehavior:function(){return'sticky'},get_hasContextProvider:function(){return ss.isValue(this.$q)},$p:function(){return ss.mkdel(this,this.$5)},get_testUseOnlyLastHoveredObjectID:function(){return fK.$2},set_testUseOnlyLastHoveredObjectID:function(e){fK.$2=e},close:function(){this.get_tooltip().close()},hoverOverObject:function(e,gv,gw,gx,gy,gz){if(!this.readyForHover){return}if(ss.isNullOrUndefined(gw)){return}this.$m(gy);var gA=ss.referenceEquals(gw.toString(),fK.$2);var gB=ss.mkdel(this,function(gD){var gE=this.$9(gz,gD);this.get_currentBehavior().hoverOverObject(e,gE,gA)});if(gy==='mark'&&tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(gx)&&!this.shouldForceRemoteTooltipForObject(gy,gw)){if(gA){gB(this.get_ubertip().get_model())}else{var gC=this.getAffectedObjects('mark',gw);this.runBehaviorWithLocalUbertip(gB,gw,gC,gv,gx,gz,gy,'on-hover')}}else{this.runBehaviorWithRemoteUbertip(gB,{x:gv.x,y:gv.y,w:0,h:0},gz,'on-hover',gy,null,this.getAffectedObjects('mark',gw),false,null)}},hoverOverWhitespace:function(e,gv){if(!this.readyForHover){return}var gw='W'===fK.$2;this.get_currentBehavior().hoverOverWhitespace(e);if(this.get_currentBehavior().isHoverAllowed(e)){if(!gw){var gx=this.needRemoteCommand(gv,'whitespace','on-hover',0,null);if(gx===1||gx===2){fK.$2='W';this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},gv,'on-hover','whitespace',null,null,false,null)}}}else if(this.get_tooltip().get_isShown()){fK.$2='W';this.get_tooltip().close()}},hoverOverHeader:function(e,gv,gw,gx,gy){if(!this.readyForHover){return}var gz=gy.length>0&&tab.ActionUtils.getApplicableActions(this.get_visualIDPresModel().worksheet,'on-hover','url').length>0;if(gz){var gA=!ss.referenceEquals(gy.toString(),fK.$2);this.hoverOverCoordinates(e,gv,gw,gx,null,gy,gA)}else{this.hoverOverCoordinates(e,gv,gw,gx,null,null,false)}},hoverOverCoordinates:function(e,gv,gw,gx,gy,gz,gA){if(!this.readyForHover){return}fK.$2=(ss.isValue(gz)?gz.toString():'U');this.$m(gw);var gB=ss.mkdel(this,function(gC){var gD=this.$9(gx,gC);this.get_currentBehavior().hoverOverObject(e,gD,false)});this.runBehaviorWithRemoteUbertip(gB,{x:gv.x,y:gv.y,w:0,h:0},gx,'on-hover',gw,gy,gz,gA,null)},updateTooltipFromDesktopHitTestResult:function(e,gv,gw){if(!this.readyForHover){return}if(this.$8(e,gv)){fK.$2='W';this.get_currentBehavior().hoverOverWhitespace(this.get_latestHoverPoint());return}var gx=this.$3(gv);this.$m(gx);this.$o(e,gv,gw)},$8:function(e,gv){var gw=gv==='misc'||gv==='background';return e===0&&gw},$3:function(e){switch(e){case'marks':case'mark-labels':case'mark-trails':{return'mark'}case'axis':case'axis-rules':case'bottom-axis':case'header':case'left-axis':case'right-axis':case'top-axis':case'x-labels':case'y-labels':{return'header'}case'ref-bands':case'ref-lines':{return'refline'}case'trend-lines':{return'visualparts'}case'legends':{return'legenditem'}case'background':case'misc':{return'whitespace'}default:{return'unspecified'}}},$m:function(e){var gv=this.getHoverBehavior(e);this.switchTooltipMode(gv)},$o:function(e,gv,gw){if(gw!=='viz'){return}if(gv==='annotations'){this.close();return}if(this.shownTooltipIsStatic()){return}var gx=ss.referenceEquals(e.toString(),fK.$2);var gy=this.$9(gw,this.get_ubertip().get_model());this.get_currentBehavior().hoverOverObject(this.get_latestHoverPoint(),gy,gx)},$9:function(e,gv){return e==='viz'&&fK.isUbertipHtmlEmpty(gv)},singleSelectComplete:function(e,gv,gw,gx,gy,gz){var gA=this.getSingleSelectBehavior(gy);this.switchTooltipMode(gA);this.suppressHoverIfNecesary();var gB=this.getSingleSelectBehaviorCallback(e);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&gy==='mark'){var gC=this.getAffectedObjects(gy,gw);this.runBehaviorWithLocalUbertip(gB,gw,gC,gv,gx,gz,gy,'on-select')}else{var gD={x:gv.x,y:gv.y,w:0,h:0};this.runBehaviorWithRemoteUbertip(gB,gD,gz,'on-select',gy,null,null,false,null)}},singleSelectCoordinates:function(e,gv,gw,gx,gy){var gz=this.getSingleSelectBehavior(gx);this.switchTooltipMode(gz);var gA=ss.mkdel(this,function(gB){this.$l(e)});this.runBehaviorWithRemoteUbertip(gA,{x:gv.x,y:gv.y,w:0,h:0},gw,'on-select',gx,gy,null,false,null)},$l:function(e){this.get_currentBehavior().singleSelectComplete(e);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}},multiSelectComplete:function(e,gv,gw){this.switchTooltipMode(this.get_multiSelectCompleteBehavior());this.suppressHoverIfNecesary();var gx=ss.mkdel(this,function(){this.get_currentBehavior().multiSelectComplete(e);fK.$2='U';if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}});this.runBehaviorWithRemoteUbertip(gx,gv,gw,'on-select','unspecified',null,null,false,null)},selectionMoved:function(e){this.get_currentBehavior().selectionMoved(e)},repositionWithinRegion:function(e){this.get_currentBehavior().repositionWithinRegion(e)},onTap:function(){},onScroll:function(){this.get_currentBehavior().onScroll()},onMoving:function(){},onDragEnd:function(e){},onPanOrDragStart:function(e){this.get_currentBehavior().onPanningOrDragging()},onPinchEnd:function(e){},onPress:function(){},onMouseLeaveTheView:function(){fK.$2='U'},dispose:function(){if(ss.keyExists(this.tooltipBehaviors,this.get_currentBehaviorType())){this.tooltipBehaviors[this.get_currentBehaviorType()].detach()}this.disposables.dispose();this.get_tooltip().get_body().off('mouseleave.basemode');this.get_tooltip().dispose();this.get_tooltip().remove_closed(ss.mkdel(this,this.$b));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().remove_showed(ss.mkdel(this,this.$0));this.get_ubertip().remove_commandExecuted(ss.mkdel(this,this.$f));this.get_ubertip().remove_actionExecuted(ss.mkdel(this,this.$e));this.get_ubertip().remove_ubertipMenuToggled(ss.mkdel(this,this.$h));this.get_ubertip().remove_ubertipMenuClosed(ss.mkdel(this,this.$g));this.get_ubertip().dispose()},shownTooltipIsStatic:function(){return this.get_currentBehavior().shownTooltipIsSticky()},isHoverAllowed:function(e){return this.get_currentBehavior().isHoverAllowed(e)},clearTooltipWithFakeHover:function(){if(!this.get_tooltip().get_isShown()||ss.isNullOrUndefined(this.get_tooltip().get_lastLocation())||!this.get_tooltip().isInSafeZone(this.get_tooltip().get_lastLocation(),false)){this.hoverOverWhitespace({x:-1,y:-1},'viz')}},suppress:function(e){this.get_tooltip().setSuppressTooltip(e);this.readyForHover=!e},buildBehaviorsDictionary:null,getSingleSelectBehaviorCallback:null,getSingleSelectBehavior:function(e){return this.get_defaultBehaviorType()},getHoverBehavior:function(e){return this.get_defaultBehaviorType()},shouldForceRemoteTooltipForObject:function(e,gv){return false},suppressHoverIfNecesary:function(){this.readyForHover=false},onBehaviorSwitch:function(){},modelUpdateCallback:function(e){fK.latestTupleId=e.tupleId;if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&this.get_currentBehaviorType()==='smooth'&&ss.isValue(e.markBounds)){this.get_currentBehavior().serverMarkBounds=e.markBounds}this.get_tooltip().setTooltipBodyAndReposition(this.get_ubertip().element,ss.mkdel(this,function(){this.$a(e)}))},$a:function(e){var gv=ss.isValue(e)&&e.tupleId===0;if(!gv&&!ss.referenceEquals(e.tupleId,fK.latestTupleId)){return}var gw=this.get_ubertip().get_model();this.updateTooltipFromModel(e);this.updateUbertipFromModel(e);if(!ss.staticEquals(this.$1$3,null)){this.$1$3(e)}if(ss.isValue(gw)&&gw.requestId===e.requestId){this.get_ubertip().updatePartiallyFromRemote(gw)}},updateModelFromServerResponse:function(e){this.get_ubertip().updatePartiallyFromRemote(e)},updateUbertipFromModel:function(e){e.tooltipOffset=(ss.isValue(this.get_ubertip().get_model())?this.get_ubertip().get_model().tooltipOffset:null);if(!_.isEqual(e,this.get_ubertip().get_model())){this.get_ubertip().set_model(e)}},updateTooltipFromModel:function(e){this.get_tooltip().tupleId=e.tupleId;if(ss.isValue(e.tooltipOffset)){if(ss.isValue(e.tooltipOffset.x)){this.get_tooltip().set_horizontalOffset(16+e.tooltipOffset.x)}if(ss.isValue(e.tooltipOffset.y)){this.get_tooltip().set_verticalOffset(16+e.tooltipOffset.y)}}else{this.get_tooltip().set_horizontalOffset(16);this.get_tooltip().set_verticalOffset(16)}},switchTooltipMode:function(e){if(this.get_currentBehaviorType()===e){return false}var gv=this.get_currentBehavior();gv.detach();var gw=this.$2(e);gw.attach();this.set_currentBehaviorType(e);this.onBehaviorSwitch();return true},prepareForPositioning:function(){this.get_ubertip().prepareForPositioning(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands())},triggerUbertipButtonUpdate:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()&&this.get_ubertip().get_isShowingFullUbertip()){return}this.get_tooltip().forceLayout()},handleUbertipButtons:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.get_ubertip().showCommandAreaAndActions()}else{this.get_ubertip().hideMenuActionsAndCommandButtons(true)}},shouldShowCommandButtons:function(){return this.get_currentBehavior().shouldShowCommandButtons()},shouldAddCommandButtonsAndActions:function(){return true},getAffectedObjects:function(e,gv){var gw=null;if(this.get_hasContextProvider()){if(ss.contains(this.$q.getSelectedObjects(e),gv)){gw=this.$q.getSelectedObjects(e)}else{gw=[gv]}}return gw},isUbertipObjectSelected:function(e){if(ss.isNullOrUndefined(e)){return false}var gv=((this.get_hasContextProvider()&&e.interactedTupleId!==0)?this.$q.isMarkSelected(e.interactedTupleId):e.tupleSelected);if(gv){return true}var gw=e.refLineSelected||e.trendLineSelected;if(gw){return true}var gx=e.imageRegion;var gy=gx==='bottomaxis'||gx==='leftaxis'||gx==='rightaxis'||gx==='topaxis';if(gy){return true}var gz=gx==='xheader'||gx==='yheader';return gz},runBehaviorWithLocalUbertip:function(e,gv,gw,gx,gy,gz,gA,gB){var gC=gv.toString();if(!ss.referenceEquals(fK.$2,gC)){this.$s=tab.MiscUtil.clearTimeout(this.$s)}fK.$4+=1;fK.$3=this.get_visualIDPresModel();var gD=fK.$4;var gE=ss.mkdel(this,function(gI){this.$i(e,gv,gz,gD,gI,gC)});var gF=ss.mkdel(this,function(gI){this.$j(gD,gI)});var gG=new tab.LocalUbertipInfo(gv,gw,gy,false);var gH=this.needRemoteCommand(gz,gA,gB,gv,gy);if(gH===1){tab.UberTipClientCommands.localAndRemoteUberTipCommand(gz,this.get_visualIDPresModel(),{x:gx.x,y:gx.y,w:0,h:0},gv,gG,gE,gF,this.$p(),gB)}else{tab.UberTipClientCommands.localOnlyUbertipCommand(this.get_visualIDPresModel(),gG,gE)}if(gH===2){this.$s=window.setTimeout(ss.mkdel(this,function(){tab.UberTipClientCommands.remoteOnlyUbertipCommand(gz,this.get_visualIDPresModel(),{x:gx.x,y:gx.y,w:0,h:0},gF,this.$p(),gB,null,null,false,fK.latestTupleId)}),200)}},$j:function(e,gv){if(!this.$6(e.toString())||!ss.isValue(gv)){return}gv.requestId=e;this.updateModelFromServerResponse(gv)},$i:function(e,gv,gw,gx,gy,gz){if(!this.$6(gx.toString())){if(!ss.referenceEquals(this.get_visualIDPresModel(),fK.$3)){this.readyForHover=true}return}if(!ss.isValue(gy)){return}this.$4(gy,e,gx,gw,function(){fK.$2=gz;fK.latestTupleId=gv})},runBehaviorWithRemoteUbertip:function(e,gv,gw,gx,gy,gz,gA,gB,gC){var gD=(ss.isValue(gA)?gA.toString():((gy==='whitespace')?'W':'U'));if(!ss.referenceEquals(fK.$2,gD)){this.$s=tab.MiscUtil.clearTimeout(this.$s)}fK.$4+=1;fK.$3=this.get_visualIDPresModel();var gE=fK.$4;var gF=ss.mkdel(this,function(gG){this.$k(e,gw,gE,gG,gD)});tab.UberTipClientCommands.remoteOnlyUbertipCommand(gw,this.get_visualIDPresModel(),gv,gF,this.$p(),gx,gz,gA,gB,gC)},handleNewDesktopUbertip:function(e){if(!this.readyForHover){return}var gv=((e.tupleId>0)?e.tupleId.toString():'U');var gw=ss.mkdel(this,function(gy){this.get_currentBehavior().hoverOverObject(this.get_latestHoverPoint(),false,false);ey.dispatchRenderingPerfEvent(tab.ModelUtils.getVisualModelFromVisualId(this.get_visualIDPresModel(),null).get_identifier(),'viz',ey.endTooltipEventType)});var gx=ss.mkdel(this,function(gy){this.$k(gw,e.r,++fK.$4,gy,gv)});tab.UbertipModelUtils.updateUbertipFromPresModel(false,e,gx,tab.PermissionManager.buildCommandPermission())},$k:function(e,gv,gw,gx,gy){if(!this.$6(gw.toString())){if(!ss.referenceEquals(this.get_visualIDPresModel(),fK.$3)){this.readyForHover=true}return}if(ss.isValue(gx)){this.$4(gx,e,gw,gv,function(){fK.$2=gy})}else{this.$1();fK.$2=gy}},needRemoteCommand:function(e,gv,gw,gx,gy){if(tsConfig.is_authoring&&this.get_currentBehaviorType()==='sticky'||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||e!=='viz'||gv!=='mark'&&gv!=='whitespace'||gw!=='on-hover'||tab.ActionUtils.doesWorksheetHaveHoverOrMenuActions(this.get_visualIDPresModel().worksheet)||ss.isNullOrUndefined(this.$q)||this.$q.isMarkSelected(gx)){return 1}return(this.hasViT(gy)?2:0)},hasViT:function(e){return tab.UbertipSerializer.paneContainsViT(tab.ModelUtils.getVisualModelFromVisualId(this.get_visualIDPresModel(),null),e)},$5:function(){this.get_ubertip().handleRemoteFailure();this.readyForHover=true},$7:function(){if(!ss.isValue(tsConfig.current_sheet_name)){return true}var e=null;switch(tsConfig.current_sheet_type){case'dashboard':{e=this.get_visualIDPresModel().dashboard;break}case'worksheet':{e=this.get_visualIDPresModel().worksheet;break}case'story':{e=this.get_visualIDPresModel().storyboard;break}default:{break}}return ss.isValue(e)&&ss.referenceEquals(e,tsConfig.current_sheet_name)},$4:function(e,gv,gw,gx,gy){if(!this.$7()){this.$1();return}e.requestId=gw;this.modelUpdateCallback(e);if(!ss.staticEquals(gy,null)){gy()}if(gx==='viz'&&e.isExplicitlyEmpty){var gz=tab.MiscUtil.isNullOrEmpty$2(e.buttonModels)&&tab.MiscUtil.isNullOrEmpty$3(e.actions)&&tab.MiscUtil.isNullOrEmpty$3(e.actionPMs);var gA=this.$q.getSelectedObjects('mark');var gB=ss.isValue(gA)&&ss.isValue(this.get_tooltip().tupleId)&&ss.contains(gA,this.get_tooltip().tupleId);if(!gB||gz){this.$1();return}}if(ss.isValue(gv)){gv(e)}},$1:function(){this.get_tooltip().close();this.readyForHover=true},$0:function(){if(this.get_isTooltipShown()){this.readyForHover=true}},$2:function(e){return this.tooltipBehaviors[e]},$b:function(){this.readyForHover=true;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$e:function(e,gv){this.get_tooltip().close();if(!ss.staticEquals(this.$1$4,null)){this.$1$4(e,gv)}},$f:function(e,gv){var gw=ss.isValue(gv.command)&&gv.command.get_commandType()===23;if(!gw){this.get_tooltip().close()}if(!ss.staticEquals(this.$1$5,null)){this.$1$5(e,gv)}if(gw){this.$n()}},$n:function(){this.get_tooltip().set_freezePositionWhileOpen(true);var e=null;var gv=ss.isValue(fK.latestTupleId)&&ss.unbox(fK.latestTupleId)!==0;if(!gv){return}e=fK.latestTupleId;this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},'viz','on-select','mark',null,null,false,e)},$h:function(e){this.$r=e;this.get_currentBehavior().handleUbertipMenuToggle(e)},$g:function(){this.$r=false;this.get_currentBehavior().handleUbertipMenuClose()},$c:function(){this.get_tooltip().close()},$6:function(e){if(ss.isValue(e)&&!ss.referenceEquals(fK.$4.toString(),e)){return false}return true},$d:function(e){if(!this.get_tooltip().get_isShown()||ss.staticEquals(this.$1$2,null)||this.$r){return}var gv=tab.DomUtil.getRectXY(this.get_tooltip().get_body());if(gv.x>e.pageX||gv.x+gv.w<=e.pageX||gv.y>e.pageY||gv.y+gv.h<=e.pageY){this.$1$2({x:e.pageX,y:e.pageY})}}},{isUbertipHtmlEmpty:function(e){return ss.isValue(e)&&tab.MiscUtil.isNullOrEmpty$1(e.tooltipHtml)}});var fL=global.tab.TooltipBehaviorType=ss.mkEnum(a,'tab.TooltipBehaviorType',{unspecified:'unspecified',sticky:'sticky',smooth:'smooth',disabled:'disabled'},true);var fM=global.tab.TooltipContextProvider=ss.mkType(a,'tab.TooltipContextProvider',function(e){this.$0=null;this.$0=e},{getSelectedObjects:function(e){if(e==='mark'){return this.$0.tupleSelection.get_ids()}else{return null}},isMarkSelected:function(e){return this.$0.tupleSelection.isObjectSelected(e)}});var fN=global.tab.TooltipTemplate=ss.mkType(a,'tab.TooltipTemplate',function(){spiff.Template.call(this,$("\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"))},{get_body:function(){return this.getElementBySelector('.tab-tooltipContent')}});var fO=global.tab.TransientDashboardStateReader=ss.mkType(a,'tab.TransientDashboardStateReader',function(){},{isSheetSelected:function(){return ss.isValue(this.getCurrentWorksheetName())},getCurrentWorksheetName:function(){var e=tab.ModelUtils.findContentDashboard(null);var gv=(ss.isNullOrUndefined(e)?null:e.getZone(e.get_activeZoneID()));return(ss.isNullOrUndefined(gv)?null:gv.get_worksheetName())}});var fP=global.tab.TsConfigConversions=ss.mkType(a,'tab.TsConfigConversions',null,null,{datasourceUrlFromTsConfig:function(){return ss.replaceAllString(tsConfig.workbook_repo_url,'ds:','')},pageTypeFromTsConfig:function(){switch(tsConfig.nlpLayoutMode){case'exploration':{return'Exploration'}case'landing':{return'Landing'}default:{return'Landing'}}},feedbackModeFromTsConfig:function(){switch(tsConfig.nlpFeedbackMode){case'full':{return'Full'}case'none':{return'None'}default:{return'None'}}},nlpOnboardingStageFromTsConfig:function(){if(ss.isNullOrUndefined(tsConfig.current_user_nlp_onboarding_stage)){return'None'}switch(tsConfig.current_user_nlp_onboarding_stage){case'None':{return'None'}case'FieldsPanel':{return'FieldsPanel'}case'NLBox':{return'NLBox'}case'Phrase':{return'Phrase'}case'Help':{return'Help'}default:{return'None'}}},deploymentTypeFromTsConfig:function(){return(tsConfig.is_saas?'Online':'OnPrem')},sheetTypeFromTsConfig:function(){switch(tsConfig.current_sheet_type){case'worksheet':{return'worksheet'}case'story':{return'storyboard'}default:{return'dashboard'}}}});var fQ=global.tab.Ubertip=ss.mkType(a,'tab.Ubertip',function(e,gv,gw){this.$1c=null;this.$14=new tab.DisposableHolder;this.$17=null;this.$18=null;this.$15=false;this.$Z=false;this.$16=false;this.$X=null;this.$19=-1;this.$10=null;this.$13=null;this.$11=null;this.$Y=null;this.$12=null;this.$1b=[];this.$1a=[];this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.Widget.call(this,$("\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>"));this.$13=this.element.find('.tab-ubertipContent');this.$11=this.element.find('.tab-ubertipCommandArea');this.$Y=this.element.find('.tab-ubertipActions');this.$12=this.element.find('.tab-ubertipCommands');this.$1c=e;this.$1c.add_showed(ss.mkdel(this,this.handleTooltipShowed));this.$1c.add_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));this.$Z=gw;this.$15=gv},{add_commandExecuted:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandExecuted:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_actionExecuted:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_actionExecuted:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_ubertipMenuToggled:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_ubertipMenuToggled:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_ubertipMenuClosed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_ubertipMenuClosed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_model:function(){return this.$17},set_model:function(e){this.$17=e;this.$w()},get_isShowingFullUbertip:function(){return this.$11.is(':visible')||this.$Y.is(':visible')},$W:function(){return this.$15&&this.hasSummary()},dispose:function(){this.element.detach();this.$1c.remove_showed(ss.mkdel(this,this.handleTooltipShowed));this.$1c.remove_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));tab.MiscUtil.dispose(this.$1a);this.$b();this.$c();spiff.Widget.prototype.dispose.call(this)},$b:function(){if(!ss.staticEquals(this.$10,null)){this.$1c.remove_positioned(this.$10);this.$10=null}},hasActions:function(){if(ss.isNullOrUndefined(this.$17)){return false}var e=ss.isValue(this.$17.actionPMs)&&this.$17.actionPMs.length>0;var gv=ss.isValue(this.$17.actions)&&this.$17.actions.length>0;return e||gv},hasCommands:function(){if(ss.isNullOrUndefined(this.$17)){return false}return ss.isValue(this.$17.buttonModels)&&this.$17.buttonModels.length>0},hasSummary:function(){if(ss.isNullOrUndefined(this.$17)){return false}return ss.isValue(this.$17.selectionHtml)},hasActionsOrSummaryOrCommands:function(){return this.hasActions()||this.hasSummary()||this.hasCommands()},hideMenuActionsAndCommandButtons:function(e){if(this.get_isShowingFullUbertip()&&e){this.$1c.requestLayout(ss.mkdel(this,function(){this.$G();this.$12.css('min-width','')}),false)}else{this.$G();this.$12.css('min-width','')}},prepareForPositioning:function(e){if(e){if(!this.$1c.get_isShown()){this.element.css('width','');this.$C(false)}}else{this.hideMenuActionsAndCommandButtons(false);this.$v()}},showCommandAreaAndActions:function(){if(ss.isNullOrUndefined(this.$1c.get_calculatedShownArgs())){return}if(this.$x()){this.updateTooltipAnchor()}else{this.$D()}},$x:function(){return this.get_isShowingFullUbertip()&&!this.$1c.get_freezePositionWhileOpen()},updateTooltipAnchor:function(){if(!this.$9()){return}var e=this.$1c.get_calculatedShownArgs();if(e.shownY===e.tooltipAnchorY){var gv=tab.DoubleUtil.roundToInt(this.$11.outerHeight());e.tooltipAnchorY=e.shownY+gv}},$D:function(){this.$d();var e=this.get_isShowingFullUbertip();this.$G();var gv=!this.$1c.get_isShown()||tab.DoubleUtil.roundToInt(this.element.outerHeight())===0;if(gv){this.$C(false)}else{this.$E(e)}},$E:function(e){var gv=this.$1c.get_calculatedShownArgs();var gw={x:gv.shownX,y:gv.tooltipAnchorY};var gx=gv.viewport.getVisibleRoom(gw,1);var gy=ss.trunc(gx.roomBelow);var gz=ss.trunc(gx.roomRight);this.$C(false);this.$12.css('min-width',this.$e()+'px');var gA=this.$m();if(gA>this.$19){this.$19=gA}this.$B(this.$19);var gB=tab.DoubleUtil.roundToInt(this.element.outerHeight());var gC=tab.DoubleUtil.roundToInt(this.$11.outerHeight());var gD=this.$n(gB,gC);if(!e){if(gD>gy||gA>gz){this.$z(gC);gD=this.$n(gB,gC)}}else if(gA>gz){this.$A(gA,gz)}if(gD>gy&&this.$Y.outerHeight()>0){this.$Q(gy,gD,gw.y)}else{this.$j(gC,gy,gD,gw.y,!e)}},$n:function(e,gv){return 2+(this.$9()?(e-gv):e)},$z:function(e){this.$1c.layoutTooltip(this.$1c.get_calculatedShownArgs().viewport,true);this.handleTooltipPositionCalculated();if(this.$18==='AL'||this.$H()){this.$1c.get_calculatedShownArgs().shownY=this.$1c.get_calculatedShownArgs().shownY+e;this.$1c.get_calculatedShownArgs().tooltipAnchorY=this.$1c.get_calculatedShownArgs().shownY}},$A:function(e,gv){var gw=this.$1c.get_calculatedShownArgs().shownX;var gx=2+e-gv;this.$1c.get_calculatedShownArgs().shownX=Math.max(0,gw-gx)},$Q:function(e,gv,gw){var gx=2+gv-e;var gy=gw-gx;this.$1c.get_calculatedShownArgs().shownY=gy;if(!this.$9()){this.$1c.get_calculatedShownArgs().tooltipAnchorY=gy}},$j:function(e,gv,gw,gx,gy){var gz=this.$1c.get_calculatedShownArgs().tooltipAnchorY;if(this.$9()){gz-=e}var gA=gx+gv;var gB=Math.min(gz,gA-gw);this.$G();this.$b();this.$10=ss.mkdel(this,function(){this.$F(gv,gw,gB,gx,gy)});this.$1c.add_positioned(this.$10)},$F:function(e,gv,gw,gx,gy){this.$b();this.$C(gy);switch(this.$18){case'BR':{if(gy){this.$V(gx-tab.DoubleUtil.roundToInt(this.$11.height()),false)}this.$V(gw,gy);break}case'AR':{if(e<gv||!this.$H()){this.$V(gw,gy)}break}case'BL':case'AL':{this.$V(gw,gy);break}default:{break}}},$V:function(e,gv){if(gv){this.$1c.element.animate(ss.mkdict(['top',e+'px']),'fast')}else{this.$1c.element.css('top',e+'px')}},$9:function(){return this.$18==='BL'||this.$18==='BR'},$H:function(){return(this.$18==='AR'||this.$18==='BR')&&this.$1c.get_calculatedShownArgs().shownX>this.$1c.get_calculatedShownArgs().origX},handleRemoteFailure:function(){if(this.$16){this.$16=false;if(tab.LegacySessionWaitHandler.get_waitHandler().isBusy()){tab.LegacySessionWaitHandler.get_waitHandler().reset()}}},hideSpinner:function(){if(tab.LegacySessionWaitHandler.get_waitHandler().isBusy()){tab.LegacySessionWaitHandler.get_waitHandler().reset()}},handleTooltipPositionCalculated:function(){if(ss.isValue(this.$18)&&this.$18===this.$1c.get_calculatedShownArgs().position){return}switch(this.$1c.get_calculatedShownArgs().position){case'AL':case'AR':{this.$13.after(this.$11);this.$12.before(this.element.find('.tab-ubertipSelected'));break}case'BL':case'BR':{this.$13.before(this.$11);this.element.find('.tab-clear').after(this.element.find('.tab-ubertipSelected'));break}}this.$18=this.$1c.get_calculatedShownArgs().position},handleTooltipShowed:function(){this.$6()},$6:function(){if(this.element.width()===0){return}var e=this.$m();this.$B(e)},$m:function(){return Math.ceil(Math.min(this.element.width(),$(document.body).width()-2))},updatePartiallyFromRemote:function(e){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.$17)){this.set_model(e);return}this.$17.requestId=e.requestId;this.$R(e);this.$J(e);this.$N(e);if(tab.VizDataUtils.objectContainsVizInTooltip(this.element)){this.$T(e)}},$N:function(e){var gv=[];var gw=null;var gx=null;if(ss.isValue(this.$17)){gw=fQ.$7(e)||fQ.$8(e);gx=fQ.$4(this.$17,10)}if(ss.isValue(gw)){if(!this.$W()){e.buttonModels=_.without(e.buttonModels,gw);e.buttonModels.push(gw);gv.push(e.buttonModels.length-1)}}else if(ss.isValue(gx)){e.buttonModels.push(gx)}this.$17.buttonModels=e.buttonModels;this.$M(gv)},$R:function(e){this.$17.selectionHtml=e.selectionHtml;this.$P();if(ss.isValue(this.$17.selectionHtml)&&this.get_isShowingFullUbertip()){this.$v();this.$6()}},$J:function(e){this.$17.actionPMs=e.actionPMs;this.$17.actions=e.actions;this.$I();this.$u()},$T:function(e){if(ss.referenceEquals(this.$17.tooltipHtml,e.tooltipHtml)){return}this.$t(e.tooltipHtml);this.$17.tooltipHtml=e.tooltipHtml;this.$S();this.$O();this.$1c.requestLayout(null,false)},$u:function(){if(this.$16){this.$16=false;if(ss.isValue(this.$17)){for(var e=0;e<this.$17.actions.length;e++){var gv=this.$17.actions[e];if(ss.referenceEquals(gv.get_name(),this.$X)){var gw=new p;gw.action=gv;var gx=gw;this.onActionExecuted(gx)}}}}},onCommandExecuted:function(e){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(this,e)}},onActionExecuted:function(e){if(!ss.staticEquals(this.$2$2,null)){this.$2$2(this,e)}},$c:function(){this.$14.dispose()},$B:function(e){this.element.css('min-width',e+'px');this.$19=e},$d:function(){this.element.css('min-width','')},$w:function(){this.$c();this.element.show();this.$S();this.$I();this.$M(null);this.$O();this.$P();this.$v();var e=tab.MiscUtil.isNullOrEmpty$3(this.$17.actions);var gv=tab.MiscUtil.isNullOrEmpty$3(this.$17.actionPMs);var gw=ss.isNullOrEmptyString(this.$17.tooltipHtml);var gx=e&&gv&&gw;if(gx){this.$13.addClass('hide')}else{this.$13.removeClass('hide')}},$v:function(){this.$d();this.$13.css('height','');this.$11.css('height','');var e=this.computeAdjustedTooltipWidth();if(e>0){this.$B(e)}else if(this.element.width()>0){this.$19=tab.DoubleUtil.roundToInt(this.element.width())}else{this.$19=0}},computeAdjustedTooltipWidth:function(){var e=tab.DoubleUtil.roundToInt(this.element.width());var gv=-1;var gw=tab.FeatureParamsLookup.getInt(18);if(!ss.isValue(gw)){gw=70}if(e>0&&this.$19>0&&this.$19>=e&&this.$19-e<=ss.unbox(gw)){gv=this.$19}return gv},$e:function(){var e=0;this.$12.find('li').each(function(gv,gw){e+=gw.firstChild.offsetWidth});return e},$G:function(){this.$1c.element.stop();this.$Y.stop();this.$11.stop();this.$Y.hide();this.$11.hide()},$C:function(e){if(ss.isNullOrUndefined(this.get_model())){return}if(this.hasActions()){if(e){this.$Y.show()}else{this.$Y.show()}}if(this.hasCommands()||this.hasSummary()){if(e){this.$11.slideDown('fast')}else{this.$11.show()}}},$S:function(){var e=$(this.$17.tooltipHtml);var gv=this.element.find('.tab-ubertipTooltip');var gw=fQ.$5(gv);this.$a(e,gw);gv.html('').append(e);this.$U()},$t:function(e){var gv=tab.DomUtil.roomAroundPosition(this.$1c.element.position());var gw=$(e);var gx=gw.find('span[data-tableau="VizInTooltip"]'+' img');var gy=gx.length;var gz=2+SharedWidgets.TabStyles.Spacing.MediumSpace*2;for(var gA=0;gA<gy;gA++){var gB=parseInt(gx[gA].getAttribute('width'))+2+SharedWidgets.TabStyles.Spacing.MediumSpace*2;gz+=parseInt(gx[gA].getAttribute('height'));if(gB>=gv.roomRight||gz>=gv.roomBelow){this.$1c.hideUntilReposition();return}}var gC=$(this.$17.tooltipHtml);var gD=gC.find('span[data-tableau="VizInTooltip"]');var gE=2+SharedWidgets.TabStyles.Spacing.MediumSpace*2;for(var gF=0;gF<gD.length;gF++){var gG=gD[gF];gE+=parseInt(gG.style.height)}if(tab.DoubleUtil.roundToInt(this.$1c.element.outerHeight())-gE+gz>=gv.roomBelow){this.$1c.hideUntilReposition()}},$U:function(){this.$1c.get_body().css('max-width','');this.$1c.element.css('max-width','');tab.VizDataUtils.updateLastVizInTooltipSizes(this.$17.tooltipHtml);var e=SharedWidgets.TabStyles.Spacing.MediumSpace*2;var gv=tab.VizDataUtils.widestVizInTooltip+e;if(gv>740){this.$1c.get_body().css('max-width',(gv+'px').toString());this.$1c.element.css('max-width',(gv+2+'px').toString())}},$a:function(e,gv){ss.clear(this.$1b);var gw=e.find('a.relax-selection');for(var gx=0;gx<gw.length;gx++){this.$y(gw,gx,gv)}},$y:function(e,gv,gw){var gx=e.eq(gv);var gy=gx.children().eq(0);gy.unwrap().unwrap();if(tab.MiscUtil.isNullOrEmpty$1(gy.eq(0).html())){gy.remove();return}if(tsConfig.allow_select){if(gy.css('text-decoration')==='underline'){gy.addClass('tab-selection-relaxation-underlined')}gy.addClass('tab-selection-relaxation');gy.css('text-decoration','');if(gv===gw){gy.addClass('tab-selection-relaxation-selected')}var gz=gx.attr('href');this.$1b.push(new o(gz,gy))}},$P:function(){if(ss.isNullOrUndefined(this.$17.selectionHtml)){this.element.find('.tab-ubertipSelected').html('').addClass('hide')}else{this.element.find('.tab-ubertipSelected').html('').append(this.$17.selectionHtml).removeClass('hide')}},$8:function(e,gv,gw,gx){if(!e.get_hasItems()){return false}var gy=[];gm.newMenuItemsFromCommands(gy,e.get_wrappedCommandItemPresModel().get_commands(),gm.createDropdownMenuCommandHandler,tab.PermissionManager.buildCommandPermission());if(gy.length===0){return false}var gz=this.$h(e);var gA=new spiff.MenuViewModel;gA.set_menu(new spiff.Menu(gy));var gB=gA;var gC=ss.mkdel(this,function(){this.$r(gB,gz)});gz.add_click(gC);gB.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);var gD=function(){gB.hide()};this.$1c.add_closed(gD);this.$14.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){gz.remove_click(gC);gB.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);gB.remove_hidden(ss.mkdel(this,this.$s));this.$1c.remove_closed(gD)})));if(gx){gz.element.fadeIn()}if(gw){gv.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var gE=$('<li></li>');gE.append(gz.element);gv.append(gE);this.$14.add$1(gB);return true},$s:function(){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},$r:function(e,gv){if(e.get_visible()){e.remove_hidden(ss.mkdel(this,this.$s));e.hide();if(!ss.staticEquals(this.$2$3,null)){this.$2$3(false)}}else{e.add_hidden(ss.mkdel(this,this.$s));var gw=new spiff.ShowMenuOptions(gv.element,true);e.show(gw);if(!ss.staticEquals(this.$2$3,null)){this.$2$3(true)}}},$M:function(e){if(!this.$Z){return}var gv=false;var gw=$('<ul></ul>');if(ss.isValue(this.$17.buttonModels)){for(var gx=0;gx<this.$17.buttonModels.length;++gx){var gy=this.$17.buttonModels[gx];if(gy.get_isPlaceholder()){continue}if(gy.get_isMenuButton()){var gz=ss.isValue(e)&&ss.contains(e,gx);gv=this.$8(gy.get_asMenuButton(),gw,gv,gz)||gv}else if(gy.get_status()!=='hidden'){var gA=ss.isValue(e)&&ss.contains(e,gx);this.$7(gy,gw,gv,gA);gv=true}}}this.$5(gw,gv);if(gv){this.$12.html('').append(gw).removeClass('hide')}else{this.$12.html('').addClass('hide')}},$7:function(e,gv,gw,gx){var gy=this.$g(e);gy.set_context(e.get_legacyCommandModel());this.$4(gy,ss.mkdel(this,this.$q));if(gx){gy.element.fadeIn()}if(gw){gv.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var gz=$('<li></li>');gz.append(gy.element);gv.append(gz)},$g:function(e){var gv=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){var gw=fQ.$a(fQ.$6(e),e.get_name());var gx=$('<div>'+gw+'</div>');gv.setLabelContents(gx)}else{gv.set_label(e.get_name());gv.set_hoverTooltipText(e.get_description())}var gy=new ss.StringBuilder('tab-command');if(ss.isNullOrEmptyString(e.get_imageRes())){gy.append(e.get_commandType())}else{gy.append(fQ.$6(e))}gy.append(' ').append(e.get_status());gv.element.addClass(gy.toString());if(e.get_status()==='disabled'){gv.set_disabled(true)}this.$14.add$1(gv);return gv},$h:function(e){var gv=(ss.isValue(e.get_imageRes())?this.$i(e):fQ.$2(e));fQ.$3(gv);this.$14.add$1(gv);return gv},$i:function(e){var gv=spiff.LabelButton.newMenuButton();gv.set_hoverTooltipText(e.get_description());var gw=fQ.$9(e.get_wrappedCommandItemPresModel().get_iconRes());fQ.$0(gv,gw);fQ.$d(gv,e,gw);return gv},$5:function(e,gv){if(ss.isValue(this.get_model().buttonModels)){var gw=this.get_model().buttonModels;for(var gx=0;gx<gw.length;gx++){var gy=gw[gx];if(!gy.get_isPlaceholder()){continue}var gz=$("<li><div class='tab-separator'>&nbsp;</div></li>");var gA=fQ.$1(gy);this.$14.add$1(gA);var gB=$('<li></li>');gB.append(gA.element);if(gy.get_commandType()===10&&this.$W()&&gv){var gC=_.filter(this.$17.buttonModels,function(gF){return gF.get_commandType()===2});if(ss.isValue(gC)){var gD=e.children().get(2);gz.insertAfter(gD);gB.insertAfter(gz)}else{var gE=e.children().get(0);gB.insertBefore(gE);gz.insertBefore(gE)}}else{if(gv){e.append(gz)}e.append(gB)}}}},$4:function(e,gv){var gw=function(){gv(e)};e.add_click(gw);this.$14.add$1(new tab.CallOnDispose(function(){e.remove_click(gw)}))},$q:function(e){var gv=new ba;gv.command=e.get_context();var gw=gv;this.onCommandExecuted(gw)},$o:function(e){var gv=new p;gv.action=e.get_context();var gw=gv;this.onActionExecuted(gw)},$p:function(e){var gv=e.get_context();if(tab.ActionUtils.ubertipActionNeedsToWaitForServerPresModel(gv)){tab.LegacySessionWaitHandler.get_waitHandler().showAndLock();this.$16=true;this.$X=e.get_labelElement().text()}else{var gw=tab.ModelUtils.getVisualModelFromVisualId(this.$17.visualId,null);var gx=[this.$17.tupleId];tab.UberTipClientCommands.executeUbertipAction(gv,gx,gw)}},$I:function(){if(tab.MiscUtil.isNullOrEmpty$3(this.$17.actions)&&tab.MiscUtil.isNullOrEmpty$3(this.$17.actionPMs)){this.$Y.html('').removeClass('invisible').addClass('hide')}else if(ss.isValue(this.$17.actions)){this.$L()}else{this.$K()}},$L:function(){var e=$('<ul></ul>');for(var gv=0;gv<this.$17.actions.length;gv++){var gw=this.$17.actions[gv];this.$f(e,gw.get_name(),gw,ss.mkdel(this,this.$o))}var gx=tab.DoubleUtil.roundToInt(this.element.height());this.$Y.html('').append(e).removeClass('hide invisible');var gy=tab.DoubleUtil.roundToInt(this.element.height());if(gy!==gx){this.$1c.requestLayout(null,true)}},$K:function(){var e=$('<ul></ul>');var gv=tab.ModelUtils.getVisualModelFromVisualId(this.$17.visualId,null);if(!ss.isValue(gv)){return}var gw=false;var gx=true;for(var gy=0;gy<this.$17.actionPMs.length;gy++){var gz=this.$17.actionPMs[gy];var gA=tab.ActionUtils.getActionType(gz);if(!this.$Z){continue}var gB=gv.get_vizDataModel();var gC=[this.$17.tupleId];var gD=tab.ApplicationModel.get_instance().get_dataDictionary();var gE=tab.VizDataUtils.constructUrlFromString(gD,gz.name,gB,gC,gv.get_worksheetName(),gz.linkSpec);var gF=false;if(ss.isValue(gA)&&ss.unbox(gA)==='url'){var gG=tab.ActionUtils.getUrlActionPm(gz,gv,gC);gF=gG.item2==='urlConstructionFail';if(ss.isNullOrUndefined(gG.item1)||ss.isNullOrEmptyString(gE)){gx=false}}if(!gF){this.$f(e,gE,gz,ss.mkdel(this,this.$p))}if(ss.isValue(gA)&&ss.unbox(gA)==='filter'||gA==='url'){gw=true}}if(e.find('li').length>0){var gH=-1;if(ss.isValue(gv.get_sceneModel())){gH=gv.get_sceneModel().get_paneDescriptorCount()}else{}if(gH>1&&gw||!gx){this.$Y.html('').append(e).removeClass('hide').addClass('invisible')}else{this.$Y.html('').append(e).removeClass('hide invisible')}}},$f:function(e,gv,gw,gx){var gy=spiff.LabelButton.newAnchorButton();gy.set_label(gv);gy.element.addClass('tab-action');gy.set_context(gw);this.$4(gy,gx);this.$14.add$1(gy);var gz=$('<li></li>');gz.append(gy.element);e.append(gz)},$O:function(){tab.MiscUtil.dispose(this.$1a);if(ss.isNullOrUndefined(this.$17.contentCommands)){return}var e={};for(var gv=0;gv<this.$17.contentCommands.length;gv++){var gw=this.$17.contentCommands[gv];e[gw.get_name()]=gw}for(var gx=0;gx<this.$1b.length;gx++){var gy=this.$1b[gx];if(ss.keyExists(e,gy.$0())){this.$k(gy,e)}}},$k:function(e,gv){var gw=e.$2();var gx=new EventUtils.EventHandleSpec;gx.tap=ss.mkdel(this,function(){if(!gw.hasClass('tab-selection-relaxation-selected')){var gz=gv[e.$0()];this.$l(gw,gz)}});var gy=gx;this.$1a.push(new EventUtils.TableauEventHandler(gw.get(0),gy))},$l:function(e,gv){var gw=ss.mkdict(['isSelected',true]);e.data(gw);e.addClass('tab-selection-relaxation-selected');var gx=new ba;gx.command=gv;this.onCommandExecuted(gx)}},{$b:function(e){return e.get_commandType()===10},$7:function(e){return _.find(e.buttonModels,fQ.$b)},$c:function(e){var gv=e.get_wrappedCommandItemPresModel();if(ss.isNullOrUndefined(gv)){return false}return gv.get_iconRes()===':/en_US/TQRC_MERGE'},$8:function(e){return _.find(e.buttonModels,fQ.$c)},$4:function(e,gv){return _.find(e.buttonModels,function(gw){return gw.get_isPlaceholder()&&gw.get_commandType()===gv})},$6:function(e){var gv;if(ss.isNullOrEmptyString(e.get_imageRes())){gv='Command'+e.get_commandType()}else if(ss.endsWithString(e.get_imageRes().toString(),'png')){gv=tab.TabResources.getResourceName(e.get_imageRes())}else{gv=tab.TabResources.lookupFullResourceAlias(e.get_imageRes())}return gv},$a:function(e,gv){if(tab.MiscUtil.isNullOrEmpty$1(e)){return gv}var gw=ss.formatString('Ubertip{0}Mobile',e);var gx=tab.Strings.getString(gw);if(ss.referenceEquals(gx,ss.formatString('!{0}!',gw))){return gv}return gx},$1:function(e){var gv=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){gv.set_label(fQ.$a(fQ.$6(e),e.get_name()))}else{gv.set_label(e.get_name());gv.set_hoverTooltipText(e.get_description())}gv.set_disabled(true);var gw=new ss.StringBuilder('tab-command');gw.append(fQ.$6(e));gv.element.addClass(gw.toString());gv.element.css('visibility','hidden');return gv},$5:function(e){var gv=e.find('.tab-selection-relaxation');for(var gw=0;gw<gv.length;gw++){if(ss.isValue(gv.eq(gw).data('isSelected'))){return gw}}return-1},$2:function(e){var gv=spiff.LabelButton.newNativeButton();gv.set_label(e.get_name());gv.set_hoverTooltipText(e.get_description());$('<span></span>').addClass('tabComboBoxButton').appendTo(gv.element);return gv},$d:function(e,gv,gw){if(tsConfig.is_mobile&&!tab.MiscUtil.isNullOrEmpty$1(gw)){var gx=fQ.$a(gw,gv.get_description());e.setLabelContents($('<div>'+gx+'</div>'))}else{e.set_label(gv.get_name())}},$0:function(e,gv){e.element.addClass(ss.formatString('tab-command{0}',gv))},$3:function(e){e.element.addClass('enabled'.toString())},$9:function(e){return tab.TabResources.getResourceName(tab.TabResources.lookupFullResourceAlias(e))}});var fR=global.tab.UndoKeyboardShortcut=ss.mkType(a,'tab.UndoKeyboardShortcut',function(){fS.call(this)},{getKeyComboOrKeyCombos:function(){var e=new Object;e.controlOrCommand='required';return new KeyboardShortcuts.KeyCombo('z',e)},getCommandId:function(){return{ns:'tabdoc',cmd:'undo'}}});var fS=global.tab.UndoRedoKeyboardShortcut=ss.mkType(a,'tab.UndoRedoKeyboardShortcut',function(){KeyboardShortcuts.CommandKeyboardShortcut.call(this)},{onValidKeyCombo:function(e){if(!KeyboardShortcuts.KeyboardUtilities.IsTargetTextInput(e)){KeyboardShortcuts.KeyboardUtilities.StopPropagationAndDefault(e)}}});var fT=global.tab.URIUtil=ss.mkType(a,'tab.URIUtil',null,null,{absolutizeURI:function(e,gv){if(ss.isValue(e)){e=e.trim()}if(ss.isNullOrEmptyString(e)){return e}var gw=new RegExp('^([a-zA-Z0-9]+):(?!\\d+(/|$))');var gx=e.match(gw);if(ss.isValue(gx)&&gx[1]!=='http'&&gx[1]!=='https'){if(gv){return''}return e}var gy='//';var gz=new RegExp('^https|^/?/?[a-zA-Z0-9.-]+:443(/|$)');var gA=new RegExp('^http|^/?/?[a-zA-Z0-9.-]+:80(/|$)');if(gz.test(e)){gy='https://'}else if(gA.test(e)){gy='http://'}var gB=new RegExp('^(https?:)?/?/?');e=e.replace(gB,gy);return e}});var fU=global.tab.VerticalIteratorButtonTemplate=ss.mkType(a,'tab.VerticalIteratorButtonTemplate',function(){ds.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'></span><br><span class='tabCatLegendScrollNext'></span></div>")},{$1:function(){this.prevButton.addClass('tabCatLegendScrollUp');this.nextButton.addClass('tabCatLegendScrollDown')}});var fV=global.tab.ViewController=ss.mkType(a,'tab.ViewController',function(e){this.$4=null;this.$3=0;this.$5=null;this.$2=new tab.DisposableHolder;this.$1$2=null;this.$4=e},{add_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_cacheVersion:function(){return this.$3},get_viewWidget:function(){return this.$5},get_viewSession:function(){return this.$4},get_sheetName:function(){return this.$4.sheetId},dispose:function(){this.$5=null;this.$2.dispose()},setTiledViewer:function(e){this.$5=e},$1:function(e){if(ss.isNullOrUndefined(e)){return}var gv=e.layoutStatus;if(ss.isNullOrUndefined(gv)){return}if(!tab.CommandController.get().processingRenderModeChange&&!tab.CommandController.get().processingStoryPointChange){this.incrementCacheVersion();var gw=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.get_sheetName());if(gw.get_isVisualValid()){if(ss.isValue(this.$5)){this.$5.doTiledViewerRefreshImages(gw.get_tileCacheUrl())}if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}}},$0:function(e){if(!ss.staticEquals(fV.$1$1,null)){fV.$1$1(this.get_sheetName(),e)}this.$1(e)},incrementCacheVersion:function(){this.$3+=1}},{add_selectionChanged:function(e){fV.$1$1=ss.delegateCombine(fV.$1$1,e)},remove_selectionChanged:function(e){fV.$1$1=ss.delegateRemove(fV.$1$1,e)}});var fW=global.tab.ViewingToolbarCommands=ss.mkType(a,'tab.ViewingToolbarCommands',function(e){this.$g=null;this.$g=e},{get_toolbarViewModel:function(){return this.$g.get_toolbarViewModel()},exportImage:function(e){var gv=[];var gw=[];if(this.$g.get_isDashboard()){if(ss.isValue(this.$g.get_viewControllers())){var gx=this.$g.get_viewControllers();for(var gy=0;gy<gx.length;gy++){var gz=gx[gy];var gA=gz.get_viewWidget().get_scrollPosition();var gB=gA.x;var gC=gA.y;if(gB!==0||gC!==0){gw.push({x:gB,y:gC});gv.push(gz.get_sheetName())}}}}tab.ExportServerCommands.exportImage(tsConfig.current_sheet_name,gv,gw,e)},exportPdf:function(e,gv){var gw=new cB;gw.triggerExportPdfUI(e,gv)},$3:function(){if(this.$g.get_autoUpdate()){this.$e()}},$5:function(){if(!this.$g.get_autoUpdate()){this.$e()}},$1:function(){return this.$g.get_autoUpdate()},$e:function(){this.$g.set_autoUpdate(!this.$g.get_autoUpdate());tab.ToolbarServerCommands.setAutoUpdate(this.$g.get_autoUpdate());if(this.$g.get_autoUpdate()&&this.$g.get_invalid()){tab.CommandController.get().refreshLayout()}},$2:function(){return!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view},$0:function(e){var gv;if(tsConfig.is_metrics_view){gv=this.$g.get_session().metricsViewDownloadUrl()}else{gv=this.$f(e)}window.open(gv)},$4:function(){tab.ToolbarServerCommands.refreshData()},$c:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('share')}},$8:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('customviews')}},$9:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('alert')}},$d:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('subscribe')}},$b:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showPerformanceMetrics()}},$a:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('download')}},$7:function(){},$6:function(){},$f:function(e){if(ss.isValue(e)){var gv=e.match(fW.$1);if(ss.isValue(gv)&&gv.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+gv[1]}}return e}},{exportData:function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual(null).get_worksheetName()}var gv=tab.ModelUtils.findContentDashboard(null).getViewSession(e);if(ss.isValue(gv)){var gw=tab.ModelUtils.findActiveOrDefaultVisual(e).get_visualId();tab.ViewDataDialogFactory.contructViewData(gv.getViewUrl()).open$1(gw)}}});var fX=global.tab.ViewportChangeDetector=ss.mkType(a,'tab.ViewportChangeDetector',function(){this.$8=0;this.$7=false;this.$6=false;this.$1$1=null;this.$1$2=null},{add_viewportChanged:function(e){var gv=ss.staticEquals(this.$1$1,null);this.$9(e);if(gv){this.$3()}},remove_viewportChanged:function(e){this.$a(e);if(ss.staticEquals(this.$1$1,null)){this.$4()}},$9:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$a:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_lastViewportRect:function(){return this.$1$2},set_lastViewportRect:function(e){this.$1$2=e},$5:function(){return(ss.isValue(tab.WindowHelper.get_windowParent().visualViewport)?tab.WindowHelper.get_windowParent().visualViewport:tab.WindowHelper.get_windowParent())},$3:function(){if(tabBootstrap.EmbedAndViewportCalculator.get_embedMode()!=='crossDomainEmbedded'){try{this.$5().addEventListener('scroll',ss.mkdel(this,this.$0));this.$0();return}catch(e){}}this.$8=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$2))},$4:function(){if(tabBootstrap.EmbedAndViewportCalculator.get_embedMode()!=='crossDomainEmbedded'){try{this.$5().removeEventListener('scroll',ss.mkdel(this,this.$0));return}catch(e){}}tab.WindowHelper.cancelAnimationFrame(this.$8)},$0:function(){if(this.$7){this.$6=true;return}this.$7=true;P.getViewport(ss.mkdel(this,this.$1))},$1:function(e){var gv=e.get_dimensions();var gw=ss.isNullOrUndefined(this.get_lastViewportRect())||!tab.RectUtil.isEqual(this.get_lastViewportRect(),gv);if(gw){this.set_lastViewportRect(gv);if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}this.$7=false;if(this.$6){this.$6=false;this.$0()}},$2:function(){this.$0();this.$8=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$2))}},{get_instance:function(){if(ss.isNullOrUndefined(fX.$0)){fX.$0=new fX}return fX.$0}});var fY=global.tab.VisibleSheetAndRepositoryUrl=ss.mkType(a,'tab.VisibleSheetAndRepositoryUrl',function(e,gv){this.sheetName=null;this.repositoryUrl=null;this.sheetName=e;this.repositoryUrl=gv});var fZ=global.tab.VizEvent=ss.mkType(a,'tab.VizEvent',null,null,{add_mobileVizExpandTransform:function(e){fZ.$1$1=ss.delegateCombine(fZ.$1$1,e)},remove_mobileVizExpandTransform:function(e){fZ.$1$1=ss.delegateRemove(fZ.$1$1,e)},add_mobileVizReduceTransform:function(e){fZ.$1$2=ss.delegateCombine(fZ.$1$2,e)},remove_mobileVizReduceTransform:function(e){fZ.$1$2=ss.delegateRemove(fZ.$1$2,e)},notifyMobileVizExpandTransform:function(){if(ss.isValue(fZ.$1$1)){fZ.$1$1()}},notifyMobileVizReduceTransform:function(){if(ss.isValue(fZ.$1$2)){fZ.$1$2()}}});var ga=global.tab.WaitDialog=ss.mkType(a,'tab.WaitDialog',function(e,gv){this.$2=null;this.$3=null;this.$4=null;N.call(this);this.$3=e;this.$4=gv},{handleCommandCompleted:function(){this.$0()},handleCommandError:function(){this.$0()},handleCommandStarted:function(e){this.$2=e;this.$1()},$1:function(){if(ss.isNullOrUndefined(this.$2)||ss.isNullOrUndefined(this.$2.get_remoteCommands())){return}var e=this.$2.get_remoteCommands();if(e.length!==1){return}if(ss.isNullOrUndefined(ga.$0)){this.parentNode=document.createElement('div');var gv=this.$3||{waitingTitle:tab.Strings.WaitDialogDefaultTitleStatus};ga.$0=React.createElement(gb,gv);ReactDOM.render(ga.$0,this.parentNode)}},$0:function(){if(!ss.staticEquals(this.$4,null)){this.$4()}ga.$0=null;this.$2=null;_.defer(ss.mkdel(this,this.dispose))}});var gb=global.tab.WaitDialogComponent=ss.mkType(a,'tab.WaitDialogComponent',function(e){spiff.PureRenderComponent.call(this,e)},{render:function(){return React.createElement(SharedWidgets.DialogWidget,{children:this.$0(),isModal:true,dialogBodyStyle:{height:200+'px',width:375+'px',overflow:'visible',padding:0},disableAutoFocus:true,onCloseRequest:function(){},positioningBehavior:0,shouldAdjustPositionOnWindowResize:true,shouldRecenterOnUpdate:true,shouldReturnFocusOnClose:false,showFooter:false,testId:'WaitingDialog',type:2,zIndex:1000})},$0:function(){var e=new spiff.WaitingComponentProps;e.message=this.props.waitingMessage;e.showButton=false;e.title=this.props.waitingTitle;return React.createElement(spiff.WaitingComponent,e)}});var gc=global.tab.WarningDialog=ss.mkType(a,'tab.WarningDialog',function(e,gv){spiff.ModalDialog.call(this,e,new gd);this.get_titleElement().text(e);var gw=this.template.message;gv.split('\n').forEach(function(gx){gw.append($('<p></p>').text(gx))})});var gd=global.tab.WarningDialogTemplate=ss.mkType(a,'tab.WarningDialogTemplate',function(){this.message=null;spiff.Template.call(this,$(gd.warningTemplate));this.message=this.getElementBySelector('.tab-warning-msg')});var ge=global.tab.WarningDialogViewModel=ss.mkType(a,'tab.WarningDialogViewModel',function(e){this.$2={};this.$1=null;spiff.BaseViewModel.call(this);this.$1=e;e.add_newWarningMessage(ss.mkdel(this,this.$0));this.disposables.add(ss.mkdel(this,function(){e.remove_newWarningMessage(ss.mkdel(this,this.$0))}))},{$0:function(){if(tsConfig.is_authoring||this.$1.get_warningType()==='MissingLocalTiles'){if(!ss.keyExists(this.$2,this.$1.get_warningType())){this.$2[this.$1.get_warningType()]=true;var e=ge.buildWarningDialog(this.$1);this.disposables.add$1(e);e.show()}}}},{init:function(){tab.StartupUtils.callOnceAfterInitialBootstrap(function(){var e=null;tab.ApplicationModel.get_holder().addEventBinding(function(gv){var gw=gv.modelInstance(tab.WarningDialogModel).call(gv);e=new ge(gw)},function(gv){e=tab.MiscUtil.dispose$1(e)})})},buildWarningDialog:function(e){return new gc(e.get_title(),e.get_text())}});var gf=global.tab.WebZoneTemplate=ss.mkType(a,'tab.WebZoneTemplate',function(){this.content=null;spiff.Template.call(this,$("<div class='tab-web'></div>"))},{updateContentTemplate:function(e){this.domRoot.children().detach();this.domRoot.append(e.domRoot)}});var gg=global.tab.WebZoneView=ss.mkType(a,'tab.WebZoneView',function(e,gv){this.$o=null;this.$l=null;this.$j=null;this.$n=null;this.$k=null;this.$m=null;this.$i=null;ss.makeGenericType(spiff.BaseView$1,[gh]).call(this,e,new gf);this.$o=e;this.$l=gv;this.$o.add_newWebZone(ss.mkdel(this,this.handleNewWebZone));this.$l.add_propertyChanged(ss.mkdel(this,this.$b));this.$l.add_resizeZone(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$o.remove_newWebZone(ss.mkdel(this,this.handleNewWebZone));this.$l.remove_propertyChanged(ss.mkdel(this,this.$b));this.$l.remove_resizeZone(ss.mkdel(this,this.$9))})))},{get_zoneModel:function(){return this.$o.get_webZoneModel().get_zoneModel()},get_webZonePresModel:function(){return this.$o.get_webZoneModel().pm},get_domRoot:function(){return this.get_template().domRoot},$h:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.handleNewWebZone()},$b:function(e,gv){if(gv.get_propertyName()==='isActiveZone'){if(this.$l.get_model().get_dashboardModel().get_isFlexibleLayoutEnabled()){this.updateFlexibleLayoutGlass()}else{this.$g()}}},$a:function(){if(tab.FeatureFlags.isEnabled('WebZoneAdminControl')){return tsConfig.is_web_zones_enabled}else{return true}},handleNewWebZone:function(){var e=fT.absolutizeURI(this.get_webZonePresModel().url,true);var gv=this.$l.get_model().get_dashboardModel().get_isFlexibleLayoutEnabled();var gw=tab.WindowHelper.getLocation(window.window).protocol;if(!this.$a()){this.$c()}else if(gw==='https:'&&ss.startsWithString(e,'http:')){this.$d(e)}else if(tab.ApplicationModel.get_instance().get_isOffline()&&ss.startsWithString(e,'//')){}else if(gv&&tsConfig.is_authoring&&!tsConfig.is_mobile&&ss.isNullOrEmptyString(e)){this.$e()}else{this.$f(this.get_webZonePresModel().url);this.resetFlexibleLayoutGlass()}if(gv){this.updateFlexibleLayoutGlass()}else{this.$g()}},$d:function(e){var gv=(tsConfig.is_authoring?new cV(e):new cW(e));this.$h().updateContentTemplate(gv)},$c:function(){var e=new cX(this.get_zoneModel().get_zoneId());this.$h().updateContentTemplate(e)},$e:function(){var e=new gi;this.$h().updateContentTemplate(e)},$f:function(e){if(!this.$a()){this.$c();return}if(ss.isNullOrUndefined(this.$j)){this.$j=new dg('frame_'+this.get_zoneModel().get_zoneId(),this.$l)}tab.DomUtil.resize(this.$j.get_frame()[0],{l:0,t:0,w:this.get_zoneModel().get_contentWidth(),h:this.get_zoneModel().get_contentHeight()});var gv=fT.absolutizeURI(e,true);if(tab.ApplicationModel.get_instance().get_isOffline()&&ss.startsWithString(gv.toString(),'//')){}else{this.$j.setSrc(gv,e)}if(this.$j.domRoot.parent().length===0){this.$h().updateContentTemplate(this.$j)}},$8:function(e){if(this.$l.get_model().get_dashboardModel().get_isFlexibleLayoutEnabled()&&bx.isMultiSelectClick(e)){this.$l.setActiveAndUpdateReadyZone('addorremove',e.clientX,e.clientY)}else{this.$l.setActiveAndUpdateReadyZone('replace',e.clientX,e.clientY)}},$7:function(e,gv,gw,gx){var gy=0-this.$l.get_styledBoxModel().get_paddingTop()-this.$l.get_styledBoxModel().get_marginTop()-this.$l.get_styledBoxModel().get_borderTop().width+e+'px';var gz=0-this.$l.get_styledBoxModel().get_paddingLeft()-this.$l.get_styledBoxModel().get_marginLeft()-this.$l.get_styledBoxModel().get_borderLeft().width+gv+'px';var gA=((gw===0)?this.$l.get_width():gw)+'px';var gB=((gx===0)?this.$l.get_height():gx)+'px';return{top:gy,left:gz,height:gB,width:gA}},resetFlexibleLayoutGlass:function(){if(!ss.isNullOrUndefined(this.$n)){this.$n.dispose();this.$n.remove_clickWithEvent(ss.mkdel(this,this.$8));this.$n=null}if(!ss.isNullOrUndefined(this.$i)){this.$i.dispose();this.$i.remove_clickWithEvent(ss.mkdel(this,this.$8));this.$i=null}if(!ss.isNullOrUndefined(this.$k)){this.$k.dispose();this.$k.remove_clickWithEvent(ss.mkdel(this,this.$8));this.$k=null}if(!ss.isNullOrUndefined(this.$m)){this.$m.dispose();this.$m.remove_clickWithEvent(ss.mkdel(this,this.$8));this.$m=null}var e=new spiff.Glass(this.element[0],false);e.set_opaque(false);this.$n=e;this.$n.add_clickWithEvent(ss.mkdel(this,this.$8));this.disposables.add$1(this.$n);var gv=new spiff.Glass(this.element[0],false);gv.set_opaque(false);this.$i=gv;this.$i.add_clickWithEvent(ss.mkdel(this,this.$8));this.disposables.add$1(this.$i);var gw=new spiff.Glass(this.element[0],false);gw.set_opaque(false);this.$k=gw;this.$k.add_clickWithEvent(ss.mkdel(this,this.$8));this.disposables.add$1(this.$k);var gx=new spiff.Glass(this.element[0],false);gx.set_opaque(false);this.$m=gx;this.$m.add_clickWithEvent(ss.mkdel(this,this.$8));this.disposables.add$1(this.$m)},updateFlexibleLayoutGlass:function(){if(!tsConfig.is_authoring||tsConfig.is_mobile){return}if(ss.isNullOrUndefined(this.$n)){this.resetFlexibleLayoutGlass()}if(this.$l.get_isActiveZone()){this.$n.element.css(this.$7(0,0,0,10));this.$n.show();this.$k.element.css(this.$7(0,0,10,0));this.$k.show();this.$m.element.css(this.$7(0,this.$l.get_width()-10,10,0));this.$m.show();this.$i.element.css(this.$7(this.$l.get_height()-10,0,0,10));this.$i.show()}else{this.$n.element.css(this.$7(0,0,0,0));this.$n.show();this.$k.hide();this.$m.hide();this.$i.hide()}},$g:function(){if(!tsConfig.is_authoring||tsConfig.is_mobile){return}if(ss.isNullOrUndefined(this.$n)){var e=new spiff.Glass(this.element[0],false);e.set_opaque(false);this.$n=e;this.$n.add_clickWithEvent(ss.mkdel(this,this.$8));this.disposables.add$1(this.$n)}if(this.$l.get_isActiveZone()){this.$n.hide()}else{this.$n.show()}},$9:function(){this.handleNewWebZone()}});var gh=global.tab.WebZoneViewModel=ss.mkType(a,'tab.WebZoneViewModel',function(e){this.$1=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$1=e;this.$1.add_newWebZone(ss.mkdel(this,this.handleNewWebZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$1.remove_newWebZone(ss.mkdel(this,this.handleNewWebZone))})))},{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_webZoneModel:function(){return this.$1},get_url:function(){return this.get_webZoneModel().get_url()},handleNewWebZone:function(){this.$0()},$0:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}});var gi=global.tab.WebZoneWithEmptyURLMessage=ss.mkType(a,'tab.WebZoneWithEmptyURLMessage',function(){spiff.Template.call(this,$("<div class='webZoneEmptyURL'><div class='message'></div></div>"));this.$1().text(tab.Strings.WebZoneEmptyURL)},{$1:function(){return this.domRoot.find('.'+'message')}});var gj=global.tab.WidgetPluginContainer=ss.mkType(a,'tab.WidgetPluginContainer',function(e){this.$0=null;this.$1=false;React.PureComponent.call(this,e);var gv=new gl;gv.componentType=null;this.state=gv;this.$0=tab.ModuleManager.load(e.moduleName,[])},{componentDidMount:function(){this.$1=true;this.$0.done(ss.mkdel(this,function(e){if(!this.$1){return}var gv=new gl;gv.componentType=e;this.setState(gv)}))},componentWillUnmount:function(){this.$1=false},render:function(){if(ss.isNullOrUndefined(this.state.componentType)){return null}return React.createElement(this.state.componentType,this.props.initialProps)}});var gk=global.tab.WidgetPluginContainerProps=ss.mkType(a,'tab.WidgetPluginContainerProps',function(){this.moduleName=null;this.initialProps=null});var gl=global.tab.WidgetPluginContainerState=ss.mkType(a,'tab.WidgetPluginContainerState',function(){this.componentType=null});var gm=global.tab.WidgetUtil=ss.mkType(a,'tab.WidgetUtil',null,null,{newMenuItemsFromCommands:function(e,gv,gw,gx){if(ss.isNullOrUndefined(gv)){return}var gy=tab.CommandsPresModelWrapper.create(gv);if(ss.isNullOrUndefined(gy.get_commandItems())){return}var gz=ss.coalesce(gy.get_defaultItem(),-1);var gA=-1;var gB=true;var gC=gy.get_commandItems();for(var gD=0;gD<gC.length;gD++){var gE=gC[gD];gA++;var gF=null;var gG=tab.CommandItemWrapper.create(gE);if(!gm.$3(gG,gx)){continue}switch(gG.get_commandsType()){case'item':{gF=spiff.MenuItem.newItem(gw(gE),gG.get_name(),gG.get_telemetryId(),null,null);gF.description=gG.get_descriptionText();gF.enabled=ss.isNullOrUndefined(gG.get_enabled())||gG.get_enabled();break}case'separator':{if(!gB){gF=spiff.MenuItem.newDivider()}break}case'subcommands':{var gH=[];gm.newMenuItemsFromCommands(gH,gG.get_commands(),gw,gx);if(gH.length>0){gF=spiff.MenuItem.newItem(null,gG.get_name(),gG.get_telemetryId(),0,new spiff.Menu(gH))}break}}if(ss.isValue(gF)){var gI=gA===gz||gG.get_isDefault();gm.$4(gF,gG,gI);e.push(gF);gB=gF.isDivider}}if(e.length>0&&e[e.length-1].isDivider){ss.removeAt(e,e.length-1)}},$4:function(e,gv,gw){e.enabled=gv.get_enabled();e.isDefault=gw&&e.enabled;if(gv.get_isRadioOn()){e.checkState=2}else if(gv.get_isChecked()){e.checkState=1}if(ss.isValue(gv.get_colorSwatch())){var gx='swatch-'+ss.replaceAllString(gv.get_colorSwatch().toString(),'#','');e.itemClass=ss.formatString('{0} {1}',gm.colorSwatchMenuItemClass,gx)}if(gv.get_hasIcon()&&ss.isNullOrUndefined(e.iconClass)){var gy=tab.TabResources.getResourceName(tab.TabResources.lookupFullResourceAlias(gv.get_iconRes()));if(!tab.MiscUtil.isNullOrEmpty$1(gy)){e.iconClass=gy}}},$3:function(e,gv){if(!e.get_isVisible()){return false}if(ss.isValue(e.get_command())&&ss.isValue(gv)){var gw=new tab.CommandModel;gw.command=tab.CommandSerializer.deserialize(e.get_command(),false);var gx=gw;tab.UbertipSerializer.setCommandType(gx);return gv.test(gx)}return true},createDropdownMenuCommandHandler:function(e){var gv=tab.CommandItemWrapper.create(e);var gw=tab.CommandSerializer.deserialize(gv.get_command(),false);var gx;gx=ss.mkdel(this,function(){var gy={ns:gw.commandNamespace,cmd:gw.commandName};if(tab.RichTextClientCommands.isRichTextEditingCommand(gw)){tab.RichTextClientCommands.callRichTextEditingCommand(gw)}else if(tab.DashboardButtonClientCommands.isGetButtonConfigDialogCommand(gw)){tab.DashboardButtonClientCommands.callGetButtonConfigDialogCommand(gw)}else if(tab.WebCommandRegistry.get_instance().hasCommand(gy)){var gz=tab.WebCommandRegistry.get_instance().createCommandWithParams(gy,gw.commandParams);gz.invoke()}else{var gA=gm.$2(gw);tab.ServerCommands.executeServerCommand(gw,gA,tab.CommandUtils.createCommandRedirectSuccessHandler(null),null)}});return gx},$2:function(e){var gv='immediately';if(ss.contains(gm.$6,e.commandName)){gv='none'}return gv},commandMenuItemClicked:function(e){if(ss.referenceEquals(ss.getInstanceType(e.data),Function)){e.data()}else{var gv=e.data;tab.ServerCommands.executeServerCommand(gv,'immediately',null,null)}},menuViewModelFromCommands:function(e,gv,gw,gx,gy){tab.Param.verifyValue(e,'commands');var gz=tab.CommandsPresModelWrapper.create(e);if(tab.MiscUtil.isNullOrEmpty$3(gz.get_commandItems())){if(ss.isValue(gw)){gw()}return null}var gA=[];gm.newMenuItemsFromCommands(gA,e,gy||gm.createDropdownMenuCommandHandler,null);var gB=new spiff.Menu(gA);var gC=spiff.MenuViewModel.createForMenu(gB,gv,gw,gx);return gC},getMenuItemsInFlatList:function(e){var gv=[];if(ss.isValue(e)){for(var gw=0;gw<e.length;gw++){var gx=e[gw];gm.$1(gx,gv)}}return gv},$1:function(e,gv){if(e.isDivider){}else if(ss.isValue(e.subMenu)&&ss.isValue(e.subMenu.menuItems)){for(var gw=0;gw<e.subMenu.menuItems.length;gw++){var gx=e.subMenu.menuItems[gw];gm.$1(gx,gv)}}else{gv.push(e)}},getMenuItemInfos:function(e){var gv=[];if(ss.isValue(e)){for(var gw=0;gw<e.length;gw++){var gx=e[gw];gm.$0(gx,gv)}}return gv},$0:function(e,gv){var gw=((e.checkState===1||e.checkState===2)?true:null);if(e.isDivider){gv.push({isDivider:true})}else if(ss.isValue(e.subMenu)){var gx=[];for(var gy=0;gy<e.subMenu.menuItems.length;gy++){var gz=e.subMenu.menuItems[gy];gm.$0(gz,gx)}gv.push({value:e.name,displayValue:e.name,checked:gw,disabled:!e.enabled,menuItemInfos:gx})}else{gv.push({value:e.name,displayValue:e.name,checked:gw,disabled:!e.enabled})}}});var gn=global.tab.WorkbookTemplate=ss.mkType(a,'tab.WorkbookTemplate',function(){this.dashboardSpacer=null;this.centeringContainer=null;spiff.Template.call(this,gn.$0());this.dashboardSpacer=this.domRoot;this.centeringContainer=$('#centeringContainer')},null,{$0:function(){return $("<div id='dashboard-spacer' class='dashboardSpacer' role='application'></div>")}});var go=global.tab.WorkbookView=ss.mkType(a,'tab.WorkbookView',function(e){this.$h=null;this.$g=null;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[gp]).call(this,e,new gn);this.$h=e;this.$h.add_dashboardUpdated(ss.mkdel(this,this.$8));this.$h.add_newDataConnectionPrompt(ss.mkdel(this,this.$9));I.add_applicationSizeChanged(ss.mkdel(this,this.$a));if(this.$h.get_hasPrompt()){this.$9()}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h.remove_dashboardUpdated(ss.mkdel(this,this.$8));this.$h.remove_newDataConnectionPrompt(ss.mkdel(this,this.$9));I.remove_applicationSizeChanged(ss.mkdel(this,this.$a))})));this.handleFullScreenChanged()},{get_dom:function(){return this.get_template()},get_containerNode:function(){return(ss.isNullOrUndefined(this.$e())?null:this.$e().get_containerNode())},$e:function(){return this.$3$1},$f:function(e){this.$3$1=e},get_dashboardSpacerSize:function(){if(ss.isValue(this.$e())&&ss.isValue(this.$e().get_dashboardSize())){return tab.DashboardSizeCalculator.calculateContainerSize(this.$e().get_dashboardSize())}else{return null}},dispose:function(){this.$c();this.$f(tab.MiscUtil.dispose$1(this.$e()));this.$g=tab.MiscUtil.dispose$1(this.$g);ss.makeGenericType(spiff.BaseView$1,[gp]).prototype.dispose.call(this)},$c:function(){var e=$(H.tabContainerSelector);e.appendTo(this.get_dom().centeringContainer)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$7();this.$8();this.get_dom().dashboardSpacer.scroll(ss.mkdel(this,function(e){this.$b()}));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_dom().dashboardSpacer.off('scroll')})))},$7:function(){var e=$(H.tabContainerSelector);e.appendTo(this.get_dom().dashboardSpacer)},$8:function(){if(ss.isValue(this.$h.get_dashboardViewModel())){if(tab.NaturalLanguageUtil.isNlpView()){dR.render()}this.$h.get_dashboardViewModel().add_sizeChanged(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h.get_dashboardViewModel().remove_sizeChanged(ss.mkdel(this,this.$a))})));this.$f(tab.ObjectRegistry.newView(bx).call(null,[this.$h.get_dashboardViewModel()]));this.$e().addToDom(this.get_dom().dashboardSpacer);this.colorDashboardSpacer();this.get_dom().dashboardSpacer.css('visibility',(tab.NaturalLanguageUtil.isNlpView()?'hidden':'visible'))}this.resizeDashboardSpacer()},$a:function(){this.resizeDashboardSpacer();this.get_viewModel().raiseWorkbookResized()},resizeDashboardSpacer:function(){var e=this.get_dashboardSpacerSize();if(ss.isValue(e)){var gv=null;gv=(tsConfig.is_authoring?{overflow:(this.get_viewModel().get_scrollDashboardArea()?'auto':'')}:{margin:'auto'});this.get_dom().dashboardSpacer.css(gv);var gw=(tsConfig.is_authoring?this.$h.get_dashboardContainerBounds():tab.DashboardSizeCalculator.asRect(e));tab.DomUtil.setContentBox(this.get_dom().dashboardSpacer.get(0),gw);var gx=tab.FeatureParamsLookup.getBool(57);if(gx){var gy={overflow:'hidden'};$(H.dashboardViewportSelector).css(gy)}else if(BrowserSupport.BrowserSupport.IsIE()){var gz=tab.DashboardSizeCalculator.get_dashboardViewportSizeWithTabs();var gA={overflow:'hidden'};if(gz.w<e.w||gz.h<e.h){gA.overflow='auto'}$(H.dashboardViewportSelector).css(gA)}}else{var gB=this.$h.get_dashboardContainerBounds();var gC={overflow:''};if(this.get_viewModel().get_scrollDashboardArea()){gC.overflow='auto'}this.get_dom().dashboardSpacer.css(gC);tab.DomUtil.setContentBox(this.get_dom().dashboardSpacer.get(0),gB);this.$d()}if(tsConfig.is_authoring){this.$b()}},$b:function(){if(ss.isValue(this.get_viewModel().get_dashboardViewModel())&&this.get_viewModel().get_dashboardViewModel().get_isStory()){tab.ModuleManager.load$1(tab.IStoryModule).call(null,[]).done(function(e){e.fireCloseStoryUberMenu()})}},handleFullScreenChanged:function(){if(tsConfig.isPublic){spiff.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){spiff.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$a))})))}},$d:function(){if(BrowserSupport.BrowserSupport.IsIE()&&BrowserSupport.BrowserSupport.BrowserVersion()<=11){this.get_dom().centeringContainer.css('height','');if(spiff.FullscreenUtil.get_inFullscreenMode()){var e=this.$h.get_dashboardContainerBounds().h;e+=tabBootstrap.VizLayoutConstants.get_tabsHeight();e+=(tsConfig.toolbarContainerVis?tabBootstrap.VizLayoutConstants.get_vizToolbarHeight():0);this.get_dom().centeringContainer.css('height',e+'px')}}},colorDashboardSpacer:function(){var e=this.$h.get_dashboardBackgroundColor();if(ss.isValue(this.$h.get_dashboardViewModel())&&this.$h.get_dashboardViewModel().get_hasGutter()){e=''}this.get_dom().dashboardSpacer.css('background-color',e)},$9:function(){tab.ModuleManager.load$1(tab.IDataConnectionModule).call(null,[]).done(ss.mkdel(this,function(e){this.$g=e.createDataConnectionPromptView(this.$h.get_connectionPromptViewModel())}))}},{findDashboardContainer:function(){return $(go.dashboardSpacerSelector)}});var gp=global.tab.WorkbookViewModel=ss.mkType(a,'tab.WorkbookViewModel',function(e){this.$5=null;this.$4=null;this.$3=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$5=e;this.$5.addDashboardUpdatedHandler(ss.mkdel(this,this.$0));this.$5.add_newDataConnectionPrompt(ss.mkdel(this,this.$1));this.$5.add_dataConnectionPromptDismissed(ss.mkdel(this,this.$2));if(this.$5.get_hasPrompt()){this.$1(this.$5.get_connectionPromptModel())}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newDataConnectionPrompt(ss.mkdel(this,this.$1));this.$5.remove_dataConnectionPromptDismissed(ss.mkdel(this,this.$2))})))},{add_dashboardUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_dashboardUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_hasPrompt:function(){return this.$5.get_hasPrompt()},get_dashboardViewModel:function(){return this.$4},get_connectionPromptViewModel:function(){return this.$3},get_scrollDashboardArea:function(){if(!tsConfig.is_authoring||this.$5.get_sheetType()==='worksheet'){return false}var e=false;if(ss.isValue(this.get_dashboardViewModel())&&ss.isValue(this.get_dashboardViewModel().get_size())){var gv=this.get_dashboardViewModel().get_size();var gw=this.get_dashboardPortSizeContainer();e=gv.w===gw.w&&gv.h===gw.h}return!e},get_contentDashboardViewModel:function(){if(!this.$5.get_isCurrentSheetStoryboard()){return this.$4}var e=this.$4.get_zoneViewModels();var gv=_.keys(e);for(var gw=0;gw<gv.length;gw++){var gx=gv[gw];var gy=e[gx];if(gy.get_zoneType()==='flipboard'){if(ss.isNullOrUndefined(gy.get_zoneContentViewModel())){return null}return gy.get_zoneContentViewModel().get_dashboardViewModel()}}return null},get_dashboardPortSizeContainer:function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize(tsConfig.current_sheet_type);var gv={l:0,t:0,w:e.w,h:e.h};return gv},get_dashboardContainerBounds:function(){var e=F.calculateClientBounds();return{l:0,t:0,w:e.w,h:e.h}},get_dashboardBackgroundColor:function(){return this.get_dashboardViewModel().get_backgroundColor()},dispose:function(){if(ss.isValue(this.$4)){this.$4.dispose()}if(ss.isValue(this.$3)){this.$3.dispose()}this.$5.remove_dashboardUpdated(ss.mkdel(this,this.$0));spiff.BaseViewModel.prototype.dispose.call(this)},$0:function(e){if(ss.isValue(this.$4)){this.$4.dispose()}this.$4=by.new$1(e);this.raiseActionEvent(this.$2$1)},$1:function(e){if(ss.isNullOrUndefined(this.get_connectionPromptViewModel())){tab.ModuleManager.load$1(tab.IDataConnectionModule).call(null,[]).done(ss.mkdel(this,function(gv){this.$3=gv.createDataConnectionPromptViewModel(e);this.raiseActionEvent(this.$2$2)}))}else{this.get_connectionPromptViewModel().get_promptUpdated()(e)}},$2:function(){this.$3=tab.MiscUtil.dispose$1(this.get_connectionPromptViewModel())},raiseWorkbookResized:function(){this.raiseActionEvent(gp.$2$3)}},{add_workbookResized:function(e){gp.$2$3=ss.delegateCombine(gp.$2$3,e)},remove_workbookResized:function(e){gp.$2$3=ss.delegateRemove(gp.$2$3,e)}});var gq=global.tab.ZoneTemplate=ss.mkType(a,'tab.ZoneTemplate',function(){spiff.Template.call(this,$("<div class='tab-zone'><div class='tab-zone-margin'><div class='tab-zone-padding'></div></div></div>"))},{get_zoneExtension:function(){return this.domRoot.children('.tab-zoneExtension')},get_zoneMargin:function(){return this.domRoot.children('.'+'tab-zone-margin')},get_zonePadding:function(){return this.get_zoneMargin().children('.'+'tab-zone-padding')},get_contentHolder:function(){return this.get_zonePadding()}});var gr=global.tab.ZoneView=ss.mkType(a,'tab.ZoneView',function(e){this.$H=null;this.$F=null;this.$E=null;this.$G=0;this.$B='';this.$C=null;this.$D=$.Deferred();ss.makeGenericType(spiff.BaseView$1,[gs]).call(this,e,new gq);this.$A().add_updateZone(ss.mkdel(this,this.$p));this.$A().add_resizeZone(ss.mkdel(this,this.$n));this.$A().add_zoneVisibilityChanged(ss.mkdel(this,this.$n));this.$A().add_updateZIndex(ss.mkdel(this,this.$o));this.$A().add_newZoneContent(ss.mkdel(this,this.$h));this.$A().add_validStateChanged(ss.mkdel(this,this.$t));this.$A().add_designModeChanged(ss.mkdel(this,this.$w));this.$A().add_flexibleZoneDragHide(ss.mkdel(this,this.$c));this.$A().add_flexibleZoneDragShow(ss.mkdel(this,this.$d));if(tsConfig.is_authoring){this.disposables.add$1(new spiff.HoverBehavior.$ctor1(this,null,ss.mkdel(this,this.$q),ss.mkdel(this,this.$r),ss.mkdel(this,this.$g)))}this.$G=0;this.$C=null},{$7:function(){return this.$H},$8:function(e){this.$H=e;this.$b(ss.mkdel(this,function(){this.$H.addToDom(this.get_dom().get_contentHolder())}))},$A:function(){return this.get_viewModel()},get_parameterControlView:function(){return this.$7()},get_dom:function(){return this.get_template()},get_doesDomRootHaveHeightOrWidth:function(){var e=this.get_template().domRoot.get(0);return!(e.offsetHeight===0)&&!(e.offsetWidth===0)},dispose:function(){this.$A().remove_updateZone(ss.mkdel(this,this.$p));this.$A().remove_resizeZone(ss.mkdel(this,this.$n));this.$A().remove_zoneVisibilityChanged(ss.mkdel(this,this.$n));this.$A().remove_updateZIndex(ss.mkdel(this,this.$o));this.$A().remove_newZoneContent(ss.mkdel(this,this.$h));this.$A().remove_validStateChanged(ss.mkdel(this,this.$t));if(ss.isValue(this.$H)){this.$H.dispose();this.$H=null}this.$v();ss.makeGenericType(spiff.BaseView$1,[gs]).prototype.dispose.call(this)},$v:function(){if(ss.isValue(this.$F)){this.$F.dispose();this.$F.remove_click(ss.mkdel(this,this.$f));this.$F=null}},$u:function(){if(ss.isValue(this.$E)){this.$E.remove_clickWithEvent(ss.mkdel(this,this.$a));this.$E.dispose();this.$E=null}},onViewModelPropertyChanged:function(e,gv){ss.makeGenericType(spiff.BaseView$1,[gs]).prototype.onViewModelPropertyChanged.call(this,e,gv);if(gv.get_propertyName()==='isActiveZone'){this.$x()}if(gv.get_propertyName()==='isReadyZone'){this.$y()}},$w:function(){if(tab.DashboardModel.get_designModeEnabled()&&this.$A().get_model().get_dashboardModel().get_isFlexibleLayoutEnabled()){if(ss.isNullOrUndefined(this.$E)){this.$E=new spiff.Glass(this.get_template().domRoot.get(0),true);this.$E.setColor(this.$A().get_model().get_dashboardModel().get_backgroundColor());this.$E.set_opaque(true);this.$E.add_clickWithEvent(ss.mkdel(this,this.$a))}this.$E.show()}else{this.$u()}},$d:function(){this.get_template().domRoot.css('visibility','')},$c:function(){this.get_template().domRoot.css('visibility','hidden')},disable:function(){if(this.get_doesDomRootHaveHeightOrWidth()){this.$v();this.$F=new spiff.Glass(this.get_template().domRoot.get(0),true);this.$F.setColor(this.$A().get_model().get_dashboardModel().get_backgroundColor());this.$F.set_opaque(true);this.$F.set_preventWebPageScroll(true);this.$F.add_click(ss.mkdel(this,this.$f));this.$F.show()}},$f:function(){this.$A().zoneGlassClicked()},$a:function(e){if(this.$A().get_model().get_dashboardModel().get_isFlexibleLayoutEnabled()&&bx.isMultiSelectClick(e)){this.$A().setActiveAndUpdateReadyZone('addorremove',e.clientX,e.clientY)}else{this.$A().setActiveAndUpdateReadyZone('replace',e.clientX,e.clientY)}},$z:function(){if(ss.isValue(this.$F)&&tab.ApplicationModel.get_instance().get_autoUpdate()){this.$F.element.css('cursor','progress')}},$e:function(){this.$v()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isNullOrUndefined(this.$7())){this.$p();this.$n();if(ss.isValue(this.$A().get_zoneContentViewModel())){this.$h(this.$A().get_zoneContentViewModel())}this.$b(ss.mkdel(this,this.$t))}this.$b(ss.mkdel(this,function(){if(ss.contains(gr.$4,this.$A().get_zoneType())){this.element.addClass('tabSuppressVizTooltipsAndOverlays')}this.element.addClass('tabZone-'+this.$A().get_zoneType());if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!BrowserSupport.BrowserSupport.IsIE()){this.get_template().domRoot.addClass('fade-bg')}if(this.get_viewModel().get_isSetActiveZoneSupported()){var e=spiff.TableauClickHandler.targetAndClick(this.element[0],ss.mkdel(this,function(gv){if(ss.isValue(this.$A().get_model())&&this.$A().get_model().get_dashboardModel().get_isFlexibleLayoutEnabled()&&bx.isMultiSelectClick(gv)){this.get_viewModel().setActiveAndUpdateReadyZone('addorremove',gv.clientX,gv.clientY)}else{this.get_viewModel().setActiveAndUpdateReadyZone('replace',gv.clientX,gv.clientY)}}));e.set_stopPropagationOnEvent(false);this.disposables.add$1(e)}}))},$x:function(){this.get_template().domRoot.toggleClass('tabZoneSelected',this.get_viewModel().get_isActiveZone())},$y:function(){this.get_template().domRoot.toggleClass('tabZoneReady',this.get_viewModel().get_isReadyZone())},$p:function(){this.$o();this.get_template().domRoot.attr('id',gr.$0(this.get_viewModel().get_zoneId()));this.$x();var e=this.$A().get_zoneType();this.$w();var gv=e==='layout-flow'||e==='layout-free-form'||e==='empty'||e==='layout-stack'||e==='layout-grid';this.get_template().domRoot.toggleClass('wcLayoutContainer',gv);this.get_dom().get_zoneMargin().css(this.$A().get_marginCss());this.get_dom().get_zoneMargin().css(this.$A().get_borderCss());this.get_dom().get_zonePadding().css(this.$A().get_paddingCss());if(ss.contains(gr.zonesThatUseStyledBox,e)){this.get_dom().get_contentHolder().css(this.$A().get_contentContainerCss())}else{var gw=this.$A().get_backgroundColor();if(!ss.referenceEquals(gw,this.$B)){this.get_dom().get_contentHolder().css('background-color',gw);this.$B=gw}}this.get_dom().get_contentHolder().toggleClass('tab-darkBackground',this.$A().get_contentHasDarkBackground());if(ss.isValue(this.$7())&&e==='paramctrl'){this.get_parameterControlView().updateViewProperties()}this.$t()},$o:function(){var e=this.$A().get_zoneZIndex();if(e!==this.$G){this.$G=e;this.get_template().domRoot.css('z-index',e.toString())}},$n:function(){var e=this.$A();var gv={width:e.get_width()+'px',height:e.get_height()+'px',top:e.get_y()+'px',left:e.get_x()+'px'};var gw=(e.get_isVisible()?'':'hidden');this.get_template().domRoot.css(gv);this.get_template().domRoot.css('visibility',gw)},$t:function(){if(!this.$A().get_valid()){this.disable();if(tab.ApplicationModel.get_instance().get_isOffline()){return}if(this.$A().get_isVisualValid()){this.$z()}}else{if(ss.isValue(this.$F)){if(!ss.staticEquals(gr.$3$1,null)){gr.$3$1()}}this.$e()}},$m:function(e,gv){var gw=tsConfig.current_sheet_type==='dashboard';var gx=tsConfig.current_sheet_type==='story'&&this.$s();if(e&&(gw||gx)){var gy=this.disposables;var gz=this.get_dom().domRoot[0];var gA=this.get_viewModel();gy.add$1(spiff.TableauClickHandler.targetAndDoubleClick(gz,ss.mkdel(gA,gA.openRichTextEditorDialog)))}var gB=(ss.isValue(this.$A().get_model())?this.$A().get_model().get_dashboardModel():null);var gC=gw&&ss.isValue(gB)&&gB.get_isFlexibleLayoutEnabled();var gD=new ft.$ctor2(gv,1,gC);this.$8(gD)},$l:function(e,gv){var gw=tsConfig.current_sheet_type==='dashboard';var gx=tsConfig.current_sheet_type==='story'&&this.$A().get_model().get_isStorySpecific();if(e&&(gw||gx)){var gy=this.disposables;var gz=this.get_dom().domRoot[0];var gA=this.get_viewModel();gy.add$1(spiff.TableauClickHandler.targetAndDoubleClick(gz,ss.mkdel(gA,gA.openRichTextEditorDialog)))}var gB=(ss.isValue(this.$A().get_model())?this.$A().get_model().get_dashboardModel():null);var gC=gw&&ss.isValue(gB)&&gB.get_isFlexibleLayoutEnabled();var gD=new ft.$ctor2(gv,-1,gC);this.$8(gD)},$k:function(e){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.ICategoricalLegendViewModel)){this.$8(tab.ObjectRegistry.resolve(ss.makeGenericType(tab.ICategoricalLegendView$1,[tab.ICategoricalLegendViewModel])).call(null,[e]))}else if(ss.isInstanceOfType(e,tab.IQuantitativeColorLegendViewModel)){tab.ModuleManager.load$1(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gv){this.$8(gv.createQuantitativeColorLegendView(e))}))}}else{tab.ModuleManager.load$1(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gv){var gw=gv.createLegacyLegendView(e);this.$8(gw)}))}},$j:function(e){tab.ModuleManager.load$1(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(gv){this.$C=gv.newFlipboardNavigatorView(e).pipe(function(gw){return gw});this.$D.resolve(this.$A().get_zoneType());this.$C.done(ss.mkdel(this,function(gw){var gx=gw;this.$8(gx);this.$9()}))}))},$i:function(e){if(this.$A().get_objectType()==='button'){this.$8(tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[U,Q,Object])).call(null,[e]))}else if(this.$A().get_objectType()==='extension'){this.$8(new cF(e,this.$A()))}},$h:function(e){var gv=this.$A().get_zoneType();var gw=tsConfig.is_authoring&&!tsConfig.is_mobile;switch(gv){case'title':{this.$m(gw,e);break}case'text':{this.$l(gw,e);break}case'size':case'shape':case'color':case'map':{this.$k(e);break}case'current-page':{tab.ModuleManager.load$1(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gx){this.$8(gx.createPageView(e))}));break}case'filter':case'set-membership':{tab.ModuleManager.load$1(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gx){this.$8(gx.createLegacyQuickFilterDisplayView(e))}));break}case'highlighter':{this.$8(tab.ObjectRegistry.newView(bP).call(null,[e]));break}case'paramctrl':{tab.ModuleManager.load$1(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gx){this.$8(gx.createParameterControlView(e))}));break}case'flipboard-nav':{this.$j(e);break}case'flipboard':{tab.ModuleManager.load$1(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(gx){this.$8(gx.newFlipboardView(e))}));break}case'web':{this.$8(new gg(e,this.$A()));break}case'dashboard-object':{this.$i(e);break}case'bitmap':{this.$8(new dl(e,this.$A()));break}case'viz':{tab.ModuleManager.load$1(tab.IVizZoneModule).call(null,[]).done(ss.mkdel(this,function(gx){this.$8(gx.createPaneTableView(e))}));break}case'layout-flow':{this.$8(tab.ObjectRegistry.newView(cp).call(null,[e]));break}case'layout-stack':{if(tab.FeatureFlags.isEnabled('FlexibleDashboard')&&tab.FeatureFlags.isEnabled('ZoneStackContainer')){this.$8(tab.ObjectRegistry.newView(cv).call(null,[e]))}else{}break}case'layout-grid':{if(tab.FeatureFlags.isEnabled('FlexibleDashboard')&&tab.FeatureFlags.isEnabled('TwoDimensionalContainer')){this.$8(tab.ObjectRegistry.newView(ct).call(null,[e]))}else{}break}default:{break}}this.$9()},$s:function(){return ss.referenceEquals(this.$A().get_dashboardSheetName(),tsConfig.current_sheet_name)},$9:function(){if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!BrowserSupport.BrowserSupport.IsIE()){if(ss.isValue(this.$7())){this.$7().get_rootElement().addClass('fade-in')}}},$q:function(e){this.$A().get_model().get_dashboardModel().set_readyZoneID(this.$A().get_zoneId())},$g:function(e){if(this.$A().get_model().get_dashboardModel().get_isFlexibleLayoutEnabled()){this.$A().get_model().get_dashboardModel().set_readyZoneID(this.$A().getNextReadyZone(e.clientX,e.clientY))}},$r:function(e){if(!this.$A().get_model().get_isZoneInContainer()){this.$A().get_model().get_dashboardModel().set_readyZoneID(0)}},$b:function(e){if(ss.contains(gr.$3,this.$A().get_zoneType())){this.$D.done(ss.mkdel(this,function(){this.$C.done(e)}))}else{e()}}},{add_zoneBecameValid:function(e){gr.$3$1=ss.delegateCombine(gr.$3$1,e)},remove_zoneBecameValid:function(e){gr.$3$1=ss.delegateRemove(gr.$3$1,e)},$0:function(e){return'tabZoneId'+e},getZoneElement:function(e){return $('#'+gr.$0(e)).get(0)}});var gs=global.tab.ZoneViewModel=ss.mkType(a,'tab.ZoneViewModel',function(e){this.$B=null;this.zoneContentViewModel=null;this.$A=null;this.$z=false;this.$w=false;this.$x=false;this.$y=false;this.$v=false;this.$u=false;this.$C=10;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;spiff.BaseViewModel.call(this);this.$z=true;this.$B=e;this.$B.add_updateZone(ss.mkdel(this,this.$g));this.$B.add_updateZIndex(ss.mkdel(this,this.$f));this.$B.get_zoneCommonModel().add_resizeZone(ss.mkdel(this,this.$d));this.$B.add_newZoneContent(ss.mkdel(this,this.$8));this.$B.add_removeZoneContent(ss.mkdel(this,this.$c));this.$B.get_zoneCommonModel().add_changeZoneTitleVisibility(ss.mkdel(this,this.$e));this.$B.add_zoneVisibilityChanged(ss.mkdel(this,this.$i));this.$B.add_flexibleDragHide(ss.mkdel(this,this.$6));this.$B.add_flexibleDragShow(ss.mkdel(this,this.$7));this.$B.add_vizClicked(ss.mkdel(this,this.$h));this.$o();this.$p();if(ss.isValue(e)&&ss.isValue(e.get_model())){this.$8(e.get_model())}else if(tsConfig.is_authoring){this.$0()}},{add_updateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_updateZIndex:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_updateZIndex:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_resizeZone:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_resizeZone:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_zoneResized:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_zoneResized:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_newZoneContent:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_newZoneContent:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_validStateChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_validStateChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_zoneVisibilityChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_zoneVisibilityChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_designModeChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_designModeChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_flexibleZoneDragHide:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_flexibleZoneDragHide:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},add_flexibleZoneDragShow:function(e){this.$2$10=ss.delegateCombine(this.$2$10,e)},remove_flexibleZoneDragShow:function(e){this.$2$10=ss.delegateRemove(this.$2$10,e)},get_zoneContentViewModel:function(){return this.zoneContentViewModel},get_zoneType:function(){return this.$B.get_zoneType()},get_objectType:function(){return this.$B.get_objectType()},get_x:function(){return this.$B.get_x()},get_y:function(){return this.$B.get_y()},get_width:function(){return this.$B.get_width()},get_height:function(){return this.$B.get_height()},get_contentHeight:function(){return this.$B.get_contentHeight()},get_contentWidth:function(){return this.$B.get_contentWidth()},get_contentX:function(){return this.$B.get_contentX()},get_contentY:function(){return this.$B.get_contentY()},get_isVisible:function(){return this.$B.get_isVisible()},get_model:function(){return this.$B},get_styledBoxModel:function(){return this.get_model().get_styledBoxModel()},get_isInDashboard:function(){return this.$B.get_dashboardModel().get_isDashboard()},get_contentContainerStyle:function(){return this.$B.get_zoneCommonModel().get_contentStyle()},get_titleSize:function(){if(this.$B.get_hasTitle()){return{w:this.$B.pm.titleWidth,h:this.$B.pm.titleHeight}}return{w:0,h:0}},get_valid:function(){if(tab.ApplicationModel.get_instance().get_isOffline()&&!ss.contains(gs.offlineCapableZones,this.get_zoneType())){return false}return this.$z},get_isVisualValid:function(){return(ss.isValue(this.$A)?this.$A.get_isVisualValid():false)},get_zoneZIndex:function(){return gs.calculateZoneZIndex(this.$B)},get_zoneId:function(){return this.$B.get_zoneId()},get_associatedSheet:function(){return this.$B.get_associatedSheet()},get_backgroundColor:function(){var e='';if(this.$j()){e=this.$B.get_dashboardModel().get_zonePlaceholderColor()}return e},get_isActiveZone:function(){return this.$w},set_isActiveZone:function(e){if(this.$w!==e){this.$w=e;this.notifyPropertyChanged('isActiveZone')}},get_isDesignModeEnabled:function(){return this.$x},set_isDesignModeEnabled:function(e){if(this.$x!==e){this.$x=e;this.raiseActionEvent(this.$2$8)}},get_isReadyZone:function(){return this.$y},set_isReadyZone:function(e){if(this.$y!==e){this.$y=e;this.notifyPropertyChanged('isReadyZone')}},get_isSetActiveZoneSupported:function(){if(!tsConfig.is_authoring||tsConfig.current_sheet_type==='worksheet'){return false}return this.get_zoneType()==='viz'||!tsConfig.is_mobile},get_containsNewStyleQuickFilter:function(){return this.$v},$t:function(){var e=this.$B.get_isFloating()&&(this.$B.get_zoneType()==='layout-flow'||this.$B.get_zoneType()==='layout-stack'||this.$B.get_zoneType()==='layout-grid');var gv=ss.isNullOrUndefined(this.get_styledBoxModel())||!this.get_styledBoxModel().get_hasFill()&&this.get_styledBoxModel().get_borderStyle()==='bs-none';return e&&gv&&this.$B.get_dashboardModel().zonesModel.getChildren(this.get_zoneId()).length===0},$s:function(){var e=this.$B.get_zoneType()==='layout-stack'||this.$B.get_zoneType()==='layout-grid';return e&&this.$B.get_dashboardModel().zonesModel.getChildren(this.get_zoneId()).length===0},get_containsNewStyleParameterFilter:function(){return this.$u},get_hasTitle:function(){return this.$B.get_hasTitle()},get_marginCss:function(){var e={top:this.get_styledBoxModel().get_marginTop()+'px',left:this.get_styledBoxModel().get_marginLeft()+'px',bottom:this.get_styledBoxModel().get_marginBottom()+'px',right:this.get_styledBoxModel().get_marginRight()+'px',position:'absolute','background-color':'rgba(0, 0, 0, 0)'};if(ss.isValue(this.get_model().get_drawnZoneColor())){e['background-color']=this.get_model().get_drawnZoneColor()}return e},get_paddingCss:function(){return{top:this.get_styledBoxModel().get_paddingTop()+'px',left:this.get_styledBoxModel().get_paddingLeft()+'px',bottom:this.get_styledBoxModel().get_paddingBottom()+'px',right:this.get_styledBoxModel().get_paddingRight()+'px',position:'absolute'}},get_borderCss:function(){return $.extend({},this.get_styledBoxModel().get_borderTop().get_cssDictionary(),this.get_styledBoxModel().get_borderLeft().get_cssDictionary(),this.get_styledBoxModel().get_borderBottom().get_cssDictionary(),this.get_styledBoxModel().get_borderRight().get_cssDictionary())},get_contentContainerCss:function(){var e=tab.FormattingConverters.makeStyledBoxCssDict(this.get_contentContainerStyle().get_styledBoxPresModel(),true);if(!this.get_contentContainerStyle().get_hasFill()){e['background-color']=''}if(this.$j()){var gv=tab.ColorModel.fromColorCode(this.$B.get_dashboardModel().get_zonePlaceholderColor());e['background-color']=gv.toString()}return e},get_contentHasDarkBackground:function(){return!ss.isNullOrEmptyString(this.$B.get_blendedZoneContentColor())&&!tab.ColorModel.fromColorCode(this.$B.get_blendedZoneContentColor()).isLuminanceAboveThreshold(0.314999997615814)},get_dashboardSheetName:function(){return this.get_model().get_dashboardModel().pm.sheetPath.sheetName},setActiveAndUpdateReadyZone:function(e,gv,gw){if(this.get_isDesignModeEnabled()){var gx=this.$B.get_dashboardModel().selectableZoneInDesignMode(this.get_zoneId());if(ss.isValue(gx)){this.$B.get_dashboardModel().set_readyZoneID(0);tab.SelectionClientCommands.setActiveZone(gx.get_zoneId(),e,gx.get_dashboardModel().get_sheetPath())}}else if(this.$B.get_dashboardModel().get_isFlexibleLayoutEnabled()){var gy=this.$B.get_dashboardModel().get_readyZoneID();if(this.$l(gy)&&e==='addorremove'){tab.SelectionClientCommands.setActiveZone(this.$B.get_dashboardModel().getZone(gy).get_parentZoneId(),e,this.$B.get_dashboardModel().get_sheetPath())}else{tab.SelectionClientCommands.setActiveZone(gy,e,this.$B.get_dashboardModel().get_sheetPath())}this.get_model().get_dashboardModel().set_readyZoneID(this.getNextReadyZone(gv,gw))}else{tab.SelectionClientCommands.setActiveZone(this.get_zoneId(),e,this.$B.get_dashboardModel().get_sheetPath())}},$1:function(e,gv){switch(e){case 2:{return gv.get_x()+this.$C>this.get_x()}case 3:{return gv.get_x()+gv.get_width()-this.$C<this.get_x()+this.get_width()}case 0:{return gv.get_y()+this.$C>this.get_y()}case 1:{return gv.get_y()+gv.get_height()-this.$C<this.get_y()+this.get_height()}default:{return false}}},$m:function(e,gv){if(this.get_x()-this.$C<e&&e<this.get_x()+this.$C){return 2}else if(this.get_x()+this.get_width()-this.$C<e&&e<this.get_x()+this.get_width()+this.$C){return 3}else if(this.get_y()-this.$C<gv&&gv<this.get_y()+this.$C){return 0}else if(this.get_y()+this.get_height()-this.$C<gv&&gv<this.get_y()+this.get_height()+this.$C){return 1}return 4},mousePositionOnDashboard:function(e,gv){var gw=bx.findDashboard();var gx=gw.offset();var gy=e-ss.trunc(gx.left);var gz=gv-ss.trunc(gx.top);return{x:gy,y:gz}},$3:function(e,gv){var gw=this.mousePositionOnDashboard(e,gv);var gx=this.$m(gw.x,gw.y);if(gx!==4){return this.$r(this.$B,gx)}return this.get_zoneId()},getAllActiveZonesWithSharedCommonAncestor:function(e){var gv=[];for(var gw=0;gw<e.length;gw++){var gx=e[gw];if(this.$q(gx)){gv.push(gx)}}return gv},getAllSelectableZones:function(e){var gv=new Set;for(var gw=0;gw<e.length;gw++){var gx=e[gw];var gy=this.$4(gx);for(var gz=0;gz<gy.length;gz++){var gA=gy[gz];gv.add(gA)}}var gB=[];gv.forEach(function(gC){gB.push(gC)});return gB},$l:function(e){if(e!==0){var gv=this.$B.get_dashboardModel().getZone(e);if(gv.get_isZoneInGroup()){var gw=gv.get_parentZoneId();var gx=this.$B.get_dashboardModel().get_activeZoneIDs();return ss.contains(gx,gw)}}return false},getNextReadyZone:function(e,gv){var gw;var gx;if(this.$B.get_dashboardModel().get_activeZoneIDs().length>0){gw=this.$B.get_dashboardModel().get_activeZoneIDs();gx=this.getAllActiveZonesWithSharedCommonAncestor(gw)}else{gw=[0];gx=[]}var gy=this.traverseUpwardsFromZoneToFindFirstGroup(this.get_zoneId());if(gy===0){return(this.$B.get_isFloating()?this.get_zoneId():this.$3(e,gv))}else if(gw[0]!==0&&gx.length>0){var gz=this.getAllSelectableZones(gw);return this.$2(this.get_zoneId(),gz,e,gv)}else{return this.$5(gy)}},$5:function(e){return this.$B.get_dashboardModel().getTopmostParent(e).get_zoneId()},$q:function(e){return this.$B.get_dashboardModel().doZonesShareCommonAncestor(e,this.get_zoneId())},$4:function(e){var gv=this.traverseUpwardsFromZoneToFindFirstGroup(e);return this.$B.get_dashboardModel().getSelectableZonesOnFlexibleLayout(e,gv)},$2:function(e,gv,gw,gx){if(e===0){return 0}else if(ss.contains(gv,e)){return((this.$B.get_dashboardModel().getZone(e).get_isFloating()||this.$B.get_dashboardModel().getZone(e).get_zoneType()==='layout-group')?e:this.$3(gw,gx))}else{return this.$2(this.$B.get_dashboardModel().getZone(e).get_parentZoneId(),gv,gw,gx)}},traverseUpwardsFromZoneToFindFirstGroup:function(e){if(e===0){return 0}else if(this.$B.get_dashboardModel().getZone(e).get_zoneType()==='layout-group'){return e}else{return this.traverseUpwardsFromZoneToFindFirstGroup(this.$B.get_dashboardModel().getZone(e).get_parentZoneId())}},$r:function(e,gv){if(e.get_isFloating()){return e.get_zoneId()}else{var gw=this.$B.get_dashboardModel().getZone(e.get_parentZoneId());if(this.$1(gv,gw)&&gw.get_zoneType()!=='layout-group'){return this.$r(gw,gv)}else{return e.get_zoneId()}}},zoneGlassClicked:function(){tabBootstrap.Utility.sendCommandWithContext('tableau.selectedDisabledZone')},dispose:function(){if(ss.isValue(this.zoneContentViewModel)){this.zoneContentViewModel.dispose();this.zoneContentViewModel=null}if(ss.isValue(this.$A)){this.$A.remove_visualValidStateChanged(ss.mkdel(this,this.$p))}this.$B.remove_updateZone(ss.mkdel(this,this.$g));this.$B.get_zoneCommonModel().remove_resizeZone(ss.mkdel(this,this.$d));this.$B.remove_newZoneContent(ss.mkdel(this,this.$8));this.$B.remove_removeZoneContent(ss.mkdel(this,this.$c));this.$B.get_zoneCommonModel().remove_changeZoneTitleVisibility(ss.mkdel(this,this.$e));this.$B.remove_zoneVisibilityChanged(ss.mkdel(this,this.$i));spiff.BaseViewModel.prototype.dispose.call(this)},openRichTextEditorDialog:function(e){switch(this.get_zoneType()){case'title':case'text':{tab.RichTextClientCommands.launchTextObjectRichTextEditor(this.get_zoneId(),false);break}default:{break}}cO.logRichTextEditorEvent(ss.mkdict(['RichTextEditorOpenedBy','DoubleClick','RichTextEditorOpenedFrom',this.get_zoneType()+'-zone']))},$o:function(){var e=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.$B.get_associatedSheet());if(!ss.referenceEquals(this.$A,e)){if(ss.isValue(this.$A)){this.$A.remove_visualValidStateChanged(ss.mkdel(this,this.$p))}this.$A=e;if(ss.isValue(this.$A)){this.$A.add_visualValidStateChanged(ss.mkdel(this,this.$p))}}},$g:function(){if(this.$s()){if(ss.isValue(this.zoneContentViewModel)){this.zoneContentViewModel.dispose()}this.zoneContentViewModel=new cr(this.$B);this.$n(this.zoneContentViewModel)}tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,function(){this.$o();this.$p();this.raiseActionEvent(this.$2$1);var e=this.get_zoneType()==='filter'||this.get_zoneType()==='set-membership';if(e&&ss.isNullOrUndefined(this.zoneContentViewModel)&&ss.isValue(this.get_model().get_model())){this.$8(this.get_model().get_model())}}))},$d:function(){this.raiseActionEvent(this.$2$3);this.raiseActionEvent(this.$2$4)},$f:function(){this.raiseActionEvent(this.$2$2)},$p:function(){var e=true;if(this.$B.get_isDependentOnViz()&&ss.isValue(this.$A)){e=this.$A.get_isVisualValidAndUpToDate()}if(e!==this.$z){this.$z=e;this.raiseActionEvent(this.$2$6)}},forceZoneValidState:function(e){if(e!==this.$z){this.$z=e;this.raiseActionEvent(this.$2$6)}},$i:function(){this.raiseActionEvent(this.$2$7)},$7:function(){this.raiseActionEvent(this.$2$10)},$6:function(){this.raiseActionEvent(this.$2$9)},$h:function(e,gv,gw){this.setActiveAndUpdateReadyZone((e?'addorremove':'replace'),gv,gw)},$0:function(){if(this.$t()||this.$s()){this.zoneContentViewModel=new cr(this.$B);this.$n(this.zoneContentViewModel)}},$k:function(e){if(e.quickFilterType==='categorical'){var gv=e;return gv.membershipTarget==='set'}return false},$b:function(e,gv){var gw=ss.mkdel(this,function(){this.$n(this.zoneContentViewModel);this.raiseActionEvent(this.$2$1)});var gx=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),e);var gy=gv;var gz=gy.get_quickFilterDisplayPresModel();if(ss.isNullOrUndefined(gz)){return}var gA=gy.get_quickFilterDisplayPresModel().quickFilter;if(ss.isNullOrUndefined(gA)){return}var gB=tab.ModelUtils.findMatchingFilterModel(gx,gy);if(ss.isValue(gB)){tab.ModuleManager.load$1(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gC){this.zoneContentViewModel=gC.createLegacyQuickFilterDisplayViewModel(gy,gB);gw()}))}else{}},$a:function(e){var gv=ss.mkdel(this,function(){this.$n(this.zoneContentViewModel);this.raiseActionEvent(this.$2$1)});if(this.$B.get_objectType()==='button'){this.zoneContentViewModel=new U(e,this);gv()}else if(this.$B.get_objectType()==='extension'){var gw=new cG(e,this);if(gw.get_isInitialized()){this.zoneContentViewModel=gw;gv();return}var gx=null;gx=ss.mkdel(this,function(){this.zoneContentViewModel=gw;gv();gw.remove_extensionZoneReady(gx)});gw.add_extensionZoneReady(gx)}else if(this.$B.get_objectType()==='stack-layout'||this.$B.get_objectType()==='grid-layout'){gv();return}},$9:function(e){var gv=ss.mkdel(this,function(){this.$n(this.zoneContentViewModel);this.raiseActionEvent(this.$2$1)});if(tsConfig.allow_filter){tab.ModuleManager.load$1(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gw){this.zoneContentViewModel=gw.createPageViewModel(e);gv()}))}},$8:function(e){this.$v=false;this.$u=false;var gv=this.$B.get_zoneType();var gw=ss.mkdel(this,function(){this.$n(this.zoneContentViewModel);this.raiseActionEvent(this.$2$1)});var gx=this.$B.get_worksheetName();switch(gv){case'title':{this.zoneContentViewModel=new fu(e);break}case'text':{var gy=new fu(e);gy.options=new fr(false);this.zoneContentViewModel=gy;break}case'color':case'size':case'shape':case'map':{tab.ModuleManager.load$1(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gz){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.CategoricalLegendModel)){this.zoneContentViewModel=gz.createCategoricalLegendViewModel(e,gv,gx,this)}else if(ss.isInstanceOfType(e,tab.QuantitativeColorLegendModel)){this.zoneContentViewModel=gz.createQuantitativeColorLegendViewModel(e,gx,this)}}else{this.zoneContentViewModel=gz.createLegacyLegendViewModel(e,gx,this)}gw()}));return}case'current-page':{this.$9(e);return}case'web':{this.zoneContentViewModel=new gh(e);break}case'dashboard-object':{this.$a(e);return}case'bitmap':{this.zoneContentViewModel=new dm(e);break}case'flipboard-nav':{tab.ModuleManager.load$1(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(gz){this.zoneContentViewModel=gz.newFlipboardNavigatorViewModel(e);gw()}));return}case'flipboard':{tab.ModuleManager.load$1(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(gz){this.zoneContentViewModel=gz.newFlipboardViewModel(e,this);gw()}));return}case'filter':case'set-membership':{this.$b(gx,e);return}case'highlighter':{this.zoneContentViewModel=new bR(e,tab.ModelUtils.getVisualId(gx),this);break}case'paramctrl':{tab.ModuleManager.load$1(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(gz){this.zoneContentViewModel=gz.createParameterControlViewModel(e);gw()}));return}case'viz':{if(tsConfig.is_metrics_authoring){return}tab.ModuleManager.load$1(tab.IVizZoneModule).call(null,[]).done(ss.mkdel(this,function(gz){this.zoneContentViewModel=gz.createPaneTableViewModel(e);gw()}));return}case'layout-basic':default:{return}}gw()},$e:function(){this.notifyPropertyChanged('titleVisible')},$c:function(){this.dispose()},$n:function(e){if(!ss.staticEquals(this.$2$5,null)){this.$2$5(e)}},$j:function(){var e=tab.ProgressiveLoader.get_progressiveLoadEnabled()&&ss.contains(tab.ProgressiveLoader.zonesThatDeferContentCreation,this.get_zoneType())&&ss.isNullOrUndefined(this.zoneContentViewModel);e=e&&this.$B.get_hasContent();return e}},{calculateZoneZIndex:function(e){return 10+e.get_relativeZoneZIndex()}});var gt=global.tab.ZoneViewModel$ZoneLocation=ss.mkEnum(a,'tab.ZoneViewModel$ZoneLocation',{top:0,bottom:1,left:2,right:3,center:4});var gu=global.tableau.ApiCommandExecutor=ss.mkType(a,'tableau.ApiCommandExecutor',null,null,{execute:function(e,gv,gw){var gx=tab._ApiCommand.generateNextCommandId();var gy=new tab._ApiCommand(e,gx,gv,gw);E.get_instance().get_apiEventHandler().routeCommand(gy);return gx},installResponderOverride:function(e){var gv=ss.safeCast(tabBootstrap.ViewerBootstrap.get_instance().apiResponder,tabBootstrap.ApiNativeHostResponder);if(ss.isValue(gv)){gv.set_responseAction(e)}else{}}});ss.initClass(d);ss.initClass(f);ss.initClass(g);ss.initClass(h);ss.initClass(i);ss.initClass(j);ss.initClass(k);ss.initClass(l);ss.initClass(m);ss.initClass(n);ss.initClass(o);ss.initClass(p,ss.EventArgs);ss.initClass(q);ss.initClass(r);ss.initClass(s);ss.initClass(t);ss.initClass(u);ss.initClass(v,null,[ss.IDisposable]);ss.initClass(w,null,[ss.IDisposable]);ss.initClass(x);ss.initClass(y);ss.initClass(z);ss.initClass(A,null,[ss.IDisposable]);ss.initClass(B,null,[ss.IDisposable]);ss.initClass(C);ss.initClass(C);ss.initClass(D,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(E,null,[ss.IDisposable]);ss.initClass(F);ss.initClass(G,spiff.Template,[ss.IDisposable]);ss.initInterface(db,{add_scrolled:null,remove_scrolled:null,get_visibleRect:null,appendToDom:null,convertPointFromPageToDashboardCoords:null});ss.initClass(H,ss.makeGenericType(spiff.BaseView$1,[J]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[J]),ss.IDisposable,tab.IAppendableView,db]);ss.initInterface(da,{get_domNode:null,get_isDashboard:null,get_vizSize:null,get_session:null,get_viewControllers:null,get_applicationPresModel:null,get_toolbarContainer:null,get_toolbarDisplayed:null,set_toolbarDisplayed:null,get_toolbarCommands:null,get_customViewsViewModel:null,get_deviceLayoutViewModel:null,get_dashboardViewport:null,destroyRecursive:null,startup:null,doResize:null});ss.initInterface(cY,{get_flipboardNavigatorViewModel:null,get_containedSheetName:null,get_containedSheetType:null,get_containedSheetZoneId:null,get_containedDashboardZones:null,get_hasContainedSheet:null});ss.initClass(I,spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,da,cY]);ss.initClass(J,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(M);ss.initClass(L,M,[ss.IDisposable]);ss.initClass(K,L,[ss.IDisposable]);ss.initClass(N,null,[ss.IDisposable]);ss.initClass(P,null,[tab.IBrowserViewport]);ss.initClass(Q,React.Component);ss.initClass(R,React.PureComponent);ss.initClass(S);ss.initClass(T,React.Component,[ss.IDisposable]);ss.initClass(U,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(V,N,[ss.IDisposable,tab.IWaitForCommands]);ss.initClass(W,spiff.PureRenderComponent);ss.initClass(X);ss.initClass(Y);ss.initClass(Z);ss.initClass(ba,ss.EventArgs);ss.initClass(bb);ss.initClass(bc,null,[tab.ICommonBannerProvider,ss.IDisposable]);ss.initClass(bd,null,[tab.ICommonDialogProvider,ss.IDisposable]);ss.initClass(be);ss.initClass(bf);ss.initClass(bh,null,[ss.IDisposable]);ss.initClass(bi,ss.makeGenericType(spiff.BaseView$1,[bj]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[bj]),ss.IDisposable,tab.IAppendableView]);ss.initClass(bj,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(bk,N,[ss.IDisposable]);ss.initClass(bl);ss.initClass(bm);ss.initClass(bn);ss.initClass(bo);ss.initClass(bp,null,[tab.IFormattingConverterObject]);ss.initClass(bq,ss.makeGenericType(el,[Object,Object,Object]));ss.initClass(br,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable,spiff.IDialogContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bs);ss.initClass(bt);ss.initClass(bu);ss.initClass(bv);ss.initClass(bw,spiff.Template,[ss.IDisposable]);ss.initClass(bx,ss.makeGenericType(spiff.BaseView$1,[by]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[by]),ss.IDisposable,tab.IAppendableView]);ss.initClass(by,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(bz,React.Component);ss.initClass(bK);ss.initClass(bA,bK);ss.initInterface(dc,{add_dataAlertPrepared:null,remove_dataAlertPrepared:null,add_dataAlertPrepareFailed:null,remove_dataAlertPrepareFailed:null,get_preparedDataAlert:null,prepareDataAlert:null});ss.initClass(bL,null,[dc]);ss.initClass(bB,bL,[dc]);ss.initClass(bC,ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bD,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,spiff.IDialogContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bE,bK);ss.initClass(bF,bL,[dc]);ss.initClass(bG);ss.initClass(bH,spiff.PureRenderComponent);ss.initClass(bI,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bJ);ss.initClass(bM);ss.initClass(bN);ss.initClass(bO,null,[ss.IDisposable]);ss.initClass(bP,ss.makeGenericType(spiff.BaseView$1,[bR]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[bR]),ss.IDisposable,tab.IAppendableView,spiff.IListItemContentCreator]);ss.initClass(bR,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(bS,spiff.Template,[ss.IDisposable]);ss.initClass(bT,spiff.PureRenderComponent);ss.initClass(bU);ss.initClass(bV,ss.makeGenericType(spiff.BaseReactViewModel$1,[bU]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[bU]),spiff.IContent]);ss.initClass(bW,M,[ss.IDisposable]);ss.initClass(bX);ss.initClass(bY,spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bZ);ss.initClass(ca);ss.initClass(cb);ss.initClass(cc,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(cd,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(ce,React.Component);ss.initClass(cf,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initInterface(dt,{attach:null,detach:null,disposeTooltip:null,shownTooltipIsSticky:null,isHoverAllowed:null,shouldShowCommandButtons:null,handleUbertipMenuToggle:null,handleUbertipMenuClose:null,hoverOverObject:null,hoverOverWhitespace:null,multiSelectComplete:null,singleSelectComplete:null,selectionMoved:null,repositionWithinRegion:null,onPanningOrDragging:null,onScroll:null,mouseDown:null});ss.initClass(cg,null,[dt,ss.IDisposable]);ss.initClass(ch);ss.initClass(ci,null,[ss.IDisposable]);ss.initClass(cj,spiff.ModalDialog,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(ck,cj,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(cl,cj,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(cm,N,[ss.IDisposable]);ss.initClass(cn);ss.initClass(co,spiff.Template,[ss.IDisposable]);ss.initClass(cp,ss.makeGenericType(spiff.BaseView$1,[cr]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[cr]),ss.IDisposable,tab.IAppendableView]);ss.initClass(cq,spiff.Template,[ss.IDisposable]);ss.initClass(cr,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(cs,spiff.Template,[ss.IDisposable]);ss.initClass(ct,ss.makeGenericType(spiff.BaseView$1,[cr]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[cr]),ss.IDisposable,tab.IAppendableView]);ss.initClass(cu,spiff.Template,[ss.IDisposable]);ss.initClass(cv,ss.makeGenericType(spiff.BaseView$1,[cr]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[cr]),ss.IDisposable,tab.IAppendableView]);ss.initClass(cw);ss.initClass(cx,spiff.PureRenderComponent);ss.initClass(cy);ss.initClass(cz);ss.initInterface(dh,{execute:null});ss.initClass(cA,null,[dh]);ss.initClass(cB,null,[tab.IExportImageHelper,tab.IExportPdfHelper]);ss.initClass(cC,spiff.Template,[ss.IDisposable]);ss.initClass(cD,spiff.Template,[ss.IDisposable]);ss.initClass(cE,spiff.Template,[ss.IDisposable]);ss.initClass(cF,ss.makeGenericType(spiff.BaseView$1,[cG]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[cG]),ss.IDisposable,tab.IAppendableView]);ss.initClass(cG,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(cH);ss.initClass(cI,spiff.PureRenderComponent);ss.initClass(cJ);ss.initClass(cK,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(eX,spiff.PureRenderComponent);ss.initClass(cL,eX);ss.initClass(cM);ss.initClass(cN);ss.initClass(cO);ss.initClass(cP,spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(cQ,M,[ss.IDisposable]);ss.initClass(cR,L,[ss.IDisposable]);ss.initClass(dV,ss.makeGenericType(spiff.BaseView$1,[dW]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[dW]),ss.IDisposable,tab.IAppendableView]);ss.initClass(cS,dV,[tab.IWidget,ss.makeGenericType(tab.IView$1,[dW]),ss.IDisposable,tab.IAppendableView]);ss.initClass(cT,KeyboardShortcuts.GlobalKeyboardShortcut,[KeyboardShortcuts.IKeyboardShortcut]);ss.initClass(ds,spiff.Template,[ss.IDisposable]);ss.initClass(cU,ds,[ss.IDisposable]);ss.initClass(cV,spiff.Template,[ss.IDisposable]);ss.initClass(cW,spiff.Template,[ss.IDisposable]);ss.initClass(cX,spiff.Template,[ss.IDisposable]);ss.initInterface(cZ,{},[ss.makeGenericType(tab.IView$1,[D]),ss.IDisposable,tab.IAppendableView]);ss.initInterface(dd,{get_filterType:null},[ss.IDisposable]);ss.initInterface(de,{get_dashboardViewModel:null,get_flipboardModel:null});ss.initInterface(df,{add_fontsReady:null,remove_fontsReady:null,add_fontDownloading:null,remove_fontDownloading:null,reset:null,addFonts:null,downloadFonts:null,finishDownloadingFonts:null});ss.initClass(dg,spiff.Template,[ss.IDisposable]);ss.initInterface(di,{add_activeJumpstartSampleData:null,remove_activeJumpstartSampleData:null,get_isJumpstartSampleData:null});ss.initClass(dj);ss.initClass(dk,spiff.Template,[ss.IDisposable]);ss.initClass(dl,ss.makeGenericType(spiff.BaseView$1,[dm]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[dm]),ss.IDisposable,tab.IAppendableView]);ss.initClass(dm,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initInterface(dn,{get_location:null,set_location:null});ss.initClass(dp);ss.initInterface(dq,{instantiate:null,instantiateFromDomain:null,layout:null,destroy:null,setNewState:null,updateReadout:null});ss.initClass(dr,null,[ss.IDisposable]);ss.initClass(du,null,[di]);ss.initClass(dv);ss.initClass(dw,React.Component);ss.initClass(dx,ss.makeGenericType(spiff.BaseView$1,[dy]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[dy]),ss.IDisposable,tab.IAppendableView]);ss.initClass(dy,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(dz,React.Component);ss.initClass(dA,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(dB);ss.initClass(dC);ss.initClass(dD);ss.initClass(dE);ss.initClass(dG);ss.initClass(dH);ss.initClass(dI,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IContent]);ss.initClass(dJ,null,[ss.IDisposable]);ss.initClass(dK);ss.initClass(dL,null,[df]);ss.initClass(dM);ss.initClass(dN);ss.initClass(dO);ss.initClass(dP);ss.initClass(dQ);ss.initClass(dR);ss.initClass(dS);ss.initClass(dU);ss.initClass(dW,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(dX,spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,dn]);ss.initClass(dY,ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]));ss.initClass(dZ,ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]));ss.initClass(eb,null,[ss.IDisposable]);ss.initClass(ec);ss.initClass(ed,ss.makeGenericType(spiff.BaseView$1,[ee]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[ee]),ss.IDisposable,tab.IAppendableView]);ss.initClass(ee,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(ef,ss.makeGenericType(spiff.ReactSpiffAdapter$3,[ei,eg,Object]));ss.initClass(eg);ss.initClass(eh,spiff.Template,[ss.IDisposable]);ss.initClass(ei,ss.makeGenericType(spiff.BaseView$1,[ej]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[ej]),ss.IDisposable,tab.IAppendableView]);ss.initClass(ej,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable,spiff.IDialogContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(em);ss.initClass(en,spiff.PureRenderComponent);ss.initClass(eo,spiff.PureRenderComponent);ss.initClass(ep,React.Component);ss.initClass(eq);ss.initClass(er);ss.initClass(fS,KeyboardShortcuts.CommandKeyboardShortcut,[KeyboardShortcuts.IKeyboardShortcut]);ss.initClass(es,fS,[KeyboardShortcuts.IKeyboardShortcut]);ss.initClass(et,spiff.PureRenderComponent);ss.initClass(eu);ss.initClass(ev,ss.makeGenericType(spiff.BaseReactViewModel$1,[eu]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[eu]),spiff.IContent]);ss.initClass(ew,null,[df]);ss.initClass(ex,ss.EventArgs);ss.initClass(ey);ss.initClass(ez);ss.initClass(eA,null,[ss.IDisposable]);ss.initClass(eB,spiff.Template,[ss.IDisposable]);ss.initClass(eC,ss.makeGenericType(spiff.BaseView$1,[eD]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[eD]),ss.IDisposable,tab.IAppendableView]);ss.initClass(eD,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable,spiff.IContent]);ss.initClass(eE,spiff.Template,[ss.IDisposable]);ss.initClass(eF,ss.makeGenericType(spiff.BaseView$1,[eG]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[eG]),ss.IDisposable,tab.IAppendableView]);ss.initClass(eG,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(eI);ss.initClass(eJ,tab.BaseHybridSidePaneProxyHelper);ss.initClass(eK);ss.initClass(eL);ss.initClass(eN);ss.initClass(eO);ss.initClass(eP);ss.initClass(eQ,ss.makeGenericType(spiff.ReactSpiffAdapter$3,[eU,eR,Object]));ss.initClass(eR);ss.initClass(eS,spiff.Template,[ss.IDisposable]);ss.initClass(eT,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(eU,ss.makeGenericType(spiff.BaseView$1,[eV]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[eV]),ss.IDisposable,tab.IAppendableView]);ss.initClass(eV,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable,spiff.IDialogContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(eW);ss.initClass(eY);ss.initClass(eZ);ss.initClass(fa,ss.EventArgs);ss.initClass(fb,fa);ss.initClass(fc,React.Component);ss.initClass(fd);ss.initClass(fe,null,[dt,ss.IDisposable]);ss.initClass(ff);ss.initClass(fg,React.Component);ss.initClass(fh,ss.makeGenericType(ek,[tab.ISelfServiceSchedulesModule,fi,Object]));ss.initClass(fi);ss.initClass(fj);fj.$ctor2.prototype=fj.$ctor1.prototype=fj.prototype;ss.initClass(fk,React.Component);ss.initClass(fl);ss.initClass(fm,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,spiff.IDialogContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(fn);ss.initClass(fo,ss.EventArgs);ss.initClass(fp,eX);ss.initClass(fq);ss.initClass(fr);ss.initClass(fs,spiff.Template,[ss.IDisposable]);ss.initClass(ft,ss.makeGenericType(spiff.BaseView$1,[fu]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[fu]),ss.IDisposable,tab.IAppendableView]);ft.$ctor1.prototype=ft.$ctor2.prototype=ft.prototype;ss.initClass(fu,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(fv,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(fw,KeyboardShortcuts.GlobalKeyboardShortcut,[KeyboardShortcuts.IKeyboardShortcut]);ss.initClass(fy,spiff.Template,[ss.IDisposable]);ss.initClass(fz,ss.makeGenericType(spiff.BaseView$1,[fA]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[fA]),ss.IDisposable,tab.IAppendableView]);ss.initClass(fA,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(fB,fA,[tab.IViewModel,ss.IDisposable]);ss.initClass(fC,fA,[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(fD);ss.initClass(fE,spiff.Template,[ss.IDisposable]);ss.initClass(fF,fA,[tab.IViewModel,ss.IDisposable]);ss.initClass(fG,ss.makeGenericType(spiff.BaseView$1,[fH]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[fH]),ss.IDisposable,tab.IAppendableView]);ss.initClass(fH,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(fI,spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,dn]);ss.initClass(fK);ss.initClass(fJ,fK);ss.initClass(fM);ss.initClass(fN,spiff.Template,[ss.IDisposable]);ss.initClass(fO);ss.initClass(fP);ss.initClass(fQ,spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(fR,fS,[KeyboardShortcuts.IKeyboardShortcut]);ss.initClass(fT);ss.initClass(fU,ds,[ss.IDisposable]);ss.initClass(fV,null,[tab.IViewController,ss.IDisposable]);ss.initClass(fW);ss.initClass(fX);ss.initClass(fY);ss.initClass(fZ);ss.initClass(ga,N,[ss.IDisposable,tab.IWaitForCommands]);ss.initClass(gb,spiff.PureRenderComponent);ss.initClass(gc,spiff.ModalDialog,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(gd,spiff.Template,[ss.IDisposable]);ss.initClass(ge,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(gf,spiff.Template,[ss.IDisposable]);ss.initClass(gg,ss.makeGenericType(spiff.BaseView$1,[gh]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[gh]),ss.IDisposable,tab.IAppendableView]);ss.initClass(gh,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(gi,spiff.Template,[ss.IDisposable]);ss.initClass(gj,React.PureComponent);ss.initClass(gk);ss.initClass(gl);ss.initClass(gm);ss.initClass(gn,spiff.Template,[ss.IDisposable]);ss.initClass(go,ss.makeGenericType(spiff.BaseView$1,[gp]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[gp]),ss.IDisposable,tab.IAppendableView]);ss.initClass(gp,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(gq,spiff.Template,[ss.IDisposable]);ss.initClass(gr,ss.makeGenericType(spiff.BaseView$1,[gs]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[gs]),ss.IDisposable,tab.IAppendableView]);ss.initClass(gs,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable,tab.IZoneViewModel]);ss.initClass(gu);(function(){et.$1='related-view-recs-panel';tab.WidgetPlugins.registerWidgetPluginModule(et.$1,et.$1)})();(function(){bT.$1='data-monitoring-panel';tab.WidgetPlugins.registerWidgetPluginModule(bT.$1,bT.$1)})();(function(){eB.$1="<div class='tab-right-area-drawer-module-loader'></div>"})();(function(){bH.$2='tab-dataAlertGenericErrorMessage';bH.$1='tab-dataAlertErrorDialogContent'})();(function(){cn.maxEmailLength=100})();(function(){ep.tesT_ID='recipient-picker';ep.chiP_CLASS='recipient-picker-chip';ep.erroR_CHIP_CLASS='recipient-picker-chip'+'-error';ep.pendinG_CHIP_CLASS='recipient-picker-chip'+'-pending';ep.normaL_CHIP_CLASS='recipient-picker-chip'+'-normal'})();(function(){bG.editDataAlertUrlParam=':editDataAlert';bG.resumeDataAlertUrlParam=':resumeDataAlert';bG.instanceIdUrlParam=':iid'})();(function(){dO.$2=null})();(function(){eS.linkTemplate="\n            <div class='tab-shareLinkSection'>\n                <label>\n                    <span class='tab-shareLinkTitle tab-shareTitle'></span>\n                    <span class='tab-shareLinkInput'></span>\n                </label>\n                <div class='tab-shareLinkButtons'></div>\n            </div>";eS.embedTemplate="\n            <div class='tab-shareEmbedSection'>\n                <label>\n                    <span class='tab-shareEmbedTitle tab-shareTitle'></span>\n                    <span class='tab-shareEmbedInput'></span>\n                </label>\n            </div>";eS.viewStateTemplate="\n            <div class='tab-shareViewStateSection'>\n            </div>";eS.$0="\n            <div class='tab-shareView tab-toolbarDialog'>\n            </div>"})();(function(){tab.ObjectRegistry.registerType(eU,eU).call(null)})();(function(){eV.currentViewPath='/shared/';eV.$d='http://facebook.com';eV.$a=0.75;eV.$c=0.75;eV.$b=1.77;var e=[];e.push('from_wg');e.push('host_url');e.push('debug');e.push('wb');e.push('vw');e.push('prefix');e.push('cvu');e.push('cvn');e.push('delay');e.push('preview');e.push('site');e.push('ds');e.push('project');e.push('aux');e.push('guid');e.push('mobile');e.push('app');e.push('showVizHome');e.push('showShareOptions');e.push('record_client_performance');e.push('bootstrapWhenNotified');e.push('apiID');e.push('reloadOnCustomViewSave');e.push('openAuthoringInTopWindow');e.push('browserBackButtonUndo');e.push('commentingEnabled');e.push('size');e.push('isVizPortal');e.push('device');e.push('devicepreviewmode');eV.$e=e})();(function(){fk.testId='subscribe-recipients-picker'})();(function(){fg.$2='​';fg.subscribeViewContentTestId='subscribe-view-content';fg.formatDropdownTestId='subscribe-format-dropdown';fg.frequencyDropdownTestId='subscribe-frequency-dropdown';fg.includeDropdownTestId='subscribe-include-dropdown';fg.messageInputTestId='subscribe-message-input';fg.pdfOptionsDropdownsClass='tab-pdf-size-and-orientation-dropdowns';fg.pdfPaperSizeDropdownClass='tab-subscribe-paper-size-dropdown';fg.pdfOrientationDropdownClass='tab-subscribe-orientation-dropdown';fg.pdfPaperSizeDropdownTestId='subscribe-paper-size-dropdown';fg.pdfOrientationDropdownTestId='subscribe-orientation-dropdown';fg.scheduleDropdownTestId='subscribe-schedule-dropdown';fg.selfSubscribeCheckboxTestId='self-subscribe-checkbox';fg.sendWhenDataPresentTestId='send-when-data-checkbox';fg.subjectTextTestId='subscribe-subject-text';fg.accountSettingsLinkWithInAlertTestId='account-settings-link';fg.missingValidEmailIdAlertTestId='email-address-missing-alert'})();(function(){eh.$0="<div class='tab-publicInfoView tab-toolbarDialog'>"+"<a class='tab-moreAboutPublicSection' target='_blank'></a>"+"<div class='tab-viewAndAuthorInfoSection'></div>"+'</div>'})();(function(){tab.ObjectRegistry.registerType(ei,ei).call(null)})();(function(){fy.$2='tabToolbarButtonImg';fy.$0='tabToolbarButtonText';fy.$1="<div class='tabToolbarButton' role='button'>"+"<span class='"+'tabToolbarButtonImg'+"'></span>"+"<span class='"+'tabToolbarButtonText'+"'></span>"+'</div>'})();(function(){tab.ObjectRegistry.registerType(dV,dV).call(null)})();(function(){tab.ObjectRegistry.registerType(cS,cS).call(null)})();(function(){br.$8=tab.Logger.getLogger(br,null);var e=[];e.push('notEmbedded');e.push('sameDomainEmbedded');br.$9=e})();(function(){fE.$0="\n            <div class='tab-toolbar tab-fill' data-tb-test-id='toolbar'>\n                <div class='tab-vizItems tab-fill-left'></div>\n                <div class='tab-nonVizItems tab-fill-right'></div>\n            </div>";fE.$1="\n            <div class='tab-toolbar public tab-fill'>\n                <div class='tab-vizItems tab-fill-left'></div>\n                <div class='tab-nonVizItems tab-fill-right'></div>\n            </div>"})();(function(){bf.$0=null})();(function(){cM.fontsReadyMetricName='AllFontsDownloaded';cM.uiStabilizedMetricName='UI Stabilized'})();(function(){ew.stylesheetId='tab-renderAndCheckFontLoader';ew.hiddenDivClass='tab-hiddenFontMeasurer';ew.baselineFontClass='tab-baselineFontMeasurer';ew.baselineFontName="'Courier New', Monaco, monospace";ew.measurementElementText='The quick brown fox jumps over the lazy dog iiilllest';ew.$5=ss.mkdict(['z-index','-1','position','absolute','top','0','right','0','visibility','hidden']);ew.maxLengthToWaitForFontsToDownloadMilliseconds=120000;ew.fontLoadedCheckDelayPerTryMilliseconds=100;ew.ensureFirstRenderPassCompletedDelayMilliseconds=5;ew.maxNumberOfTriesToDownloadFont=ss.idiv(120000,100)})();(function(){eO.raiseFontPreparationCompleteDelay=200;var e=new tab.DownloadableFontProperties;e.set_fontFamily('Benton Sans');e.set_weight('100');e.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Light'];var gv=new tab.DownloadableFontProperties;gv.set_fontFamily('Benton Sans');gv.set_weight('bold');gv.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Medium'];eO.drawerFontNames=[e,gv];var e=new tab.DownloadableFontProperties;e.set_fontFamily('Benton Sans Low-DPI');e.set_weight('100');e.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Book'];var gv=new tab.DownloadableFontProperties;gv.set_fontFamily('Benton Sans Low-DPI');gv.set_weight('bold');gv.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Medium'];eO.drawerLowDpiFontNames=[e,gv];var e=new tab.DownloadableFontProperties;e.set_fontFamily('Benton Sans');e.set_weight('100');e.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Light'];var gv=new tab.DownloadableFontProperties;gv.set_fontFamily('Benton Sans');gv.set_weight('bold');gv.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Medium'];var gw=new tab.DownloadableFontProperties;gw.set_fontFamily('Benton Sans');gw.set_style('italic');gw.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Book Italic'];eO.nlpFontNames=[e,gv,gw];var e=new tab.DownloadableFontProperties;e.set_fontFamily('Benton Sans Low-DPI');e.set_weight('100');e.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Book'];var gv=new tab.DownloadableFontProperties;gv.set_fontFamily('Benton Sans Low-DPI');gv.set_weight('bold');gv.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Medium'];var gw=new tab.DownloadableFontProperties;gw.set_fontFamily('Benton Sans Low-DPI');gw.set_style('italic');gw.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans SemiDemi Italic'];eO.nlpLowDpiFontNames=[e,gv,gw];eO.$2=null})();(function(){eE.$1="<div id='right-panel'></div>"})();(function(){fV.$1$1=null})();(function(){dp.invokeCommands=ss.mkdict(['exportCrosstabToExcel',new cA])})();(function(){fW.$1=new RegExp('^https?://[^/]+(.*)$')})();(function(){X.$7='Cancel_Dialog';X.$5='ElapsedTimeBeforeCancelledMS';X.$6='ElapsedTotalTimeShownMS';X.$4='CommandName';X.$8='CancelStatus';X.$a='Failure';X.$9='CompletedBeforeCancel'})();(function(){V.instanceElement=null;V.$0=null})();(function(){P.$c=new Array;P.$b=false;P.$d=null;P.$a=false;if(tabBootstrap.EmbedAndViewportCalculator.get_isEmbeddedInsideAnotherPage()){var e=window.addEventListener;if(ss.isValue(e)){e('message',P.$3,false)}else{var gv=P.$3;window.self.attachEvent('onmessage',gv)}P.$a=true}P.$b=tabBootstrap.ViewerBootstrap.get_instance().isVisibleRectCommunicationEnabled;if(BrowserSupport.BrowserSupport.IsIE()){P.$1()}})();(function(){dJ.$1$1=null})();(function(){fc.maxDialogWidth=600;fc.textArea=new ss.Lazy(function(){return document.createElement('textarea')})})();(function(){dw.maxDialogWidth=600;dw.$1={position:'relative',borderColor:SharedWidgets.TabStyles.Colors.F6,borderWidth:SharedWidgets.TabStyles.Sizing.BorderWidth,borderStyle:'solid',padding:SharedWidgets.TabStyles.Spacing.DefaultSpace,maxHeight:'500px',overflowY:'auto',wordWrap:'break-word'};dw.textArea=new ss.Lazy(function(){return document.createElement('textarea')})})();(function(){bw.$0="<div class='tab-gutter'><div id='"+'tab-dashboard-region'+"' class='"+'tab-dashboard'+"'></div></div>";bw.$1="<div id='"+'tab-dashboard-region'+"' class='"+'tab-dashboard'+"'></div>"})();(function(){cO.richTextEditingEventType='Formatting.RichTextEditing';cO.richTextEditorOpenedBy='RichTextEditorOpenedBy';cO.richTextEditorOpenedByDoubleClick='DoubleClick';cO.richTextEditorOpenedByContextMenu='ContextMenu';cO.richTextEditorOpenedByChevron='Chevron';cO.richTextEditorOpenedFrom='RichTextEditorOpenedFrom';cO.dashboard='Dashboard';cO.annotation='Annotation';cO.worksheetTitle='WorksheetTitle';cO.worksheetTitleOnDashboard='WorksheetTitleOnDashboard';cO.richTextEditorControl='EditorControl';cO.performanceEventType='Formatting_Performance';cO.performanceKeyMetric='PerformanceMetric';cO.performanceKeyIsInitial='IsInitial';cO.performanceKeyItemCount='ItemCount';cO.performanceKeyWidgetIdentifiers='WidgetIdentifiers';cO.performanceKeyElapsedTime='ElapsedTime'})();(function(){tab.DashboardButtonClientCommands.overrideButtonConfigDialogCommandsToBeUI_NonBlocking()})();(function(){cG.$0='tableau:'})();(function(){gm.colorSwatchMenuItemClass='colorSwatchMenuItem';gm.$6=['format-workbook']})();(function(){fs.contentElemClassName='tab-textRegion-content';fs.formatIndicatorElemClassName='tab-formatThisZone';fs.$2='tabAuthoringTitleEditArrow';fs.$1="<div {0} class='tab-textRegion'>\n            <div class='tab-textRegion-boundary'>\n                <div class='"+'tab-textRegion-content'+"'></div>\n            </div>\n            <div class='"+'tab-formatThisZone'+"'></div>\n        </div>"})();(function(){ft.formatIndicatorClass='tab-formatThisZone';ft.placeholderTextParentClass='tabEmptyTextPlaceholder';ft.placeholderTextTextClass='tabEmptyTextPlaceholderText'})();(function(){bs.$6='Authoring';bs.$a='View';bs.$5='AltClick';bs.$9='SingleClick';bs.$7='DashboardAuthoring_ButtonNav';bs.$8='EnterSpaceKey';bs.$2='DashboardAuthoring_ButtonAction';bs.$3='DashboardAuthoring_OpenButtonConfigDialog';bs.$4='DashboardAuthoring_OpenButtonPermissionsErrorDialog';bs.altSingleMouseClickType='AltClick';bs.singleMouseClickType='SingleClick';bs.enterSpaceKeyClickType='EnterSpaceKey';bs.doubleMouseClickType='DoubleClick'})();(function(){Q.defaultHoverBorderWidth=1;Q.textButtonHoverOverlayColorDark=tab.ColorModel.fromColorModelPlusAlpha(tab.ColorModel.blackHoverColor,0.400000005960464);Q.textButtonHoverOverlayColorLight=tab.ColorModel.fromColorModelPlusAlpha(tab.ColorModel.whiteHoverColor,0.400000005960464)})();(function(){cD.$0="<div class='tab-extension-error tab-selectable'>{0}</div>"})();(function(){co.$0="<div class='tab-extension-empty'></div>"})();(function(){cC.$0='<div>'+'<iframe></iframe>'+'</div>'})();(function(){cE.$0="<div class='tab-extension'></div>"})();(function(){bP.$1=312;bP.widgetClassName='tabDataHighlighterView';bP.searchResultsListClassName='tabDataHighlighterViewSearchResultList';bP.searchResultsListItemClassName='tab-list-item';bP.searchResultsListItemLabelClassName='tab-list-item-label';bP.inactiveTextClassName='tabDataHighlighterViewInactiveText';bP.queryDelayTimerMs=200;tab.ObjectRegistry.registerType(bP,bP).call(null)})();(function(){cV.$0="<div class='"+'webZoneHttpsEmbedHttpAuthoring'+"'>"+"<div class='"+'message'+"'></div>"+"<div class='"+'url'+"'>"+'<span>(</span>'+"<span class='"+'scheme'+"'>http://</span>"+"<span class='"+'path'+"'></span>"+'<span>)</span>'+'</div>'+'</div>'})();(function(){cW.$0="<div class='"+'webZoneHttpsEmbedHttpView'+"'>"+"<div class='"+'message'+"'></div>"+"<a target='_blank'></a>"+'</div>'})();(function(){cX.$0="<div class='"+'webZoneBlocked'+"'>"+"<div class='"+'message'+"'></div>"+'</div>'})();(function(){gi.$0="<div class='"+'webZoneEmptyURL'+"'>"+"<div class='"+'message'+"'></div>"+'</div>'})();(function(){dg.$0='<div>'+'<iframe></iframe>'+'</div>'})();(function(){gf.$0="<div class='tab-web'></div>"})();(function(){dj.$1=Math.pow(2,-23)})();(function(){dk.$0="<div class='tab-image'></div>"})();(function(){dl.emptyImageClass='tab-emptyImagePlaceholder';dl.$2='tab-centeredImageWrapper'})();(function(){cq.$0="<div class='tab-EmptyFloatingLayout'></div>"})();(function(){tab.ObjectRegistry.registerType(cp,cp).call(null)})();(function(){cu.$0="<div class='tab-EmptyFloatingLayout'></div>"})();(function(){tab.ObjectRegistry.registerType(cv,cv).call(null)})();(function(){cs.$0="<div class='tab-EmptyFloatingLayout'></div>"})();(function(){tab.ObjectRegistry.registerType(ct,ct).call(null)})();(function(){gq.$0="<div class='"+'tab-zone'+"'>"+"<div class='"+'tab-zone-margin'+"'>"+"<div class='"+'tab-zone-padding'+"'></div>"+'</div>'+'</div>'})();(function(){eX.editConnectionTestID='SheetReconnectEditConnection';eX.$0='SheetReconnectSignIn'})();(function(){M.dashboardContainerSelector='.dashboardSpacer';M.overlayId='auth-overlay';M.messageEventName='message';M.frameTestHook='dse-frame'})();(function(){cP.genericErrorTemplateHtml='<div class="auth-box ocontent tb-data-source-error-container" role="alert"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry" tabindex="0" role="button"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'})();(function(){cL.$0='FileReconnectLocateFile'})();(function(){cj.bodyContainer='<span></span>'})();(function(){bk.$0=false})();(function(){gg.glassWidth=10})();(function(){bx.dashboardRegionId='tab-dashboard-region';bx.dashboardGutterCssSelector='.tab-gutter';tab.ObjectRegistry.registerType(bx,bx).call(null)})();(function(){gs.isActiveZonePropertyName='isActiveZone';gs.isReadyZonePropertyName='isReadyZone';gs.titleVisiblePropertyName='titleVisible';gs.offlineCapableZones=['viz','color','shape','size','map','text','title','bitmap','highlighter','empty','flipboard','layout-flow','layout-basic'];gs.offlineIncapableZones=['invalid','filter','set-membership','current-page','web','dashboard-object','paramctrl','flipboard-nav','layout-group','slide','flexible-layout-root','layout-carousel','layout-grid','layout-free-form','layout-stack','layout-z-index','end']})();(function(){gr.$2='tabZoneReady';gr.zonesThatUseStyledBox=['layout-flow','layout-stack','layout-grid','map','color','size','shape','filter','set-membership','highlighter','paramctrl'];gr.$4=['bitmap','color','shape','size','map','text','web','dashboard-object','paramctrl','filter','set-membership','highlighter','empty','current-page'];gr.$3=['flipboard-nav'];gr.$3$1=null;tab.ObjectRegistry.registerType(gr,gr).call(null)})();(function(){tab.ObjectRegistry.registerType(eF,eF).call(null)})();(function(){bO.$0='DataDetails';bO.$3='QualityWarningCheck';bO.$1='QualityWarningCheckCompleted';bO.$2='QualityWarningCheckFailed';bO.$4='DisplayWithBadge';bO.$5='DisplayWithSevereBadge';bO.$6='DisplayWithoutBadge';bO.$8='query ViewWarnings($viewPath: String!) {\n              views(filter: {path: $viewPath}, permissionMode: FILTER_RESULTS) {\n                normalUpstreamDataQualityWarnings: upstreamDataQualityWarnings(filter: {isActive: true, isSevere: false}) {\n                  id\n                }\n                severeUpstreamDataQualityWarnings: upstreamDataQualityWarnings(filter: {isActive: true, isSevere: true}) {\n                  id\n                }\n              }\n            }\n            ';bO.$7='/api/metadata/graphql'})();(function(){E.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';E.$5=null;E.$4=null;E.$6=null;E.$7=false;E.$1$1=null;E.$1$2=null;E.$1$3=null;i.$0()})();(function(){fD.toolbarButtonSelectLogEventName='viewing_toolbar_button_select';fD.buttonNamePropertyName='ButtonName';fD.paneToggleStatePropertyName='PaneToggleState';fD.isFullscreenPropertyName='IsFullscreen';fD.isMobileDevicePropertyName='IsMobileDevice';fD.paneOpen='open';fD.paneClose='close';fD.paneReplace='replace'})();(function(){bD.$1=null;tab.StartupUtils.callOnceAfterInitialBootstrap(function(){tab.ApplicationModel.get_holder().addEventBinding(function(e){bD.$1=bD.new$1(tab.DataAlertDialogModel.get_instance(),bG.editDataAlertId(),bG.isResumeDataAlert())},function(e){bD.$1=tab.MiscUtil.dispose$1(bD.$1)})})})();(function(){fG.$7='hideLabels';fG.$a='showLabels';fG.$8='narrow';fG.$6='tab-customviews-modified';fG.$c='.tabToolbarButton';fG.$5='160px';fG.$d=50;fG.$e=new fR;fG.$9=new es;fG.$b=new fw;tab.ObjectRegistry.registerType(fG,fG).call(null)})();(function(){fm.maxSubscriptionSubjectLength=256;fm.maxSubscriptionEmailLength=100;fm.subscriptionDialogWidth=500;fm.subscribeComponentBoxHeight=48;fm.$2='tabSubscriptionScheduleDropdown';fm.modeMainDialog=0;fm.modeMessage=1;fm.modeSubscribeUsers=2;fm.modeSubscribeGroups=3})();(function(){fA.iconTypeDataMonitoring='data-monitoring';fA.iconTypeAskData='ask-data';fA.iconTypeDownload='download';fA.iconTypeShare='share';fA.iconTypeCustomViews='customviews';fA.iconTypeSubscribe='subscribe';fA.iconTypeEdit='edit';fA.iconTypeRedo='redo';fA.iconTypeUndo='undo';fA.iconTypeRevert='revert';fA.iconTypeToggleDataUpdates='toggle-updates';fA.iconTypeRefreshData='refresh';fA.iconTypePublicLogo='public-logo';fA.pauseButton='Pause'})();(function(){fF.$2='active';fF.$3='inactive'})();(function(){cb.desktopLayoutIconClass='tab-icon-desktopLayout';cb.tabletLayoutIconClass='tab-icon-tabletLayout';cb.phoneLayoutIconClass='tab-icon-phoneLayout'})();(function(){fH.$0='DataDetails';fH.$1='Display';fH.$2='tab-icon-';fH.$4='toggle-updates';fH.$3=430})();(function(){bz.dataAlertCreateComponentTestId='data-alert-create-component';bz.$2='tab-threshold-description';bz.$1='tab-subject-description';bz.$0='tab-email-description'})();(function(){bC.debounceTimeout=300;bC.maxTitleLength=256;bC.$1=18})();(function(){tab.ObjectRegistry.registerType(eC,eC).call(null)})();(function(){dI.$0='save_customized_view'})();(function(){dH.$2='@tableau/metrics-authoring';dH.$1=null;var e='@tableau/metrics-authoring';var gv='metrics-authoring';dH.$1=tab.ModuleManager.registerRawJsModule(e,gv+'.min',gv).andLoadOnDemandIf(!tsConfig.isUnitTestRun).andExportResultAs('MetricsAuthoring').moduleBeingConfigured})();(function(){eG.drawerWidthOpen=320;eG.drawerWidthClosed=0})();(function(){n.$0=10;n.$1=600})();(function(){D.hideAppBannerCookie='hideAppBanner';D.$1=1000;D.$2=1;D.playStoreUrl='https://play.google.com/store/apps/details?id=com.Tableau.TableauApp';D.appStoreUrl='https://itunes.apple.com/app/tableau-mobile/id434633927';D.$0=':deepLinkingDisabled'})();(function(){gp.$2$3=null})();(function(){var e=[];e.push({ns:'tabdoc',cmd:'delete-nlplink'});e.push({ns:'tabdoc',cmd:'discourse-parse'});e.push({ns:'tabdoc',cmd:'get-datasource-status'});e.push({ns:'tabdoc',cmd:'get-nlplinked-expression'});e.push({ns:'tabdoc',cmd:'get-suggestions'});e.push({ns:'tabdoc',cmd:'get-values-and-value-synonyms'});e.push({ns:'tabdoc',cmd:'initialize-conversation'});e.push({ns:'tabdoc',cmd:'insert-nlplinked-expression'});e.push({ns:'tabdoc',cmd:'insert-nlpvisualization-data'});e.push({ns:'tabdoc',cmd:'interpret-scoped-query'});e.push({ns:'tabdoc',cmd:'nlp-log-perf'});e.push({ns:'tabdoc',cmd:'post-nlp-feedback'});e.push({ns:'tabdoc',cmd:'update-term'});e.push({ns:'tabdoc',cmd:'upsert-nlpquery-data'});e.push({ns:'tabdoc',cmd:'validate-synonyms'});e.push({ns:'tabdoc',cmd:'validate-user-def-value-synonym'});dU.$1=e})();(function(){du.$0=null})();(function(){gn.centeringContainerSelector='#centeringContainer';gn.$1="<div class='tab-workbook' role='application'><div class='dashboardSpacer'></div></div>";gn.$2="<div id='dashboard-spacer' class='dashboardSpacer' role='application'></div>"})();(function(){go.dashboardSpacerSelector=tab.DomUtil.asClassSelector('dashboardSpacer');tab.ObjectRegistry.registerType(go,go).call(null)})();(function(){H.vizContainerSelector=tab.DomUtil.asIDSelector('viz-client-container');H.toolbarContainerSelector=tab.DomUtil.asIDSelector('toolbar-container');H.tabContainerSelector=tab.DomUtil.asIDSelector('tab-container');H.applicationContainerSelector=tab.DomUtil.asIDSelector('main-content');H.dashboardViewportSelector=tab.DomUtil.asIDSelector('dashboard-viewport');tab.ObjectRegistry.registerType(H,H).call(null)})();(function(){dR.$4=null;dR.$3='tab-nlbox-layout'})();(function(){I.$2$1=null})();(function(){G.$1="<div id='dashboard-viewport'></div>"})();(function(){cN.$5=null;cN.$4=null})();(function(){fq.defaultLinePattern='solid';fq.defaultLineJoin='bevel';fq.defaultLineCap='butt';fq.defaultTextBaseline='alphabetic';fq.defaultTextAlign='start';fq.defaultLineDashDashed=[3,1];fq.defaultLineDashDotted=[1,1];fq.defaultLineWidth=1;fq.defaultColor='rgb(0,0,0)';fq.defaultTextColor='rgb(0,0,0)';fq.defaultTextAngle=0;fq.defaultFontName='Arial';fq.defaultFontSize=8;fq.defaultTextUnderline=false;fq.$2=0.01})();(function(){Y.halfPI=0.5*Math.PI;Y.onePI=Math.PI;Y.oneAndHalfPI=1.5*Math.PI;Y.twoPI=2*Math.PI;Y.angleEpsilon=0.000174000000697561})();(function(){bb.$1=':'})();(function(){tab.ObjectRegistry.registerType(bi,bi).call(null)})();(function(){bt.$4='DashboardAuthoring_AddNewObjectToDashboard';bt.$3='MethodAdded';bt.$2='IsTiled';bt.$1='AddedObjectType'})();(function(){bu.type='Dashboard_LoadComplete';bu.bothScrollableVizCount='BothScrollableVizCount';bu.currentDeviceLayout='CurrentDeviceType';bu.currentLayoutSizeMode='CurrentLayoutSizeMode';bu.dashboardWidth='DashboardWidth';bu.dashboardHeight='DashboardHeight';bu.defaultLayoutSizeMode='DefaultLayoutSizeMode';bu.minWidth='DefaultMinWidth';bu.maxWidth='DefaultMaxWidth';bu.minHeight='DefaultMinHeight';bu.maxHeight='DefaultMaxHeight';bu.detectedDeviceType='DetectedDeviceType';bu.embedMode='EmbedMode';bu.filterZonesCount='FilterZonesCount';bu.floatingZonesCount='FloatingZonesCount';bu.highlighterZonesCount='HighlighterZonesCount';bu.imageZonesCount='ImageZonesCount';bu.isAutoGenerated='IsAutoGenerated';bu.isWebZonesEnabled='IsWebZonesEnabled';bu.legendZonesCount='LegendZonesCount';bu.mapCount='MapCount';bu.mobileApp='MobileApp';bu.mobileDevice='MobileDevice';bu.pannableMapCount='PannableMapCount';bu.parameterZonesCount='ParameterZonesCount';bu.screenHeight='ScreenHeight';bu.screenWidth='ScreenWidth';bu.sheetType='SheetType';bu.textZonesCount='TextZonesCount';bu.vizCount='VizCount';bu.xScrollableVizCount='XScrollableVizCount';bu.yScrollableVizCount='YScrollableVizCount';bu.viewId='ViewId';bu.viewportHeight='ViewportHeight';bu.viewportWidth='ViewportWidth';bu.webZonesCount='WebZonesCount'})();(function(){if(tsConfig.isUnitTestRun){return}tab.WorldUpdateInterceptor.get().add_onDashboardLoadComplete(function(){bv.track(tab.ModelUtils.findContentDashboard(null))})})();(function(){tab.StartupUtils.callOnceAfterInitialBootstrap(function(){tab.ApplicationModel.get_holder().addEventBinding(function(e){bJ.removeLeftoverRefline(tab.DataAlertDialogModel.get_instance())},function(e){})})})();(function(){bN.warningToastTelemetryEventName='DataAlert_CreateAlertButtonClicked';bN.closeOrSubmitButtonClickedEventName='DataAlert_CloseOrSubmitButtonClicked';bN.errorMessageTypeProperty='ErrorMessageType';bN.errorMessageStringProperty='ErrorMessageString';bN.alertButtonClickedType='createAlertButtonClicked';bN.datasourceNoPasswordErrorType='datasourceNoEmbeddedPasswordError';bN.platformPropagatedErrorType='platformPropagatedError';bN.genericDataAlertInitErrorType='genericDataAlertInitError';bN.getDataSourcesApiFailedErrorType='getDataSourcesApiFailedError';bN.submitButtonPressedProperty='SubmitButtonPressed';bN.totalRecipientCountProperty='TotalRecipientCount';bN.invalidUnlicensedRecipientCountProperty='InvalidUnlicensedRecipientCount';bN.invalidViewPermissionsRecipientCountProperty='InvalidViewPermissionsRecipientCount';bN.invalidDownloadPermissionRecipientCountProperty='InvalidDownloadPermissionRecipientCount';bN.invalidEmailRecipientCountProperty='InvalidEmailRecipientCount';bN.operatorTypeProperty='OperatorType';bN.conditionMetProperty='ConditionMet';bN.emailFrequencyProperty='EmailFrequency';bN.submitButtonEnabledProperty='SubmitButtonEnabled';bN.currentUserHasEmailProperty='CurrentUserHasEmail';bN.editModeProperty='EditMode'})();(function(){bS.$0="\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion'></div>\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'></div>\n                </div>\n                <div class='tabDataHighlighterMenuView'>\n                    <div class='tabDataHighlighterMenuButton'>\n                        <div class='tabHighlighterContextMenuButtonIcon'></div>\n                    </div>\n                </div>\n            </div>"})();(function(){bY.$6=6})();(function(){cx.$1='@tableau/explain-data-pane';tab.WidgetPlugins.registerWidgetPluginModule(cx.$1,'explain-data-pane')})();(function(){cz.id='explain-data-pane'})();(function(){cU.$0="<div class='tabCatLegendScrollButtonHolder'>"+"<span class='tabCatLegendScrollPrev'></span>"+"<span class='tabCatLegendScrollNext'></span>"+'</div>'})();(function(){fU.$0="<div class='tabCatLegendScrollButtonHolder'>"+"<span class='tabCatLegendScrollPrev'></span>"+'<br>'+"<span class='tabCatLegendScrollNext'></span>"+'</div>'})();(function(){dr.$2=0;dr.$1='tabIterButtonDisabled';dr.$0=100})();(function(){dx.$1=null;tab.ObjectRegistry.registerType(dx,dx).call(null)})();(function(){dA.$1={width:0,readoutText:'',readoutColor:'',borderColor:'',shouldShowMapScale:false,marginOfError:0,tooltipText:''}})();(function(){dB.type='Map_Session_Telemetry';dB.clientRenderMapCount='ClientRenderMapCount';dB.embedMode='EmbedMode';dB.isAuthoring='IsAuthoring';dB.mapboxGLSupported='MapboxGLSupported';dB.mapboxGLNotSupportedReason='MapboxGLNotSupportedReason';dB.mapCount='MapCount';dB.mobileApp='MobileApp';dB.mobileDevice='MobileDevice';dB.pannableMapCount='PannableMapCount';dB.serverRenderMapCount='ServerRenderMapCount';dB.sheetType='SheetType';dB.viewId='ViewId';dB.vizCount='VizCount'})();(function(){if(tsConfig.isUnitTestRun){return}tab.WorldUpdateInterceptor.get().add_onDashboardLoadComplete(function(){dC.track(tab.ModelUtils.findContentDashboard(null))})})();(function(){dG.$2=new ss.Lazy(dG.$0)})();(function(){eb.$3=null})();(function(){dK.customViewsFileName='custom-views';dK.leafletLibFileName='leaflet';dK.connectPanePluginTableauServer='connect-pane-plugin-tableau-server';dK.dataCatalogClientComponentsLibFileName='data-catalog-client-components';dK.mapboxGLLibFileName='mapbox-gl';dK.nestedProjectExplorerLibFileName='nested-project-explorer';dK.rsaLibFilename='rsa';dK.naturalLanguageCommonLibFileName='natural-language-common';dK.naturalLanguageUIMainLibFileName='natural-language-ui-main';dK.naturalLanguageFieldsPanelLibFileName='natural-language-fields-panel';dK.naturalLanguageDiscoverabilityLibFileName='natural-language-discoverability';dK.extensionBootstrapLibFileName='api-platform-js';dK.dataAlertsPanelLibFileName='data-alerts-panel';dK.schemaViewerLibFileName='schema-viewer';dK.vizportalWebclientApiLibFileName='vizportal-webclient-api';dK.dataTabComponents='data-tab-components';dK.devicePreviewBarLibFileName='device-preview-bar';dK.extractWidgetry='extract-widgetry';dK.minSuffix='.min';dK.dataGridModuleDependency=new tab.JsModuleInfo(ss.getTypeFullName(tab.ISharedWidgetsDataGrid),null);dK.storyAuthoringDependency=new tab.JsModuleInfo(ss.getTypeFullName(tab.IStoryModule),null);dK.fileUploadDependency=new tab.JsModuleInfo(ss.getTypeFullName(tab.IFileUploadModule),null);var e=!tsConfig.isUnitTestRun;tab.ModuleManager.register(tab.IFileUploadModule).call(null,'FileUploadModule',null).andLoadOnDemandIf(e);var gv=tab.ModuleManager.register(tab.IConnectionDialogModule).call(null,'ConnectionDialogModule',null).andLoadOnDemandIf(e).moduleBeingConfigured;gv.addDependency(dK.dataGridModuleDependency);gv.addDependency(dK.fileUploadDependency);tab.ModuleManager.register(tab.IPdfExportDialogModule).call(null,'PdfExportDialog',null).andLoadOnDemandIf(e);if(tsConfig.is_authoring){tab.ModuleManager.register(tab.IStoryModule).call(null,'Story',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IStoryAuthoringModule).call(null,'StoryAuthoring','StoryAuthoring').andLoadOnDemandIf(e).moduleBeingConfigured.addDependency(dK.storyAuthoringDependency);tab.ModuleManager.register(tab.IResizeHeadersModule).call(null,'ResizeHeadersModule',null).andLoadOnDemandIf(false);dK.$8()}else{tab.ModuleManager.register(tab.IStoryModule).call(null,'Story',null).andLoadOnDemandIf(e)}dK.$3(e);tab.ModuleManager.register(tab.IGroupDialogModule).call(null,'GroupDialog',null).andLoadOnDemandIf(true).moduleBeingConfigured.addDependency(dK.dataGridModuleDependency);tab.ModuleManager.register(tab.IBinDialogModule).call(null,'BinDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IAliasDialogModule).call(null,'AliasDialog',null).andLoadOnDemandIf(true).moduleBeingConfigured.addDependency(dK.dataGridModuleDependency);tab.ModuleManager.register(tab.ITrendLineDialogModule).call(null,'TrendLineDialog',null).andLoadOnDemandIf(e);dK.$2(e);tab.ModuleManager.registerTypicalRawJsModule('rsa').andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IDataConnectionModule).call(null,'DataConnection',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.ISelfServiceSchedulesModule).call(null,'SelfServiceSchedulesModule',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.ISharedWidgetsDataGrid).call(null,'SharedWidgetsDataGridModule',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.ISharedWidgetsPlayground).call(null,'SharedWidgetsPlayground',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IDownloadDialogModule).call(null,'DownloadDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IDownloadAsVersionDialogModule).call(null,'DownloadAsVersionDialog',null).andLoadOnDemandIf(true);tab.ModuleManager.register(tab.IDeviceLayoutSelectorModule).call(null,'DeviceLayoutSelector',null).andLoadOnDemandIf(e);if(tab.NaturalLanguageUtil.isNlpView()||!tsConfig.is_authoring){dK.$7(e)}dK.$9(e);tab.ModuleManager.registerTypicalRawJsModule('nested-project-explorer').andLoadOnDemandIf(e).moduleBeingConfigured.addDependency(dK.dataGridModuleDependency);tab.ModuleManager.registerTypicalRawJsModule('custom-views').andLoadOnDemandIf(e);if(tab.FeatureFlags.isEnabled('ShowLineageButton')){var gw=tab.ModuleManager.registerTypicalRawJsModule('data-catalog-client-components').andLoadOnDemandIf(e).andExportResultAs('DataCatalogClientComponents').moduleBeingConfigured;var gx=tab.ModuleManager.register(tab.IDataCatalogClientComponentsFactory).call(null,'DataCatalogClientComponents',null).andLoadOnDemandIf(e).moduleBeingConfigured;gx.addDependency(gw);var gy=tab.ModuleManager.registerTypicalRawJsModule('vizportal-webclient-api').andLoadOnDemandIf(true).andExportResultAs('VizportalWebclientApi').moduleBeingConfigured;var gz=tab.ModuleManager.register(tab.IVizportalWebclientApiFactory).call(null,'VizportalWebclientApi',null).andLoadOnDemandIf(true).moduleBeingConfigured;gz.addDependency(gy)}tab.ModuleManager.registerRawJsModule('@tableau/'+'api-platform-js','api-platform-js'+'.min','api-platform-js').andLoadOnDemandIf(e).andExportResultAs('ExtensionsApi');dK.$6(e);if(tsConfig.is_mobile){tab.ModuleManager.register(tab.IVizZoneModule).call(null,'VizZoneMobile',null).andLoadOnDemandIf(false)}else{tab.ModuleManager.register(tab.IVizZoneModule).call(null,'VizZoneWeb',null).andLoadOnDemandIf(false)}tab.ModuleManager.register(tab.ISavingModule).call(null,'Saving',null).andLoadOnDemandIf(e);if(tab.RuntimeUtil.isRuntimeSupported()){tab.ModuleManager.registerRawJsModule('runtimeweb','runtimeweb','runtimeweb').andLoadOnDemandIf(true)}dK.$4(e);dK.$a(e);tab.ModuleManager.registerRawJsModule('runtimeanimweb','runtimeanimweb','runtimeanimweb').andLoadOnDemandIf(true);tab.ModuleManager.registerTypicalRawJsModule('device-preview-bar').andLoadOnDemandIf(e).andExportResultAs('DevicePreviewBar');var gA=new Object;gA.Instance=tab.PluginPresentationLayer.get_instance();var gB=gA;if(tsConfig.isUnitTestRun){window['PresLayerAPIContract']=gB}$(ss.mkdel(this,function(){define('$',function(){return $});define('jquery',function(){return $});define('React',function(){return React});define('ReactDOM',function(){return ReactDOM});define('react',function(){return React});define('react-dom',function(){return ReactDOM});define('SharedWidgets',function(){return SharedWidgets});define('@tableau/preslayer-api-contract',function(){return gB});define('@tableau/file-picker-api-contract',ss.mkdel(this,function(){var gC=new Object;gC.Instance=eb.get_instance();return gC}));define('@tableau/telemetry-api-contract',ss.mkdel(this,function(){var gC=new Object;gC.Instance=tab.PluginTelemetry.get_instance();return gC}));define('@tableau/hybrid-widgets-contract',function(){return tab.HybridWidgetsApiResolver.findGloballyRegisteredModule()});define('@tableau/shared-widgets',function(){return SharedWidgets});define('@tableau/widgets',function(){return SharedWidgets});define('@tableau/browser-support',function(){return BrowserSupport});define('@tableau/eventutils',function(){return EventUtils});define('@tableau/drag-drop-api-contract',function(){return null});tab.ModuleManager.onRequireJsReady()}))})();(function(){dX.$0="<img class='tab-overlayImage'/>"})();(function(){en.containerClass='tab-legacy-dropdown-container';en.containerBorderClass='tab-legacy-qf-bordered';en.summaryClass='tab-legacy-dropdown-summary';en.iconContainerClass='tab-legacy-dropdown-icon-container';en.iconClass='tab-legacy-dropdown-icon'})();(function(){eo.containerClass='tab-legacy-qf-readout-container';eo.containerBorderClass='tab-legacy-qf-bordered';eo.textClass='tab-legacy-qf-readout-text';eo.iconClass='tab-legacy-qf-readout-icon'})();(function(){ey.startSceneEventType='start_scene';ey.startHoverEventType='start_hover';ey.endSceneEventType='end_scene';ey.endHoverEventType='end_hover';ey.endClearOverlayEventType='end_clearoverlay';ey.endTooltipEventType='end_tooltip';ey.$1='.OngoingMeasurement'})();(function(){eI.$1=new cz})();(function(){fe.$0='.SmoothTooltipBehavior'})();(function(){fN.$0='.tab-tooltipContent';fN.$1="\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"})();(function(){fI.defaultVerticalOffset=16;fI.defaultHorizonalOffset=16;fI.$4=16;fI.$2=10;fI.belowRightClass='tab-tooltipBR';fI.belowLeftClass='tab-tooltipBL';fI.aboveRightClass='tab-tooltipAR';fI.aboveLeftClass='tab-tooltipAL';fI.$1='tab-tooltipAR'+' '+'tab-tooltipAL'+' '+'tab-tooltipBL'+' '+'tab-tooltipBR';fI.$5=null;fI.$3='Tooltip layout was requested, but tooltip position cannot be calulated (shownArgs is null).'})();(function(){fQ.$m="\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>";fQ.$q='.tab-ubertipTooltip';fQ.$r='.tab-ubertipTooltip '+'span[data-tableau="VizInTooltip"]';fQ.$j='.tab-ubertipContent';fQ.$e='.tab-ubertipActions';fQ.$g='.tab-ubertipCommandArea';fQ.$i='.tab-ubertipCommands';fQ.$h='.tab-clear';fQ.$o='.tab-ubertipSelected';fQ.$n='tab-selection-relaxation-selected';fQ.$f="<li><div class='tab-separator'>&nbsp;</div></li>";fQ.$k=70;fQ.$l=2;fQ.$p=740})();(function(){fZ.$1$1=null;fZ.$1$2=null})();(function(){fK.whitespaceObjectId='W';fK.unknownObjectId='U';fK.$1='mouseleave.basemode';fK.$4=0;fK.$3=null;fK.latestTupleId=null;fK.$2='U';fK.vizInTooltipDelayTimerMs=200})();(function(){fX.$0=null})();(function(){ga.$0=null})();(function(){gd.warningTemplate="\n        <div class='tabWarningDialog'>\n          <div class='tab-warning-msg'></div>\n        </div>"})();(function(){ge.init()})()})();;
/*! BEGIN RuntimeUI */
(function(){'dont use strict';var a={};ss.initAssembly(a,'vqlruntimeui')})();;
/*! BEGIN RuntimeRendered */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlruntimerendered');var b=ss.mkType(a,'tab.$0',function(){this.$3=null;this.$1=false;this.$2=false;this.$0=0;this.$4=0});var c=ss.mkEnum(a,'tab.$1',{$3:0,$1:1,$0:2,$2:3});var d=global.tab.ArrowKeyNavigationUtil=ss.mkType(a,'tab.ArrowKeyNavigationUtil',function(){},null,{handleArrowKeyEvent:function(bw,bx,by,bz){var bA=d.$2(by,bw);if(ss.isNullOrUndefined(bA)){return}var bB=bA.item1;var bC=bA.item2;var bD=bA.item3;switch(bz){case 3:case 2:{d.$7(by,bx,bB,bC,bD);break}case 0:case 1:{d.$8(by,bx,bB,bC,bD);break}default:{return}}},$7:function(bw,bx,by,bz,bA){switch(bx){case'ArrowDown':{d.$5(bw,by,bz);break}case'ArrowUp':{d.$6(bw,by,bz);break}case'ArrowRight':{d.$4(bw,by,bz);break}case'ArrowLeft':{d.$3(bw,by,bA);break}default:{return}}},$8:function(bw,bx,by,bz,bA){switch(bx){case'ArrowDown':{d.$4(bw,by,bz);break}case'ArrowUp':{d.$3(bw,by,bA);break}case'ArrowRight':{d.$5(bw,by,bz);break}case'ArrowLeft':{d.$6(bw,by,bz);break}}},$4:function(bw,bx,by){var bz=bx+1;if(bw.length<=bz){return}var bA=d.$1(bw,bz,by);d.$0(bw,bz,bA)},$3:function(bw,bx,by){d.$0(bw,bx-1,by)},$5:function(bw,bx,by){d.$0(bw,bx,by+1)},$6:function(bw,bx,by){d.$0(bw,bx,by-1)},$2:function(bw,bx){for(var by=0;by<bw.length;by++){var bz=bw[by].getIndexAndEnclosedIndexForNodeWithIdIfPresent(bx);if(ss.isNullOrUndefined(bz)){continue}return{item1:by,item2:bz.item1,item3:bz.item2}}return null},$1:function(bw,bx,by){var bz=bw[bx];return bz.findFirstNodeIndexWithEnclosedIndex(by)},$0:function(bw,bx,by){if(bx<0||bx>bw.length-1){return}bw[bx].findAndFocusIfPossible(by)}});var e=global.tab.ArrowKeyNavKeyboardShortcut=ss.mkType(a,'tab.ArrowKeyNavKeyboardShortcut',function(bw,bx){this.$1=null;this.$0=null;KeyboardShortcuts.BaseKeyboardShortcut.call(this);this.$1=bw;this.$0=bx},{getKeyComboOrKeyCombos:function(){return new KeyboardShortcuts.KeyCombos(new KeyboardShortcuts.KeyCombo('ArrowUp',null),new KeyboardShortcuts.KeyCombo('ArrowDown',null),new KeyboardShortcuts.KeyCombo('ArrowLeft',null),new KeyboardShortcuts.KeyCombo('ArrowRight',null))},getElement:function(){return this.$1},isAllowed:function(bw){return ss.isValue(bw.target)},executeShortcut:function(bw){var bx=bw.target;this.$0(bx.id,KeyboardShortcuts.KeyboardUtilities.NormalizeKey(bw.key))},getTelemetryKey:function(){return'Arrow key navigation'}});var f=global.tab.AxisBorderInput=ss.mkType(a,'tab.AxisBorderInput',function(bw,bx,by){this.$2=0;this.$1=0;this.$0=null;this.$2=bw;this.$1=bx;this.$0=by},{get_left:function(){return this.$1},get_top:function(){return this.$2},get_borderAttributes:function(){return this.$0}});var g=global.tab.AxisComponent=ss.mkType(a,'tab.AxisComponent',function(bw){this.$9=null;this.$8=null;this.$7=null;spiff.PureRenderComponent.call(this,bw);this.state={isHovered:false,showSortIndicator:false};this.$8=ss.mkdel(this,function(bx){if(ss.isValue(bx)){this.$7=bx}});this.$9=new m(bw)},{render:function(){return spiff.DOMElements.div({className:'tab-vizAxisWrapper',style:this.$1(),onMouseOver:ss.mkdel(this,function(bw){this.$5(true)}),onMouseLeave:ss.mkdel(this,function(bw){this.$5(false)}),ref:this.$8},((this.props.axisTitle.availableSpaceForTitle>0)?ss.mkdel(this,function(){return React.createElement(n,this.props.axisTitle)})():null),(this.state.showSortIndicator?ss.mkdel(this,function(){return this.$0()})():null),React.createElement(bp,this.props.ticks),(ss.isValue(this.props.tickLabels)?ss.mkdel(this,function(){return React.createElement(bn,this.props.tickLabels)})():null))},$1:function(){var bw={top:this.props.top+'px',left:this.props.left+'px'};if(tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)){bw.width=this.props.alongAxisPixelSize+'px';bw.height=this.props.pixelSize+'px'}else{bw.width=this.props.pixelSize+'px';bw.height=this.props.alongAxisPixelSize+'px'}if(this.props.isSelected){bw.backgroundColor=this.props.axisStyle.selectedFillColor;bw.color=this.props.axisStyle.selectedTextColor}else{bw.backgroundColor=this.props.axisStyle.fillColor;bw.color=this.props.axisStyle.textColor}return bw},$5:function(bw){this.$9.set_isHoverIndicator(bw);this.setState({isHovered:bw})},componentDidUpdate:function(){if(ss.isNullOrUndefined(this.$7)){return}var bw=this.$3(this.$7);this.$9.updateIndicatorPosition(bw);this.setState({showSortIndicator:this.$9.shouldShowSortIndicator()})},$2:function(bw){var bx=bw.getElementsByClassName('tab-vizAxisTitle');if(bx.length===0){return null}return bx.item(0)},$3:function(bw){if(BrowserSupport.BrowserSupport.IsIE()){return this.$4(bw)}var bx=this.$2(bw);var by=(ss.isNullOrUndefined(bx)?null:bx.parentElement);if(ss.isNullOrUndefined(by)){return null}var bz=this.props.axisTitle.titlePadding+Math.ceil((by.offsetHeight-15)/2);var bA=bx.offsetLeft+bx.offsetWidth;if(tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)){bA+=by.offsetLeft;return{x:bA,y:bz}}else{bA+=by.offsetTop;return{x:bz,y:bA}}},$0:function(){return spiff.DOMElements.div({className:this.$9.getSortIndicatorClassName(),style:this.$9.getSortIndicatorCss(),title:this.props.sortIndicatorTooltip,onMouseOver:ss.mkdel(this,function(bw){this.props.sortIndicatorHoverCallback(true)}),onMouseLeave:ss.mkdel(this,function(bw){this.props.sortIndicatorHoverCallback(false)}),onClick:ss.mkdel(this,function(bw){this.$6(bw)})})},$6:function(bw){this.props.invokeSortCommand({x:bw.pageX,y:bw.pageY},this.props.sceneMarginLocation)},$4:function(bw){var bx=this.$2(bw);var by=(ss.isNullOrUndefined(bx)?null:bx.parentElement);if(ss.isNullOrUndefined(by)){return null}var bz=this.props.axisTitle.titlePadding;if(tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)){bz+=Math.ceil((by.offsetHeight-15)/2);var bA=by.offsetLeft+bx.offsetLeft+bx.offsetWidth;return{x:bA,y:bz}}else{bz+=Math.ceil((by.offsetWidth-15)/2);var bB=by.offsetTop+bx.offsetTop+bx.offsetHeight;return{x:bz,y:bB}}}});var h=global.tab.AxisHolderComponent=ss.mkType(a,'tab.AxisHolderComponent',function(bw){spiff.PureRenderComponent.call(this,bw)},{render:function(){return this.$2()},$2:function(){var bw=_.map(this.props.axes,function(by){return React.createElement(g,by)});var bx=this.$1();return spiff.DOMElements.div({className:'tab-vizAxisHolderWrapper',style:this.$0(),'aria-hidden':'true',tabIndex:-1},bw,bx)},$1:function(){var bw=[];for(var bx=0;bx<this.props.borderRenderingInput.length;bx++){var by=this.props.borderRenderingInput[bx];if(ss.isValue(by.get_borderAttributes())){bw.push(t.drawLine({x:by.get_left(),y:by.get_top()},this.props.pixelSize,by.get_borderAttributes(),!tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)))}}return bw},$0:function(){if(tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)){var bw={width:this.props.alongAxisTotalPixelSize+'px',height:this.props.pixelSize+'px'};if(this.props.sceneMarginLocation===1){bw.marginTop=1+'px'}return bw}else{return{width:this.props.pixelSize+'px',height:this.props.alongAxisTotalPixelSize+'px'}}}});var i=global.tab.AxisHolderViewModel=ss.mkType(a,'tab.AxisHolderViewModel',function(bw,bx,by,bz){this.$i=null;this.$l=false;this.$h=null;this.$k=null;this.$j=null;ss.makeGenericType(o,[Object]).call(this,bw,bx,by);this.$l=bw.get_sceneMarginLayout().ElementType[this.marginRow]===1;this.$h=new j(bw,this.orientedSize,this.alongAxisPixelSize);this.$k=this.$b(bw.get_nodeData());this.$j=bz;this.$i=bw.get_axisTable()},{set_sortIndicatorHoverCallback:function(bw){this.$h.set_sortIndicatorHoverCallback(bw)},set_invokeSortCommand:function(bw){this.$h.set_invokeSortCommand(bw)},createInitialProps:function(){return{alongAxisTotalPixelSize:this.orientedSize.get_along(),pixelSize:this.orientedSize.get_perpendicular(),sceneMarginLocation:this.location}},createUpdatedProps:function(){var bw={sceneMarginViewportSize:this.get_sceneMarginViewportSize()};var bx=[];var by=[];var bz=this.$g();for(var bA=0;bA<bz.length;bA++){var bB=bz[bA];bx.push(this.$d(bB));by.push(this.$e(bB))}bw.axes=bx;bw.axisResizers=by;bw.borderRenderingInput=this.$c();return bw},$b:function(bw){var bx=[];for(var by=0;by<bw.Level.length;++by){if(bw.Level[by]===this.level){bx.push(bw.BorderStartLevel[by])}}return Array.prototype.slice.call(bx)},$g:function(){var bw=[];for(var bx=0;bx<this.$i.FoldState.length;bx++){var by=this.$i.FoldState[bx];var bz=by!==0;if(bz===this.$l){bw.push(bx)}}return bw},$f:function(bw){var bx=this.makeOrientedSize(this.alongAxisPixelOffset[bw],0);return new f(bx.get_height(),bx.get_width(),this.$j.getAxisAndNonBottomHeaderDividers(this.$k[bw]))},$c:function(){var bw=[];for(var bx=0;bx<this.$i.FoldState.length;bx++){var by=this.$i.FoldState[bx];var bz=by!==0;if(this.$l&&bz!==this.$l||!this.$l&&bz===this.$l){bw.push(this.$f(bx))}}return bw},$d:function(bw){var bx=this.makeOrientedSize(this.alongAxisPixelOffset[bw],0);return this.$h.buildAxisProps(bw,this.orientedSize.get_perpendicular(),bx.get_height(),bx.get_width(),this.isHolderSelected(bw))},$e:function(bw){return this.$h.buildAxisResizerProps(bw,this.get_sceneMarginViewportSize())}});var j=global.tab.AxisPropsBuilder=ss.mkType(a,'tab.AxisPropsBuilder',function(bw,bx,by){this.$j=null;this.$p=0;this.$t=null;this.$s=null;this.$l=false;this.$n=null;this.$r=null;this.$o=null;this.$k=0;this.$i=null;this.$m=null;this.$h=null;this.$q=null;this.$1$1=null;this.$1$2=null;this.$j=bw.get_axisTable();this.$i=bw.get_axisOutput().Style;this.$p=bw.get_sceneMarginLocation();this.$t=bw.get_axisOutput().TitleStyle;this.$s=bw.get_axisOutput().TitleFontMetrics;this.$l=bw.isHorizontal();this.$n=bx;this.$r=bw.get_tickPlacement();this.$o=bw.get_paneExtents();this.$k=bw.get_columnCount();this.$m=bw.get_labelSkipTable();this.$h=by;this.$q=ss.mkdel(bw,bw.sendAxisResizeCommand)},{get_sortIndicatorHoverCallback:function(){return this.$1$1},set_sortIndicatorHoverCallback:function(bw){this.$1$1=bw},get_invokeSortCommand:function(){return this.$1$2},set_invokeSortCommand:function(bw){this.$1$2=bw},buildAxisProps:function(bw,bx,by,bz,bA){var bB=this.$h[bw];var bC=this.$j.IsReversed[bw];var bD=(this.$l?bw:(bw+this.$k));var bE=(this.$l?{x:0,y:0,w:bB,h:this.$n.get_perpendicular()}:{x:0,y:0,w:this.$n.get_perpendicular(),h:bB});var bF=this.$f(bD,bE,bC,false,true);var bG=null;if(ss.isValue(bF)&&bF.length>0){bG=this.$d(bw,bD,bF,bA)}var bH=this.$6(bF,bw,bD,bE,bC);var bI=this.$4(bw,bD,bA,bG);return{top:by,left:bz,isSelected:bA,alongAxisPixelSize:bB,pixelSize:bx,key:this.$p+bw,sceneMarginLocation:this.$p,tickLabels:bG,ticks:bH,axisTitle:bI,axisStyle:x.buildStyleProps(this.$i,this.$j.PerFieldStyleIndex[bw]),sortIndicatorClassName:this.$a(bw),canShowHoverSortIndicator:this.$5(bw),sortIndicatorTooltip:this.$c(bw),sortIndicatorHoverCallback:this.get_sortIndicatorHoverCallback(),invokeSortCommand:this.get_invokeSortCommand()}},buildAxisResizerProps:function(bw,bx){var by=new l;by.sceneMarginLocation=this.$p;by.sendAxisResizeCommand=this.$q;by.sceneMarginViewportSize=bx;by.foldState=this.$j.FoldState[bw];return by},$f:function(bw,bx,by,bz,bA){var bB=false;if(bz){bB=this.$r.PerHeaderMajorTickPlacement.ShowMinorTicks[bw]}else{bB=this.$r.PerHeaderMajorTickPlacement.ShowMajorTicks[bw]}if(bB){var bC=new br(by,this.$l,bz);return bq.getTickPlacement(this.$r,bx,bw,bC,bA)}return null},$0:function(bw,bx){return ss.idiv(this.$h[bx],bw)<2},$d:function(bw,bx,by,bz){var bA=this.$h[bw];var bB=this.$e(bw);var bC=O.generateFromLabelSkipTable(this.$m,bx);var bD=bq.getTickLabelStyle(this.$r,bx);if(bz&&ss.isValue(bD)){bD.text_style_color=this.$i.SelectedTextColor[bx]}var bE=bq.getTickLabelsAndIsFirstTickOutsideViewPort(this.$r,bA,bx,bB,bC);var bF=bq.getTickLabelPositions(by,bC,bE.isFirstTickOutsideViewPort);var bG=[];for(var bH=0;bH<bE.tickLabels.length;bH++){var bI=bE.tickLabels[bH];var bJ=Math.ceil(tab.RuntimeTextMeasurementHooks.measureTextWidth$1(bD,bI));bG.push(bJ)}var bK=this.$7(bx);var bL=new bo;bL.tickLabelPositions=bF;bL.visibleTickLabels=bE.tickLabels;bL.alongAxisPixelSize=bA;bL.pixelSize=this.$n.get_perpendicular();bL.sceneMarginLocation=this.$p;bL.majorTickSize=this.$r.TickLengthMajorPixels;bL.tickLabelStyle=bD;bL.measuredLabelWidths=bG;bL.measuredLabelHeight=bK;return bL},$e:function(bw){if(this.$l){var bx=_.indexOf(this.$o.pane_col,bw);return new P(this.$o.XRangeMin[bx],this.$o.XRangeMax[bx])}else{var by=_.indexOf(this.$o.pane_row,bw);return new P(this.$o.YRangeMin[by],this.$o.YRangeMax[by])}},$6:function(bw,bx,by,bz,bA){var bB=((ss.isValue(bw)&&bw.length>0&&this.$0(bw.length,bx))?this.$f(by,bz,bA,false,false):bw);var bC=this.$f(by,bz,bA,true,false);return{majorTicks:bq.getTicksForMultiPanes(bB,bx),minorTicks:bq.getTicksForMultiPanes(bC,bx),majorTickSize:this.$r.TickLengthMajorPixels,minorTickSize:this.$r.TickLengthMinorPixels,alongAxisPixelSize:this.$h[bx],pixelSize:this.$n.get_perpendicular(),sceneMarginLocation:this.$p,tickMarkColor:tab.ColorModel.fromArgbInt(this.$i.TickColor[this.$j.PerFieldStyleIndex[bx]])}},$4:function(bw,bx,by,bz){var bA=this.$1(bz);var bB=this.$8(bw);var bC=bA-bB;var bD=Math.max(0,bC);var bE=Math.min(this.$j.TitlePadding[bw],bD);var bF=((bA>bB)?(bA-bE):0);var bG=Math.floor(bF/bB);return{title:(ss.isNullOrUndefined(this.$j.AxisTitle)?'':this.$j.AxisTitle[bw]),subtitle:this.$3(bw,bx),titleStyle:this.$g(bw,by),alongAxisPixelSize:this.$h[bw],pixelSize:this.$n.get_perpendicular(),sceneMarginLocation:this.$p,titlePadding:bE,availableSpaceForTitle:bF,numLinesLimit:bG}},$3:function(bw,bx){if(this.$j.UseAutoSubtitle[bw]){return(ss.isNullOrUndefined(this.$r.PerHeaderMajorTickPlacement.DateTimeSubtitle)?'':this.$r.PerHeaderMajorTickPlacement.DateTimeSubtitle[bx])}else{return(ss.isNullOrUndefined(this.$j.AxisSubtitle)?'':this.$j.AxisSubtitle[bw])}},$9:function(bw){if(ss.isNullOrUndefined(this.$j.HasSortIndicator)){return false}return this.$j.HasSortIndicator[bw]},$b:function(bw){if(ss.isNullOrUndefined(this.$j.SortDirection)){return'asc'}return((this.$j.SortDirection[bw]===0)?'asc':'desc')},$a:function(bw){if(!this.$9(bw)){return''}var bx=this.$b(bw);return((bx==='asc')?'sortIndLeft':'sortIndRight')},$5:function(bw){if(ss.isNullOrUndefined(this.$j.CanShowHoverSortIndicator)){return false}return this.$j.CanShowHoverSortIndicator[bw]},$c:function(bw){if(ss.isNullOrUndefined(this.$j.SortIndicatorTooltip)){return''}return this.$j.SortIndicatorTooltip[bw]},$g:function(bw,bx){var by=this.$j.TitleStyleIndex[bw];var bz=this.$t[by];var bA=tab.TupleDatastoreConversions.textStyleFromTuple(bz);if(bx&&ss.isValue(bA)&&ss.isValue(this.$i.SelectedTextColor)){bA.text_style_color=this.$i.SelectedTextColor[by]}return bA},$1:function(bw){if(ss.isNullOrUndefined(bw)){return this.$n.get_perpendicular()}var bx=this.$2(bw);return this.$n.get_perpendicular()-bx-bw.majorTickSize},$2:function(bw){var bx=bw.tickLabelStyle.text_orientation===0;var by=!!(this.$l^bx);if(by){return _.reduce(bw.measuredLabelWidths,function(bz,bA){return Math.max(bz,bA)},0)}return bw.measuredLabelHeight},$7:function(bw){if(ss.isNullOrUndefined(this.$r.PerHeaderMajorTickPlacement)||ss.isNullOrUndefined(this.$r.PerHeaderMajorTickPlacement.LabelStyleIndex)||ss.isNullOrUndefined(this.$r.FontMetrics)){return 0}var bx=this.$r.PerHeaderMajorTickPlacement.LabelStyleIndex[bw];var by=this.$r.FontMetrics[bx];return Math.ceil(by[0])},$8:function(bw){if(ss.isNullOrUndefined(this.$j.TitleStyleIndex)||ss.isNullOrUndefined(this.$s)){return 0}var bx=this.$j.TitleStyleIndex[bw];var by=this.$s[bx];return Math.ceil(by[0])}});var k=global.tab.AxisResizerComponent=ss.mkType(a,'tab.AxisResizerComponent',function(bw){this.$a=null;this.$b=null;this.$e=null;this.$d=0;this.$c=false;spiff.PureRenderComponent.call(this,bw);this.$c=tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation);this.$a=spiff.ReactRefs.attachDragSource(ss.mkdel(this,function(){return this}));this.$b=ss.mkdel(this,function(bx){this.$a(bx);this.$e=$(bx)})},{render:function(){var bw=this.$6();var bx=this.$5(this.$4(),this.$3(bw));var by=spiff.DOMElements.div({className:'tab-vizResizerLine',style:bx},'');var bz=this.$8(this.$7(),bw);return spiff.DOMElements.div({className:'tab-vizAxisResizer',style:bz,ref:this.$b},by)},get_resizerObject:function(){return this.$e},$9:function(){return this.props.sceneMarginLocation===0||this.props.sceneMarginLocation===3},$4:function(){var bw=(this.$c?this.props.sceneMarginViewportSize.w:this.props.sceneMarginViewportSize.h);return{w:(!this.$c?1:bw),h:(!this.$c?bw:1)}},$3:function(bw){var bx=2;if(!this.$c){return{x:bw.x+bx,y:0}}else{return{x:0,y:bw.y+bx}}},$7:function(){var bw=2*2;var bx=(this.$c?this.props.sceneMarginViewportSize.w:this.props.sceneMarginViewportSize.h);return{w:(!this.$c?bw:bx),h:(!this.$c?bx:bw)}},$6:function(){var bw=2;var bx=(!this.$c?this.props.sceneMarginViewportSize.w:this.props.sceneMarginViewportSize.h);var by=0;var bz=0;if(!this.$c){by+=(this.$9()?bx:0);return{x:by-bw,y:bz}}else{bz+=(this.$9()?bx:0);return{x:by,y:bz-bw}}},$8:function(bw,bx){var by={width:bw.w,height:bw.h,left:bx.x,top:bx.y,backgroundColor:'transparent',position:'absolute',cursor:(!this.$c?'ew-resize':'ns-resize')};return by},$5:function(bw,bx){var by={left:bx.x,top:bx.y,opacity:0,border:'none'};if(!this.$c){by.width='0px';by.height=bw.h;by.borderRight='1px dotted'}else{by.width=bw.w;by.height='0px';by.borderBottom='1px dotted'}return by},$2:function(bw){return new spiff.MoveDragInstance($(bw),ss.mkdel(this,this.onMove),ss.mkdel(this,this.onDrop),null)},acceptsDragType:function(){return 1},startDrag:function(bw){if(!this.$c){this.$d=tab.DoubleUtil.roundToInt(this.$e.children('.'+'tab-vizResizerLine').offset().left);this.updateResizerXPosition(this.$0(bw.pageX),bw.pageX)}else{this.$d=tab.DoubleUtil.roundToInt(this.$e.children('.'+'tab-vizResizerLine').offset().top);this.updateResizerYPosition(this.$1(bw.pageY),bw.pageY)}return this.$2(bw.target)},onMove:function(bw){this.$e.children('.'+'tab-vizResizerLine').css('opacity',1);if(!this.$c){this.updateResizerXPosition(this.$0(bw.pageX),bw.pageX)}else{this.updateResizerYPosition(this.$1(bw.pageY),bw.pageY)}},onDrop:function(bw){this.$e.children('.'+'tab-vizResizerLine').css('opacity',0);var bx=(!this.$c?this.calculateXSizeDifference(bw.pageX):this.calculateYSizeDifference(bw.pageY));if(Z.isSizeDifferenceOverThreshold(bx)){this.props.sendAxisResizeCommand(this.props.foldState===1,bx)}},updateResizerYPosition:function(bw,bx){var by=bw<0;var bz=bx-ss.idiv(tab.DoubleUtil.roundToInt(this.$e.children('.'+'tab-vizResizerLine').height()),2);if(Math.abs(bw)<=2){var bA=(by?-2:2);bz=this.$d+bA}if(Math.abs(bw)>=100){var bB=(by?-100:100);bz=this.$d+bB}var bC=this.$e.children('.'+'tab-vizResizerLine').offset();this.$e.children('.'+'tab-vizResizerLine').offset({left:bC.left,top:bz})},updateResizerXPosition:function(bw,bx){var by=bw<0;var bz=bx-ss.idiv(tab.DoubleUtil.roundToInt(this.$e.children('.'+'tab-vizResizerLine').width()),2);if(Math.abs(bw)<=2){var bA=(by?-2:2);bz=this.$d+bA}if(Math.abs(bw)>=100){var bB=(by?-100:100);bz=this.$d+bB}var bC=this.$e.children('.'+'tab-vizResizerLine').offset();this.$e.children('.'+'tab-vizResizerLine').offset({left:bz,top:bC.top})},$1:function(bw){var bx=bw;return bx-this.$d},$0:function(bw){var bx=bw;return bx-this.$d},calculateYSizeDifference:function(bw){var bx=bw-ss.idiv(tab.DoubleUtil.roundToInt(this.$e.children('.'+'tab-vizResizerLine').height()),2);var by=bx-this.$d;var bz=(this.$9()?(by<0):(by>=0));var bA=Math.min(Math.max(Math.abs(by),2),100);return(bz?-bA:bA)},calculateXSizeDifference:function(bw){var bx=bw-ss.idiv(tab.DoubleUtil.roundToInt(this.$e.children('.'+'tab-vizResizerLine').width()),2);var by=bx-this.$d;var bz=(this.$9()?(by<0):(by>=0));var bA=Math.min(Math.max(Math.abs(by),2),100);return(bz?-bA:bA)}});var l=global.tab.AxisResizerProps=ss.mkType(a,'tab.AxisResizerProps',function(){this.sceneMarginLocation=0;this.sendAxisResizeCommand=null;this.sceneMarginViewportSize=null;this.foldState=0});var m=global.tab.AxisSortIndicator=ss.mkType(a,'tab.AxisSortIndicator',function(bw){this.$c=4;this.$e=null;this.$a=false;this.$d=0;this.$7=0;this.$f=0;this.$8=0;this.$9=false;this.$g=null;this.$b=false;this.$b=false;this.$g=null;this.$9=bw.canShowHoverSortIndicator;this.$e=bw.sortIndicatorClassName;this.$a=tab.SceneMarginModel.isHorizontal(bw.sceneMarginLocation);this.$7=bw.alongAxisPixelSize;this.$f=bw.pixelSize;this.$8=bw.sceneMarginLocation;this.$d=bw.axisTitle.availableSpaceForTitle},{set_isHoverIndicator:function(bw){this.$b=bw},updateIndicatorPosition:function(bw){if(ss.isNullOrUndefined(bw)){this.$g=this.$4()}else{this.$g=this.$5(bw)}},shouldShowSortIndicator:function(){if(ss.isNullOrUndefined(this.$g)){return false}if(this.$b){return this.$9}return this.$1()},getSortIndicatorClassName:function(){if(this.$b){return this.$3()}return this.$e},getSortIndicatorCss:function(){var bw={position:'absolute'};var bx=this.$g.perpendicular+'px';switch(this.$8){case 3:{bw.left=bx;break}case 2:{bw.right=bx;break}case 1:{bw.bottom=bx;break}case 0:{bw.top=bx;break}}var by=this.$g.along+'px';if(this.$a){bw.transform='rotate(90deg)';bw.left=by}else{bw.bottom=by}return bw},$1:function(){if(this.$e===''){return false}return this.$0()},$0:function(){if(this.$d<15){return false}var bw=this.$g.along+15;return bw<this.$7},$3:function(){if(this.$e==='sortIndLeft'){return'sortIndSolidLeft'}else if(this.$e==='sortIndRight'){return'sortIndSolidRight'}return'sortIndSolidRight'},$5:function(bw){if(this.$2(bw)){return this.$6(bw)}return this.$4()},$2:function(bw){if(this.$a){var bx=bw.x+this.$c+15;return bx<=this.$7}else{var by=bw.y+this.$c+15;return by<=this.$7}},$6:function(bw){if(this.$a){var bx=new L;bx.along=bw.x+this.$c;bx.perpendicular=bw.y;return bx}var by=new L;by.along=bw.y+this.$c;by.perpendicular=bw.x;return by},$4:function(){if(this.$b){var bw=ss.idiv(15,2);var bx=new L;bx.along=ss.idiv(this.$7,2)-bw;bx.perpendicular=ss.idiv(this.$f,2)-bw;return bx}return null}});var n=global.tab.AxisTitleComponent=ss.mkType(a,'tab.AxisTitleComponent',function(bw){spiff.PureRenderComponent.call(this,bw)},{render:function(){return spiff.DOMElements.div({className:this.$1(),style:this.$2()},this.$4())},$4:function(){return spiff.DOMElements.div({className:'tab-vizAxisTitle',style:this.$5()},this.$0())},$0:function(){if(!ss.isNullOrEmptyString(this.props.subtitle)){return ss.formatString('{0} [{1}]',this.props.title,this.props.subtitle)}return this.props.title},$5:function(){if(BrowserSupport.BrowserSupport.IsIE()){return this.$6()}var bw=this.props.titleStyle;var bx=bm.getCssFromTextStyle(bw);bx.color=tab.ColorModel.fromArgbInt(bw.text_style_color).toRgbHex();bx.textDecorationLine=((tab.EnumConversions.textDecorationFromInt(bw.text_decoration)==='text-decoration-underline')?'underline':'none');bx.maxWidth=this.props.alongAxisPixelSize+'px';bx.maxHeight=this.props.availableSpaceForTitle+'px';if(this.props.numLinesLimit<=1){bx.textOverflow='ellipsis';bx.whiteSpace='nowrap'}return bx},$1:function(){if(this.props.numLinesLimit<=1||BrowserSupport.BrowserSupport.IsIE()){return'tab-singleLineAxisTitleContainer'}return'tab-multiLineAxisTitleContainer'},$2:function(){if(BrowserSupport.BrowserSupport.IsIE()){return this.$3()}var bw={width:this.props.alongAxisPixelSize+'px',maxHeight:this.props.availableSpaceForTitle+'px'};this.$7(bw);if(this.props.numLinesLimit>1){bw.WebkitLineClamp=this.props.numLinesLimit.toString()}return bw},$7:function(bw){this.$8(bw);var bx=this.props.titlePadding+'px';switch(this.props.sceneMarginLocation){case 3:{bw.left=bx;break}case 2:{bw.right=bx;break}case 1:{bw.bottom=bx;break}case 0:{bw.top=bx;break}}},$8:function(bw){if(this.props.sceneMarginLocation===3){bw.transform='translate(-50%, -50%) rotate(-90deg) translate(-50%, 50%)'}else if(this.props.sceneMarginLocation===2){bw.transform='translate(50%, -50%) rotate(-90deg) translate(-50%, -50%)'}},$6:function(){var bw=this.props.titleStyle;var bx=bm.getCssFromTextStyle(bw);bx.color=tab.ColorModel.fromArgbInt(bw.text_style_color).toRgbHex();bx.textDecorationLine=((tab.EnumConversions.textDecorationFromInt(bw.text_decoration)==='text-decoration-underline')?'underline':'none');if(tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)){bx.maxWidth=this.props.alongAxisPixelSize+'px'}else{bx.transform='rotate(-90deg)';bx.maxHeight=this.props.alongAxisPixelSize+'px'}bx.textOverflow='ellipsis';bx.whiteSpace='nowrap';return bx},$3:function(){var bw={};if(tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)){bw.width=this.props.alongAxisPixelSize+'px';bw.maxHeight=this.props.availableSpaceForTitle+'px'}else{bw.height=this.props.alongAxisPixelSize+'px';bw.maxWidth=this.props.availableSpaceForTitle+'px';bw.flexDirection='column'}var bx=this.props.titlePadding+'px';switch(this.props.sceneMarginLocation){case 3:{bw.left=bx;break}case 2:{bw.right=bx;break}case 1:{bw.bottom=bx;break}case 0:{bw.top=bx;break}}return bw}});var o=global.tab.BaseHolderViewModel$1=ss.mkType(a,'tab.BaseHolderViewModel$1',function(bw){var bx=ss.registerGenericClassInstance(o,[bw],function(by,bz,bA){this.location=0;this.marginRow=0;this.level=0;this.sceneMarginSelection=null;this.pixelOffset=0;this.pixelSize=0;this.stretchedPixelSize=0;this.alongAxisPixelOffset=null;this.alongAxisPixelSize=null;this.$8=null;this.orientedSize=null;this.$a={w:0,h:0};this.$7=0;this.$9=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[bw]).call(this);this.$9=by;this.location=by.get_sceneMarginLocation();this.marginRow=bz;this.$8=by.get_sceneMarginLayout();this.level=this.$8.HeaderDepth[this.marginRow];this.pixelOffset=this.$8.PixelOffset[this.marginRow];this.pixelSize=this.$8.PixelSize[this.marginRow];this.stretchedPixelSize=this.$8.StretchedPixelSize[this.marginRow];this.sceneMarginSelection=bA;this.$5();this.$6();var bB=by.get_layoutTable();var bC=this.$4();this.alongAxisPixelOffset=_.filter(bB.AlongDirectionPixelOffset,function(bE,bF){return bB.Level[bF]===bC});this.alongAxisPixelSize=_.filter(bB.AlongDirectionPixelSize,function(bE,bF){return bB.Level[bF]===bC});var bD=new V(this.isHorizontal());bD.set_along(this.$3());bD.set_perpendicular(this.pixelSize);this.orientedSize=bD},{get_sceneMarginViewportSize:function(){return this.$a},set_sceneMarginViewportSize:function(by){if(!tab.SizeUtil.equals(this.$a,by)){this.$a=by;this.incrementProps()}},get_page:function(){return this.$7},set_page:function(by){if(this.$7!==by){this.$7=by;this.incrementProps()}},isHorizontal:function(){return this.$9.isHorizontal()},$5:function(){var by=ss.mkdel(this,this.incrementProps);this.$9.add_newSceneMargin(by);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$9.remove_newSceneMargin(by)})))},$6:function(){var by=ss.mkdel(this,this.incrementProps);this.sceneMarginSelection.get_selectionModel().add_newSelection(by);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.sceneMarginSelection.get_selectionModel().remove_newSelection(by)})))},observeBrushingChange:function(){var by=ss.mkdel(this,this.incrementProps);this.sceneMarginSelection.get_brushingModel().add_newSelection(by);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.sceneMarginSelection.get_brushingModel().remove_newSelection(by)})))},isHolderSelected:function(by){return this.sceneMarginSelection.isNodeSelected(this.level,by)},makeOrientedSize:function(by,bz){return V.makeOrientedSize(by,bz,this.isHorizontal())},$4:function(){if(this.location===1){if(this.$8.ElementType[this.marginRow]===2){return this.level-1}}return this.level},$3:function(){var by=this.alongAxisPixelOffset.length-1;var bz=this.alongAxisPixelSize.length-1;if(by<0||bz<0){return 0}var bA=this.alongAxisPixelOffset[by]+this.alongAxisPixelSize[bz];var bB=this.alongAxisPixelOffset[0];return bA-bB}},null,function(){return ss.makeGenericType(spiff.BaseReactViewModel$1,[bw])},function(){return[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[bw])]});return bx});ss.initGenericClass(o,1);var p=global.tab.BaseSceneMarginElement=ss.mkType(a,'tab.BaseSceneMarginElement',function(bw,bx,by){this.$0={w:0,h:0};this.actualViewSize={w:0,h:0};this.scrollPos={x:0,y:0};this.reactView=null;this.reactViewForInteraction=null;this.domNode=null;this.domNodeForInteraction=null;this.viewModel=null;this.$1$1=null;this.domNode=bw;this.domNodeForInteraction=bx;this.viewModel=by},{add_loadComplete:function(bw){this.$1$1=ss.delegateCombine(this.$1$1,bw)},remove_loadComplete:function(bw){this.$1$1=ss.delegateRemove(this.$1$1,bw)},get_viewModel:function(){return this.viewModel},get_canScrollX:function(){return true},get_canScrollY:function(){return true},get_docSize:function(){return this.$0},get_actualViewSize:function(){return this.actualViewSize},set_actualViewSize:function(bw){this.actualViewSize=bw;this.resize()},get_effectiveViewSize:function(){return this.actualViewSize},get_hasContent:function(){return true},get_scrollPos:function(){return this.scrollPos},set_scrollPos:function(bw){this.scrollPos=bw;this.updateScrollPos()},setXPos:function(bw){var bx=this.get_scrollPos();this.set_scrollPos({x:bw,y:bx.y});this.reactView.get_rootElement().children().scrollLeft(bw);if(ss.isValue(this.reactViewForInteraction)){this.reactViewForInteraction.get_rootElement().children().scrollLeft(bw)}},setYPos:function(bw){var bx=this.get_scrollPos();this.set_scrollPos({x:bx.x,y:bw});this.reactView.get_rootElement().children().scrollTop(bw);if(ss.isValue(this.reactViewForInteraction)){this.reactViewForInteraction.get_rootElement().children().scrollTop(bw)}},destroy:function(){this.reactView.dispose();if(ss.isValue(this.reactViewForInteraction)){this.reactViewForInteraction.dispose()}},refreshImages:function(bw){},reset:function(bw,bx){this.$0=bx},resize:null,updateScrollPos:null});var q=global.tab.BorderAttributes=ss.mkType(a,'tab.BorderAttributes',function(){this.borderWidth=0;this.borderStyle=0;this.color=0});var r=global.tab.BorderComponent=ss.mkType(a,'tab.BorderComponent',function(bw){spiff.PureRenderComponent.call(this,bw)},{render:function(){var bw=spiff.DOMElements.line(this.$1());return spiff.DOMElements.svg({className:'tab-vizBorder',style:this.$2()},bw)},$2:function(){return{position:'absolute',top:this.props.originPosition.y+'px',left:this.props.originPosition.x+'px',width:(this.props.isHorizontalLine?this.props.length:6)+'px',height:(this.props.isHorizontalLine?6:this.props.length)+'px',backgroundColor:'transparent',pointerEvents:'none'}},$1:function(){var bw=this.$0(this.props.borderAttributes);var bx={stroke:tab.ColorModel.fromArgbInt(this.props.borderAttributes.color).toRgbHex(),strokeWidth:bw,strokeDasharray:r.$0(this.props.borderAttributes.borderStyle,bw),x1:0,y1:0,x2:(this.props.isHorizontalLine?this.props.length:0),y2:(this.props.isHorizontalLine?0:(0+this.props.length)),shapeRendering:'crispEdges'};return bx},$0:function(bw){return ss.trunc(bw.borderWidth)}},{$0:function(bw,bx){switch(bw){case 0:{return null}case 1:{return''}case 2:{return r.$1(bx)}case 3:{return bx+''}default:{throw new ss.ArgumentOutOfRangeException}}},$1:function(bw){var bx=bw+1;var by=bx*2;return ss.formatString('{0} {1}',by,bx)}});var s=global.tab.BorderDataModel=ss.mkType(a,'tab.BorderDataModel',function(bw,bx,by,bz,bA,bB){this.$3=null;this.$9=null;this.$4=null;this.$2=null;this.$5=false;this.$6=false;this.$8=0;this.$7=0;this.$3=bw;this.$9=bx;this.$4=by;this.$2=bz;this.$8=bA;this.$5=this.$2.borderStyle!==0;this.$6=this.$3.borderStyle!==0;this.$7=bB},{getAxisDividerAttributes:function(bw){if(ss.isNullOrUndefined(this.$1())&&ss.isNullOrUndefined(this.$0())){return null}if(bw<=this.$8&&ss.isValue(this.$1())){return this.$1()}return this.$0()},getSceneMarginDividerAttributes:function(bw,bx){return((this.$7===1)?this.getBottomHeaderDividerAttributes(bw,bx):this.getAxisAndNonBottomHeaderDividers(bx))},getBottomHeaderDividerAttributes:function(bw,bx){if(ss.isValue(this.$1())&&bx<this.$8){return this.$1()}if(ss.isValue(this.$0())&&bx<bw){return this.$0()}return null},getAxisAndNonBottomHeaderDividers:function(bw){if(bw<this.$8&&ss.isValue(this.$1())){return this.$1()}return this.$0()},get_totalBorder:function(){return this.$9},get_grandTotalBorder:function(){return this.$4},$1:function(){return(this.$5?this.$2:this.$0())},$0:function(){return(!this.$6?null:this.$3)},get_sideBorder:function(){return this.$1()},get_alongAxisBorder:function(){return(!this.$6?null:this.$0())}});var t=global.tab.BorderRenderer=ss.mkType(a,'tab.BorderRenderer',null,null,{drawLine:function(bw,bx,by,bz){var bA=t.$0(bw,bx,by,bz);return React.createElement(r,bA)},$0:function(bw,bx,by,bz){var bA={borderAttributes:by,originPosition:bw,length:bx,isHorizontalLine:bz};return bA}});var u=global.tab.BorderStyle=ss.mkEnum(a,'tab.BorderStyle',{linePatternNone:0,linePatternSolid:1,linePatternDashed:2,linePatternDotted:3});var v=global.tab.CellResizerComponent=ss.mkType(a,'tab.CellResizerComponent',function(bw){this.$9=null;this.$a=null;this.$c=null;this.$b=0;spiff.PureRenderComponent.call(this,bw);this.$9=spiff.ReactRefs.attachDragSource(ss.mkdel(this,function(){return this}));this.$a=ss.mkdel(this,function(bx){this.$9(bx);this.$c=$(bx)})},{render:function(){var bw=this.$6();var bx=this.$5(this.$4(),this.$3(bw));var by=spiff.DOMElements.div({className:'tab-vizResizerLine',style:bx},'');var bz=this.$8(this.$7(),bw);return spiff.DOMElements.div({className:'tab-vizCellResizer',style:bz,ref:this.$a},by)},get_resizerObject:function(){return this.$c},$4:function(){return{w:(this.props.isHorizontal?1:this.props.width),h:(this.props.isHorizontal?this.props.height:1)}},$3:function(bw){if(this.props.isHorizontal){return{x:bw.x+2,y:bw.y}}else{return{x:bw.x,y:bw.y+2}}},$7:function(){var bw=(this.props.isLastHeaderElement?2:(2*2));return{w:(this.props.isHorizontal?bw:this.props.width),h:(this.props.isHorizontal?this.props.height:bw)}},$6:function(){var bw=2;var bx=this.props.left;var by=this.props.top;if(this.props.isHorizontal){return{x:bx+this.props.width-2,y:by}}else{return{x:bx,y:by+this.props.height-2}}},$8:function(bw,bx){return{width:bw.w+'px',height:bw.h+'px',left:bx.x+'px',top:bx.y+'px',backgroundColor:'transparent',position:'absolute',cursor:(this.props.isHorizontal?'ew-resize':'ns-resize')}},$5:function(bw,bx){var by={left:(this.props.isHorizontal?2:0)+'px',top:(this.props.isHorizontal?0:2)+'px',opacity:0,border:'none'};if(this.props.isHorizontal){by.width='0px';by.height=bw.h;by.borderRight='1px dotted'}else{by.width=bw.w;by.height='0px';by.borderBottom='1px dotted'}return by},$2:function(bw){return new spiff.MoveDragInstance($(bw),ss.mkdel(this,this.onMove),ss.mkdel(this,this.onDrop),null)},acceptsDragType:function(){return 1},startDrag:function(bw){if(this.props.isHorizontal){this.$b=tab.DoubleUtil.roundToInt(this.$c.children('.'+'tab-vizResizerLine').offset().left);this.updateResizerXPosition(this.$0(bw.pageX),bw.pageX)}else{this.$b=tab.DoubleUtil.roundToInt(this.$c.children('.'+'tab-vizResizerLine').offset().top);this.updateResizerYPosition(this.$1(bw.pageY),bw.pageY)}return this.$2(bw.target)},onMove:function(bw){this.$c.children('.'+'tab-vizResizerLine').css('opacity',1);if(this.props.isHorizontal){this.updateResizerXPosition(this.$0(bw.pageX),bw.pageX)}else{this.updateResizerYPosition(this.$1(bw.pageY),bw.pageY)}},onDrop:function(bw){this.$c.children('.'+'tab-vizResizerLine').css('opacity',0);var bx=(this.props.isHorizontal?this.calculateXSizeDifference(bw.pageX):this.calculateYSizeDifference(bw.pageY));if(Z.isSizeDifferenceOverThreshold(bx)){var by=bx+(this.props.isHorizontal?this.props.width:this.props.height);var bz=ss.idiv(by,Math.max(1,this.props.numLeaves));this.props.sendCellResizeCommand(0,false,bz)}},updateResizerYPosition:function(bw,bx){var by=bw<0;var bz=bx-ss.idiv(tab.DoubleUtil.roundToInt(this.$c.children('.'+'tab-vizResizerLine').height()),2);if(Math.abs(bw)<=2){var bA=(by?-2:2);bz=this.$b+bA}if(Math.abs(bw)>=100){var bB=(by?-100:100);bz=this.$b+bB}var bC=this.$c.children('.'+'tab-vizResizerLine').offset();this.$c.children('.'+'tab-vizResizerLine').offset({left:bC.left,top:bz})},updateResizerXPosition:function(bw,bx){var by=bw<0;var bz=bx-ss.idiv(tab.DoubleUtil.roundToInt(this.$c.children('.'+'tab-vizResizerLine').width()),2);if(Math.abs(bw)<=2){var bA=(by?-2:2);bz=this.$b+bA}if(Math.abs(bw)>=100){var bB=(by?-100:100);bz=this.$b+bB}var bC=this.$c.children('.'+'tab-vizResizerLine').offset();this.$c.children('.'+'tab-vizResizerLine').offset({left:bz,top:bC.top})},$1:function(bw){var bx=bw;return bx-this.$b},$0:function(bw){var bx=bw;return bx-this.$b},calculateYSizeDifference:function(bw){var bx=bw-ss.idiv(tab.DoubleUtil.roundToInt(this.$c.children('.'+'tab-vizResizerLine').height()),2);var by=bx-this.$b;var bz=by<0;var bA=Math.min(Math.max(Math.abs(by),2),100);return(bz?-bA:bA)},calculateXSizeDifference:function(bw){var bx=bw-ss.idiv(tab.DoubleUtil.roundToInt(this.$c.children('.'+'tab-vizResizerLine').width()),2);var by=bx-this.$b;var bz=by<0;var bA=Math.min(Math.max(Math.abs(by),2),100);return(bz?-bA:bA)}});var w=global.tab.CellResizerProps=ss.mkType(a,'tab.CellResizerProps',function(){this.left=0;this.top=0;this.width=0;this.height=0;this.isHorizontal=false;this.isLastHeaderElement=false;this.numLeaves=0;this.sendCellResizeCommand=null});var x=global.tab.DatastoreHeaderAdapter=ss.mkType(a,'tab.DatastoreHeaderAdapter',function(){},null,{buildStyleProps:function(bw,bx){return{totalFillColor:tab.ColorModel.fromArgbInt(bw.TotalFillColor[bx]),selectedTextColor:tab.ColorModel.fromArgbInt(bw.SelectedTextColor[bx]),selectedFillColor:tab.ColorModel.fromArgbInt(bw.SelectedFillColor[bx]),subtotalFillColor:tab.ColorModel.fromArgbInt(bw.SubtotalFillColor[bx]),brushedColor:tab.ColorModel.fromArgbInt(bw.BrushedColor[bx]),hoverColor:tab.ColorModel.fromArgbInt(bw.HoverColor[bx]),tickColor:tab.ColorModel.fromArgbInt(bw.TickColor[bx]),fillColor:tab.ColorModel.fromArgbInt(bw.FillColor[bx]),bandSize:bw.BandSize[bx],bandLevel:bw.BandLevel[bx],bandColor:tab.ColorModel.fromArgbInt(bw.BandColor[bx]),isXAxis:bw.IsXAxis[bx],selectedTickColor:tab.ColorModel.fromArgbInt(bw.SelectedTickColor[bx]),fieldName:bw.FieldName[bx]}},buildHeaderNodeStyle:function(bw,bx,by){if(bx<0){return{}}var bz=(by?bw.XLevelShading:bw.YLevelShading);var bA=(by?bw.XPerLevelHeaderStyles:bw.YPerLevelHeaderStyles);var bB=bA.LabelStyleIndex[bx];var bC=bw.FontMetrics[bB];var bD=bC[0];var bE=bw.LabelStyles;var bF=x.$0(bE,bB);var bG=x.$0(bE,bA.SelectedStyleIndex[bx]);var bH=x.$0(bE,bA.BrushedStyleIndex[bx]);var bI=x.$0(bE,bA.GrandTotalsStyleIndex[bx]);var bJ=x.$0(bE,bA.SubtotalsStyleIndex[bx]);var bK=tab.ColorModel.fromArgbInt(bA.BrushedFillColor[bx]);var bL=tab.ColorModel.fromArgbInt(bA.FillColor[bx]);var bM=tab.ColorModel.fromArgbInt(bA.HighlightedFillColor[bx]);var bN=tab.ColorModel.fromArgbInt(bA.SelectedFillColor[bx]);var bO=tab.ColorModel.fromArgbInt(bz.SubtotalsFillColor);var bP=tab.ColorModel.fromArgbInt(bz.GrandTotalsFillColor);var bQ=bA.LeftPadding[bx];var bR=bA.RightPadding[bx];return{bandColor:tab.ColorModel.fromArgbInt(bz.BandingColor),bandSize:bz.BandSize,bandLevel:bz.BandStartingLevel,brushedFillColor:bK,fillColor:bL,highlightedFillColor:bM,selectedFillColor:bN,selectedStyle:bG,labelStyle:bF,brushedStyle:bH,grandTotalsStyle:bI,subTotalsStyle:bJ,subtotalsFillColor:bO,grandTotalsFillColor:bP,labelFontHeight:bD,leftPadding:bQ,rightPadding:bR}},$0:function(bw,bx){var by=bw[bx];return tab.TupleDatastoreConversions.textStyleFromTuple(by)},buildHeadersFromAxisDescriptor:function(bw){var bx={};var by={};for(var bz=0;bz<bw.Nodes.Id.length;bz++){var bA=bw.Nodes.Id[bz];var bB={label:bw.Nodes.Label[bz],isLeaf:bw.Nodes.IsLeaf[bz],id:bA,headerId:bw.Nodes.HeaderId[bz],children:[]};by[bA]=bB;var bC=bw.Nodes.ParentId[bz];if(bC!==-1){by[bC].children.push(bB)}}for(var bD=0;bD<bw.Headers.Id.length;bD++){var bE=bw.Headers.Id[bD];bx[bE]={id:bE,duplicateFieldIndex:bw.Headers.DuplicateFieldIndex[bD],header:by[bw.Headers.NodeId[bD]]}}for(var bF=0;bF<bw.PerHeaderFields.HeaderId.length;bF++){var bG=bx[bw.PerHeaderFields.HeaderId[bF]];bG.dataType=bw.PerHeaderFields.DataType[bF]}return bx}});var y=global.tab.DatastorePropsBuilder=ss.mkType(a,'tab.DatastorePropsBuilder',function(){},null,{titleStyleFromDatastore:function(bw){return{textOrientation:tab.EnumConversions.textOrientFromInt(bw.text_orientation),fontStyle:tab.EnumConversions.tableauFontStyleFromInt(bw.font_style),textWrapMode:bw.text_wrap_mode,hAlign:bw.hAlign,vAlign:bw.vAlign,fontWeight:tab.EnumConversions.fontWeightFromInt(bw.font_weight),textDecoration:bw.text_decoration,font:bw.font,color:tab.ColorModel.fromArgbInt(bw.text_style_color)}}});var z=global.tab.FieldLabelComponent=ss.mkType(a,'tab.FieldLabelComponent',function(bw){spiff.PureRenderComponent.call(this,bw)},{render:function(){return spiff.DOMElements.div({className:'tab-fieldLabelContainer',style:this.$0()},this.$2())},$2:function(){return spiff.DOMElements.div({className:'tab-vizHeaderFieldLabel',style:this.$1()},this.props.text)},$1:function(){var bw=this.props.style;var bx=bm.getCssFromTextStyle(bw);bx.fontFamily=tab.FontUtil.createFallbackCanvasFontName(bw.font);bx.textDecoration=(bw.underline?'underline':'none');bx.color=tab.ColorModel.fromArgbInt(bw.text_style_color).toRgbHex();if(this.props.location===3){bx.transform='rotate(-90deg)'}return bx},$0:function(){var bw={backgroundColor:tab.ColorModel.fromArgbInt(this.props.fillColor).toRgba()};if(this.props.location===3){bw.height=this.props.alongMarginSize+'px';bw.width=this.props.perpendicularSize+'px';bw.top=this.props.scrollOffset+'px';bw.flexDirection='column'}else{bw.width=this.props.alongMarginSize+'px';bw.height=this.props.perpendicularSize+'px';bw.left=this.props.scrollOffset+'px'}return bw}});var A=global.tab.FieldLabelViewModel=ss.mkType(a,'tab.FieldLabelViewModel',function(bw,bx,by){this.$6=null;this.$5=null;this.$7=0;this.$8=0;this.$4=0;this.$9={x:0,y:0};ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$6=bw.SceneMarginData;this.$5=bw.LabelStyles;this.$8=bx;this.$7=by},{set_sceneMarginViewportSize:function(bw){var bx=bw.w;if(this.$7===3){bx=bw.h}if(this.$4!==bx){this.$4=bx;this.incrementProps()}},set_scrollPos:function(bw){if(!tab.PointUtil.equals(this.$9,bw)){this.$9=bw;this.incrementProps()}},createInitialProps:function(){var bw=this.$3(this.$7);if(bw<0){return{}}var bx=this.$6.LabelStyleIndex[bw];var by=this.$5[bx];return{text:this.$6.SceneMarginFieldLabelsText[bw],style:tab.TupleDatastoreConversions.textStyleFromTuple(by),fillColor:this.$6.FillColor[bw],location:this.$7,perpendicularSize:this.$8}},createUpdatedProps:function(){return{alongMarginSize:this.$4,scrollOffset:(tab.SceneMarginModel.isHorizontal(this.$7)?this.$9.x:this.$9.y)}},$3:function(bw){return _.indexOf(this.$6.SceneMarginLocation,bw)}});var B=global.tab.HAlign=ss.mkEnum(a,'tab.HAlign',{left:0,hCenter:1,right:2,hAutomatic:3});var C=global.tab.HeaderHolderComponent=ss.mkType(a,'tab.HeaderHolderComponent',function(bw){this.$6=false;spiff.PureRenderComponent.call(this,bw);this.$6=tab.SceneMarginModel.isHorizontal(bw.sceneMarginLocation)},{render:function(){var bw=this.props.headerNodes.map(function(bA){return React.createElement(F,bA)});var bx=this.props.cellResizers.map(function(bA){return React.createElement(v,bA)});var by=this.props.headerNonSkippedText.map(function(bA){return React.createElement(I,bA)});var bz=this.$3();return spiff.DOMElements.div({className:'tab-vizHeaderHolderWrapper',style:this.$0()},bw,bx,by,(this.$5()?ss.mkdel(this,function(){return this.$1()})():null),bz)},$5:function(){return ss.isValue(this.props.tickPlacementDS)&&this.props.sceneMarginLocation===1},$1:function(){var bw=new br(false,true,false);bw.getMinorTicks=true;var bx=bw;var by=(this.$6?this.props.alongAxisTotalPixelSize:this.props.pixelSize);var bz=this.props.headerNonSkippedText.length>0;var bA={majorTicks:(bz?null:this.props.tickMarks),majorTickSize:this.props.tickPlacementDS.TickLengthMajorPixels+1,minorTicks:(bz?this.props.tickMarks:null),minorTickSize:this.props.tickPlacementDS.TickLengthMinorPixels+1,alongAxisPixelSize:this.props.alongAxisTotalPixelSize,pixelSize:this.props.pixelSize,sceneMarginLocation:this.props.sceneMarginLocation,tickMarkColor:this.props.tickMarkColor};return React.createElement(bp,bA)},$3:function(){return((this.props.sceneMarginLocation===1)?this.$2():this.$4())},$2:function(){var bw=[];for(var bx=0;bx<this.props.headerNodes.length;bx++){var by=this.props.headerNodes[bx];if(ss.isValue(by.dividerAttributes)){bw.push(t.drawLine({x:by.left,y:by.top},by.height,by.dividerAttributes,false))}}return bw},$4:function(){var bw=[];var bx=!this.$6;for(var by=0;by<this.props.headerNodes.length;by++){var bz=this.props.headerNodes[by];if(ss.isValue(bz.dividerAttributes)){var bA=(bx?bz.width:bz.height);bw.push(t.drawLine({x:bz.left,y:bz.top},bA,bz.dividerAttributes,bx))}}return bw},$0:function(){if(this.$6){var bw={width:this.props.alongAxisTotalPixelSize+'px',height:this.props.pixelSize+'px'};if(this.props.sceneMarginLocation===1){bw.marginTop='1px'}return bw}else{return{width:this.props.pixelSize+'px',height:this.props.alongAxisTotalPixelSize+'px'}}}});var D=global.tab.HeaderHolderViewModel=ss.mkType(a,'tab.HeaderHolderViewModel',function(bw,bx,by,bz,bA){this.$x=null;this.$E=0;this.$D=null;this.$G=null;this.$t=0;this.$w=null;this.$r=null;this.$C=null;this.$y=null;this.$q=null;this.$v=null;this.$s=null;this.$u=null;this.$F=null;this.$p=false;this.$B=false;this.$A=null;this.$z=null;ss.makeGenericType(o,[Object]).call(this,bw,bx,by);this.$D=bw.get_tickPlacement();this.$s=bw.get_sceneMarginLayout().FieldName;this.$t=_.indexOf(bw.get_headerDepths(),this.level);this.$r=bz;this.observeBrushingChange();this.$G=bw.get_layoutTable().AlongDirectionPixelSize;this.$F=bA;this.$x=this.$o(bw.get_nodeData(),bw.get_nodeLevelStyles(),bw.get_elidedNodeLabels());this.$w=new N(this.location,this.$x,bw.get_labelSkipTable());this.$E=((this.location===3)?bw.get_axisTable().ScaleType.length:0);this.$p=false;this.$A=ss.mkdel(bw,bw.sendHeaderResizeCommand);this.$z=ss.mkdel(bw,bw.sendCellResizeCommand);this.$B=bw.shouldDisableCellResize();this.$C=bw.get_sortIndicatorData();this.$y=bw.get_axisTable().PerFieldStyleIndex;this.$q=bw.get_axisOutput().Style;this.$v=x.buildHeaderNodeStyle(bw.get_headerStyleAndShading(),this.$t,this.isHorizontal());var bB=ss.mkdel(this,function(bC,bD){return this.getAllHeadersWithSameEnclosedIndexAndLevel(bC,bD)});this.$u=new G(this.$G,this.$v,this.location,D.$0(this.location,this.$D,this.$v),this.$C,bB)},{set_invokeSortCommand:function(bw){this.$u.set_invokeSortCommand(bw)},set_sortIndicatorHoverCallback:function(bw){this.$u.set_sortIndicatorHoverCallback(bw)},getIndexAndEnclosedIndexForNodeWithIdIfPresent:function(bw){for(var bx=0;bx<this.$x.length;bx++){if(ss.referenceEquals(this.$x[bx].id,bw)){return{item1:bx,item2:this.$x[bx].enclosedIndex}}}return null},findFirstNodeIndexWithEnclosedIndex:function(bw){for(var bx=0;bx<this.$x.length;bx++){if(this.$x[bx].enclosedIndex===bw){return bx}}return-1},findAndFocusIfPossible:function(bw){if(bw<0||bw>this.$x.length-1){return}this.$f(bw)},$f:function(bw){var bx=this.$x[bw].id;var by=document.getElementById(bx);if(!ss.isNullOrUndefined(by)){by.focus()}},updateHeaderNodesFocusState:function(bw){this.$p=bw;this.incrementProps()},createInitialProps:function(){return{sceneMarginLocation:this.location,alongAxisTotalPixelSize:this.orientedSize.get_along(),pixelSize:this.orientedSize.get_perpendicular(),headerNodes:[],headerNonSkippedText:[],sceneMarginViewportSize:this.get_sceneMarginViewportSize(),fieldName:(ss.isValue(this.$s)?this.$s[this.marginRow]:''),sendHeaderResizeCommand:this.$A,pixelOffset:this.pixelOffset,cellResizers:[],tickMarkColor:(!ss.isNullOrUndefined(this.$g())?this.$g().tickColor:null),tickMarks:((this.location===1)?this.$h():null)}},createUpdatedProps:function(){if(tab.SizeUtil.isEmpty(this.get_sceneMarginViewportSize())||this.$t<0){return{}}var bw=this.$b();var bx=this.$c(bw);return{headerNodes:bw,headerNonSkippedText:bx,sceneMarginViewportSize:this.get_sceneMarginViewportSize(),pixelOffset:this.pixelOffset,cellResizers:(this.$B?[]:this.$d(bw)),level:this.level,tickPlacementDS:this.$D}},$d:function(bw){var bx=[];for(var by=0;by<bw.length;++by){var bz=new w;bz.left=bw[by].left;bz.top=bw[by].top;bz.width=bw[by].width;bz.height=bw[by].height;bz.isHorizontal=this.isHorizontal();bz.isLastHeaderElement=bw.length-1===by;bz.numLeaves=this.$x[by].numLeaves;bz.sendCellResizeCommand=this.$z;var bA=bz;bx.push(bA)}return bx},$b:function(){if(ss.isNullOrUndefined(this.$x)){return[]}var bw=new Array(this.$x.length);var bx=this.$i(this.orientedSize.get_perpendicular());for(var by=0;by<this.$x.length;++by){var bz=this.isHolderSelected(by);var bA=this.sceneMarginSelection.isNodeBrushed(this.level,by);var bB=bx[by];var bC=bx[by+1];var bD=this.$x[by];var bE=this.pixelSize;if(bD.totalType!==0){var bF=this.$F.getTotalNode(this.level,by);if(ss.isValue(bF)){bE=bF.stretchedPixelSize;if(bE>0){bD.labelForRender=bF.label}}}var bG=this.makeOrientedSize(bC-bB,bE);var bH=this.makeOrientedSize(bB,this.pixelOffset);var bI=this.$r.getSceneMarginDividerAttributes(this.level,bD.borderStartLevel);bw[by]=this.$u.build(bD,bG,bH,bz,bA,this.$w.paneHasSkippedLabel(by),bI,this.$p)}return bw},$c:function(bw){if(!this.$w.hasSkippedLabels){return[]}var bx=ss.idiv(this.get_props().alongAxisTotalPixelSize,bw.length);var by=[];for(var bz=0;bz<bw.length;++bz){if(!this.$w.paneHasSkippedLabel(bz)){continue}if(!this.$w.isSkipped(bz)){var bA=this.$w.getSkip(bz);by.push(this.$e(bw[bz],bx*bA))}}return Array.prototype.slice.call(by)},$l:function(){var bw=[];var bx=0;var by=0;for(var bz=0;bz<this.alongAxisPixelOffset.length;++bz){bx=this.alongAxisPixelSize[bz];by=this.alongAxisPixelOffset[bz];bw.push(by)}bw.push(by+bx);return bw},$i:function(bw){if(this.location!==1){return this.$l()}return this.$m(bw,false)},$m:function(bw,bx){var by=[];var bz=this.$x[this.$x.length-1].enclosedIndex+1;var bA=0;var bB=0;for(var bC=0;bC<bz;bC++){bA=this.alongAxisPixelSize[bC];bB=this.alongAxisPixelOffset[bC];var bD=(this.isHorizontal()?{x:0,y:0,w:bA,h:bw}:{x:0,y:0,w:bw,h:bA});var bE=new br(!this.isHorizontal(),this.isHorizontal(),bx);var bF=bq.getTickPlacement(this.$D,bD,this.$E+bC,bE,true);bF=_.map(bF,function(bG){return bG+bB});if(!bx){by.push(bB)}ss.arrayAddRange(by,bF)}if(!bx){by.push(bB+bA)}return by},$e:function(bw,bx){var by=bw.width/2-bx/2;return{width:bx,height:bw.height,left:bw.left+ss.trunc(by),text:bw.text,canShowSortIndicatorOnHover:bw.canShowSortIndicatorOnHover,headerLabelStyle:bw.headerLabelStyle,labelPadding:D.$0(this.location,this.$D,this.$v),sceneMarginLocation:this.location,isHorizontal:bw.isHorizontal,persistentSortIndicatorClassName:bw.persistentSortIndicatorClassName,isNodeSorted:bw.isNodeSorted,invokeSortCommand:bw.invokeSortCommand}},$j:function(bw){return T.getIdForNodeHash(bw,this.isHorizontal())},$o:function(bw,bx,by){var bz=[];for(var bA=0;bA<bw.Level.length;++bA){if(bw.Level[bA]!==this.level){continue}var bB=T.toNodeHash(bw.Id[bA]);var bC=new Y;bC.fullText=bw.Label[bA-1];bC.labelForRender=(ss.isNullOrUndefined(by)?bw.Label[bA-1]:by[bA]);bC.enclosedIndex=bw.EnclosedIndex[bA];bC.level=bw.Level[bA];bC.isLeaf=bw.IsLeaf[bA];bC.totalType=bx.TotalType[bA];bC.isBandFilled=bx.ShouldUseBandFillColor[bA];bC.nodeTableIndex=bA;bC.id=this.$j(bB);bC.numLeaves=(ss.isNullOrUndefined(bw.NumLeaves)?0:bw.NumLeaves[bA]);bC.leftmostLeafIndex=(ss.isNullOrUndefined(bw.LeftmostLeafIndex)?0:bw.LeftmostLeafIndex[bA]);bC.borderStartLevel=bw.BorderStartLevel[bA];bC.canShowSortIndicatorOnHover=bw.CanShowHoverSortIndicator[bA];var bD=bC;bz.push(bD)}return Array.prototype.slice.call(bz)},$g:function(){if(this.$n()){var bw=this.$k();return x.buildStyleProps(this.$q,bw)}return null},$k:function(){var bw=this.$y.length;return this.$y[bw-1]},$n:function(){return ss.isValue(this.$q)&&ss.isValue(this.$y)&&this.$y.length>0},$h:function(){if(this.$w.hasSkippedLabels){return this.$m(this.orientedSize.get_perpendicular(),true)}return this.$m(this.orientedSize.get_perpendicular(),false)},getAllHeadersWithSameEnclosedIndexAndLevel:function(bw,bx){var by={};for(var bz=0;bz<this.$x.length;bz++){var bA=this.$x[bz];if(bA.enclosedIndex===bw&&bA.level===bx){by[bA.id]=ss.getKeyCount(by)}}return by}},{$0:function(bw,bx,by){switch(bw){case 1:{var bz=new tab.LabelPadding;bz.top=bx.TickLengthMajorPixels;return bz}case 0:case 3:{var bA=new tab.LabelPadding;bA.right=by.rightPadding;bA.left=by.leftPadding;return bA}default:{return new tab.LabelPadding}}}});var E=global.tab.HeaderLabelStyleHelper=ss.mkType(a,'tab.HeaderLabelStyleHelper',function(bw,bx,by){this.$3=null;this.$5=0;this.$4=false;this.$3=bw;this.$5=bx;this.$4=by},{getGeneralHeaderLabelCss:function(){var bw=bm.getCssFromTextStyle(this.$3);bw.fontFamily=tab.FontUtil.createFallbackCanvasFontName(this.$3.font);bw.textDecoration=(this.$3.underline?'underline':'none');bw.color=tab.ColorModel.fromArgbInt(this.$3.text_style_color).toRgbHex();if(tab.EnumConversions.textWrapModeFromInt(this.$3.text_wrap_mode)==='text-wrap-off'){bw.whiteSpace='nowrap'}else if(tab.EnumConversions.textWrapModeFromInt(this.$3.text_wrap_mode)==='text-wrap-on'||this.$4){bw.wordBreak='break-all'}var bx=this.$3.vAlign;var by=this.$3.hAlign;var bz=this.$5;this.$1(bw,by,bx,bz);return bw},$1:function(bw,bx,by,bz){if(bz===0){bw.textAlign=this.$0(bx)}else{bw.writingMode=E.writingModeVertical();bw.textAlign=this.$2(by,bz);if(bz===-90){bw.transform='rotate(180deg)'}}},$2:function(bw,bx){switch(bw){case 2:{return((bx===90)?'left':'right')}case 0:{return((bx===90)?'right':'left')}case 1:default:{return'center'}}},$0:function(bw){switch(bw){case 0:{return'left'}case 2:{return'right'}case 1:default:{return'center'}}}},{writingModeVertical:function(){return(BrowserSupport.BrowserSupport.IsIE()?'tb-rl':'vertical-rl')}});var F=global.tab.HeaderNodeComponent=ss.mkType(a,'tab.HeaderNodeComponent',function(bw){this.$h=null;this.$g=null;spiff.PureRenderComponent.call(this,bw);this.$h=new H(bw);this.state={isHovered:false};var bx=null;var by=null;if(tab.FeatureFlags.isEnabled('BeviDragHeaders')){bx=spiff.ReactRefs.attachDragSource(ss.mkdel(this,function(){return this}));by=spiff.ReactRefs.attachDropTarget(ss.mkdel(this,function(){return this}))}this.$g=function(bz){if(ss.isValue(bz)){if(!ss.staticEquals(bx,null)&&!ss.staticEquals(by,null)){bx(bz);by(bz)}}}},{get_feedbackType:function(){return'dropfeedbackuponentry'},$7:function(){return spiff.DOMElements.div({className:this.$h.getSortIndicatorCssClassName(this.state.isHovered),style:this.$h.getSortIndicatorCss(),title:this.props.sortIndicatorTooltip,onClick:ss.mkdel(this,function(bw){this.$h.sortIndicatorClicked(bw)}),onMouseOver:ss.mkdel(this,function(bw){this.props.sortIndicatorHoverCallback(true)}),onMouseLeave:ss.mkdel(this,function(bw){this.props.sortIndicatorHoverCallback(false)})})},$5:function(){return spiff.DOMElements.div({className:'tab-vizHeaderLabelContainer',style:this.$2()},this.$6())},$6:function(){return spiff.DOMElements.div({className:'tab-vizHeader',style:this.$3()},this.props.text)},render:function(){if(this.props.isHiddenForStretching){return null}var bw={className:'tab-vizHeaderWrapper',style:this.$4(),id:this.props.id,ref:this.$g,onMouseOver:ss.mkdel(this,function(bx){this.setState({isHovered:true})}),onMouseLeave:ss.mkdel(this,function(bx){this.setState({isHovered:false})}),tabIndex:((tab.SceneMarginModel.isKeyboardAccessibilityEnabled()&&this.props.isFocusable)?0:-1)};return spiff.DOMElements.div(bw,(!this.props.paneHasSkippedLabel?ss.mkdel(this,function(){return this.$5()})():null),(this.$0()?ss.mkdel(this,function(){return this.$7()})():null))},startDrag:function(bw){return new EventUtils.DragInstance(this,null)},acceptsDragType:function(){return 1},dragOver:function(bw){return this},dragExit:function(bw){},acceptDrop:function(bw){var bx=$.Deferred();return bx.resolve(true)},getDropTarget:function(bw){return this},getDropCursor:function(bw){return spiff.CustomCursor.move},$0:function(){if(this.props.paneHasSkippedLabel){return false}return this.$h.canShowSortIndicator(this.state.isHovered)},$4:function(){var bw=this.props.height;if(this.props.sceneMarginLocation===1){bw+=this.props.labelPadding.top}var bx={width:this.props.width+'px',height:bw+'px'};if(this.props.isHorizontal){bx.left=this.props.left+'px'}else{bx.top=this.props.top+'px'}if(BrowserSupport.BrowserSupport.IsIE()&&this.$0()){this.$8(bx)}else{bx.alignItems=this.$b();bx.justifyContent=this.$a()}this.$d(bx);return bx},$8:function(bw){bw.flexDirection='column-reverse';bw.alignItems=this.$a();var bx=this.$b();if(ss.equalsT(bx,'flex-start')){bw.justifyContent='flex-end'}else if(ss.equalsT(bx,'flex-end')){bw.justifyContent='flex-start'}else{bw.justifyContent=bx}},$1:function(){if(this.props.isSelected&&ss.isValue(this.props.selectedLabelStyle)){return this.props.selectedLabelStyle}if(this.props.isBrushed&&ss.isValue(this.props.brushedLabelStyle)){return this.props.brushedLabelStyle}if(this.state.isHovered&&ss.isValue(this.props.hoverLabelStyle)){return this.props.hoverLabelStyle}return this.props.headerLabelStyle},$3:function(){var bw=new E(this.$1(),this.props.rotation,this.props.paneHasSkippedLabel);var bx=bw.getGeneralHeaderLabelCss();if(BrowserSupport.BrowserSupport.IsIE()&&this.props.rotation!==0){bx.height=this.props.height+'px'}return bx},$2:function(){var bw={maxWidth:this.props.width+'px',maxHeight:this.props.height+'px'};var bx=this.props.headerLabelStyle.vAlign;this.$c(bw,bx);var by=this.props.rotation;this.$e(bw,by);if(!BrowserSupport.BrowserSupport.IsIE()&&!BrowserSupport.BrowserSupport.IsLegacyEdge()){this.$f(bw,by);if(by!==0){bw.writingMode=E.writingModeVertical()}}if(this.props.isNodeSorted){this.$h.adjustLabelRectangleForSortIndicator(bw)}return bw},$d:function(bw){bw.backgroundColor=this.props.fillColor.toRgba();if(this.state.isHovered&&!this.props.isBrushed&&!this.props.isSelected){bw.backgroundColor=this.props.highlightedFillColor.toRgbHex()}},$9:function(bw){return this.props.autoVAlignTopOffset!==-1&&!this.props.isHorizontal&&bw===3},$c:function(bw,bx){if(this.$9(bx)){bw.marginTop=this.props.autoVAlignTopOffset}},$e:function(bw,bx){switch(this.props.sceneMarginLocation){case 1:{bw.paddingTop=this.props.labelPadding.top+'px';break}case 3:case 0:{if(bx===0){bw.paddingLeft=this.props.labelPadding.left+'px';bw.paddingRight=this.props.labelPadding.right+'px'}break}}},$f:function(bw,bx){if(this.props.isHorizontal){if(bx===0){bw.position='sticky';bw.left='0px';bw.right='0px'}}else{bw.position='sticky';bw.top='0px';bw.bottom='0px'}},$b:function(){var bw=this.props.headerLabelStyle.vAlign;if(this.$9(bw)){bw=2}switch(bw){case 2:{return'flex-start'}case 0:{return'flex-end'}case 1:{return'center'}default:{return'center'}}},$a:function(){var bw=this.props.headerLabelStyle.hAlign;switch(bw){case 0:{return'flex-start'}case 2:{return'flex-end'}case 1:{return'center'}default:{return'center'}}}});var G=global.tab.HeaderNodePropsBuilder=ss.mkType(a,'tab.HeaderNodePropsBuilder',function(bw,bx,by,bz,bA,bB){this.$e=null;this.$a=null;this.$c=0;this.$b=null;this.$d=null;this.$9=null;this.$1$1=null;this.$1$2=null;this.$e=bw;this.$a=bx;this.$c=by;this.$b=bz;this.$d=this.$7(bA);this.$9=bB},{get_invokeSortCommand:function(){return this.$1$1},set_invokeSortCommand:function(bw){this.$1$1=bw},get_sortIndicatorHoverCallback:function(){return this.$1$2},set_sortIndicatorHoverCallback:function(bw){this.$1$2=bw},build:function(bw,bx,by,bz,bA,bB,bC,bD){var bE=this.$2(bw.totalType);var bF=(ss.keyExists(this.$d,bw.id)?this.$d[bw.id]:null);var bG=ss.isValue(bF)&&bw.isLeaf;return{width:bx.get_width(),height:bx.get_height(),top:by.get_height(),left:by.get_width(),rotation:this.$a.labelStyle.text_orientation,isSelected:bz,isBrushed:bA,isFocusable:bD,key:this.$c+by.get_width(),id:bw.id,enclosedIndex:bw.enclosedIndex,level:bw.level,text:this.$4(bw,bx),paneHasSkippedLabel:bB,isHorizontal:tab.SceneMarginModel.isHorizontal(this.$c),headerLabelStyle:bE,isBandFilled:bw.isBandFilled,fillColor:this.$1(bw,bz,bA),highlightedFillColor:this.$a.highlightedFillColor,selectedLabelStyle:this.$a.selectedStyle,brushedLabelStyle:this.$a.brushedStyle,hoverLabelStyle:this.$3(bE),autoVAlignTopOffset:this.$0(bw),dividerAttributes:bC,isNodeSorted:bG,persistentSortIndicatorClassName:this.$5(bF,bG),canShowSortIndicatorOnHover:bw.canShowSortIndicatorOnHover,sortIndicatorTooltip:(bG?bF.tooltip:''),labelPadding:this.$b,sceneMarginLocation:this.$c,invokeSortCommand:this.get_invokeSortCommand(),sortIndicatorHoverCallback:this.get_sortIndicatorHoverCallback(),getAllHeadersWithSameEnclosedIndexAndLevel:this.$9,isHiddenForStretching:bx.get_perpendicular()<=0}},$6:function(bw){var bx=2;if(this.$c!==3){return false}return Math.min(bw.get_width(),bw.get_height())<bx},$5:function(bw,bx){if(!bx){return''}var by=bw.indicatorDirection;return((by==='asc')?'sortIndLeft':'sortIndRight')},$4:function(bw,bx){if(this.$6(bx)){return''}return T.getLabelText(bw.fullText,bw.labelForRender)},$3:function(bw){var bx=_.clone(bw);bx.text_style_color=G.$1.toArgbInt();return bx},$7:function(bw){var bx={};if(ss.isNullOrUndefined(bw)){return bx}var by=tab.SceneMarginModel.isHorizontal(this.$c);var bz=bw.SortIndicatorHash;for(var bA=0;bA<bz.length;++bA){var bB=((bw.SortIndicatorDirection[bA]===0)?'asc':'desc');var bC=T.getIdForNodeHash(T.toNodeHash(bz[bA]),by);var bD=new Q;bD.indicatorDirection=bB;bD.tooltip=bw.SortIndicatorTooltip[bA];bx[bC]=bD}return bx},$0:function(bw){if(!tab.SceneMarginModel.isHorizontal(this.$c)&&bw.numLeaves>1){var bx=this.$a.labelFontHeight;var by=bw.leftmostLeafIndex;var bz=this.$e[by];var bA=ss.idiv(bz,2)-ss.trunc(bx/2);return((bA<0)?0:bA)}return-1},$2:function(bw){if(bw===1){return this.$a.subTotalsStyle}if(bw===2){return this.$a.grandTotalsStyle}return this.$a.labelStyle},$1:function(bw,bx,by){if(bx){return this.$a.selectedFillColor}if(by){return this.$a.brushedFillColor}var bz={$:this.$a.fillColor};if(bw.isBandFilled){bz.$=this.$a.bandColor}this.$8(bz,bw.totalType);return bz.$},$8:function(bw,bx){if(ss.isNullOrUndefined(bx)){return}if(ss.equals(bx,1)){if(!ss.equals(this.$a.subtotalsFillColor.toRgba(),G.$2.toRgba())){bw.$=this.$a.subtotalsFillColor}}else if(ss.equals(bx,2)){if(!ss.equals(this.$a.grandTotalsFillColor.toRgba(),G.$2.toRgba())){bw.$=this.$a.grandTotalsFillColor}}}});var H=global.tab.HeaderNodeSortIndicator=ss.mkType(a,'tab.HeaderNodeSortIndicator',function(bw){this.$f=0;this.$b=false;this.$a=false;this.$c=0;this.$9=false;this.$6=false;this.$g=null;this.$e=0;this.$d=0;this.$7=null;this.$h=0;this.$8=null;this.$f=(bw.isHorizontal?2:1);this.$b=bw.isHorizontal;this.$a=bw.rotation===0;this.$c=bw.headerLabelStyle.hAlign;this.$9=bw.sceneMarginLocation===1;this.$g=bw.persistentSortIndicatorClassName;this.$6=bw.canShowSortIndicatorOnHover;this.$e=bw.width;this.$d=bw.height;this.$7=bw.labelPadding;this.$h=bw.sceneMarginLocation;this.$8=bw.invokeSortCommand},{sortIndicatorClicked:function(bw){if(this.$0(true)){this.$8({x:bw.pageX,y:bw.pageY},this.$h)}},canShowSortIndicator:function(bw){if(this.$0(bw)){return true}return this.$g!==''},getSortIndicatorCss:function(){var bw={};this.$3(bw);if(this.$b){bw.transform='rotate(90deg)'}return bw},getSortIndicatorCssClassName:function(bw){if(this.$0(bw)){return this.$1()}return this.$g},adjustLabelRectangleForSortIndicator:function(bw){var bx=15+this.$f;if(this.$a){var by=this.$7.left+this.$7.right;var bz=this.$e-by-bx;bw.maxWidth=bz+'px';this.$4(bw,bx)}else if(this.$9){var bA=this.$7.top+this.$7.bottom;var bB=this.$d-bA-bx;bw.maxHeight=bB+'px';this.$5(bw,bx)}},$4:function(bw,bx){if(this.$c===2){bw.transform=ss.formatString('translateX({0}px)',-bx)}else if(this.$c===1){bw.transform=ss.formatString('translateX({0}px)',ss.round(-bx/2))}},$5:function(bw,bx){bw.transform=ss.formatString('translateY({0}px)',bx)},$2:function(){return 15<this.$e&&15<this.$d},$0:function(bw){if(this.$2()){return bw&&this.$6}return false},$1:function(){if(this.$g==='sortIndLeft'){return'sortIndSolidLeft'}return'sortIndSolidRight'},$3:function(bw){if(this.$a){bw.right=this.$f+'px';if(this.$9){bw.top=this.$7.top+'px'}}else if(this.$9){bw.top=this.$f+'px'}else{var bx=15/2;bw.left=this.$e/2-bx+'px';bw.top=this.$d/2-bx+'px'}}},{$ctor1:function(bw){this.$f=0;this.$b=false;this.$a=false;this.$c=0;this.$9=false;this.$6=false;this.$g=null;this.$e=0;this.$d=0;this.$7=null;this.$h=0;this.$8=null;this.$f=(bw.isHorizontal?2:1);this.$b=bw.isHorizontal;this.$a=bw.headerLabelStyle.text_orientation===0;this.$c=bw.headerLabelStyle.hAlign;this.$9=bw.sceneMarginLocation===1;this.$6=bw.canShowSortIndicatorOnHover;this.$g=bw.persistentSortIndicatorClassName;this.$e=bw.width;this.$d=bw.height;this.$7=bw.labelPadding;this.$h=bw.sceneMarginLocation;this.$8=bw.invokeSortCommand}});var I=global.tab.HeaderNonSkippedTextComponent=ss.mkType(a,'tab.HeaderNonSkippedTextComponent',function(bw){this.$5=null;spiff.PureRenderComponent.call(this,bw);this.$5=new H.$ctor1(bw);this.state={isHovered:false}},{$2:function(){return spiff.DOMElements.div({className:this.$5.getSortIndicatorCssClassName(this.state.isHovered),style:this.$5.getSortIndicatorCss()})},$3:function(){return spiff.DOMElements.div({className:'tab-vizHeaderNonSkippedLabelContainer',style:this.$0()},this.props.text)},render:function(){var bw={className:'tab-vizHeaderNonSkippedWrapper',style:this.$1(),onMouseOver:ss.mkdel(this,function(bx){this.setState({isHovered:true})}),onMouseLeave:ss.mkdel(this,function(bx){this.setState({isHovered:false})})};return spiff.DOMElements.div(bw,this.$3(),(this.props.isNodeSorted?ss.mkdel(this,function(){return this.$2()})():null))},$1:function(){var bw={left:this.props.left+'px',width:this.props.width+'px',height:this.props.height+'px'};this.$4(bw);if(this.props.headerLabelStyle.text_orientation!==0){bw.writingMode=E.writingModeVertical()}return bw},$0:function(){var bw=new E(this.props.headerLabelStyle,this.props.headerLabelStyle.text_orientation,true);var bx=bw.getGeneralHeaderLabelCss();if(this.props.isNodeSorted){this.$5.adjustLabelRectangleForSortIndicator(bx);if(this.props.headerLabelStyle.text_orientation===-90){bx.transform+=' rotate(180deg)'}}return bx},$4:function(bw){var bx=this.props.headerLabelStyle.text_orientation!==0;if(bx&&this.props.sceneMarginLocation===1){bw.paddingTop=this.props.labelPadding+'px'}}});var J=global.tab.HeaderResizerComponent=ss.mkType(a,'tab.HeaderResizerComponent',function(bw){this.$a=null;this.$b=null;this.$d=null;this.$c=0;spiff.PureRenderComponent.call(this,bw);this.$a=spiff.ReactRefs.attachDragSource(ss.mkdel(this,function(){return this}));this.$b=ss.mkdel(this,function(bx){this.$a(bx);this.$d=$(bx)})},{render:function(){var bw=this.$6();var bx=this.$5(this.$4(),this.$3(bw));var by=spiff.DOMElements.div({className:'tab-vizResizerLine',style:bx},'');var bz=this.$8(this.$7(),bw);return spiff.DOMElements.div({className:'tab-vizHeaderResizer',style:bz,ref:this.$b},by)},get_resizerObject:function(){return this.$d},$9:function(){return this.props.sceneMarginLocation===0||this.props.sceneMarginLocation===3},$4:function(){var bw=tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation);var bx=(bw?this.props.sceneMarginViewportSize.w:this.props.sceneMarginViewportSize.h);return{w:(!bw?1:bx),h:(!bw?bx:1)}},$3:function(bw){var bx=2;if(!tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)){return{x:bw.x+bx,y:0}}else{return{x:0,y:bw.y+bx}}},$7:function(){var bw=tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation);var bx=2*2;var by=(bw?this.props.sceneMarginViewportSize.w:this.props.sceneMarginViewportSize.h);return{w:(!bw?bx:by),h:(!bw?by:bx)}},$6:function(){var bw=tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation);var bx=2;var by=this.props.pixelSize;var bz=(bw?0:this.props.pixelOffset);var bA=(bw?this.props.pixelOffset:0);if(!bw){bz+=(this.$9()?by:0);return{x:bz-bx,y:bA}}else{bA+=(this.$9()?by:0);return{x:bz,y:bA-bx}}},$8:function(bw,bx){var by={width:bw.w+'px',height:bw.h+'px',left:bx.x+'px',top:bx.y+'px',backgroundColor:'transparent',position:'absolute',cursor:(!tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)?'ew-resize':'ns-resize')};return by},$5:function(bw,bx){var by={left:bx.x+'px',top:bx.y+'px',opacity:0,border:'none'};if(!tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)){by.width='0px';by.height=bw.h;by.borderRight='1px dotted'}else{by.width=bw.w;by.height='0px';by.borderBottom='1px dotted'}return by},$2:function(bw){return new spiff.MoveDragInstance($(bw),ss.mkdel(this,this.onMove),ss.mkdel(this,this.onDrop),null)},acceptsDragType:function(){return 1},startDrag:function(bw){if(!tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)){this.$c=tab.DoubleUtil.roundToInt(this.$d.children('.'+'tab-vizResizerLine').offset().left);this.updateResizerXPosition(this.$0(bw.pageX),bw.pageX)}else{this.$c=tab.DoubleUtil.roundToInt(this.$d.children('.'+'tab-vizResizerLine').offset().top);this.updateResizerYPosition(this.$1(bw.pageY),bw.pageY)}return this.$2(bw.target)},onMove:function(bw){this.$d.children('.'+'tab-vizResizerLine').css('opacity',1);if(!tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)){this.updateResizerXPosition(this.$0(bw.pageX),bw.pageX)}else{this.updateResizerYPosition(this.$1(bw.pageY),bw.pageY)}},onDrop:function(bw){this.$d.children('.'+'tab-vizResizerLine').css('opacity',0);var bx=(!tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)?this.calculateXSizeDifference(bw.pageX):this.calculateYSizeDifference(bw.pageY));if(Z.isSizeDifferenceOverThreshold(bx)){var by=bx+this.props.pixelSize;this.props.sendHeaderResizeCommand(this.props.fieldName,by)}},updateResizerYPosition:function(bw,bx){var by=bw<0;var bz=bx-ss.idiv(tab.DoubleUtil.roundToInt(this.$d.children('.'+'tab-vizResizerLine').height()),2);if(Math.abs(bw)<=2){var bA=(by?-2:2);bz=this.$c+bA}if(Math.abs(bw)>=100){var bB=(by?-100:100);bz=this.$c+bB}var bC=this.$d.children('.'+'tab-vizResizerLine').offset();this.$d.children('.'+'tab-vizResizerLine').offset({left:bC.left,top:bz})},updateResizerXPosition:function(bw,bx){var by=bw<0;var bz=bx-ss.idiv(tab.DoubleUtil.roundToInt(this.$d.children('.'+'tab-vizResizerLine').width()),2);if(Math.abs(bw)<=2){var bA=(by?-2:2);bz=this.$c+bA}if(Math.abs(bw)>=100){var bB=(by?-100:100);bz=this.$c+bB}var bC=this.$d.children('.'+'tab-vizResizerLine').offset();this.$d.children('.'+'tab-vizResizerLine').offset({left:bz,top:bC.top})},$1:function(bw){var bx=bw;return bx-this.$c},$0:function(bw){var bx=bw;return bx-this.$c},calculateYSizeDifference:function(bw){var bx=bw-ss.idiv(tab.DoubleUtil.roundToInt(this.$d.children('.'+'tab-vizResizerLine').height()),2);var by=bx-this.$c;var bz=(this.$9()?(by<0):(by>=0));var bA=Math.min(Math.max(Math.abs(by),2),100);return(bz?-bA:bA)},calculateXSizeDifference:function(bw){var bx=bw-ss.idiv(tab.DoubleUtil.roundToInt(this.$d.children('.'+'tab-vizResizerLine').width()),2);var by=bx-this.$c;var bz=(this.$9()?(by<0):(by>=0));var bA=Math.min(Math.max(Math.abs(by),2),100);return(bz?-bA:bA)}});var K=global.tab.HeaderTotalsTypes=ss.mkEnum(a,'tab.HeaderTotalsTypes',{none:0,subTotalsType:1,grandTotalsType:2});var L=global.tab.IndicatorPosition=ss.mkType(a,'tab.IndicatorPosition',function(){this.along=0;this.perpendicular=0});var M=global.tab.LabelRange=ss.mkType(a,'tab.LabelRange',function(){this.$1$1=0;this.$1$2=0;this.$1$3=0},{get_firstLabelIndex:function(){return this.$1$1},set_firstLabelIndex:function(bw){this.$1$1=bw},get_lastLabelIndex:function(){return this.$1$2},set_lastLabelIndex:function(bw){this.$1$2=bw},get_skip:function(){return this.$1$3},set_skip:function(bw){this.$1$3=bw},isSkipped:function(bw){return!(bw>=this.get_firstLabelIndex()&&bw<=this.get_lastLabelIndex()&&ss.imod(bw,this.get_skip())===ss.imod(this.get_firstLabelIndex(),this.get_skip()))}});var N=global.tab.LabelSkip=ss.mkType(a,'tab.LabelSkip',function(bw,bx,by){this.$4=false;this.$3=null;this.$6=null;this.$5=null;this.$7=null;this.hasSkippedLabels=false;this.$4=bw===1;this.$3=new Array(bx.length);for(var bz=0;bz<bx.length;++bz){this.$3[bz]=bx[bz].enclosedIndex}this.$6=this.$2(by);this.$5=(this.$4?by.LabelOffset:[]);this.$7=this.$0();this.hasSkippedLabels=this.$1()},{isSkipped:function(bw){if(!this.$4){return false}var bx=this.$3[bw];var by=((bx===0)?0:(this.$7[bx-1]+1));var bz=bw-by;var bA=this.getLabelSkipResult(bw).getLabelRangeWithVisibleText(((this.$5.length===0)?0:this.$5[bx]),this.$7[bx]-by);return bA.isSkipped(bz)},$1:function(){if(!this.$4){return false}for(var bw=0;bw<this.$7.length;bw++){var bx=this.$7[bw];if(this.paneHasSkippedLabel(bx)){return true}}return false},paneHasSkippedLabel:function(bw){if(!this.$4){return false}var bx=this.$3[bw];if(this.$5[bx]>0){return true}var by=this.getLabelSkipResult(bw);return by.get_skip()>1||!by.get_includeFirstLabel()||!by.get_includeLastLabel()},getLabelSkipResult:function(bw){var bx=this.$3[bw];return this.$6[bx]},getSkip:function(bw){return this.getLabelSkipResult(bw).get_skip()},$2:function(bw){if(!this.$4){return[]}var bx=this.$3[this.$3.length-1]+1;var by=new Array(bx);for(var bz=0;bz<bx;bz++){by[bz]=new O(bw.Skip[bz],bw.IncludeFirstLabel[bz],bw.IncludeLastLabel[bz])}return by},$0:function(){if(!this.$4){return[]}var bw=this.$3[this.$3.length-1]+1;var bx=new Array(bw);for(var by=0;by<this.$3.length-1;++by){if(this.$3[by+1]>this.$3[by]){bx[this.$3[by]]=by}}bx[bw-1]=this.$3.length-1;return bx}});var O=global.tab.LabelSkipResult=ss.mkType(a,'tab.LabelSkipResult',function(bw,bx,by){this.$1$1=0;this.$1$2=false;this.$1$3=false;this.set_skip(bw);this.set_includeFirstLabel(bx);this.set_includeLastLabel(by)},{get_skip:function(){return this.$1$1},set_skip:function(bw){this.$1$1=bw},get_includeFirstLabel:function(){return this.$1$2},set_includeFirstLabel:function(bw){this.$1$2=bw},get_includeLastLabel:function(){return this.$1$3},set_includeLastLabel:function(bw){this.$1$3=bw},getLabelRangeWithVisibleText:function(bw,bx){var by=bw+(this.get_includeFirstLabel()?0:this.get_skip());var bz=bx-ss.imod(bx-bw,this.get_skip());if(!this.get_includeLastLabel()){bz-=this.get_skip()}var bA=new M;bA.set_firstLabelIndex(by);bA.set_lastLabelIndex(bz);bA.set_skip(this.get_skip());return bA}},{generateFromLabelSkipTable:function(bw,bx){var by=(ss.isNullOrUndefined(bw)?0:bw.HeaderIndex.length);for(var bz=0;bz<by;bz++){if(bw.HeaderIndex[bz]===bx){return new O(bw.Skip[bz],bw.IncludeFirstLabel[bz],bw.IncludeLastLabel[bz])}}return new O(1,true,true)}});var P=global.tab.MinMaxPair=ss.mkType(a,'tab.MinMaxPair',function(bw,bx){this.min=0;this.max=0;this.min=bw;this.max=bx});var Q=global.tab.NestedSortIndicatorDataTableRow=ss.mkType(a,'tab.NestedSortIndicatorDataTableRow',function(){this.indicatorDirection=null;this.tooltip=null});var R=global.tab.NodeInfo=ss.mkType(a,'tab.NodeInfo',function(){this.hash=0;this.extentsX=0;this.extentsY=0;this.extentsWidth=0;this.extentsHeight=0});var S=global.tab.NodeInfoConverter=ss.mkType(a,'tab.NodeInfoConverter',function(bw,bx,by,bz,bA){this.$3=0;this.$2=null;this.$4=null;this.$5=null;this.$1=null;this.$3=bw;this.$2=bx;this.$4=by.Id;this.$5=bz;this.$1=bA},{convert:function(bw){var bx=this.$5.HeaderDepth[bw];var by=tab.SceneMarginModel.isHorizontal(this.$3);var bz=this.$5.ElementType[bw];var bA=bz===0||bz===1;var bB=bz===1;var bC=[];for(var bD=0;bD<this.$2.Level.length;bD++){var bE=this.$2.Level[bD];var bF=this.$1[bD]!==0;if(bA&&bF!==bB){continue}if(bE!==bx){continue}var bG;if(by){var bH=new R;bH.hash=this.$0(bD);bH.extentsWidth=this.$2.AlongDirectionPixelSize[bD];bH.extentsHeight=this.$5.PixelSize[bw];bH.extentsX=this.$2.AlongDirectionPixelOffset[bD];bH.extentsY=this.$5.PixelOffset[bw];bG=bH}else{var bI=new R;bI.hash=this.$0(bD);bI.extentsWidth=this.$5.PixelSize[bw];bI.extentsHeight=this.$2.AlongDirectionPixelSize[bD];bI.extentsX=this.$5.PixelOffset[bw];bI.extentsY=this.$2.AlongDirectionPixelOffset[bD];bG=bI}bC.push(bG)}return bC},$0:function(bw){var bx=this.$4[bw];bx>>>=0;return bx}});var T=global.tab.NodeUtils=ss.mkType(a,'tab.NodeUtils',null,null,{toNodeHash:function(bw){var bx=bw;bx=bx>>>0;return bx},getIdForNodeHash:function(bw,bx){var by=(bx?1:0);return bw.toString()+by},getLabelText:function(bw,bx){return((bx==='')?bw:bx)}});var U=global.tab.NonScrollableHolderComponent=ss.mkType(a,'tab.NonScrollableHolderComponent',function(bw){this.$4=false;spiff.PureRenderComponent.call(this,bw);this.$4=tab.SceneMarginModel.isHorizontal(bw.sceneMarginLocation)},{render:function(){var bw=null;if(tsConfig.is_authoring){bw=this.$0()}var bx=this.$1();return spiff.DOMElements.div({className:'tab-vizNonScrollableHolderContainer'},bw,bx)},$0:function(){var bw=[];if(!ss.isNullOrUndefined(this.props.headerStackProps)){for(var bx=0;bx<this.props.headerStackProps.length;++bx){var by=this.props.headerStackProps[bx];var bz=React.createElement(J,by);bw.push(bz)}}if(!ss.isNullOrUndefined(this.props.axisProps)){var bA=this.props.axisProps;if(ss.isValue(bA.axisResizers)){for(var bB=0;bB<bA.axisResizers.length;bB++){var bC=bA.axisResizers[bB];var bD=React.createElement(k,bC);bw.push(bD)}}}return bw},$1:function(){var bw=[];var bx=this.props.borderDataModel.get_sideBorder();if(ss.isNullOrUndefined(bx)){return bw}var by=V.makeOrientedSize(this.props.viewportSize.w,this.props.viewportSize.h,this.$4);var bz=by.get_width();var bA=(this.$3(by.get_height())?this.$2():by.get_height());var bB=!this.$4;var bC=(this.$4?{x:bz-1,y:0}:{x:0,y:bz-1});bw.push(t.drawLine({x:0,y:0},bA,bx,bB));bw.push(t.drawLine(bC,bA,bx,bB));return bw},$2:function(){if(ss.isValue(this.props.axisProps)){return this.props.axisProps.pixelSize}else{return this.props.headerStackProps[0].pixelSize}},$3:function(bw){if(bw===0||ss.isNullOrUndefined(this.props.axisProps)&&(ss.isNullOrUndefined(this.props.headerStackProps)||this.props.headerStackProps.length===0)){return false}return this.props.sceneMarginLocation===1||this.props.sceneMarginLocation===2}});var V=global.tab.OrientedSize=ss.mkType(a,'tab.OrientedSize',function(bw){this.$1=false;this.$0=0;this.$2=0;this.$1=bw},{get_along:function(){return this.$0},set_along:function(bw){this.$0=bw},get_perpendicular:function(){return this.$2},set_perpendicular:function(bw){this.$2=bw},get_width:function(){return(this.$1?this.$0:this.$2)},set_width:function(bw){if(this.$1){this.$0=bw}else{this.$2=bw}},get_height:function(){return(this.$1?this.$2:this.$0)},set_height:function(bw){if(this.$1){this.$2=bw}else{this.$0=bw}}},{makeOrientedSize:function(bw,bx,by){var bz=new V(by);bz.set_along(bw);bz.set_perpendicular(bx);return bz}});var W=global.tab.OuterBorderComponent=ss.mkType(a,'tab.OuterBorderComponent',function(bw){spiff.PureRenderComponent.call(this,bw)},{render:function(){var bw=[];if(this.props.sceneMarginLocation===1||this.props.sceneMarginLocation===2){var bx=this.$0(this.props.actualAlongMarginSize);bw.push(bx)}else{var by=this.$1(this.props.actualAlongMarginSize);ss.arrayAddRange(bw,by)}return spiff.DOMElements.div({className:'tab-vizBorderHolder'},bw)},$0:function(bw){if(ss.isNullOrUndefined(this.props.borderDataModel.get_alongAxisBorder())){return null}var bx=null;var by=tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation);var bz=ss.round(this.props.borderDataModel.get_alongAxisBorder().borderWidth/2);switch(this.props.sceneMarginLocation){case 0:{bx={x:0,y:0};break}case 1:{bx={x:0,y:this.props.perpendicularSize-2-bz};break}case 3:{bx={x:this.props.perpendicularSize,y:0};break}case 2:{bx={x:this.props.perpendicularSize-2-bz,y:0};break}}return t.drawLine(bx,bw,this.props.borderDataModel.get_alongAxisBorder(),by)},$1:function(bw){var bx=[];if(ss.isNullOrUndefined(this.props.borderDataModel.get_alongAxisBorder())){return bx}var by=this.props.borderDataModel.get_alongAxisBorder();for(var bz=0;bz<this.props.alongMarginOffsets.length;bz++){var bA=this.props.alongMarginOffsets[bz];var bB=tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation);var bC=(bB?{x:0,y:bA}:{x:bA,y:0});var bD=t.drawLine(bC,bw,by,bB);bx.push(bD)}return bx}});var X=global.tab.OuterBorderViewModel=ss.mkType(a,'tab.OuterBorderViewModel',function(bw,bx,by){this.$a=0;this.$6=null;this.$9=null;this.$7=null;this.$5=0;this.$8=0;this.$b=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$a=bw;this.$6=bx;this.$9=by.get_sceneMarginLayout();this.$7=by.get_layoutTable();this.$5=this.$3();this.$b=by},{set_sceneMarginViewportSize:function(bw){if(this.$b.isHorizontal()){this.$8=bw.h}else{this.$8=bw.w}this.incrementProps()},createInitialProps:function(){var bw={sceneMarginLocation:this.$a,borderDataModel:this.$6};return bw},createUpdatedProps:function(){return{actualAlongMarginSize:this.$5,perpendicularSize:this.$8,alongMarginOffsets:this.$4()}},$3:function(){return this.$7.AlongDirectionPixelSize[0]},$4:function(){var bw=[];for(var bx=0;bx<this.$9.SceneMarginLocation.length;bx++){if(this.$9.SceneMarginLocation[bx]===this.$a){bw.push(this.$9.PixelOffset[bx])}}return bw}});var Y=global.tab.PerNodeData=ss.mkType(a,'tab.PerNodeData',function(){this.fullText=null;this.labelForRender=null;this.isLeaf=false;this.enclosedIndex=0;this.level=0;this.totalType=0;this.isBandFilled=false;this.nodeTableIndex=0;this.id=null;this.numLeaves=0;this.leftmostLeafIndex=0;this.borderStartLevel=0;this.canShowSortIndicatorOnHover=false});var Z=global.tab.ResizerConstants=ss.mkType(a,'tab.ResizerConstants',null,null,{isSizeDifferenceOverThreshold:function(bw){return Math.abs(bw)>1}});var ba=global.tab.SceneMarginBorderBuilder=ss.mkType(a,'tab.SceneMarginBorderBuilder',null,null,{build:function(bw,bx){var by=ba.$0(bw.DefaultDividerPenColor,bw.DefaultDividerPenStyle,bw.DefaultDividerPenWidth);var bz=ba.$0(bw.SubtotalDividerPenColor,bw.SubtotalDividerPenStyle,bw.SubtotalDividerPenWidth);var bA=ba.$0(bw.GrandTotalDividerPenColor,bw.GrandTotalDividerPenStyle,bw.GrandTotalDividerPenWidth);var bB=ba.$0(bw.CustomDividerPenColor,bw.CustomDividerPenStyle,bw.CustomDividerPenWidth);return new s(by,bz,bA,bB,bw.CustomDividerTargetDepth,bx)},$0:function(bw,bx,by){var bz=new q;bz.color=bw;bz.borderWidth=by*2;bz.borderStyle=bx;var bA=bz;return bA}});var bb=global.tab.SceneMarginComponent=ss.mkType(a,'tab.SceneMarginComponent',function(bw){this.$9=null;this.$6=null;this.$7=null;this.$8=null;spiff.PureRenderComponent.call(this,bw);this.$9=ss.mkdel(this,this.$4)},{render:function(){var bw=!ss.isNullOrUndefined(this.props.axisProps);var bx=this.$2();var by=!ss.isNullOrUndefined(this.props.headerStackProps);var bz=(by?this.props.headerStackProps.length:0)+(bw?1:0)+(bx?1:0);var bA=[];if(bx){bA.push(React.createElement(z,this.props.fieldLabelProps))}if(by){for(var bB=0;bB<this.props.headerStackProps.length;++bB){var bC=this.props.headerStackProps[bB];bA.push(React.createElement(C,bC))}}if(bw){bA.push(React.createElement(h,this.props.axisProps))}bA.push(React.createElement(W,this.props.outerBorderProps));return spiff.DOMElements.div({style:this.$0(),ref:this.$9,className:bb.getMarginClassName(this.props.sceneMarginLocation),tabIndex:this.$1(),onBlur:ss.mkdel(this,this.$3)},bA)},$0:function(){var bw={};if(tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)){bw.left=-this.props.scrollOffset+'px'}else{bw.top=-this.props.scrollOffset+'px'}return bw},$2:function(){if(ss.isNullOrUndefined(this.props.fieldLabelProps)){return false}return!ss.isNullOrUndefined(this.props.fieldLabelProps.text)&&!ss.isNullOrUndefined(this.props.fieldLabelProps.style)},$1:function(){return((tab.SceneMarginModel.isKeyboardAccessibilityEnabled()&&this.props.focusState===1)?0:-1)},$3:function(bw){var bx=bw.currentTarget;window.setTimeout(ss.mkdel(this,function(){if(!bx.contains(document.activeElement)){this.props.handleFocusLostEvent()}}))},componentWillUnmount:function(){this.$5()},$5:function(){if(ss.isValue(this.$6)){KeyboardShortcuts.KeyboardShortcutManager.UnregisterShortcut(this.$6);this.$6=null}if(ss.isValue(this.$7)){KeyboardShortcuts.KeyboardShortcutManager.UnregisterShortcut(this.$7);this.$7=null}if(ss.isValue(this.$8)){KeyboardShortcuts.KeyboardShortcutManager.UnregisterShortcut(this.$8);this.$8=null}},$4:function(bw){if(tab.SceneMarginModel.isKeyboardAccessibilityEnabled()&&!ss.isNullOrUndefined(bw)){this.$7=new bd(bw,this.props.handleEnterOrSpaceKeyEvent);KeyboardShortcuts.KeyboardShortcutManager.RegisterShortcut(this.$7);this.$6=new e(bw,this.props.handleArrowKeyEvent);KeyboardShortcuts.KeyboardShortcutManager.RegisterShortcut(this.$6);this.$8=new be(bw,this.props.handleEscKeyEvent);KeyboardShortcuts.KeyboardShortcutManager.RegisterShortcut(this.$8)}}},{getMarginClassName:function(bw){switch(bw){case 1:{return'tab-vizBottomSceneMargin'}case 3:{return'tab-vizLeftSceneMargin'}case 0:{return'tab-vizTopSceneMargin'}case 2:{return'tab-vizRightSceneMargin'}}return'tab-vizUnknownSceneMarign'}});var bc=global.tab.SceneMarginElement=ss.mkType(a,'tab.SceneMarginElement',function(bw,bx,by){p.call(this,bw,bx,by);this.viewModel=by;this.reactView=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[bj,bb,Object])).call(null,[by]);this.reactView.addToDom(bw);this.reactViewForInteraction=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[bj,U,Object])).call(null,[by]);this.reactViewForInteraction.addToDom(bx)},{resize:function(){var bw=ss.safeCast(this.get_viewModel(),bj);if(ss.isValue(bw)&&!tab.SizeUtil.equals(bw.get_viewportSize(),this.actualViewSize)){bw.set_viewportSize(this.actualViewSize)}},updateScrollPos:function(){var bw=ss.safeCast(this.get_viewModel(),bj);if(ss.isValue(bw)&&!tab.PointUtil.equals(bw.get_scrollPos(),this.scrollPos)){bw.set_scrollPos(this.scrollPos)}}});var bd=global.tab.SceneMarginEnterSpaceKeyboardShortcut=ss.mkType(a,'tab.SceneMarginEnterSpaceKeyboardShortcut',function(bw,bx){this.$0=null;this.$1=null;KeyboardShortcuts.BaseKeyboardShortcut.call(this);this.$0=bw;this.$1=bx},{getKeyComboOrKeyCombos:function(){return new KeyboardShortcuts.KeyCombos(new KeyboardShortcuts.KeyCombo('Enter',null),new KeyboardShortcuts.KeyCombo(' ',null))},getElement:function(){return this.$0},isAllowed:function(bw){return ss.isValue(bw.target)},executeShortcut:function(bw){var bx=bw.target;this.$1(bx.id)},getTelemetryKey:function(){return'Enter scene margin'}});var be=global.tab.SceneMarginEscKeyboardShortcut=ss.mkType(a,'tab.SceneMarginEscKeyboardShortcut',function(bw,bx){this.$0=null;this.$1=null;KeyboardShortcuts.BaseKeyboardShortcut.call(this);this.$0=bw;this.$1=bx},{getKeyComboOrKeyCombos:function(){return new KeyboardShortcuts.KeyCombos(new KeyboardShortcuts.KeyCombo('Escape',null))},getElement:function(){return this.$0},isAllowed:function(bw){return ss.isValue(bw.target)},executeShortcut:function(bw){this.$1()},getTelemetryKey:function(){return'Scene Margin Esc key pressed'}});var bf=global.tab.SceneMarginFocusState=ss.mkEnum(a,'tab.SceneMarginFocusState',{inside:0,outside:1});var bg=global.tab.SceneMarginHitTester=ss.mkType(a,'tab.SceneMarginHitTester',function(bw,bx,by){this.$2=false;this.$7=0;this.$4=null;this.$6=0;this.$3=null;this.$5={};this.$1$1=false;this.$4=bw;this.$2=tab.SceneMarginModel.isHorizontal(bx);this.$7=bx;this.$6=by.length;this.$3=by},{get_isMouseOverSortIndicator:function(){return this.$1$1},set_isMouseOverSortIndicator:function(bw){this.$1$1=bw},hitTestNodes:function(bw){for(var bx=0;bx<this.$6;bx++){if(ss.equals(this.$3[bx],this.$7)){var by=this.$1(bx);var bz=bg.$0(bw,by);if(ss.isValue(bz)){return bz}}}return null},getNodeWithId:function(bw){for(var bx=0;bx<this.$6;bx++){if(ss.equals(this.$3[bx],this.$7)){var by=_.find(this.$1(bx),ss.mkdel(this,function(bz){return ss.referenceEquals(this.$0(bz.hash),bw)}));if(ss.isValue(by)){return by}}}return null},updateIsMouseOverSortIndicator:function(bw){this.set_isMouseOverSortIndicator(bw)},$1:function(bw){var bx=this.$5[bw];if(ss.isValue(bx)){return bx}bx=this.$4.convert(bw);this.$5[bw]=bx;return bx},$0:function(bw){return T.getIdForNodeHash(bw,this.$2)}},{$0:function(bw,bx){var by=_.find(bx,function(bz){var bA=bz.extentsX||0;var bB=bz.extentsY||0;var bC={x:bA,y:bB,w:bz.extentsWidth,h:bz.extentsHeight};return tab.RectXYUtil.inRect(bC,bw)});return by}});var bh=global.tab.SceneMarginNodesContainer=ss.mkType(a,'tab.SceneMarginNodesContainer',function(bw){this.$2=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$2=bw;this.set_childToParentIndicesMap({});this.$0()},{get_parentChildLevelMap:function(){return this.$1$1},set_parentChildLevelMap:function(bw){this.$1$1=bw},get_childToParentIndicesMap:function(){return this.$1$2},set_childToParentIndicesMap:function(bw){this.$1$2=bw},get_nodeMap:function(){return this.$1$3},set_nodeMap:function(bw){this.$1$3=bw},$0:function(){this.set_nodeMap({});this.set_parentChildLevelMap({});for(var bw=0;bw<this.$2.Level.length;++bw){var bx=this.$2.Level[bw];if(bx===-1){continue}var by=new bk;by.index=(ss.isNullOrUndefined(this.get_nodeMap()[bx])?0:this.get_nodeMap()[bx].length);by.nodeHash=T.toNodeHash(this.$2.Id[bw]);by.level=bx;var bz=by;if(ss.keyExists(this.get_nodeMap(),bx)){this.get_nodeMap()[bx].push(bz)}else{this.get_nodeMap()[bx]=ss.arrayClone([bz])}this.$1(bw,bx)}if(ss.isValue(this.get_parentChildLevelMap())&&ss.isValue(this.$2.HierarchicalParentLevel)&&ss.isValue(this.$2.HierarchicalParentNodeIndex)){var bA=new ss.ObjectEnumerator(this.get_parentChildLevelMap());try{while(bA.moveNext()){var bB=bA.current();var bC=bB.value;var bD=[];for(var bE=0;bE<this.$2.Level.length;bE++){if(this.$2.Level[bE]===bC){bD.push(this.$2.HierarchicalParentNodeIndex[bE])}}this.get_childToParentIndicesMap()[bC]=bD}}finally{bA.dispose()}}},$1:function(bw,bx){if(ss.isValue(this.$2.HierarchicalParentLevel)&&ss.isValue(this.$2.HierarchicalParentNodeIndex)){var by=this.$2.HierarchicalParentLevel[bw];if(by<0){return}if(!ss.keyExists(this.get_parentChildLevelMap(),by)){this.get_parentChildLevelMap()[by]=bx}}}});var bi=global.tab.SceneMarginSelection=ss.mkType(a,'tab.SceneMarginSelection',function(bw,bx,by,bz){this.$7=0;this.$6=null;this.$1$1=null;this.$1$2=null;this.$8=null;this.$5=null;this.$1$3=0;this.set_page(0);this.$6=bw;this.$7=bx;this.set_selectionModel(by);this.set_brushingModel(bz);this.$8={};this.$5={}},{get_selectionModel:function(){return this.$1$1},set_selectionModel:function(bw){this.$1$1=bw},get_brushingModel:function(){return this.$1$2},set_brushingModel:function(bw){this.$1$2=bw},get_page:function(){return this.$1$3},set_page:function(bw){this.$1$3=bw},updateSelection:function(){if(ss.getKeyCount(this.$8)>0){ss.clearKeys(this.$8)}if(ss.getKeyCount(this.$5)>0){ss.clearKeys(this.$5)}this.$4(this.get_selectionModel(),this.$8);this.$4(this.get_brushingModel(),this.$5)},$4:function(bw,bx){var by=new ss.ObjectEnumerator(this.$6.get_nodeMap());try{while(by.moveNext()){var bz=by.current();var bA=bz.key;var bB=bz.value;for(var bC=0;bC<bB.length;bC++){var bD=bB[bC];if(this.$0(bw,bD.nodeHash)){if(!ss.keyExists(bx,bA)){bx[bA]=new Set}bx[bA].add(bD.index)}}}}finally{by.dispose()}this.$3(bx)},$3:function(bw){if(ss.isNullOrUndefined(this.$6.get_parentChildLevelMap())){return}var bx=new ss.ObjectEnumerator(this.$6.get_parentChildLevelMap());try{while(bx.moveNext()){var by=bx.current();var bz=by.key;var bA=by.value;if(this.$6.get_childToParentIndicesMap()[bA].length===0){continue}this.$2(bw,bz,bA)}}finally{bx.dispose()}},$2:function(bw,bx,by){if(ss.isValue(bw[bx])&&bw[bx].size>0){var bz=bw[bx];var bA=this.$6.get_childToParentIndicesMap()[by];for(var bB=0;bB<bA.length;bB++){if(bz.has(bA[bB])){if(!ss.keyExists(bw,by)){bw[by]=new Set}bw[by].add(bB)}}}},isNodeSelected:function(bw,bx){return ss.keyExists(this.$8,bw)&&this.$8[bw].has(bx)},isNodeBrushed:function(bw,bx){return ss.keyExists(this.$5,bw)&&this.$5[bw].has(bx)},$1:function(){return this.$7===0||this.$7===1},$0:function(bw,bx){return bw.isNodeSelected$2(bx,(this.$1()?'o-horiz':'o-vert'),this.get_page())}});var bj=global.tab.SceneMarginViewModel=ss.mkType(a,'tab.SceneMarginViewModel',function(bw,bx,by){this.$d=null;this.$c=null;this.headerModels=null;this.$f=null;this.$b=null;this.$i=0;this.$l=null;this.$k={x:0,y:0};this.$g=0;this.$m={w:0,h:0};this.$e=null;this.$j=null;this.$h=null;this.$3$1=0;this.$3$2=null;this.$3$3=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$e=bw;this.$l=bx;this.$i=bw.get_sceneMarginLocation();var bz=bw.get_sceneMarginLayout();this.$j=new bi(new bh(bw.get_nodeData()),bw.get_sceneMarginLocation(),bx,by);this.headerModels=[];this.$b=ba.build(bw.get_borderStyles(),this.$i);var bA=new bt(bw.get_nodeData(),bw.get_nodeLevelStyles().TotalType,bw.get_sceneMarginLayout(),bw.get_elidedNodeLabels(),this.$i);this.$f=new X(this.$i,this.$b,bw);this.disposables.add$1(this.addChildViewModel(this.$f));this.set_focusState(1);for(var bB=0;bB<bz.SceneMarginLocation.length;++bB){if(bz.SceneMarginLocation[bB]===this.$i){var bC=bz.ElementType[bB];if(bC===0||bC===1){this.$d=new i(bw,bB,this.$j,this.$b);this.disposables.add$1(this.addChildViewModel(this.$d))}else if(bC===2){if(this.$a(bw,bB)){var bD=new D(bw,bB,this.$j,this.$b,bA);this.headerModels.push(bD);this.disposables.add$1(this.addChildViewModel(bD))}}else if(bC===3){this.$c=new A(bw.get_fieldLabels(),bz.PixelSize[bB],this.$i);this.disposables.add$1(this.addChildViewModel(this.$c))}}}var bE=new S(this.$i,bw.get_layoutTable(),bw.get_nodeData(),bz,bw.getFoldStateOfNodes());this.$h=new bg(bE,this.$i,bz.SceneMarginLocation);this.$4()},{get_model:function(){return this.$e},get_isMouseOverSortIndicator:function(){return this.$h.get_isMouseOverSortIndicator()},set_invokeSortCommand:function(bw){this.$3(bw)},get_page:function(){return this.$g},set_page:function(bw){this.$g=bw;if(!ss.isNullOrUndefined(this.$d)){this.$d.set_page(bw)}_.each(this.headerModels,function(bx){bx.set_page(bw)});this.$j.set_page(bw)},get_viewportSize:function(){return this.$m},set_viewportSize:function(bw){if(!tab.SizeUtil.equals(this.$m,bw)){this.$m=bw;if(!ss.isNullOrUndefined(this.$d)){this.$d.set_sceneMarginViewportSize(bw)}if(!ss.isNullOrUndefined(this.$c)){this.$c.set_sceneMarginViewportSize(bw)}if(!ss.isNullOrUndefined(this.$f)){this.$f.set_sceneMarginViewportSize(bw)}_.each(this.headerModels,function(bx){bx.set_sceneMarginViewportSize(bw)})}},get_scrollPos:function(){return this.$k},set_scrollPos:function(bw){if(!tab.PointUtil.equals(this.$k,bw)){this.$k=bw;if(!ss.isNullOrUndefined(this.$c)){this.$c.set_scrollPos(bw)}this.incrementProps()}},get_focusState:function(){return this.$3$1},set_focusState:function(bw){this.$3$1=bw},get_handleToggleSelectNode:function(){return this.$3$2},set_handleToggleSelectNode:function(bw){this.$3$2=bw},get_handleDeselectNode:function(){return this.$3$3},set_handleDeselectNode:function(bw){this.$3$3=bw},hitTestNodes:function(bw){return this.$h.hitTestNodes(bw)},getNodeWithId:function(bw){return this.$h.getNodeWithId(bw)},createInitialProps:function(){this.$j.updateSelection();return{sceneMarginLocation:this.$i,handleArrowKeyEvent:ss.mkdel(this,this.$6),handleEnterOrSpaceKeyEvent:ss.mkdel(this,this.$7),handleEscKeyEvent:ss.mkdel(this,this.$8),handleFocusLostEvent:ss.mkdel(this,this.$9),outerBorderProps:(ss.isNullOrUndefined(this.$f)?undefined:this.$f.get_props()),viewportSize:this.$m,borderDataModel:this.$b}},createUpdatedProps:function(){this.$j.updateSelection();var bw=this.headerModels.length;var bx=new Array(bw);for(var by=0;by<bw;++by){bx[by]=this.headerModels[by].get_props()}var bz=tab.SceneMarginModel.isHorizontal(this.$i);return{headerStackProps:bx,fieldLabelProps:(ss.isNullOrUndefined(this.$c)?undefined:this.$c.get_props()),axisProps:(ss.isNullOrUndefined(this.$d)?undefined:this.$d.get_props()),outerBorderProps:(ss.isNullOrUndefined(this.$f)?undefined:this.$f.get_props()),focusState:this.get_focusState(),scrollOffset:(bz?this.$k.x:this.$k.y),viewportSize:this.$m}},$4:function(){if(ss.isValue(this.$d)){this.$d.set_sortIndicatorHoverCallback(ss.mkdel(this.$h,this.$h.updateIsMouseOverSortIndicator))}for(var bw=0;bw<this.headerModels.length;bw++){var bx=this.headerModels[bw];bx.set_sortIndicatorHoverCallback(ss.mkdel(this.$h,this.$h.updateIsMouseOverSortIndicator))}},$3:function(bw){if(ss.isValue(this.$d)){this.$d.set_invokeSortCommand(bw)}for(var bx=0;bx<this.headerModels.length;bx++){var by=this.headerModels[bx];by.set_invokeSortCommand(bw)}},$6:function(bw,bx){if(this.get_focusState()===0){d.handleArrowKeyEvent(bw,bx,this.headerModels,this.$i)}},$7:function(bw){if(this.get_focusState()===1){if(this.headerModels.length>0){this.set_focusState(0);this.incrementProps();this.headerModels.forEach(function(bx){bx.updateHeaderNodesFocusState(true)});this.headerModels[0].findAndFocusIfPossible(0)}}else if(this.get_focusState()===0){this.get_handleToggleSelectNode()(bw)}},$8:function(){if(this.$l.isEmpty){this.set_focusState(1);this.headerModels.forEach(function(bw){bw.updateHeaderNodesFocusState(false)});this.incrementProps();document.getElementsByClassName(bb.getMarginClassName(this.$i))[0].focus()}this.get_handleDeselectNode()()},$9:function(){this.set_focusState(1);this.headerModels.forEach(function(bw){bw.updateHeaderNodesFocusState(false)});this.incrementProps()},$5:function(){return this.$e.get_layoutTable().AlongDirectionPixelSize[0]},$a:function(bw,bx){return bw.get_sceneMarginLayout().PixelSize[bx]>0}});var bk=global.tab.SelectionNode=ss.mkType(a,'tab.SelectionNode',function(){this.nodeHash=0;this.index=0;this.level=0});var bl=global.tab.TextOrientation=ss.mkEnum(a,'tab.TextOrientation',{horizontalText:0,downwardText:90,upwardText:-90});var bm=global.tab.TextStyleHelper=ss.mkType(a,'tab.TextStyleHelper',null,null,{getCssFromTextStyle:function(bw){return{fontFamily:bw.font,fontSize:bw.font_size+'pt',fontStyle:((tab.EnumConversions.tableauFontStyleFromInt(bw.font_style)==='font-style-italic')?'italic':'normal'),fontWeight:((tab.EnumConversions.fontWeightFromInt(bw.font_weight)==='font-weight-bold')?'bold':'normal')}}});var bn=global.tab.TickLabelComponent=ss.mkType(a,'tab.TickLabelComponent',function(bw){this.$7=false;spiff.PureRenderComponent.call(this,bw);this.$7=tab.SceneMarginModel.isHorizontal(this.props.sceneMarginLocation)},{render:function(){var bw=this.$6();var bx=_.map(_.range(0,this.props.tickLabelPositions.length),ss.mkdel(this,function(by){var bz=spiff.DOMElements.div({className:'tab-vizAxisTickLabelContent',style:bw},this.props.visibleTickLabels[by]);return spiff.DOMElements.div({className:'tab-vizAxisTickLabelAligner',key:'tick-label-'+by,style:this.$3(by)},bz)}));return spiff.DOMElements.div({className:'tab-vizAxisTickLabel',style:this.$5()},bx)},$6:function(){var bw={textDecorationLine:(this.props.tickLabelStyle.underline?'underline':'none')};if(this.props.tickLabelStyle.text_orientation===0){bw.overflowX='hidden';bw.overflowY='visible'}else{bw.overflowX='visible';bw.overflowY='hidden'}return bw},$3:function(bw){var bx=this.$2(bw);var by=this.$1(bx);if(this.props.tickLabelStyle.text_orientation===-90){by.transform='rotate(180deg)'}return this.$0(by)},$2:function(bw){var bx=this.$4(bw);var by=this.props.tickLabelPositions[bw]-ss.idiv(bx,2);if(by<0){return 0}else if(by+bx>this.props.alongAxisPixelSize){return this.props.alongAxisPixelSize-bx}return by},$4:function(bw){var bx=this.props.tickLabelStyle.text_orientation===0;var by=!!(this.$7^bx);if(by){return this.props.measuredLabelHeight}return this.props.measuredLabelWidths[bw]},$0:function(bw){var bx=ss.formatString('{0}px',this.props.majorTickSize+2);if(this.props.sceneMarginLocation===0){bw.bottom=bx}else if(this.props.sceneMarginLocation===1){bw.top=bx}else if(this.props.sceneMarginLocation===3){bw.right=bx}else if(this.props.sceneMarginLocation===2){bw.left=bx}return bw},$5:function(){var bw=bm.getCssFromTextStyle(this.props.tickLabelStyle);bw.color=tab.ColorModel.fromArgbInt(this.props.tickLabelStyle.text_style_color).toRgbHex();if(this.props.tickLabelStyle.text_orientation!==0){bw.writingMode=(BrowserSupport.BrowserSupport.IsIE()?'tb-lr':'vertical-lr')}return bw},$1:function(bw){var bx=this.props.alongAxisPixelSize+'px';var by=ss.formatString('{0}px',this.props.pixelSize-this.props.majorTickSize-2);if(this.$7){return{left:bw+'px',maxWidth:bx,maxHeight:by}}else{return{top:bw+'px',maxHeight:bx,maxWidth:by}}}});var bo=global.tab.TickLabelProps=ss.mkType(a,'tab.TickLabelProps',function(){this.alongAxisPixelSize=0;this.pixelSize=0;this.majorTickSize=0;this.sceneMarginLocation=0;this.tickLabelPositions=null;this.visibleTickLabels=null;this.tickLabelStyle=null;this.measuredLabelWidths=null;this.measuredLabelHeight=0});var bp=global.tab.TickMarkComponent=ss.mkType(a,'tab.TickMarkComponent',function(bw){spiff.PureRenderComponent.call(this,bw)},{render:function(){var bw=(ss.isNullOrUndefined(this.props.majorTicks)?null:_.map(_.range(0,this.props.majorTicks.length),ss.mkdel(this,function(bz){return spiff.DOMElements.line(this.$0(bz,false))})));var bx=(ss.isNullOrUndefined(this.props.minorTicks)?null:_.map(_.range(0,this.props.minorTicks.length),ss.mkdel(this,function(bz){return spiff.DOMElements.line(this.$0(bz,true))})));var by=this.props.sceneMarginLocation===3||this.props.sceneMarginLocation===2;return spiff.DOMElements.svg({className:'tab-vizAxisTick',width:(by?this.props.majorTickSize:this.props.alongAxisPixelSize),height:(by?this.props.alongAxisPixelSize:this.props.majorTickSize),style:this.$1()},bw,bx)},$0:function(bw,bx){var by={key:'tick-'+bw,stroke:this.props.tickMarkColor.toRgbHex(),strokeWidth:'1px',opacity:this.props.tickMarkColor.get_a().toString()};var bz=(bx?this.props.minorTicks[bw]:this.props.majorTicks[bw]);bz+=0.5;var bA=(bx?this.props.minorTickSize:this.props.majorTickSize);switch(this.props.sceneMarginLocation){case 3:case 2:{by.transform=ss.formatString('translate(0, {0})',bz);by.x2=bA;by.y2=0;break}case 1:case 0:{by.transform=ss.formatString('translate({0}, 0)',bz);by.x2=0;by.y2=bA;break}}return by},$1:function(){var bw={position:'absolute'};switch(this.props.sceneMarginLocation){case 3:{bw.top='0px';bw.left=this.props.pixelSize-this.props.majorTickSize+'px';break}case 1:{bw.top='0px';bw.left='0px';break}case 0:{bw.top=this.props.pixelSize-this.props.majorTickSize+'px';bw.left='0px';break}case 2:{bw.top='0px';bw.left='1px';break}}return bw}});var bq=global.tab.TickPlacement=ss.mkType(a,'tab.TickPlacement',null,null,{$f:function(bw,bx,by){var bz=null;if(ss.isValue(bw)){var bA=bw[by];if(bA>=0){var bB=bx[bA];bz=bB[32]}}return bz},getTickLabels:function(bw,bx,by,bz){return bq.getTickLabelsAndIsFirstTickOutsideViewPort(bw,bx,by,bz,new O(1,true,true)).tickLabels},getTickLabelsAndIsFirstTickOutsideViewPort:function(bw,bx,by,bz,bA){var bB=bw.PerHeaderMajorTickPlacement;var bC=bq.$f(bw.PerHeaderMajorTickPlacement.UpdatedColumnFormatIndex,bw.UpdatedColumnFormat,by);if(ss.isNullOrUndefined(bC)){bC=bq.$f(bw.PerHeaderMajorTickPlacement.ColumnFormatIndex,bw.ColumnFormat,by)}var bD=new bv([],false);if(ss.isNullOrUndefined(bC)){return bD}var bE=tab.RuntimeFormattingHooks.registerRealFormattingTuple(bC);var bF=bq.$k(bw,by,false);switch(bF){case 2:{bD.tickLabels=bq.$c(bB,bx,by,bA,bC);break}case 1:{var bG=bB.Spacing[by];var bH=bB.Origin[by];bD.tickLabels=bq.$6(bq.$t(bG,bH,bA),bE,bz);break}case 3:{var bI=bq.$j(bw,by);bD.isFirstTickOutsideViewPort=bI.length===0||bI[0]<bz.min;bD.tickLabels=bq.$a(bI,bE,bz,bA);break}default:{break}}return bD},$c:function(bw,bx,by,bz,bA){var bB=null;var bC=bw.DateTimeFormatString[by];if(!tab.MiscUtil.isNullOrEmpty$1(bC)){bB=ss.replaceAllString(bC,"'",'"')}else{var bD=JSON.parse(bA);bB=((bD.length>0)?bD[0]:null)}var bE=tab.RuntimeFormattingHooks.registerDateTimeFormattingTuple(bB);return bq.$5(bq.$2(bw,bx,by,bz),bE)},getTickLabelPositions:function(bw,bx,by){var bz=[];var bA=bq.$g(bx,by);for(var bB=bA;bB<bw.length;bB+=bx.get_skip()){if(bx.get_includeLastLabel()||bB+bx.get_skip()<bw.length){bz.push(bw[bB])}}return bz},$g:function(bw,bx){if(bx){return Math.max(0,bw.get_skip()-1)}return(bw.get_includeFirstLabel()?0:bw.get_skip())},getTickLabelStyle:function(bw,bx){var by=bw.PerHeaderMajorTickPlacement;var bz=by.LabelStyleIndex[bx];var bA=bw.LabelStyle[bz];var bB=tab.TupleDatastoreConversions.textStyleFromTuple(bA);return bB},getTickPlacement$1:function(bw,bx,by,bz,bA,bB){var bC=bq.$h(bw,bA.getMinorTicks);if(ss.isNullOrUndefined(bC)){return null}var bD=bq.$k(bw,bz,bA.getMinorTicks);var bE=bq.$r(bC,bz);var bF=[];switch(bD){case 3:{var bG=bq.$d(bC,bz);var bH=bq.$e(bw,bG,bA.getMinorTicks);bF=bq.$v(bx,by,bH,bA.reversed,bE,bA.xAxis);break}case 2:{bF=bq.$3(bx,by,bC,bz,bA.reversed,bA.xAxis,bE);break}case 1:{var bI=bq.$8(by,bC.Spacing[bz],false);if(!bB){bI=bq.updateLinearTickSpacing(bI)}var bJ=bq.$8(by,bC.Origin[bz],bA.reversed);bF=bq.$u(bx,by,bI,bJ,bE,bA.reversed,bA.xAxis);break}default:{break}}return bF},getTickPlacement:function(bw,bx,by,bz,bA){if(ss.isNullOrUndefined(bz)){bz=new br(false,true,false)}var bB=(bz.xAxis?bx.x:bx.y);var bC=(bz.xAxis?bx.w:bx.h);return bq.getTickPlacement$1(bw,bB,bC,by,bz,bA)},getTicksForMultiPanes:function(bw,bx){if(ss.isValue(bw)&&bx!==0&&bw[0]===0){var by=ss.arrayClone(bw);ss.removeAt(by,0);return by}return bw},$h:function(bw,bx){return(bx?bw.PerHeaderMinorTickPlacement:bw.PerHeaderMajorTickPlacement)},$p:function(bw,bx){var by=(bx?bw.EncodedMinorTickPositions:bw.EncodedTickPositions);return!ss.isNullOrUndefined(by)&&!ss.isNullOrUndefined(bq.$h(bw,bx).EncodedTickPositionsIndex)},$o:function(bw){return!ss.isNullOrUndefined(bw.DateTimeOrigin)&&!ss.isNullOrUndefined(bw.DateTimeSpacing)&&!ss.isNullOrUndefined(bw.DateTimeSpacingUnit)&&!ss.isNullOrUndefined(bw.EncodingMin)&&!ss.isNullOrUndefined(bw.EncodingMax)},$q:function(bw){return!ss.isNullOrUndefined(bw.Spacing)&&!ss.isNullOrUndefined(bw.Origin)},$s:function(bw,bx,by,bz){return!bz&&(Math.floor(by)===bw||ss.round(by)>=bw+bx)},$r:function(bw,bx){return(!ss.isNullOrUndefined(bw.IncludeViewEdges)?bw.IncludeViewEdges[bx]:true)},$d:function(bw,bx){return bw.EncodedTickPositionsIndex[bx]},$e:function(bw,bx,by){return(by?bw.EncodedMinorTickPositions[bx]:bw.EncodedTickPositions[bx])},$7:function(bw,bx){return(bx?(1-bw):bw)},$8:function(bw,bx,by){return bq.$7(bx,by)*bw},$0:function(bw,bx,by,bz){return Math.floor(bw+bq.$8(bx,by,bz))},$1:function(bw,bx,by,bz){return Math.floor(bw+bx-bq.$8(bx,by,bz))},formatDateTime:function(bw){if(!(bw.indexOf('T')!==-1)){bw+='T00:00:00'}return new Date(bw+'Z')},$4:function(bw,bx,by){var bz=tab.DateUtil.dateTimeAsOleDate(by)-tab.DateUtil.dateTimeAsOleDate(bx);return(tab.DateUtil.dateTimeAsOleDate(bw)-tab.DateUtil.dateTimeAsOleDate(bx))/bz},$k:function(bw,bx,by){var bz=bq.$h(bw,by);if(bq.$p(bw,by)){var bA=bq.$d(bz,bx);if(bA>=0&&bA<=2147483647){return 3}}if(bq.$o(bz)){var bB=bz.DateTimeSpacing[bx];if(bB>0){return 2}}if(bq.$q(bz)){var bC=bz.Spacing[bx];if(bC>1.40129846432482E-45){return 1}}return 0},updateLinearTickSpacing:function(bw){return((bw<2)?2:bw)},$u:function(bw,bx,by,bz,bA,bB,bC){if(bB&&bC||!bB&&!bC){return bq.$l(bw,bx,by,bz,bA,bC)}else{return bq.$m(bw,bx,by,bz,bA,bC)}},$t:function(bw,bx,by){var bz=bx%bw;var bA=(by.get_includeFirstLabel()?bz:(bz+by.get_skip()*bw));var bB=[];do{var bC=bA+by.get_skip()*bw;if(bC<=1||by.get_includeLastLabel()){bB.push(bA)}bA=bC}while(bA<=1);return bB},$m:function(bw,bx,by,bz,bA,bB){var bC=(bB?bz:(bw+bx-bz))%by;var bD=bw+bC;var bE=bw+bx;var bF=[];do{if(!bq.$s(bw,bx,bD,bA)){bF.push(ss.round(bD))}bD+=by}while(ss.round(bD)<=bE);return bF},$l:function(bw,bx,by,bz,bA,bB){var bC=(bB?(bw+bx-bz):bz)%by;var bD=bw+bx-bC;var bE=[];do{if(!bq.$s(bw,bx,bD,bA)){bE.push(ss.round(bD))}bD-=by}while(ss.round(bD)>=bw);return bE},$v:function(bw,bx,by,bz,bA,bB){var bC=[];for(var bD=0;bD<by.length;bD++){var bE=by[bD];var bF=(bB?bq.$0(bw,bx,bE,bz):bq.$1(bw,bx,bE,bz));if(bw<=bF&&bw+bx>=bF&&!bq.$s(bw,bx,bF,bA)){bC.push(bF)}}return bC},$b:function(bw,bx){var by=new Date;var bz=tab.DateUtil.adjustDateByPeriodInUTC(by,bw,bx);return tab.DateUtil.dateTimeAsOleDate(bz)-tab.DateUtil.dateTimeAsOleDate(by)},$9:function(bw,bx,by,bz){var bA=bq.$b(by,bz);var bB=Math.floor((tab.DateUtil.dateTimeAsOleDate(bw)-tab.DateUtil.dateTimeAsOleDate(bx))/bA);return tab.DateUtil.adjustDateByPeriodInUTC(bw,by,-1*bB*bz)},$i:function(bw,bx,by,bz,bA){var bB=bq.$b(by,bz);var bC=Math.floor((tab.DateUtil.dateTimeAsOleDate(bx)-tab.DateUtil.dateTimeAsOleDate(bw))/bB);if(bC<ss.idiv(bA,2)){return bz}return ss.idiv(bz*(2*bC),bA)},$3:function(bw,bx,by,bz,bA,bB,bC){var bD=bq.formatDateTime(by.DateTimeOrigin[bz]);var bE=bq.formatDateTime(by.EncodingMin[bz]);var bF=bq.formatDateTime(by.EncodingMax[bz]);var bG=tab.EnumConversions.datePeriodTypeFromInt(by.DateTimeSpacingUnit[bz]);var bH=by.DateTimeSpacing[bz];var bI=bq.$i(bE,bF,bG,bH,bx);var bJ=[];if(ss.staticEquals(bE,bF)){var bK=(bB?bq.$0(bw,bx,0.5,bA):bq.$1(bw,bx,0.5,bA));if(!bq.$s(bw,bx,bK,bC)){bJ.push(bK)}return bJ}var bL=bq.$9(bD,bE,bG,bH);do{if(bE<=bL&&bF>=bL){var bM=bq.$4(bL,bE,bF);var bN=(bB?bq.$0(bw,bx,bM,bA):bq.$1(bw,bx,bM,bA));if(!bq.$s(bw,bx,bN,bC)){bJ.push(bN)}}bL=tab.DateUtil.adjustDateByPeriodInUTC(bL,bG,bI)}while(bL<=bF);return bJ},$2:function(bw,bx,by,bz){var bA=bq.formatDateTime(bw.DateTimeOrigin[by]);var bB=bq.formatDateTime(bw.EncodingMin[by]);var bC=bq.formatDateTime(bw.EncodingMax[by]);var bD=tab.EnumConversions.datePeriodTypeFromInt(bw.DateTimeSpacingUnit[by]);var bE=bw.DateTimeSpacing[by];var bF=bq.$i(bB,bC,bD,bE,bx);bF=bF*bz.get_skip();var bG=[];if(ss.staticEquals(bB,bC)){if(bz.get_includeFirstLabel()&&bz.get_includeLastLabel()){bG.push(bA)}return bG}var bH=bq.$9(bA,bB,bD,bE);var bI=true;do{if(bB<=bH&&bC>=bH){if(bz.get_includeFirstLabel()||!bI){bG.push(bH)}if(bI){bI=false}}bH=tab.DateUtil.adjustDateByPeriodInUTC(bH,bD,bF)}while(bH<=bC);if(!bz.get_includeLastLabel()&&bG.length>0){ss.removeAt(bG,bG.length-1)}return bG},$j:function(bw,bx){var by=bw.PerHeaderMajorTickPlacement.EncodedTickPositionsIndex[bx];return bw.TickLabelValues[by]},$6:function(bw,bx,by){var bz=by.max-by.min;return _.map(bw,function(bA){return tab.RuntimeFormattingHooks.formatRealValue(by.min+bA*bz,bx)})},$5:function(bw,bx){return _.map(bw,function(by){return tab.RuntimeFormattingHooks.formatDateTimeValue(by,bx)})},$a:function(bw,bx,by,bz){var bA=[];var bB=bq.$n(bw,by,bz);for(var bC=0;bC<bB.length;bC++){var bD=bB[bC];if(bD<=by.max&&bD>=by.min){bA.push(tab.RuntimeFormattingHooks.formatRealValue(bD,bx))}}return bA},$n:function(bw,bx,by){var bz=[];if(bw.length===0){return bz}var bA=(by.get_includeFirstLabel()?0:by.get_skip());while(bA<bw.length){var bB=bw[bA];var bC=!by.get_includeLastLabel()&&(bA+by.get_skip()>=bw.length||bw[bA+by.get_skip()]>bx.max);if(bB>=bx.min&&bB<=bx.max&&!bC){bz.push(bB)}bA+=by.get_skip()}return bz}});var br=global.tab.TickPlacementConfig=ss.mkType(a,'tab.TickPlacementConfig',function(bw,bx,by){this.reversed=false;this.xAxis=false;this.getMinorTicks=false;this.reversed=bw;this.xAxis=bx;this.getMinorTicks=by});var bs=global.tab.TotalNode=ss.mkType(a,'tab.TotalNode',function(){this.label=null;this.stretchedPixelSize=0});var bt=global.tab.TotalNodeMap=ss.mkType(a,'tab.TotalNodeMap',function(bw,bx,by,bz,bA){this.$2=null;this.$2={};if(bA===1){return}this.$1(bw,bx,bz,by,bA)},{getTotalNode:function(bw,bx){return this.$2[bt.$2(bw,bx)]},$0:function(bw,bx){var by=new ss.ObjectEnumerator(bx);try{while(by.moveNext()){var bz=by.current();var bA=bz.value;var bB=bx[bt.$2(bA.$4-1,bA.$0)];var bC;var bD=0;if(ss.isValue(bB)){bA.$3=bB.$3;bC=bB.$3;if(bB.$2||bB.$1){bA.$1=true}else{bD=bw[bA.$4].item2}}else{bC=bA.$3;bD=bw[bA.$4].item2}var bE=this.$2;var bF=bz.key;var bG=new bs;bG.label=bC;bG.stretchedPixelSize=bD;bE[bF]=bG}}finally{by.dispose()}},$1:function(bw,bx,by,bz,bA){var bB={};var bC=bt.$0(bz,bA);var bD=new Array(bC.length);for(var bE=0;bE<bD.length;bE++){bD[bE]=0}for(var bF=0;bF<bw.Level.length;bF++){var bG=bw.Level[bF];if(ss.isNullOrUndefined(bC[bG])){continue}var bH=bD[bG];bD[bG]++;if(bx[bF]===0){continue}var bI=bw.Label[bF-1];var bJ=(ss.isNullOrUndefined(by)?bI:by[bF]);var bK=new b;bK.$3=T.getLabelText(bI,bJ);bK.$2=bt.$1(bC[bG]);bK.$0=bw.EnclosedIndex[bF];bK.$4=bG;var bL=bK;bB[bt.$2(bG,bH)]=bL}if(bC.length>0){this.$0(bC,bB)}}},{$0:function(bw,bx){var by=[];for(var bz=0;bz<bw.SceneMarginLocation.length;bz++){if(bx===bw.SceneMarginLocation[bz]&&bw.ElementType[bz]===2){by[bw.HeaderDepth[bz]]={item1:bw.PixelSize[bz],item2:bw.StretchedPixelSize[bz]}}}return by},$2:function(bw,bx){return bw+':'+bx},$1:function(bw){return!!(bw.item2>bw.item1&bw.item1>0)}});var bu=global.tab.VAlign=ss.mkEnum(a,'tab.VAlign',{bottom:0,vCenter:1,top:2,vAutomatic:3});var bv=global.tab.VisibleTickLabelsResult=ss.mkType(a,'tab.VisibleTickLabelsResult',function(bw,bx){this.tickLabels=null;this.isFirstTickOutsideViewPort=false;this.tickLabels=bw;this.isFirstTickOutsideViewPort=bx});ss.initClass(b);ss.initClass(d);ss.initClass(e,KeyboardShortcuts.BaseKeyboardShortcut,[KeyboardShortcuts.IKeyboardShortcut]);ss.initClass(f);ss.initClass(g,spiff.PureRenderComponent);ss.initClass(h,spiff.PureRenderComponent);ss.initClass(i,ss.makeGenericType(o,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(j);ss.initClass(k,spiff.PureRenderComponent);ss.initClass(l);ss.initClass(m);ss.initClass(n,spiff.PureRenderComponent);ss.initClass(p,null,[tab.IRegionContentProvider,spiff.IScrollable]);ss.initClass(q);ss.initClass(r,spiff.PureRenderComponent);ss.initClass(s);ss.initClass(t);ss.initClass(v,spiff.PureRenderComponent);ss.initClass(w);ss.initClass(x);ss.initClass(y);ss.initClass(z,spiff.PureRenderComponent);ss.initClass(A,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(C,spiff.PureRenderComponent);ss.initClass(D,ss.makeGenericType(o,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(E);ss.initClass(F,spiff.PureRenderComponent);ss.initClass(G);ss.initClass(H);H.$ctor1.prototype=H.prototype;ss.initClass(I,spiff.PureRenderComponent);ss.initClass(J,spiff.PureRenderComponent);ss.initClass(L);ss.initClass(M);ss.initClass(N);ss.initClass(O);ss.initClass(P);ss.initClass(Q);ss.initClass(R);ss.initClass(S);ss.initClass(T);ss.initClass(U,spiff.PureRenderComponent);ss.initClass(V);ss.initClass(W,spiff.PureRenderComponent);ss.initClass(X,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(Y);ss.initClass(Z);ss.initClass(ba);ss.initClass(bb,spiff.PureRenderComponent);ss.initClass(bc,p,[tab.IRegionContentProvider,spiff.IScrollable]);ss.initClass(bd,KeyboardShortcuts.BaseKeyboardShortcut,[KeyboardShortcuts.IKeyboardShortcut]);ss.initClass(be,KeyboardShortcuts.BaseKeyboardShortcut,[KeyboardShortcuts.IKeyboardShortcut]);ss.initClass(bg);ss.initClass(bh);ss.initClass(bi);ss.initClass(bj,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bk);ss.initClass(bm);ss.initClass(bn,spiff.PureRenderComponent);ss.initClass(bo);ss.initClass(bp,spiff.PureRenderComponent);ss.initClass(bq);ss.initClass(br);ss.initClass(bs);ss.initClass(bt);ss.initClass(bv);(function(){n.multiLineAxisTitleContainerClass='tab-multiLineAxisTitleContainer';n.singleLineAxisTitleContainerClass='tab-singleLineAxisTitleContainer'})();(function(){bn.tickLabelAlignerClass='tab-vizAxisTickLabelAligner';bn.tickLabelContentClass='tab-vizAxisTickLabelContent';bn.$0=2})();(function(){m.sortIndicatorSize=15})();(function(){r.$2='crispEdges';r.$3=6})();(function(){z.fieldLabelClass='tab-vizHeaderFieldLabel'})();(function(){I.nonSkippedTextLabelContainerClass='tab-vizHeaderNonSkippedLabelContainer'})();(function(){G.$2=new tab.ColorModel(255,255,255,0);G.$1=new tab.ColorModel(0,0,0,1)})()})();;
/*! BEGIN VizZone */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlvizzone');var b=ss.mkType(a,'tab.$0',function(L){this.$8=null;this.$c=null;this.$9=false;this.$a=0;this.$b=null;this.$c=L;this.$9=false;this.$a=0},{$7:function(){return this.$c},$4:function(){return this.$9},$5:function(){if(!this.$4()){}return this.$a},$6:function(){return(this.$9?this.$b:null)},$3:function(L,cH,cI){this.$a=L;this.$8=cH;this.$9=true;this.$b=cI},$0:function(){this.$9=false;this.$b=null},$2:function(L,cH){return this.$1(L,cH)&&this.$9},$1:function(L,cH){return this.$a===L&&this.$8===cH}});var c=ss.mkType(a,'tab.$1',function(L){this.$e=0;this.$g=-1;this.$f=null;this.$d=true;this.$1$1=null;this.$1$2=null;this.$e=L;this.$g=-1;this.$d=true},{$3:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},$4:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},$5:function(L){this.$1$2=ss.delegateCombine(this.$1$2,L)},$6:function(L){this.$1$2=ss.delegateRemove(this.$1$2,L)},$2:function(){return!this.$d},$0:function(){this.$7()},$1:function(L){if(ss.isNullOrUndefined(L)){this.$b();return}if(this.$g!==-1){window.clearTimeout(this.$g);this.$g=-1}this.$f=L;this.$d=false;this.$7();var cH=true;var cI=L.get_imageNode();var cJ=$(cI);if(ss.isNullOrUndefined(cI)){var cK=document.createElement('img');L.set_imageNode(cK);cI=cK;cJ=$(cI)}else{cH=tab.DoubleUtil.roundToInt(cJ.width())!==L.get_bounds().w||tab.DoubleUtil.roundToInt(cJ.height())!==L.get_bounds().h;cI.style.visibility=''}if(cH){$(cI).css(ss.mkdict(['left',L.get_bounds().l+'px','top',L.get_bounds().t+'px']))}cJ.attr('draggable','false');cJ.on('load',ss.mkdel(this,this.$9));cJ.on('error',ss.mkdel(this,this.$8));cJ.on('abort',ss.mkdel(this,this.$9));this.$g=window.setTimeout(ss.mkdel(this,function(){this.$a()}),600000);var cL=cJ.attr('src');if(!BrowserSupport.BrowserSupport.ImageLoadIsSynchronous()){cJ.attr('src',L.get_src())}else{window.setTimeout(function(){cJ.attr('src',L.get_src())},0)}if(ss.referenceEquals(L.get_src(),cL)&&!BrowserSupport.BrowserSupport.RaisesEventOnImageReassignment()){window.setTimeout(ss.mkdel(this,function(){this.$9(null)}),0)}},$7:function(){if(ss.isValue(this.$f)&&ss.isValue(this.$f.get_imageNode())){var L=$(this.$f.get_imageNode());if(ss.isValue(L)){L.on('load',ss.mkdel(this,this.$9));L.on('error',ss.mkdel(this,this.$9));L.on('abort',ss.mkdel(this,this.$9))}}},$8:function(L){if(ss.isValue(L.currentTarget)){L.currentTarget.style.visibility='none'}this.$9(L)},$9:function(L){window.clearTimeout(this.$g);this.$g=-1;if(this.$d){return}this.$d=true;this.$b()},$a:function(){this.$d=true;this.$g=-1;this.$7();this.$c()},$b:function(){if(ss.isValue(this.$1$1)){this.$1$1(this,new cE(this.$e,this.$f))}},$c:function(){if(ss.isValue(this.$1$2)){this.$1$2(this,new cF(this.$e))}}});var d=ss.mkType(a,'tab.$10',function(){this.$1=null;spiff.Template.call(this,$("<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"));this.$1=this.getElementBySelector('.tabMapsSearchView')},{get_template:function(){return this},get_mapsSearchViewRootElement:function(){return this.$1}});var e=ss.mkType(a,'tab.$2',function(L,cH){this.$1$1=null;this.$1$2=0;this.$1(L);this.$3(cH)},{$0:function(){return this.$1$1},$1:function(L){this.$1$1=L},$2:function(){return this.$1$2},$3:function(L){this.$1$2=L}});var f=ss.mkType(a,'tab.$3',function(){this.$6=null;this.$7=null;this.$8=null;spiff.Template.call(this,$("<div><div class='tabLeafletMapHolder'></div><div class='tabLeftBarnDoor'></div><div class='tabRightBarnDoor'></div></div>"));this.$6=this.getElementBySelector('.tabLeftBarnDoor');this.$7=this.getElementBySelector('.tabRightBarnDoor');this.$8=this.getElementBySelector('.tabLeafletMapHolder');var L=ss.mkdict(['position','absolute','top','0px','bottom','0px']);this.$6.css(L);this.$7.css(L);this.$6.css('left','0px');this.$7.css('right','0px');if(BrowserSupport.BrowserSupport.IsIE()){this.$6.css('z-index','10');this.$7.css('z-index','10')}},{$4:function(){return this.$8.get(0)},$5:function(){return tab.DoubleUtil.roundToInt(this.$8.width())},$3:function(L){var cH=ss.mkdict(['backgroundColor',L.get_mapBGFillColor()]);this.$6.css(cH);this.$7.css(cH);var cI=ss.mkdict(['backgroundColor',L.get_mapHolderBackgroundColor()]);this.$8.css(cI)},$1:function(L,cH){var cI=ss.mkdict(['width',L+'px']);if(cH){this.$6.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated');this.$7.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated')}this.$6.css(cI);this.$7.css(cI)},$2:function(){this.$6.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated');this.$7.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated')}});var g=ss.mkType(a,'tab.$4',function(L,cH){this.$1$1=null;this.$1$2=0;this.$1(L);this.$3(cH)},{$0:function(){return this.$1$1},$1:function(L){this.$1$1=L},$2:function(){return this.$1$2},$3:function(L){this.$1$2=L}});var h=ss.mkType(a,'tab.$5',function(){this.$4=null;this.$1=0;this.$1=-1},{$2:function(){return this.$4},$3:function(L){this.$4=L},$0:function(L,cH){if(!ss.isValue(this.$4)){return false}return ss.referenceEquals(this.$4.getAttribute('src'),L)&&this.$1===cH}});var i=ss.mkType(a,'tab.$6',function(L){this.$2=null;this.$3=null;this.$5=null;this.$4=false;this.$5=L;this.$4=this.$5==='selected'||this.$5==='highlighted'||this.$5==='hover'},{$1:function(){return this.$5},$0:function(){return this.$4}});var j=ss.mkType(a,'tab.$7',function(L){this.$1=0;this.$6=0;this.$5=null;this.$4=null;this.$3=null;this.$8=null;this.$7=null;this.$b=null;this.$a=0;this.$2=null;this.$9=null;this.$1=L.get_alpha();this.$4=L.get_lineJoin();this.$3=L.get_lineCap();this.$5=L.get_linePattern();this.$8=L.get_strokeStyle();this.$6=L.get_lineWidth();this.$a=L.get_textAngle();this.$2=L.get_font();this.$7=L.get_shapeFillStyle();this.$b=L.get_textFillStyle();this.$9=L.get_textAlign()},{$0:function(L){L.set_alpha(this.$1);L.set_lineJoin(this.$4);L.set_lineCap(this.$3);L.set_linePattern(this.$5);L.set_strokeStyle(this.$8);L.set_lineWidth(this.$6);L.set_textAngle(this.$a);L.set_font(this.$2);L.set_shapeFillStyle(this.$7);L.set_textFillStyle(this.$b);L.set_textAlign(this.$9)}});var k=ss.mkType(a,'tab.$8',function(L,cH){this.$1=null;this.$0=null;this.$1=L;this.$0=cH});var l=ss.mkType(a,'tab.$9');var m=global.tab.AnnotationDragHandler=ss.mkType(a,'tab.AnnotationDragHandler',function(L){this.$4=null;this.dragType=0;this.visualId=null;this.dragDictionary=null;this.dragOffset=null;this.vizRegion=null;this.scrollOffset=null;this.$3=new q;this.$4=null;this.dragType=0;this.visualId=L.visualId;this.dragDictionary=null;this.dragOffset={x:0,y:0};this.vizRegion={x:0,y:0,w:0,h:0};this.scrollOffset={x:0,y:0}},{get_dragObjectDictionary:function(){if(ss.isNullOrUndefined(this.dragDictionary)){this.dragDictionary=ss.mkdict([p.movePointTargetHandler,2,p.resizeHandlerPre+p.SE,9,p.resizeHandlerPre+p.NE,7,p.resizeHandlerPre+p.SW,10,p.resizeHandlerPre+p.NW,8,p.resizeHandlerPre+p.n,3,p.resizeHandlerPre+p.s,5,p.resizeHandlerPre+p.e,4,p.resizeHandlerPre+p.w,6])}return this.dragDictionary},get_isDragging:function(){return this.dragType!==0&&ss.isValue(this.get_currentAnnotation())},get_isResizing:function(){return this.get_isDragging()&&this.dragType!==1&&this.dragType!==2},get_isMovingPointTarget:function(){return this.get_isDragging()&&this.dragType===2},get_currentAnnotation:function(){return this.$4},set_currentAnnotation:function(L){this.$4=L},get_domRegion:function(){return this.vizRegion},set_domRegion:function(L){this.vizRegion=L},get_validRegion:function(){return this.convertToAbsolute$1({x:0,y:0,w:this.get_domRegion().w-m.regionPadding,h:this.get_domRegion().h-m.regionPadding})},get_snappingRegion:function(){var L=(ss.isValue(this.get_currentAnnotation())?this.get_currentAnnotation().areaRect.w:0);var cH=(ss.isValue(this.get_currentAnnotation())?this.get_currentAnnotation().areaRect.h:0);var cI=this.get_validRegion();cI.w=cI.w-L;cI.h=cI.h-cH;return cI},getShadow:function(L){this.$3.rectShadow=this.getBodyShadow(L);var cH=this.$0(L);this.$3.point1=cH.point1;this.$3.point2=cH.point2;return this.$3},getBodyShadow:function(L){if(!this.get_isDragging()||this.get_isMovingPointTarget()){return null}if(this.get_isResizing()){return this.convertToRelative$1(this.generateNewAnnotationRegion(this.convertToAbsolute(L)))}var cH=tab.PointUtil.subtract(L,this.dragOffset);var cI=this.convertToRelative$1(this.get_snappingRegion());var cJ=tab.RectXYUtil.clampCoords(cH,cI);return{x:cJ.x,y:cJ.y,w:this.get_currentAnnotation().areaRect.w,h:this.get_currentAnnotation().areaRect.h}},$0:function(L){var cH=new q;if(!this.get_isDragging()||this.get_isResizing()||this.get_currentAnnotation().annotateEnum==='area'){cH.point1=null;cH.point2=null}else if(this.dragType===1){var cI=tab.PointUtil.fromPresModel(this.get_currentAnnotation().targetPoint);cI=this.convertToRelative(cI);var cJ=m.getBestConnectionPoint(cI,this.$3.rectShadow);cH.point1=cJ;cH.point2=cI}else{var cK=tab.PointUtil.subtract(L,this.dragOffset);var cL=this.convertToRelative$1(this.get_validRegion());var cM=tab.RectXYUtil.clampCoords(cK,cL);var cN=tab.RectXYUtil.getCenter(tab.RectXYUtil.fromPresModel(this.get_currentAnnotation().areaRect));cN=this.convertToRelative(cN);var cO=ss.idiv(this.get_currentAnnotation().areaRect.w,2);var cP=ss.idiv(this.get_currentAnnotation().areaRect.h,2);var cQ={x:cN.x-cO,y:cN.y-cP,w:this.get_currentAnnotation().areaRect.w,h:this.get_currentAnnotation().areaRect.h};var cR=m.getBestConnectionPoint(L,cQ);cH.point1=cR;cH.point2=cM}return cH},canMoveAnnotation:function(L,cH){return L.get_hitObjectType()===2&&ss.keyExists(cH,L.get_id())},onHandlerMouseDown:function(L,cH){this.dragType=this.get_dragObjectDictionary()[L];this.set_currentAnnotation(cH)},canDrag:function(L,cH){return tsConfig.is_authoring&&p.canAnnotationInCurrentSheetType()&&ss.isValue(cH)&&(this.get_isResizing()||this.canMoveAnnotation(L,cH)||this.get_isMovingPointTarget())},clearDrag:function(){this.dragOffset.x=0;this.dragOffset.y=0;this.set_currentAnnotation(null);this.dragType=0},dragStarted:function(L,cH,cI){if(this.canDrag(L,cH)){if(!this.get_isResizing()&&!this.get_isMovingPointTarget()&&this.canMoveAnnotation(L,cH)){this.dragType=1;this.set_currentAnnotation(cH[L.get_id()]);this.$2(cI,this.get_currentAnnotation())}return true}this.clearDrag();return false},$2:function(L,cH){this.dragOffset.x=L.x-cH.areaRect.x;this.dragOffset.y=L.y-cH.areaRect.y},dragEnded:function(L){if(!this.get_isDragging()){return false}if(this.dragType===1){var cH=tab.PointUtil.subtract(L,this.dragOffset);var cI=tab.RectXYUtil.clampCoords(cH,this.get_snappingRegion());tab.AnnotationClientCommands.moveAnnotation(this.get_currentAnnotation(),this.visualId,cI);r.reportMovedAnnotationTelemetry(this.get_currentAnnotation().annotateEnum)}else if(this.dragType===2){var cJ=tab.RectXYUtil.clampCoords(L,this.get_validRegion());tab.AnnotationClientCommands.movePointTargetAnnotation(this.get_currentAnnotation(),this.visualId,cJ);r.reportMovedAnnotationPointTargetTelemetry()}else if(this.dragType!==0){var cK=this.generateNewAnnotationRegion(L);if(ss.isValue(cK)){tab.AnnotationClientCommands.resizeAnnotation(this.get_currentAnnotation(),this.visualId,cK);r.reportResizeAnnotationTelemetry(this.get_currentAnnotation().annotateEnum)}}this.clearDrag();return true},generateNewAnnotationRegion:function(L){var cH=this.get_currentAnnotation().areaRect;var cI={x:L.x,y:L.y};var cJ=cH.x;var cK=cH.y;var cL=cH.x+cH.w;var cM=cH.y+cH.h;var cN=null;switch(this.dragType){case 9:{cN={x:cJ,y:cK};break}case 7:{cN={x:cJ,y:cM};break}case 8:{cN={x:cL,y:cM};break}case 10:{cN={x:cL,y:cK};break}case 3:{cN={x:cJ,y:cM};cI.x=cL;break}case 5:{cN={x:cJ,y:cK};cI.x=cL;break}case 4:{cN={x:cJ,y:cK};cI.y=cM;cI.x=this.$1(cI.x,cJ);break}case 6:{cN={x:cL,y:cK};cI.y=cM;cI.x=this.$1(cI.x,cL);break}default:{return null}}cI=tab.RectXYUtil.clampCoords(cI,this.get_validRegion());return tab.RectXYUtil.rectXYFromCorners$2(cI.x,cI.y,cN.x,cN.y)},$1:function(L,cH){if(this.get_currentAnnotation().annotateEnum==='area'){return L}if(this.dragType===4){return Math.max(cH+m.minWidth,L)}if(this.dragType===6){return Math.min(cH-m.minWidth,L)}return L},convertToAbsolute:function(L){return tab.PointUtil.add(L,this.scrollOffset)},convertToRelative:function(L){return tab.PointUtil.subtract(L,this.scrollOffset)},convertToAbsolute$1:function(L){return tab.RectXYUtil.offsetRectXY(L,this.scrollOffset.x,this.scrollOffset.y)},convertToRelative$1:function(L){return tab.RectXYUtil.offsetRectXY(L,-this.scrollOffset.x,-this.scrollOffset.y)}},{getBestConnectionPoint:function(L,cH){var cI=tab.RectXYUtil.getCenter(cH);var cJ=cH.x;var cK=cH.x+cH.w;var cL=cH.y;var cM=cH.y+cH.h;var cN=cI.x;var cO=cI.y;var cP=L.x>=cJ&&L.x<=cK&&L.y<=cL;var cQ=L.x>=cJ&&L.x<=cK&&L.y>=cM;var cR=L.y>=cL&&L.y<=cM&&L.x<=cJ;var cS=tab.PointUtil.subtract(L,{x:cJ,y:cL});var cT=tab.PointUtil.subtract(L,{x:cK,y:cL});var cU=tab.PointUtil.subtract(L,{x:cJ,y:cM});var cV=tab.PointUtil.subtract(L,{x:cK,y:cM});if(cP||-cS.y>=Math.abs(cS.x)||-cT.y>Math.abs(cT.x)){return{x:cN,y:cL}}if(cQ||cU.y>=Math.abs(cU.x)||cV.y>Math.abs(cV.x)){return{x:cN,y:cM}}if(cR||Math.abs(cS.y)<=-cS.x||Math.abs(cU.y)<-cU.x){return{x:cJ,y:cO}}return{x:cK,y:cO}}});var n=global.tab.AnnotationDragType=ss.mkEnum(a,'tab.AnnotationDragType',{none:0,move:1,movePointTarget:2,resizeN:3,resizeE:4,resizeS:5,resizeW:6,resizeNE:7,resizeNW:8,resizeSE:9,resizeSW:10});var o=global.tab.AnnotationHitTestLink=ss.mkType(a,'tab.AnnotationHitTestLink',function(L){this.$0=null;Q.call(this,L)},{get_hitTestStructures:function(){if(ss.isValue(this.$0)){return this.$0}this.$0=[];var L=this.paneTableVM.get_visualModel().getAnnotationList();if(!ss.isValue(L)){return this.$0}for(var cH=0;cH<L.length;cH++){var cI=L[cH];var cJ=tab.RecordCast.rectPresModelAsRectXY(cI.areaRect);this.$0.push(new M(cJ,7,cI.annotationId,null,0));if(ss.isValue(cI.textRect)){this.$0.push(new M(tab.RecordCast.rectPresModelAsRectXY(cI.textRect),7,cI.annotationId,null,0))}}return this.$0},hitTest:function(L,cH){return o.getHitTestResult(L,this.get_hitTestStructures())},clearCache:function(){this.$0=null}},{getHitTestResult:function(L,cH){var cI=(ss.isValue(L)?{x:L.x,y:L.y,w:1,h:1}:null);for(var cJ=cH.length-1;cJ>=0;cJ--){if(tab.RectXYUtil.intersectsWith(cI,cH[cJ].get_boundingBox())){return[new S.$ctor1(cH[cJ].get_objectId(),2,3)]}}return[S.createEmptyHitTestResult()]}});var p=global.tab.AnnotationSelectionChromeViewModel=ss.mkType(a,'tab.AnnotationSelectionChromeViewModel',function(L,cH){this.visible=false;this.selectedAnnotations=null;this.hoverAnnotation=null;this.visualId=null;this.getAnnotationDictionary=null;this.$b=null;this.$a=null;this.dragHandler=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.visible=false;this.visualId=L;this.getAnnotationDictionary=cH;this.selectedAnnotations={};this.hoverAnnotation=null;this.dragHandler=new m(this);this.$a={x:0,y:0}},{get_annotationDictionary:function(){return this.getAnnotationDictionary()},$9:function(){var L=[];if(this.visible){L=this.nonNullAnnotations()}return L},nonNullAnnotations:function(){return tab.ListExtensions.where(Object).call(null,_.values(this.selectedAnnotations),function(L){return ss.isValue(L)})},isCaretMenuOpened:function(){return ss.isValue(this.$b)&&!this.$b.isHidden},setBounds:function(L){this.dragHandler.set_domRegion(L);this.updateRegionScroll();this.incrementProps()},updateRegionScroll:function(){if(ss.isValue(tab.ApplicationModel.get_instance().pm)&&!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.dragHandler.get_domRegion().x=this.dragHandler.scrollOffset.x;this.dragHandler.get_domRegion().y=this.dragHandler.scrollOffset.y}else{this.dragHandler.get_domRegion().x=0;this.dragHandler.get_domRegion().y=0}},setContextMenuViewModel:function(L){this.$b=L},$4:function(L,cH){var cI=this.hoverAnnotation;var cJ=_.keys(this.selectedAnnotations);if(!cH){ss.clearKeys(this.selectedAnnotations)}if(ss.keyExists(this.selectedAnnotations,L)&&!ss.referenceEquals(this.hoverAnnotation,this.selectedAnnotations[L])){delete this.selectedAnnotations[L]}else{this.hoverAnnotation=null;this.selectedAnnotations[L]=this.get_annotationDictionary()[L]}this.visible=ss.getKeyCount(this.selectedAnnotations)>0;if(!ss.referenceEquals(cI,this.hoverAnnotation)||!ss.referenceEquals(cJ,_.keys(this.selectedAnnotations))){this.incrementProps()}},handleAnnotationClicked:function(L,cH,cI){if(!p.canAnnotationInCurrentSheetType()||!tsConfig.is_authoring){return}if(this.$8(L,cH,cI)){return}this.$4(L,cI)},onHover:function(L){var cH=this.hoverAnnotation;if(L.get_hitObjectType()!==2||ss.keyExists(this.selectedAnnotations,L.get_id())){this.hoverAnnotation=null;this.visible=this.$5()}else if(!this.dragHandler.get_isDragging()){this.hoverAnnotation=this.get_annotationDictionary()[L.get_id()];this.visible=true}if(!ss.referenceEquals(cH,this.hoverAnnotation)){this.incrementProps()}},clearSelection:function(){if(!p.canAnnotationInCurrentSheetType()||!tsConfig.is_authoring){return}ss.clearKeys(this.selectedAnnotations);this.dragHandler.clearDrag();this.visible=ss.isValue(this.hoverAnnotation);this.incrementProps()},hideAll:function(){this.visible=false;this.incrementProps()},scrollX:function(L){this.dragHandler.scrollOffset.x=L;this.updateRegionScroll();this.incrementProps()},scrollY:function(L){this.dragHandler.scrollOffset.y=L;this.updateRegionScroll();this.incrementProps()},dragStarted:function(L,cH){if(BrowserSupport.BrowserSupport.IsSafari()){window.getSelection().removeAllRanges()}if(this.dragHandler.dragStarted(L,this.selectedAnnotations,cH)){var cI=this.dragHandler.get_currentAnnotation();ss.clearKeys(this.selectedAnnotations);this.selectedAnnotations[cI.annotationId]=cI;this.incrementProps();return true}this.hoverAnnotation=null;return false},onDrag:function(L){this.$a=this.dragHandler.convertToRelative(L);this.incrementProps()},dragEnded:function(L){if(BrowserSupport.BrowserSupport.IsSafari()){window.getSelection().removeAllRanges()}this.dragHandler.dragEnded(L);this.incrementProps()},update:function(){var L=this.get_annotationDictionary();_.map(Object.keys(this.selectedAnnotations),ss.mkdel(this,function(cH){return this.selectedAnnotations[cH]=L[cH]}));this.visible=this.$5();this.incrementProps()},deleteSelectedAnnotationsFromKeystroke:function(){var L=Array.prototype.slice.call(ss.arrayFromEnumerable(Object.keys(this.selectedAnnotations)));this.clearSelection();if(L.length>0){tab.AnnotationClientCommands.removeAnnotation(L,this.visualId);r.reportDeletedAnnotationTelemetry('Delete Key')}},handleRightClick:function(L,cH){this.$7(L.get_id(),cH,'ContextMenu',false)},$6:function(L,cH,cI){this.$7(L,cH,'Chevron',cI)},$3:function(){this.dragHandler.clearDrag();this.incrementProps()},createUpdatedProps:function(){return{visible:this.visible,renderRegion:this.dragHandler.get_domRegion(),hoveredAnnotation:this.hoverAnnotation,annotations:this.$9(),scrollOffset:this.dragHandler.scrollOffset,onHandlerMouseDown:ss.mkdel(this.dragHandler,this.dragHandler.onHandlerMouseDown),clearMouseUp:ss.mkdel(this,this.$3),shadow:this.dragHandler.getShadow(this.$a)}},$7:function(L,cH,cI,cJ){if(!ss.keyExists(this.selectedAnnotations,L)){this.$4(L,cJ)}var cK=new s(this.visualId,this.selectedAnnotations,cI,ss.mkdel(this,function(){this.clearSelection()}));this.$b.show(cH,[cK])},$8:function(L,cH,cI){if(ss.isNullOrUndefined(cH)||!cH.target.classList.contains('tabAuthoringAnnotationChevronIcon')||!ss.keyExists(this.get_annotationDictionary(),L)||ss.isNullOrUndefined(this.get_annotationDictionary()[L])){return false}var cJ=this.get_annotationDictionary()[L];var cK={x:cJ.areaRect.x+cJ.areaRect.w,y:cJ.areaRect.y};var cL=cH.target.getBoundingClientRect();var cM={x:cK.x-ss.trunc(cL.width),y:cK.y+ss.trunc(cL.height)};this.$6(L,cM,cI);return true},$5:function(){return this.nonNullAnnotations().length>0||ss.isValue(this.hoverAnnotation)},isDragging:function(){return this.dragHandler.get_isDragging()}},{canAnnotationInCurrentSheetType:function(){return tsConfig.current_sheet_type!=='story'}});var q=global.tab.AnnotationShadow=ss.mkType(a,'tab.AnnotationShadow',function(){this.rectShadow=null;this.point1=null;this.point2=null});var r=global.tab.AnnotationTelemetryUtil=ss.mkType(a,'tab.AnnotationTelemetryUtil',null,null,{$0:function(L){switch(L){case'area':{return'Area'}case'mark':{return'Mark'}case'point':{return'Point'}default:{return null}}},reportCreatedAnnotationTelemetry:function(L){r.$1(L,'Create','Context Menu')},reportDeletedAnnotationTelemetry:function(L){r.$1(null,'Delete',L)},reportMovedAnnotationTelemetry:function(L){r.$1(r.$0(L),'Move','Drag')},reportMovedAnnotationPointTargetTelemetry:function(){r.$1('Point','Move Point Target','Drag')},reportResizeAnnotationTelemetry:function(L){r.$1(r.$0(L),'Resize','Drag')},$1:function(L,cH,cI){if(tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Annotations',ss.mkdict(['AnnotationType',L,'Action',cH,'ActionFrom',cI]))}}});var s=global.tab.AnnotationVizContextMenuItemsHandler=ss.mkType(a,'tab.AnnotationVizContextMenuItemsHandler',function(L,cH,cI,cJ){this.$1=null;this.$0=null;this.$3=null;this.$2=null;this.$0=cJ;this.$3=L;this.$1=_.keys(cH);this.$2=cI},{buildMenuItems:function(){var L=[];if(this.$1.length>0){var cH=((this.$1.length>1)?tab.Strings.DeleteSelectedAnnotationFromVizContextMenu:tab.Strings.DeleteAnnotationFromVizContextMenu);L.push({value:'Delete Annotation',displayValue:cH,disabled:false})}if(this.$1.length===1){L.push({value:'Edit Annotation',displayValue:tab.Strings.EditAnnotationFromVizContextMenu,disabled:false})}return L},handleItemClicked:function(L){switch(L){case'Delete Annotation':{tab.AnnotationClientCommands.removeAnnotation(this.$1,this.$3);r.reportDeletedAnnotationTelemetry(this.$2);break}case'Edit Annotation':{tab.RichTextClientCommands.launchAnnotationRichTextEditor(this.$3.worksheet,this.$1);tab.FormattingTelemetryClient.logRichTextEditorEvent(ss.mkdict(['RichTextEditorOpenedBy',this.$2,'RichTextEditorOpenedFrom','Annotation']));break}default:{throw new ss.Exception('Unknown menu option '+L)}}if(!ss.staticEquals(this.$0,null)){this.$0()}}});var t=global.tab.CanvasTemplate=ss.mkType(a,'tab.CanvasTemplate',function(){this.canvasElt=null;spiff.Template.call(this,$("<canvas class='tabCanvas'></canvas>"));this.canvasElt=this.domRoot;this.canvasElt.css('display','block')});var u=global.tab.CanvasView$1=ss.mkType(a,'tab.CanvasView$1',function(L){var cH=ss.registerGenericClassInstance(u,[L],function(cI,cJ){this.canvasElt=null;this.context=null;this.scrollOffset=null;this.$c=null;this.$g=null;this.$h=0;this.$i=null;this.$e=null;this.$j=null;this.$f=false;this.$d=null;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[L]).call(this,cI,new t);this.canvasElt=this.get_template().canvasElt.get(0);this.scrollOffset={x:0,y:0};this.$g={x:0,y:0};this.$f=false;this.$c=cJ;this.context=tab.CanvasRenderer.getRenderContext(this.canvasElt,cJ);this.$h=tab.RenderUtil.calculatePixelRatio(true);tab.CommandController.get().add_modelsUpdated(ss.mkdel(this,this.redrawIfDirty))},{add_sizeChange:function(cI){this.$3$1=ss.delegateCombine(this.$3$1,cI)},remove_sizeChange:function(cI){this.$3$1=ss.delegateRemove(this.$3$1,cI)},get_canScrollX:function(){return this.get_docSize().w>this.get_effectiveViewSize().w},get_canScrollY:function(){return this.get_docSize().h>this.get_effectiveViewSize().h},get_docSize:null,get_actualViewSize:function(){if(!ss.isValue(this.canvasElt)){return{w:0,h:0}}return{w:this.canvasElt.width,h:this.canvasElt.height}},set_actualViewSize:function(cI){if(!ss.isValue(this.canvasElt)){return}if(tab.CanvasUtil.isOverCanvasSizeLimit(cI.w,cI.h,this.get_pixelRatio())){this.$h=1}if(this.get_effectiveViewSize().w!==cI.w||this.get_effectiveViewSize().h!==cI.h){this.$e={w:cI.w,h:cI.h};tab.CanvasUtil.setCanvasSizeAndDensify(this.canvasElt,this.get_pixelRatio(),this.$e);if(this.$c==='opaque'){this.context.set_shapeFillStyle(this.get_backgroundFillColor().toString());this.context.fillRect(0,0,this.canvasElt.width,this.canvasElt.height)}this.invalidate(false);if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},get_effectiveViewSize:function(){if(ss.isValue(this.$e)){return this.$e}else{return this.get_actualViewSize()}},get_pixelRatio:function(){return this.$h},get_isContentOpaque:function(){return true},get_needsRedraw:function(){return!tab.RectXYUtil.isEmpty(this.get_dirtyRect())},get_scrollPos:function(){return this.scrollOffset},set_scrollPos:function(cI){if(!tab.PointUtil.equals(this.scrollOffset,cI)){var cJ=tab.PointDUtil.timesScalar(cI,this.$h);var cK=tab.PointDUtil.round(cJ);var cL=tab.PointUtil.subtract(cK,this.$g);var cM=tab.PointUtil.subtract(cI,this.scrollOffset);this.$g=cK;this.scrollOffset=cI;if(this.get_backgroundFillColor().get_isOpaque()){if(!tab.RectXYUtil.isEmpty(this.get_dirtyRect())){var cN={x:-cM.x,y:-cM.y};var cO=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),cN);this.set_dirtyRect(cO)}if(cM.x!==0&&cM.y!==0||!this.get_isContentOpaque()){this.invalidate(true)}else{var cP=cL.x;var cQ=cL.y;var cR=this.get_actualViewSize().w-Math.abs(cP);var cS=((cP>0)?cP:0);var cT=((cP>0)?0:-cP);var cU=this.get_actualViewSize().h-Math.abs(cQ);var cV=((cQ>0)?cQ:0);var cW=((cQ>0)?0:-cQ);if(cR<=0||cU<=0){this.invalidate(true)}else{this.context.reset();this.context.drawImage5(this.canvasElt,cS,cV,cR,cU,cT,cW,cR,cU);var cX={x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};if(cM.x>0){cX.x=cX.w-cM.x}else if(cM.x<0){cX.w=-cM.x}if(cM.y>0){cX.y=cX.h-cM.y}else if(cM.y<0){cX.h=-cM.y}if(cM.x===0){cX.h=Math.abs(cM.y)}if(cM.y===0){cX.w=Math.abs(cM.x)}cX=tab.RectXYUtil.dialate(cX,3);this.invalidateRect(cX,true)}}}else{this.invalidate(true)}}},get_dirtyRect:function(){return(ss.isValue(this.context)?this.context.dirtyRect:{x:0,y:0,w:0,h:0})},set_dirtyRect:function(cI){if(ss.isValue(this.context)){this.context.dirtyRect=cI}},get_backgroundFillColor:null,$b:function(){return this.get_viewModel()},$a:function(){return ss.isValue(this.$b())&&tab.AnimationUtil.isTrackedPaneViewModel(this.$b())},dispose:function(){if(ss.isValue(this.$i)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$i));this.$i=null}this.$7();tab.CommandController.get().remove_modelsUpdated(ss.mkdel(this,this.redrawIfDirty));ss.makeGenericType(spiff.BaseView$1,[L]).prototype.dispose.call(this)},clearDirty:function(){this.set_dirtyRect({x:0,y:0,w:0,h:0})},invalidate:function(cI){this.set_dirtyRect({x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h});this.$9(cI)},invalidateRect:function(cI,cJ){var cK;if(tab.RectXYUtil.isEmpty(this.get_dirtyRect())){cK=tab.RectXYUtil.clone(cI)}else{cK=tab.RectXYUtil.union(this.get_dirtyRect(),cI)}if(cK.x<0){cK.x=0}if(cK.x+cK.w>this.get_effectiveViewSize().w){cK.w=this.get_effectiveViewSize().w-cK.x}if(cK.y<0){cK.y=0}if(cK.y+cK.h>this.get_effectiveViewSize().h){cK.h=this.get_effectiveViewSize().h-cK.y}this.set_dirtyRect(cK);this.$9(cJ)},setXPos:function(cI){this.set_scrollPos({x:cI,y:this.get_scrollPos().y})},setYPos:function(cI){this.set_scrollPos({x:this.get_scrollPos().x,y:cI})},redraw:null,redrawFinished:null,$9:function(cI){if(cI){this.redrawImmediate()}else if(!this.$a()&&ss.isNullOrUndefined(this.$i)){this.$8();this.$i=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.redrawIfDirty))}},redrawImmediate:function(){this.$8();this.redraw();this.$7();if(ss.isValue(this.$i)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$i));this.$i=null}this.redrawFinished()},redrawIfDirty:function(){if(!this.$a()&&ss.isValue(this.$i)){this.redrawImmediate()}else{this.$7()}},$8:function(){this.$j=this.$j||tab.LegacySessionWaitHandler.get_waitHandler();var cI=!this.$f&&this.$j.isBusy();if(cI){this.$j.addref(false,true);this.$f=true;return true}if(ss.isNullOrUndefined(this.$d)){this.$d=tab.CompletionMonitor.get_instance().hold(1)}return false},$7:function(){if(this.$f){this.$j=this.$j||tab.LegacySessionWaitHandler.get_waitHandler();this.$j.release();this.$f=false}if(ss.isValue(this.$d)){this.$d.dispose();this.$d=null}}},null,function(){return ss.makeGenericType(spiff.BaseView$1,[L])},function(){return[tab.IWidget,ss.makeGenericType(tab.IView$1,[L]),ss.IDisposable,tab.IAppendableView,spiff.IScrollable]});return cH});ss.initGenericClass(u,1);var v=global.tab.CircleShapeSelector=ss.mkType(a,'tab.CircleShapeSelector',function(L,cH){this.$k=null;this.$l=null;this.$m=null;cg.call(this,L,"<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>",'tvdrag_svg_div');this.$k={center:{x:0,y:0},radius:0};this.$l={center:{x:0,y:0},radius:0};this.$m=cH},{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$h(true))},isSingleSelect:function(){return this.$k.radius<1},$h:function(L){return tab.CircleUtil.boundingBox((L?this.$l:this.$k))},updateSpecificShape:function(L){var cH=this.get_dragStart().x-this.get_connectedDomNodeRect().x;var cI=this.get_dragStart().y-this.get_connectedDomNodeRect().y;var cJ=Math.sqrt(Math.pow(cH-L.x,2)+Math.pow(cI-L.y,2));this.$k={center:{x:cH+this.get_drawOffsets().x,y:cI+this.get_drawOffsets().y},radius:cJ};this.$l={center:{x:cH+this.get_totalScrollOffset().x,y:cI+this.get_totalScrollOffset().y},radius:cJ};if(this.$i()){this.$j()}},$i:function(){return ss.isValue(this.$m)&&ss.isValue(this.$m.get_radialSelectionDistanceInfoPresModel())&&this.$m.get_shouldShowDistance()},$j:function(){var L={x:this.$k.center.x+this.$k.radius,y:this.$k.center.y};var cH=this.$f(L);if(cH>0){this.displayDistance(cH)}},$f:function(L){var cH=this.$m.get_latLongRect();if(ss.isNullOrUndefined(cH)||this.$m.get_mapWidth()<=0||this.$m.get_mapHeight()<=0){return 0}var cI={x:this.$k.center.x%this.$m.get_mapWidth(),y:this.$k.center.y%this.$m.get_mapHeight()};var cJ={x:cI.x+(L.x-this.$k.center.x),y:cI.y};var cK=(cH.maxLatitude-cH.minLatitude)/this.$m.get_mapHeight();var cL=cH.maxLatitude-cK*cI.y;var cM={item1:cH.minLongitude,item2:cL};var cN={item1:cH.maxLongitude,item2:cL};var cO=G.haversineDistance(cM,cN,this.$m.get_earthRadius());var cP=cO/this.$m.get_mapWidth();return Math.abs(cJ.x-cI.x)*cP},displayDistance:function(L){var cH=this.get_dom().find('.'+'tabDistanceReadout');cH.text(this.$g(L));var cI={x:ss.round(this.$k.center.x+this.$k.radius+this.$m.get_readoutOffsetPixels()),y:ss.round(this.$k.center.y)-ss.idiv(tab.DoubleUtil.roundToInt(cH.height()),2)};cH.css('left',cI.x+'px');cH.css('top',cI.y+'px')},$g:function(L){var cH=this.$m.get_smallUnitDisplay();if(L>=this.$m.get_unitTransition()){L/=this.$m.get_smallToLargeUnitDivisor();cH=this.$m.get_largeUnitDisplay()}var cI=tab.DoubleUtil.sigFigs(L,this.$m.get_sigFigs());var cJ=0;if(cI!==0){var cK=Math.floor(Math.log(Math.abs(cI))/Math.log(10))+1;cJ=Math.max(0,this.$m.get_sigFigs()-cK)}var cL=cI.toFixed(cJ);if(this.$m.get_decimalMark()===','&&cL.indexOf('.')!==-1){cL=ss.replaceAllString(cL,'.',this.$m.get_decimalMark())}return ss.formatString('{0}  {1}',cL,cH)},formatReadoutTestHook:function(L){return this.$g(L)},computeRadialDistanceTestHook:function(L){return this.$f(L)},renderShape:function(){var L=this.get_dom().find('.'+'circle_crosshair');var cH=this.get_dom().find('.'+'circle_radius');this.get_dom().find('svg circle').attr('cx',this.$k.center.x.toString()).attr('cy',this.$k.center.y.toString()).attr('r',this.$k.radius.toString());L.eq(0).attr('x1',(this.$k.center.x-4).toString()).attr('x2',(this.$k.center.x+4).toString()).attr('y1',this.$k.center.y.toString()).attr('y2',this.$k.center.y.toString());L.eq(1).attr('x1',this.$k.center.x.toString()).attr('x2',this.$k.center.x.toString()).attr('y1',(this.$k.center.y-4).toString()).attr('y2',(this.$k.center.y+4).toString());cH.attr('x1',this.$k.center.x.toString()).attr('x2',(this.$k.center.x+this.$k.radius).toString()).attr('y1',this.$k.center.y.toString()).attr('y2',this.$k.center.y.toString())},show:function(){var L=this.get_dom().find('.'+'tabDistanceReadout');var cH=this.get_dom().find('.'+'circle_radius');if(this.$i()){L.css('font-size',this.$m.get_fontSizePixels());L.css('color',this.$m.get_fontColor());L.show();cH.show()}else{L.hide();cH.hide()}this.get_dom().show()},hide:function(){this.get_dom().hide()},shapeAreaHit:function(L,cH,cI,cJ){var cK=this.$i();return P.circleAreaHit(cH,cI.get_boundingBox(),this.$l,cI.get_objectId(),cJ,cH.markType,cK)},sendSelectionCommand:function(L,cH,cI,cJ){var cK=this.$i();tab.SelectionClientCommands.selectCircleRegionAndDoUbertip(L,this.get_hitTestingBox(),this.$l,cH,cI,cJ,cK)},sendSelectionCommand$1:function(L,cH,cI,cJ,cK,cL){var cM=this.$i();tab.SelectionClientCommands.selectCircleRegionAndDoUbertip$1(L,this.get_hitTestingBox(),this.$l,cH,cI,cJ,cM,cK,cL)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new w)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var cH=L;cH.saveCurrentState(this.$l)}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),w)){return true}}return false}});var w=global.tab.CircleShapeState=ss.mkType(a,'tab.CircleShapeState',function(){this.$0=null;this.$1=null;ch.call(this);this.$0={center:{x:0,y:0},radius:0};this.$1={center:{x:0,y:0},radius:0}},{saveCurrentState:function(L){this.$0=tab.CircleUtil.clone(L)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.CircleUtil.isEmpty(this.$1)){return tab.CircleUtil.getChangedRects(this.$0,this.$1)}var L=new Array(1);L[0]=tab.CircleUtil.boundingBox(this.$0);return L}});var x=global.tab.DisplayList2DRenderer=ss.mkType(a,'tab.DisplayList2DRenderer',function(L,cH,cI){this.$c=null;tab.CanvasRenderer.call(this,L,cH);this.$c=cI||bb.defaultColors},{renderVisualListHelper:function(L,cH){var cI=L.get_visualListPM().drawItems;this.renderDrawItems(cI,L,cH,null)},renderDrawItems:function(L,cH,cI,cJ){var cK=this.get_currentContext();var cL=cK.get_numberSavedStates();var cM=4;for(var cN=0;cN<L.length;++cN){var cO=L[cN];if(true&&cN<cM&&cO.type==='transform'){}else if(cO.type==='draw-group'){var cP=cO;this.$9(cH,cP,cI,cJ)}else{this.$b(cK,cO,cI,null,cJ,false)}}while(cK.get_numberSavedStates()>cL){cK.restore()}},renderVisualList:function(L,cH){this.startCachingVisibleRect();var cI=this.get_visibleRect();if(ss.isValue(L.get_defaultBackgroundColor())){this.get_currentContext().set_shapeFillStyle(L.get_defaultBackgroundColor());this.get_currentContext().fillRect(cI.x,cI.y,cI.w,cI.h)}this.renderVisualListHelper(L,cH);this.stopCachingVisibleRect()},renderDrawItemList:function(L){this.renderDrawItems(L,null,null,null)},renderCanvasBorders:function(L){var cH=L.get_visualListPM().visualPart;var cI=L.get_visualListPM().drawItems;for(var cJ=0;cJ<cI.length;cJ++){var cK=cI[cJ];if(cK.type==='draw-pen'||cK.type==='draw-solid-brush'){this.renderDrawItemDefaultOptions(this.get_currentContext(),cK)}else if(cK.type==='draw-polyline'){var cL=this.get_currentCanvas().width;var cM=this.get_currentCanvas().height;var cN=cK;var cO=cN.points;if(ss.contains(x.$a,cH)){if(Math.abs(cO[3]-cO[1])>=cM){var cP={type:cK.type,points:[0,0,0,cM]};this.renderDrawItemDefaultOptions(this.get_currentContext(),cP);cP.points[0]+=cL-1;cP.points[2]+=cL-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),cP);return}}else if(ss.contains(x.$b,cH)){if(Math.abs(cO[2]-cO[0])>=this.get_currentCanvas().width){var cQ={type:cK.type,points:[0,0,cL,0]};this.renderDrawItemDefaultOptions(this.get_currentContext(),cQ);cQ.points[1]+=cM-1;cQ.points[3]+=cM-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),cQ);return}}}}},renderDrawItemDefaultOptions:function(L,cH){this.$b(L,cH,null,null,null,false)},$b:function(L,cH,cI,cJ,cK,cL){if(!ss.isValue(L)||!ss.isValue(cH)){return}switch(cH.type){case'draw-pen':{{var cM=cH;L.set_lineJoin((ss.isValue(cM.lineJoin)?tab.CanvasRenderer.toCanvasLineJoin(cM.lineJoin):tab.TabRenderContext2D.defaultLineJoin));var cN=cM.linePattern||tab.TabRenderContext2D.defaultLinePattern;L.set_lineCap(x.resolveLineCap(cN,cM.lineCap));L.set_linePattern(cN);L.set_strokeStyle(tab.ColorModel.convertColorForCanvas(cM.color)||'rgb(0,0,0)');L.set_lineWidth(cM.strokeWidth||1)}break}case'draw-solid-brush':{{var cO=cH;L.set_shapeFillStyle(tab.ColorModel.convertColorForCanvas(cO.color))}break}case'draw-gradient-brush':{{var cP=cH;var cQ=cP.pt1;var cR=cP.pt2;var cS=L.createLinearGradient(cQ.x,cQ.y,cR.x,cR.y);cS.addColorStop(0,tab.ColorModel.convertColorForCanvas(cP.color1));cS.addColorStop(1,tab.ColorModel.convertColorForCanvas(cP.color2));L.set_shapeFillStyle(cS)}break}case'draw-rect':{{var cT=cH;if(cT.points.length!==4){return}var cU=y.rectXYFromDrawRect(cT.points);L.strokeRect(cU.x,cU.y,cU.w,cU.h)}break}case'draw-fill-rect':{{var cV=cH;if(cV.points.length!==4){return}var cW=y.rectXYFromDrawRect(cV.points);L.fillRect(cW.x,cW.y,cW.w,cW.h)}break}case'draw-ellipse':{{x.$1(L,cH,false)}break}case'draw-fill-ellipse':{{x.$1(L,cH,true)}break}case'draw-polyline':{{var cX=cH;var cY=cX.points;tab.CanvasRenderer.strokePath(L,cY,false,true)}break}case'draw-polygon':{{var cZ=cH;tab.CanvasRenderer.strokePath(L,cZ.points,true,true)}break}case'draw-fill-polygon':{{var da=cH;tab.CanvasRenderer.fillPath(L,da.points,true)}break}case'draw-fill-path':{{x.$2(L,cH,true)}break}case'draw-path':{{x.$2(L,cH,false)}break}case'clip-rect':{{var db=cH;if(db.points.length===4){if(true&&db.points[2]-db.points[0]===2){break}L.setClip({x:db.points[0],y:db.points[1],w:db.points[2]-db.points[0],h:db.points[3]-db.points[1]})}}break}case'draw-text':{{var dc=cH;if(dc.points.length!==2){return}var dd=dc.points[0];var de=dc.points[1];var df=-1;if(ss.isValue(cJ)&&cJ.w!==0&&cJ.h!==0){var dg;var dh;if(L.get_isTextAngleHorizontal()){dg=((cJ.x>dd)?dd:(dd-cJ.x));dh=cJ.w}else{dg=((cJ.y>de)?de:(de-cJ.y));dh=cJ.h}df=Math.max(dg,dh-dg)}this.renderText(dc.text,dd,de,df,null,cL)}break}case'draw-text-props':{{x.$0(L,cH)}break}case'transform':{{var di=cH;if(ss.isValue(di.transformOffset)&&di.transformOffset.length===2){L.translate(di.transformOffset[0],di.transformOffset[1])}if(ss.isValue(di.transformScale)&&di.transformScale.length===2){L.scale(di.transformScale[0],di.transformScale[1])}if(ss.isValue(di.transformAngle)){L.rotate(di.transformAngle*Math.PI/180)}}break}case'transform-pop':{{var dj=new j(L);L.restore();dj.$0(L)}break}case'transform-push':{{L.save()}break}case'draw-antialias':{{var dk=cH;L.set_shouldAntialias(dk.state)}break}case'draw-image':{{var dl=cH;if(ss.isValue(cI)&&cI.has(dl.imageHash)){var dm=cI.get(dl.imageHash);if(ss.isValue(dm)&&dm.complete){L.save();if(ss.isValue(cK)){L.setClip(cK)}L.set_alpha(dl.alpha);L.drawImage4(dm,dl.destBox[0],dl.destBox[1],dl.destBox[2]-dl.destBox[0],dl.destBox[3]-dl.destBox[1]);L.restore()}}else{}}break}default:{{}break}}},$9:function(L,cH,cI,cJ){var cK=ss.isValue(L)&&L.get_visualListPM().visualPart==='annotations';this.clearPrevTextRunInfo();var cL=this.get_currentContext();var cM=false;cH.extentsX=cH.extentsX||0;cH.extentsY=cH.extentsY||0;cH.extentsWidth=cH.extentsWidth||0;cH.extentsHeight=cH.extentsHeight||0;var cN={x:cH.extentsX,y:cH.extentsY,w:cH.extentsWidth,h:cH.extentsHeight};var cO=tab.RectXYUtil.offsetRect(cL.dirtyRect,this.get_renderOffset());if(cH.extentsWidth>0&&cH.extentsHeight>0&&(!this.isRectVisible(cN)||!tab.RectXYUtil.intersectsWith(cO,cN))){cM=true}var cP=this.$a(L,cH,cM);var cQ=x.$5(cH.drawItems,cK);for(var cR=0;cR<cQ.length;cR++){var cS=cQ[cR];if(cP.$0()&&cS.type==='draw-solid-brush'){var cT=cS;cP.$2=tab.ColorModel.convertColorForCanvas(cT.color)}else{var cU=null;if(cP.$0()&&cS.type==='draw-text-props'){var cV=cS;cP.$3=tab.ColorModel.convertColorForCanvas(cV.color);cU=cL.get_textFillStyle()}if(!cM||x.$4(cS)){this.$b(cL,cS,cI,cN,cJ,cK)}if(ss.isValue(cU)){cL.set_textFillStyle(cU)}}}if(cP.$0()){cL.set_shapeFillStyle(cP.$2);cL.set_textFillStyle(cP.$3)}},$a:function(L,cH,cI){var cJ=null;if(!cI&&ss.isValue(L)){if(L.isSelected(cH)){cJ=new i('selected')}else if(L.isBrushed(cH)){cJ=new i('highlighted')}else if(L.isNodeOrAxisHovered(cH)){cJ=new i('hover')}}if(ss.isNullOrUndefined(cJ)){return new i('normal')}var cK=this.get_currentContext();cJ.$2=cK.get_shapeFillStyle();cJ.$3=cK.get_textFillStyle();switch(cJ.$1()){case'selected':{cK.set_textFillStyle(this.$c.selectionTextColor.toRgba());cK.set_shapeFillStyle(this.$c.selectionBgColor.toRgba());break}case'highlighted':{cK.set_textFillStyle(this.$c.highlightTextColor.toRgba());cK.set_shapeFillStyle(this.$c.highlightBgColor.toRgba());break}case'hover':{cK.set_textFillStyle('rgb(0,0,0)');cK.set_shapeFillStyle('rgb(245,245,245)');break}}var cL=ss.isValue(cH.offsetX)||ss.isValue(cH.offsetY);if(cL){cH.offsetX=cH.offsetX||0;cH.offsetY=cH.offsetY||0;cK.translate(-cH.offsetX,-cH.offsetY)}cK.fillRect(cH.extentsX,cH.extentsY,cH.extentsWidth,cH.extentsHeight);if(cL){cK.translate(cH.offsetX,cH.offsetY)}return cJ}},{setTextProperties:function(L,cH,cI){L.set_textFillStyle(cH.color);var cJ=new ss.StringBuilder;if(cH.fontStyle==='font-style-italic'){cJ.append('italic ')}if(cH.fontWeight==='font-weight-bold'){cJ.append('bold ')}if(ss.isValue(cH.textDecoration)&&cH.textDecoration==='text-decoration-underline'){L.set_shouldUnderlineText(true)}if(ss.isNullOrUndefined(cI)||cI<=0){cI=cH.fontSize}var cK=tab.FontUtil.createFallbackCanvasFontName(cH.fontName);cJ.append(cI+'pt '+cK);L.set_font(cJ.toString());L.set_textBaseline(tab.FormattingConverters.getTextBaseline(cH.valign))},resolveLineCap:function(L,cH){var cI='butt';if(L!=='dashed'&&L!=='dotted'){cI=(ss.isValue(cH)?tab.CanvasRenderer.toCanvasLineCap(cH):tab.TabRenderContext2D.defaultLineCap)}return cI},$0:function(L,cH){var cI=cH;L.set_textFillStyle(tab.ColorModel.convertColorForCanvas(cI.color));if(ss.isValue(cI.angle)){var cJ=cI.angle*Math.PI/180;L.set_textAngle(cJ)}else{L.set_textAngle(0)}var cK=new ss.StringBuilder;if(cI.isItalics){cK.append('italic ')}if(cI.isBold){cK.append('bold ')}if(cI.isStrikeThrough){}var cL=tab.TabRenderContext2D.defaultTextAlign;if(L.get_isTextAngleHorizontal()){var cM=cI.horizontalLabelAlignment||'h-align-left';if(cM==='h-align-right'){cL='end'}}else{var cN=cI.verticalLabelAlignment||'v-align-top';if(L.get_textAngle()<0&&cN==='v-align-top'||L.get_textAngle()>0&&cN==='v-align-bottom'){cL='end'}}L.set_textAlign(cL);L.set_shouldUnderlineText(cI.isUnderlined||false);var cO=cI.fontName||'Arial';cO=tab.FontUtil.createFallbackCanvasFontName(cO);var cP=cI.pointSize||8;cK.append(cP+'pt '+cO);L.set_font(cK.toString())},$1:function(L,cH,cI){var cJ=cH;if(cJ.points.length!==4){return}var cK=cJ.points[2]-cJ.points[0];var cL=cJ.points[3]-cJ.points[1];var cM=cJ.points[0]+cK/2;var cN=cJ.points[1]+cL/2;var cO=((cK<cL)?cK:cL)/2;var cP=((cK<cL)?1:(cK/cL));var cQ=((cL<cK)?1:(cL/cK));L.save();L.beginPath();L.translate(cM,cN);L.scale(cP,cQ);L.arc(0,0,cO,0,tab.CanvasRenderer.twoPI,false);L.closePath();if(cI){L.fill()}else{L.stroke()}L.restore()},$2:function(L,cH,cI){var cJ=cH.pointsF;if(!cI&&ss.imod(Math.round(L.get_lineWidth()),2)===1){cJ=ss.arrayClone(cJ);for(var cK=0,cL=cJ.length;cK<cL;++cK){cJ[cK]+=0.5}}var cM=cH.pathElements;var cN=Math.floor(cJ.length/2);if(cN<2){return}L.beginPath();var cO=0;for(var cP=0;cP<cM.length;cP++){var cQ=cM[cP];switch(cQ){case'moveto':{{L.moveTo(cJ[cO],cJ[cO+1]);cO+=2}break}case'lineto':{{L.lineTo(cJ[cO],cJ[cO+1]);cO+=2}break}case'curveto':{{L.bezierCurveTo(cJ[cO],cJ[cO+1],cJ[cO+2],cJ[cO+3],cJ[cO+4],cJ[cO+5]);cO+=6}break}default:{{}break}}}if(cI){L.fill()}else{L.stroke()}},$4:function(L){switch(L.type){case'draw-pen':case'draw-solid-brush':case'draw-gradient-brush':case'clip-rect':case'draw-text-props':case'transform':case'transform-pop':case'transform-push':case'draw-antialias':{return true}}return false},$5:function(L,cH){if(!cH){return L}var cI=x.$3(L);if(cI.length===0){return L}var cJ=ss.arrayClone(L);var cK=function(cP,cQ){var cR=cJ[cP];cJ[cP]=cJ[cQ];cJ[cQ]=cR};for(var cL=0;cL<cI.length;cL++){var cM=cI[cL];for(var cN=0;cN<ss.idiv(cM.length,2);++cN){var cO=cM.length-1-cN;cK(cM[cN].item1,cM[cO].item1);cK(cM[cN].item2,cM[cO].item2)}}return cJ},$3:function(L){var cH=[];var cI=-99999999;var cJ=false;var cK=-1;var cL=[];for(var cM=0;cM<L.length;cM++){var cN=L[cM];if(cN.type==='draw-text-props'){var cO=cN;cJ=ss.isValue(cO.horizontalLabelAlignment)&&cO.horizontalLabelAlignment==='h-align-right';cK=cM}else if(cJ&&cN.type==='draw-text'){var cP=cN;var cQ=cP.points[1];if(cQ!==cI){if(cL.length>=2){cH.push(cL)}cL=[]}cL.push({item1:cK,item2:cM});cI=cQ}}if(cL.length>=2){cH.push(cL)}return cH}});var y=global.tab.DisplayList2DUtils=ss.mkType(a,'tab.DisplayList2DUtils',null,null,{rectXYFromDrawRect:function(L){return{x:L[0],y:L[1],w:L[2]-L[0],h:L[3]-L[1]}},rectXYFromRoundedRect:function(L,cH){if(!(L.length===26&&cH.length===5)||L.length===30&&cH.length===7||L.length===34&&cH.length===9){return null}var cI=2147483647;var cJ=-2147483648;var cK=2147483647;var cL=-2147483648;var cM=0;for(var cN=0;cN<cH.length;cN++){var cO=cH[cN];switch(cO){case'lineto':case'moveto':{cM+=2;break}case'curveto':{cM+=4;cI=Math.min(cI,ss.trunc(L[cM]));cJ=Math.max(cJ,ss.trunc(L[cM]));cK=Math.min(cK,ss.trunc(L[cM+1]));cL=Math.max(cL,ss.trunc(L[cM+1]));cM+=2;break}default:{break}}}var cP=[cI,cK,cJ,cL];return y.rectXYFromDrawRect(cP)}});var z=global.tab.DownloadQueue=ss.mkType(a,'tab.DownloadQueue',function(){this.$3=null;this.$2=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$3=[];this.$1=new Array},{add_complete:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_complete:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},add_imageLoaded:function(L){this.$1$2=ss.delegateCombine(this.$1$2,L)},remove_imageLoaded:function(L){this.$1$2=ss.delegateRemove(this.$1$2,L)},add_imageTimedOut:function(L){this.$1$3=ss.delegateCombine(this.$1$3,L)},remove_imageTimedOut:function(L){this.$1$3=ss.delegateRemove(this.$1$3,L)},addImage:function(L){if(!ss.isValue(L)){return}for(var cH=0,cI=this.$3.length;cH<cI;cH++){if(!this.$3[cH].$2()){this.$2++;this.$3[cH].$1(L);return}}if(this.$3.length<2){var cJ=new c(this.$3.length);cJ.$3(ss.mkdel(this,this.onWorkerFinished));cJ.$5(ss.mkdel(this,this.onWorkerTimedOut));this.$3.push(cJ);this.$2++;cJ.$1(L)}else{this.$1.push(L)}},clear:function(){ss.clear(this.$1)},destroy:function(){for(var L=0;L<this.$3.length;L++){var cH=this.$3[L];cH.$0()}ss.clear(this.$1);this.$1$2=null;this.$1$3=null;this.$1$1=null},onWorkerFinished:function(L,cH){if(ss.isValue(this.$1$2)){this.$1$2(this,new X(cH.get_image()))}this.$0(cH.get_workerID())},onWorkerTimedOut:function(L,cH){if(ss.isValue(this.$1$3)){this.$1$3(this,ss.EventArgs.Empty)}this.$0(cH.get_workerID())},$0:function(L){this.$2--;if(this.$1.length===0){if(this.$2===0){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}}else{this.$3[L].$1(this.$1.shift());this.$2++}}});var A=global.tab.EmptyContentProvider=ss.mkType(a,'tab.EmptyContentProvider',function(){},{add_loadComplete:function(L){},remove_loadComplete:function(L){},get_canScrollX:function(){return false},get_canScrollY:function(){return false},get_docSize:function(){return{w:0,h:0}},get_actualViewSize:function(){return{w:0,h:0}},set_actualViewSize:function(L){},get_effectiveViewSize:function(){return{w:0,h:0}},get_scrollPos:function(){return{x:0,y:0}},set_scrollPos:function(L){},get_hasContent:function(){return false},setXPos:function(L){},setYPos:function(L){},destroy:function(){},refreshImages:function(L){},reset:function(L,cH){}});var B=global.tab.FloatingMenuFlyoutButtonComponent=ss.mkType(a,'tab.FloatingMenuFlyoutButtonComponent',function(L,cH){React.Component.call(this,L,cH)},{render:function(){var L='fztButton';if(this.props.isSelected){L+=' selected'}var cH=['tab-fzt-toggle-button-icon',this.props.iconClassName,(this.props.shouldShowAppendSubIcon?'tab-select-tool-append-mode':null)].join(' ');var cI=(ss.isNullOrEmptyString(this.props.buttonTooltip)?null:spiff.DOMElements.div({className:'tab-mobileTooltip',key:'tooltipText'},this.props.buttonTooltip));var cJ=(this.props.shouldShowFlyoutCaret?spiff.DOMElements.div({className:'tab-floating-toolbar-flyout-caret',key:'caretIcon'}):null);return EventUtils.EventForwarder.span(this.$0(),{className:L,title:this.props.buttonTooltip,role:'button'},spiff.DOMElements.div({className:cH,key:'buttonIcon'}),cJ,cI)},$1:function(L){this.props.onTap()},$0:function(){var L=new EventUtils.EventHandleSpec;L.tap=ss.mkdel(this,this.$1);return L}});var C=global.tab.FloatingToolbarPositioningComponent=ss.mkType(a,'tab.FloatingToolbarPositioningComponent',function(L,cH){this.$7=null;this.$8=null;this.$9=0;this.$a=0;React.Component.call(this,L,cH);this.$7=ss.mkdel(this,function(cI){this.$8=cI})},{$0:function(){tab.ViewportChangeDetector.get_instance().add_viewportChanged(ss.mkdel(this,this.$2));tab.Application.get_instance().get_client().get_dashboardViewport().add_scrolled(ss.mkdel(this,this.$2))},$3:function(){tab.ViewportChangeDetector.get_instance().remove_viewportChanged(ss.mkdel(this,this.$2));tab.Application.get_instance().get_client().get_dashboardViewport().remove_scrolled(ss.mkdel(this,this.$2))},componentDidMount:function(){this.$5();this.$0();this.$2()},componentWillUnmount:function(){this.$3()},$5:function(){if(ss.isValue(this.$8)){this.$8.style.display='none'}},$6:function(){if(ss.isValue(this.$8)){this.$8.style.display=''}},$2:function(){if(ss.isNullOrUndefined(tab.ViewportChangeDetector.get_instance().get_lastViewportRect())){return}this.$5();tab.WindowHelper.cancelAnimationFrame(this.$9);this.$a=tab.DateUtil.get_nowAsTime();this.$9=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$1))},$1:function(){var L=tab.DateUtil.get_nowAsTime();if(L-this.$a>=300){this.$4()}else{this.$9=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$1))}},$4:function(){if(ss.isValue(this.$8)){var L=tab.Application.get_instance().get_client().get_dashboardViewport();var cH=tab.ViewportChangeDetector.get_instance().get_lastViewportRect();var cI={x:cH.l,y:cH.t};var cJ=L.convertPointFromPageToDashboardCoords(cI);var cK={l:cJ.x,t:cJ.y,w:cH.w,h:cH.h};var cL=tab.RectUtil.intersect(cK,L.get_visibleRect());var cM=this.props.getAnchorPosition();var cN=L.convertPointFromPageToDashboardCoords(cM);this.$8.style.left=Math.max(cN.x,cL.l)+'px';this.$8.style.top=Math.max(cN.y,cL.t)+'px';this.$6()}},render:function(){return spiff.DOMElements.div({className:'tab-floating-toolbar-container',ref:this.$7},this.props.children)}});var D=global.tab.FloatingZoomToolbar=ss.mkType(a,'tab.FloatingZoomToolbar',function(L,cH,cI,cJ,cK){this.parent=null;this.buttonContainer=null;this.flyOutContainer=null;this.flyOutButtons=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomHomeButton=null;this.flyOutButton=null;this.zoomAreaButton=null;this.rectSelectButton=null;this.radialSelectButton=null;this.lassoSelectButton=null;this.panButton=null;this.api=null;this.canZoomHome=false;this.geoSearchEnabled=false;this.$6=null;this.toolbarType=null;this.$5=true;spiff.Widget.call(this,$("<div class='FloatingZoomToolbar'></div>"));this.parent=$(L);this.api=cH;this.toolbarType=cI;this.canZoomHome=false;this.geoSearchEnabled=cK;this.element.css({top:cJ+'px'})},{get_currentToolMode:function(){return this.$6},set_currentToolMode:function(L){if(L!==this.$6){var cH=this.$6;this.$6=L;this.toolModeChanged(cH)}else if(L===this.api.defaultPointerToolMode()){this.updateFlyOutVisibility(false);this.updateButtonState(L,true)}},get_floatingToolbarType:function(){return this.toolbarType},dispose:function(){try{this.disposables.dispose()}catch(L){}if(ss.isValue(this.buttonContainer)){this.buttonContainer.remove()}if(ss.isValue(this.flyOutButtons)){this.flyOutButtons.remove()}if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.remove()}this.api=null;this.buttonContainer=null;this.flyOutButtons=null;this.flyOutContainer=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomAreaButton=null;this.zoomHomeButton=null;this.flyOutButton=null;this.rectSelectButton=null;this.radialSelectButton=null;this.lassoSelectButton=null;this.panButton=null;spiff.Widget.prototype.dispose.call(this)},setZoomHomePossibility:function(L){this.canZoomHome=L;if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(this.canZoomHome)}},setActiveState:function(L){if(this.toolbarType==='homeOnlyToolbar'&&!this.canZoomHome){this.element.css({display:'none'})}else{this.element.css({display:(L?'':'none')})}if(!L){this.updateFlyOutVisibility(false)}},resetPointerToolMode:function(){this.set_currentToolMode(this.api.defaultPointerToolMode());this.api.setPointerToolMode(this.get_currentToolMode(),false);this.updateFlyOutVisibility(false)},resetVisualState:function(){this.updateFlyOutVisibility(false)},enableUserInteraction:function(L){this.element.css({'pointer-events':(L?'auto':'none')});this.$5=L},init:function(){this.createButtons();this.resetPointerToolMode();this.setActiveState(false)},createButtons:null,setupEventHandling:function(){if(ss.isValue(this.rectSelectButton)){this.disposables.add$1(this.rectSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('rectangular-selection')}})));this.disposables.add$1(this.rectSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true)})))}if(ss.isValue(this.panButton)){this.disposables.add$1(this.panButton.onClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('pan-map')}})));this.disposables.add$1(this.panButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true)})))}if(ss.isValue(this.radialSelectButton)){this.disposables.add$1(this.radialSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('radial-selection')}})));this.disposables.add$1(this.radialSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true)})))}if(ss.isValue(this.lassoSelectButton)){this.disposables.add$1(this.lassoSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('lasso-selection')}})));this.disposables.add$1(this.lassoSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true)})))}if(ss.isValue(this.zoomHomeButton)){this.disposables.add$1(this.zoomHomeButton.onClick(ss.mkdel(this,function(){this.clickZoomHome()})))}},updateFlyOutVisibility:function(L){if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.css({display:(L?'':'none')})}},toggleFlyout:function(L){if(!this.$5){return}if(this.flyOutContainer.is(':visible')){this.updateFlyOutVisibility(false)}else{var cH=this.flyOutButton.element.position();var cI=tab.DoubleUtil.roundToInt(this.flyOutButton.element.width());this.flyOutContainer.css({top:cH.top+'px',left:cI+'px'});this.updateFlyOutVisibility(true)}},addButton:function(L,cH,cI){var cJ=new spiff.Button($(document.createElement('div')));cJ.set_hoverTooltipText(cI);var cK=cJ;this.$4(L,cK,cH);return cK},addToggleButton:function(L,cH,cI){var cJ=new spiff.ToggleButton($(document.createElement('span')),null);cJ.set_hoverTooltipText(cI);var cK=cJ;this.$4(L,cK,cH);return cK},addSpacer:function(){var L=$(document.createElement('div'));L.addClass('fztSpacer');this.buttonContainer.append(L)},$4:function(L,cH,cI){cH.element.addClass(cI);cH.element.addClass('fztButton');L.append(cH.element);this.disposables.add$1(cH)},setToolMode:function(L,cH){if(L===this.get_currentToolMode()){this.set_currentToolMode(this.api.defaultPointerToolMode())}else{this.set_currentToolMode(L)}this.api.setPointerToolMode(this.get_currentToolMode(),cH)},clickZoomHome:function(){if(this.canZoomHome){this.api.zoomHome()}},createButtonContainer:function(){this.buttonContainer=$("<div class='fztButtonContainer'></div>");this.element.append(this.buttonContainer);if(ss.isValue(this.parent)){this.parent.append(this.element)}},createButtonFlyOut:function(){this.flyOutContainer=$("<div class='fztFlyOutContainer'></div>");this.updateFlyOutVisibility(false);this.element.append(this.flyOutContainer);this.flyOutButtons=$("<div class='fztFlyOutButtons'></div>");this.flyOutContainer.append(this.flyOutButtons)},updateButtonState:function(L,cH){switch(L){case'area-zoom':case'zoom-out':{this.selectButton(this.zoomAreaButton,cH);break}case'pan-map':{if(ss.isValue(this.panButton)){this.selectButton(this.panButton,cH)}break}case'rectangular-selection':{if(ss.isValue(this.rectSelectButton)){this.selectButton(this.rectSelectButton,cH)}break}case'radial-selection':{this.selectButton(this.radialSelectButton,cH);break}case'lasso-selection':{this.selectButton(this.lassoSelectButton,cH);break}default:{break}}},selectButton:function(L,cH){var cI=ss.safeCast(L,spiff.ToggleButton);if(ss.isValue(cI)){cI.set_selected(cH)}},toolModeChanged:function(L){this.updateButtonState(L,false);this.updateButtonState(this.get_currentToolMode(),true);this.updateFlyOutVisibility(false)}});var E=global.tab.FloatingZoomToolbarView=ss.mkType(a,'tab.FloatingZoomToolbarView',function(L){this.zoomToolbar=null;this.$0=0;this.$2=null;this.$1=null;this.$1=L},{get_toolBarIsOffOrHome:function(){return ss.isNullOrUndefined(this.zoomToolbar)||this.zoomToolbar.get_floatingToolbarType()==='homeOnlyToolbar'},resetPointerToolbarMode:function(){if(ss.isNullOrUndefined(this.zoomToolbar)&&this.$2!=='hide'){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.resetPointerToolMode();return true}return false},updateZoomToolbar:function(L){var cH=this.$2!==L;this.$2=L;if(ss.isValue(this.zoomToolbar)&&cH){this.zoomToolbar.dispose();this.zoomToolbar=null;if(this.$2!=='hide'){this.createZoomToolbar();this.setVisibility(true)}}if(this.$1.get_shouldEnableZoomHomeToolbar()&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.$1.get_shouldEnableZoomHomeToolbar())}},determineToolbarType:function(){var L='fullToolbar';if(!this.$1.get_shouldShowTools()){L='homeOnlyToolbar'}else if(!this.$1.allowPanZoomActions()){L='disablePanZoomToolbar'}if(tsConfig.is_mobile){if(L==='fullToolbar'&&this.$1.isVizLargerThanScreen()){return'disablePanZoomToolbar'}}return L},setVisibility:function(L){if(L&&this.$2!=='hide'&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.$1.get_shouldEnableZoomHomeToolbar());this.zoomToolbar.setActiveState(L)}},createZoomToolbar:function(){if(!tsConfig.allow_filter){return}if(ss.isNullOrUndefined(this.zoomToolbar)){var L=this.$1.get_zoomToolbarContainerDiv();var cH=this.$1.get_isMapSearchEnabled();var cI=this.$1.get_zoomToolbarOperations();var cJ=this.determineToolbarType();var cK=this.$1.get_zoomToolbarOffset();var cL=tab.ObjectRegistry.resolve(D).call(null,[L,cI,cJ,cK,cH]);cL.addClass('tabSuppressVizTooltipsAndOverlays');this.zoomToolbar=cL;this.$0=parseInt(this.zoomToolbar.element.css('left'))}},enableUserInteraction:function(L){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.enableUserInteraction(L)}},setLeftOffset:function(L){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.element.css('left',L+this.$0)}},resetVisualState:function(){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.resetVisualState()}},setToolMode:function(L,cH){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setToolMode(L,cH);return true}return false},dispose:function(){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.dispose()}}});var F=global.tab.FullVizImageRequestUrl=ss.mkType(a,'tab.FullVizImageRequestUrl',function(L,cH){Y.call(this);var cI={};cI['region']=cH.toString();this.set_imageRequestUrlString(Y.buildImageRequestUrl(L,'fullviz',cI))});var G=global.tab.GeometryUtil=ss.mkType(a,'tab.GeometryUtil',null,null,{domainToPixelGeometry:function(L,cH,cI,cJ){switch(L.geometryType){case'multiPolygon':{G.domainToPixelMultipolygon(L.multiPolygon,cH,cI,cJ);break}case'multiPoint':{var cK=0;var cL=L.multiPoint;G.domainToPixelCoordinateArray(cL.pointsF,cH,cI,cJ,cK);break}case'multiLineString':{var cM=L.multiLine;G.domainToPixelMultiline(cM,cH,cI,cJ);break}default:{break}}},domainToPixelMultipolygon:function(L,cH,cI,cJ){var cK=L.polygonList;var cL=cK.length;var cM=6;for(var cN=0;cN<cL;cN++){var cO=cK[cN].lineList;var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ].pointsF;G.domainToPixelCoordinateArray(cR,cH,cI,cJ,cM)}}},domainToPixelMultiline:function(L,cH,cI,cJ){var cK=L.lineList.length;var cL=4;for(var cM=0;cM<cK;cM++){var cN=L.lineList[cM].pointsF;G.domainToPixelCoordinateArray(cN,cH,cI,cJ,cL)}},domainToPixelCoordinateArray:function(L,cH,cI,cJ,cK){var cL=3;var cM=cI.w/cH.w;var cN=cI.h/cH.h;var cO=L.length;if(cO<2){return}var cP=null;var cQ=null;var cR=0;for(var cS=0;cS<cO;cS+=2){var cT=G.$0(L[cS],cH.x,cI.x,cM);var cU=G.$0(L[cS+1],cH.y,cI.y,cN);var cV=cR+cO-cS;if(cJ&&cV>cK){var cW=cT*cL<<0;var cX=cU*cL<<0;if(cW===cP&&cX===cQ){continue}cP=cW;cQ=cX}L[cR]=cT;L[cR+1]=cU;cR+=2}L.length=cR},isGeometryPresModelFeatureEmpty:function(L){switch(L.geometryType){case'multiPoint':{return ss.isNullOrUndefined(L.multiPoint)||ss.isNullOrUndefined(L.multiPoint.pointsF)||L.multiPoint.pointsF.length===0}case'multiPolygon':{return ss.isNullOrUndefined(L.multiPolygon)||ss.isNullOrUndefined(L.multiPolygon.polygonList)||L.multiPolygon.polygonList.length===0}case'multiLineString':{return ss.isNullOrUndefined(L.multiLine)||ss.isNullOrUndefined(L.multiLine.lineList)||L.multiLine.lineList.length===0}default:{return true}}},$0:function(L,cH,cI,cJ){return(L-cH)*cJ+cI},isPointInPoly:function(L,cH,cI){if(ss.isValue(cI)&&cI!==0){return G.polygonIntersectsDoubleRect(L,{x:cH.x-ss.unbox(cI),y:cH.y-ss.unbox(cI),w:ss.unbox(cI)*2,h:ss.unbox(cI)*2})}var cJ=0;var cK=L.length;for(var cL=0;cL<cK;cL+=2){var cM=L[cL];var cN=L[cL+1];var cO=ss.imod(cL+2,cK);var cP=L[cO];var cQ=L[cO+1];if(cN<=cH.y){if(cQ>cH.y){if(G.$6(cM,cN,cP,cQ,cH.x,cH.y)>0){++cJ}}}else if(cQ<=cH.y){if(G.$6(cM,cN,cP,cQ,cH.x,cH.y)<0){--cJ}}}return cJ!==0},isPointInPolygon:function(L,cH){var cI=false;var cJ=0;for(var cK=0;cK<L.lineList.length;cK++){var cL=L.lineList[cK];var cM=G.isPointInPoly(cL.pointsF,cH,null);if(cJ===0){if(cM){cI=true}else{break}}else if(cM){cI=false;break}cJ++}return cI},isPointInMultipolygon:function(L,cH){var cI=false;for(var cJ=0;cJ<L.polygonList.length;cJ++){var cK=L.polygonList[cJ];cI=G.isPointInPolygon(cK,cH);if(cI){break}}return cI},lineToQuad:function(L,cH){var cI=cH/2;var cJ={x:L[0],y:L[1]};var cK={x:L[2],y:L[3]};var cL=cK.x-cJ.x;var cM=cK.y-cJ.y;var cN=Math.sqrt(cL*cL+cM*cM);if(cN===0){return G.makeQuadFromPoints(cJ,cJ,cJ,cJ)}var cO={x:cI*(cL/cN),y:cI*(cM/cN)};var cP={x:-cO.y,y:cO.x};var cQ={x:cJ.x+cP.x,y:cJ.y+cP.y};var cR={x:cJ.x-cP.x,y:cJ.y-cP.y};var cS={x:cK.x+cP.x,y:cK.y+cP.y};var cT={x:cK.x-cP.x,y:cK.y-cP.y};return G.makeQuadFromPoints(cQ,cR,cT,cS)},makeQuadFromPoints:function(L,cH,cI,cJ){var cK=new Array(8);cK[0]=L.x;cK[1]=L.y;cK[2]=cH.x;cK[3]=cH.y;cK[4]=cI.x;cK[5]=cI.y;cK[6]=cJ.x;cK[7]=cJ.y;return cK},isPointInMultiLineString:function(L,cH,cI){var cJ=L.lineList;var cK=cJ.length;for(var cL=0;cL<cK;cL++){var cM=cJ[cL].pointsF;var cN=cM.length;if(cN<4||ss.imod(cN,2)===1){continue}for(var cO=0;cO<cN-2;cO+=2){var cP=new Array(4);cP[0]=cM[cO];cP[1]=cM[cO+1];cP[2]=cM[cO+2];cP[3]=cM[cO+3];if(G.isPointInPoly(G.lineToQuad(cP,cI),cH,null)){return true}if(cO>=2){var cQ={x:cM[cO],y:cM[cO+1]};var cR={center:cQ,radius:cI/2};if(G.isPointInCircle(cH,cR)){return true}}}}return false},isPointInMultipoint:function(L,cH,cI){var cJ=L.pointsF;var cK={center:cH,radius:cI};for(var cL=0;cL<cJ.length;cL=cL+2){var cM=cJ[cL];var cN=cJ[cL+1];var cO={x:cM,y:cN};if(G.isPointInCircle(cO,cK)){return true}}return false},getGeometrySelectionTransform:function(L,cH,cI,cJ){if(!L){return tab.Transform.pixelToDomain(cH,cI,cJ)}return tab.Transform.none()},multipolygonIntersectsDoubleRect:function(L,cH){for(var cI=0;cI<L.polygonList.length;cI++){var cJ=L.polygonList[cI];for(var cK=0;cK<cJ.lineList.length;cK++){var cL=cJ.lineList[cK];if(G.polygonIntersectsDoubleRect(cL.pointsF,cH)){return true}}}return false},multiLineStringIntersectsDoubleRect:function(L,cH,cI){for(var cJ=0;cJ<L.lineList.length;cJ++){var cK=L.lineList[cJ];var cL=cK.pointsF;var cM=cL.length;if(cM<4||ss.imod(cM,2)===1){continue}for(var cN=0;cN<cM-2;cN+=2){var cO=new Array(4);cO[0]=cL[cN];cO[1]=cL[cN+1];cO[2]=cL[cN+2];cO[3]=cL[cN+3];if(G.polygonIntersectsDoubleRect(G.lineToQuad(cO,cI),cH)){return true}if(cN>=2){var cP={x:cL[cN],y:cL[cN+1]};var cQ={center:cP,radius:cI/2};var cR=G.$2(cH);if(G.polygonIntersectsCircle(cR,cQ)){return true}}}}return false},multipointIntersectsDoubleRect:function(L,cH,cI){return G.multipointIntersectsPolygon(L,G.$2(cH),cI)},multipolygonIntersectsPolygon:function(L,cH){for(var cI=0;cI<L.polygonList.length;cI++){var cJ=L.polygonList[cI];for(var cK=0;cK<cJ.lineList.length;cK++){var cL=cJ.lineList[cK];if(G.$7(cL.pointsF,cH)){return true}}}return false},multiLineStringIntersectsPolygon:function(L,cH,cI){for(var cJ=0;cJ<L.lineList.length;cJ++){var cK=L.lineList[cJ];var cL=cK.pointsF;var cM=cL.length;if(cM<4||ss.imod(cM,2)===1){continue}for(var cN=0;cN<cM-2;cN+=2){var cO=new Array(4);cO[0]=cL[cN];cO[1]=cL[cN+1];cO[2]=cL[cN+2];cO[3]=cL[cN+3];if(G.$7(G.lineToQuad(cO,cI),cH)){return true}if(cN>=2){var cP={x:cL[cN],y:cL[cN+1]};var cQ={center:cP,radius:cI/2};if(G.polygonIntersectsCircle(cH,cQ)){return true}}}}return false},multipointIntersectsPolygon:function(L,cH,cI){var cJ=L.pointsF;var cK={center:{x:0,y:0},radius:cI};for(var cL=0;cL<cJ.length;cL=cL+2){var cM=cJ[cL];var cN=cJ[cL+1];var cO={x:cM,y:cN};cK.center=cO;if(G.polygonIntersectsCircle(cH,cK)){return true}}return false},polygonIntersectsRect:function(L,cH){return G.$7(L,G.$3(cH))},polygonIntersectsDoubleRect:function(L,cH){return G.$7(L,G.$2(cH))},$7:function(L,cH){if(L.length===0||cH.length===0){return false}if(G.isPointInPoly(cH,{x:L[0],y:L[1]},null)){return true}if(G.isPointInPoly(L,{x:cH[0],y:cH[1]},null)){return true}if(L.length>cH.length){var cI=L;L=cH;cH=cI}for(var cJ=0,cK=L.length;cJ<cK;cJ+=2){var cL=ss.imod(cJ+2,cK);if(G.$8(cH,L[cJ],L[cJ+1],L[cL],L[cL+1])){return true}}return false},$8:function(L,cH,cI,cJ,cK){var cL=cJ-cH;var cM=cK-cI;var cN=L.length;for(var cO=0;cO<cN;cO+=2){var cP=ss.imod(cO+2,cN);var cQ=L[cO];var cR=L[cO+1];var cS=L[cP];var cT=L[cP+1];var cU=cL*(cR-cK)-cM*(cQ-cJ);var cV=cL*(cT-cK)-cM*(cS-cJ);if(cU<0&&cV<0||cU>0&&cV>0){continue}var cW=cS-cQ;var cX=cT-cR;var cY=cW*(cI-cT)-cX*(cH-cS);var cZ=cW*(cK-cT)-cX*(cJ-cS);if(cU!==0&&cV!==0){if(cY<0&&cZ>0||cY>0&&cZ<0){return true}else if(cY!==0&&cZ!==0){continue}}var da=[cY,cZ,cU,cV];var db=[cH,cI,cJ,cK,cQ,cR,cS,cT];if(G.$5(da,db)){return true}}return false},$5:function(L,cH){var cI=[4,4,0,0];var cJ=[6,6,2,2];for(var cK=0,cL=0,cM=4;cK<cM;cK++,cL+=2){if(L[cK]===0){var cN=cH[cL];var cO=cH[cL+1];var cP=cH[cI[cK]];var cQ=cH[cI[cK]+1];var cR=cH[cJ[cK]];var cS=cH[cJ[cK]+1];if(cN>=Math.min(cP,cR)&&cN<=Math.max(cP,cR)&&cO>=Math.min(cQ,cS)&&cO<=Math.max(cQ,cS)){return true}}}return false},multipolygonIntersectsCircle:function(L,cH){for(var cI=0;cI<L.polygonList.length;cI++){var cJ=L.polygonList[cI];for(var cK=0;cK<cJ.lineList.length;cK++){var cL=cJ.lineList[cK];if(G.polygonIntersectsCircle(cL.pointsF,cH)){return true}}}return false},multiLineStringIntersectsCircle:function(L,cH,cI){for(var cJ=0;cJ<L.lineList.length;cJ++){var cK=L.lineList[cJ];var cL=cK.pointsF;var cM=cL.length;if(cM<4||ss.imod(cM,2)===1){continue}for(var cN=0;cN<cM-2;cN+=2){var cO=new Array(4);cO[0]=cL[cN];cO[1]=cL[cN+1];cO[2]=cL[cN+2];cO[3]=cL[cN+3];if(G.polygonIntersectsCircle(G.lineToQuad(cO,cI),cH)){return true}if(cN>=2){var cP={x:cL[cN],y:cL[cN+1]};var cQ={center:cP,radius:cI/2};if(G.circleIntersectsCircle(cH,cQ)){return true}}}}return false},multipointIntersectsCircle:function(L,cH,cI){var cJ=L.pointsF;var cK={center:{x:0,y:0},radius:cI};for(var cL=0;cL<cJ.length;cL=cL+2){var cM=cJ[cL];var cN=cJ[cL+1];var cO={x:cM,y:cN};cK.center=cO;if(G.circleIntersectsCircle(cH,cK)){return true}}return false},circleIntersectsCircle:function(L,cH){var cI=Math.pow(L.center.x-cH.center.x,2)+Math.pow(L.center.y-cH.center.y,2);return Math.pow(L.radius+cH.radius,2)>=cI},polygonIntersectsCircle:function(L,cH){if(L.length===0||cH.radius===0){return false}if(G.isPointInPoly(L,cH.center,null)){return true}if(G.isPointInCircle({x:L[0],y:L[1]},cH)){return true}var cI=cH.radius*cH.radius;for(var cJ=0,cK=L.length;cJ<cK;cJ+=2){var cL=L[cJ];var cM=L[cJ+1];var cN=ss.imod(cJ+2,cK);var cO=L[cN];var cP=L[cN+1];var cQ=cP-cM;var cR=cO-cL;var cS=cR*cR+cQ*cQ;var cT=((cH.center.x-cL)*cR+(cH.center.y-cM)*cQ)/cS;cT=Math.min(1,Math.max(0,cT));var cU=cL+cT*cR;var cV=cM+cT*cQ;cR=cU-cH.center.x;cQ=cV-cH.center.y;cS=cR*cR+cQ*cQ;if(cI>cS){return true}}return false},circleIntersectsRect:function(L,cH){if(L.radius<=0){return false}var cI=G.$1(cH);for(var cJ=0;cJ<cI.length;cJ++){var cK=cI[cJ];if(G.isPointInCircle(cK,L)){return true}}if(tab.RectXYUtil.inRectPointF(cH,L.center)){return true}var cL=cH.w/2;var cM=cH.h/2;var cN={x:cH.x+cL,y:cH.y+cM};if(L.center.y<cH.y||L.center.y>=cH.y+cH.h){return L.center.x>cH.x&&L.center.x<cH.x+cH.w&&Math.abs(cN.y-L.center.y)<cM+L.radius}if(L.center.x<cH.x||L.center.x>=cH.x+cH.w){return L.center.y>cH.y&&L.center.y<cH.y+cH.h&&Math.abs(cN.x-L.center.x)<cL+L.radius}return false},normalizeAngle:function(L){var cH=L%G.twoPI;if(cH<0){cH+=G.twoPI}return cH},isInBetweenAngles:function(L,cH,cI){var cJ=false;if(cH>cI){var cK=cH;cH=cI;cI=cK;cJ=true}if(cH<=L&&cI>=L){return!cJ}return cJ},isPointInCircle:function(L,cH){var cI=Math.pow(L.x-cH.center.x,2)+Math.pow(L.y-cH.center.y,2);var cJ=cH.radius*cH.radius;var cK=cI<cJ;return cK},isPointInWedge:function(L,cH,cI,cJ){if(!G.isPointInCircle(L,cH)){return false}var cK=L.x-cH.center.x;var cL=L.y-cH.center.y;var cM=Math.atan2(cL,cK);cM=G.normalizeAngle(cM);return G.isInBetweenAngles(cM,cI,cJ)},rectIntersectsWedge:function(L,cH,cI,cJ){var cK=G.$1(L);for(var cL=0;cL<cK.length;cL++){var cM=cK[cL];if(G.isPointInWedge(cM,cH,cI,cJ)){return true}}if(tab.RectXYUtil.inRectPointF(L,cH.center)){return true}var cN=G.$4(cH,cI,cJ);return G.polygonIntersectsRect(cN,L)},polygonIntersectsWedge:function(L,cH,cI,cJ){if(L.length===0){return false}if(G.isPointInWedge({x:L[0],y:L[1]},cH,cI,cJ)){return true}if(G.isPointInPoly(L,cH.center,null)){return true}var cK=G.$4(cH,cI,cJ);return G.$7(cK,L)},circleIntersectsWedge:function(L,cH,cI,cJ){if(L.radius<=0){return false}if(G.isPointInWedge(L.center,cH,cI,cJ)){return true}if(G.isPointInCircle(cH.center,L)){return true}var cK=G.$4(cH,cI,cJ);return G.polygonIntersectsCircle(cK,L)},$4:function(L,cH,cI){while(cH>cI){cI+=G.twoPI}var cJ=cH;var cK=new Array(4);cK[0]=L.center.x;cK[1]=L.center.y;cK[2]=L.center.x+Math.cos(cJ)*L.radius;cK[3]=L.center.y+Math.sin(cJ)*L.radius;while(cJ<cI){var cL=Math.min(cJ+G.$a,cI);cK.push(L.center.x+Math.cos(cL)*L.radius);cK.push(L.center.y+Math.sin(cL)*L.radius);cJ=cL}return cK},areRectanglesIntersecting:function(L,cH){return tab.RectXYUtil.intersectsWith(L,cH)},getSquaredDistanceToCenter:function(L,cH){var cI=L.x+L.w/2;var cJ=L.y+L.h/2;var cK=cI-cH.x;var cL=cJ-cH.y;return cK*cK+cL*cL},getSquaredDistanceToNearestSide:function(L,cH){var cI=L.y;var cJ=L.y+L.h;var cK=L.x;var cL=L.x+L.w;var cM,cN;if(cH.x<cK){cM=cK-cH.x}else if(cH.x>cL){cM=cH.x-cL}else{cM=0}if(cH.y<cI){cN=cI-cH.y}else if(cH.y>cJ){cN=cH.y-cJ}else{cN=0}return cM*cM+cN*cN},getSquaredDistanceToCircumference:function(L,cH){var cI=Math.sqrt(G.getSquaredDistanceToCenter(L,cH))-Math.min(L.w,L.h)/2;cI=Math.max(cI,0);return cI*cI},getSquaredDistanceToLineSegment:function(L,cH,cI){var cJ,cK;if(cI.x<cH.x){var cL=cH;cH=cI;cI=cL}var cM=cI.x-cH.x;var cN=cI.y-cH.y;var cO=cM*cM+cN*cN;if(cO===0){cJ=L.x-cH.x;cK=L.y-cH.y;return cJ*cJ+cK*cK}var cP=((L.x-cH.x)*cM+(L.y-cH.y)*cN)/cO;var cQ;var cR;if(cP<0){cQ=cH.x;cR=cH.y}else if(cP>1){cQ=cI.x;cR=cI.y}else{cQ=cH.x+cP*cM;cR=cH.y+cP*cN}cJ=L.x-cQ;cK=L.y-cR;return cJ*cJ+cK*cK},degreeToRad:function(L){return L*(Math.PI/180)},radToDegree:function(L){return L*(180/Math.PI)},haversineDistance:function(L,cH,cI){var cJ=G.degreeToRad(cH.item1-L.item1);var cK=G.degreeToRad(L.item2);var cL=G.degreeToRad(cH.item2);var cM=cL-cK;var cN=Math.pow(Math.sin(cM/2),2)+Math.cos(cK)*Math.cos(cL)*Math.pow(Math.sin(cJ/2),2);var cO=2*Math.atan2(Math.sqrt(cN),Math.sqrt(1-cN));return cO*cI},$6:function(L,cH,cI,cJ,cK,cL){return(cI-L)*(cL-cH)-(cK-L)*(cJ-cH)},$1:function(L){var cH=new Array(4);cH[0]={x:L.x,y:L.y};cH[1]={x:L.x+L.w,y:L.y};cH[2]={x:L.x+L.w,y:L.y+L.h};cH[3]={x:L.x,y:L.y+L.h};return cH},$3:function(L){var cH=new Array(8);cH[0]=L.x;cH[1]=L.y;cH[2]=L.x+L.w;cH[3]=L.y;cH[4]=cH[2];cH[5]=L.y+L.h;cH[6]=L.x;cH[7]=cH[5];return cH},$2:function(L){var cH=new Array(8);cH[0]=L.x;cH[1]=L.y;cH[2]=L.x+L.w;cH[3]=L.y;cH[4]=cH[2];cH[5]=L.y+L.h;cH[6]=L.x;cH[7]=cH[5];return cH}});var H=global.tab.GotoMyLocationButton=ss.mkType(a,'tab.GotoMyLocationButton',function(L){this.$9=null;this.$8=null;spiff.Widget.call(this,$("<div class='tabGotoMyLocationButtonContainer'></div>"));if(!BrowserSupport.BrowserSupport.IsGeolocationSupported()||tab.ApplicationModel.get_instance().get_isOffline()){return}this.$9=L;this.$8=spiff.LabelButton.newNativeButton();this.get_button().addClass('tabGotoMyLocationButton');this.get_button().element.attr('title',tab.Strings.GotoMyLocationTooltip);this.get_button().add_click(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_button().remove_click(ss.mkdel(this,this.$7))})));this.get_button().addToDom(this.element)},{get_button:function(){return this.$8},$7:function(){var L={timeout:6000,enableHighAccuracy:true};window.navigator.geolocation.getCurrentPosition(ss.mkdel(this,this.$5),ss.mkdel(this,this.$6),L)},$5:function(L){var cH={};var cI=Math.abs(0.7/110.574);var cJ=Math.abs(L.coords.latitude);var cK=90-0.7/110.574;if(cJ>cK){cH.minLatitude=((L.coords.latitude<0)?-90:(L.coords.latitude-cI));cH.maxLatitude=((L.coords.latitude<0)?(L.coords.latitude+cI):90)}else{cH.minLatitude=L.coords.latitude-cI;cH.maxLatitude=L.coords.latitude+cI}var cL;var cM=Math.cos(G.degreeToRad(cJ));var cN=0.7/(111.32*180);if(cM<cN){cL=180}else{cL=0.7/(111.32*cM)}cH.minLongitude=L.coords.longitude-cL;cH.maxLongitude=L.coords.longitude+cL;tab.MapClientCommands.boundingBoxPan(this.$9,cH)},$4:function(L){var cH='';if(L.code===L.PERMISSION_DENIED){if(H.$0()){cH=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{cH=tab.Strings.GotoMyLocationPermissionDeniedError}}else if(L.code===L.TIMEOUT){cH=tab.Strings.GotoMyLocationTimeoutError}else if(L.code===L.POSITION_UNAVAILABLE){if(H.$0()){cH=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{cH=tab.Strings.GotoMyLocationPositionUnavailableError}}else{cH=tab.Strings.GotoMyLocationPositionUnavailableError}return cH},$6:function(L){var cH=this.$4(L);var cI=this.element.offset();var cJ={x:tab.DoubleUtil.roundToInt(cI.left)+tab.DoubleUtil.roundToInt(this.element.width())+8,y:tab.DoubleUtil.roundToInt(cI.top)};if(tsConfig.is_mobile){cJ.y+=ss.idiv(tab.DoubleUtil.roundToInt(this.element.height()),4)}tab.NotificationViewModel.showGeoLocationNotification(cH,-1,{x:cJ.x,y:cJ.y})}},{$0:function(){if(BrowserSupport.BrowserSupport.IsChrome()&&BrowserSupport.BrowserSupport.GoogleChromeVersion()>=50){return true}if(BrowserSupport.BrowserSupport.IsIos()&&BrowserSupport.BrowserSupport.IosVersion()>=10){return true}if(BrowserSupport.BrowserSupport.IsSafari()&&BrowserSupport.BrowserSupport.SafariVersion()>=10){return true}return false}});var I=global.tab.GridLinesRenderer=ss.mkType(a,'tab.GridLinesRenderer',function(L,cH){tab.CanvasRenderer.call(this,L,cH)},{$9:function(L,cH,cI,cJ){var cK=[L,cH,cI,cJ];tab.CanvasRenderer.strokePath(this.get_currentContext(),cK,false,true)},$a:function(L,cH,cI){this.get_currentContext().set_linePattern(cH);this.get_currentContext().set_lineCap(((cH==='solid')?'square':'butt'));this.get_currentContext().set_strokeStyle(tab.ColorModel.fromArgbInt(L).toString());this.get_currentContext().set_lineWidth(cI)},renderGridLinesForTicks:function(L,cH,cI,cJ,cK,cL,cM,cN,cO){if(I.$5(L)){this.$a(L.X.LineColor,tab.EnumConversions.linePatternFromInt(L.X.LineStyle),L.X.LineWidth);var cP=new tab.TickPlacementConfig(cL,true,false);var cQ=tab.TickPlacement.getTickPlacement(cH,cI,cN,cP,false);var cR=cI.y;var cS=cI.y+cI.h;for(var cT=0;cT<cQ.length;cT++){var cU=cQ[cT];if(!(cU===cJ)){this.$9(cU,cR,cU,cS)}}}if(I.$6(L)){this.$a(L.Y.LineColor,tab.EnumConversions.linePatternFromInt(L.Y.LineStyle),L.Y.LineWidth);var cV=new tab.TickPlacementConfig(cM,false,false);var cW=tab.TickPlacement.getTickPlacement(cH,cI,cO,cV,false);var cX=cI.x;var cY=cI.x+cI.w;for(var cZ=0;cZ<cW.length;cZ++){var da=cW[cZ];if(!(da===cK)){this.$9(cX,da,cY,da)}}}},renderGridLines:function(L,cH,cI,cJ){var cK=L.GridLines;var cL=L.TickPlacement;var cM=L.PaneCount;var cN=L.AxisOutput;var cO=cI+cM.ColumnCount;if(I.$7(cN,cH,cI)||!I.$a(cK,cL,cH,cO)){return}this.get_currentContext().save();this.get_currentContext().set_lineJoin(tab.TabRenderContext2D.defaultLineJoin);this.get_currentContext().set_shouldAntialias(false);this.get_currentContext().setClip(cJ);var cP=I.$8(cN,cH);var cQ=I.$9(cN,cI);var cR=(I.$c(cK,cH)?I.$0(cJ,cK.ZeroPoint[cH],cP):Number.NaN);var cS=(I.$d(cK,cO)?I.$1(cJ,cK.ZeroPoint[cO],cQ):Number.NaN);if(I.$b(cL)){this.renderGridLinesForTicks(cK,cL,cJ,cR,cS,cP,cQ,cH,cO)}if(!isNaN(cR)){this.$a(cK.X.ZeroLineColor,tab.EnumConversions.linePatternFromInt(cK.X.ZeroLineStyle),cK.X.ZeroLineWidth);var cT=ss.round(cR);if(cT>=cJ.x&&cT<=cJ.x+cJ.w){this.$9(cT,cJ.y,cT,cJ.y+cJ.h)}}if(!isNaN(cS)){this.$a(cK.Y.ZeroLineColor,tab.EnumConversions.linePatternFromInt(cK.Y.ZeroLineStyle),cK.Y.ZeroLineWidth);var cU=ss.round(cS);if(cU>=cJ.y&&cU<=cJ.y+cJ.h){this.$9(cJ.x,cU,cJ.x+cJ.w,cU)}}this.get_currentContext().restore()}},{$a:function(L,cH,cI,cJ){return I.$b(cH)&&(I.$5(L)||I.$6(L))||I.$c(L,cI)||I.$d(L,cJ)},$b:function(L){return!ss.isNullOrUndefined(L)},$5:function(L){return!ss.isNullOrUndefined(L.X)&&!ss.isNullOrUndefined(L.X.LineWidth)},$6:function(L){return!ss.isNullOrUndefined(L.Y)&&!ss.isNullOrUndefined(L.Y.LineWidth)},$8:function(L,cH){var cI=L.XAxisTable.IsReversed;return cI.length>=cH+1&&cI[cH]},$9:function(L,cH){var cI=L.YAxisTable.IsReversed;return cI.length>=cH+1&&cI[cH]},$7:function(L,cH,cI){var cJ=10;return L.XAxisTable.RangeType[cH]===cJ&&L.YAxisTable.RangeType[cI]===cJ},$c:function(L,cH){return L.IsQuantitativeTickType[cH]&&!ss.isNullOrUndefined(L.X)&&!ss.isNullOrUndefined(L.X.ZeroLineWidth)},$d:function(L,cH){return L.IsQuantitativeTickType[cH]&&!ss.isNullOrUndefined(L.Y)&&!ss.isNullOrUndefined(L.Y.ZeroLineWidth)},$2:function(L,cH){return(cH?(1-L):L)},$3:function(L,cH,cI){return I.$2(cH,cI)*L.w},$4:function(L,cH,cI){return I.$2(cH,cI)*L.h},$0:function(L,cH,cI){return ss.round(L.x+I.$3(L,cH,cI))},$1:function(L,cH,cI){return ss.round(L.y+L.h-I.$4(L,cH,cI))}});var J=global.tab.HackyShapeSwatchRenderer=ss.mkType(a,'tab.HackyShapeSwatchRenderer',function(L,cH,cI,cJ,cK,cL,cM){this.$D=null;this.$E=null;this.$C=null;bz.call(this,L,cH);this.$E={};var cN=tab.ApplicationModel.get_instance().get_shapeManager().get_imageKeys();var cO=ss.getKeyCount(tab.SceneDataUtil.shapeMapping)+cN.length;var cP=2;var cQ=cK-2*cP;var cR=cL-2*cP;var cS=cI-cQ/2;var cT=cJ-cR/2;var cU=cK-1;var cV=cL-1;var cW=cI-cU/2;var cX=cJ-cV/2;var cY=this.$B(cO);var cZ=this.$B(cO);var da=this.$B(cO);var db=this.$B(cO);var dc=this.$B(cO);var dd=this.$B(cO);for(var de=0;de<cO;de++){var df;if(de<ss.getKeyCount(tab.SceneDataUtil.shapeMapping)){df=_.keys(tab.SceneDataUtil.shapeMapping)[de];da.dataValues[de]=cQ;db.dataValues[de]=cR;dc.dataValues[de]=cS;dd.dataValues[de]=cT}else{df=cN[de-ss.getKeyCount(tab.SceneDataUtil.shapeMapping)];da.dataValues[de]=cU;db.dataValues[de]=cV;dc.dataValues[de]=cW;dd.dataValues[de]=cX}this.$E[df]=de;cZ.dataValues[de]=df;cY.dataValues[de]=de.toString()}var dg={};var dh='pdKey';dg.PDMarks={};dg.PDMarks[dh]={};var di=dg.PDMarks[dh];var dj={shape_id:cZ.dataValues,tuple_id:cY.dataValues,size:da.dataValues,width:da.dataValues,height:db.dataValues};var dk=dj;dk['left']=dc.dataValues;dk['top']=dd.dataValues;di.Encodings=dj;di.color=(new tab.ColorModel(0,0,0,1)).toArgbInt();var dl={Parameters:{}};var dm=dl.Parameters;dm.background_color=cM.toArgbInt();dm.PrimitiveType=4;di.MarkLayoutData=dl;dj.x=new Array(dj.width.length);dj.y=new Array(dj.width.length);for(var dn=0;dn<dj.x.length;++dn){dj.x[dn]=cI;dj.y[dn]=cJ}var dp={Rect:[0,0,cK,cL]};var dq=new tab.PaneMarksInfo(0,cO);var dr=new cb;dg.PDMarks={};dg.PDMarks['pdKey']=di;this.$D=new bE('pdKey',dr,dp,dq,null,'pdKey',dg,0)},{get_currentContext:function(){if(ss.isValue(this.$C)){return this.$C}return tab.CanvasRenderer.prototype.get_currentContext.call(this)},$B:function(L){var cH={dataValues:new Array(L)};return cH},containsShape:function(L){return ss.isValue(this.$E[L.toString()])},renderSwatch:function(L,cH,cI){this.$C=L;var cJ=(cI?'colorOverrideFog':'colorOverrideOpaque');this.drawShapeMarkLayer(this.$D,this.$E[cH.toString()],'normalOn',cJ)}});var K=global.tab.HitResultHitType=ss.mkEnum(a,'tab.HitResultHitType',{noHit:0,areaHit:1,nearHit:2,exactHit:3});var M=global.tab.HitTargetNode=ss.mkType(a,'tab.HitTargetNode',function(L,cH,cI,cJ,cK){this.$1=null;this.$0=null;this.$3=0;this.$4=0;this.$2=null;this.$9=0;this.$8=null;this.$6=null;this.$5=0;this.$7=0;this.$0=L;if(ss.isNullOrUndefined(cJ)||tab.RectXYUtil.isEmpty(cJ)){this.$2=null}else{this.$2=cJ}this.$4=cI;this.$9=cK;this.$3=cH;this.$1=[]},{get_objectId:function(){return this.$4},get_worldOffset:function(){return this.$9},get_nodeType:function(){return this.$3},get_boundingBox:function(){return this.$0},get_labelBox:function(){return this.$2},get_children:function(){return this.$1},get_parent:function(){return this.$8},set_parent:function(L){this.$8=L},get_paneKey:function(){return this.$6},set_paneKey:function(L){this.$6=L},get_paneIndex:function(){return this.$5},set_paneIndex:function(L){this.$5=L},get_paneOrderIndex:function(){return this.$7},set_paneOrderIndex:function(L){this.$7=L},addNode:function(L){this.$1.push(L);L.set_parent(this)},addNodes:function(L){ss.arrayAddRange(this.$1,L);for(var cH=0;cH<L.length;cH++){var cI=L[cH];cI.set_parent(this)}},resetChildren:function(){ss.clear(this.$1)}},{findPaneNode:function(L){if(ss.isNullOrUndefined(L)){return null}while(L.$3!==0){if(L.get_nodeType()===1){return L}L=L.get_parent()}return null},createRootNode:function(){return new M({x:0,y:0,w:9999999,h:9999999},0,-1,null,0)}});var N=global.tab.HitTestChain=ss.mkType(a,'tab.HitTestChain',function(L,cH,cI){this.$1=null;this.$2=null;this.$3=null;this.$1=cI;this.$2=cH;this.$3=L},{$0:function(L,cH,cI){var cJ=[];if(L.length===0){return cJ}var cK=new Array;for(var cL=0;cL<L.length;cL++){var cM=L[cL];var cN=this.$1[cM];if(ss.isValue(cN)){cK.push(cN.hitTest(cH,cI))}}do cJ=[S.tieBreakHits(cK.pop(),cJ)];while(cK.length>0);return cJ},getHitTestLink:function(L){return this.$1[L]},onTapHitTest:function(L,cH){return this.$0(this.$3,L,cH)},onHoverHitTest:function(L,cH){return this.$0(this.$2,L,cH)},clearCache:function(){var L=ss.getEnumerator(Object.keys(this.$1));try{while(L.moveNext()){var cH=L.current();this.$1[cH].clearCache()}}finally{L.dispose()}}},{$0:function(L,cH,cI){var cJ={};for(var cK=0;cK<L.length;cK++){var cL=L[cK];if(ss.keyExists(cJ,cL)){continue}switch(cL){case 0:{cJ[cL]=new o(cH);break}case 1:{cJ[cL]=new bW(cH,cI);break}case 2:{cJ[cL]=new cr(cH);break}case 3:{cJ[cL]=new by(cH,cI);break}}}return cJ},$4:function(L,cH,cI,cJ){if(!ss.isValue(L)||!ss.isValue(cH)){return null}var cK=N.$0(L.concat(cH),cI,cJ);return new N(L,cH,cK)},$3:function(L,cH,cI){if(!ss.isValue(L)){return null}var cJ=N.$0(L,cH,cI);return new N(L,L,cJ)},createHitTestChain:function(L,cH){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return N.$1(L,cH)}else{return N.$2(L)}},$2:function(L){return N.$3(N.$9,L,null)},$1:function(L,cH){return(p.canAnnotationInCurrentSheetType()?N.$4(N.$8,N.$6,L,cH):N.$3(N.$7,L,cH))}});var O=global.tab.HitTestDebugger=ss.mkType(a,'tab.HitTestDebugger',function(){this.$3=null;this.$4=null;this.$2=null;this.$1=null;var L=$('.tab-tvView .tabCanvas');this.$4=L.get(0);this.$3=this.$4.style.position;this.$4.style.position='absolute';this.$2=document.createElement('canvas');this.$2.width=this.$4.width;this.$2.height=this.$4.height;this.$2.style.position='absolute';this.$1=this.$4.parentNode;this.$1.appendChild(this.$2)},{get_context2D:function(){return this.$2.getContext('2d')},debugDrawBoundingBoxesHierarchy:function(L){this.clear();this.$0(L)},debugDrawBoundingBoxesHierarchies:function(L){this.clear();for(var cH=0;cH<L.length;cH++){var cI=L[cH];this.$0(cI)}},clear:function(){this.get_context2D().clearRect(0,0,this.$2.width,this.$2.height)},done:function(){this.$4.style.position=this.$3;this.$1.removeChild(this.$2)},$0:function(L){var cH=new Array;cH.push(L);while(cH.length>0){var cI=cH.shift();if(cI.get_nodeType()===2){var cJ=cI.get_boundingBox();this.get_context2D().save();if(ss.imod(O.$1,2)===0){this.get_context2D().fillStyle='rgba(120, 255, 20, 0.1)'}else{this.get_context2D().fillStyle='rgba(20, 255, 120, 0.1)'}this.get_context2D().fillRect(cJ.x,cJ.y,cJ.w,cJ.h);this.get_context2D().restore();++O.$1}if(cI.get_nodeType()===3||cI.get_nodeType()===5){var cK=cI.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(255, 0, 0, 0.2)';this.get_context2D().fillRect(cK.x,cK.y,cK.w,cK.h);this.get_context2D().restore()}if(cI.get_nodeType()===4){var cL=cI.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(0, 0, 255, 0.2)';this.get_context2D().fillRect(cL.x,cL.y,cL.w,cL.h);this.get_context2D().restore()}var cM=cI.get_children();cM.forEach(function(cN){cH.push(cN)})}}},{get_instance:function(){if(ss.isNullOrUndefined(O.$2)){O.$2=new O}return O.$2}});var P=global.tab.HitTester=ss.mkType(a,'tab.HitTester',function(L){this.$5=null;this.$5=L},{hitTestPanes:function(L){var cH=[];var cI=new Array;cI.push(this.$5);while(cI.length>0){var cJ=cI.pop();var cK=tab.RectXYUtil.intersectsWith(cJ.get_boundingBox(),L);if(cK){if(cJ.get_nodeType()===1){cH.push(cJ.get_paneKey())}else{var cL=cJ.get_children();cL.forEach(function(cM){cI.push(cM)})}}}return cH},hitTest:function(L,cH,cI){if(tab.RectXYUtil.isEmpty(L)){return[]}var cJ=this.hitTestBoundingBoxes(L,cH,cI);return(cH?this.hitTestSingle(L,cI,cJ):this.$1(L,cI,cJ))},hitTestSingle:function(L,cH,cI){var cJ=L.x+ss.idiv(L.w,2);var cK=L.y+ss.idiv(L.h,2);var cL={};var cM=[];for(var cN=cI.length-1;cN>=0;cN--){var cO=cI[cN];if(cO.get_objectId()<0){continue}var cP=M.findPaneNode(cO);if(ss.isNullOrUndefined(cP)){continue}if(ss.isNullOrUndefined(cL[cP.get_paneIndex()])){cL[cP.get_paneIndex()]=[];cM.push(cP)}cL[cP.get_paneIndex()].push(cO)}var cQ=[];var cR=[];var cS={};for(var cT=0;cT<cM.length;cT++){var cU=cM[cT];var cV=cH.getPaneDrawInfoFromKey(cU.get_paneKey());if(!cV.get_allowSelection()){continue}var cW=tab.RectXYUtil.offsetRect(L,{x:-cV.paneRect.x,y:-cV.paneRect.y});var cX=cL[cU.get_paneIndex()];for(var cY=0;cY<cX.length;cY++){var cZ=cX[cY];var da=cV.getMarkState(cZ.get_objectId());var db=cZ.get_worldOffset();var dc=cV.c.get('tuple_id').gv(cZ.get_objectId());var dd=false;if(ss.isValue(cZ.get_labelBox())){dd=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(cZ.get_labelBox(),L)}if(dd){cQ.push(new S.$ctor1(dc,8,3));cS[dc]={item1:cU.get_paneOrderIndex(),item2:da}}var de=P.$0(cV,cW,cZ.get_objectId(),db,cV.markType);if(de){cQ.push(new S.$ctor1(dc,7,3));cS[dc]={item1:cU.get_paneOrderIndex(),item2:da}}else if(cQ.length===0){var df=P.$1(cV,cW,cZ.get_objectId(),db,cV.markType);if(df){var dg;switch(cV.markType){case'line':{dg=bz.lineMarkGetDistanceToMark(cV,cJ,cK,cZ.get_objectId());break}case'bar':case'square':{dg=bz.barMarkGetDistanceToMark(cV,cJ,cK,cZ.get_objectId());break}case'shape':{dg=bz.shapeMarkGetDistanceToMark(cV,cJ,cK,cZ.get_objectId());break}case'text':{dg=bz.textMarkGetDistanceToMark(cV,cJ,cK,cZ.get_objectId());break}case'area':{dg=bz.areaMarkGetDistanceToMark(cV,cJ,cK,cZ.get_objectId());break}default:{dg=G.getSquaredDistanceToCenter(cZ.get_boundingBox(),{x:cJ,y:cK});break}}var dh=new S.$ctor1(dc,7,2);cR.push({item1:dh,item2:dg});cS[dc]={item1:cU.get_paneOrderIndex(),item2:da}}else{}}}}if(cQ.length>0){var di=this.$4(cQ,cS);if(di.get_hitType()===3){return[di]}}if(cR.length>0){var dj=this.$3(cR,cS);if(dj.get_hitType()===2){return[dj]}}return[]},$1:function(L,cH,cI){var cJ=[];for(var cK=cI.length-1;cK>=0;cK--){var cL=cI[cK];var cM=cL.get_objectId();if(cM<0){continue}var cN=M.findPaneNode(cL);if(ss.isNullOrUndefined(cN)){continue}var cO=cH.getPaneDrawInfoFromKey(cN.get_paneKey());if(!cO.get_allowSelection()){continue}var cP=P.getTransformInfo(cO,cL);var cQ=P.rectangleAreaHit(cO,cL.get_boundingBox(),L,cM,cP,cO.markType);if(cQ){cJ.push(new S.$ctor1(cO.c.get('tuple_id').gv(cM),7,1))}}return cJ},hitTestBoundingBoxes:function(L,cH,cI){if(tab.RectXYUtil.isEmpty(L)){return[]}var cJ=[];var cK=new Array;var cL={};cK.push(this.$5);while(cK.length>0){var cM=cK.pop();var cN=L;if(cH&&ss.isValue(cI)&&cM.get_nodeType()===3){var cO=M.findPaneNode(cM);if(ss.isValue(cO)){var cP=cO.get_paneKey();if(ss.keyExists(cL,cP)){cN=cL[cP]}else{var cQ=cI.getPaneDrawInfoFromKey(cO.get_paneKey());if(ss.isValue(cQ)&&cQ.get_allowSelection()){var cR;switch(cQ.markType){case'multipolygon':{cR=bz.multipolygonMarkGetHitTestExpansion(cQ,cM.get_objectId());break}case'bar':case'square':{cR=bz.barMarkGetHitTestExpansion(cQ,cM.get_objectId());break}case'shape':{cR=bz.shapeMarkGetHitTestExpansion(cQ,cM.get_objectId());break}case'text':{cR=bz.textMarkGetHitTestExpansion(cQ,cM.get_objectId());break}case'area':{cR=bz.areaMarkGetHitTestExpansion(cQ,cM.get_objectId());break}default:{cR=null;break}}if(ss.isValue(cR)&&!tab.SizeUtil.isEmpty(cR)){cN=tab.RectXYUtil.outsetRectSizeF(cN,cR)}}cL[cP]=cN}}}var cS=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(cM.get_boundingBox(),cN);if(!cS&&cH&&ss.isValue(cM.get_labelBox())){cS=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(cM.get_labelBox(),L)}if(cS){if(cM.get_nodeType()===3){cJ.push(cM)}else{var cT=cM.get_children();cT.forEach(function(cU){cK.push(cU)})}}}return cJ},$4:function(L,cH){if(L.length===0){return S.createEmptyHitTestResult()}var cI=S.createEmptyHitTestResult();L.sort(function(cM,cN){return((cM.get_id()>cN.get_id())?-1:1)});for(var cJ=0;cJ<L.length;cJ++){var cK=L[cJ];if(!ss.keyExists(cH,cK.get_id())){continue}if(cH[cK.get_id()].item2==='markStateInvisible'){continue}if(cI.get_hitType()===0){cI=cK}else{var cL=this.$0(cK.get_id(),cI.get_id(),cH);if(cL>0){cI=cK}else if(cL===0){if(cK.get_hitObjectType()>cI.get_hitObjectType()){cI=cK}}}}return cI},$3:function(L,cH){if(L.length===0){return S.createEmptyHitTestResult()}var cI=S.createEmptyHitTestResult();var cJ=null;L.sort(function(cO,cP){return((cO.item1.get_id()>cP.item1.get_id())?-1:1)});for(var cK=0;cK<L.length;cK++){var cL=L[cK];var cM=cL.item1;var cN=cL.item2;if(!ss.keyExists(cH,cM.get_id())){continue}if(cH[cM.get_id()].item2==='markStateInvisible'){continue}if(cI.get_hitType()===0){cI=cM;cJ=cN}else if(ss.Nullable$1.lt(cN,cJ)){cI=cM;cJ=cN}else if(cN===cJ&&this.$0(cM.get_id(),cI.get_id(),cH)>0){cI=cM}}return cI},$0:function(L,cH,cI){var cJ=cI[L];var cK=cI[cH];var cL=this.$2(cJ.item2);var cM=this.$2(cK.item2);if(cL>cM){return 1}if(cL===cM){var cN=cJ.item1;var cO=cK.item1;if(cN>cO){return 1}if(cN===cO){return 0}}return-1},$2:function(L){switch(L){case'markStateInvisible':{return 0}case'markStateNormal':{return 1}case'markStateHighlighted':{return 2}case'markStateSelected':{return 3}default:{return-1}}}},{$0:function(L,cH,cI,cJ,cK){switch(cK){case'area':{return bz.areaMarkExactHitTest(L,cH.x-cJ,cH.y,cI)}case'line':{return bz.lineMarkExactHitTest(L,cH.x-cJ,cH.y,cI)}case'multipolygon':{return bz.multipolygonMarkExactHitTest(L,cH.x-cJ,cH.y,cI)}case'pie':{return bz.pieMarkExactHitTest(L,cH.x-cJ,cH.y,cI)}case'shape':{return bz.shapeMarkExactHitTest(L,cH.x-cJ,cH.y,cI)}case'bar':case'square':{return bz.barMarkExactHitTest(L,cH.x-cJ,cH.y,cI)}case'text':{return bz.textMarkExactHitTest(L,cH.x-cJ,cH.y,cI)}default:{var cL={x:cH.x-Math.round(cJ),y:cH.y,w:cH.w,h:cH.h};return tab.RectXYUtil.intersectsWith(cL,L.getMarkBounds(cI))}}},$1:function(L,cH,cI,cJ,cK){switch(cK){case'line':{return bz.lineMarkNearHitTest(L,cH.x-cJ,cH.y,cI)}case'multipolygon':{return bz.multipolygonMarkNearHitTest(L,cH.x-cJ,cH.y,cI)}case'shape':{return bz.shapeMarkNearHitTest(L,cH.x-cJ,cH.y,cI)}case'bar':case'square':{return bz.barMarkNearHitTest(L,cH.x-cJ,cH.y,cI)}case'text':{return bz.textMarkNearHitTest(L,cH.x-cJ,cH.y,cI)}case'area':{return bz.areaMarkNearHitTest(L,cH.x-cJ,cH.y,cI)}default:{return false}}},rectangleAreaHit:function(L,cH,cI,cJ,cK,cL){var cM=(cK.get_isNull()?cI:tab.RectXYUtil.offsetRectF(cI,{x:-cK.get_translateX(),y:-cK.get_translateY()}));switch(cL){case'area':{return bz.areaMarkRectangleAreaHitTest(L,cM,cJ)}case'line':{return bz.lineMarkRectangleAreaHitTest(L,cM,cJ)}case'multipolygon':{return bz.multipolygonMarkRectangleAreaHitTest(L,cM,cJ)}case'pie':{return bz.pieMarkRectangleAreaHitTest(L,cM,cJ)}case'shape':{return bz.shapeMarkRectangleAreaHitTest(L,cM,cJ)}case'text':{return bz.textMarkRectangleAreaHitTest(L,cM,cJ)}case'bar':case'square':{return bz.barMarkRectangleAreaHitTest(L,cM,cJ)}default:{return tab.RectXYUtil.intersectsWith(cI,cH)}}},circleAreaHit:function(L,cH,cI,cJ,cK,cL,cM){var cN=(cK.get_isNull()?cI:tab.CircleUtil.offsetCircle(cI,{x:-cK.get_translateX(),y:-cK.get_translateY()}));var cO=(cK.get_isNull()?cH:tab.RectXYUtil.offsetRectF(cH,{x:-cK.get_translateX(),y:-cK.get_translateY()}));switch(cL){case'area':{return bz.areaMarkCircleAreaHitTest(L,cN,cJ,cO,cM)}case'line':{return bz.lineMarkCircleAreaHitTest(L,cN,cJ,cO,cM)}case'multipolygon':{return bz.multipolygonMarkCircleAreaHitTest(L,cN,cJ,cO,cM)}case'pie':{return bz.pieMarkCircleAreaHitTest(L,cN,cJ,cM)}case'shape':{return bz.shapeMarkCircleAreaHitTest(L,cN,cJ,cM)}case'text':{return bz.textMarkCircleAreaHitTest(L,cN,cJ,cO,cM)}case'bar':case'square':{return bz.barMarkCircleAreaHitTest(L,cN,cJ,cO,cM)}default:{return G.circleIntersectsRect(cI,cH)}}},polyAreaHit:function(L,cH,cI,cJ,cK,cL){var cM=(cK.get_isNull()?cH:tab.RectXYUtil.offsetRectF(cH,{x:-cK.get_translateX(),y:-cK.get_translateY()}));switch(cL){case'area':{return bz.areaMarkPolygonAreaHitTest(L,cI,cJ,cM)}case'line':{return bz.lineMarkPolygonAreaHitTest(L,cI,cJ,cM)}case'multipolygon':{return bz.multipolygonMarkPolygonAreaHitTest(L,cI,cJ,cM)}case'pie':{return bz.pieMarkPolygonAreaHitTest(L,cI,cJ)}case'shape':{return bz.shapeMarkPolygonAreaHitTest(L,cI,cJ)}case'text':{return bz.textMarkPolygonAreaHitTest(L,cI,cJ,cM)}case'bar':case'square':{return bz.barMarkPolygonAreaHitTest(L,cI,cJ,cM)}default:{return G.polygonIntersectsRect(cI,cM)}}},getTransformInfo:function(L,cH){var cI=L.paneRect;var cJ=cH.get_worldOffset();return tab.Transform.offset(cI.x+cJ,cI.y)}});var Q=global.tab.HitTestLink=ss.mkType(a,'tab.HitTestLink',function(L){this.paneTableVM=null;this.paneTableVM=L},{hitTest:null,clearCache:function(){return},dispose:function(){return}});var R=global.tab.HitTestLinkType=ss.mkEnum(a,'tab.HitTestLinkType',{annotation:0,refLine:1,trendLine:2,marks:3});var S=global.tab.HitTestResult=ss.mkType(a,'tab.HitTestResult',function(L){S.$ctor1.call(this,((L.get_visualPart()==='marks')?L.get_tupleId():L.get_index()),(ss.keyExists(S.$2,L.get_visualPart())?S.$2[L.get_visualPart()]:1),(ss.keyExists(S.$1,L.get_hitType())?S.$1[L.get_hitType()]:0))},{get_id:function(){return this.$2},get_hitObjectType:function(){return this.$0},get_hitType:function(){return this.$1},get_shouldRenderOverlay:function(){return this.$3},get_overlayTargetType:function(){switch(this.$0){case 6:{return'semantic-ref-line'}case 4:case 5:{return'ref-line'}case 3:{return'trend-line'}case 7:case 8:{return'mark'}default:{return'unspecified'}}},get_tooltipTargetType:function(){switch(this.$0){case 6:{return'refline'}case 4:case 5:case 3:{return'visualparts'}case 7:case 8:{return'mark'}default:{return'unspecified'}}},doNotRenderOverlay:function(){this.$3=false}},{$ctor1:function(L,cH,cI){this.$2=0;this.$0=0;this.$1=0;this.$3=false;this.$2=L;this.$0=cH;this.$1=cI;this.$3=cI!==0},createEmptyHitTestResult:function(){return new S.$ctor1(0,0,0)},tieBreak:function(L,cH){if(L.get_hitType()>cH.get_hitType()||L.get_hitType()===cH.get_hitType()&&(L.get_hitObjectType()>cH.get_hitObjectType()||L.get_hitObjectType()===cH.get_hitObjectType()&&L.get_id()>cH.get_id())){return L}return cH},getIdsFromHitTestResults:function(L,cH){var cI=new Set;for(var cJ=0;cJ<L.length;cJ++){var cK=L[cJ];cI.add(cK.get_id())}var cL=tab.SetUtilities.getValues(ss.UInt32).call(null,cI);if(cH){cL.sort(function(cM,cN){return cM-cN})}return cL},hasExactHit:function(L){for(var cH=0;cH<L.length;cH++){var cI=L[cH];if(cI.get_hitType()===3){return true}}return false},tieBreakHits:function(L,cH){var cI=S.createEmptyHitTestResult();var cJ=S.createEmptyHitTestResult();for(var cK=0;cK<L.length;cK++){var cL=L[cK];if(cL.get_hitType()===3){return cL}if(cL.get_hitType()!==0&&cI.get_hitType()===0){cI=cL}}for(var cM=0;cM<cH.length;cM++){var cN=cH[cM];if(cN.get_hitType()===3){return cN}if(cN.get_hitType()!==0&&cJ.get_hitType()===0){cJ=cN}}if(cI.get_hitType()!==0){return cI}if(cJ.get_hitType()!==0){return cJ}return S.createEmptyHitTestResult()}});var T=global.tab.HitTestStructureBuilder=ss.mkType(a,'tab.HitTestStructureBuilder',null,null,{buildBinnedHitTestStructure:function(L,cH){var cI=M.createRootNode();var cJ=0;var cK=L.get_runtimeData().get_annexedData().Panes;for(var cL=0;cL<cK.length;cL++){var cM=cK[cL];var cN=T.$0(L,cM);for(var cO=0;cO<cN.length;cO++){var cP=cN[cO];var cQ=L.getPaneDrawInfo(cP);var cR=cQ.get_mapExtentOrPaneRect();var cS=new M(cR,1,-1,null,0);var cT=cb.getPaneMarksKey(cP);cS.set_paneKey(cT);cS.set_paneIndex(cP.get_paneIndex());cS.set_paneOrderIndex(cJ++);cI.addNode(cS);var cU=Math.ceil(cR.w/cH);for(var cV=0;cV<cH;++cV){var cW=cV*cU+cR.x;var cX=cR.y;var cY=cU;var cZ=cR.h;var da=new M({x:cW,y:cX,w:cY,h:cZ},2,-1,null,0);cS.addNode(da)}var db=T.buildMarkBounds(cQ,0,cQ.markCount-1,cQ.getAllMarkBounds());for(var dc=0;dc<db.length;dc++){var dd=db[dc];var de=cS.get_children();for(var df=0;df<de.length;df++){var dg=de[df];if(tab.RectXYUtil.intersectsWith(dd.get_boundingBox(),dg.get_boundingBox())){dg.addNode(dd)}}}}}return cI},buildLinearHitTestStructure:function(L){var cH=M.createRootNode();var cI=0;var cJ=L.get_runtimeData().safeFetchMarkPanes();for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];var cM=T.$0(L,cL);for(var cN=0;cN<cM.length;cN++){var cO=cM[cN];var cP=L.getPaneDrawInfo(cO);if(!ss.isValue(cP)){continue}var cQ=T.$1(cO,cP,cI);cH.addNode(cQ);cI++}}return cH},buildTrendLineHitTestStructure:function(L,cH,cI){var cJ=L.pointsF;var cK=L.pathElements;var cL=Math.floor(cJ.length/2);if(cL<2){return new M({x:0,y:0,w:0,h:0},0,-1,null,0)}var cM=[];var cN=0;for(var cO=0;cO<cK.length;cO++){var cP=cK[cO];switch(cP){case'moveto':{{cN+=2}break}case'lineto':{{if(ss.isValue(cJ[cN+3])){var cQ=[cJ[cN],cJ[cN+1],cJ[cN+2],cJ[cN+3]];var cR=ss.trunc(Math.min(cQ[0],cQ[2]));var cS=ss.trunc(Math.min(cQ[1],cQ[3]));var cT=ss.trunc(Math.max(cQ[0],cQ[2]))-cR;var cU=ss.trunc(Math.max(cQ[1],cQ[3]))-cS;var cV={x:cR,y:cS,w:cT,h:cU};cV=tab.RectXYUtil.dialate(cV,ss.trunc(cH));var cW=new M(cV,5,cI,null,0);cM.push(cW)}cN+=2}break}case'curveto':{{cN+=6}break}default:{{}break}}}var cX=T.$2(cM,4);return cX},buildMarkBounds:function(L,cH,cI,cJ){var cK=cI-cH+1;var cL=[];var cM=0;for(var cN=cH;cN<=cI;++cN){var cO=cJ[cN].item1;var cP=cJ[cN].item2;var cQ=L.getMarkInstanceOffsets(cN);var cR=cQ.length;for(var cS=0;cS<cR;cS++){var cT=cO;var cU=cP;var cV=cQ[cS];if(cV!==0){var cW=ss.trunc(cV);cT=tab.RectXYUtil.offsetRectXY(cO,cW,0);cU=(ss.isValue(cP)?tab.RectXYUtil.offsetRectXY(cP,cW,0):null)}cL[cM]=new M(cT,3,cN,cU,cV);++cM}}return cL},print:function(L,cH){var cI='';var cJ=cH;while(cJ>0){cI+=' ';--cJ}console.log(cI+L.get_objectId());if(L.get_nodeType()!==3){L.get_children().forEach(function(cK){T.print(cK,cH+1)})}},$0:function(L,cH){var cI=[];var cJ=cH.DrawPanes;for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];var cM=cL;var cN=tab.EnumConversions.visualPartFromInt(cM[0]);if(cN==='marks'){var cO=cM[1];var cP=new tab.PaneMarksInfo.$ctor1(L.get_runtimeData().get_finalDataStore().Viewpoint.PerPaneExtents,L.get_runtimeData().get_paneStoreTable(),cO,L.$a,cH.Row,cH.Column,cH.Layer);cI.push(cP)}}return cI},$2:function(L,cH){var cI=L;while(cI.length>1){var cJ=[];for(var cK=0;cK<cI.length;cK+=cH){var cL=cH;var cM=cI.length-cK;if(cM<cH){cL=cM}var cN=[];var cO=null;for(var cP=0;cP<cL;++cP){var cQ=cI[cK+cP];cN.push(cQ);if(cP===0){cO={x:cQ.get_boundingBox().x,y:cQ.get_boundingBox().y,w:cQ.get_boundingBox().w,h:cQ.get_boundingBox().h}}else{cO=tab.RectXYUtil.union(cO,cN[cP].get_boundingBox())}}var cR=new M(cO,4,-1,null,0);cR.addNodes(cN);cJ.push(cR)}cI=cJ}if(cI.length!==1){}var cS=M.createRootNode();cS.addNodes(cI);return cS},$1:function(L,cH,cI){var cJ=cH.get_mapExtentOrPaneRect();var cK=new M(cJ,1,-1,null,0);var cL=cb.getPaneMarksKey(L);cK.set_paneKey(cL);cK.set_paneIndex(L.get_paneIndex());cK.set_paneOrderIndex(cI);var cM=(cH.hasUserPanes?cH.userPaneCount:1);var cN=cH.paneRect.x;var cO=cH.paneRect.y;var cP=cH.getAllMarkBounds();for(var cQ=0;cQ<cM;++cQ){var cR=tab.RectXYUtil.offsetRectXY(cH.getUserPaneRectByIndex(cQ),cN,cO);var cS=new M(cR,6,-1,null,0);var cT=cH.getUserPaneMarkRange(cQ);var cU=T.buildMarkBounds(cH,cT.firstMark,cT.lastMark,cP);cS.addNodes(cU);cK.addNode(cS)}return cK}});var U=global.tab.HorizontalScrollingManager=ss.mkType(a,'tab.HorizontalScrollingManager',function(L,cH){this.disposables=new tab.DisposableHolder;this.$5=null;this.$7=0;this.$2=null;this.$3=null;this.$6=null;this.$4=false;this.$1$1=null;this.lastTableScrollX=0;this.onPaneTableGeometryUpdated(L.get_geometryBundle());L.add_geometryBundleChanged(ss.mkdel(this,this.onPaneTableGeometryUpdated));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_geometryBundleChanged(ss.mkdel(this,this.onPaneTableGeometryUpdated))})));this.$5=cH;this.$4=L.runtimeSupported()},{add_scrollingModeChanged:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_scrollingModeChanged:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},get_isFullTableScrollingEnabled:function(){return this.$5==='whole-viz'},get_horizontalScrollingRegions:function(){return(this.get_isFullTableScrollingEnabled()?bP.scrollableTableRegions:bP.scrollableXRegions)},get_scrollbarLeft:function(){return(this.get_isFullTableScrollingEnabled()?0:this.$3.get_horizontalScrollBarLeft())},get_scrollbarWidth:function(){var L=(ss.isNullOrUndefined(this.$2.rightaxis)?0:this.$2.rightaxis.w);return Math.max(tab.Metrics.get_minScrollWidth(),(this.get_isFullTableScrollingEnabled()?(this.$3.get_onScreenWidth()-L):this.$3.get_marksAreaWidth()))},get_scrollableArea:function(){var L=(ss.isNullOrUndefined(this.$2.rightaxis)?0:this.$2.rightaxis.w);return(this.get_isFullTableScrollingEnabled()?(this.$3.get_unconstrainedDocumentWidth()-L):this.$3.get_fullScrollableSceneWidth())},onPaneTableGeometryUpdated:function(L){if(ss.isNullOrUndefined(L)){return}this.$2=L.get_geometryWithRegions();this.$3=L.get_regionGeometry();this.$6=L.get_visibleGeometry();this.$1()},$0:function(L){if(this.$5===L){return}this.$5=L;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$1:function(){if(ss.isNullOrUndefined(this.$6)||ss.isNullOrUndefined(this.$6.vizArea)){return}if(this.$6.vizArea.w<this.$7){this.$0('whole-viz')}else{this.$0('scene-only')}},setWholeVizScrollThreshold:function(L){this.$7=L;this.$1()},getVisibleGeometryForRegionIfExists:function(L,cH){if(cH){return bP.getVisibleGeometryForRegionIfExists(L,this.$6,true)}return bP.getVisibleGeometryForRegionIfExists(L,this.$6,false)},getRegionRectForRegion:function(L,cH){if(this.get_isFullTableScrollingEnabled()){var cI=bP.getRegionRectForRegionIfExists(L,this.$2);var cJ=this.getVisibleGeometryForRegionIfExists(L,cH);if(ss.isNullOrUndefined(cI)||ss.isNullOrUndefined(cJ)){return null}if(!ss.contains(bP.scrollableTableRegions,L)){return{l:cJ.l,t:cJ.t,w:cJ.w,h:cJ.h}}var cK=this.lastTableScrollX;if(this.$4&&ss.contains(bP.runtimeScrollableRegions,L)){return{l:cJ.l-cK,t:cJ.t,w:cI.w,h:cJ.h}}else{return{l:cJ.l-cK,t:cJ.t,w:Math.min(cJ.w+cK,cI.w),h:cJ.h}}}else{return this.getVisibleGeometryForRegionIfExists(L,cH)}},getScrollOffsetForRegion:function(L){if(!this.get_isFullTableScrollingEnabled()){return 0}var cH=bP.getRegionRectForRegionIfExists('yheader',this.$2);var cI=(ss.isValue(cH)?cH.w:0);if(L==='leftaxis'){return Math.max(0,this.lastTableScrollX-cI)}var cJ=bP.getRegionRectForRegionIfExists('leftaxis',this.$2);var cK=(ss.isValue(cJ)?cJ.w:0);if(L==='viz'){return Math.max(0,this.lastTableScrollX-(cI+cK))}return 0},adjustFloatingZoomToolbarIfNeeded:function(L){if(ss.isNullOrUndefined(L)){return}L.setLeftOffset(this.getScrollOffsetForRegion('viz'))},dispose:function(){this.disposables.dispose()}});var V=global.tab.IHitTestLink=ss.mkType(a,'tab.IHitTestLink');var W=global.tab.ImageDownloaderImageData=ss.mkType(a,'tab.ImageDownloaderImageData',function(L,cH,cI,cJ,cK){this.$2=null;this.$1=0;this.$3=null;this.$0=null;this.$4=0;this.$2=L;this.$1=cH;this.$3=cI;this.$0=cJ;this.$4=cK},{get_imageNode:function(){return this.$2},set_imageNode:function(L){this.$2=L},get_index:function(){return this.$1},get_src:function(){return this.$3},get_bounds:function(){return this.$0},get_version:function(){return this.$4}});var X=global.tab.ImageLoadedEventArgs=ss.mkType(a,'tab.ImageLoadedEventArgs',function(L){this.$0=null;ss.EventArgs.call(this);this.$0=L},{get_image:function(){return this.$0}});var Y=global.tab.ImageRequestUrl=ss.mkType(a,'tab.ImageRequestUrl',function(){this.$1$1=null},{get_imageRequestUrlString:function(){return this.$1$1},set_imageRequestUrlString:function(L){this.$1$1=L}},{buildImageRequestUrl:function(L,cH,cI){var cJ='vizimage:///'+cH+'/'+L;var cK=true;var cL=ss.getEnumerator(Object.keys(cI));try{while(cL.moveNext()){var cM=cL.current();if(cK){cJ+='?';cK=false}else{cJ+='&'}cJ+=cM+'='+cI[cM]}}finally{cL.dispose()}cJ+='&cb='+(new Date).getUTCMilliseconds();return cJ}});var Z=global.tab.IMapControl=ss.mkType(a,'tab.IMapControl');var ba=global.tab.IMapsSearchViewTemplate=ss.mkType(a,'tab.IMapsSearchViewTemplate');var bb=global.tab.InteractionColorModel=ss.mkType(a,'tab.InteractionColorModel',function(){this.highlightBgColor=null;this.selectionBgColor=null;this.highlightTextColor=null;this.selectionTextColor=null;this.highlightBgColor=bb.defaultHighlightBgColor;this.selectionBgColor=bb.defaultSelectionBgColor;this.highlightTextColor=bb.defaultHighlightTextColor;this.selectionTextColor=bb.defaultSelectionTextColor},null,{extractInteractionColors:function(L){var cH=ss.isValue(L)&&!ss.isNullOrEmptyString(L.highlightBgColor);var cI=ss.isValue(L)&&!ss.isNullOrEmptyString(L.highlightTextColor);var cJ=ss.isValue(L)&&!ss.isNullOrEmptyString(L.selectBgColor);var cK=ss.isValue(L)&&!ss.isNullOrEmptyString(L.selectionTextColor);if(!cH&&!cJ&&!cK&&!cI){return bb.defaultColors}var cL=new bb;cL.highlightBgColor=(cH?tab.ColorModel.fromColorCode(L.highlightBgColor):cL.highlightBgColor);cL.selectionBgColor=(cJ?tab.ColorModel.fromColorCode(L.selectBgColor):cL.selectionBgColor);cL.highlightTextColor=(cI?tab.ColorModel.fromColorCode(L.highlightTextColor):cL.highlightTextColor);cL.selectionTextColor=(cK?tab.ColorModel.fromColorCode(L.selectionTextColor):cL.selectionTextColor);return cL}});var bc=global.tab.IRuntimeUIModule=ss.mkType(a,'tab.IRuntimeUIModule');var bd=global.tab.IVizContextMenuItemsHandler=ss.mkType(a,'tab.IVizContextMenuItemsHandler');var be=global.tab.IZoomToolbarContainer=ss.mkType(a,'tab.IZoomToolbarContainer');var bf=global.tab.LeafletMapControl=ss.mkType(a,'tab.LeafletMapControl',function(){this.$h=null;this.$n=null;this.$k=null;this.$j=null;this.$l={w:100,h:100};this.$m=null;this.$p=null;this.$q=0;this.$o=false;this.$i=null},{get_enabled:function(){return ss.isValue(this.$h)&&this.$k.get_useFastMaps()},$f:function(){if(!tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.$k.get_allowLocalPanAndZoom()&&ss.isValue(this.$j)){return this.$j.$0()}else{return new L.LatLng(this.$k.get_centerLatitude(),this.$k.get_centerLongitude())}},$g:function(){if(!tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.$k.get_allowLocalPanAndZoom()&&ss.isValue(this.$j)){return this.$j.$2()}else{return this.$k.get_zoom()}},zoomOnPoint:function(cH,cI){var cJ=$.Deferred();if(!this.get_enabled()){return cJ.resolve(false)}this.$9(ss.mkdel(this,function(cK){var cL=cG.incrementZoom(this.$g(),cI);var cM;if(ss.isNullOrUndefined(cH)){cM=cK.getCenter()}else{cM=cK.containerPointToLatLng(new L.Point(cH.x,cH.y))}_.defer(ss.mkdel(this,function(){this.$b(cM,cL,true).done(function(){cJ.resolve(true)})}))}));return cJ},anchorZoom:function(cH,cI,cJ){var cK=$.Deferred();if(!this.get_enabled()){return cK.resolve(false)}this.$9(ss.mkdel(this,function(cL){var cM=cL.containerPointToLatLng(new L.Point(cI.x,cI.y));_.defer(ss.mkdel(this,function(){this.$c(cM,cH,cJ).done(function(){cK.resolve(true)})}))}));return cK},zoomRect:function(cH){var cI=$.Deferred();if(!this.get_enabled()){return cI.resolve(false)}this.$9(ss.mkdel(this,function(cJ){var cK=cJ.containerPointToLatLng(new L.Point(cH.x,cH.y+cH.h));var cL=cJ.containerPointToLatLng(new L.Point(cH.x+cH.w,cH.y));var cM=new L.LatLngBounds(cK,cL);var cN=new L.Point(cH.x+ss.idiv(cH.w,2),cH.y+ss.idiv(cH.h,2));var cO=cJ.containerPointToLatLng(cN);var cP=this.$7(cJ,cM);var cQ=this.$d(cJ,cP);this.$b(cO,cP,cQ).done(function(){cI.resolve(cQ)})}));return cI},moveToBounds:function(cH){var cI=$.Deferred();if(!this.get_enabled()){return cI.resolve(false)}this.$9(ss.mkdel(this,function(cJ){var cK=new L.LatLng(cH.minLatitude,cH.minLongitude);var cL=new L.LatLng(cH.maxLatitude,cH.maxLongitude);var cM=new L.LatLngBounds(cK,cL);var cN=new L.LatLng((cH.maxLatitude+cH.minLatitude)*0.5,(cH.maxLongitude+cH.minLongitude)*0.5);var cO=this.$7(cJ,cM);var cP=this.$d(cJ,cO);this.$b(cN,cO,cP).done(ss.mkdel(this,function(){if(!cP){this.removeMarkOverlay()}cI.resolve(cP)}))}));return cI},$7:function(L,cH){var cI=L.getBoundsZoom(cH,true);return cG.resolveDesiredZoom(this.$k.get_rasterMapSourceModel(),cI)},$d:function(L,cH){return Math.abs(L.getZoom()-cH)<=2},panTo:function(cH,cI){var cJ=$.Deferred();if(!this.get_enabled()){return cJ.resolve(false)}this.$9(ss.mkdel(this,function(cK){var cL=cK.latLngToContainerPoint(this.$f());var cM=new L.Point(cL.x-cH,cL.y-cI);var cN=cK.containerPointToLatLng(cM);var cO=new Object;cO.animate=false;var cP=cO;cK.panTo(cN,cP);cJ.resolve(true)}));return cJ},updateLocalCenter:function(cH,cI){this.$9(ss.mkdel(this,function(cJ){var cK=cJ.latLngToContainerPoint(this.$f());var cL=new L.Point(cK.x-cH,cK.y-cI);var cM=cJ.containerPointToLatLng(cL);var cN=this.$g();this.$j=new e(cM,cN)}))},updateLocalMapDataForZoomAround:function(cH,cI){if(tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')){return}this.$9(ss.mkdel(this,function(cJ){var cK=Math.pow(2,cI-this.$g());var cL=cJ.getSize().divideBy(2);var cM=cJ.containerPointToLatLng(new L.Point(cH.x,cH.y));var cN=(new L.Point(cM.lat,cM.lng)).subtract(cL).multiplyBy(1-1/cK);var cO=cJ.containerPointToLatLng(cL.add(cN));this.$j=new e(cO,cI)}))},touchMove:function(cH,cI,cJ){if(isNaN(cJ)||isNaN(cI)||isNaN(cH)){return}if(tab.DoubleUtil.isApproximatelyEqual(cJ,1)&&!this.$o){this.panTo(cH,cI);return}this.$h.done(ss.mkdel(this,function(cK){if(!this.$o){var cL=cK.getPanes();$(cL.mapPane).addClass('leaflet-touching');$(cL.overlayPane).addClass('leaflet-touching');this.$i=new L.Point(cH,cI)}this.$o=true;tab.WindowHelper.cancelAnimationFrame(this.$q);this.$q=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){var L=cG.combineTileZoomAndStretch(this.$g(),cJ);this.$1(cK,L,cJ,cH,cI)}))}))},pinchScale:function(L,cH,cI){},touchEnd:function(L,cH,cI){this.$9(ss.mkdel(this,function(cJ){this.$a(cJ);if(this.$o){var cK=cG.combineTileZoomAndStretch(this.$g(),cI);var cL=cG.resolveDesiredZoom(this.$k.get_rasterMapSourceModel(),cK);cI=Math.pow(2,cL-this.$g());this.$1(cJ,cL,cI,L,cH)}this.$o=false}))},splatOverlayToMapForTransition:function(cH){if(ss.isNullOrUndefined(this.$h)){return}var cI=tabBootstrap.MetricsController.createContext('Leaflet Marks Splat',32,null);this.$h.done(ss.mkdel(this,function(cJ){if(ss.isValue(this.$n)){return}var cK=tab.RenderUtil.calculatePixelRatio(true);if(!tab.CanvasUtil.canvasDensified(cH)){cK=1}var cL=Math.floor(2*cK);var cM={x:cL,y:cL,w:cH.width-2*cL,h:cH.height-2*cL};var cN=Math.floor(cJ.latLngToContainerPoint(bf.$1(bf.$7)).y*cK);var cO=Math.floor(cJ.latLngToContainerPoint(bf.$1(bf.$9)).y*cK);if(cO<cH.height){cM.h=cO}if(cN>0){cM.y+=cN;cM.h-=cN}var cP=new Object;cP.pixelRatio=cK;var cQ=cP;this.$n=new L.CanvasOverlay(cJ.getBounds(),cQ);cJ.addLayer(this.$n);var cR=this.$n.getCanvas();var cS=tab.CanvasRenderer.getRenderContext(cR,'transparent');var cT={x:cL,y:cL,w:cM.w,h:cM.h};cS.drawImage5(cH,cM.x,cM.y,cM.w,cM.h,cT.x,cT.y,cT.w,cT.h);cH.width=cH.width;cI.dispose()}))},createMap:function(L,cH){tab.ModuleManager.loadCss(tsConfig.external_static_asset_prefix+'/css/leaflet.css');this.$k=cH;this.$j=null;this.$p=new f;this.$p.domRoot.appendTo(L);if(ss.isValue(this.$l)){tab.DomUtil.setMarginBox(this.$p.$4(),{l:0,t:0,w:this.$l.w,h:this.$l.h})}var cI=$.Deferred();var cJ=$.Deferred();this.$h=cJ;tab.ModuleManager.load('leaflet',[]).done(ss.mkdel(this,function(cK){this.$2(cJ,cI)}));return cI},$2:function(cH,cI){if(!this.get_enabled()){cI.reject();return}var cJ=(new Date).getTime();var cK=false;var cL=bo.createLoadMapContext('Leaflet',this.$k.get_sheetName());var cM=function(){if(document.hidden){cK=true}};document.addEventListener('visibilitychange',cM);var cN=this.$3();var cO=new L.Map(this.$p.$4(),cN);cO.once('load',function(L){cI.resolve()});cO.setView(this.$f(),this.$g());var cP=this.$5();this.$m=new L.TileLayer(this.$k.get_tileUrl(),cP);this.$m.once('load',ss.mkdel(this,function(L){if(!cK){var cS=(new Date).getTime()-cJ;bp.logMapCreateDone(this.$4(cS));cL.dispose()}document.removeEventListener('visibilitychange',cM)}));this.$e();cO.addLayer(this.$m);this.$k.add_newMapServerInfo(ss.mkdel(this,this.$8));if(this.$k.get_hasWashout()&&this.$k.get_hasValidTileLayer()){var cQ=this.$k.get_washoutColor();var cR=bf.$0(cQ.toRgb());cP.opacity=cQ.get_a();cO.addLayer(new L.TileLayer(cR,cP))}this.$p.$3(this.$k);this.$0(this.$g(),false);cH.resolve(cO)},$e:function(){var L=(this.$k.get_hasValidTileLayer()?1:0);this.$m.setOpacity(L)},destroyMap:function(){var L=$.Deferred();if(ss.isValue(this.$p)){this.$p.dispose();this.$p=null}var cH=ss.mkdel(this,function(){if(ss.isValue(this.$k)){this.$k.remove_newMapServerInfo(ss.mkdel(this,this.$8));this.$k=null}L.resolve()});if(ss.isValue(this.$h)){this.$h.done(function(cI){cI.remove();cH()});this.$h=null}else{cH()}return L},$8:function(){this.$9(ss.mkdel(this,function(L){if(L._animatingZoom){window.setTimeout(ss.mkdel(this,this.$8),10)}else{this.$e();this.$j=null;var cH=this.$f();var cI=L.latLngToContainerPoint(L.getCenter());var cJ=L.latLngToContainerPoint(cH);var cK=Math.abs(L.getZoom()-this.$g());if(cK>0.001){}var cL=cK<0.01&&cI.distanceTo(cJ)<8;this.$b(cH,this.$g(),cL);this.$6(L)}}))},$6:function(L){var cH=$(L.getPanes().tilePane).find('.leaflet-tile-container');for(var cI=0;cI<cH.length;++cI){if(!tab.MiscUtil.isNullOrEmpty$1(cH[cI].style.visibility)){L._onZoomTransitionEnd();break}}},resize:function(L,cH){var cI={w:L,h:cH};if(tab.SizeUtil.equals(cI,this.$l)){return}this.$l=cI;this.$9(ss.mkdel(this,function(cJ){tab.DomUtil.setMarginBox(cJ.getContainer(),{l:0,t:0,w:cI.w,h:cI.h});cJ.invalidateSize(false);this.$0(this.$g(),false);this.$p.$2()}))},setScrollX:function(L){this.$9(function(cH){cH.getContainer().style.left=-L+'px'})},setScrollY:function(L){this.$9(function(cH){cH.getContainer().style.top=-L+'px'})},removeMarkOverlay:function(){if(ss.isNullOrUndefined(this.$h)){return}this.$h.done(ss.mkdel(this,function(L){if(ss.isNullOrUndefined(this.$n)){return}L.removeLayer(this.$n);this.$n=null;this.$6(L);this.$a(L)}))},dispose:function(){this.destroyMap()},$3:function(){var L=new Object;L.zoomControl=false;L.attributionControl=false;return L},$5:function(){var L=new Object;L.maxZoom=100;L.maxNativeZoom=this.$k.get_maxZoom();L.minZoom=this.$k.get_minZoom();L.continuousZoom=true;L.intermediateTileLevels=ss.isValue(this.$k.get_rasterMapSourceModel().get_intermediateTileLevels())&&this.$k.get_rasterMapSourceModel().get_intermediateTileLevels()>1;var cH=this.$k.get_rasterMapSourceModel().get_mapTileSize();L.zoomOffset=tab.MapUtil.getLeafletZoomOffsetForTileSize(cH);L.tileSize=cH;return L},$c:function(L,cH,cI){var cJ=$.Deferred();var cK=new Object;cK.animate=cI;var cL=cK;if(cH<0){return cJ.resolve(false)}this.$h.done(ss.mkdel(this,function(cM){if(cM._animatingZoom){this.$6(cM)}cM.once('moveend',function(cN){cJ.resolve(true)});cM.setZoomAround(L,cH,cL);this.$0(cH,true)}));return cJ},$b:function(L,cH,cI){var cJ=$.Deferred();var cK=new Object;cK.animate=cI;var cL=cK;if(cH<0){return cJ.resolve(false)}this.$h.done(ss.mkdel(this,function(cM){if(cM._animatingZoom){this.$6(cM)}if(!tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')){this.$j=new e(L,cH)}cM.once('moveend',function(cN){cJ.resolve(cI)});cM.setView(L,cH,cL);this.$0(cH,cI)}));return cJ},$0:function(L,cH){var cI=L+tab.MapUtil.getLeafletZoomOffsetForTileSize(this.$k.get_rasterMapSourceModel().get_mapTileSize());var cJ=tab.MapUtil.getVisiblePixelWidth(cI,this.$k.get_numWorldRepeats(),this.$k.get_rasterMapSourceModel().get_mapTileSize());var cK=this.$p.$5();var cL=Math.ceil((cK-cJ)/2);cL=Math.max(cL,0);this.$p.$1(cL,cH)},$1:function(cH,cI,cJ,cK,cL){var cM=new L.Point(cK,cL);cM=cM.subtract(this.$i);var cN=cH.containerPointToLayerPoint(cH.getSize().divideBy(2));var cO=(new L.Point(0,0)).subtract(cM).divideBy(cJ);var cP=cN.add(cO);var cQ=cH.layerPointToLatLng(cP);if(isNaN(cQ.lat)||isNaN(cQ.lng)){return}cH._animateZoom(cQ,cI,cN,cJ,cM);this.$0(cI,false)},$a:function(L){$(L.getPanes().mapPane).removeClass('leaflet-touching');$(L.getPanes().overlayPane).removeClass('leaflet-touching');tab.WindowHelper.cancelAnimationFrame(this.$q)},$9:function(L){if(!this.get_enabled()){return}this.$h.done(L)},$4:function(L){var cH={};cH['MapControlType']='Leaflet';cH['ZoomLevel']=this.$k.get_requestZoom();cH['WashOut']=this.$k.get_washoutColor().toString();cH['NumRepeatBackground']=this.$k.get_numWorldRepeats();cH['RenderMode']='Client';cH['ElapsedTime']=L;cH['HardwareConcurrency']=window.navigator.hardwareConcurrency;return cH}},{$0:function(L){var cH=256;var cI=document.createElement('canvas');cI.width=cH;cI.height=cH;var cJ=tab.CanvasRenderer.getRenderContext(cI,'transparent');cJ.set_shapeFillStyle(L);cJ.fillRect(0,0,cH,cH);var cK=cI.toDataURL('png',null);return cK},$1:function(cH){return new L.LatLng(cH.item1,cH.item2)}});var bg=global.tab.LineAttribute=ss.mkType(a,'tab.LineAttribute',function(L){this.startIndex=0;this.endIndex=0;this.selectedCount=0;this.highlightedCount=0;this.marksNeedingDraw=[];this.worldOffsets=null;this.boundingBox={x:0,y:0,w:0,h:0};this.sloppyBoundingBox={x:0,y:0,w:0,h:0};this.startIndex=L;this.endIndex=-1;this.selectedCount=0;this.highlightedCount=0},{get_allHighlighted:function(){return this.highlightedCount>=this.endIndex-this.startIndex+1},get_lineState:function(){if(this.selectedCount>0){return'lineStateSelected'}else if(this.highlightedCount>0){return'lineStateHighlighted'}else{return'lineStateNormal'}}});var bh=global.tab.LineMarkDrawState=ss.mkType(a,'tab.LineMarkDrawState',function(L){this.$1=null;this.$1=[];this.$0(L)},{get_lineAttributes:function(){return this.$1},$0:function(L){ss.clear(this.$1);var cH=L.markCount;var cI=new bg(0);for(var cJ=0;cJ<cH;cJ++){var cK=L.getMarkBounds(cJ);tab.RectXYUtil.unionInPlace(cI.boundingBox,cK);var cL=L.getMarkState(cJ);if(cL==='markStateSelected'){cI.selectedCount++;if(L.isMarkHighlighted(cJ)){cI.highlightedCount++}}else if(cL==='markStateHighlighted'){cI.highlightedCount++}if(L.markNeedsDraw(cJ)){cI.marksNeedingDraw.push(cJ)}if(L.isMarkEndPrimitive(cJ)){cI.worldOffsets=L.getWorldInstanceOffsets(cI.boundingBox.x,cI.boundingBox.x+cI.boundingBox.w);cI.endIndex=cJ;cI.sloppyBoundingBox=tab.RectXYUtil.outsetRect(cI.boundingBox,4,4);this.$1.push(cI);cI=new bg(cJ+1)}}}});var bi=global.tab.LocalRenderVizHitTestDebouncer=ss.mkType(a,'tab.LocalRenderVizHitTestDebouncer',function(L,cH,cI){this.$2=null;cB.call(this,L,cH);this.$2=cI},{hitTest:function(L,cH){var cI=this.$2.getPaneDrawInfoFromSelectionAnchor(L);if(ss.isValue(cI)){var cJ=this.$2.onTapHitTest(L);var cK=this.getPaneIndex(cI.paneColumn,cI.paneRow,cI.paneLayer);this.setCurrent(new cA(this.region,cK,cI.paneColumn,cI.paneRow,cI.paneLayer,L,cH,cJ))}else{this.setCurrent(null)}}});var bj=global.tab.LocalRenderVizHitTester=ss.mkType(a,'tab.LocalRenderVizHitTester',function(L,cH){this.$1=null;this.$2=null;this.$1=L;this.$2=cH},{$0:function(){return this.$1.value()},onTapHitTest:function(L){if(ss.isNullOrUndefined(this.$0())){return S.createEmptyHitTestResult()}return this.$0().onTapHitTest(L,true)[0]},onHoverHitTest:function(L){if(ss.isNullOrUndefined(this.$0())){return S.createEmptyHitTestResult()}return this.$0().onHoverHitTest(L,true)[0]},clearCache:function(){this.$0().clearCache()},getPaneDrawInfoFromSelectionAnchor:function(L){var cH=by.getPaneKeysByHitTesting(L,this.$2);if(cH.length===0){return null}return this.$2.getPaneDrawInfoFromKey(cH[0])},hitTestMarksAgainstSelectionShape:function(L){return by.hitTestMarks(null,false,null,this.$2,L)}});var bk=global.tab.LocalRenderVizSelectionDispatcher=ss.mkType(a,'tab.LocalRenderVizSelectionDispatcher',null,null,{doSingleSelect:function(L,cH,cI,cJ,cK,cL){var cM=tab.ModelUtils.getZoneIdForSheetName(cK.worksheet);switch(L.get_tooltipTargetType()){case'mark':{tab.SelectionClientCommands.selectMarksLocal([L.get_id()],cK,cI,false,function(){cJ(L)},(cL?'addorkeep':'replace'));break}case'refline':{tab.SelectionClientCommands.selectRefLinesLocal([L.get_id()],cK,cI,function(){cJ(L)},(cL?'addorkeep':'replace'));break}case'visualparts':{var cN={x:cH.x,y:cH.y,w:1,h:1};tab.SelectionClientCommands.selectRectRegionAndDoUbertip$1('viz',cN,cI,cK,function(){cJ(L)},(cL?'addorkeep':'replace'),cM,null);break}default:{if(tab.ModelUtils.isMultiSelectFeatureEnabled(tab.ModelUtils.findContentDashboard(null))&&cL){tab.SelectionClientCommands.setActiveZone(cM,'addorremove',null)}if(L.get_hitType()!==0){cJ(L)}if(cI==='simple'){tab.SelectionClientCommands.clearAllSelections(cK)}break}}},doMultiSelect:function(L,cH,cI,cJ){var cK=S.getIdsFromHitTestResults(L,false);if(tab.MiscUtil.isNullOrEmpty(cK)){if(cH==='simple'){tab.SelectionClientCommands.clearAllSelections(cJ)}return false}else{tab.SelectionClientCommands.selectMarksLocal(cK,cJ,cH,true,cI,'addorkeep');return true}}});var bl=global.tab.MapAttributionTemplate=ss.mkType(a,'tab.MapAttributionTemplate',function(){this.attributionBackground=null;this.attributionLink=null;this.attributionLink2=null;spiff.Template.call(this,$(bl.$1));this.attributionBackground=this.getElementBySelector('.tabMapAttributionBackground');this.attributionLink=this.getElementBySelector('.tabMapAttributionLink');this.attributionLink2=this.getElementBySelector('.tabMapAttributionLink2')});var bm=global.tab.MapboxExpression=ss.mkType(a,'tab.MapboxExpression',null,null,{replaceString:function(L,cH,cI){if(tab.MiscUtil.isNullOrEmpty$1(cI)){return L}var cJ=ss.safeCast(L,String);if(ss.isValue(cJ)){if(ss.referenceEquals(cJ,cH)){return cI}else{return cJ}}var cK=ss.safeCast(L,Array);if(ss.isNullOrUndefined(cK)){return L}var cL=ss.arrayClone(cK);for(var cM=0;cM<cL.length;++cM){cL[cM]=bm.replaceString(cL[cM],cH,cI)}return cL}});var bn=global.tab.MapboxMapControl=ss.mkType(a,'tab.MapboxMapControl',function(){this.$J=null;this.$N=null;this.$M=null;this.$O={w:100,h:100};this.$K=false;this.$L=false;this.$Q=false;this.$P='unknown'},{get_enabled:function(){return ss.isValue(this.$J)&&this.$N.get_useFastMaps()},$H:function(){if(!tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.$N.get_allowLocalPanAndZoom()&&ss.isValue(this.$M)){return this.$M.$0()}else{return new mapboxgl.LngLat(this.$N.get_centerLongitude(),this.$N.get_centerLatitude())}},$I:function(){if(!tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&this.$N.get_allowLocalPanAndZoom()&&ss.isValue(this.$M)){return this.$M.$2()}else{return this.$N.get_zoom()}},get_testMap:function(){if(this.$J.state()!=='resolved'){return null}var L=null;this.$J.done(function(cH){L=cH});return L},zoomOnPoint:function(L,cH){return this.$9(ss.mkdel(this,function(cI){var cJ=cG.incrementZoom(this.$I(),cH);var cK;if(ss.isNullOrUndefined(L)){cK=cI.getCenter()}else{cK=cI.unproject(new mapboxgl.Point(L.x,L.y))}this.$c(cI,cK,cJ,true)}))},anchorZoom:function(L,cH,cI){return this.$9(ss.mkdel(this,function(cJ){var cK=cJ.unproject(new mapboxgl.Point(cH.x,cH.y));this.$b(cJ,cK,L,cI)}))},zoomRect:function(L){return this.$9(ss.mkdel(this,function(cH){var cI=cH.unproject(new mapboxgl.Point(L.x,L.y+L.h));var cJ=cH.unproject(new mapboxgl.Point(L.x+L.w,L.y));var cK=new mapboxgl.LngLatBounds(cI,cJ);this.$e(cH,cK,true)}))},moveToBounds:function(L){return this.$9(ss.mkdel(this,function(cH){var cI=new mapboxgl.LngLat(L.minLongitude,L.minLatitude);var cJ=new mapboxgl.LngLat(L.maxLongitude,L.maxLatitude);var cK=new mapboxgl.LngLatBounds(cI,cJ);this.$e(cH,cK,true)}))},panTo:function(L,cH){return this.$9(ss.mkdel(this,function(cI){var cJ=cI.project(this.$H());var cK=new mapboxgl.Point(cJ.x-L,cJ.y-cH);var cL=cI.unproject(cK);var cM={animate:false};cI.panTo(cL,cM)}))},$9:function(L){var cH=$.Deferred();if(!this.$K){return cH.resolve(false)}this.$r(ss.mkdel(this,function(cI){L(cI);this.$G(cI).done([function(){cH.resolve(true)}])}));return cH},updateLocalCenter:function(L,cH){this.$M=null;this.$q(ss.mkdel(this,function(cI){this.$G(cI).done([ss.mkdel(this,function(){var cJ=cI.project(this.$H());var cK=new mapboxgl.Point(cJ.x-L,cJ.y-cH);var cL=cI.unproject(cK);var cM=this.$I();this.$M=new g(cL,cM)})])}))},updateLocalMapDataForZoomAround:function(L,cH){this.$M=null;this.$q(ss.mkdel(this,function(cI){this.$G(cI).done([ss.mkdel(this,function(){var cJ=cI.getCenter();this.$M=new g(cJ,cH)})])}))},pinchScale:function(L,cH,cI){if(!tab.DoubleUtil.isApproximatelyEqual(cI,1)){this.$r(ss.mkdel(this,function(cJ){var cK=cG.combineTileZoomAndStretch(this.$I(),cI);var cL=new mapboxgl.Point(L,cH);var cM=cJ.unproject(cL);this.$b(cJ,cM,cK,false)}))}},touchMove:function(L,cH,cI){this.panTo(L,cH)},touchEnd:function(L,cH,cI){},splatOverlayToMapForTransition:function(L){this.$r(ss.mkdel(this,function(cH){var cI=this.$h(cH);if(ss.isNullOrUndefined(cI)){return}var cJ=cI.getCanvas();var cK=this.$1(cH);var cL=cK.x;var cM=cK.y;var cN=cK.w;var cO=cK.h;var cP=2;var cQ=bn.$0(L,cL,cM,cN,cO,cP);var cR=bn.$0(cJ,0,0,cN,cO,cP);var cS=tab.CanvasRenderer.getRenderContext(cJ,'transparent');cS.drawImage5(L,cQ.x,cQ.y,cQ.w,cQ.h,cR.x,cR.y,cR.w,cR.h);L.width=L.width;cI.play()}))},removeMarkOverlay:function(){this.$r(ss.mkdel(this,function(L){var cH=this.$h(L);if(ss.isNullOrUndefined(cH)){return}this.$3(L);L.once('render',function(cI){cH.pause()});cH.play()}))},createMap:function(L,cH){this.$N=cH;this.$0();this.$M=null;var cI=$.Deferred();var cJ=$.Deferred();this.$J=cJ;cI.fail([function(){cJ.reject()}]);var cK=this.$d();tab.ModuleManager.load('mapbox-gl',[]).done(ss.mkdel(this,function(cL){cK.done(ss.mkdel(this,function(cM){this.$4(cJ,cI,L,cM)})).fail(function(){cI.reject()})}));return cI},$d:function(){var L=this.$g();if(ss.isNullOrUndefined(L)){return $.Deferred().reject()}var cH={};cH['access_token']=L.get_accessToken();var cI=cH;return $.getJSON(L.get_styleJsonUrl(),cI,null).fail(ss.mkdel(this,function(cJ,cK,cL){this.$o(cJ.status)}))},$4:function(L,cH,cI,cJ){if(!this.get_enabled()){cH.reject();return}var cK=this.$g();if(!cK.get_hasPresModel()){cH.reject();return}var cL=(new Date).getTime();var cM=bo.createLoadMapContext('MapboxGLJS',this.$N.get_sheetName());var cN=bo.createInteractiveContext('MapboxGLJS',this.$N.get_sheetName());var cO=false;var cP=function(){if(document.hidden){cO=true}};document.addEventListener('visibilitychange',cP);cO=cO||document.hidden;mapboxgl.accessToken=cK.get_accessToken();mapboxgl.config.API_URL=cK.get_baseUrl();this.$u();var cQ=document.createElement('div');if(ss.isValue(this.$O)){tab.DomUtil.setMarginBox(cQ,{l:0,t:0,w:this.$O.w,h:this.$O.h})}cI.append(cQ);if(ss.isNullOrUndefined(document.getElementById('hideMapboxLogoStyle'))){cI.append(this.$6())}this.$w(cJ,cK);this.$D(cJ.layers,cK);var cR=this.$5(cQ,cJ);var cS=new mapboxgl.Map(cR);var cT=cQ.querySelector("canvas[class='mapboxgl-canvas']");if(ss.isValue(cT)){cT.removeAttribute('tabIndex')}cS.once('load',ss.mkdel(this,function(cU){if(!cO){var cV=(new Date).getTime()-cL;bp.logMapCreateDone(this.$7(cK,cV));cM.dispose()}document.removeEventListener('visibilitychange',cP);this.$L=true;cH.resolve()}));cS.once('style.load',ss.mkdel(this,function(cU){if(!cO){cN.dispose()}this.$K=true}));cS.on('style.load',ss.mkdel(this,function(cU){this.$A(cS);cS.once('render',ss.mkdel(this,function(cV){this.$3(cS);this.$2(cS)}));cS.moveLayer('overlay_canvas_layer','overlay_canvas_layer')}));cS.on('error',ss.mkdel(this,function(cU){if(cU.error.name==='AJAXError'){this.$o(cU.error.status)}}));cS.on('zoom',ss.mkdel(this,function(cU){this.$2(cS)}));cS.on('resize',ss.mkdel(this,function(cU){this.$2(cS);this.$3(cS)}));if(cS&&cS.transform){cS.transform.latRange=null}if(cS&&cS.transform){cS.transform.maxValidLatitude=Infinity}cS.jumpTo({center:this.$H(),zoom:this.$I()});L.resolve(cS)},$v:function(){var L=this.$g();if(ss.isNullOrUndefined(L)){return false}var cH=mapboxgl.getRTLTextPluginStatus();var cI=ss.equalsT(cH,'deferred')||ss.equalsT(cH,'loading')||ss.equalsT(cH,'loaded');return!cI},$u:function(){if(!this.$v()){return}var L=tableau.util.assetUrl((tsConfig.debugMode?'javascripts/mapbox-gl-rtl-text.js':'javascripts/mapbox-gl-rtl-text.min.js'),false);var cH=function(cI){if(ss.isValue(cI)){var cJ=cI.toString();tab.ErrorTrace.report(new ss.Exception('Mapbox RTL Text Plugin Error: '+cJ),false)}};mapboxgl.setRTLTextPlugin(L,cH,true)},$o:function(L){if(ss.isNullOrUndefined(this.$N)){return}if(L===401||L===404){var cH=new tab.ReportMapboxParamsFailureCmd;cH.c['visualIdPresModel']=tab.ModelUtils.getVisualId(this.$N.get_sheetName());cH.invoke()}},$6:function(){var L=document.createElement('style');L.setAttribute('id','hideMapboxLogoStyle');L.innerHTML='a.mapboxgl-ctrl-logo {display: none}';return L},$0:function(){if(ss.isNullOrUndefined(this.$N)){return}this.$N.add_newMapServerInfo(ss.mkdel(this,this.$l));this.$N.add_worldRepeatsChanged(ss.mkdel(this,this.$n));this.$N.add_washoutChanged(ss.mkdel(this,this.$m));var L=this.$N.get_mapboxMapSourceModel();if(ss.isNullOrUndefined(L)){return}L.add_styleRefreshRequired(ss.mkdel(this,this.$p));L.add_dataLayerRefreshRequired(ss.mkdel(this,this.$j));L.add_featureLayersRefreshRequired(ss.mkdel(this,this.$k))},$8:function(){if(ss.isNullOrUndefined(this.$N)){return}this.$N.remove_newMapServerInfo(ss.mkdel(this,this.$l));var L=this.$N.get_mapboxMapSourceModel();if(ss.isNullOrUndefined(L)){return}L.remove_styleRefreshRequired(ss.mkdel(this,this.$p));L.remove_dataLayerRefreshRequired(ss.mkdel(this,this.$j));L.remove_featureLayersRefreshRequired(ss.mkdel(this,this.$k))},$E:function(L){var cH=this.$g();if(ss.isValue(cH)){var cI=cH.get_accessToken();var cJ=cH.get_baseUrl();if(L.match(bn.$7).length>0){L=L.replace(bn.$7,'access_token='+cI)}if(!tab.MiscUtil.isNullOrEmpty$1(cJ)){L=L.replace(bn.$8,cJ)}}var cK={};cK['url']=L;return cK},$5:function(L,cH){var cI={container:L,attributionControl:false,interactive:false,trackResize:false,minZoom:this.$N.get_minZoom(),maxZoom:this.$N.get_maxZoom(),localIdeographFontFamily:'Arial, sans-serif'};cI.style=cH;cI.transformRequest=ss.mkdel(this,function(cJ,cK){return this.$E(cJ)});return cI},destroyMap:function(){var L=$.Deferred();this.$K=false;this.$L=false;var cH=ss.mkdel(this,function(){if(ss.isValue(this.$N)){this.$8();this.$N=null}L.resolve()});if(ss.isValue(this.$J)){this.$J.done(function(cI){var cJ=cI.getContainer();cJ.parentNode.removeChild(cJ);cI.remove();cH()}).fail(cH);this.$J=null}else{cH()}return L},$l:function(){this.$q(ss.mkdel(this,function(L){this.$G(L).done([ss.mkdel(this,function(){this.$M=null;var cH=this.$H();L.stop();this.$c(L,cH,this.$I(),false)})]);this.$u()}))},$n:function(){this.$q(ss.mkdel(this,function(L){this.$3(L);this.$2(L)}))},$m:function(){this.$q(ss.mkdel(this,function(L){this.$G(L).done([ss.mkdel(this,function(){L.removeLayer('washout_layer');this.$F(L);L.moveLayer('washout_layer','overlay_canvas_layer')})])}))},$p:function(){this.$q(ss.mkdel(this,function(L){this.$d().done(ss.mkdel(this,function(cH){var cI=this.$g();if(ss.isNullOrUndefined(cI)){return}this.$w(cH,cI);this.$D(cH.layers,cI);L.setStyle(cH,{diff:false,localIdeographFontFamily:'Arial, sans-serif'})}))}))},$j:function(){this.$q(ss.mkdel(this,function(L){if(ss.isValue(L.getLayer('tableau_data_layer'))){L.removeLayer('tableau_data_layer')}if(ss.isValue(L.getSource('tableau_data_source'))){L.removeSource('tableau_data_source')}this.$x(L,this.$N.get_mapboxMapSourceModel())}))},$k:function(){this.$q(ss.mkdel(this,function(L){if(!this.$Q){this.$t(L);return}this.$B(L,L.getStyle().layers,this.$N.get_mapboxMapSourceModel())}))},$t:function(L){this.$d().done(ss.mkdel(this,function(cH){var cI=this.$g();if(ss.isNullOrUndefined(cI)){return}this.$D(cH.layers,cI);L.setStyle(cH,{diff:false,localIdeographFontFamily:'Arial, sans-serif'});this.$Q=true}))},resize:function(L,cH){var cI={w:L,h:cH};if(tab.SizeUtil.equals(cI,this.$O)){return}this.$O=cI;this.$q(function(cJ){tab.DomUtil.setMarginBox(cJ.getContainer(),{l:0,t:0,w:cI.w,h:cI.h});cJ.resize()})},setScrollX:function(L){this.$q(function(cH){cH.getContainer().style.left=-L+'px'})},setScrollY:function(L){this.$q(function(cH){cH.getContainer().style.top=-L+'px'})},dispose:function(){this.destroyMap()},$q:function(L){if(!this.get_enabled()){return}this.$J.done(L)},$r:function(L){if(!this.get_enabled()||!this.$K){return}this.$J.done(L)},$s:function(L){if(!this.get_enabled()||!this.$L){return}this.$J.done(L)},$G:function(L){var cH=$.Deferred();if(L.isMoving()){L.once('moveend',function(cI){cH.resolve()})}else{cH.resolve()}return cH},$b:function(L,cH,cI,cJ){this.$a(L,null,cH,cI,cJ)},$c:function(L,cH,cI,cJ){this.$a(L,cH,null,cI,cJ)},$a:function(L,cH,cI,cJ,cK){if(cJ<0){return}if(!tab.FeatureFlags.isEnabled('RuntimeComputeMapCenterInVTL')&&ss.isValue(cH)){this.$M=new g(cH,cJ)}var cL={center:cH,around:cI,zoom:cJ,animate:cK,duration:250};L.easeTo(cL)},$e:function(L,cH,cI){var cJ={linear:true,animate:cI,duration:250};L.fitBounds(cH,cJ)},$z:function(L,cH,cI){var cJ=ss.safeCast(bm.replaceString(L.filter,cH,cI),Array);if(ss.isNullOrUndefined(cJ)){return}L.filter=cJ},$y:function(L,cH,cI){var cJ=L.layout;if(ss.isNullOrUndefined(cJ)){return}var cK=cJ['text-field'];if(ss.isNullOrUndefined(cK)){return}var cL=bm.replaceString(cJ['text-field'],cH,cI);if(ss.isNullOrUndefined(cL)){return}cJ['text-field']=cL},$C:function(L){if(ss.isNullOrUndefined(L.getSource('overlay_canvas_source'))){var cH=document.createElement('canvas');cH.width=L.getCanvas().width;cH.height=L.getCanvas().height;L.addSource('overlay_canvas_source',{type:'canvas',animate:false,canvas:cH,coordinates:[[0,1],[1,1],[1,0],[0,0]]})}if(ss.isNullOrUndefined(L.getLayer('overlay_canvas_layer'))){L.addLayer({id:'overlay_canvas_layer',source:'overlay_canvas_source',type:'raster',paint:{'raster-fade-duration':0}})}},$F:function(L){var cH=this.$N.get_hasWashout()&&this.$N.get_hasValidTileLayer()&&this.$N.get_washoutColor().get_a()>0&&ss.isNullOrUndefined(L.getLayer('washout_layer'));if(!cH){return}var cI=1;var cJ={id:'washout_layer',type:'background',paint:{'background-color':'#ffffff','background-opacity':Math.min(this.$N.get_washoutColor().get_a(),cI)}};L.addLayer(cJ)},$x:function(L,cH){var cI=cH.get_dataRequestUrl();var cJ=cH.get_dataColorRamp();if(ss.isNullOrEmptyString(cI)||ss.isNullOrEmptyString(cJ)){return}if(ss.isNullOrUndefined(L.getSource('tableau_data_source'))){L.addSource('tableau_data_source',{type:'vector',url:cI})}if(ss.isNullOrUndefined(L.getLayer('tableau_data_layer'))){var cK=cH.get_dataInsertAbove();var cL=cH.get_dataSourceLayer();var cM=cH.get_dataOpacity();var cN={type:'fill',id:'tableau_data_layer',source:'tableau_data_source','source-layer':cL};var cO=1;var cP=L.getStyle().layers;for(var cQ=0;cQ<cP.length;++cQ){if(ss.referenceEquals(cP[cQ].id,cK)){cO=cQ+1;break}}if(cO<cP.length){L.addLayer(cN,cP[cO].id)}else{L.addLayer(cN)}L.setPaintProperty('tableau_data_layer','fill-opacity',JSON.parse(cM));L.setPaintProperty('tableau_data_layer','fill-color',JSON.parse(cJ))}},$B:function(L,cH,cI){var cJ=cI.get_enabledMapLayerIds();cJ.add('tableau_data_layer');cJ.add('washout_layer');cJ.add('overlay_canvas_layer');for(var cK=0;cK<cH.length;cK++){var cL=cH[cK];var cM=cJ.has(cL.id);L.setLayoutProperty(cL.id,'visibility',(cM?'visible':'none'))}},$D:function(L,cH){var cI=cH.get_mapCodeFilterKeyword();var cJ=cH.get_mapCode();var cK=cH.get_languageCodePropertyKeyword();var cL=cH.get_languageCode();for(var cM=0;cM<L.length;cM++){var cN=L[cM];this.$z(cN,cI,cJ);this.$y(cN,cK,cL)}},$A:function(L){if(ss.isNullOrUndefined(this.$N)){return}var cH=this.$N.get_mapboxMapSourceModel();if(!cH.get_hasPresModel()){return}this.$x(L,cH);this.$F(L);this.$C(L);var cI=L.getStyle().layers;this.$B(L,cI,cH)},$w:function(L,cH){var cI=cH.get_enabledMapLayerIds();L.layers=L.layers.filter(function(cP){return cI.has(cP.id)||ss.referenceEquals(cP.id,cH.get_dataInsertAbove())});var cJ=new Set;for(var cK=0;cK<L.layers.length;cK++){var cL=L.layers[cK];if(ss.isValue(cL.source)){cJ.add(cL.source)}}var cM={};var cN=new ss.ObjectEnumerator(L.sources);try{while(cN.moveNext()){var cO=cN.current();if(cJ.has(cO.key)){cM[cO.key]=cO.value}}}finally{cN.dispose()}L.sources=cM;this.$Q=false},$h:function(L){return L.getSource('overlay_canvas_source')},$f:function(L){var cH=L.getCanvas();var cI=ss.safeCast(cH.getContext('webgl'),WebGLRenderingContext);if(ss.isNullOrUndefined(cI)){cI=ss.safeCast(cH.getContext('experimental-webgl'),WebGLRenderingContext)}var cJ=ss.safeCast(cI.getExtension('WEBGL_debug_renderer_info'),Object);if(ss.isValue(cJ)){this.$P=ss.safeCast(cI.getParameter(cJ.UNMASKED_RENDERER_WEBGL),String)}return cI},$g:function(){if(ss.isNullOrUndefined(this.$N)){return null}var L=this.$N.get_mapboxMapSourceModel();if(!L.get_hasPresModel()){return null}return L},$3:function(L){var cH=this.$h(L);if(ss.isNullOrUndefined(cH)){return}var cI=cH.getCanvas();var cJ=this.$1(L);var cK=tab.RenderUtil.calculatePixelRatio(true);var cL=cJ.w;var cM=cJ.h;if(tab.CanvasUtil.isOverCanvasSizeLimit(cL,cM,cK)){cK=1}tab.CanvasUtil.setCanvasSizeAndDensify(cI,cK,{w:cL,h:cM});if(cJ.h===0){return}var cN=cJ.x;var cO=cJ.x+cJ.w;var cP=cJ.y;var cQ=cJ.y+cJ.h;var cR=[L.unproject([cN,cP]).toArray(),L.unproject([cO,cP]).toArray(),L.unproject([cO,cQ]).toArray(),L.unproject([cN,cQ]).toArray()];cH.setCoordinates(cR)},$2:function(L){var cH=this.$f(L);if(ss.isNullOrUndefined(cH)){return}var cI=this.$1(L);var cJ=window.devicePixelRatio;cH.enable(3089);cH.scissor(ss.trunc(cI.x*cJ),ss.trunc(0*cJ),ss.trunc(cI.w*cJ),ss.trunc(L.getContainer().offsetHeight*cJ))},$i:function(L){return ss.trunc(L.project(bn.$6).x-L.project(bn.$5).x)},$1:function(L){var cH=this.$i(L)*this.$N.get_numWorldRepeats();var cI=ss.trunc(L.project(bn.$5).y);var cJ=ss.trunc(L.project(bn.$6).y);var cK=L.project(L.getCenter());var cL=Math.max(ss.trunc(cK.x)-ss.idiv(cH,2),0);var cM=Math.min(ss.trunc(cK.x)+ss.idiv(cH,2),L.getContainer().offsetWidth);var cN=Math.min(Math.max(cI,0),L.getContainer().offsetHeight);var cO=Math.min(Math.max(cJ,0),L.getContainer().offsetHeight);return{x:cL,y:cN,w:cM-cL,h:cO-cN}},$7:function(L,cH){var cI={};cI['MapControlType']='MapboxGLJS';cI['MapStyle']=L.get_styleJsonUrl();cI['MapCode']=L.get_mapCode();cI['ZoomLevel']=this.$N.get_requestZoom();cI['WashOut']=this.$N.get_washoutColor().toString();cI['NumRepeatBackground']=this.$N.get_numWorldRepeats();cI['RenderMode']='Client';cI['AllowLocalPanAndZoom']=this.$N.get_allowLocalPanAndZoom();cI['ElapsedTime']=cH;cI['HardwareConcurrency']=window.navigator.hardwareConcurrency;cI['Renderer']=this.$P;cI['RTLPluginStatus']=mapboxgl.getRTLTextPluginStatus();cI['WorksheetId']=tsConfig.current_view_id;cI['IsMobile']=tsConfig.is_mobile;cI['IsMobileApp']=tsConfig.is_mobile_app;return cI}},{$0:function(L,cH,cI,cJ,cK,cL){var cM=tab.RenderUtil.calculatePixelRatio(true);if(!tab.CanvasUtil.canvasDensified(L)){cM=1}var cN={x:ss.trunc((cH+cL)*cM),y:ss.trunc((cI+cL)*cM),w:Math.max(ss.trunc((cJ-2*cL)*cM),1),h:Math.max(ss.trunc((cK-2*cL)*cM),1)};return cN}});var bo=global.tab.MapControlMetrics=ss.mkType(a,'tab.MapControlMetrics',null,null,{createLoadMapContext:function(L,cH){var cI=ss.mkdict(['viz',cH]);return tabBootstrap.MetricsController.createContext(L+'_CreateMap',512,JSON.stringify(cI))},createInteractiveContext:function(L,cH){var cI=ss.mkdict(['viz',cH]);return tabBootstrap.MetricsController.createContext(L+'_FirstInteractive',512,JSON.stringify(cI))}});var bp=global.tab.MapControlTelemetry=ss.mkType(a,'tab.MapControlTelemetry',null,null,{logMapCreateDone:function(L){tab.OnlineAnalyticsClient.logEvent('MapControl_CreateMap_Done',L)}});var bq=global.tab.MapControlType=ss.mkType(a,'tab.MapControlType');var br=global.tab.MapOptionsWebCmd=ss.mkType(a,'tab.MapOptionsWebCmd',function(){ss.makeGenericType(tab.BaseCmd$2,[Object,bs]).call(this)},{get_commandId:function(){return br.cmdId},invoke:function(){return this.invoke$1(tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'map-options-web'},this.c))}});var bs=global.tab.MapOptionsWebCmd$Response=ss.mkType(a,'tab.MapOptionsWebCmd$Response',function(L){this.$$c=null;this.$$c=L});var bt=global.tab.MapRenderType=ss.mkType(a,'tab.MapRenderType');var bu=global.tab.MapsSearchComponent=ss.mkType(a,'tab.MapsSearchComponent',function(L,cH){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bv,Object,Object]).call(this,tab.ObjectRegistry.newView(bv).call(null,[L.viewModel]),L,cH);this.get_widget().set_isVisible(true);this.get_widget().set_isCollapsed(true)},{handleWidgetPropertyChanged:function(L,cH){},updateWidgetState:function(L){}});var bv=global.tab.MapsSearchView=ss.mkType(a,'tab.MapsSearchView',function(L,cH){this.mapsSearchViewModel=null;this.mapsSearchViewTemplate=null;this.$j=null;this.mapsSearchView=null;this.gotoMyLocationButton=null;this.$m=null;this.$k=false;this.$l=true;this.queryDelayTimer=null;ss.makeGenericType(spiff.BaseView$1,[bw]).call(this,L,cH.get_template());this.mapsSearchViewModel=L;this.mapsSearchViewTemplate=cH;this.mapsSearchView=cH.get_template().domRoot.find('.tabMapsSearchView');this.set_isVisible(false);this.$j=tab.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.mapsSearchViewTemplate.get_mapsSearchViewRootElement().append(this.$j.get_domRoot());this.$j.addClass('tabMapsSearchView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(tab.Strings.MapsSearchViewInitialText);this.mapsSearchView.addClass('tabMapsSearchViewTranslucent');this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().add_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$9));this.mapsSearchViewModel.add_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.add_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.mapsSearchViewModel.add_searchWidgetCollapsed(ss.mkdel(this,this.handleCollapseSearchWidget));this.mapsSearchViewModel.add_visibilityChanged(ss.mkdel(this,this.$b));this.mapsSearchViewModel.add_userInteractionEnabled(ss.mkdel(this,this.handleEnableUserInteraction));this.mapsSearchViewModel.add_initialTextInputValueRestored(ss.mkdel(this,this.$a));this.mapsSearchViewModel.add_suggestionListRemoved(ss.mkdel(this,this.handleRemoveSuggestionList));this.mapsSearchViewModel.add_blurInputElementCalled(ss.mkdel(this,this.$8));this.$g();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().remove_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$9));this.mapsSearchViewModel.remove_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.remove_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.mapsSearchViewModel.remove_searchWidgetCollapsed(ss.mkdel(this,this.handleCollapseSearchWidget));this.mapsSearchViewModel.remove_visibilityChanged(ss.mkdel(this,this.$b));this.mapsSearchViewModel.remove_userInteractionEnabled(ss.mkdel(this,this.handleEnableUserInteraction));this.mapsSearchViewModel.remove_initialTextInputValueRestored(ss.mkdel(this,this.$a));this.mapsSearchViewModel.remove_suggestionListRemoved(ss.mkdel(this,this.handleRemoveSuggestionList));this.mapsSearchViewModel.remove_blurInputElementCalled(ss.mkdel(this,this.$8));this.$f()})));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$c)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$d)));if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.gotoMyLocationButton=new H(this.get_viewModel().get_visualID());this.gotoMyLocationButton.addClass('tabSuppressVizTooltipsAndOverlays');this.gotoMyLocationButton.addToDom(this.element)}},{get_compositeSearchWidget:function(){return this.$j},get_isCollapsed:function(){return this.$k},set_isCollapsed:function(L){this.$k=L;this.mapsSearchView.toggleClass('tabMapsSearchViewCollapsed',this.$k);this.mapsSearchView.parent().toggleClass('tabMapsSearchContainerCollapsed',this.$k)},get_isVisible:function(){return this.$l},set_isVisible:function(L){if(tab.FeatureParamsLookup.getBool(28)===true){L=true}if(this.$l===L){return}this.$l=L;this.mapsSearchViewTemplate.get_template().domRoot.css('display',(this.$l?'':'none'))},$c:function(L){this.mapsSearchView.removeClass('tabMapsSearchViewTranslucent')},$d:function(L){this.mapsSearchView.addClass('tabMapsSearchViewTranslucent')},$9:function(L){this.$f();if(L.trim().length===0){this.handleRemoveSuggestionList()}else{this.$i();this.$h()}},showNewSuggestions:function(L,cH){if(!ss.referenceEquals(L,this.$j.get_textInputView().get_text())||ss.isNullOrUndefined(cH)){return}this.$m=tab.MiscUtil.dispose(this.$m);this.$m=[];for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];this.$m.push(spiff.ListItemViewModel.newListItem(cI.toString(),cJ,false,false,false))}this.get_compositeSearchWidget().showList(this.$m,this,this.mapsSearchView)},$i:function(){if(ss.isNullOrUndefined(this.$m)){return}this.get_compositeSearchWidget().showList(this.$m,this,this.mapsSearchView)},$7:function(L){var cH=$("<span class='tab-list-item-label'></span>");var cI='<span></span>';var cJ=$(cI);var cK=$(cI);cJ.addClass('tabMapsSearchViewSuggestionDisplayName');var cL=L.geographicSearchCandidateDisplayName;var cM=ss.trimEndString(this.$j.get_textInputView().get_text());if(ss.startsWithString(cL.toLowerCase(),cM.toLowerCase())){var cN=$(cI);cN.addClass('tabMapsSearchViewSuggestionActiveSearchText');cN.text(cL.substr(0,cM.length));cJ.append(cN);var cO=$(cI);cO.text(cL.substr(cM.length));cJ.append(cO)}else{cJ.text(L.geographicSearchCandidateDisplayName)}cH.append(cJ);cK.addClass('tabMapsSearchViewSuggestionParentName');cK.text(L.geographicSearchCandidateParentName);cH.append(cK);return cH},handleEnterKeyPress:function(){this.$f();if(ss.isValue(this.get_compositeSearchWidget().get_listViewModel())){this.mapsSearchViewModel.moveMapToCandidateBounds(this.get_compositeSearchWidget().get_listViewModel().get_collection()[0].get_data());this.handleRemoveSuggestionList()}else{this.mapsSearchViewModel.commitToSearchString(this.get_compositeSearchWidget().get_textInputView().get_text())}},handleListItemClick:function(L){this.$f();this.handleRemoveSuggestionList();this.mapsSearchViewModel.moveMapToSuggestionListItem(L)},handleCollapseSearchWidget:function(){this.set_isCollapsed(true)},$b:function(L){this.set_isVisible(L)},$a:function(){this.get_compositeSearchWidget().get_textInputView().set_text('')},handleRemoveSuggestionList:function(){this.$j.removeList();this.$m=tab.MiscUtil.dispose(this.$m)},$8:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()},setGeoLocationButtonVisibility:function(L){if(L){this.gotoMyLocationButton.element.css('display','inline-block')}else{this.gotoMyLocationButton.element.css('display','none')}},handleSearchButtonClick:function(){this.$f();this.set_isCollapsed(!this.$k);if(!this.$k){if(!BrowserSupport.BrowserSupport.IsIE()){this.$j.get_textInputView().get_inputElement().focus()}if(this.get_compositeSearchWidget().get_textInputView().get_text().length>0){this.selectAllSearchText()}}},$h:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$e),200)},$f:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$e:function(){this.mapsSearchViewModel.getSuggestionsForSearchString(this.get_compositeSearchWidget().get_textInputView().get_text());this.$f()},updateSearchTextValue:function(L){var cH=L.geographicSearchCandidateDisplayName;if(!ss.isNullOrEmptyString(L.geographicSearchCandidateParentName)){cH+=', '+L.geographicSearchCandidateParentName}this.get_compositeSearchWidget().setSearchText(cH)},selectAllSearchText:function(){tab.DomUtil.selectAllInputText(this.$j.get_textInputView().get_inputElement())},handleEnableUserInteraction:function(L){this.element.css({'pointer-events':(L?'auto':'none')})},createListItemContent:function(L){return this.$7(L.get_data())},$g:function(){var L=this.get_compositeSearchWidget().get_textInputView().get_inputElement();if(!ss.staticEquals(this.mapsSearchViewModel.get_focusInHandler(),null)){L.focusin(this.mapsSearchViewModel.get_focusInHandler())}if(!ss.staticEquals(this.mapsSearchViewModel.get_focusOutHandler(),null)){L.focusout(this.mapsSearchViewModel.get_focusOutHandler())}if(!ss.staticEquals(this.mapsSearchViewModel.get_keypressHandler(),null)){L.keypress(this.mapsSearchViewModel.get_keypressHandler())}},dispose:function(){this.$j.dispose();if(ss.isValue(this.gotoMyLocationButton)){this.gotoMyLocationButton.dispose()}ss.makeGenericType(spiff.BaseView$1,[bw]).prototype.dispose.call(this)}},{newMapsSearchViewTemplate:function(){return new d}});var bw=global.tab.MapsSearchViewModel=ss.mkType(a,'tab.MapsSearchViewModel',function(L){this.$0=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.$2$12=null;spiff.BaseViewModel.call(this);this.$0=L},{add_receivedNewSuggestions:function(L){this.$2$1=ss.delegateCombine(this.$2$1,L)},remove_receivedNewSuggestions:function(L){this.$2$1=ss.delegateRemove(this.$2$1,L)},add_updateTextInputValue:function(L){this.$2$2=ss.delegateCombine(this.$2$2,L)},remove_updateTextInputValue:function(L){this.$2$2=ss.delegateRemove(this.$2$2,L)},add_onMoveMapToBounds:function(L){this.$2$3=ss.delegateCombine(this.$2$3,L)},remove_onMoveMapToBounds:function(L){this.$2$3=ss.delegateRemove(this.$2$3,L)},add_searchWidgetCollapsed:function(L){this.$2$4=ss.delegateCombine(this.$2$4,L)},remove_searchWidgetCollapsed:function(L){this.$2$4=ss.delegateRemove(this.$2$4,L)},add_visibilityChanged:function(L){this.$2$5=ss.delegateCombine(this.$2$5,L)},remove_visibilityChanged:function(L){this.$2$5=ss.delegateRemove(this.$2$5,L)},add_userInteractionEnabled:function(L){this.$2$6=ss.delegateCombine(this.$2$6,L)},remove_userInteractionEnabled:function(L){this.$2$6=ss.delegateRemove(this.$2$6,L)},add_initialTextInputValueRestored:function(L){this.$2$7=ss.delegateCombine(this.$2$7,L)},remove_initialTextInputValueRestored:function(L){this.$2$7=ss.delegateRemove(this.$2$7,L)},add_suggestionListRemoved:function(L){this.$2$8=ss.delegateCombine(this.$2$8,L)},remove_suggestionListRemoved:function(L){this.$2$8=ss.delegateRemove(this.$2$8,L)},add_blurInputElementCalled:function(L){this.$2$9=ss.delegateCombine(this.$2$9,L)},remove_blurInputElementCalled:function(L){this.$2$9=ss.delegateRemove(this.$2$9,L)},get_visualID:function(){return this.$0},get_gotoMyLocationButtonEnabled:function(){return tab.FeatureParamsLookup.getBool(32)&&BrowserSupport.BrowserSupport.IsGeolocationSupported()},get_focusInHandler:function(){return this.$2$10},set_focusInHandler:function(L){this.$2$10=L},get_focusOutHandler:function(){return this.$2$11},set_focusOutHandler:function(L){this.$2$11=L},get_keypressHandler:function(){return this.$2$12},set_keypressHandler:function(L){this.$2$12=L},commitToSearchString:function(L){L=L.trim();this.sendGeographicSearchQuery(L,1,ss.mkdel(this,this.moveToTopGeographicCandidate))},getSuggestionsForSearchString:function(L){this.sendGeographicSearchQuery(L,5,ss.mkdel(this,this.processGeographicSuggestions))},moveMapToCandidateBounds:function(L){if(ss.isValue(this.$2$2)){this.$2$2(L)}if(ss.isValue(this.$2$3)){this.$2$3(L.mapLatLongRect)}tab.MapClientCommands.boundingBoxPan(this.$0,L.mapLatLongRect)},moveMapToSuggestionListItem:function(L){var cH=L.get_data();this.moveMapToCandidateBounds(cH)},moveToTopGeographicCandidate:function(L){var cH=L.geographicSearchCandidateList;if(cH.length===0){}else{var cI=cH[0];this.moveMapToCandidateBounds(cI)}},processGeographicSuggestions:function(L){if(!ss.isValue(this.$2$1)){return}var cH=[];for(var cI=0;cI<L.geographicSearchCandidateList.length;cI++){cH.push(L.geographicSearchCandidateList[cI])}this.$2$1(L.geographicSearchSearchString,cH)},sendGeographicSearchQuery:function(L,cH,cI){var cJ=tsConfig.workbookLocale||'en_US'.toLowerCase();tab.MapClientCommands.geographicSearchQuery(this.$0,L,cJ,cH,cI)},collapseSearchWidget:function(){this.raiseActionEvent(this.$2$4)},setVisible:function(L){this.raiseActionEvent$1(Boolean).call(this,this.$2$5,L)},enableUserInteraction:function(L){this.raiseActionEvent$1(Boolean).call(this,this.$2$6,L)},restoreInitialTextInputValue:function(){this.raiseActionEvent(this.$2$7)},removeSuggestionList:function(){this.raiseActionEvent(this.$2$8)},blurInputElement:function(){this.raiseActionEvent(this.$2$9)}});var bx=global.tab.MarkRange=ss.mkType(a,'tab.MarkRange',null,null,{isInstanceOfType:function(){return true}});var by=global.tab.MarksHitTestLink=ss.mkType(a,'tab.MarksHitTestLink',function(L,cH){this.$1=null;this.$2=null;Q.call(this,L);this.$2=cH},{hitTest:function(L,cH){var cI=(ss.isValue(L)?{x:L.x,y:L.y,w:1,h:1}:null);return by.hitTestMarks(cI,cH,this.$0(),this.$2,null)},$0:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=by.buildHitTester(this.$2)}return this.$1},clearCache:function(){this.$1=null}},{hitTestMarks:function(L,cH,cI,cJ,cK){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return[]}var cL;{var cM=tabBootstrap.MetricsController.createContext('HitTestMarks',256,null);try{var cN=(ss.isValue(cI)?cI:by.buildHitTester(cJ));cL=(ss.isValue(cK)?cK.hitTest(cN,cH,cJ):cN.hitTest(L,cH,cJ))}finally{if(ss.isValue(cM)){cM.dispose()}}}if(cL.length>0){return cL}else{return[]}},buildHitTester:function(L){var cH=T.buildLinearHitTestStructure(L);return new P(cH)},getPaneKeysByHitTesting:function(L,cH){var cI=by.buildHitTester(cH);var cJ={x:L.x,y:L.y,w:1,h:1};var cK=cI.hitTestPanes(cJ);return cK}});var bz=global.tab.MarksRenderer=ss.mkType(a,'tab.MarksRenderer',function(L,cH){tab.CanvasRenderer.call(this,L,cH)},{renderMultipolygonMark:function(L,cH,cI){var cJ=L.get_hasSelection();var cK=L.get_hasBrushing();var cL='colorOverrideNone';var cM=L.getUserPaneMarkRange(cH);var cN=cM.firstMark;var cO=cM.lastMark;var cP=L.getUserPaneRectByIndex(cH);this.get_currentContext().save();switch(cI){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateNormal'){continue}this.drawMultipolygonMarkLayer(L,cS,'normalUnder',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}if(cJ||cK){cL='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateHighlighted'){continue}this.drawMultipolygonMarkLayer(L,cS,'normalUnder',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}}break}case'normalOnPass':{if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateNormal'){continue}this.drawMultipolygonMarkLayer(L,cS,'normalOn',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(cJ||cK){cL='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateHighlighted'){continue}this.drawMultipolygonMarkLayer(L,cS,'normalOn',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(cJ||cK){cL='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateSelected'){continue}this.drawMultipolygonMarkLayer(L,cS,'selectedUnder',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(cJ||cK){cL='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateSelected'){continue}this.drawMultipolygonMarkLayer(L,cS,'normalOn',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}break}}this.get_currentContext().restore()},drawMultipolygonMarkLayer:function(L,cH,cI,cJ){if(L.clipCase!==0){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cH),L.c.get('cell_y').gv(cH),L.c.get('clip_width').gv(cH),L.c.get('clip_height').gv(cH))}var cK=((cI!=='normalOn')?0:bz.$f());var cL='empty';var cM=L.getMarkGeometry(L.c.get('geometry').gv(cH));if(ss.isValue(cM)){cL=cM.geometryType}switch(cL){case'multiPolygon':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(cH),L.c.get('y').gv(cH));this.get_currentContext().scale(L.c.get('size').gv(cH),L.c.get('size').gv(cH))}tab.CanvasRenderer.createMultipolygonPath(this.get_currentContext(),cM);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(cI){case'normalUnder':{{this.strokeCurrentPath(2-cK,L.c.get('halo_color').gv(cH)[cJ])}break}case'selectedUnder':{{this.strokeCurrentPath(2-cK,L.c.get('selected_halo_color').gv(cH)[cJ])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(cH)[cJ])}if(L.c.get('draw_border').gv(cH)){this.strokeCurrentPath(1-cK,L.c.get('border_color').gv(cH)[cJ])}break}default:{break}}break}case'multiLineString':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(cH),L.c.get('y').gv(cH));this.get_currentContext().scale(L.c.get('size').gv(cH),L.c.get('size').gv(cH))}tab.CanvasRenderer.createMultiLinePath(this.get_currentContext(),cM);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(cI){case'normalUnder':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(cH)+4,L.c.get('halo_color').gv(cH)[cJ])}{tab.CanvasRenderer.fillMultiLineStringEndCaps(this.get_currentContext(),cM.multiLine,L.c.get('size').gv(cH)+4,2,L.c.get('halo_color').gv(cH)[cJ])}break}case'selectedUnder':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(cH)+4,L.c.get('selected_halo_color').gv(cH)[cJ])}{tab.CanvasRenderer.fillMultiLineStringEndCaps(this.get_currentContext(),cM.multiLine,L.c.get('size').gv(cH)+4,2,L.c.get('selected_halo_color').gv(cH)[cJ])}break}case'normalOn':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(cH),L.getMarkColors(cH)[cJ])}break}default:{break}}break}case'multiPoint':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(cH),L.c.get('y').gv(cH));this.get_currentContext().scale(L.c.get('size').gv(cH),L.c.get('size').gv(cH))}var cN=L.c.get('size').gv(cH);var cO=((!L.hasPixelGeometry&&cN>0)?(7/cN):7);tab.CanvasRenderer.createMultipointPath(this.get_currentContext(),cO,cM);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(cI){case'normalUnder':{{this.strokeCurrentPath(2-cK,L.c.get('halo_color').gv(cH)[cJ])}break}case'selectedUnder':{{this.strokeCurrentPath(2-cK,L.c.get('selected_halo_color').gv(cH)[cJ])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(cH)[cJ])}if(L.c.get('draw_border').gv(cH)){this.strokeCurrentPath(1-cK,L.c.get('border_color').gv(cH)[cJ])}break}default:{break}}break}case'empty':{tab.CanvasRenderer.createPlaceholderPath(this.get_currentContext(),L.c.get('x').gv(cH),L.c.get('y').gv(cH),7);switch(cI){case'normalUnder':{{this.strokeCurrentPath(2-cK,L.c.get('halo_color').gv(cH)[cJ])}break}case'selectedUnder':{{this.strokeCurrentPath(2-cK,L.c.get('selected_halo_color').gv(cH)[cJ])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(cH)[cJ])}if(L.c.get('draw_border').gv(cH)){this.strokeCurrentPath(1-cK,L.c.get('border_color').gv(cH)[cJ])}break}default:{break}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderAreaMark:function(L,cH,cI){var cJ=L.get_hasSelection();var cK=L.get_hasBrushing();var cL='colorOverrideNone';var cM=L.getUserPaneMarkRange(cH);var cN=cM.firstMark;var cO=cM.lastMark;var cP=L.getUserPaneRectByIndex(cH);var cQ=L.get_lineDrawState();this.get_currentContext().save();switch(cI){case'normalUnderPass':{break}case'normalOnPass':{if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}var cR=cQ.get_lineAttributes();for(var cS=0;cS<cR.length;cS++){var cT=cR[cS];if(cT.get_lineState()!=='lineStateNormal'){continue}var cU=cT.worldOffsets;var cV=cU.length;for(var cW=0;cW<cV;cW++){var cX=cU[cW];bz.$d(this.get_currentContext(),cX);{for(var cY=0;cY<cT.marksNeedingDraw.length;cY++){var cZ=cT.marksNeedingDraw[cY];this.drawAreaMarkLayer(L,cZ,'edgeOn',cL,cT.startIndex)}}if(cX!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(cJ||cK){cL='colorOverrideNone';var da=cQ.get_lineAttributes();for(var db=0;db<da.length;db++){var dc=da[db];if(dc.get_lineState()!=='lineStateHighlighted'){continue}var dd=dc.worldOffsets;var de=dd.length;for(var df=0;df<de;df++){var dg=dd[df];bz.$d(this.get_currentContext(),dg);{for(var dh=0;dh<dc.marksNeedingDraw.length;dh++){var di=dc.marksNeedingDraw[dh];this.drawAreaMarkLayer(L,di,'edgeOn',cL,dc.startIndex)}}if(dg!==0){this.get_currentContext().restore()}}}var dj=cQ.get_lineAttributes();for(var dk=0;dk<dj.length;dk++){var dl=dj[dk];if(dl.get_lineState()!=='lineStateHighlighted'){continue}var dm=dl.worldOffsets;var dn=dm.length;for(var dp=0;dp<dn;dp++){var dq=dm[dp];bz.$d(this.get_currentContext(),dq);if(!dl.get_allHighlighted()){{for(var dr=0;dr<dl.marksNeedingDraw.length;dr++){var ds=dl.marksNeedingDraw[dr];if(L.getMarkState(ds)==='markStateHighlighted'){this.drawAreaMarkLayer(L,ds,'highlightedUnder1',cL,dl.startIndex);this.drawAreaMarkLayer(L,ds,'highlightedUnder',cL,dl.startIndex)}}}{for(var dt=0;dt<dl.marksNeedingDraw.length;dt++){var du=dl.marksNeedingDraw[dt];if(L.getMarkState(du)==='markStateHighlighted'){this.drawAreaMarkLayer(L,du,'highlightedOn1',cL,dl.startIndex);this.drawAreaMarkLayer(L,du,'highlightedOn',cL,dl.startIndex)}}}}if(dq!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(cJ||cK){cL='colorOverrideOpaque';var dv=cQ.get_lineAttributes();for(var dw=0;dw<dv.length;dw++){var dx=dv[dw];if(dx.get_lineState()!=='lineStateSelected'){continue}var dy=dx.worldOffsets;var dz=dy.length;for(var dA=0;dA<dz;dA++){var dB=dy[dA];bz.$d(this.get_currentContext(),dB);{for(var dC=0;dC<dx.marksNeedingDraw.length;dC++){var dD=dx.marksNeedingDraw[dC];this.drawAreaMarkLayer(L,dD,'edgeOn',cL,dx.startIndex)}}if(dB!==0){this.get_currentContext().restore()}}}var dE=cQ.get_lineAttributes();for(var dF=0;dF<dE.length;dF++){var dG=dE[dF];if(dG.get_lineState()!=='lineStateSelected'){continue}var dH=dG.worldOffsets;var dI=dH.length;for(var dJ=0;dJ<dI;dJ++){var dK=dH[dJ];bz.$d(this.get_currentContext(),dK);if(!dG.get_allHighlighted()){{for(var dL=0;dL<dG.marksNeedingDraw.length;dL++){var dM=dG.marksNeedingDraw[dL];if(L.getMarkState(dM)==='markStateHighlighted'){this.drawAreaMarkLayer(L,dM,'highlightedUnder1',cL,dG.startIndex);this.drawAreaMarkLayer(L,dM,'highlightedUnder',cL,dG.startIndex)}}}{for(var dN=0;dN<dG.marksNeedingDraw.length;dN++){var dO=dG.marksNeedingDraw[dN];if(L.getMarkState(dO)==='markStateHighlighted'){this.drawAreaMarkLayer(L,dO,'highlightedOn1',cL,dG.startIndex);this.drawAreaMarkLayer(L,dO,'highlightedOn',cL,dG.startIndex)}}}}if(dK!==0){this.get_currentContext().restore()}}}var dP=cQ.get_lineAttributes();for(var dQ=0;dQ<dP.length;dQ++){var dR=dP[dQ];if(dR.get_lineState()!=='lineStateSelected'){continue}var dS=dR.worldOffsets;var dT=dS.length;for(var dU=0;dU<dT;dU++){var dV=dS[dU];bz.$d(this.get_currentContext(),dV);{for(var dW=0;dW<dR.marksNeedingDraw.length;dW++){var dX=dR.marksNeedingDraw[dW];if(L.getMarkState(dX)==='markStateSelected'){this.drawAreaMarkLayer(L,dX,'selectedUnder1',cL,dR.startIndex);this.drawAreaMarkLayer(L,dX,'selectedUnder',cL,dR.startIndex)}}}{for(var dY=0;dY<dR.marksNeedingDraw.length;dY++){var dZ=dR.marksNeedingDraw[dY];if(L.getMarkState(dZ)==='markStateSelected'){this.drawAreaMarkLayer(L,dZ,'selectedOn1',cL,dR.startIndex);this.drawAreaMarkLayer(L,dZ,'selectedOn',cL,dR.startIndex)}}}if(dV!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawAreaMarkLayer:function(L,cH,cI,cJ,cK){var cL=L.c.get('l_neighbor').gv(cH);var cM=L.c.get('r_neighbor').gv(cH);var cN=L.clipCase;if(cN!==0){this.get_currentContext().save();this.clipRect(cN,L.c.get('cell_x').gv(cH),L.c.get('cell_y').gv(cH),L.c.get('clip_width').gv(cH),L.c.get('clip_height').gv(cH))}var cO=L.drawBorder;switch(cI){case'edgeOn':{if(L.c.get('r_neighbor').gv(cH)!==-1){var cP=[Math.round(L.c.get('x1').gv(cH)),Math.round(L.c.get('y1').gv(cH)),Math.round(L.c.get('x1').gv(cM)),Math.round(L.c.get('y1').gv(cM)),Math.round(L.c.get('x_prev').gv(cM)),Math.round(L.c.get('y_prev').gv(cM)),Math.round(L.c.get('x_next').gv(cH)),Math.round(L.c.get('y_next').gv(cH))];this.get_currentContext().set_lineJoin('miter');this.$b(cP,L.getMarkColors(cK)[cJ])}if(cO&&L.c.get('r_neighbor').gv(cH)!==-1){var cQ=[L.c.get('x1').gv(cH),L.c.get('y1').gv(cH),L.c.get('x1').gv(cM),L.c.get('y1').gv(cM)];this.$c(cQ,1,L.c.get('border_color').gv(cH)[cJ],true)}if(cO&&L.c.get('r_neighbor').gv(cH)!==-1){var cR=[L.c.get('x_next').gv(cH),L.c.get('y_next').gv(cH),L.c.get('x_prev').gv(cM),L.c.get('y_prev').gv(cM)];this.$c(cR,1,L.c.get('border_color').gv(cH)[cJ],true)}if(cO&&(L.c.get('l_neighbor').gv(cH)!==-1&&L.c.get('r_neighbor').gv(cH)!==-1)){var cS=[L.c.get('x_prev').gv(cH),L.c.get('y_prev').gv(cH),L.c.get('x_next').gv(cH),L.c.get('y_next').gv(cH)];this.$c(cS,1,L.c.get('border_color').gv(cH)[cJ],true)}if(cO&&L.c.get('l_neighbor').gv(cH)===-1){var cT=[L.c.get('x1').gv(cH),L.c.get('y1').gv(cH),L.c.get('x_next').gv(cH),L.c.get('y_next').gv(cH)];this.$c(cT,1,L.c.get('border_color').gv(cH)[cJ],true)}if(cO&&L.c.get('r_neighbor').gv(cH)===-1){var cU=[L.c.get('x1').gv(cH),L.c.get('y1').gv(cH),L.c.get('x_prev').gv(cH),L.c.get('y_prev').gv(cH)];this.$c(cU,1,L.c.get('border_color').gv(cH)[cJ],true)}if(!cO&&L.c.get('r_neighbor').gv(cH)!==-1){var cV=[L.c.get('x1').gv(cH),L.c.get('y1').gv(cH),L.c.get('x1').gv(cM),L.c.get('y1').gv(cM)];this.$c(cV,1,L.getMarkColors(cK)[cJ],true)}if(!cO&&L.c.get('r_neighbor').gv(cH)!==-1){var cW=[L.c.get('x_next').gv(cH),L.c.get('y_next').gv(cH),L.c.get('x_prev').gv(cM),L.c.get('y_prev').gv(cM)];this.$c(cW,1,L.getMarkColors(cK)[cJ],true)}if(!cO&&(L.c.get('l_neighbor').gv(cH)!==-1&&L.c.get('r_neighbor').gv(cH)!==-1)){var cX=[L.c.get('x_prev').gv(cH),L.c.get('y_prev').gv(cH),L.c.get('x_next').gv(cH),L.c.get('y_next').gv(cH)];this.$c(cX,1,L.getMarkColors(cK)[cJ],true)}if(!cO&&L.c.get('l_neighbor').gv(cH)===-1){var cY=[L.c.get('x1').gv(cH),L.c.get('y1').gv(cH),L.c.get('x_next').gv(cH),L.c.get('y_next').gv(cH)];this.$c(cY,1,L.getMarkColors(cK)[cJ],true)}if(!cO&&L.c.get('r_neighbor').gv(cH)===-1){var cZ=[L.c.get('x1').gv(cH),L.c.get('y1').gv(cH),L.c.get('x_prev').gv(cH),L.c.get('y_prev').gv(cH)];this.$c(cZ,1,L.getMarkColors(cK)[cJ],true)}break}case'selectedOn':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x1').gv(cH),0+L.c.get('y1').gv(cH),5,L.getMarkColors(cH)[cJ])}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x1').gv(cH),0+L.c.get('y1').gv(cH),5,L.c.get('selected_halo_color').gv(cH)[cJ],4)}break}case'selectedOn1':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),5,L.getMarkColors(cH)[cJ])}break}case'selectedUnder1':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),5,L.c.get('selected_halo_color').gv(cH)[cJ],4)}break}case'highlightedOn':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x1').gv(cH),0+L.c.get('y1').gv(cH),5,L.getMarkColors(cH)[cJ])}break}case'highlightedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x1').gv(cH),0+L.c.get('y1').gv(cH),5,L.c.get('selected_multi_prim_halo_color').gv(cH)[cJ],4)}break}case'highlightedOn1':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),5,L.getMarkColors(cH)[cJ])}break}case'highlightedUnder1':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),5,L.c.get('selected_multi_prim_halo_color').gv(cH)[cJ],4)}break}default:{break}}if(cN!==0){this.get_currentContext().restore()}},renderMarkLabels:function(L,cH,cI){var cJ=L.get_hasSelection();var cK=L.get_hasBrushing();var cL='colorOverrideNone';var cM=L.getUserPaneMarkRange(cH);var cN=cM.firstMark;var cO=cM.lastMark;var cP=L.getUserPaneRectByIndex(cH);this.get_currentContext().save();var cQ=this.$A(L);switch(cI){case'normalUnderPass':{if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}{var cR=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cS=cN;cS<=cO;cS++){if(!L.markHasLabel(cS)||!L.markLabelNeedsDraw(cS,cR)){continue}if(L.getMarkLabelState(cS)!=='markStateNormal'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,L.c.get('cell_x').gv(cS),L.c.get('cell_y').gv(cS),L.c.get('clip_width').gv(cS),L.c.get('clip_height').gv(cS))}var cT=L.getMarkLabelInstanceOffsets(cS);var cU=cT.length;for(var cV=0;cV<cU;cV++){var cW=cT[cV];if(cW!==0){this.get_currentContext().save();this.get_currentContext().translate(cW,0)}this.drawMarkLabelLayer(L,cS,'normalUnder',cL);if(cW!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}cL='colorOverrideNone';{var cX=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cY=cN;cY<=cO;cY++){if(!L.markHasLabel(cY)||!L.markLabelNeedsDraw(cY,cX)){continue}if(L.getMarkLabelState(cY)!=='markStateHighlighted'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,L.c.get('cell_x').gv(cY),L.c.get('cell_y').gv(cY),L.c.get('clip_width').gv(cY),L.c.get('clip_height').gv(cY))}var cZ=L.getMarkLabelInstanceOffsets(cY);var da=cZ.length;for(var db=0;db<da;db++){var dc=cZ[db];if(dc!==0){this.get_currentContext().save();this.get_currentContext().translate(dc,0)}this.drawMarkLabelLayer(L,cY,'normalUnder',cL);if(dc!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}cL='colorOverrideNone';{var dd=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var de=cN;de<=cO;de++){if(!L.markHasLabel(de)||!L.markLabelNeedsDraw(de,dd)){continue}if(L.getMarkLabelState(de)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,L.c.get('cell_x').gv(de),L.c.get('cell_y').gv(de),L.c.get('clip_width').gv(de),L.c.get('clip_height').gv(de))}var df=L.getMarkLabelInstanceOffsets(de);var dg=df.length;for(var dh=0;dh<dg;dh++){var di=df[dh];if(di!==0){this.get_currentContext().save();this.get_currentContext().translate(di,0)}this.drawMarkLabelLayer(L,de,'normalUnder',cL);if(di!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'normalOnPass':{if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}{var dj=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var dk=cN;dk<=cO;dk++){if(!L.markHasLabel(dk)||!L.markLabelNeedsDraw(dk,dj)){continue}if(L.getMarkLabelState(dk)!=='markStateNormal'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,L.c.get('cell_x').gv(dk),L.c.get('cell_y').gv(dk),L.c.get('clip_width').gv(dk),L.c.get('clip_height').gv(dk))}var dl=L.getMarkLabelInstanceOffsets(dk);var dm=dl.length;for(var dn=0;dn<dm;dn++){var dp=dl[dn];if(dp!==0){this.get_currentContext().save();this.get_currentContext().translate(dp,0)}var dq=L.getMarkLabelProperty('text_run_count',dk);var dr=L.getMarkLabelProperty('text_run_offset',dk);var ds=[];ds.push(0);for(var dt=1;dt<dq;dt++){var du=dt+dr;var dv=true;if(ss.isValue(L.get_textStyleColumns())&&L.get_textStyleColumns().has('text_orientation')){var dw=L.getTextRunProperty('text_style_id',du);var dx=L.get_textStyleColumns().get('text_orientation');var dy=dx.v[(dx.c?0:dw)];dv=dy>-1&&dy<1}if(dv){var dz=L.getTextRunProperty('text_run_y',du);var dA=L.getTextRunProperty('text_run_y',du-1);if(Math.round(dz)!==Math.round(dA)){ds.push(dt)}}else{var dB=L.getTextRunProperty('text_run_x',du);var dC=L.getTextRunProperty('text_run_x',du-1);if(Math.round(dB)!==Math.round(dC)){ds.push(dt)}}}var dD=dq>1;for(var dE=0;dE<ds.length;dE++){var dF=false;var dG=ds[dE];var dH=((dE+1>=ds.length)?dq:ds[dE+1]);for(var dI=dG;dI<dH;dI++){var dJ=dI+dr;if(dI===dG){var dK=L.getTextRunProperty('text_style_id',dJ);cQ(dK);dF=this.get_currentContext().get_textAlign()==='end'}if(dF){var dL=dI-dG;dJ=dr+dH-dL-1}this.drawLabelRunLayer(L,dk,'normalOn',cL,dJ,dD,cQ)}}this.clearPrevTextRunInfo();if(dp!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(cJ||cK){cL='colorOverrideNone';{var dM=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var dN=cN;dN<=cO;dN++){if(!L.markHasLabel(dN)||!L.markLabelNeedsDraw(dN,dM)){continue}if(L.getMarkLabelState(dN)!=='markStateHighlighted'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,L.c.get('cell_x').gv(dN),L.c.get('cell_y').gv(dN),L.c.get('clip_width').gv(dN),L.c.get('clip_height').gv(dN))}var dO=L.getMarkLabelInstanceOffsets(dN);var dP=dO.length;for(var dQ=0;dQ<dP;dQ++){var dR=dO[dQ];if(dR!==0){this.get_currentContext().save();this.get_currentContext().translate(dR,0)}var dS=L.getMarkLabelProperty('text_run_count',dN);var dT=L.getMarkLabelProperty('text_run_offset',dN);var dU=[];dU.push(0);for(var dV=1;dV<dS;dV++){var dW=dV+dT;var dX=true;if(ss.isValue(L.get_textStyleColumns())&&L.get_textStyleColumns().has('text_orientation')){var dY=L.getTextRunProperty('text_style_id',dW);var dZ=L.get_textStyleColumns().get('text_orientation');var ea=dZ.v[(dZ.c?0:dY)];dX=ea>-1&&ea<1}if(dX){var eb=L.getTextRunProperty('text_run_y',dW);var ec=L.getTextRunProperty('text_run_y',dW-1);if(Math.round(eb)!==Math.round(ec)){dU.push(dV)}}else{var ed=L.getTextRunProperty('text_run_x',dW);var ee=L.getTextRunProperty('text_run_x',dW-1);if(Math.round(ed)!==Math.round(ee)){dU.push(dV)}}}var ef=dS>1;for(var eg=0;eg<dU.length;eg++){var eh=false;var ei=dU[eg];var ej=((eg+1>=dU.length)?dS:dU[eg+1]);for(var ek=ei;ek<ej;ek++){var el=ek+dT;if(ek===ei){var em=L.getTextRunProperty('text_style_id',el);cQ(em);eh=this.get_currentContext().get_textAlign()==='end'}if(eh){var en=ek-ei;el=dT+ej-en-1}this.drawLabelRunLayer(L,dN,'highlightedOn',cL,el,ef,cQ)}}this.clearPrevTextRunInfo();if(dR!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(cJ||cK){cL='colorOverrideOpaque';{var eo=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var ep=cN;ep<=cO;ep++){if(!L.markHasLabel(ep)||!L.markLabelNeedsDraw(ep,eo)){continue}if(L.getMarkLabelState(ep)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,L.c.get('cell_x').gv(ep),L.c.get('cell_y').gv(ep),L.c.get('clip_width').gv(ep),L.c.get('clip_height').gv(ep))}var eq=L.getMarkLabelInstanceOffsets(ep);var er=eq.length;for(var es=0;es<er;es++){var et=eq[es];if(et!==0){this.get_currentContext().save();this.get_currentContext().translate(et,0)}this.drawMarkLabelLayer(L,ep,'selectedUnder',cL);if(et!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(cJ||cK){cL='colorOverrideOpaque';{var eu=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var ev=cN;ev<=cO;ev++){if(!L.markHasLabel(ev)||!L.markLabelNeedsDraw(ev,eu)){continue}if(L.getMarkLabelState(ev)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.clipRect(3,L.c.get('cell_x').gv(ev),L.c.get('cell_y').gv(ev),L.c.get('clip_width').gv(ev),L.c.get('clip_height').gv(ev))}var ew=L.getMarkLabelInstanceOffsets(ev);var ex=ew.length;for(var ey=0;ey<ex;ey++){var ez=ew[ey];if(ez!==0){this.get_currentContext().save();this.get_currentContext().translate(ez,0)}var eA=L.getMarkLabelProperty('text_run_count',ev);var eB=L.getMarkLabelProperty('text_run_offset',ev);var eC=[];eC.push(0);for(var eD=1;eD<eA;eD++){var eE=eD+eB;var eF=true;if(ss.isValue(L.get_textStyleColumns())&&L.get_textStyleColumns().has('text_orientation')){var eG=L.getTextRunProperty('text_style_id',eE);var eH=L.get_textStyleColumns().get('text_orientation');var eI=eH.v[(eH.c?0:eG)];eF=eI>-1&&eI<1}if(eF){var eJ=L.getTextRunProperty('text_run_y',eE);var eK=L.getTextRunProperty('text_run_y',eE-1);if(Math.round(eJ)!==Math.round(eK)){eC.push(eD)}}else{var eL=L.getTextRunProperty('text_run_x',eE);var eM=L.getTextRunProperty('text_run_x',eE-1);if(Math.round(eL)!==Math.round(eM)){eC.push(eD)}}}var eN=eA>1;for(var eO=0;eO<eC.length;eO++){var eP=false;var eQ=eC[eO];var eR=((eO+1>=eC.length)?eA:eC[eO+1]);for(var eS=eQ;eS<eR;eS++){var eT=eS+eB;if(eS===eQ){var eU=L.getTextRunProperty('text_style_id',eT);cQ(eU);eP=this.get_currentContext().get_textAlign()==='end'}if(eP){var eV=eS-eQ;eT=eB+eR-eV-1}this.drawLabelRunLayer(L,ev,'normalOn',cL,eT,eN,cQ)}}this.clearPrevTextRunInfo();if(ez!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawMarkLabelLayer:function(L,cH,cI,cJ){if(L.clipCase!==0){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cH),L.c.get('cell_y').gv(cH),L.c.get('clip_width').gv(cH),L.c.get('clip_height').gv(cH))}switch(cI){case'normalUnder':{{if(L.get_hasBackground()&&L.get_hasHalos()){var cK=L.getMarkLabelProperty('x',cH);var cL=L.getMarkLabelProperty('y',cH);var cM=L.getMarkLabelProperty('width',cH);var cN=-L.getMarkLabelProperty('height',cH);if(cN<0){cL+=cN;cN=Math.abs(cN)}var cO=0;var cP=0;var cQ;if(L.isMarkImpliedSelected(cH)){cQ=L.c.get('selected_halo_color').gv(cH)['colorOverrideOpaque']}else{cQ=L.getMarkLabelProperty('halo_color',cH)[cJ]}bz.$c(this.get_currentContext(),cK+cO,cL+cP,cM,cN,cQ,0,0,false)}}{if(L.isMarkDebug(cH)){var cR=L.getMarkLabelProperty('x',cH);var cS=L.getMarkLabelProperty('y',cH);var cT=L.getMarkLabelProperty('width',cH);var cU=-L.getMarkLabelProperty('height',cH);if(cU<0){cS+=cU;cU=Math.abs(cU)}var cV=0;var cW=0;var cX;if(L.isMarkImpliedSelected(cH)){cX=L.c.get('selected_halo_color').gv(cH)['colorOverrideOpaque']}else{cX=L.c.get('halo_color').gv(cH)[cJ]}bz.$c(this.get_currentContext(),cR+cV,cS+cW,cT,cU,cX,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(L.get_hasBackground()&&L.get_hasHalos()){var cY=L.getMarkLabelProperty('x',cH);var cZ=L.getMarkLabelProperty('y',cH);var da=L.getMarkLabelProperty('width',cH);var db=-L.getMarkLabelProperty('height',cH);if(db<0){cZ+=db;db=Math.abs(db)}var dc=0;var dd=0;var de;if(L.isMarkImpliedSelected(cH)){de=L.c.get('selected_halo_color').gv(cH)['colorOverrideOpaque']}else{de=L.getMarkLabelProperty('halo_color',cH)[cJ]}bz.$c(this.get_currentContext(),cY+dc,cZ+dd,da,db,de,0,0,false)}}{if(L.isMarkDebug(cH)){var df=L.getMarkLabelProperty('x',cH);var dg=L.getMarkLabelProperty('y',cH);var dh=L.getMarkLabelProperty('width',cH);var di=-L.getMarkLabelProperty('height',cH);if(di<0){dg+=di;di=Math.abs(di)}var dj=0;var dk=0;var dl;if(L.isMarkImpliedSelected(cH)){dl=L.c.get('selected_halo_color').gv(cH)['colorOverrideOpaque']}else{dl=L.c.get('halo_color').gv(cH)[cJ]}bz.$c(this.get_currentContext(),df+dj,dg+dk,dh,di,dl,0,0,false)}}break}case'highlightedOn':{break}case'selectedUnder':{break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},drawTextRunLayer:function(L,cH,cI,cJ,cK,cL,cM){if(L.clipCase!==0){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cH),L.c.get('cell_y').gv(cH),L.c.get('clip_width').gv(cH),L.c.get('clip_height').gv(cH))}switch(cI){case'normalUnder':{break}case'normalOn':{var cN=L.getTextRunProperty('text_style_id',cK);cM(cN);var cO=L.$1(cN,cH,cJ);var cP=L.getTextRunProperty('text_run',cK);var cQ=L.getMarkLabelProperty('x',cH)+L.getTextRunProperty('text_run_x',cK);var cR=L.getMarkLabelProperty('y',cH)+L.getTextRunProperty('text_run_y',cK);var cS=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',cH):L.getMarkLabelProperty('height',cH));this.renderText(cP,cQ,cR,cS,cO,cL);break}case'highlightedUnder':{break}case'highlightedOn':{var cT=L.getTextRunProperty('text_style_id',cK);cM(cT);var cU=L.$1(cT,cH,cJ);var cV=L.getTextRunProperty('text_run',cK);var cW=L.getMarkLabelProperty('x',cH)+L.getTextRunProperty('text_run_x',cK);var cX=L.getMarkLabelProperty('y',cH)+L.getTextRunProperty('text_run_y',cK);var cY=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',cH):L.getMarkLabelProperty('height',cH));this.renderText(cV,cW,cX,cY,cU,cL);break}case'selectedUnder':{break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},drawLabelRunLayer:function(L,cH,cI,cJ,cK,cL,cM){if(L.get_clipLabelToCell()&&L.clipCase!==0){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cH),L.c.get('cell_y').gv(cH),L.c.get('clip_width').gv(cH),L.c.get('clip_height').gv(cH))}switch(cI){case'normalUnder':{break}case'normalOn':{var cN=L.getTextRunProperty('text_style_id',cK);cM(cN);var cO=L.$1(cN,cH,cJ);var cP=L.getTextRunProperty('text_run',cK);var cQ=L.getMarkLabelProperty('x',cH)+L.getTextRunProperty('text_run_x',cK);var cR=L.getMarkLabelProperty('y',cH)+L.getTextRunProperty('text_run_y',cK);var cS=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',cH):L.getMarkLabelProperty('height',cH));this.renderText(cP,cQ,cR,cS,cO,cL);break}case'highlightedUnder':{break}case'highlightedOn':{var cT=L.getTextRunProperty('text_style_id',cK);cM(cT);var cU=L.$1(cT,cH,cJ);var cV=L.getTextRunProperty('text_run',cK);var cW=L.getMarkLabelProperty('x',cH)+L.getTextRunProperty('text_run_x',cK);var cX=L.getMarkLabelProperty('y',cH)+L.getTextRunProperty('text_run_y',cK);var cY=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',cH):L.getMarkLabelProperty('height',cH));this.renderText(cV,cW,cX,cY,cU,cL);break}case'selectedUnder':{break}default:{break}}if(L.get_clipLabelToCell()&&L.clipCase!==0){this.get_currentContext().restore()}},renderPieMark:function(L,cH,cI){var cJ=L.get_hasSelection();var cK=L.get_hasBrushing();var cL='colorOverrideNone';var cM=L.getUserPaneMarkRange(cH);var cN=cM.firstMark;var cO=cM.lastMark;var cP=L.getUserPaneRectByIndex(cH);var cQ=L.get_lineDrawState();this.get_currentContext().save();switch(cI){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}var cR=cQ.get_lineAttributes();for(var cS=0;cS<cR.length;cS++){var cT=cR[cS];var cU=cT.worldOffsets;var cV=cU.length;for(var cW=0;cW<cV;cW++){var cX=cU[cW];bz.$d(this.get_currentContext(),cX);{for(var cY=0;cY<cT.marksNeedingDraw.length;cY++){var cZ=cT.marksNeedingDraw[cY];this.drawPieMarkLayer(L,cZ,'normalUnder',cL)}}if(cX!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}var da=cQ.get_lineAttributes();for(var db=0;db<da.length;db++){var dc=da[db];if(dc.get_lineState()!=='lineStateNormal'){continue}var dd=dc.worldOffsets;var de=dd.length;for(var df=0;df<de;df++){var dg=dd[df];bz.$d(this.get_currentContext(),dg);{for(var dh=0;dh<dc.marksNeedingDraw.length;dh++){var di=dc.marksNeedingDraw[dh];this.drawPieMarkLayer(L,di,'normalOn',cL)}}if(dg!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(cJ||cK){var dj=cQ.get_lineAttributes();for(var dk=0;dk<dj.length;dk++){var dl=dj[dk];if(dl.get_lineState()!=='lineStateHighlighted'){continue}var dm=dl.worldOffsets;var dn=dm.length;for(var dp=0;dp<dn;dp++){var dq=dm[dp];bz.$d(this.get_currentContext(),dq);cL='colorOverrideFog';{for(var dr=0;dr<dl.marksNeedingDraw.length;dr++){var ds=dl.marksNeedingDraw[dr];if(L.getMarkState(ds)!=='markStateNormal'){continue}this.drawPieMarkLayer(L,ds,'normalOn',cL)}}cL='colorOverrideNone';{for(var dt=0;dt<dl.marksNeedingDraw.length;dt++){var du=dl.marksNeedingDraw[dt];if(L.getMarkState(du)!=='markStateHighlighted'){continue}this.drawPieMarkLayer(L,du,'highlightedOn',cL)}}if(dq!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(cJ||cK){var dv=cQ.get_lineAttributes();for(var dw=0;dw<dv.length;dw++){var dx=dv[dw];if(dx.get_lineState()!=='lineStateSelected'){continue}var dy=dx.worldOffsets;var dz=dy.length;for(var dA=0;dA<dz;dA++){var dB=dy[dA];bz.$d(this.get_currentContext(),dB);cL='colorOverrideFog';{for(var dC=0;dC<dx.marksNeedingDraw.length;dC++){var dD=dx.marksNeedingDraw[dC];if(L.getMarkState(dD)!=='markStateNormal'){continue}this.drawPieMarkLayer(L,dD,'normalOn',cL)}}cL='colorOverrideNone';{for(var dE=0;dE<dx.marksNeedingDraw.length;dE++){var dF=dx.marksNeedingDraw[dE];if(L.getMarkState(dF)!=='markStateHighlighted'){continue}this.drawPieMarkLayer(L,dF,'highlightedOn',cL)}}cL='colorOverrideOpaque';{for(var dG=0;dG<dx.marksNeedingDraw.length;dG++){var dH=dx.marksNeedingDraw[dG];if(L.getMarkState(dH)!=='markStateSelected'){continue}this.drawPieMarkLayer(L,dH,'selectedUnder',cL)}}{for(var dI=0;dI<dx.marksNeedingDraw.length;dI++){var dJ=dx.marksNeedingDraw[dI];if(L.getMarkState(dJ)!=='markStateSelected'){continue}this.drawPieMarkLayer(L,dJ,'selectedOn',cL)}}if(dB!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawPieMarkLayer:function(L,cH,cI,cJ){if(L.clipCase!==0){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cH),L.c.get('cell_y').gv(cH),L.c.get('clip_width').gv(cH),L.c.get('clip_height').gv(cH))}switch(cI){case'normalUnder':{var cK=L.c.get('size').gv(cH)/2;{var cL=L.c.get('theta').gv(cH);var cM=L.c.get('theta1').gv(cH);var cN=cL>cM;var cO=L.c.get('halo_color').gv(cH)[cJ];var cP=false;if(Math.abs(cL-cM)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cH),L.c.get('y').gv(cH),cK*2,cO,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(cH),L.c.get('y').gv(cH),cK,cL,cM,cO,4,cN,cP)}}break}case'normalOn':{var cQ=L.c.get('size').gv(cH)/2;{var cR=L.c.get('theta').gv(cH);var cS=L.c.get('theta1').gv(cH);if(cR>cS){var cT=cR;cR=cS;cS=cT}var cU=L.c.get('x').gv(cH);var cV=L.c.get('y').gv(cH);var cW=L.getMarkColors(cH)[cJ];if(L.c.get('alpha').gv(cH)>=1){var cX=tab.CanvasRenderer.toCanvasAngle(cR);var cY=tab.CanvasRenderer.toCanvasAngle(cS);if(Math.abs(cY-cX)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(cW);this.get_currentContext().moveTo(cU,cV);this.get_currentContext().lineTo(cU+Math.cos(cX)*cQ,cV+Math.sin(cX)*cQ);this.get_currentContext().stroke()}}if(Math.abs(cR-cS)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),cU,cV,cQ*2,cW)}else{this.renderFilledWedge(cU,cV,cQ,cR,cS,cW)}}if(L.c.get('draw_border').gv(cH)){var cZ=L.c.get('theta').gv(cH);var da=L.c.get('theta1').gv(cH);var db=cZ>da;var dc=L.c.get('border_color').gv(cH)[cJ];var dd=true;if(Math.abs(cZ-da)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cH),L.c.get('y').gv(cH),cQ*2,dc,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(cH),L.c.get('y').gv(cH),cQ,cZ,da,dc,1,db,dd)}}break}case'highlightedUnder':{var de=L.c.get('size').gv(cH)/2;{var df=L.c.get('theta').gv(cH);var dg=L.c.get('theta1').gv(cH);var dh=df>dg;var di=L.c.get('halo_color').gv(cH)[cJ];var dj=false;if(Math.abs(df-dg)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cH),L.c.get('y').gv(cH),de*2,di,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(cH),L.c.get('y').gv(cH),de,df,dg,di,4,dh,dj)}}break}case'highlightedOn':{var dk=L.c.get('size').gv(cH)/2;{var dl=L.c.get('theta').gv(cH);var dm=L.c.get('theta1').gv(cH);if(dl>dm){var dn=dl;dl=dm;dm=dn}var dp=L.c.get('x').gv(cH);var dq=L.c.get('y').gv(cH);var dr=L.getMarkColors(cH)[cJ];if(L.c.get('alpha').gv(cH)>=1){var ds=tab.CanvasRenderer.toCanvasAngle(dl);var dt=tab.CanvasRenderer.toCanvasAngle(dm);if(Math.abs(dt-ds)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(dr);this.get_currentContext().moveTo(dp,dq);this.get_currentContext().lineTo(dp+Math.cos(ds)*dk,dq+Math.sin(ds)*dk);this.get_currentContext().stroke()}}if(Math.abs(dl-dm)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),dp,dq,dk*2,dr)}else{this.renderFilledWedge(dp,dq,dk,dl,dm,dr)}}if(L.c.get('draw_border').gv(cH)){var du=L.c.get('theta').gv(cH);var dv=L.c.get('theta1').gv(cH);var dw=du>dv;var dx=L.c.get('border_color').gv(cH)[cJ];var dy=true;if(Math.abs(du-dv)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cH),L.c.get('y').gv(cH),dk*2,dx,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(cH),L.c.get('y').gv(cH),dk,du,dv,dx,1,dw,dy)}}break}case'selectedUnder':{var dz=L.c.get('size').gv(cH)/2;{var dA=L.c.get('theta').gv(cH);var dB=L.c.get('theta1').gv(cH);var dC=dA>dB;var dD=L.c.get('selected_halo_color').gv(cH)[cJ];var dE=false;if(Math.abs(dA-dB)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cH),L.c.get('y').gv(cH),dz*2,dD,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(cH),L.c.get('y').gv(cH),dz,dA,dB,dD,4,dC,dE)}}break}case'selectedOn':{var dF=L.c.get('size').gv(cH)/2;{var dG=L.c.get('theta').gv(cH);var dH=L.c.get('theta1').gv(cH);if(dG>dH){var dI=dG;dG=dH;dH=dI}var dJ=L.c.get('x').gv(cH);var dK=L.c.get('y').gv(cH);var dL=L.getMarkColors(cH)[cJ];if(L.c.get('alpha').gv(cH)>=1){var dM=tab.CanvasRenderer.toCanvasAngle(dG);var dN=tab.CanvasRenderer.toCanvasAngle(dH);if(Math.abs(dN-dM)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(dL);this.get_currentContext().moveTo(dJ,dK);this.get_currentContext().lineTo(dJ+Math.cos(dM)*dF,dK+Math.sin(dM)*dF);this.get_currentContext().stroke()}}if(Math.abs(dG-dH)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),dJ,dK,dF*2,dL)}else{this.renderFilledWedge(dJ,dK,dF,dG,dH,dL)}}if(L.c.get('draw_border').gv(cH)){var dO=L.c.get('theta').gv(cH);var dP=L.c.get('theta1').gv(cH);var dQ=dO>dP;var dR=L.c.get('border_color').gv(cH)[cJ];var dS=true;if(Math.abs(dO-dP)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cH),L.c.get('y').gv(cH),dF*2,dR,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(cH),L.c.get('y').gv(cH),dF,dO,dP,dR,1,dQ,dS)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderTextMarks:function(L,cH,cI){var cJ=L.get_hasSelection();var cK=L.get_hasBrushing();var cL='colorOverrideNone';var cM=L.getUserPaneMarkRange(cH);var cN=cM.firstMark;var cO=cM.lastMark;var cP=L.getUserPaneRectByIndex(cH);this.get_currentContext().save();var cQ=this.$A(L);switch(cI){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cR,cS){bz.$d(this.get_currentContext(),cS);for(var cT=cN;cT<=cO;cT++){if(cR.has(cT)){continue}if(!L.markNeedsDraw(cT)){continue}if(L.getMarkState(cT)!=='markStateNormal'){continue}this.drawTextMarkLayer(L,cT,'normalUnder',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cS,0)){this.get_currentContext().restore()}}))}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cR,cS){bz.$d(this.get_currentContext(),cS);for(var cT=cN;cT<=cO;cT++){if(cR.has(cT)){continue}if(!L.markNeedsDraw(cT)){continue}if(L.getMarkState(cT)!=='markStateHighlighted'){continue}this.drawTextMarkLayer(L,cT,'normalUnder',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cS,0)){this.get_currentContext().restore()}}))}}break}case'normalOnPass':{if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cR,cS){bz.$d(this.get_currentContext(),cS);for(var cT=cN;cT<=cO;cT++){if(cR.has(cT)){continue}if(!L.markNeedsDraw(cT)){continue}if(L.getMarkState(cT)!=='markStateNormal'){continue}var cU=L.c.get('text_run_count').gv(cT);var cV=L.c.get('text_run_offset').gv(cT);var cW=[];cW.push(0);for(var cX=1;cX<cU;cX++){var cY=cX+cV;var cZ=true;if(ss.isValue(L.get_textStyleColumns())&&L.get_textStyleColumns().has('text_orientation')){var da=L.getTextRunProperty('text_style_id',cY);var db=L.get_textStyleColumns().get('text_orientation');var dc=db.v[(db.c?0:da)];cZ=dc>-1&&dc<1}if(cZ){var dd=L.getTextRunProperty('text_run_y',cY);var de=L.getTextRunProperty('text_run_y',cY-1);if(Math.round(dd)!==Math.round(de)){cW.push(cX)}}else{var df=L.getTextRunProperty('text_run_x',cY);var dg=L.getTextRunProperty('text_run_x',cY-1);if(Math.round(df)!==Math.round(dg)){cW.push(cX)}}}var dh=cU>1;for(var di=0;di<cW.length;di++){var dj=false;var dk=cW[di];var dl=((di+1>=cW.length)?cU:cW[di+1]);for(var dm=dk;dm<dl;dm++){var dn=dm+cV;if(dm===dk){var dp=L.getTextRunProperty('text_style_id',dn);cQ(dp);dj=this.get_currentContext().get_textAlign()==='end'}if(dj){var dq=dm-dk;dn=cV+dl-dq-1}this.drawTextRunLayer(L,cT,'normalOn',cL,dn,dh,cQ)}}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(cS,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{if(cJ||cK){if(!(L.get_hasBackground()&&L.get_hasHalos())){cL='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cR,cS){bz.$d(this.get_currentContext(),cS);for(var cT=cN;cT<=cO;cT++){if(cR.has(cT)){continue}if(!L.markNeedsDraw(cT)){continue}if(L.getMarkState(cT)!=='markStateHighlighted'){continue}this.drawTextMarkLayer(L,cT,'highlightedUnder',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cS,0)){this.get_currentContext().restore()}}))}}}break}case'highlightedOnPass':{if(cJ||cK){cL='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cR,cS){bz.$d(this.get_currentContext(),cS);for(var cT=cN;cT<=cO;cT++){if(cR.has(cT)){continue}if(!L.markNeedsDraw(cT)){continue}if(L.getMarkState(cT)!=='markStateHighlighted'){continue}var cU=L.c.get('text_run_count').gv(cT);var cV=L.c.get('text_run_offset').gv(cT);var cW=[];cW.push(0);for(var cX=1;cX<cU;cX++){var cY=cX+cV;var cZ=true;if(ss.isValue(L.get_textStyleColumns())&&L.get_textStyleColumns().has('text_orientation')){var da=L.getTextRunProperty('text_style_id',cY);var db=L.get_textStyleColumns().get('text_orientation');var dc=db.v[(db.c?0:da)];cZ=dc>-1&&dc<1}if(cZ){var dd=L.getTextRunProperty('text_run_y',cY);var de=L.getTextRunProperty('text_run_y',cY-1);if(Math.round(dd)!==Math.round(de)){cW.push(cX)}}else{var df=L.getTextRunProperty('text_run_x',cY);var dg=L.getTextRunProperty('text_run_x',cY-1);if(Math.round(df)!==Math.round(dg)){cW.push(cX)}}}var dh=cU>1;for(var di=0;di<cW.length;di++){var dj=false;var dk=cW[di];var dl=((di+1>=cW.length)?cU:cW[di+1]);for(var dm=dk;dm<dl;dm++){var dn=dm+cV;if(dm===dk){var dp=L.getTextRunProperty('text_style_id',dn);cQ(dp);dj=this.get_currentContext().get_textAlign()==='end'}if(dj){var dq=dm-dk;dn=cV+dl-dq-1}this.drawTextRunLayer(L,cT,'normalOn',cL,dn,dh,cQ)}}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(cS,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(cJ||cK){cL='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cR,cS){bz.$d(this.get_currentContext(),cS);for(var cT=cN;cT<=cO;cT++){if(cR.has(cT)){continue}if(!L.markNeedsDraw(cT)){continue}if(L.getMarkState(cT)!=='markStateSelected'){continue}this.drawTextMarkLayer(L,cT,'selectedUnder',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cS,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(cJ||cK){cL='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cR,cS){bz.$d(this.get_currentContext(),cS);for(var cT=cN;cT<=cO;cT++){if(cR.has(cT)){continue}if(!L.markNeedsDraw(cT)){continue}if(L.getMarkState(cT)!=='markStateSelected'){continue}var cU=L.c.get('text_run_count').gv(cT);var cV=L.c.get('text_run_offset').gv(cT);var cW=[];cW.push(0);for(var cX=1;cX<cU;cX++){var cY=cX+cV;var cZ=true;if(ss.isValue(L.get_textStyleColumns())&&L.get_textStyleColumns().has('text_orientation')){var da=L.getTextRunProperty('text_style_id',cY);var db=L.get_textStyleColumns().get('text_orientation');var dc=db.v[(db.c?0:da)];cZ=dc>-1&&dc<1}if(cZ){var dd=L.getTextRunProperty('text_run_y',cY);var de=L.getTextRunProperty('text_run_y',cY-1);if(Math.round(dd)!==Math.round(de)){cW.push(cX)}}else{var df=L.getTextRunProperty('text_run_x',cY);var dg=L.getTextRunProperty('text_run_x',cY-1);if(Math.round(df)!==Math.round(dg)){cW.push(cX)}}}var dh=cU>1;for(var di=0;di<cW.length;di++){var dj=false;var dk=cW[di];var dl=((di+1>=cW.length)?cU:cW[di+1]);for(var dm=dk;dm<dl;dm++){var dn=dm+cV;if(dm===dk){var dp=L.getTextRunProperty('text_style_id',dn);cQ(dp);dj=this.get_currentContext().get_textAlign()==='end'}if(dj){var dq=dm-dk;dn=cV+dl-dq-1}this.drawTextRunLayer(L,cT,'normalOn',cL,dn,dh,cQ)}}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(cS,0)){this.get_currentContext().restore()}}))}}break}}this.get_currentContext().restore()},drawTextMarkLayer:function(L,cH,cI,cJ){if(L.clipCase!==0){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cH),L.c.get('cell_y').gv(cH),L.c.get('clip_width').gv(cH),L.c.get('clip_height').gv(cH))}switch(cI){case'normalUnder':{{if(!(L.clipCase!==0&&L.useCellClipForSelection)){var cK=L.c.get('x').gv(cH);var cL=L.c.get('y').gv(cH);var cM=L.c.get('width').gv(cH);var cN=-L.c.get('height').gv(cH);if(cN<0){cL+=cN;cN=Math.abs(cN)}var cO=-L.c.get('width').gv(cH)/2;var cP=L.c.get('height').gv(cH)/2;var cQ;if(L.isMarkImpliedSelected(cH)){cQ=L.c.get('selected_halo_color').gv(cH)['colorOverrideOpaque']}else{cQ=L.c.get('halo_color').gv(cH)[cJ]}bz.$c(this.get_currentContext(),cK+cO,cL+cP,cM,cN,cQ,0,0,false)}}{if(L.clipCase!==0&&L.useCellClipForSelection){var cR=L.c.get('x').gv(cH);var cS=L.c.get('y').gv(cH);var cT=L.c.get('clip_width').gv(cH);var cU=-L.c.get('clip_height').gv(cH);if(cU<0){cS+=cU;cU=Math.abs(cU)}var cV=-L.c.get('clip_width').gv(cH)/2;var cW=L.c.get('clip_height').gv(cH)/2;var cX;if(L.isMarkImpliedSelected(cH)){cX=L.c.get('selected_halo_color').gv(cH)['colorOverrideOpaque']}else{cX=L.c.get('halo_color').gv(cH)[cJ]}bz.$c(this.get_currentContext(),cR+cV,cS+cW,cT,cU,cX,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(L.get_hasHaloHighlightColor()&&!(L.clipCase!==0&&L.useCellClipForSelection)){var cY=L.c.get('x').gv(cH);var cZ=L.c.get('y').gv(cH);var da=L.c.get('width').gv(cH);var db=-L.c.get('height').gv(cH);if(db<0){cZ+=db;db=Math.abs(db)}var dc=-L.c.get('width').gv(cH)/2;var dd=L.c.get('height').gv(cH)/2;var de;if(L.isMarkImpliedSelected(cH)){de=L.c.get('selected_halo_color').gv(cH)['colorOverrideOpaque']}else{de=L.c.get('highlighted_halo_color').gv(cH)[cJ]}bz.$c(this.get_currentContext(),cY+dc,cZ+dd,da,db,de,0,0,false)}}{if(L.get_hasHaloHighlightColor()&&(L.clipCase!==0&&L.useCellClipForSelection)){var df=L.c.get('x').gv(cH);var dg=L.c.get('y').gv(cH);var dh=L.c.get('clip_width').gv(cH);var di=-L.c.get('clip_height').gv(cH);if(di<0){dg+=di;di=Math.abs(di)}var dj=-L.c.get('clip_width').gv(cH)/2;var dk=L.c.get('clip_height').gv(cH)/2;var dl;if(L.isMarkImpliedSelected(cH)){dl=L.c.get('selected_halo_color').gv(cH)['colorOverrideOpaque']}else{dl=L.c.get('highlighted_halo_color').gv(cH)[cJ]}bz.$c(this.get_currentContext(),df+dj,dg+dk,dh,di,dl,0,0,false)}}break}case'selectedUnder':{{if(!(L.clipCase!==0&&L.useCellClipForSelection)){var dm=L.c.get('x').gv(cH);var dn=L.c.get('y').gv(cH);var dp=L.c.get('width').gv(cH);var dq=-L.c.get('height').gv(cH);if(dq<0){dn+=dq;dq=Math.abs(dq)}var dr=-L.c.get('width').gv(cH)/2;var ds=L.c.get('height').gv(cH)/2;var dt;if(L.isMarkImpliedSelected(cH)){dt=L.c.get('selected_halo_color').gv(cH)['colorOverrideOpaque']}else{dt=L.c.get('selected_halo_color').gv(cH)[cJ]}bz.$c(this.get_currentContext(),dm+dr,dn+ds,dp,dq,dt,0,0,false)}}{if(L.clipCase!==0&&L.useCellClipForSelection){var du=L.c.get('x').gv(cH);var dv=L.c.get('y').gv(cH);var dw=L.c.get('clip_width').gv(cH);var dx=-L.c.get('clip_height').gv(cH);if(dx<0){dv+=dx;dx=Math.abs(dx)}var dy=-L.c.get('clip_width').gv(cH)/2;var dz=L.c.get('clip_height').gv(cH)/2;var dA;if(L.isMarkImpliedSelected(cH)){dA=L.c.get('selected_halo_color').gv(cH)['colorOverrideOpaque']}else{dA=L.c.get('selected_halo_color').gv(cH)[cJ]}bz.$c(this.get_currentContext(),du+dy,dv+dz,dw,dx,dA,0,0,false)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderBarMark:function(L,cH,cI){var cJ=L.get_hasSelection();var cK=L.get_hasBrushing();var cL='colorOverrideNone';var cM=L.getUserPaneMarkRange(cH);var cN=cM.firstMark;var cO=cM.lastMark;var cP=L.getUserPaneRectByIndex(cH);this.get_currentContext().save();this.get_currentContext().set_lineJoin('miter');switch(cI){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateNormal'){continue}this.drawBarMarkLayer(L,cP,cS,'normalUnder',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}cL='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateHighlighted'){continue}this.drawBarMarkLayer(L,cP,cS,'normalUnder',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}break}case'normalOnPass':{if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateNormal'){continue}this.drawBarMarkLayer(L,cP,cS,'normalOn',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(cJ||cK){cL='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateHighlighted'){continue}this.drawBarMarkLayer(L,cP,cS,'highlightedOn',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(cJ||cK){cL='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateSelected'){continue}this.drawBarMarkLayer(L,cP,cS,'selectedUnder',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(cJ||cK){cL='colorOverrideOpaque';if(L.clipCase!==3){this.get_currentContext().save();this.get_currentContext().setClip(L.getInsetPaneClipRect(cH,ss.trunc(2)))}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateSelected'){continue}this.drawBarMarkLayer(L,cP,cS,'selectedOn',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}if(L.clipCase!==3){this.get_currentContext().restore()}}break}}this.get_currentContext().restore()},drawBarMarkLayer:function(L,cH,cI,cJ,cK){if(L.clipCase!==0){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cI),L.c.get('cell_y').gv(cI),L.c.get('clip_width').gv(cI),L.c.get('clip_height').gv(cI))}switch(cJ){case'normalUnder':{var cL=ss.trunc(L.c.get('size').gv(cI)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var cM=L.c.get('x').gv(cI);var cN=L.c.get('x1').gv(cI);var cO=L.c.get('y').gv(cI);var cP=L.c.get('y1').gv(cI);var cQ=Math.min(cM,cN);var cR=Math.min(cO,cP);var cS=Math.abs(cN-cM)+0;var cT=Math.abs(cP-cO)+0;bz.$a(this.get_currentContext(),cQ,cR,cS,cT,L.c.get('halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var cU=L.c.get('x').gv(cI)-cL;var cV=L.c.get('x').gv(cI)+cL;var cW=L.c.get('y').gv(cI);var cX=L.c.get('y1').gv(cI);var cY=Math.min(cU,cV);var cZ=Math.min(cW,cX);var da=Math.abs(cV-cU)+0;var db=Math.abs(cX-cW)+0;bz.$a(this.get_currentContext(),cY,cZ,da,db,L.c.get('halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var dc=L.c.get('x').gv(cI);var dd=L.c.get('x1').gv(cI);var de=L.c.get('y').gv(cI)-cL;var df=L.c.get('y').gv(cI)+cL;var dg=Math.min(dc,dd);var dh=Math.min(de,df);var di=Math.abs(dd-dc)+0;var dj=Math.abs(df-de)+0;bz.$a(this.get_currentContext(),dg,dh,di,dj,L.c.get('halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var dk=L.c.get('x').gv(cI)-cL;var dl=L.c.get('x').gv(cI)+cL;var dm=L.c.get('y').gv(cI)-cL;var dn=L.c.get('y').gv(cI)+cL;var dp=Math.min(dk,dl);var dq=Math.min(dm,dn);var dr=Math.abs(dl-dk)+0;var ds=Math.abs(dn-dm)+0;bz.$a(this.get_currentContext(),dp,dq,dr,ds,L.c.get('halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,true)}}break}case'normalOn':{var dt=ss.trunc(L.c.get('size').gv(cI)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var du=L.c.get('x').gv(cI);var dv=L.c.get('x1').gv(cI);var dw=L.c.get('y').gv(cI);var dx=L.c.get('y1').gv(cI);var dy=Math.min(du,dv);var dz=Math.min(dw,dx);var dA=Math.abs(dv-du)+0;var dB=Math.abs(dx-dw)+0;bz.$c(this.get_currentContext(),dy-0,dz-0,dA+2*0,dB+2*0,L.getMarkColors(cI)[cK],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var dC=L.c.get('x').gv(cI);var dD=L.c.get('x1').gv(cI);var dE=L.c.get('y').gv(cI);var dF=L.c.get('y1').gv(cI);var dG=Math.min(dC,dD);var dH=Math.min(dE,dF);var dI=Math.abs(dD-dC)+0;var dJ=Math.abs(dF-dE)+0;bz.$a(this.get_currentContext(),dG,dH,dI,dJ,L.c.get('border_color').gv(cI)[cK],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var dK=L.c.get('x').gv(cI)-dt;var dL=L.c.get('x').gv(cI)+dt;var dM=L.c.get('y').gv(cI);var dN=L.c.get('y1').gv(cI);var dO=Math.min(dK,dL);var dP=Math.min(dM,dN);var dQ=Math.abs(dL-dK)+0;var dR=Math.abs(dN-dM)+0;bz.$c(this.get_currentContext(),dO-0,dP-0,dQ+2*0,dR+2*0,L.getMarkColors(cI)[cK],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var dS=L.c.get('x').gv(cI)-dt;var dT=L.c.get('x').gv(cI)+dt;var dU=L.c.get('y').gv(cI);var dV=L.c.get('y1').gv(cI);var dW=Math.min(dS,dT);var dX=Math.min(dU,dV);var dY=Math.abs(dT-dS)+0;var dZ=Math.abs(dV-dU)+0;bz.$a(this.get_currentContext(),dW,dX,dY,dZ,L.c.get('border_color').gv(cI)[cK],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var ea=L.c.get('x').gv(cI);var eb=L.c.get('x1').gv(cI);var ec=L.c.get('y').gv(cI)-dt;var ed=L.c.get('y').gv(cI)+dt;var ee=Math.min(ea,eb);var ef=Math.min(ec,ed);var eg=Math.abs(eb-ea)+0;var eh=Math.abs(ed-ec)+0;bz.$c(this.get_currentContext(),ee-0,ef-0,eg+2*0,eh+2*0,L.getMarkColors(cI)[cK],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var ei=L.c.get('x').gv(cI);var ej=L.c.get('x1').gv(cI);var ek=L.c.get('y').gv(cI)-dt;var el=L.c.get('y').gv(cI)+dt;var em=Math.min(ei,ej);var en=Math.min(ek,el);var eo=Math.abs(ej-ei)+0;var ep=Math.abs(el-ek)+0;bz.$a(this.get_currentContext(),em,en,eo,ep,L.c.get('border_color').gv(cI)[cK],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var eq=L.c.get('x').gv(cI)-dt;var er=L.c.get('x').gv(cI)+dt;var es=L.c.get('y').gv(cI)-dt;var et=L.c.get('y').gv(cI)+dt;var eu=Math.min(eq,er);var ev=Math.min(es,et);var ew=Math.abs(er-eq)+0;var ex=Math.abs(et-es)+0;bz.$c(this.get_currentContext(),eu-0,ev-0,ew+2*0,ex+2*0,L.getMarkColors(cI)[cK],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var ey=L.c.get('x').gv(cI)-dt;var ez=L.c.get('x').gv(cI)+dt;var eA=L.c.get('y').gv(cI)-dt;var eB=L.c.get('y').gv(cI)+dt;var eC=Math.min(ey,ez);var eD=Math.min(eA,eB);var eE=Math.abs(ez-ey)+0;var eF=Math.abs(eB-eA)+0;bz.$a(this.get_currentContext(),eC,eD,eE,eF,L.c.get('border_color').gv(cI)[cK],1,L.minBarWidth,L.minBarHeight,true)}}break}case'highlightedUnder':{var eG=ss.trunc(L.c.get('size').gv(cI)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var eH=L.c.get('x').gv(cI);var eI=L.c.get('x1').gv(cI);var eJ=L.c.get('y').gv(cI);var eK=L.c.get('y1').gv(cI);var eL=Math.min(eH,eI);var eM=Math.min(eJ,eK);var eN=Math.abs(eI-eH)+0;var eO=Math.abs(eK-eJ)+0;bz.$a(this.get_currentContext(),eL,eM,eN,eO,L.c.get('halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var eP=L.c.get('x').gv(cI)-eG;var eQ=L.c.get('x').gv(cI)+eG;var eR=L.c.get('y').gv(cI);var eS=L.c.get('y1').gv(cI);var eT=Math.min(eP,eQ);var eU=Math.min(eR,eS);var eV=Math.abs(eQ-eP)+0;var eW=Math.abs(eS-eR)+0;bz.$a(this.get_currentContext(),eT,eU,eV,eW,L.c.get('halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var eX=L.c.get('x').gv(cI);var eY=L.c.get('x1').gv(cI);var eZ=L.c.get('y').gv(cI)-eG;var fa=L.c.get('y').gv(cI)+eG;var fb=Math.min(eX,eY);var fc=Math.min(eZ,fa);var fd=Math.abs(eY-eX)+0;var fe=Math.abs(fa-eZ)+0;bz.$a(this.get_currentContext(),fb,fc,fd,fe,L.c.get('halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var ff=L.c.get('x').gv(cI)-eG;var fg=L.c.get('x').gv(cI)+eG;var fh=L.c.get('y').gv(cI)-eG;var fi=L.c.get('y').gv(cI)+eG;var fj=Math.min(ff,fg);var fk=Math.min(fh,fi);var fl=Math.abs(fg-ff)+0;var fm=Math.abs(fi-fh)+0;bz.$a(this.get_currentContext(),fj,fk,fl,fm,L.c.get('halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,true)}}break}case'highlightedOn':{var fn=ss.trunc(L.c.get('size').gv(cI)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var fo=L.c.get('x').gv(cI);var fp=L.c.get('x1').gv(cI);var fq=L.c.get('y').gv(cI);var fr=L.c.get('y1').gv(cI);var fs=Math.min(fo,fp);var ft=Math.min(fq,fr);var fu=Math.abs(fp-fo)+0;var fv=Math.abs(fr-fq)+0;bz.$c(this.get_currentContext(),fs-0,ft-0,fu+2*0,fv+2*0,L.getMarkColors(cI)[cK],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var fw=L.c.get('x').gv(cI);var fx=L.c.get('x1').gv(cI);var fy=L.c.get('y').gv(cI);var fz=L.c.get('y1').gv(cI);var fA=Math.min(fw,fx);var fB=Math.min(fy,fz);var fC=Math.abs(fx-fw)+0;var fD=Math.abs(fz-fy)+0;bz.$a(this.get_currentContext(),fA,fB,fC,fD,L.c.get('border_color').gv(cI)[cK],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var fE=L.c.get('x').gv(cI)-fn;var fF=L.c.get('x').gv(cI)+fn;var fG=L.c.get('y').gv(cI);var fH=L.c.get('y1').gv(cI);var fI=Math.min(fE,fF);var fJ=Math.min(fG,fH);var fK=Math.abs(fF-fE)+0;var fL=Math.abs(fH-fG)+0;bz.$c(this.get_currentContext(),fI-0,fJ-0,fK+2*0,fL+2*0,L.getMarkColors(cI)[cK],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var fM=L.c.get('x').gv(cI)-fn;var fN=L.c.get('x').gv(cI)+fn;var fO=L.c.get('y').gv(cI);var fP=L.c.get('y1').gv(cI);var fQ=Math.min(fM,fN);var fR=Math.min(fO,fP);var fS=Math.abs(fN-fM)+0;var fT=Math.abs(fP-fO)+0;bz.$a(this.get_currentContext(),fQ,fR,fS,fT,L.c.get('border_color').gv(cI)[cK],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var fU=L.c.get('x').gv(cI);var fV=L.c.get('x1').gv(cI);var fW=L.c.get('y').gv(cI)-fn;var fX=L.c.get('y').gv(cI)+fn;var fY=Math.min(fU,fV);var fZ=Math.min(fW,fX);var ga=Math.abs(fV-fU)+0;var gb=Math.abs(fX-fW)+0;bz.$c(this.get_currentContext(),fY-0,fZ-0,ga+2*0,gb+2*0,L.getMarkColors(cI)[cK],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var gc=L.c.get('x').gv(cI);var gd=L.c.get('x1').gv(cI);var ge=L.c.get('y').gv(cI)-fn;var gf=L.c.get('y').gv(cI)+fn;var gg=Math.min(gc,gd);var gh=Math.min(ge,gf);var gi=Math.abs(gd-gc)+0;var gj=Math.abs(gf-ge)+0;bz.$a(this.get_currentContext(),gg,gh,gi,gj,L.c.get('border_color').gv(cI)[cK],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var gk=L.c.get('x').gv(cI)-fn;var gl=L.c.get('x').gv(cI)+fn;var gm=L.c.get('y').gv(cI)-fn;var gn=L.c.get('y').gv(cI)+fn;var go=Math.min(gk,gl);var gp=Math.min(gm,gn);var gq=Math.abs(gl-gk)+0;var gr=Math.abs(gn-gm)+0;bz.$c(this.get_currentContext(),go-0,gp-0,gq+2*0,gr+2*0,L.getMarkColors(cI)[cK],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var gs=L.c.get('x').gv(cI)-fn;var gt=L.c.get('x').gv(cI)+fn;var gu=L.c.get('y').gv(cI)-fn;var gv=L.c.get('y').gv(cI)+fn;var gw=Math.min(gs,gt);var gx=Math.min(gu,gv);var gy=Math.abs(gt-gs)+0;var gz=Math.abs(gv-gu)+0;bz.$a(this.get_currentContext(),gw,gx,gy,gz,L.c.get('border_color').gv(cI)[cK],1,L.minBarWidth,L.minBarHeight,true)}}break}case'selectedUnder':{var gA=ss.trunc(L.c.get('size').gv(cI)+0.5)/2;var gB=1;{var gC=L.c.get('x').gv(cI);var gD=L.c.get('x1').gv(cI);var gE=L.c.get('y').gv(cI);var gF=L.c.get('y1').gv(cI);var gG=Math.min(gC,gD);var gH=Math.min(gE,gF);var gI=Math.abs(gD-gC)+0;var gJ=Math.abs(gF-gE)+0;if(L.scaleMarksInX&&L.scaleMarksInY&&!this.$9(cH,gG,gH,gI,gJ)){bz.$a(this.get_currentContext(),gG,gH,gI,gJ,L.c.get('selected_halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,false)}}{var gK=L.c.get('x').gv(cI);var gL=L.c.get('x1').gv(cI);var gM=L.c.get('y').gv(cI);var gN=L.c.get('y1').gv(cI);var gO=Math.min(gK,gL);var gP=Math.min(gM,gN);var gQ=Math.abs(gL-gK)+0;var gR=Math.abs(gN-gM)+0;if(L.scaleMarksInX&&L.scaleMarksInY&&this.$9(cH,gO,gP,gQ,gR)){bz.$c(this.get_currentContext(),gO-2,gP-2,gQ+2*2,gR+2*2,L.c.get('selected_halo_color').gv(cI)[cK],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var gS=L.c.get('x').gv(cI);var gT=L.c.get('x1').gv(cI);var gU=L.c.get('y').gv(cI);var gV=L.c.get('y1').gv(cI);var gW=Math.min(gS,gT);var gX=Math.min(gU,gV);var gY=Math.abs(gT-gS)+gB;var gZ=Math.abs(gV-gU)+gB;bz.$a(this.get_currentContext(),gW,gX,gY,gZ,L.c.get('selected_halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,false)}}{var ha=L.c.get('x').gv(cI)-gA;var hb=L.c.get('x').gv(cI)+gA;var hc=L.c.get('y').gv(cI);var hd=L.c.get('y1').gv(cI);var he=Math.min(ha,hb);var hf=Math.min(hc,hd);var hg=Math.abs(hb-ha)+0;var hh=Math.abs(hd-hc)+0;if(!L.scaleMarksInX&&L.scaleMarksInY&&!this.$9(cH,he,hf,hg,hh)){bz.$a(this.get_currentContext(),he,hf,hg,hh,L.c.get('selected_halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,false)}}{var hi=L.c.get('x').gv(cI)-gA;var hj=L.c.get('x').gv(cI)+gA;var hk=L.c.get('y').gv(cI);var hl=L.c.get('y1').gv(cI);var hm=Math.min(hi,hj);var hn=Math.min(hk,hl);var ho=Math.abs(hj-hi)+0;var hp=Math.abs(hl-hk)+0;if(!L.scaleMarksInX&&L.scaleMarksInY&&this.$9(cH,hm,hn,ho,hp)){bz.$c(this.get_currentContext(),hm-2,hn-2,ho+2*2,hp+2*2,L.c.get('selected_halo_color').gv(cI)[cK],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var hq=L.c.get('x').gv(cI)-gA;var hr=L.c.get('x').gv(cI)+gA;var hs=L.c.get('y').gv(cI);var ht=L.c.get('y1').gv(cI);var hu=Math.min(hq,hr);var hv=Math.min(hs,ht);var hw=Math.abs(hr-hq)+gB;var hx=Math.abs(ht-hs)+gB;bz.$a(this.get_currentContext(),hu,hv,hw,hx,L.c.get('selected_halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,false)}}{var hy=L.c.get('x').gv(cI);var hz=L.c.get('x1').gv(cI);var hA=L.c.get('y').gv(cI)-gA;var hB=L.c.get('y').gv(cI)+gA;var hC=Math.min(hy,hz);var hD=Math.min(hA,hB);var hE=Math.abs(hz-hy)+0;var hF=Math.abs(hB-hA)+0;if(L.scaleMarksInX&&!L.scaleMarksInY&&!this.$9(cH,hC,hD,hE,hF)){bz.$a(this.get_currentContext(),hC,hD,hE,hF,L.c.get('selected_halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,false)}}{var hG=L.c.get('x').gv(cI);var hH=L.c.get('x1').gv(cI);var hI=L.c.get('y').gv(cI)-gA;var hJ=L.c.get('y').gv(cI)+gA;var hK=Math.min(hG,hH);var hL=Math.min(hI,hJ);var hM=Math.abs(hH-hG)+0;var hN=Math.abs(hJ-hI)+0;if(L.scaleMarksInX&&!L.scaleMarksInY&&this.$9(cH,hK,hL,hM,hN)){bz.$c(this.get_currentContext(),hK-2,hL-2,hM+2*2,hN+2*2,L.c.get('selected_halo_color').gv(cI)[cK],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var hO=L.c.get('x').gv(cI);var hP=L.c.get('x1').gv(cI);var hQ=L.c.get('y').gv(cI)-gA;var hR=L.c.get('y').gv(cI)+gA;var hS=Math.min(hO,hP);var hT=Math.min(hQ,hR);var hU=Math.abs(hP-hO)+gB;var hV=Math.abs(hR-hQ)+gB;bz.$a(this.get_currentContext(),hS,hT,hU,hV,L.c.get('selected_halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,false)}}{var hW=L.c.get('x').gv(cI)-gA;var hX=L.c.get('x').gv(cI)+gA;var hY=L.c.get('y').gv(cI)-gA;var hZ=L.c.get('y').gv(cI)+gA;var ia=Math.min(hW,hX);var ib=Math.min(hY,hZ);var ic=Math.abs(hX-hW)+0;var id=Math.abs(hZ-hY)+0;if(!L.scaleMarksInX&&!L.scaleMarksInY&&!this.$9(cH,ia,ib,ic,id)){bz.$a(this.get_currentContext(),ia,ib,ic,id,L.c.get('selected_halo_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,true)}}{var ie=L.c.get('x').gv(cI)-gA;var ig=L.c.get('x').gv(cI)+gA;var ih=L.c.get('y').gv(cI)-gA;var ii=L.c.get('y').gv(cI)+gA;var ij=Math.min(ie,ig);var ik=Math.min(ih,ii);var il=Math.abs(ig-ie)+0;var im=Math.abs(ii-ih)+0;if(!L.scaleMarksInX&&!L.scaleMarksInY&&this.$9(cH,ij,ik,il,im)){bz.$c(this.get_currentContext(),ij-2,ik-2,il+2*2,im+2*2,L.c.get('selected_halo_color').gv(cI)[cK],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var io=L.c.get('x').gv(cI)-gA;var ip=L.c.get('x').gv(cI)+gA;var iq=L.c.get('y').gv(cI)-gA;var ir=L.c.get('y').gv(cI)+gA;var it=Math.min(io,ip);var iu=Math.min(iq,ir);var iv=Math.abs(ip-io)+gB;var iw=Math.abs(ir-iq)+gB;bz.$a(this.get_currentContext(),it,iu,iv,iw,L.c.get('border_color').gv(cI)[cK],4,L.minBarWidth,L.minBarHeight,true)}}break}case'selectedOn':{var ix=ss.trunc(L.c.get('size').gv(cI)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var iy=L.c.get('x').gv(cI);var iz=L.c.get('x1').gv(cI);var iA=L.c.get('y').gv(cI);var iB=L.c.get('y1').gv(cI);var iC=Math.min(iy,iz);var iD=Math.min(iA,iB);var iE=Math.abs(iz-iy)+0;var iF=Math.abs(iB-iA)+0;bz.$c(this.get_currentContext(),iC-0,iD-0,iE+2*0,iF+2*0,L.getMarkColors(cI)[cK],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var iG=L.c.get('x').gv(cI);var iH=L.c.get('x1').gv(cI);var iI=L.c.get('y').gv(cI);var iJ=L.c.get('y1').gv(cI);var iK=Math.min(iG,iH);var iL=Math.min(iI,iJ);var iM=Math.abs(iH-iG)+0;var iN=Math.abs(iJ-iI)+0;bz.$a(this.get_currentContext(),iK,iL,iM,iN,L.c.get('border_color').gv(cI)[cK],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var iO=L.c.get('x').gv(cI)-ix;var iP=L.c.get('x').gv(cI)+ix;var iQ=L.c.get('y').gv(cI);var iR=L.c.get('y1').gv(cI);var iS=Math.min(iO,iP);var iT=Math.min(iQ,iR);var iU=Math.abs(iP-iO)+0;var iV=Math.abs(iR-iQ)+0;bz.$c(this.get_currentContext(),iS-0,iT-0,iU+2*0,iV+2*0,L.getMarkColors(cI)[cK],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var iW=L.c.get('x').gv(cI)-ix;var iX=L.c.get('x').gv(cI)+ix;var iY=L.c.get('y').gv(cI);var iZ=L.c.get('y1').gv(cI);var ja=Math.min(iW,iX);var jb=Math.min(iY,iZ);var jc=Math.abs(iX-iW)+0;var jd=Math.abs(iZ-iY)+0;bz.$a(this.get_currentContext(),ja,jb,jc,jd,L.c.get('border_color').gv(cI)[cK],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var je=L.c.get('x').gv(cI);var jf=L.c.get('x1').gv(cI);var jg=L.c.get('y').gv(cI)-ix;var jh=L.c.get('y').gv(cI)+ix;var ji=Math.min(je,jf);var jj=Math.min(jg,jh);var jk=Math.abs(jf-je)+0;var jl=Math.abs(jh-jg)+0;bz.$c(this.get_currentContext(),ji-0,jj-0,jk+2*0,jl+2*0,L.getMarkColors(cI)[cK],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var jm=L.c.get('x').gv(cI);var jn=L.c.get('x1').gv(cI);var jo=L.c.get('y').gv(cI)-ix;var jp=L.c.get('y').gv(cI)+ix;var jq=Math.min(jm,jn);var jr=Math.min(jo,jp);var js=Math.abs(jn-jm)+0;var jt=Math.abs(jp-jo)+0;bz.$a(this.get_currentContext(),jq,jr,js,jt,L.c.get('border_color').gv(cI)[cK],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var ju=L.c.get('x').gv(cI)-ix;var jv=L.c.get('x').gv(cI)+ix;var jw=L.c.get('y').gv(cI)-ix;var jx=L.c.get('y').gv(cI)+ix;var jy=Math.min(ju,jv);var jz=Math.min(jw,jx);var jA=Math.abs(jv-ju)+0;var jB=Math.abs(jx-jw)+0;bz.$c(this.get_currentContext(),jy-0,jz-0,jA+2*0,jB+2*0,L.getMarkColors(cI)[cK],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var jC=L.c.get('x').gv(cI)-ix;var jD=L.c.get('x').gv(cI)+ix;var jE=L.c.get('y').gv(cI)-ix;var jF=L.c.get('y').gv(cI)+ix;var jG=Math.min(jC,jD);var jH=Math.min(jE,jF);var jI=Math.abs(jD-jC)+0;var jJ=Math.abs(jF-jE)+0;bz.$a(this.get_currentContext(),jG,jH,jI,jJ,L.c.get('border_color').gv(cI)[cK],1,L.minBarWidth,L.minBarHeight,true)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderLineMark:function(L,cH,cI){var cJ=L.get_hasSelection();var cK=L.get_hasBrushing();var cL='colorOverrideNone';var cM=L.getUserPaneMarkRange(cH);var cN=cM.firstMark;var cO=cM.lastMark;var cP=L.getUserPaneRectByIndex(cH);var cQ=L.get_lineDrawState();this.get_currentContext().save();switch(cI){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}var cR=cQ.get_lineAttributes();for(var cS=0;cS<cR.length;cS++){var cT=cR[cS];if(cT.get_lineState()!=='lineStateNormal'){continue}var cU=cT.worldOffsets;var cV=cU.length;for(var cW=0;cW<cV;cW++){var cX=cU[cW];bz.$d(this.get_currentContext(),cX);{for(var cY=0;cY<cT.marksNeedingDraw.length;cY++){var cZ=cT.marksNeedingDraw[cY];if(L.c.get('l_neighbor').gv(cZ)!==-1||L.c.get('r_neighbor').gv(cZ)!==-1){this.drawLineMarkLayer(L,cZ,'normalUnder',cL)}}}{for(var da=0;da<cT.marksNeedingDraw.length;da++){var db=cT.marksNeedingDraw[da];this.drawLineMarkLayer(L,db,'edgeUnder',cL);if(L.c.get('l_neighbor').gv(db)===-1&&L.c.get('r_neighbor').gv(db)===-1||L.shouldShowMarker(db)){this.drawLineMarkLayer(L,db,'blobUnder',cL)}}}if(cX!==0){this.get_currentContext().restore()}}}var dc=cQ.get_lineAttributes();for(var dd=0;dd<dc.length;dd++){var de=dc[dd];if(de.get_lineState()!=='lineStateHighlighted'){continue}var df=de.worldOffsets;var dg=df.length;for(var dh=0;dh<dg;dh++){var di=df[dh];bz.$d(this.get_currentContext(),di);{for(var dj=0;dj<de.marksNeedingDraw.length;dj++){var dk=de.marksNeedingDraw[dj];if(L.c.get('l_neighbor').gv(dk)!==-1||L.c.get('r_neighbor').gv(dk)!==-1){this.drawLineMarkLayer(L,dk,'normalUnder',cL)}}}{for(var dl=0;dl<de.marksNeedingDraw.length;dl++){var dm=de.marksNeedingDraw[dl];this.drawLineMarkLayer(L,dm,'edgeUnder',cL);if(L.c.get('l_neighbor').gv(dm)===-1&&L.c.get('r_neighbor').gv(dm)===-1||L.shouldShowMarker(dm)){this.drawLineMarkLayer(L,dm,'blobUnder',cL)}}}if(di!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}var dn=cQ.get_lineAttributes();for(var dp=0;dp<dn.length;dp++){var dq=dn[dp];if(dq.get_lineState()!=='lineStateNormal'){continue}var dr=dq.worldOffsets;var ds=dr.length;for(var dt=0;dt<ds;dt++){var du=dr[dt];bz.$d(this.get_currentContext(),du);var dv=true;if(L.get_hasGlobalTransparency()){if(L.markType==='line'){dv=dq.endIndex-dq.startIndex>1}if(dv){var dw=((!L.isWrappedDomain&&L.markType==='line')?dq.sloppyBoundingBox:null);this.beginOffScreenRender(dw);L.forceOpaqueColors=true}}{for(var dx=0;dx<dq.marksNeedingDraw.length;dx++){var dy=dq.marksNeedingDraw[dx];if(L.c.get('l_neighbor').gv(dy)!==-1||L.c.get('r_neighbor').gv(dy)!==-1){this.drawLineMarkLayer(L,dy,'normalOn',cL)}else{this.drawLineMarkLayer(L,dy,'blobOn',cL)}}}{for(var dz=0;dz<dq.marksNeedingDraw.length;dz++){var dA=dq.marksNeedingDraw[dz];this.drawLineMarkLayer(L,dA,'edgeOn',cL)}}if(L.get_hasGlobalTransparency()){if(dv){L.forceOpaqueColors=false;this.endOffScreenRender(L.globalAlpha)}}{for(var dB=0;dB<dq.marksNeedingDraw.length;dB++){var dC=dq.marksNeedingDraw[dB];if(L.shouldShowMarker(dC)){this.drawLineMarkLayer(L,dC,'blobOn',cL)}}}if(du!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(cJ||cK){cL='colorOverrideNone';var dD=cQ.get_lineAttributes();for(var dE=0;dE<dD.length;dE++){var dF=dD[dE];if(dF.get_lineState()!=='lineStateHighlighted'){continue}var dG=dF.worldOffsets;var dH=dG.length;for(var dI=0;dI<dH;dI++){var dJ=dG[dI];bz.$d(this.get_currentContext(),dJ);var dK=true;if(L.get_hasGlobalTransparency()){if(L.markType==='line'){dK=dF.endIndex-dF.startIndex>1}if(dK){var dL=((!L.isWrappedDomain&&L.markType==='line')?dF.sloppyBoundingBox:null);this.beginOffScreenRender(dL);L.forceOpaqueColors=true}}{for(var dM=0;dM<dF.marksNeedingDraw.length;dM++){var dN=dF.marksNeedingDraw[dM];if(!(L.getMarkState(dN)==='markStateHighlighted')){cL='colorOverrideFog'}if(!(L.getMarkState(dN)==='markStateHighlighted'&&!dF.get_allHighlighted())){if(L.c.get('l_neighbor').gv(dN)!==-1||L.c.get('r_neighbor').gv(dN)!==-1){this.drawLineMarkLayer(L,dN,'normalOn',cL)}else{this.drawLineMarkLayer(L,dN,'blobOn',cL)}}cL='colorOverrideNone'}}{for(var dO=0;dO<dF.marksNeedingDraw.length;dO++){var dP=dF.marksNeedingDraw[dO];if(L.getMarkState(dP)!=='markStateHighlighted'||L.c.get('r_neighbor').gv(dP)!==-1&&L.getMarkState(L.c.get('r_neighbor').gv(dP))!=='markStateHighlighted'){cL='colorOverrideFog'}this.drawLineMarkLayer(L,dP,'edgeOn',cL);cL='colorOverrideNone'}}if(L.get_hasGlobalTransparency()){if(dK){L.forceOpaqueColors=false;this.endOffScreenRender(L.globalAlpha)}}{for(var dQ=0;dQ<dF.marksNeedingDraw.length;dQ++){var dR=dF.marksNeedingDraw[dQ];if(!(L.getMarkState(dR)==='markStateHighlighted')){cL='colorOverrideFog'}if(!(L.getMarkState(dR)==='markStateHighlighted'&&!dF.get_allHighlighted())){if(L.shouldShowMarker(dR)){this.drawLineMarkLayer(L,dR,'blobOn',cL)}}cL='colorOverrideNone'}}{for(var dS=0;dS<dF.marksNeedingDraw.length;dS++){var dT=dF.marksNeedingDraw[dS];if(L.getMarkState(dT)==='markStateHighlighted'&&!dF.get_allHighlighted()){this.drawLineMarkLayer(L,dT,'highlightedUnder',cL)}}}{for(var dU=0;dU<dF.marksNeedingDraw.length;dU++){var dV=dF.marksNeedingDraw[dU];if(L.getMarkState(dV)==='markStateHighlighted'&&!dF.get_allHighlighted()){this.drawLineMarkLayer(L,dV,'highlightedOn',cL)}}}if(dJ!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(cJ||cK){cL='colorOverrideNone';var dW=cQ.get_lineAttributes();for(var dX=0;dX<dW.length;dX++){var dY=dW[dX];if(dY.get_lineState()!=='lineStateSelected'){continue}var dZ=dY.worldOffsets;var ea=dZ.length;for(var eb=0;eb<ea;eb++){var ec=dZ[eb];bz.$d(this.get_currentContext(),ec);{for(var ed=0;ed<dY.marksNeedingDraw.length;ed++){var ee=dY.marksNeedingDraw[ed];this.drawLineMarkLayer(L,ee,'selectedUnder1',cL);this.drawLineMarkLayer(L,ee,'selectedEdgeUnder',cL)}}if(ec!==0){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(cJ||cK){cL='colorOverrideOpaque';var ef=cQ.get_lineAttributes();for(var eg=0;eg<ef.length;eg++){var eh=ef[eg];if(eh.get_lineState()!=='lineStateSelected'){continue}var ei=eh.worldOffsets;var ej=ei.length;for(var ek=0;ek<ej;ek++){var el=ei[ek];bz.$d(this.get_currentContext(),el);{for(var em=0;em<eh.marksNeedingDraw.length;em++){var en=eh.marksNeedingDraw[em];if(L.c.get('l_neighbor').gv(en)!==-1||L.c.get('r_neighbor').gv(en)!==-1){this.drawLineMarkLayer(L,en,'normalOn',cL)}else{this.drawLineMarkLayer(L,en,'blobOn',cL)}}}{for(var eo=0;eo<eh.marksNeedingDraw.length;eo++){var ep=eh.marksNeedingDraw[eo];this.drawLineMarkLayer(L,ep,'edgeOn',cL)}}{for(var eq=0;eq<eh.marksNeedingDraw.length;eq++){var er=eh.marksNeedingDraw[eq];if(L.shouldShowMarker(er)){this.drawLineMarkLayer(L,er,'blobOn',cL)}}}if(!eh.get_allHighlighted()){{for(var es=0;es<eh.marksNeedingDraw.length;es++){var et=eh.marksNeedingDraw[es];if(L.getMarkState(et)==='markStateHighlighted'){this.drawLineMarkLayer(L,et,'highlightedUnder',cL)}}}{for(var eu=0;eu<eh.marksNeedingDraw.length;eu++){var ev=eh.marksNeedingDraw[eu];if(L.getMarkState(ev)==='markStateHighlighted'){this.drawLineMarkLayer(L,ev,'highlightedOn',cL)}}}}{for(var ew=0;ew<eh.marksNeedingDraw.length;ew++){var ex=eh.marksNeedingDraw[ew];if(L.getMarkState(ex)==='markStateSelected'){this.drawLineMarkLayer(L,ex,'selectedUnder',cL)}}}{for(var ey=0;ey<eh.marksNeedingDraw.length;ey++){var ez=eh.marksNeedingDraw[ey];if(L.getMarkState(ez)==='markStateSelected'){this.drawLineMarkLayer(L,ez,'highlightedOn',cL)}}}if(el!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawLineMarkLayer:function(L,cH,cI,cJ){var cK=L.c.get('l_neighbor').gv(cH);var cL=L.c.get('r_neighbor').gv(cH);switch(cI){case'normalUnder':{var cM=cL!==-1;var cN=L.lineInterpolation;{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),L.c.get('size').gv(cH),L.c.get('halo_color').gv(cH)[cJ],4)}if(cM&&(cN==='lim-step'||cN==='lim-jump')){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cL)-L.c.get('x').gv(cH)+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),L.c.get('size').gv(cH),L.c.get('halo_color').gv(cH)[cJ],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),L.c.get('size').gv(cH),L.getMarkColors(cH)[cJ])}}break}case'blobUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),L.c.get('size').gv(cH)+3,L.c.get('halo_color').gv(cH)[cJ],4)}break}case'blobOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),L.c.get('size').gv(cH)+3,L.getMarkColors(cH)[cJ])}}break}case'highlightedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),L.c.get('size').gv(cH)+4,L.c.get('selected_multi_prim_halo_color').gv(cH)[cJ],4)}break}case'highlightedOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),L.c.get('size').gv(cH)+4,L.getMarkColors(cH)[cJ])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),L.c.get('size').gv(cH)+4,L.c.get('selected_halo_color').gv(cH)[cJ],4)}break}case'selectedUnder1':{var cO=cL!==-1;var cP=L.lineInterpolation;{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),L.c.get('size').gv(cH),L.c.get('selected_multi_prim_halo_color').gv(cH)[cJ],4)}if(cO&&(cP==='lim-step'||cP==='lim-jump')){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(cL)-L.c.get('x').gv(cH)+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),L.c.get('size').gv(cH),L.c.get('selected_multi_prim_halo_color').gv(cH)[cJ],4)}break}case'edgeUnder':{var cQ=cL!==-1;var cR=L.lineInterpolation;if(cQ&&cR==='lim-linear'){this.$d(L.c.get('x').gv(cH),L.c.get('x').gv(cL),L.c.get('y').gv(cH),L.c.get('y').gv(cL),L.c.get('size').gv(cH),L.c.get('size').gv(cL),L.c.get('halo_color').gv(cH)[cJ],4)}if(cQ&&cR==='lim-step'){this.$d(L.c.get('x').gv(cH),L.c.get('x').gv(cL),L.c.get('y').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH),L.c.get('size').gv(cH),L.c.get('halo_color').gv(cH)[cJ],4)}if(cQ&&cR==='lim-step'){this.$d(L.c.get('x').gv(cL),L.c.get('x').gv(cL),L.c.get('y').gv(cH),L.c.get('y').gv(cL),L.c.get('size').gv(cH),L.c.get('size').gv(cL),L.c.get('halo_color').gv(cH)[cJ],4)}if(cQ&&cR==='lim-jump'){this.$d(L.c.get('x').gv(cH),L.c.get('x').gv(cL),L.c.get('y').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH),L.c.get('size').gv(cH),L.c.get('halo_color').gv(cH)[cJ],4)}break}case'selectedEdgeUnder':{var cS=cL!==-1;var cT=L.lineInterpolation;if(cS&&cT==='lim-linear'){this.$d(L.c.get('x').gv(cH),L.c.get('x').gv(cL),L.c.get('y').gv(cH),L.c.get('y').gv(cL),L.c.get('size').gv(cH),L.c.get('size').gv(cL),L.c.get('selected_multi_prim_halo_color').gv(cH)[cJ],4)}if(cS&&cT==='lim-step'){this.$d(L.c.get('x').gv(cH),L.c.get('x').gv(cL),L.c.get('y').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH),L.c.get('size').gv(cH),L.c.get('selected_multi_prim_halo_color').gv(cH)[cJ],4)}if(cS&&cT==='lim-step'){this.$d(L.c.get('x').gv(cL),L.c.get('x').gv(cL),L.c.get('y').gv(cH),L.c.get('y').gv(cL),L.c.get('size').gv(cH),L.c.get('size').gv(cL),L.c.get('selected_multi_prim_halo_color').gv(cH)[cJ],4)}if(cS&&cT==='lim-jump'){this.$d(L.c.get('x').gv(cH),L.c.get('x').gv(cL),L.c.get('y').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH),L.c.get('size').gv(cH),L.c.get('selected_multi_prim_halo_color').gv(cH)[cJ],4)}break}case'edgeOn':{var cU=cL!==-1;var cV=L.lineInterpolation;if(cU&&cV==='lim-linear'){if(L.isLineSegmentVisible(cH,cL)){var cW=cJ;if(L.isLineSegmentFiltered(cH,cL)){cJ='colorOverrideFog'}this.$a(L.c.get('x').gv(cH),L.c.get('x').gv(cL),L.c.get('y').gv(cH),L.c.get('y').gv(cL),L.c.get('size').gv(cH),L.c.get('size').gv(cL),L.getMarkColors(cH)[cJ],L.getMarkColors(cL)[cJ])}}if(cU&&(cV==='lim-step'||cV==='lim-jump')){if(L.isLineSegmentVisible(cH,cL)){var cX=cJ;if(L.isLineSegmentFiltered(cH,cL)){cJ='colorOverrideFog'}this.$a(L.c.get('x').gv(cH),L.c.get('x').gv(cL),L.c.get('y').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH),L.c.get('size').gv(cH),L.getMarkColors(cH)[cJ],L.getMarkColors(cH)[cJ])}}if(cU&&(cV==='lim-step'||cV==='lim-jump')){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),L.c.get('x').gv(cL)-L.c.get('x').gv(cH)+L.c.get('x').gv(cH),0+L.c.get('y').gv(cH),L.c.get('size').gv(cH),L.getMarkColors(cH)[cJ])}if(cU&&cV==='lim-step'){if(L.isLineSegmentVisible(cH,cL)){var cY=cJ;if(L.isLineSegmentFiltered(cH,cL)){cJ='colorOverrideFog'}this.$a(L.c.get('x').gv(cL),L.c.get('x').gv(cL),L.c.get('y').gv(cH),L.c.get('y').gv(cL),L.c.get('size').gv(cH),L.c.get('size').gv(cL),L.getMarkColors(cH)[cJ],L.getMarkColors(cL)[cJ])}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderShapeMark:function(L,cH,cI){var cJ=L.get_hasSelection();var cK=L.get_hasBrushing();var cL='colorOverrideNone';var cM=L.getUserPaneMarkRange(cH);var cN=cM.firstMark;var cO=cM.lastMark;var cP=L.getUserPaneRectByIndex(cH);switch(cI){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateNormal'){continue}this.drawShapeMarkLayer(L,cS,'normalUnder',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}if(cJ||cK){cL='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateHighlighted'){continue}this.drawShapeMarkLayer(L,cS,'normalUnder',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}}break}case'normalOnPass':{if(cJ||cK){cL='colorOverrideFog'}else{cL='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateNormal'){continue}this.drawShapeMarkLayer(L,cS,'normalOn',cL);if(L.drawBorder){this.drawShapeMarkLayer(L,cS,'border',cL)}}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(cJ||cK){cL='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateHighlighted'){continue}this.drawShapeMarkLayer(L,cS,'normalOn',cL);if(L.drawBorder){this.drawShapeMarkLayer(L,cS,'border',cL)}}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(cJ||cK){cL='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateSelected'){continue}this.drawShapeMarkLayer(L,cS,'selectedUnder',cL)}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(cJ||cK){cL='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(cQ,cR){bz.$d(this.get_currentContext(),cR);for(var cS=cN;cS<=cO;cS++){if(cQ.has(cS)){continue}if(!L.markNeedsDraw(cS)){continue}if(L.getMarkState(cS)!=='markStateSelected'){continue}this.drawShapeMarkLayer(L,cS,'normalOn',cL);if(L.drawBorder){this.drawShapeMarkLayer(L,cS,'border',cL)}}if(!tab.DoubleUtil.isApproximatelyEqual(cR,0)){this.get_currentContext().restore()}}))}}break}}},drawShapeMarkLayer:function(L,cH,cI,cJ){var cK=L.c.get('shape_id').gv(cH);if(!bz.shapeHasLayerContent(cK,cI)){return}var cL=L.c.get('x').gv(cH);var cM=L.c.get('y').gv(cH);var cN=L.shouldStampThisShapeMark(cH);if(!cN){this.renderShapeMarkLayer(L,cL,cM,cH,cI,cJ,false);return}var cO=L.c.get('size').gv(cH);var cP=bz.$7(L,cH,cI,cJ);var cQ=bz.getShapeMarkSpriteSize(cK,cI,cO)+2;var cR=cQ/2;var cS=cM-cR;var cT=cL-cR;var cU=this.get_currentContext();var cV=tab.ShapeManager.getCacheKey(cK,cI,cJ,cP,cO);var cW=tab.ApplicationModel.get_instance().get_shapeManager().getCachedStampCanvas(cV);if(ss.isNullOrUndefined(cW)){var cX=function(){var cY=document.createElement('canvas');var cZ=new tab.TabRenderContext2D(cY.getContext('2d'));tab.CanvasUtil.sizeCanvasWithHighDPISupport(cY,cZ,{w:cQ,h:cQ});if(tab.FeatureParamsLookup.getBool(38)){cZ.set_shapeFillStyle('rgba(255, 0, 0, 0.12)');cZ.fillRect(0,0,cQ,cQ)}var da=new bz(cY,cZ);da.renderShapeMarkLayer(L,cR,cR,cH,cI,cJ,true);return cY};cW=tab.ApplicationModel.get_instance().get_shapeManager().generateCachedStampCanvas(cV,cX)}if(ss.isValue(cW)){cU.drawImage3(cW,cT+0.5<<0,cS+0.5<<0,cQ,cQ)}else{this.renderShapeMarkLayer(L,cL,cM,cH,cI,cJ,false)}},renderShapeMarkLayer:function(L,cH,cI,cJ,cK,cL,cM){var cN=L.clipCase!==0&&!cM;if(cN){this.get_currentContext().save();this.clipRect(L.clipCase,L.c.get('cell_x').gv(cJ),L.c.get('cell_y').gv(cJ),L.c.get('clip_width').gv(cJ),L.c.get('clip_height').gv(cJ))}var cO=L.c.get('shape_id').gv(cJ);switch(cO){case'shapeIDCircle':{this.$g(L,cH,cI,cJ,cK,cL);break}case'shapeIDFilledCircle':{this.$j(L,cH,cI,cJ,cK,cL);break}case'shapeIDUnscaledFilledCircle':{this.$z(L,cH,cI,cJ,cK,cL);break}case'shapeIDSquare':{this.$w(L,cH,cI,cJ,cK,cL);break}case'shapeIDFilledSquare':{this.$p(L,cH,cI,cJ,cK,cL);break}case'shapeIDAsterisk':{this.$f(L,cH,cI,cJ,cK,cL);break}case'shapeIDPlus':{this.$u(L,cH,cI,cJ,cK,cL);break}case'shapeIDFilledPlus':{this.$n(L,cH,cI,cJ,cK,cL);break}case'shapeIDTimes':{this.$x(L,cH,cI,cJ,cK,cL);break}case'shapeIDFilledTimes':{this.$r(L,cH,cI,cJ,cK,cL);break}case'shapeIDDiamond':{this.$h(L,cH,cI,cJ,cK,cL);break}case'shapeIDFilledDiamond':{this.$k(L,cH,cI,cJ,cK,cL);break}case'shapeIDTriangle':{this.$y(L,cH,cI,cJ,cK,cL);break}case'shapeIDFilledTriangle':{this.$s(L,cH,cI,cJ,cK,cL);break}case'shapeIDDownTriangle':{this.$i(L,cH,cI,cJ,cK,cL);break}case'shapeIDFilledDownTriangle':{this.$l(L,cH,cI,cJ,cK,cL);break}case'shapeIDLeftTriangle':{this.$t(L,cH,cI,cJ,cK,cL);break}case'shapeIDFilledLeftTriangle':{this.$m(L,cH,cI,cJ,cK,cL);break}case'shapeIDRightTriangle':{this.$v(L,cH,cI,cJ,cK,cL);break}case'shapeIDFilledRightTriangle':{this.$o(L,cH,cI,cJ,cK,cL);break}case'shapeIDFilledStar':{this.$q(L,cH,cI,cJ,cK,cL);break}default:{bz.$b(this.get_currentContext(),L,cJ,cK,cL);break}}if(cN){this.get_currentContext().restore()}},$g:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cH,0+cI,L.c.get('size').gv(cJ)*(1+-0.5/12),L.c.get('halo_color').gv(cJ)[cL],4)}break}case'normalOn':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cH,0+cI,L.c.get('size').gv(cJ)*(1+-0.5/12),L.getMarkColors(cJ)[cL],2)}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cH,0+cI,L.c.get('size').gv(cJ)*(1+-0.5/12),L.c.get('selected_halo_color').gv(cJ)[cL],4)}break}default:{break}}},$j:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cH,0+cI,L.c.get('size').gv(cJ)*(1+-0.25/12),L.c.get('halo_color').gv(cJ)[cL],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+cH,0+cI,L.c.get('size').gv(cJ)*(1+-0.25/12),L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cH,0+cI,L.c.get('size').gv(cJ)*(1+-0.25/12),L.c.get('selected_halo_color').gv(cJ)[cL],4)}break}case'border':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cH,0+cI,L.c.get('size').gv(cJ)*(1+-0.25/12),L.c.get('border_color').gv(cJ)[cL],1)}break}default:{break}}},$z:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cH,0+cI,L.c.get('size').gv(cJ),L.c.get('halo_color').gv(cJ)[cL],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+cH,0+cI,L.c.get('size').gv(cJ),L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cH,0+cI,L.c.get('size').gv(cJ),L.c.get('selected_halo_color').gv(cJ)[cL],4)}break}case'border':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+cH,0+cI,L.c.get('size').gv(cJ),L.c.get('border_color').gv(cJ)[cL],1)}break}default:{break}}},$w:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),cH+0,cI+0,L.c.get('size').gv(cJ)*(1+-1.25/12),L.c.get('size').gv(cJ)*(1+-1.25/12),L.c.get('halo_color').gv(cJ)[cL],4)}break}case'normalOn':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),cH+0,cI+0,L.c.get('size').gv(cJ)*(1+-1.25/12),L.c.get('size').gv(cJ)*(1+-1.25/12),L.getMarkColors(cJ)[cL],2)}break}case'selectedUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),cH+0,cI+0,L.c.get('size').gv(cJ)*(1+-1.25/12),L.c.get('size').gv(cJ)*(1+-1.25/12),L.c.get('selected_halo_color').gv(cJ)[cL],4)}break}default:{break}}},$p:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),cH+0,cI+0,L.c.get('size').gv(cJ)*(1+-0.75/12),L.c.get('size').gv(cJ)*(1+-0.75/12),L.c.get('halo_color').gv(cJ)[cL],4)}break}case'normalOn':{{this.renderFilledRectangle(cH+0,cI+0,L.c.get('size').gv(cJ)*(1+-0.75/12),L.c.get('size').gv(cJ)*(1+-0.75/12),L.getMarkColors(cJ)[cL])}break}case'selectedUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),cH+0,cI+0,L.c.get('size').gv(cJ)*(1+-0.75/12),L.c.get('size').gv(cJ)*(1+-0.75/12),L.c.get('selected_halo_color').gv(cJ)[cL],4)}break}case'border':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),cH+0,cI+0,L.c.get('size').gv(cJ)*(1+-0.75/12),L.c.get('size').gv(cJ)*(1+-0.75/12),L.c.get('border_color').gv(cJ)[cL],1)}break}default:{break}}},$f:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+-0.5/12)/2;var cN=0.899999976158142*cM;var cO=L.c.get('size').gv(cJ)*(1+-0.5/12)/4;{{this.get_currentContext().set_lineCap('square');var cP=cH;var cQ=cI;var cR=new Array(4);cR[0]=cP+0;cR[1]=cQ+-cM;cR[2]=cP+0;cR[3]=cQ+cM;this.$c(cR,4,L.c.get('halo_color').gv(cJ)[cL],true)}}{{this.get_currentContext().set_lineCap('square');var cS=cH;var cT=cI;var cU=new Array(4);cU[0]=cS+-cN;cU[1]=cT+-cO;cU[2]=cS+cN;cU[3]=cT+cO;this.$c(cU,4,L.c.get('halo_color').gv(cJ)[cL],true)}}{{this.get_currentContext().set_lineCap('square');var cV=cH;var cW=cI;var cX=new Array(4);cX[0]=cV+cN;cX[1]=cW+-cO;cX[2]=cV+-cN;cX[3]=cW+cO;this.$c(cX,4,L.c.get('halo_color').gv(cJ)[cL],true)}}break}case'normalOn':{var cY=L.c.get('size').gv(cJ)*(1+-0.5/12)/2;var cZ=0.899999976158142*cY;var da=L.c.get('size').gv(cJ)*(1+-0.5/12)/4;{{this.get_currentContext().set_lineCap('square');var db=cH;var dc=cI;var dd=new Array(4);dd[0]=db+0;dd[1]=dc+-cY;dd[2]=db+0;dd[3]=dc+cY;this.$c(dd,2,L.getMarkColors(cJ)[cL],true)}}{{this.get_currentContext().set_lineCap('square');var de=cH;var df=cI;var dg=new Array(4);dg[0]=de+-cZ;dg[1]=df+-da;dg[2]=de+cZ;dg[3]=df+da;this.$c(dg,2,L.getMarkColors(cJ)[cL],true)}}{{this.get_currentContext().set_lineCap('square');var dh=cH;var di=cI;var dj=new Array(4);dj[0]=dh+cZ;dj[1]=di+-da;dj[2]=dh+-cZ;dj[3]=di+da;this.$c(dj,2,L.getMarkColors(cJ)[cL],true)}}break}case'selectedUnder':{var dk=L.c.get('size').gv(cJ)*(1+-0.5/12)/2;var dl=0.899999976158142*dk;var dm=L.c.get('size').gv(cJ)*(1+-0.5/12)/4;{{this.get_currentContext().set_lineCap('square');var dn=cH;var dp=cI;var dq=new Array(4);dq[0]=dn+0;dq[1]=dp+-dk;dq[2]=dn+0;dq[3]=dp+dk;this.$c(dq,4,L.c.get('selected_halo_color').gv(cJ)[cL],true)}}{{this.get_currentContext().set_lineCap('square');var dr=cH;var ds=cI;var dt=new Array(4);dt[0]=dr+-dl;dt[1]=ds+-dm;dt[2]=dr+dl;dt[3]=ds+dm;this.$c(dt,4,L.c.get('selected_halo_color').gv(cJ)[cL],true)}}{{this.get_currentContext().set_lineCap('square');var du=cH;var dv=cI;var dw=new Array(4);dw[0]=du+dl;dw[1]=dv+-dm;dw[2]=du+-dl;dw[3]=dv+dm;this.$c(dw,4,L.c.get('selected_halo_color').gv(cJ)[cL],true)}}break}default:{break}}},$u:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{this.get_currentContext().set_lineCap('square');var cN=cH;var cO=cI;var cP=new Array(4);cP[0]=cN+0;cP[1]=cO+-cM;cP[2]=cN+0;cP[3]=cO+cM;this.$c(cP,4,L.c.get('halo_color').gv(cJ)[cL],true)}}{{this.get_currentContext().set_lineCap('square');var cQ=cH;var cR=cI;var cS=new Array(4);cS[0]=cQ+-cM;cS[1]=cR+0;cS[2]=cQ+cM;cS[3]=cR+0;this.$c(cS,4,L.c.get('halo_color').gv(cJ)[cL],true)}}break}case'normalOn':{var cT=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{this.get_currentContext().set_lineCap('square');var cU=cH;var cV=cI;var cW=new Array(4);cW[0]=cU+0;cW[1]=cV+-cT;cW[2]=cU+0;cW[3]=cV+cT;this.$c(cW,2,L.getMarkColors(cJ)[cL],true)}}{{this.get_currentContext().set_lineCap('square');var cX=cH;var cY=cI;var cZ=new Array(4);cZ[0]=cX+-cT;cZ[1]=cY+0;cZ[2]=cX+cT;cZ[3]=cY+0;this.$c(cZ,2,L.getMarkColors(cJ)[cL],true)}}break}case'selectedUnder':{var da=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{this.get_currentContext().set_lineCap('square');var db=cH;var dc=cI;var dd=new Array(4);dd[0]=db+0;dd[1]=dc+-da;dd[2]=db+0;dd[3]=dc+da;this.$c(dd,4,L.c.get('selected_halo_color').gv(cJ)[cL],true)}}{{this.get_currentContext().set_lineCap('square');var de=cH;var df=cI;var dg=new Array(4);dg[0]=de+-da;dg[1]=df+0;dg[2]=de+da;dg[3]=df+0;this.$c(dg,4,L.c.get('selected_halo_color').gv(cJ)[cL],true)}}break}default:{break}}},$n:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+-0.75/12)/2;var cN=cM/3;{{var cO=cH;var cP=cI;var cQ=new Array(24);cQ[0]=cO+-cN;cQ[1]=cP+-cM;cQ[2]=cO+-cN;cQ[3]=cP+-cN;cQ[4]=cO+-cM;cQ[5]=cP+-cN;cQ[6]=cO+-cM;cQ[7]=cP+cN;cQ[8]=cO+-cN;cQ[9]=cP+cN;cQ[10]=cO+-cN;cQ[11]=cP+cM;cQ[12]=cO+cN;cQ[13]=cP+cM;cQ[14]=cO+cN;cQ[15]=cP+cN;cQ[16]=cO+cM;cQ[17]=cP+cN;cQ[18]=cO+cM;cQ[19]=cP+-cN;cQ[20]=cO+cN;cQ[21]=cP+-cN;cQ[22]=cO+cN;cQ[23]=cP+-cM;this.get_currentContext().set_lineJoin('miter');this.$e(cQ,4,L.c.get('halo_color').gv(cJ)[cL])}}break}case'normalOn':{var cR=L.c.get('size').gv(cJ)*(1+-0.75/12)/2;var cS=cR/3;{{var cT=cH;var cU=cI;var cV=new Array(24);cV[0]=cT+-cS;cV[1]=cU+-cR;cV[2]=cT+-cS;cV[3]=cU+-cS;cV[4]=cT+-cR;cV[5]=cU+-cS;cV[6]=cT+-cR;cV[7]=cU+cS;cV[8]=cT+-cS;cV[9]=cU+cS;cV[10]=cT+-cS;cV[11]=cU+cR;cV[12]=cT+cS;cV[13]=cU+cR;cV[14]=cT+cS;cV[15]=cU+cS;cV[16]=cT+cR;cV[17]=cU+cS;cV[18]=cT+cR;cV[19]=cU+-cS;cV[20]=cT+cS;cV[21]=cU+-cS;cV[22]=cT+cS;cV[23]=cU+-cR;this.$b(cV,L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{var cW=L.c.get('size').gv(cJ)*(1+-0.75/12)/2;var cX=cW/3;{{var cY=cH;var cZ=cI;var da=new Array(24);da[0]=cY+-cX;da[1]=cZ+-cW;da[2]=cY+-cX;da[3]=cZ+-cX;da[4]=cY+-cW;da[5]=cZ+-cX;da[6]=cY+-cW;da[7]=cZ+cX;da[8]=cY+-cX;da[9]=cZ+cX;da[10]=cY+-cX;da[11]=cZ+cW;da[12]=cY+cX;da[13]=cZ+cW;da[14]=cY+cX;da[15]=cZ+cX;da[16]=cY+cW;da[17]=cZ+cX;da[18]=cY+cW;da[19]=cZ+-cX;da[20]=cY+cX;da[21]=cZ+-cX;da[22]=cY+cX;da[23]=cZ+-cW;this.get_currentContext().set_lineJoin('miter');this.$e(da,4,L.c.get('selected_halo_color').gv(cJ)[cL])}}break}default:{break}}},$x:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+-1.5/12)/2;{{this.get_currentContext().set_lineCap('square');var cN=cH;var cO=cI;var cP=new Array(4);cP[0]=cN+-cM;cP[1]=cO+-cM;cP[2]=cN+cM;cP[3]=cO+cM;this.$c(cP,4,L.c.get('halo_color').gv(cJ)[cL],true)}}{{this.get_currentContext().set_lineCap('square');var cQ=cH;var cR=cI;var cS=new Array(4);cS[0]=cQ+-cM;cS[1]=cR+cM;cS[2]=cQ+cM;cS[3]=cR+-cM;this.$c(cS,4,L.c.get('halo_color').gv(cJ)[cL],true)}}break}case'normalOn':{var cT=L.c.get('size').gv(cJ)*(1+-1.5/12)/2;{{this.get_currentContext().set_lineCap('square');var cU=cH;var cV=cI;var cW=new Array(4);cW[0]=cU+-cT;cW[1]=cV+-cT;cW[2]=cU+cT;cW[3]=cV+cT;this.$c(cW,2,L.getMarkColors(cJ)[cL],true)}}{{this.get_currentContext().set_lineCap('square');var cX=cH;var cY=cI;var cZ=new Array(4);cZ[0]=cX+-cT;cZ[1]=cY+cT;cZ[2]=cX+cT;cZ[3]=cY+-cT;this.$c(cZ,2,L.getMarkColors(cJ)[cL],true)}}break}case'selectedUnder':{var da=L.c.get('size').gv(cJ)*(1+-1.5/12)/2;{{this.get_currentContext().set_lineCap('square');var db=cH;var dc=cI;var dd=new Array(4);dd[0]=db+-da;dd[1]=dc+-da;dd[2]=db+da;dd[3]=dc+da;this.$c(dd,4,L.c.get('selected_halo_color').gv(cJ)[cL],true)}}{{this.get_currentContext().set_lineCap('square');var de=cH;var df=cI;var dg=new Array(4);dg[0]=de+-da;dg[1]=df+da;dg[2]=de+da;dg[3]=df+-da;this.$c(dg,4,L.c.get('selected_halo_color').gv(cJ)[cL],true)}}break}default:{break}}},$r:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+-0.75/12)/2;var cN=L.c.get('size').gv(cJ)*(1+-0.75/12)/4;{{var cO=cH;var cP=cI;var cQ=new Array(24);cQ[0]=cO+-cN;cQ[1]=cP+-cM;cQ[2]=cO+-cM;cQ[3]=cP+-cN;cQ[4]=cO+-cN;cQ[5]=cP+0;cQ[6]=cO+-cM;cQ[7]=cP+cN;cQ[8]=cO+-cN;cQ[9]=cP+cM;cQ[10]=cO+0;cQ[11]=cP+cN;cQ[12]=cO+cN;cQ[13]=cP+cM;cQ[14]=cO+cM;cQ[15]=cP+cN;cQ[16]=cO+cN;cQ[17]=cP+0;cQ[18]=cO+cM;cQ[19]=cP+-cN;cQ[20]=cO+cN;cQ[21]=cP+-cM;cQ[22]=cO+0;cQ[23]=cP+-cN;this.get_currentContext().set_lineJoin('miter');this.$e(cQ,4,L.c.get('halo_color').gv(cJ)[cL])}}break}case'normalOn':{var cR=L.c.get('size').gv(cJ)*(1+-0.75/12)/2;var cS=L.c.get('size').gv(cJ)*(1+-0.75/12)/4;{{var cT=cH;var cU=cI;var cV=new Array(24);cV[0]=cT+-cS;cV[1]=cU+-cR;cV[2]=cT+-cR;cV[3]=cU+-cS;cV[4]=cT+-cS;cV[5]=cU+0;cV[6]=cT+-cR;cV[7]=cU+cS;cV[8]=cT+-cS;cV[9]=cU+cR;cV[10]=cT+0;cV[11]=cU+cS;cV[12]=cT+cS;cV[13]=cU+cR;cV[14]=cT+cR;cV[15]=cU+cS;cV[16]=cT+cS;cV[17]=cU+0;cV[18]=cT+cR;cV[19]=cU+-cS;cV[20]=cT+cS;cV[21]=cU+-cR;cV[22]=cT+0;cV[23]=cU+-cS;this.$b(cV,L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{var cW=L.c.get('size').gv(cJ)*(1+-0.75/12)/2;var cX=L.c.get('size').gv(cJ)*(1+-0.75/12)/4;{{var cY=cH;var cZ=cI;var da=new Array(24);da[0]=cY+-cX;da[1]=cZ+-cW;da[2]=cY+-cW;da[3]=cZ+-cX;da[4]=cY+-cX;da[5]=cZ+0;da[6]=cY+-cW;da[7]=cZ+cX;da[8]=cY+-cX;da[9]=cZ+cW;da[10]=cY+0;da[11]=cZ+cX;da[12]=cY+cX;da[13]=cZ+cW;da[14]=cY+cW;da[15]=cZ+cX;da[16]=cY+cX;da[17]=cZ+0;da[18]=cY+cW;da[19]=cZ+-cX;da[20]=cY+cX;da[21]=cZ+-cW;da[22]=cY+0;da[23]=cZ+-cX;this.get_currentContext().set_lineJoin('miter');this.$e(da,4,L.c.get('selected_halo_color').gv(cJ)[cL])}}break}default:{break}}},$h:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+0.5/12)/2;{{var cN=cH;var cO=cI;var cP=new Array(8);cP[0]=cN+0;cP[1]=cO+-cM;cP[2]=cN+-cM;cP[3]=cO+0;cP[4]=cN+0;cP[5]=cO+cM;cP[6]=cN+cM;cP[7]=cO+0;this.get_currentContext().set_lineJoin('miter');this.$e(cP,4,L.c.get('halo_color').gv(cJ)[cL])}}break}case'normalOn':{var cQ=L.c.get('size').gv(cJ)*(1+0.5/12)/2;{{var cR=cH;var cS=cI;var cT=new Array(8);cT[0]=cR+0;cT[1]=cS+-cQ;cT[2]=cR+-cQ;cT[3]=cS+0;cT[4]=cR+0;cT[5]=cS+cQ;cT[6]=cR+cQ;cT[7]=cS+0;this.get_currentContext().set_lineJoin('miter');this.$e(cT,2,L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{var cU=L.c.get('size').gv(cJ)*(1+0.5/12)/2;{{var cV=cH;var cW=cI;var cX=new Array(8);cX[0]=cV+0;cX[1]=cW+-cU;cX[2]=cV+-cU;cX[3]=cW+0;cX[4]=cV+0;cX[5]=cW+cU;cX[6]=cV+cU;cX[7]=cW+0;this.get_currentContext().set_lineJoin('miter');this.$e(cX,4,L.c.get('selected_halo_color').gv(cJ)[cL])}}break}default:{break}}},$k:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+0.5/12)/2;{{var cN=cH;var cO=cI;var cP=new Array(8);cP[0]=cN+0;cP[1]=cO+-cM;cP[2]=cN+-cM;cP[3]=cO+0;cP[4]=cN+0;cP[5]=cO+cM;cP[6]=cN+cM;cP[7]=cO+0;this.get_currentContext().set_lineJoin('miter');this.$e(cP,4,L.c.get('halo_color').gv(cJ)[cL])}}break}case'normalOn':{var cQ=L.c.get('size').gv(cJ)*(1+0.5/12)/2;{{var cR=cH;var cS=cI;var cT=new Array(8);cT[0]=cR+0;cT[1]=cS+-cQ;cT[2]=cR+-cQ;cT[3]=cS+0;cT[4]=cR+0;cT[5]=cS+cQ;cT[6]=cR+cQ;cT[7]=cS+0;this.$b(cT,L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{var cU=L.c.get('size').gv(cJ)*(1+0.5/12)/2;{{var cV=cH;var cW=cI;var cX=new Array(8);cX[0]=cV+0;cX[1]=cW+-cU;cX[2]=cV+-cU;cX[3]=cW+0;cX[4]=cV+0;cX[5]=cW+cU;cX[6]=cV+cU;cX[7]=cW+0;this.get_currentContext().set_lineJoin('miter');this.$e(cX,4,L.c.get('selected_halo_color').gv(cJ)[cL])}}break}default:{break}}},$y:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;{{var cN=cH;var cO=cI;var cP=new Array(6);cP[0]=cN+0;cP[1]=cO+-cM;cP[2]=cN+-cM;cP[3]=cO+cM;cP[4]=cN+cM;cP[5]=cO+cM;this.get_currentContext().set_lineJoin('miter');this.$e(cP,4,L.c.get('halo_color').gv(cJ)[cL])}}break}case'normalOn':{var cQ=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;{{var cR=cH;var cS=cI;var cT=new Array(6);cT[0]=cR+0;cT[1]=cS+-cQ;cT[2]=cR+-cQ;cT[3]=cS+cQ;cT[4]=cR+cQ;cT[5]=cS+cQ;this.get_currentContext().set_lineJoin('miter');this.$e(cT,2,L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{var cU=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;{{var cV=cH;var cW=cI;var cX=new Array(6);cX[0]=cV+0;cX[1]=cW+-cU;cX[2]=cV+-cU;cX[3]=cW+cU;cX[4]=cV+cU;cX[5]=cW+cU;this.get_currentContext().set_lineJoin('miter');this.$e(cX,4,L.c.get('selected_halo_color').gv(cJ)[cL])}}break}default:{break}}},$s:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{var cN=cH;var cO=cI;var cP=new Array(6);cP[0]=cN+0;cP[1]=cO+-cM;cP[2]=cN+-cM;cP[3]=cO+cM;cP[4]=cN+cM;cP[5]=cO+cM;this.get_currentContext().set_lineJoin('miter');this.$e(cP,4,L.c.get('halo_color').gv(cJ)[cL])}}break}case'normalOn':{var cQ=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{var cR=cH;var cS=cI;var cT=new Array(6);cT[0]=cR+0;cT[1]=cS+-cQ;cT[2]=cR+-cQ;cT[3]=cS+cQ;cT[4]=cR+cQ;cT[5]=cS+cQ;this.$b(cT,L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{var cU=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{var cV=cH;var cW=cI;var cX=new Array(6);cX[0]=cV+0;cX[1]=cW+-cU;cX[2]=cV+-cU;cX[3]=cW+cU;cX[4]=cV+cU;cX[5]=cW+cU;this.get_currentContext().set_lineJoin('miter');this.$e(cX,4,L.c.get('selected_halo_color').gv(cJ)[cL])}}break}default:{break}}},$i:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;{{var cN=cH;var cO=cI;var cP=new Array(6);cP[0]=cN+0;cP[1]=cO+cM;cP[2]=cN+-cM;cP[3]=cO+-cM;cP[4]=cN+cM;cP[5]=cO+-cM;this.get_currentContext().set_lineJoin('miter');this.$e(cP,4,L.c.get('halo_color').gv(cJ)[cL])}}break}case'normalOn':{var cQ=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;{{var cR=cH;var cS=cI;var cT=new Array(6);cT[0]=cR+0;cT[1]=cS+cQ;cT[2]=cR+-cQ;cT[3]=cS+-cQ;cT[4]=cR+cQ;cT[5]=cS+-cQ;this.get_currentContext().set_lineJoin('miter');this.$e(cT,2,L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{var cU=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;{{var cV=cH;var cW=cI;var cX=new Array(6);cX[0]=cV+0;cX[1]=cW+cU;cX[2]=cV+-cU;cX[3]=cW+-cU;cX[4]=cV+cU;cX[5]=cW+-cU;this.get_currentContext().set_lineJoin('miter');this.$e(cX,4,L.c.get('selected_halo_color').gv(cJ)[cL])}}break}default:{break}}},$l:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{var cN=cH;var cO=cI;var cP=new Array(6);cP[0]=cN+0;cP[1]=cO+cM;cP[2]=cN+-cM;cP[3]=cO+-cM;cP[4]=cN+cM;cP[5]=cO+-cM;this.get_currentContext().set_lineJoin('miter');this.$e(cP,4,L.c.get('halo_color').gv(cJ)[cL])}}break}case'normalOn':{var cQ=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{var cR=cH;var cS=cI;var cT=new Array(6);cT[0]=cR+0;cT[1]=cS+cQ;cT[2]=cR+-cQ;cT[3]=cS+-cQ;cT[4]=cR+cQ;cT[5]=cS+-cQ;this.$b(cT,L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{var cU=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{var cV=cH;var cW=cI;var cX=new Array(6);cX[0]=cV+0;cX[1]=cW+L.c.get('size').gv(cJ)*(1+-1/12)/2;cX[2]=cV+-cU;cX[3]=cW+-cU;cX[4]=cV+cU;cX[5]=cW+-cU;this.get_currentContext().set_lineJoin('miter');this.$e(cX,4,L.c.get('selected_halo_color').gv(cJ)[cL])}}break}default:{break}}},$t:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;{{var cN=cH;var cO=cI;var cP=new Array(6);cP[0]=cN+-cM;cP[1]=cO+0;cP[2]=cN+cM;cP[3]=cO+-cM;cP[4]=cN+cM;cP[5]=cO+cM;this.get_currentContext().set_lineJoin('miter');this.$e(cP,4,L.c.get('halo_color').gv(cJ)[cL])}}break}case'normalOn':{var cQ=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;{{var cR=cH;var cS=cI;var cT=new Array(6);cT[0]=cR+-cQ;cT[1]=cS+0;cT[2]=cR+cQ;cT[3]=cS+-cQ;cT[4]=cR+cQ;cT[5]=cS+cQ;this.get_currentContext().set_lineJoin('miter');this.$e(cT,2,L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{var cU=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;{{var cV=cH;var cW=cI;var cX=new Array(6);cX[0]=cV+-cU;cX[1]=cW+0;cX[2]=cV+cU;cX[3]=cW+-cU;cX[4]=cV+cU;cX[5]=cW+cU;this.get_currentContext().set_lineJoin('miter');this.$e(cX,4,L.c.get('selected_halo_color').gv(cJ)[cL])}}break}default:{break}}},$m:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{var cN=cH;var cO=cI;var cP=new Array(6);cP[0]=cN+-cM;cP[1]=cO+0;cP[2]=cN+cM;cP[3]=cO+-cM;cP[4]=cN+cM;cP[5]=cO+cM;this.get_currentContext().set_lineJoin('miter');this.$e(cP,4,L.c.get('halo_color').gv(cJ)[cL])}}break}case'normalOn':{var cQ=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{var cR=cH;var cS=cI;var cT=new Array(6);cT[0]=cR+-cQ;cT[1]=cS+0;cT[2]=cR+cQ;cT[3]=cS+-cQ;cT[4]=cR+cQ;cT[5]=cS+cQ;this.$b(cT,L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{var cU=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{var cV=cH;var cW=cI;var cX=new Array(6);cX[0]=cV+-cU;cX[1]=cW+0;cX[2]=cV+cU;cX[3]=cW+-cU;cX[4]=cV+cU;cX[5]=cW+cU;this.get_currentContext().set_lineJoin('miter');this.$e(cX,4,L.c.get('selected_halo_color').gv(cJ)[cL])}}break}default:{break}}},$v:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;{{var cN=cH;var cO=cI;var cP=new Array(6);cP[0]=cN+-cM;cP[1]=cO+-cM;cP[2]=cN+-cM;cP[3]=cO+cM;cP[4]=cN+cM;cP[5]=cO+0;this.get_currentContext().set_lineJoin('miter');this.$e(cP,4,L.c.get('halo_color').gv(cJ)[cL])}}break}case'normalOn':{var cQ=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;{{var cR=cH;var cS=cI;var cT=new Array(6);cT[0]=cR+-cQ;cT[1]=cS+-cQ;cT[2]=cR+-cQ;cT[3]=cS+cQ;cT[4]=cR+cQ;cT[5]=cS+0;this.get_currentContext().set_lineJoin('miter');this.$e(cT,2,L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{var cU=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;{{var cV=cH;var cW=cI;var cX=new Array(6);cX[0]=cV+-cU;cX[1]=cW+-cU;cX[2]=cV+-cU;cX[3]=cW+cU;cX[4]=cV+cU;cX[5]=cW+0;this.get_currentContext().set_lineJoin('miter');this.$e(cX,4,L.c.get('selected_halo_color').gv(cJ)[cL])}}break}default:{break}}},$o:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{var cN=cH;var cO=cI;var cP=new Array(6);cP[0]=cN+-cM;cP[1]=cO+-cM;cP[2]=cN+-cM;cP[3]=cO+cM;cP[4]=cN+cM;cP[5]=cO+0;this.get_currentContext().set_lineJoin('miter');this.$e(cP,4,L.c.get('halo_color').gv(cJ)[cL])}}break}case'normalOn':{var cQ=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{var cR=cH;var cS=cI;var cT=new Array(6);cT[0]=cR+-cQ;cT[1]=cS+-cQ;cT[2]=cR+-cQ;cT[3]=cS+cQ;cT[4]=cR+cQ;cT[5]=cS+0;this.$b(cT,L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{var cU=L.c.get('size').gv(cJ)*(1+-1/12)/2;{{var cV=cH;var cW=cI;var cX=new Array(6);cX[0]=cV+-cU;cX[1]=cW+-cU;cX[2]=cV+-cU;cX[3]=cW+cU;cX[4]=cV+cU;cX[5]=cW+0;this.get_currentContext().set_lineJoin('miter');this.$e(cX,4,L.c.get('selected_halo_color').gv(cJ)[cL])}}break}default:{break}}},$q:function(L,cH,cI,cJ,cK,cL){switch(cK){case'normalUnder':{var cM=L.c.get('size').gv(cJ)*(1+1.1/12);var cN=cM/2;var cO=cM*0.3877;{{var cP=cH;var cQ=cI;var cR=new Array(20);cR[0]=cP+0;cR[1]=cQ+(-cN+cM*0.0246);cR[2]=cP+(-cN+cM*0.3817);cR[3]=cQ+(-cN+cO);cR[4]=cP+-cN;cR[5]=cQ+(-cN+cO);cR[6]=cP+(-cN+cM*0.3088);cR[7]=cQ+(-cN+cM*0.612);cR[8]=cP+(-cN+cM*0.1909);cR[9]=cQ+(-cN+cM*0.9751);cR[10]=cP+0;cR[11]=cQ+(-cN+cM*0.7507);cR[12]=cP+(-cN+cM*0.8085);cR[13]=cQ+(-cN+cM*0.9751);cR[14]=cP+(-cN+cM*0.6905);cR[15]=cQ+(-cN+cM*0.612);cR[16]=cP+cN;cR[17]=cQ+(-cN+cO);cR[18]=cP+(-cN+cM*0.6176);cR[19]=cQ+(-cN+cO);this.get_currentContext().set_lineJoin('miter');this.$e(cR,4,L.c.get('halo_color').gv(cJ)[cL])}}break}case'normalOn':{var cS=L.c.get('size').gv(cJ)*(1+1.1/12);var cT=cS/2;var cU=cS*0.3877;{{var cV=cH;var cW=cI;var cX=new Array(20);cX[0]=cV+0;cX[1]=cW+(-cT+cS*0.0246);cX[2]=cV+(-cT+cS*0.3817);cX[3]=cW+(-cT+cU);cX[4]=cV+-cT;cX[5]=cW+(-cT+cU);cX[6]=cV+(-cT+cS*0.3088);cX[7]=cW+(-cT+cS*0.612);cX[8]=cV+(-cT+cS*0.1909);cX[9]=cW+(-cT+cS*0.9751);cX[10]=cV+0;cX[11]=cW+(-cT+cS*0.7507);cX[12]=cV+(-cT+cS*0.8085);cX[13]=cW+(-cT+cS*0.9751);cX[14]=cV+(-cT+cS*0.6905);cX[15]=cW+(-cT+cS*0.612);cX[16]=cV+cT;cX[17]=cW+(-cT+cU);cX[18]=cV+(-cT+cS*0.6176);cX[19]=cW+(-cT+cU);this.$b(cX,L.getMarkColors(cJ)[cL])}}break}case'selectedUnder':{var cY=L.c.get('size').gv(cJ)*(1+1.1/12);var cZ=cY/2;var da=cY*0.3877;{{var db=cH;var dc=cI;var dd=new Array(20);dd[0]=db+0;dd[1]=dc+(-cZ+cY*0.0246);dd[2]=db+(-cZ+cY*0.3817);dd[3]=dc+(-cZ+da);dd[4]=db+-cZ;dd[5]=dc+(-cZ+da);dd[6]=db+(-cZ+cY*0.3088);dd[7]=dc+(-cZ+cY*0.612);dd[8]=db+(-cZ+cY*0.1909);dd[9]=dc+(-cZ+cY*0.9751);dd[10]=db+0;dd[11]=dc+(-cZ+cY*0.7507);dd[12]=db+(-cZ+cY*0.8085);dd[13]=dc+(-cZ+cY*0.9751);dd[14]=db+(-cZ+cY*0.6905);dd[15]=dc+(-cZ+cY*0.612);dd[16]=db+cZ;dd[17]=dc+(-cZ+da);dd[18]=db+(-cZ+cY*0.6176);dd[19]=dc+(-cZ+da);this.get_currentContext().set_lineJoin('miter');this.$e(dd,4,L.c.get('selected_halo_color').gv(cJ)[cL])}}break}default:{break}}},drawPredictionBandLayer:function(L,cH,cI,cJ,cK,cL){switch(cI){case'normalUnder':{var cM=cK.qrgbColor;if(L.isTupleVisible(cK.tupleIds[cH])){if((cH===0||!L.isTupleVisible(cK.tupleIds[cH-1]))&&(cH+1>=cK.upperEnd.length||!L.isTupleVisible(cK.tupleIds[cH+1]))){var cN=ss.idiv(cK.widths[cH],2)+2.5;if(cK.useYAxis){var cO=L.thisDomainToPixelY(cK.upperEnd[cH]);var cP=L.thisDomainToPixelY(cK.lowerEnd[cH]);var cQ=L.thisDomainToPixelX(cK.oppositeAxis[cH]);{var cR=[cQ-cN,cO,cQ-cN,cP,cQ+cN,cP,cQ+cN,cO];this.$b(cR,L.getOneColorAlpha(cM,cJ,cL))}}else{var cS=L.thisDomainToPixelX(cK.upperEnd[cH]);var cT=L.thisDomainToPixelX(cK.lowerEnd[cH]);var cU=L.thisDomainToPixelY(cK.oppositeAxis[cH]);{var cV=[cS,cU-cN,cT,cU-cN,cT,cU+cN,cS,cU+cN];this.$b(cV,L.getOneColorAlpha(cM,cJ,cL))}}}else if(cH+1<cK.tupleIds.length&&L.isTupleVisible(cK.tupleIds[cH+1])){var cW=L.lineInterpolation;if(cK.useYAxis){var cX=L.thisDomainToPixelY(cK.upperEnd[cH]);var cY=L.thisDomainToPixelY(cK.lowerEnd[cH]);var cZ=L.thisDomainToPixelX(cK.oppositeAxis[cH]);var da=L.thisDomainToPixelX(cK.oppositeAxis[cH+1]);if(cW==='lim-step'||cW==='lim-jump'){{var db=[cZ,cY,da,cY,da,cX,cZ,cX];this.$b(db,L.getOneColorAlpha(cM,cJ,cL))}}else{var dc=L.thisDomainToPixelY(cK.upperEnd[cH+1]);var dd=L.thisDomainToPixelY(cK.lowerEnd[cH+1]);{var de=[cZ,cY,da,dd,da,dc,cZ,cX];this.$b(de,L.getOneColorAlpha(cM,cJ,cL))}}}else{var df=L.thisDomainToPixelX(cK.upperEnd[cH]);var dg=L.thisDomainToPixelX(cK.lowerEnd[cH]);var dh=L.thisDomainToPixelX(cK.upperEnd[cH+1]);var di=L.thisDomainToPixelX(cK.lowerEnd[cH+1]);var dj=L.thisDomainToPixelY(cK.oppositeAxis[cH]);var dk=L.thisDomainToPixelY(cK.oppositeAxis[cH+1]);if(cW==='lim-step'||cW==='lim-jump'){{var dl=[dg,dj,dg,dk,df,dk,df,dj];this.$b(dl,L.getOneColorAlpha(cM,cJ,cL))}}else{{var dm=[dg,dj,di,dk,dh,dk,df,dj];this.$b(dm,L.getOneColorAlpha(cM,cJ,cL))}}}}}break}}},renderPredictionBand:function(L,cH,cI,cJ){var cK='colorOverrideNone';var cL=255;var cM=cI;var cN=0;var cO=1;var cP=2;var cQ=cN;for(var cR=0;cR<cM.lineTupleIds.length;cR++){var cS=cM.lineTupleIds[cR];if(L.isTupleSelected(cS)){cQ=cP;break}if(cQ!==cO&&L.isTupleHighlighted(cS)){cQ=cO}}if(cQ!==cP){for(var cT=0;cT<cM.tupleIds.length;cT++){var cU=cM.tupleIds[cT];if(L.isTupleSelected(cU)){cQ=cP;break}if(cQ!==cO&&L.isTupleHighlighted(cU)){cQ=cO}}}switch(cH){case'normalUnderPass':{if(cQ===cN&&cJ==='underMark'){if(L.get_hasSelection()||L.get_hasBrushing()){cK='colorOverrideFog'}else{cK='colorOverrideNone'}var cV=cM.tupleIds.length;for(var cW=0;cW<cV;cW++){this.drawPredictionBandLayer(L,cW,'normalUnder',cK,cM,cL)}}break}case'highlightedUnderPass':{if(cQ===cO&&cJ==='underMark'){var cX=cM.tupleIds.length;for(var cY=0;cY<cX;cY++){if(L.isTupleHighlighted(cM.tupleIds[cY])&&((cY===0||!L.isTupleVisible(cM.tupleIds[cY-1]))&&(cY+1>=cM.upperEnd.length||!L.isTupleVisible(cM.tupleIds[cY+1]))||cY+1<cM.tupleIds.length&&L.isTupleVisible(cM.tupleIds[cY+1])&&L.isTupleHighlighted(cM.tupleIds[cY+1]))){cK='colorOverrideNone'}else{cK='colorOverrideFog'}this.drawPredictionBandLayer(L,cY,'normalUnder',cK,cM,cL)}}break}case'selectedUnderPass':{if(cQ===cP&&cJ==='underMark'){cK='colorOverrideReplaceAlpha';cL=0.300000011920929*255;var cZ=cM.tupleIds.length;for(var da=0;da<cZ;da++){this.drawPredictionBandLayer(L,da,'normalUnder',cK,cM,cL)}}break}}},drawPredictionWhiskerLayer:function(L,cH,cI,cJ,cK,cL){switch(cI){case'border':{if(L.isTupleVisible(cK.tupleIds[cH])){var cM=ss.idiv(cK.widths[cH]-1,2);if(cK.useYAxis){var cN=ss.trunc(L.thisDomainToPixelX(cK.oppositeAxis[cH]));var cO=ss.trunc(L.thisDomainToPixelY(cK.upperEnd[cH]));var cP=ss.trunc(L.thisDomainToPixelY(cK.lowerEnd[cH]));var cQ=cO-0.5;var cR=cP+1.5;var cS=cN-0.5-cM;var cT=cN+1.5+cM;var cU=cO+1.5;var cV=cP-0.5;var cW=cN-0.5;var cX=cN+1.5;{var cY=[cS,cQ,cT,cQ,cT,cU,cX,cU,cX,cV,cT,cV,cT,cR,cS,cR,cS,cV,cW,cV,cW,cU,cS,cU];this.renderLineLoop(cY,1,L.getOneColorAlpha(cK.qrgbColor,cJ,cL))}}else{var cZ=ss.trunc(L.thisDomainToPixelY(cK.oppositeAxis[cH]));var da=ss.trunc(L.thisDomainToPixelX(cK.lowerEnd[cH]));var db=ss.trunc(L.thisDomainToPixelX(cK.upperEnd[cH]));var dc=cZ-0.5-cM;var dd=cZ+1.5+cM;var de=da-0.5;var df=db+1.5;var dg=cZ-0.5;var dh=cZ+1.5;var di=da+1.5;var dj=db-0.5;{var dk=[de,dc,di,dc,di,dg,dj,dg,dj,dc,df,dc,df,dd,dj,dd,dj,dh,di,dh,di,dd,de,dd];this.renderLineLoop(dk,1,L.getOneColorAlpha(cK.qrgbColor,cJ,cL))}}}break}case'normalUnder':{if(L.isTupleVisible(cK.tupleIds[cH])){var dl=ss.idiv(cK.widths[cH]-1,2);var dm=cK.qrgbColors[cH];if(cK.useYAxis){var dn=ss.trunc(L.thisDomainToPixelX(cK.oppositeAxis[cH]));var dp=ss.trunc(L.thisDomainToPixelY(cK.upperEnd[cH]));var dq=ss.trunc(L.thisDomainToPixelY(cK.lowerEnd[cH]));{var dr=[dn-dl,dp+0.5,dn+dl+1,dp+0.5];this.$c(dr,1,L.getOneColorAlpha(dm,cJ,cL),false)}{var ds=[dn-dl,dq+0.5,dn+dl+1,dq+0.5];this.$c(ds,1,L.getOneColorAlpha(dm,cJ,cL),false)}{var dt=[dn+0.5,dp+1,dn+0.5,dq];this.$c(dt,1,L.getOneColorAlpha(dm,cJ,cL),false)}}else{var du=ss.trunc(L.thisDomainToPixelY(cK.oppositeAxis[cH]));var dv=ss.trunc(L.thisDomainToPixelX(cK.lowerEnd[cH]));var dw=ss.trunc(L.thisDomainToPixelX(cK.upperEnd[cH]));{var dx=[dv+0.5,du-dl,dv+0.5,du+dl+1];this.$c(dx,1,L.getOneColorAlpha(dm,cJ,cL),false)}{var dy=[dw+0.5,du-dl,dw+0.5,du+dl+1];this.$c(dy,1,L.getOneColorAlpha(dm,cJ,cL),false)}{var dz=[dv+1,du+0.5,dw,du+0.5];this.$c(dz,1,L.getOneColorAlpha(dm,cJ,cL),false)}}}break}}},renderPredictionWhisker:function(L,cH,cI,cJ){var cK='colorOverrideNone';var cL=255;var cM=cI;switch(cH){case'normalUnderPass':{if(!cM.renderOnTop&&cJ==='underMark'){if(L.get_hasSelection()||L.get_hasBrushing()){cK='colorOverrideFog'}else{cK='colorOverrideNone'}var cN=cM.tupleIds.length;for(var cO=0;cO<cN;cO++){if(!L.isTupleHighlighted(cM.tupleIds[cO])&&!L.isTupleSelected(cM.tupleIds[cO])){this.drawPredictionWhiskerLayer(L,cO,'border',cK,cM,cL);this.drawPredictionWhiskerLayer(L,cO,'normalUnder',cK,cM,cL)}}}break}case'normalOnPass':{if(cM.renderOnTop&&cJ==='underLabel'){if(L.get_hasSelection()||L.get_hasBrushing()){cK='colorOverrideFog'}else{cK='colorOverrideNone'}var cP=cM.tupleIds.length;for(var cQ=0;cQ<cP;cQ++){if(!L.isTupleHighlighted(cM.tupleIds[cQ])&&!L.isTupleSelected(cM.tupleIds[cQ])){this.drawPredictionWhiskerLayer(L,cQ,'border',cK,cM,cL);this.drawPredictionWhiskerLayer(L,cQ,'normalUnder',cK,cM,cL)}}}break}case'selectedUnderPass':{if(!cM.renderOnTop&&cJ==='underMark'){var cR=cM.tupleIds.length;for(var cS=0;cS<cR;cS++){if(L.isTupleSelected(cM.tupleIds[cS])){cK='colorOverrideReplaceAlpha';cL=0.25*255;this.drawPredictionWhiskerLayer(L,cS,'border',cK,cM,cL);cK='colorOverrideReplaceAlpha';cL=cM.maxAlpha/255*255;this.drawPredictionWhiskerLayer(L,cS,'normalUnder',cK,cM,cL)}}}break}case'selectedOnPass':{if(cM.renderOnTop&&cJ==='underLabel'){var cT=cM.tupleIds.length;for(var cU=0;cU<cT;cU++){if(L.isTupleSelected(cM.tupleIds[cU])){cK='colorOverrideReplaceAlpha';cL=0.25*255;this.drawPredictionWhiskerLayer(L,cU,'border',cK,cM,cL);cK='colorOverrideReplaceAlpha';cL=cM.maxAlpha/255*255;this.drawPredictionWhiskerLayer(L,cU,'normalUnder',cK,cM,cL)}}}break}case'highlightedUnderPass':{if(!cM.renderOnTop&&cJ==='underMark'){cK='colorOverrideNone';var cV=cM.tupleIds.length;for(var cW=0;cW<cV;cW++){if(L.isTupleHighlighted(cM.tupleIds[cW])){this.drawPredictionWhiskerLayer(L,cW,'border',cK,cM,cL);this.drawPredictionWhiskerLayer(L,cW,'normalUnder',cK,cM,cL)}}}break}case'highlightedOnPass':{if(cM.renderOnTop&&cJ==='underLabel'){cK='colorOverrideNone';var cX=cM.tupleIds.length;for(var cY=0;cY<cX;cY++){if(L.isTupleHighlighted(cM.tupleIds[cY])){this.drawPredictionWhiskerLayer(L,cY,'border',cK,cM,cL);this.drawPredictionWhiskerLayer(L,cY,'normalUnder',cK,cM,cL)}}}break}}},$9:function(L,cH,cI,cJ,cK){var cL=1;var cM=2*cL;return!tab.RectXYUtil.completelyContains$1(L,ss.trunc(cH)-cL,ss.trunc(cI)-cL,ss.trunc(cJ)+cM,ss.trunc(cK)+cM)},clipRect:function(L,cH,cI,cJ,cK){if(L===0){return}this.get_currentContext().setClip(bz.$0(L,cH,cI,cJ,cK))},$c:function(L,cH,cI,cJ){var cK=this.get_currentContext();cK.set_linePattern('solid');cK.set_lineWidth(cH);cK.set_strokeStyle(cI);tab.CanvasRenderer.strokePath(cK,L,false,cJ)},renderLineLoop:function(L,cH,cI){var cJ=this.get_currentContext();cJ.set_linePattern('solid');cJ.set_lineWidth(cH);cJ.set_strokeStyle(cI);tab.CanvasRenderer.strokePath(cJ,L,true,false)},$d:function(L,cH,cI,cJ,cK,cL,cM,cN){var cO=this.get_currentContext();cO.set_linePattern('solid');cO.set_lineWidth(cN);cO.set_strokeStyle(cM);var cP=Math.atan2(cJ-cI,cH-L);var cQ=Math.cos(cP);var cR=Math.sin(cP);cK/=2;cL/=2;var cS=cK*cR;var cT=cL*cR;var cU=cK*cQ;var cV=cL*cQ;cO.beginPath();cO.moveTo(L+cS,cI-cU);cO.lineTo(cH+cT,cJ-cV);cO.lineTo(cH-cT,cJ+cV);cO.lineTo(L-cS,cI+cU);cO.closePath();cO.stroke()},$a:function(L,cH,cI,cJ,cK,cL,cM,cN){var cO;var cP=this.get_currentContext();if(ss.referenceEquals(cM,cN)){cO=cM}else{var cQ=cP.createLinearGradient(L,cI,cH,cJ);cQ.addColorStop(0,cM);cQ.addColorStop(1,cN);cO=cQ}if(cK===cL){cP.set_lineWidth(cK);cP.set_linePattern('solid');cP.set_strokeStyle(cO);cP.beginPath();cP.moveTo(L,cI);cP.lineTo(cH,cJ);cP.closePath();cP.stroke()}else{var cR=Math.atan2(cJ-cI,cH-L);var cS=Math.cos(cR);var cT=Math.sin(cR);cK/=2;cL/=2;var cU=cK*cT;var cV=cL*cT;var cW=cK*cS;var cX=cL*cS;cP.beginPath();cP.moveTo(L+cU,cI-cW);cP.lineTo(cH+cV,cJ-cX);cP.lineTo(cH-cV,cJ+cX);cP.lineTo(L-cU,cI+cW);cP.closePath();cP.set_shapeFillStyle(cO);cP.fill()}},$e:function(L,cH,cI){var cJ=this.get_currentContext();cJ.set_lineWidth(cH);cJ.set_strokeStyle(cI);tab.CanvasRenderer.strokePath(cJ,L,true,true)},$b:function(L,cH){var cI=this.get_currentContext();cI.set_shapeFillStyle(cH);tab.CanvasRenderer.fillPath(cI,L,true)},$A:function(L){this.get_currentContext().set_shapeFillStyle(L.$1(0,-1,'colorOverrideNone'));var cH=this.createStyleSettersAndSetDominantStyle(L.get_textStyleColumns());return cH}},{multipolygonMarkBuildMarkBound:function(L,cH){var cI='empty';var cJ=L.getMarkGeometry(L.c.get('geometry').gv(cH));if(ss.isValue(cJ)){cI=cJ.geometryType}switch(cI){case'multiPolygon':{var cK={x:0,y:0,w:0,h:0};{var cL=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH)));bz.bBoxGeometry(cK,cL,0,L.getMarkGeometry(L.c.get('geometry').gv(cH)))}return cK;break}case'multiLineString':{var cM={x:0,y:0,w:0,h:0};{var cN=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH)));bz.bBoxGeometry(cM,cN,L.c.get('size').gv(cH)/2,L.getMarkGeometry(L.c.get('geometry').gv(cH)))}return cM;break}case'multiPoint':{var cO={x:0,y:0,w:0,h:0};{var cP=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH)));bz.bBoxGeometry(cO,cP,3.5,L.getMarkGeometry(L.c.get('geometry').gv(cH)))}return cO;break}case'empty':{var cQ={x:0,y:0,w:0,h:0};{tab.RectXYUtil.encompassCircleInPlace(cQ,L.c.get('x').gv(cH),L.c.get('y').gv(cH),7/2)}return cQ;break}default:{break}}return{x:0,y:0,w:0,h:0}},multipolygonMarkExactHitTest:function(L,cH,cI,cJ){var cK=G.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(cJ),L.c.get('y').gv(cJ),L.c.get('size').gv(cJ));var cL='empty';var cM=L.getMarkGeometry(L.c.get('geometry').gv(cJ));if(ss.isValue(cM)){cL=cM.geometryType}switch(cL){case'multiPolygon':{{if(G.isPointInMultipolygon(cM.multiPolygon,cK.transformPoint({x:cH,y:cI}))){return true}}return false;break}case'multiLineString':{{if(G.isPointInMultiLineString(cM.multiLine,cK.transformPoint({x:cH,y:cI}),L.c.get('size').gv(cJ))){return true}}return false;break}case'multiPoint':{{if(G.isPointInMultipoint(cM.multiPoint,cK.transformPoint({x:cH,y:cI}),7/2)){return true}}return false;break}case'empty':{{if(G.isPointInCircle({x:cH,y:cI},{center:{x:L.c.get('x').gv(cJ),y:L.c.get('y').gv(cJ)},radius:ss.idiv(7,2)})){return true}}return false;break}default:{break}}return true},multipolygonMarkNearHitTest:function(L,cH,cI,cJ){var cK=G.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(cJ),L.c.get('y').gv(cJ),L.c.get('size').gv(cJ));var cL='empty';var cM=L.getMarkGeometry(L.c.get('geometry').gv(cJ));if(ss.isValue(cM)){cL=cM.geometryType}switch(cL){case'multiPolygon':{return false;break}case'multiLineString':{{if(G.isPointInMultiLineString(cM.multiLine,cK.transformPoint({x:cH,y:cI}),L.c.get('size').gv(cJ)+10*2)){return true}}return false;break}case'multiPoint':{return false;break}case'empty':{return false;break}default:{break}}return false},multipolygonMarkGetHitTestExpansion:function(L,cH){var cI=null;{cI={w:10,h:10}}return cI;return{w:0,h:0}},multipolygonMarkGetDistanceToMark:function(L,cH,cI,cJ){var cK='empty';var cL=L.getMarkGeometry(L.c.get('geometry').gv(cJ));if(ss.isValue(cL)){cK=cL.geometryType}switch(cK){case'multiPolygon':{return G.getSquaredDistanceToCenter(L.getMarkBounds(cJ),{x:cH,y:cI});break}case'multiLineString':{return G.getSquaredDistanceToCenter(L.getMarkBounds(cJ),{x:cH,y:cI});break}case'multiPoint':{return G.getSquaredDistanceToCenter(L.getMarkBounds(cJ),{x:cH,y:cI});break}case'empty':{return G.getSquaredDistanceToCenter(L.getMarkBounds(cJ),{x:cH,y:cI});break}default:{break}}return G.getSquaredDistanceToCenter(L.getMarkBounds(cJ),{x:cH,y:cI})},multipolygonMarkRectangleAreaHitTest:function(L,cH,cI){var cJ=G.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(cI),L.c.get('y').gv(cI),L.c.get('size').gv(cI));var cK='empty';var cL=L.getMarkGeometry(L.c.get('geometry').gv(cI));if(ss.isValue(cL)){cK=cL.geometryType}switch(cK){case'multiPolygon':{{if(G.multipolygonIntersectsDoubleRect(cL.multiPolygon,cJ.transformRect(cH))){return true}}return false;break}case'multiLineString':{{if(G.multiLineStringIntersectsDoubleRect(cL.multiLine,cJ.transformRect(cH),L.c.get('size').gv(cI))){return true}}return false;break}case'multiPoint':{{if(G.multipointIntersectsDoubleRect(cL.multiPoint,cJ.transformRect(cH),7/2)){return true}}return false;break}case'empty':{{if(G.circleIntersectsRect({center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:ss.idiv(7,2)},cH)){return true}}return false;break}default:{break}}return true},multipolygonMarkCircleAreaHitTest:function(L,cH,cI,cJ,cK){var cL=G.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(cI),L.c.get('y').gv(cI),L.c.get('size').gv(cI));if(cK){var cM='empty';var cN=L.getMarkGeometry(L.c.get('geometry').gv(cI));if(ss.isValue(cN)){cM=cN.geometryType}switch(cM){case'multiPolygon':{break}case'multiLineString':{{{if(G.multiLineStringIntersectsCircle(cN.multiLine,cL.transformCircle(cH),0)){return true}}return false}break}case'multiPoint':{{{if(G.multipointIntersectsCircle(cN.multiPoint,cL.transformCircle(cH),0/2)){return true}}return false}break}case'empty':{{{return G.isPointInCircle({x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},cH)}}break}default:{break}}}{var cO='empty';var cP=L.getMarkGeometry(L.c.get('geometry').gv(cI));if(ss.isValue(cP)){cO=cP.geometryType}switch(cO){case'multiPolygon':{{if(G.multipolygonIntersectsCircle(cP.multiPolygon,cL.transformCircle(cH))){return true}}return false;break}case'multiLineString':{{if(G.multiLineStringIntersectsCircle(cP.multiLine,cL.transformCircle(cH),L.c.get('size').gv(cI))){return true}}return false;break}case'multiPoint':{{if(G.multipointIntersectsCircle(cP.multiPoint,cL.transformCircle(cH),7/2)){return true}}return false;break}case'empty':{{if(G.circleIntersectsCircle(cH,{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:ss.idiv(7,2)})){return true}}return false;break}default:{break}}}return G.circleIntersectsRect(cH,cJ)},multipolygonMarkPolygonAreaHitTest:function(L,cH,cI,cJ){var cK=G.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(cI),L.c.get('y').gv(cI),L.c.get('size').gv(cI));var cL='empty';var cM=L.getMarkGeometry(L.c.get('geometry').gv(cI));if(ss.isValue(cM)){cL=cM.geometryType}switch(cL){case'multiPolygon':{{if(G.multipolygonIntersectsPolygon(cM.multiPolygon,cK.transformPolygon(cH))){return true}}return false;break}case'multiLineString':{{if(G.multiLineStringIntersectsPolygon(cM.multiLine,cK.transformPolygon(cH),L.c.get('size').gv(cI))){return true}}return false;break}case'multiPoint':{{if(G.multipointIntersectsPolygon(cM.multiPoint,cK.transformPolygon(cH),7/2)){return true}}return false;break}case'empty':{{if(G.polygonIntersectsCircle(cH,{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:ss.idiv(7,2)})){return true}}return false;break}default:{break}}return G.polygonIntersectsRect(cH,cJ)},areaMarkBuildMarkBound:function(L,cH){var cI=L.c.get('l_neighbor').gv(cH);var cJ=L.c.get('r_neighbor').gv(cH);var cK=L.lineInterpolation;var cL={x:0,y:0,w:0,h:0};if(cI!==-1){var cM=tab.RectXYUtil.rectXYFromCorners$2(L.c.get('x1').gv(cH),L.c.get('y1').gv(cH),(L.c.get('x_next').gv(cI)+L.c.get('x_prev').gv(cH))/2,(L.c.get('y_next').gv(cI)+L.c.get('y_prev').gv(cH))/2);tab.RectXYUtil.unionInPlace(cL,cM);var cN=tab.RectXYUtil.rectXYFromCorners$2((L.c.get('x1').gv(cI)+L.c.get('x1').gv(cH))/2,(L.c.get('y1').gv(cI)+L.c.get('y1').gv(cH))/2,L.c.get('x_prev').gv(cH),L.c.get('y_prev').gv(cH));tab.RectXYUtil.unionInPlace(cL,cN);tab.RectXYUtil.outsetRectInPlace(cL,10,10)}if(cJ!==-1){var cO=tab.RectXYUtil.rectXYFromCorners$2(L.c.get('x1').gv(cH),L.c.get('y1').gv(cH),(L.c.get('x_prev').gv(cJ)+L.c.get('x_next').gv(cH))/2,(L.c.get('y_prev').gv(cJ)+L.c.get('y_next').gv(cH))/2);tab.RectXYUtil.unionInPlace(cL,cO);var cP=tab.RectXYUtil.rectXYFromCorners$2((L.c.get('x1').gv(cJ)+L.c.get('x1').gv(cH))/2,(L.c.get('y1').gv(cJ)+L.c.get('y1').gv(cH))/2,L.c.get('x_next').gv(cH),L.c.get('y_next').gv(cH));tab.RectXYUtil.unionInPlace(cL,cP);tab.RectXYUtil.outsetRectInPlace(cL,10,10)}if(cI===-1&&cJ===-1){var cQ=tab.RectXYUtil.rectXYFromCorners$2(L.c.get('x1').gv(cH),L.c.get('y1').gv(cH),L.c.get('x').gv(cH),L.c.get('y').gv(cH));{var cR=20-cQ.w;var cS=20-cQ.h;if(cR>0||cS>0){cQ=tab.RectXYUtil.outsetRect(cQ,Math.max(0,Math.ceil(cR/2)),Math.max(0,Math.ceil(cS/2)))}}tab.RectXYUtil.unionInPlace(cL,cQ)}return cL},areaMarkExactHitTest:function(L,cH,cI,cJ){var cK=L.c.get('l_neighbor').gv(cJ);var cL=L.c.get('r_neighbor').gv(cJ);var cM=L.lineInterpolation;if(cK!==-1){var cN=new Array(8);cN[0]=L.c.get('x1').gv(cJ);cN[1]=L.c.get('y1').gv(cJ);cN[2]=(L.c.get('x1').gv(cK)+L.c.get('x1').gv(cJ))/2;cN[3]=(L.c.get('y1').gv(cK)+L.c.get('y1').gv(cJ))/2;cN[4]=(L.c.get('x_next').gv(cK)+L.c.get('x_prev').gv(cJ))/2;cN[5]=(L.c.get('y_next').gv(cK)+L.c.get('y_prev').gv(cJ))/2;cN[6]=L.c.get('x_prev').gv(cJ);cN[7]=L.c.get('y_prev').gv(cJ);if(G.isPointInPoly(cN,{x:cH,y:cI},0)){return true}}if(cL!==-1){var cO=new Array(8);cO[0]=L.c.get('x1').gv(cJ);cO[1]=L.c.get('y1').gv(cJ);cO[2]=(L.c.get('x1').gv(cL)+L.c.get('x1').gv(cJ))/2;cO[3]=(L.c.get('y1').gv(cL)+L.c.get('y1').gv(cJ))/2;cO[4]=(L.c.get('x_prev').gv(cL)+L.c.get('x_next').gv(cJ))/2;cO[5]=(L.c.get('y_prev').gv(cL)+L.c.get('y_next').gv(cJ))/2;cO[6]=L.c.get('x_next').gv(cJ);cO[7]=L.c.get('y_next').gv(cJ);if(G.isPointInPoly(cO,{x:cH,y:cI},0)){return true}}if(cK===-1&&cL===-1){return true}return false},areaMarkNearHitTest:function(L,cH,cI,cJ){var cK=L.c.get('l_neighbor').gv(cJ);var cL=L.c.get('r_neighbor').gv(cJ);var cM=L.lineInterpolation;if(cK!==-1){var cN=new Array(8);cN[0]=L.c.get('x1').gv(cJ);cN[1]=L.c.get('y1').gv(cJ);cN[2]=(L.c.get('x1').gv(cK)+L.c.get('x1').gv(cJ))/2;cN[3]=(L.c.get('y1').gv(cK)+L.c.get('y1').gv(cJ))/2;cN[4]=(L.c.get('x_next').gv(cK)+L.c.get('x_prev').gv(cJ))/2;cN[5]=(L.c.get('y_next').gv(cK)+L.c.get('y_prev').gv(cJ))/2;cN[6]=L.c.get('x_prev').gv(cJ);cN[7]=L.c.get('y_prev').gv(cJ);if(G.isPointInPoly(cN,{x:cH,y:cI},10)){return true}}if(cL!==-1){var cO=new Array(8);cO[0]=L.c.get('x1').gv(cJ);cO[1]=L.c.get('y1').gv(cJ);cO[2]=(L.c.get('x1').gv(cL)+L.c.get('x1').gv(cJ))/2;cO[3]=(L.c.get('y1').gv(cL)+L.c.get('y1').gv(cJ))/2;cO[4]=(L.c.get('x_prev').gv(cL)+L.c.get('x_next').gv(cJ))/2;cO[5]=(L.c.get('y_prev').gv(cL)+L.c.get('y_next').gv(cJ))/2;cO[6]=L.c.get('x_next').gv(cJ);cO[7]=L.c.get('y_next').gv(cJ);if(G.isPointInPoly(cO,{x:cH,y:cI},10)){return true}}if(cK===-1&&cL===-1){return true}return false},areaMarkGetHitTestExpansion:function(L,cH){return{w:0,h:0}},areaMarkGetDistanceToMark:function(L,cH,cI,cJ){var cK=L.c.get('l_neighbor').gv(cJ);var cL=L.c.get('r_neighbor').gv(cJ);var cM=L.c.get('x1').gv(cJ);var cN=L.c.get('y1').gv(cJ);var cO=L.c.get('x_prev').gv(cJ);var cP=L.c.get('y_prev').gv(cJ);var cQ=L.c.get('x_next').gv(cJ);var cR=L.c.get('y_next').gv(cJ);var cS;{var cT=cH-cM;var cU=cI-cN;var cV=cT*cT+cU*cU;cS=cV}if(cK!==-1){var cW=(L.c.get('x1').gv(cK)+cM)/2;var cX=(L.c.get('y1').gv(cK)+cN)/2;var cY=(L.c.get('x_next').gv(cK)+cM)/2;var cZ=(L.c.get('y_next').gv(cK)+cN)/2;var da={x:(cM+cO)/2,y:(cN+cP)/2};var db={x:(cW+cY)/2,y:(cX+cZ)/2};var dc=G.getSquaredDistanceToLineSegment({x:cH,y:cI},da,db);cS=Math.min(cS,dc)}else{var dd={x:cM,y:cN};var de={x:cQ,y:cR};var df=G.getSquaredDistanceToLineSegment({x:cH,y:cI},dd,de);cS=Math.min(cS,df)}if(cL!==-1){var dg=(L.c.get('x1').gv(cL)+cM)/2;var dh=(L.c.get('y1').gv(cL)+cN)/2;var di=(L.c.get('x_prev').gv(cL)+cM)/2;var dj=(L.c.get('y_prev').gv(cL)+cN)/2;var dk={x:(cM+cQ)/2,y:(cN+cR)/2};var dl={x:(dg+di)/2,y:(dh+dj)/2};var dm=G.getSquaredDistanceToLineSegment({x:cH,y:cI},dk,dl);cS=Math.min(cS,dm)}else if(cK!==-1){var dn={x:cM,y:cN};var dp={x:cO,y:cP};var dq=G.getSquaredDistanceToLineSegment({x:cH,y:cI},dn,dp);cS=Math.min(cS,dq)}return cS},areaMarkRectangleAreaHitTest:function(L,cH,cI){{if(G.circleIntersectsRect({center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:5/2},cH)){return true}}{if(G.circleIntersectsRect({center:{x:L.c.get('x1').gv(cI),y:L.c.get('y1').gv(cI)},radius:5/2},cH)){return true}}return false},areaMarkCircleAreaHitTest:function(L,cH,cI,cJ,cK){if(cK){}{if(G.circleIntersectsCircle(cH,{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:5/2})){return true}}{if(G.circleIntersectsCircle(cH,{center:{x:L.c.get('x1').gv(cI),y:L.c.get('y1').gv(cI)},radius:5/2})){return true}}return false},areaMarkPolygonAreaHitTest:function(L,cH,cI,cJ){{if(G.polygonIntersectsCircle(cH,{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:5/2})){return true}}{if(G.polygonIntersectsCircle(cH,{center:{x:L.c.get('x1').gv(cI),y:L.c.get('y1').gv(cI)},radius:5/2})){return true}}return false},getMarkLabelBoundingBox:function(L,cH){var cI={x:0,y:0,w:0,h:0};{var cJ=L.getMarkLabelProperty('x',cH);var cK=L.getMarkLabelProperty('y',cH);var cL=L.getMarkLabelProperty('width',cH);var cM=-L.getMarkLabelProperty('height',cH);cJ+=0;cK+=0;if(cM<0){cK+=cM;cM=Math.abs(cM)}tab.RectXYUtil.set$1(cI,Math.floor(cJ),Math.floor(cK),Math.floor(cL),Math.floor(cM))}return cI},pieMarkExactHitTest:function(L,cH,cI,cJ){var cK=L.c.get('size').gv(cJ)/2;var cL=L.c.get('theta').gv(cJ);var cM=L.c.get('theta1').gv(cJ);if(cL>cM){var cN=cL;cL=cM;cM=cN}var cO={x:L.c.get('x').gv(cJ),y:L.c.get('y').gv(cJ)};var cP={center:cO,radius:cK};if(cM-cL>=1){return G.isPointInCircle({x:cH,y:cI},cP)}cL=tab.CanvasRenderer.toCanvasAngle(cL);cM=tab.CanvasRenderer.toCanvasAngle(cM);cL=G.normalizeAngle(cL);cM=G.normalizeAngle(cM);return G.isPointInWedge({x:cH,y:cI},cP,cL,cM)},pieMarkRectangleAreaHitTest:function(L,cH,cI){var cJ=L.c.get('size').gv(cI)/2;var cK=L.c.get('theta').gv(cI);var cL=L.c.get('theta1').gv(cI);if(cK>cL){var cM=cK;cK=cL;cL=cM}var cN={x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)};var cO={center:cN,radius:cJ};if(cL-cK>=1){return G.circleIntersectsRect(cO,cH)}cK=tab.CanvasRenderer.toCanvasAngle(cK);cL=tab.CanvasRenderer.toCanvasAngle(cL);cK=G.normalizeAngle(cK);cL=G.normalizeAngle(cL);return G.rectIntersectsWedge(cH,{center:cN,radius:cJ},cK,cL)},pieMarkPolygonAreaHitTest:function(L,cH,cI){var cJ=L.c.get('size').gv(cI)/2;var cK=L.c.get('theta').gv(cI);var cL=L.c.get('theta1').gv(cI);if(cK>cL){var cM=cK;cK=cL;cL=cM}var cN={x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)};var cO={center:cN,radius:cJ};if(cL-cK>=1){return G.polygonIntersectsCircle(cH,cO)}cK=tab.CanvasRenderer.toCanvasAngle(cK);cL=tab.CanvasRenderer.toCanvasAngle(cL);cK=G.normalizeAngle(cK);cL=G.normalizeAngle(cL);return G.polygonIntersectsWedge(cH,{center:cN,radius:cJ},cK,cL)},pieMarkCircleAreaHitTest:function(L,cH,cI,cJ){if(cJ){{{return G.isPointInCircle({x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},cH)}}}var cK=L.c.get('size').gv(cI)/2;var cL=L.c.get('theta').gv(cI);var cM=L.c.get('theta1').gv(cI);if(cL>cM){var cN=cL;cL=cM;cM=cN}var cO={x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)};var cP={center:cO,radius:cK};if(cM-cL>=1){return G.circleIntersectsCircle(cP,cH)}cL=tab.CanvasRenderer.toCanvasAngle(cL);cM=tab.CanvasRenderer.toCanvasAngle(cM);cL=G.normalizeAngle(cL);cM=G.normalizeAngle(cM);return G.circleIntersectsWedge(cH,{center:cO,radius:cK},cL,cM)},getPieBoundingBox:function(L,cH){var cI={x:0,y:0,w:0,h:0};var cJ=L.c.get('size').gv(cH)/2;{tab.RectXYUtil.unionInPlace(cI,bz.$2(L.c.get('x').gv(cH),L.c.get('y').gv(cH),cJ,L.c.get('theta').gv(cH),L.c.get('theta1').gv(cH)))}if(L.c.get('draw_border').gv(cH)){tab.RectXYUtil.unionInPlace(cI,bz.$2(L.c.get('x').gv(cH),L.c.get('y').gv(cH),cJ,L.c.get('theta').gv(cH),L.c.get('theta1').gv(cH)))}return cI},textMarkBuildMarkBound:function(L,cH){var cI={x:0,y:0,w:0,h:0};if(!(L.clipCase!==0&&L.useCellClipForSelection)){var cJ=L.c.get('x').gv(cH);var cK=L.c.get('y').gv(cH);var cL=L.c.get('width').gv(cH);var cM=-L.c.get('height').gv(cH);cJ+=-L.c.get('width').gv(cH)/2;cK+=L.c.get('height').gv(cH)/2;if(cM<0){cK+=cM;cM=Math.abs(cM)}tab.RectXYUtil.set$1(cI,Math.floor(cJ),Math.floor(cK),Math.floor(cL),Math.floor(cM))}if(L.clipCase!==0&&L.useCellClipForSelection){var cN=L.c.get('x').gv(cH);var cO=L.c.get('y').gv(cH);var cP=L.c.get('clip_width').gv(cH);var cQ=-L.c.get('clip_height').gv(cH);cN+=-L.c.get('clip_width').gv(cH)/2;cO+=L.c.get('clip_height').gv(cH)/2;if(cQ<0){cO+=cQ;cQ=Math.abs(cQ)}tab.RectXYUtil.set$1(cI,Math.floor(cN),Math.floor(cO),Math.floor(cP),Math.floor(cQ))}return cI},textMarkExactHitTest:function(L,cH,cI,cJ){if(!(L.clipCase!==0&&L.useCellClipForSelection)){return bz.$8(L.c.get('y').gv(cJ)+L.c.get('height').gv(cJ)/2,L.c.get('x').gv(cJ)+-L.c.get('width').gv(cJ)/2,-L.c.get('height').gv(cJ),L.c.get('width').gv(cJ),0,0,L.minBarHeight,L.minBarWidth,cH,cI)}if(L.clipCase!==0&&L.useCellClipForSelection){return bz.$8(L.c.get('y').gv(cJ)+L.c.get('clip_height').gv(cJ)/2,L.c.get('x').gv(cJ)+-L.c.get('clip_width').gv(cJ)/2,-L.c.get('clip_height').gv(cJ),L.c.get('clip_width').gv(cJ),0,0,L.minBarHeight,L.minBarWidth,cH,cI)}return false},textMarkNearHitTest:function(L,cH,cI,cJ){if(!(L.clipCase!==0&&L.useCellClipForSelection)){return bz.$8(L.c.get('y').gv(cJ)+(L.c.get('height').gv(cJ)/2+10),L.c.get('x').gv(cJ)+(-L.c.get('width').gv(cJ)/2-10),-L.c.get('height').gv(cJ)-10*2,L.c.get('width').gv(cJ)+10*2,0,0,L.minBarHeight,L.minBarWidth,cH,cI)}if(L.clipCase!==0&&L.useCellClipForSelection){return bz.$8(L.c.get('y').gv(cJ)+L.c.get('clip_height').gv(cJ)/2,L.c.get('x').gv(cJ)+-L.c.get('clip_width').gv(cJ)/2,-L.c.get('clip_height').gv(cJ),L.c.get('clip_width').gv(cJ),0,0,L.minBarHeight,L.minBarWidth,cH,cI)}return false},textMarkGetHitTestExpansion:function(L,cH){var cI=null;if(!(L.clipCase!==0&&L.useCellClipForSelection)){cI={w:10,h:10}}if(L.clipCase!==0&&L.useCellClipForSelection){cI={w:L.c.get('clip_width').gv(cH)/2,h:L.c.get('clip_height').gv(cH)/2}}return cI},textMarkGetDistanceToMark:function(L,cH,cI,cJ){var cK=L.getMarkBounds(cJ);return G.getSquaredDistanceToNearestSide(cK,{x:cH,y:cI})},textMarkRectangleAreaHitTest:function(L,cH,cI){return true},textMarkCircleAreaHitTest:function(L,cH,cI,cJ,cK){if(cK){{{return G.isPointInCircle({x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},cH)}}}return G.circleIntersectsRect(cH,cJ)},textMarkPolygonAreaHitTest:function(L,cH,cI,cJ){return G.polygonIntersectsRect(cH,cJ)},barMarkBuildMarkBound:function(L,cH){var cI={x:0,y:0,w:0,h:0};var cJ=ss.trunc(L.c.get('size').gv(cH)+0.5)/2;if(L.scaleMarksInX&&L.scaleMarksInY){var cK=L.c.get('y').gv(cH);var cL=L.c.get('y1').gv(cH);var cM=L.c.get('x').gv(cH);var cN=L.c.get('x1').gv(cH);bz.$3(L,cI,cK,cM,cL,cN)}if(!L.scaleMarksInX&&L.scaleMarksInY){var cO=L.c.get('y').gv(cH);var cP=L.c.get('y1').gv(cH);var cQ=L.c.get('x').gv(cH)-cJ;var cR=L.c.get('x').gv(cH)+cJ;bz.$3(L,cI,cO,cQ,cP,cR)}if(L.scaleMarksInX&&!L.scaleMarksInY){var cS=L.c.get('y').gv(cH)-cJ;var cT=L.c.get('y').gv(cH)+cJ;var cU=L.c.get('x').gv(cH);var cV=L.c.get('x1').gv(cH);bz.$3(L,cI,cS,cU,cT,cV)}if(!L.scaleMarksInX&&!L.scaleMarksInY){var cW=L.c.get('y').gv(cH)-cJ;var cX=L.c.get('y').gv(cH)+cJ;var cY=L.c.get('x').gv(cH)-cJ;var cZ=L.c.get('x').gv(cH)+cJ;bz.$3(L,cI,cW,cY,cX,cZ)}return cI},barMarkExactHitTest:function(L,cH,cI,cJ){var cK=L.c.get('size').gv(cJ)/2;var cL=L.c.get('size').gv(cJ)/2;if(L.scaleMarksInX&&L.scaleMarksInY){var cM=Math.floor(Math.min(L.c.get('y').gv(cJ),L.c.get('y1').gv(cJ)));var cN=Math.ceil(Math.max(L.c.get('y').gv(cJ),L.c.get('y1').gv(cJ)));var cO=Math.floor(Math.min(L.c.get('x').gv(cJ),L.c.get('x1').gv(cJ)));var cP=Math.ceil(Math.max(L.c.get('x').gv(cJ),L.c.get('x1').gv(cJ)));var cQ={x:cO,y:cM,w:cP-cO,h:cN-cM};tab.RectXYUtil.outsetRectInPlace(cQ,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cQ,cH,cI)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY){var cR=Math.floor(Math.min(L.c.get('y').gv(cJ),L.c.get('y1').gv(cJ)));var cS=Math.ceil(Math.max(L.c.get('y').gv(cJ),L.c.get('y1').gv(cJ)));var cT=Math.floor(Math.min(L.c.get('x').gv(cJ)-cK,L.c.get('x').gv(cJ)+cK));var cU=Math.ceil(Math.max(L.c.get('x').gv(cJ)-cK,L.c.get('x').gv(cJ)+cK));var cV={x:cT,y:cR,w:cU-cT,h:cS-cR};tab.RectXYUtil.outsetRectInPlace(cV,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cV,cH,cI)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY){var cW=Math.floor(Math.min(L.c.get('y').gv(cJ)-cL,L.c.get('y').gv(cJ)+cL));var cX=Math.ceil(Math.max(L.c.get('y').gv(cJ)-cL,L.c.get('y').gv(cJ)+cL));var cY=Math.floor(Math.min(L.c.get('x').gv(cJ),L.c.get('x1').gv(cJ)));var cZ=Math.ceil(Math.max(L.c.get('x').gv(cJ),L.c.get('x1').gv(cJ)));var da={x:cY,y:cW,w:cZ-cY,h:cX-cW};tab.RectXYUtil.outsetRectInPlace(da,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(da,cH,cI)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY){var db=Math.floor(Math.min(L.c.get('y').gv(cJ)-cL,L.c.get('y').gv(cJ)+cL));var dc=Math.ceil(Math.max(L.c.get('y').gv(cJ)-cL,L.c.get('y').gv(cJ)+cL));var dd=Math.floor(Math.min(L.c.get('x').gv(cJ)-cK,L.c.get('x').gv(cJ)+cK));var de=Math.ceil(Math.max(L.c.get('x').gv(cJ)-cK,L.c.get('x').gv(cJ)+cK));var df={x:dd,y:db,w:de-dd,h:dc-db};tab.RectXYUtil.outsetRectInPlace(df,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(df,cH,cI)){return true}}return false},barMarkNearHitTest:function(L,cH,cI,cJ){var cK=L.c.get('clip_width').gv(cJ)/2;var cL=L.c.get('clip_height').gv(cJ)/2;var cM=L.c.get('size').gv(cJ)/2;var cN=L.c.get('size').gv(cJ)/2;if(L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var cO=Math.floor(Math.min(L.c.get('y').gv(cJ),L.c.get('y1').gv(cJ)));var cP=Math.ceil(Math.max(L.c.get('y').gv(cJ),L.c.get('y1').gv(cJ)));var cQ=Math.floor(Math.min(L.c.get('x').gv(cJ),L.c.get('x1').gv(cJ)));var cR=Math.ceil(Math.max(L.c.get('x').gv(cJ),L.c.get('x1').gv(cJ)));var cS={x:cQ,y:cO,w:cR-cQ,h:cP-cO};tab.RectXYUtil.outsetRectInPlace(cS,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cS,cH,cI)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var cT=Math.floor(Math.min(L.c.get('y').gv(cJ),L.c.get('y1').gv(cJ)));var cU=Math.ceil(Math.max(L.c.get('y').gv(cJ),L.c.get('y1').gv(cJ)));var cV=Math.floor(Math.min(L.c.get('x').gv(cJ)-cM,L.c.get('x').gv(cJ)+cM));var cW=Math.ceil(Math.max(L.c.get('x').gv(cJ)-cM,L.c.get('x').gv(cJ)+cM));var cX={x:cV,y:cT,w:cW-cV,h:cU-cT};tab.RectXYUtil.outsetRectInPlace(cX,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cX,cH,cI)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var cY=Math.floor(Math.min(L.c.get('y').gv(cJ)-cN,L.c.get('y').gv(cJ)+cN));var cZ=Math.ceil(Math.max(L.c.get('y').gv(cJ)-cN,L.c.get('y').gv(cJ)+cN));var da=Math.floor(Math.min(L.c.get('x').gv(cJ),L.c.get('x1').gv(cJ)));var db=Math.ceil(Math.max(L.c.get('x').gv(cJ),L.c.get('x1').gv(cJ)));var dc={x:da,y:cY,w:db-da,h:cZ-cY};tab.RectXYUtil.outsetRectInPlace(dc,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(dc,cH,cI)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){var dd=Math.floor(Math.min(L.c.get('y').gv(cJ),L.c.get('y1').gv(cJ)));var de=Math.ceil(Math.max(L.c.get('y').gv(cJ),L.c.get('y1').gv(cJ)));var df=Math.floor(Math.min(L.c.get('x').gv(cJ)-cK,L.c.get('x').gv(cJ)+cK));var dg=Math.ceil(Math.max(L.c.get('x').gv(cJ)-cK,L.c.get('x').gv(cJ)+cK));var dh={x:df,y:dd,w:dg-df,h:de-dd};tab.RectXYUtil.outsetRectInPlace(dh,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(dh,cH,cI)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){var di=Math.floor(Math.min(L.c.get('y').gv(cJ)-cL,L.c.get('y').gv(cJ)+cL));var dj=Math.ceil(Math.max(L.c.get('y').gv(cJ)-cL,L.c.get('y').gv(cJ)+cL));var dk=Math.floor(Math.min(L.c.get('x').gv(cJ),L.c.get('x1').gv(cJ)));var dl=Math.ceil(Math.max(L.c.get('x').gv(cJ),L.c.get('x1').gv(cJ)));var dm={x:dk,y:di,w:dl-dk,h:dj-di};tab.RectXYUtil.outsetRectInPlace(dm,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(dm,cH,cI)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var dn=Math.floor(Math.min(L.c.get('y').gv(cJ)-cN,L.c.get('y').gv(cJ)+cN));var dp=Math.ceil(Math.max(L.c.get('y').gv(cJ)-cN,L.c.get('y').gv(cJ)+cN));var dq=Math.floor(Math.min(L.c.get('x').gv(cJ)-cM,L.c.get('x').gv(cJ)+cM));var dr=Math.ceil(Math.max(L.c.get('x').gv(cJ)-cM,L.c.get('x').gv(cJ)+cM));var ds={x:dq,y:dn,w:dr-dq,h:dp-dn};tab.RectXYUtil.outsetRectInPlace(ds,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(ds,cH,cI)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){var dt=Math.floor(Math.min(L.c.get('y').gv(cJ)-cN,L.c.get('y').gv(cJ)+cN));var du=Math.ceil(Math.max(L.c.get('y').gv(cJ)-cN,L.c.get('y').gv(cJ)+cN));var dv=Math.floor(Math.min(L.c.get('x').gv(cJ)-cK,L.c.get('x').gv(cJ)+cK));var dw=Math.ceil(Math.max(L.c.get('x').gv(cJ)-cK,L.c.get('x').gv(cJ)+cK));var dx={x:dv,y:dt,w:dw-dv,h:du-dt};tab.RectXYUtil.outsetRectInPlace(dx,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(dx,cH,cI)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){var dy=Math.floor(Math.min(L.c.get('y').gv(cJ)-cL,L.c.get('y').gv(cJ)+cL));var dz=Math.ceil(Math.max(L.c.get('y').gv(cJ)-cL,L.c.get('y').gv(cJ)+cL));var dA=Math.floor(Math.min(L.c.get('x').gv(cJ)-cM,L.c.get('x').gv(cJ)+cM));var dB=Math.ceil(Math.max(L.c.get('x').gv(cJ)-cM,L.c.get('x').gv(cJ)+cM));var dC={x:dA,y:dy,w:dB-dA,h:dz-dy};tab.RectXYUtil.outsetRectInPlace(dC,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(dC,cH,cI)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var dD=Math.floor(Math.min(L.c.get('y').gv(cJ)-cL,L.c.get('y').gv(cJ)+cL));var dE=Math.ceil(Math.max(L.c.get('y').gv(cJ)-cL,L.c.get('y').gv(cJ)+cL));var dF=Math.floor(Math.min(L.c.get('x').gv(cJ)-cK,L.c.get('x').gv(cJ)+cK));var dG=Math.ceil(Math.max(L.c.get('x').gv(cJ)-cK,L.c.get('x').gv(cJ)+cK));var dH={x:dF,y:dD,w:dG-dF,h:dE-dD};tab.RectXYUtil.outsetRectInPlace(dH,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(dH,cH,cI)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var dI=Math.floor(Math.min(L.c.get('y').gv(cJ)-cL,L.c.get('y').gv(cJ)+cL));var dJ=Math.ceil(Math.max(L.c.get('y').gv(cJ)-cL,L.c.get('y').gv(cJ)+cL));var dK=Math.floor(Math.min(L.c.get('x').gv(cJ),L.c.get('x1').gv(cJ)));var dL=Math.ceil(Math.max(L.c.get('x').gv(cJ),L.c.get('x1').gv(cJ)));var dM={x:dK,y:dI,w:dL-dK,h:dJ-dI};tab.RectXYUtil.outsetRectInPlace(dM,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(dM,cH,cI)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var dN=Math.floor(Math.min(L.c.get('y').gv(cJ),L.c.get('y1').gv(cJ)));var dO=Math.ceil(Math.max(L.c.get('y').gv(cJ),L.c.get('y1').gv(cJ)));var dP=Math.floor(Math.min(L.c.get('x').gv(cJ)-cK,L.c.get('x').gv(cJ)+cK));var dQ=Math.ceil(Math.max(L.c.get('x').gv(cJ)-cK,L.c.get('x').gv(cJ)+cK));var dR={x:dP,y:dN,w:dQ-dP,h:dO-dN};tab.RectXYUtil.outsetRectInPlace(dR,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(dR,cH,cI)){return true}}if(L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var dS=Math.floor(Math.min(L.c.get('y').gv(cJ),L.c.get('y1').gv(cJ)));var dT=Math.ceil(Math.max(L.c.get('y').gv(cJ),L.c.get('y1').gv(cJ)));var dU=Math.floor(Math.min(L.c.get('x').gv(cJ),L.c.get('x1').gv(cJ)));var dV=Math.ceil(Math.max(L.c.get('x').gv(cJ),L.c.get('x1').gv(cJ)));var dW={x:dU,y:dS,w:dV-dU,h:dT-dS};tab.RectXYUtil.outsetRectInPlace(dW,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(dW,cH,cI)){return true}}return false},barMarkGetHitTestExpansion:function(L,cH){var cI=null;if(L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){cI={w:10,h:10}}if(!L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){cI={w:ss.idiv(10,2),h:10}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){cI={w:10,h:ss.idiv(10,2)}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){cI={w:L.c.get('clip_width').gv(cH)/2,h:10}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){cI={w:10,h:L.c.get('clip_height').gv(cH)/2}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){cI={w:ss.idiv(10,2),h:ss.idiv(10,2)}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){cI={w:ss.idiv(10,2),h:L.c.get('clip_height').gv(cH)}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){cI={w:L.c.get('clip_width').gv(cH)/2,h:10}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){cI={w:L.c.get('clip_width').gv(cH)/2,h:L.c.get('clip_height').gv(cH)/2}}if(L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){cI={w:L.c.get('clip_width').gv(cH)/2,h:L.c.get('clip_height').gv(cH)/2}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){cI={w:L.c.get('clip_width').gv(cH)/2,h:L.c.get('clip_height').gv(cH)/2}}if(L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){cI={w:L.c.get('clip_width').gv(cH)/2,h:L.c.get('clip_height').gv(cH)/2}}return cI},barMarkGetDistanceToMark:function(L,cH,cI,cJ){var cK=L.getMarkBounds(cJ);return G.getSquaredDistanceToNearestSide(cK,{x:cH,y:cI})},barMarkRectangleAreaHitTest:function(L,cH,cI){return true},barMarkCircleAreaHitTest:function(L,cH,cI,cJ,cK){if(cK){if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){{return G.isPointInCircle({x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},cH)}}}return G.circleIntersectsRect(cH,cJ)},barMarkPolygonAreaHitTest:function(L,cH,cI,cJ){return G.polygonIntersectsRect(cH,cJ)},lineMarkBuildMarkBound:function(L,cH){var cI=L.c.get('l_neighbor').gv(cH);var cJ=L.c.get('r_neighbor').gv(cH);var cK=L.lineInterpolation;var cL={x:0,y:0,w:0,h:0};{tab.RectXYUtil.encompassCircleInPlace(cL,L.c.get('x').gv(cH),L.c.get('y').gv(cH),(L.c.get('size').gv(cH)+20)/2)}if(cI!==-1&&cK==='lim-linear'){bz.$1(cL,(L.c.get('x').gv(cI)+L.c.get('x').gv(cH))/2,(L.c.get('y').gv(cI)+L.c.get('y').gv(cH))/2,(L.c.get('size').gv(cI)+L.c.get('size').gv(cH))/2+20,L.c.get('x').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH)+20)}if(cJ!==-1&&cK==='lim-linear'){bz.$1(cL,L.c.get('x').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH)+20,(L.c.get('x').gv(cH)+L.c.get('x').gv(cJ))/2,(L.c.get('y').gv(cH)+L.c.get('y').gv(cJ))/2,(L.c.get('size').gv(cH)+L.c.get('size').gv(cJ))/2+20)}if(cJ!==-1&&(cK==='lim-step'||cK==='lim-jump')){tab.RectXYUtil.encompassCircleInPlace(cL,L.c.get('x').gv(cJ),L.c.get('y').gv(cH),(L.c.get('size').gv(cH)+20)/2)}if(cI!==-1&&cK==='lim-step'){bz.$1(cL,L.c.get('x').gv(cH),L.c.get('y').gv(cI),L.c.get('size').gv(cI)+20,L.c.get('x').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH)+20)}if(cJ!==-1&&(cK==='lim-step'||cK==='lim-jump')){bz.$1(cL,L.c.get('x').gv(cH),L.c.get('y').gv(cH),L.c.get('size').gv(cH)+20,L.c.get('x').gv(cJ),L.c.get('y').gv(cH),L.c.get('size').gv(cH)+20)}return cL},lineMarkExactHitTest:function(L,cH,cI,cJ){var cK=L.c.get('l_neighbor').gv(cJ);var cL=L.c.get('r_neighbor').gv(cJ);var cM=L.lineInterpolation;{if(G.isPointInCircle({x:cH,y:cI},{center:{x:L.c.get('x').gv(cJ),y:L.c.get('y').gv(cJ)},radius:L.c.get('size').gv(cJ)/2})){return true}}if(cK!==-1&&cM==='lim-linear'){if(bz.$9(cH,cI,(L.c.get('x').gv(cK)+L.c.get('x').gv(cJ))/2,(L.c.get('y').gv(cK)+L.c.get('y').gv(cJ))/2,(L.c.get('size').gv(cK)+L.c.get('size').gv(cJ))/2,L.c.get('x').gv(cJ),L.c.get('y').gv(cJ),L.c.get('size').gv(cJ))){return true}}if(cL!==-1&&cM==='lim-linear'){if(bz.$9(cH,cI,L.c.get('x').gv(cJ),L.c.get('y').gv(cJ),L.c.get('size').gv(cJ),(L.c.get('x').gv(cJ)+L.c.get('x').gv(cL))/2,(L.c.get('y').gv(cJ)+L.c.get('y').gv(cL))/2,(L.c.get('size').gv(cJ)+L.c.get('size').gv(cL))/2)){return true}}if(cL!==-1&&(cM==='lim-step'||cM==='lim-jump')){if(G.isPointInCircle({x:cH,y:cI},{center:{x:L.c.get('x').gv(cL),y:L.c.get('y').gv(cJ)},radius:L.c.get('size').gv(cJ)/2})){return true}}if(cK!==-1&&cM==='lim-step'){if(bz.$9(cH,cI,L.c.get('x').gv(cJ),L.c.get('y').gv(cK),L.c.get('size').gv(cK),L.c.get('x').gv(cJ),L.c.get('y').gv(cJ),L.c.get('size').gv(cJ))){return true}}if(cL!==-1&&(cM==='lim-step'||cM==='lim-jump')){if(bz.$9(cH,cI,L.c.get('x').gv(cJ),L.c.get('y').gv(cJ),L.c.get('size').gv(cJ),L.c.get('x').gv(cL),L.c.get('y').gv(cJ),L.c.get('size').gv(cJ))){return true}}return false},lineMarkNearHitTest:function(L,cH,cI,cJ){var cK=L.c.get('l_neighbor').gv(cJ);var cL=L.c.get('r_neighbor').gv(cJ);var cM=L.lineInterpolation;{if(G.isPointInCircle({x:cH,y:cI},{center:{x:L.c.get('x').gv(cJ),y:L.c.get('y').gv(cJ)},radius:(L.c.get('size').gv(cJ)+20)/2})){return true}}if(cK!==-1&&cM==='lim-linear'){if(bz.$9(cH,cI,(L.c.get('x').gv(cK)+L.c.get('x').gv(cJ))/2,(L.c.get('y').gv(cK)+L.c.get('y').gv(cJ))/2,(L.c.get('size').gv(cK)+L.c.get('size').gv(cJ))/2+20,L.c.get('x').gv(cJ),L.c.get('y').gv(cJ),L.c.get('size').gv(cJ)+20)){return true}}if(cL!==-1&&cM==='lim-linear'){if(bz.$9(cH,cI,L.c.get('x').gv(cJ),L.c.get('y').gv(cJ),L.c.get('size').gv(cJ)+20,(L.c.get('x').gv(cJ)+L.c.get('x').gv(cL))/2,(L.c.get('y').gv(cJ)+L.c.get('y').gv(cL))/2,(L.c.get('size').gv(cJ)+L.c.get('size').gv(cL))/2+20)){return true}}if(cL!==-1&&(cM==='lim-step'||cM==='lim-jump')){if(G.isPointInCircle({x:cH,y:cI},{center:{x:L.c.get('x').gv(cL),y:L.c.get('y').gv(cJ)},radius:(L.c.get('size').gv(cJ)+20)/2})){return true}}if(cK!==-1&&cM==='lim-step'){if(bz.$9(cH,cI,L.c.get('x').gv(cJ),L.c.get('y').gv(cK),L.c.get('size').gv(cK)+20,L.c.get('x').gv(cJ),L.c.get('y').gv(cJ),L.c.get('size').gv(cJ)+20)){return true}}if(cL!==-1&&(cM==='lim-step'||cM==='lim-jump')){if(bz.$9(cH,cI,L.c.get('x').gv(cJ),L.c.get('y').gv(cJ),L.c.get('size').gv(cJ)+20,L.c.get('x').gv(cL),L.c.get('y').gv(cJ),L.c.get('size').gv(cJ)+20)){return true}}return false},lineMarkGetHitTestExpansion:function(L,cH){return{w:0,h:0}},lineMarkGetDistanceToMark:function(L,cH,cI,cJ){var cK=L.c.get('l_neighbor').gv(cJ);var cL=L.c.get('r_neighbor').gv(cJ);var cM=L.c.get('x').gv(cJ);var cN=L.c.get('y').gv(cJ);var cO;{var cP=cH-cM;var cQ=cI-cN;var cR=cP*cP+cQ*cQ;cO=cR}if(cK!==-1){var cS={x:(L.c.get('x').gv(cK)+cM)/2,y:(L.c.get('y').gv(cK)+cN)/2};var cT={x:cM,y:cN};var cU=G.getSquaredDistanceToLineSegment({x:cH,y:cI},cS,cT);cO=Math.min(cO,cU)}if(cL!==-1){var cV={x:cM,y:cN};var cW={x:(L.c.get('x').gv(cL)+cM)/2,y:(L.c.get('y').gv(cL)+cN)/2};var cX=G.getSquaredDistanceToLineSegment({x:cH,y:cI},cV,cW);cO=Math.min(cO,cX)}return cO},lineMarkRectangleAreaHitTest:function(L,cH,cI){{if(G.circleIntersectsRect({center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)/2},cH)){return true}}return false},lineMarkCircleAreaHitTest:function(L,cH,cI,cJ,cK){if(cK){{{return G.isPointInCircle({x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},cH)}}}{if(G.circleIntersectsCircle(cH,{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)/2})){return true}}return false},lineMarkPolygonAreaHitTest:function(L,cH,cI,cJ){{if(G.polygonIntersectsCircle(cH,{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)/2})){return true}}return false},shapeMarkBuildMarkBound:function(L,cH){var cI=L.c.get('shape_id').gv(cH);switch(cI){case'shapeIDCircle':{var cJ={x:0,y:0,w:0,h:0};{var cK=Math.round(L.c.get('x').gv(cH));var cL=Math.round(L.c.get('y').gv(cH));var cM=Math.ceil(L.c.get('size').gv(cH)*(1+-0.5/12)/2);var cN=2*cM;tab.RectXYUtil.unionInPlace$1(cJ,cK-cM,cL-cM,cN,cN)}return cJ}case'shapeIDFilledCircle':{var cO={x:0,y:0,w:0,h:0};{var cP=Math.round(L.c.get('x').gv(cH));var cQ=Math.round(L.c.get('y').gv(cH));var cR=Math.ceil(L.c.get('size').gv(cH)*(1+-0.25/12)/2);var cS=2*cR;tab.RectXYUtil.unionInPlace$1(cO,cP-cR,cQ-cR,cS,cS)}return cO}case'shapeIDUnscaledFilledCircle':{var cT={x:0,y:0,w:0,h:0};{var cU=Math.round(L.c.get('x').gv(cH));var cV=Math.round(L.c.get('y').gv(cH));var cW=Math.ceil(L.c.get('size').gv(cH)/2);var cX=2*cW;tab.RectXYUtil.unionInPlace$1(cT,cU-cW,cV-cW,cX,cX)}return cT}case'shapeIDSquare':{var cY={x:0,y:0,w:0,h:0};{var cZ=Math.round(L.c.get('x').gv(cH));var da=Math.round(L.c.get('y').gv(cH));var db=Math.ceil(L.c.get('size').gv(cH)*(1+-1.25/12)/2);var dc=2*db;tab.RectXYUtil.unionInPlace$1(cY,cZ-db,da-db,dc,dc)}return cY}case'shapeIDFilledSquare':{var dd={x:0,y:0,w:0,h:0};{var de=Math.round(L.c.get('x').gv(cH));var df=Math.round(L.c.get('y').gv(cH));var dg=Math.ceil(L.c.get('size').gv(cH)*(1+-0.75/12)/2);var dh=2*dg;tab.RectXYUtil.unionInPlace$1(dd,de-dg,df-dg,dh,dh)}return dd}case'shapeIDAsterisk':{var di={x:0,y:0,w:0,h:0};{var dj=Math.round(L.c.get('x').gv(cH));var dk=Math.round(L.c.get('y').gv(cH));var dl=Math.ceil(L.c.get('size').gv(cH)*(1+-0.5/12)/2);var dm=2*dl;tab.RectXYUtil.unionInPlace$1(di,dj-dl,dk-dl,dm,dm)}return di}case'shapeIDPlus':{var dn={x:0,y:0,w:0,h:0};{var dp=Math.round(L.c.get('x').gv(cH));var dq=Math.round(L.c.get('y').gv(cH));var dr=Math.ceil(L.c.get('size').gv(cH)*(1+-1/12)/2);var ds=2*dr;tab.RectXYUtil.unionInPlace$1(dn,dp-dr,dq-dr,ds,ds)}return dn}case'shapeIDFilledPlus':{var dt={x:0,y:0,w:0,h:0};{var du=Math.round(L.c.get('x').gv(cH));var dv=Math.round(L.c.get('y').gv(cH));var dw=Math.ceil(L.c.get('size').gv(cH)*(1+-0.75/12)/2);var dx=2*dw;tab.RectXYUtil.unionInPlace$1(dt,du-dw,dv-dw,dx,dx)}return dt}case'shapeIDTimes':{var dy={x:0,y:0,w:0,h:0};{var dz=Math.round(L.c.get('x').gv(cH));var dA=Math.round(L.c.get('y').gv(cH));var dB=Math.ceil(L.c.get('size').gv(cH)*(1+-1.5/12)/2);var dC=2*dB;tab.RectXYUtil.unionInPlace$1(dy,dz-dB,dA-dB,dC,dC)}return dy}case'shapeIDFilledTimes':{var dD={x:0,y:0,w:0,h:0};{var dE=Math.round(L.c.get('x').gv(cH));var dF=Math.round(L.c.get('y').gv(cH));var dG=Math.ceil(L.c.get('size').gv(cH)*(1+-0.75/12)/2);var dH=2*dG;tab.RectXYUtil.unionInPlace$1(dD,dE-dG,dF-dG,dH,dH)}return dD}case'shapeIDDiamond':{var dI={x:0,y:0,w:0,h:0};{var dJ=Math.round(L.c.get('x').gv(cH));var dK=Math.round(L.c.get('y').gv(cH));var dL=Math.ceil(L.c.get('size').gv(cH)*(1+0.5/12)/2);var dM=2*dL;tab.RectXYUtil.unionInPlace$1(dI,dJ-dL,dK-dL,dM,dM)}return dI}case'shapeIDFilledDiamond':{var dN={x:0,y:0,w:0,h:0};{var dO=Math.round(L.c.get('x').gv(cH));var dP=Math.round(L.c.get('y').gv(cH));var dQ=Math.ceil(L.c.get('size').gv(cH)*(1+0.5/12)/2);var dR=2*dQ;tab.RectXYUtil.unionInPlace$1(dN,dO-dQ,dP-dQ,dR,dR)}return dN}case'shapeIDTriangle':{var dS={x:0,y:0,w:0,h:0};{var dT=Math.round(L.c.get('x').gv(cH));var dU=Math.round(L.c.get('y').gv(cH));var dV=Math.ceil(L.c.get('size').gv(cH)*(1+-1.25/12)/2);var dW=2*dV;tab.RectXYUtil.unionInPlace$1(dS,dT-dV,dU-dV,dW,dW)}return dS}case'shapeIDFilledTriangle':{var dX={x:0,y:0,w:0,h:0};{var dY=Math.round(L.c.get('x').gv(cH));var dZ=Math.round(L.c.get('y').gv(cH));var ea=Math.ceil(L.c.get('size').gv(cH)*(1+-1/12)/2);var eb=2*ea;tab.RectXYUtil.unionInPlace$1(dX,dY-ea,dZ-ea,eb,eb)}return dX}case'shapeIDDownTriangle':{var ec={x:0,y:0,w:0,h:0};{var ed=Math.round(L.c.get('x').gv(cH));var ee=Math.round(L.c.get('y').gv(cH));var ef=Math.ceil(L.c.get('size').gv(cH)*(1+-1.25/12)/2);var eg=2*ef;tab.RectXYUtil.unionInPlace$1(ec,ed-ef,ee-ef,eg,eg)}return ec}case'shapeIDFilledDownTriangle':{var eh={x:0,y:0,w:0,h:0};{var ei=Math.round(L.c.get('x').gv(cH));var ej=Math.round(L.c.get('y').gv(cH));var ek=Math.ceil(L.c.get('size').gv(cH)*(1+-1/12)/2);var el=2*ek;tab.RectXYUtil.unionInPlace$1(eh,ei-ek,ej-ek,el,el)}return eh}case'shapeIDLeftTriangle':{var em={x:0,y:0,w:0,h:0};{var en=Math.round(L.c.get('x').gv(cH));var eo=Math.round(L.c.get('y').gv(cH));var ep=Math.ceil(L.c.get('size').gv(cH)*(1+-1.25/12)/2);var eq=2*ep;tab.RectXYUtil.unionInPlace$1(em,en-ep,eo-ep,eq,eq)}return em}case'shapeIDFilledLeftTriangle':{var er={x:0,y:0,w:0,h:0};{var es=Math.round(L.c.get('x').gv(cH));var et=Math.round(L.c.get('y').gv(cH));var eu=Math.ceil(L.c.get('size').gv(cH)*(1+-1/12)/2);var ev=2*eu;tab.RectXYUtil.unionInPlace$1(er,es-eu,et-eu,ev,ev)}return er}case'shapeIDRightTriangle':{var ew={x:0,y:0,w:0,h:0};{var ex=Math.round(L.c.get('x').gv(cH));var ey=Math.round(L.c.get('y').gv(cH));var ez=Math.ceil(L.c.get('size').gv(cH)*(1+-1.25/12)/2);var eA=2*ez;tab.RectXYUtil.unionInPlace$1(ew,ex-ez,ey-ez,eA,eA)}return ew}case'shapeIDFilledRightTriangle':{var eB={x:0,y:0,w:0,h:0};{var eC=Math.round(L.c.get('x').gv(cH));var eD=Math.round(L.c.get('y').gv(cH));var eE=Math.ceil(L.c.get('size').gv(cH)*(1+-1/12)/2);var eF=2*eE;tab.RectXYUtil.unionInPlace$1(eB,eC-eE,eD-eE,eF,eF)}return eB}case'shapeIDFilledStar':{var eG={x:0,y:0,w:0,h:0};{var eH=Math.round(L.c.get('x').gv(cH));var eI=Math.round(L.c.get('y').gv(cH));var eJ=Math.ceil(L.c.get('size').gv(cH)*(1+1.1/12)/2);var eK=2*eJ;tab.RectXYUtil.unionInPlace$1(eG,eH-eJ,eI-eJ,eK,eK)}return eG}default:{if(cI>0){var eL=Math.round(L.c.get('x').gv(cH));var eM=Math.round(L.c.get('y').gv(cH));var eN=Math.ceil(L.c.get('size').gv(cH));var eO=Math.ceil(eN/2);var eP={x:eL-eO,y:eM-eO,w:eN,h:eN};return eP}break}}return{x:0,y:0,w:0,h:0}},shapeMarkExactHitTest:function(L,cH,cI,cJ){var cK=L.c.get('shape_id').gv(cJ);switch(cK){case'shapeIDCircle':{{if(G.isPointInCircle({x:cH,y:cI},{center:{x:L.c.get('x').gv(cJ),y:L.c.get('y').gv(cJ)},radius:L.c.get('size').gv(cJ)*(1+-0.5/12)/2})){return true}}return false}case'shapeIDFilledCircle':{{if(G.isPointInCircle({x:cH,y:cI},{center:{x:L.c.get('x').gv(cJ),y:L.c.get('y').gv(cJ)},radius:L.c.get('size').gv(cJ)*(1+-0.25/12)/2})){return true}}return false}case'shapeIDUnscaledFilledCircle':{{if(G.isPointInCircle({x:cH,y:cI},{center:{x:L.c.get('x').gv(cJ),y:L.c.get('y').gv(cJ)},radius:L.c.get('size').gv(cJ)/2})){return true}}return false}case'shapeIDSquare':{{var cL=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cL,L.c.get('y').gv(cJ)-cL,L.c.get('size').gv(cJ)*(1+-1.25/12),L.c.get('size').gv(cJ)*(1+-1.25/12),cH,cI)){return true}}return false}case'shapeIDFilledSquare':{{var cM=L.c.get('size').gv(cJ)*(1+-0.75/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cM,L.c.get('y').gv(cJ)-cM,L.c.get('size').gv(cJ)*(1+-0.75/12),L.c.get('size').gv(cJ)*(1+-0.75/12),cH,cI)){return true}}return false}case'shapeIDAsterisk':{{var cN=L.c.get('size').gv(cJ)*(1+-0.5/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cN,L.c.get('y').gv(cJ)-cN,L.c.get('size').gv(cJ)*(1+-0.5/12),L.c.get('size').gv(cJ)*(1+-0.5/12),cH,cI)){return true}}return false}case'shapeIDPlus':{{var cO=L.c.get('size').gv(cJ)*(1+-1/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cO,L.c.get('y').gv(cJ)-cO,L.c.get('size').gv(cJ)*(1+-1/12),L.c.get('size').gv(cJ)*(1+-1/12),cH,cI)){return true}}return false}case'shapeIDFilledPlus':{{var cP=L.c.get('size').gv(cJ)*(1+-0.75/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cP,L.c.get('y').gv(cJ)-cP,L.c.get('size').gv(cJ)*(1+-0.75/12),L.c.get('size').gv(cJ)*(1+-0.75/12),cH,cI)){return true}}return false}case'shapeIDTimes':{{var cQ=L.c.get('size').gv(cJ)*(1+-1.5/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cQ,L.c.get('y').gv(cJ)-cQ,L.c.get('size').gv(cJ)*(1+-1.5/12),L.c.get('size').gv(cJ)*(1+-1.5/12),cH,cI)){return true}}return false}case'shapeIDFilledTimes':{{var cR=L.c.get('size').gv(cJ)*(1+-0.75/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cR,L.c.get('y').gv(cJ)-cR,L.c.get('size').gv(cJ)*(1+-0.75/12),L.c.get('size').gv(cJ)*(1+-0.75/12),cH,cI)){return true}}return false}case'shapeIDDiamond':{{var cS=L.c.get('size').gv(cJ)*(1+0.5/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cS,L.c.get('y').gv(cJ)-cS,L.c.get('size').gv(cJ)*(1+0.5/12),L.c.get('size').gv(cJ)*(1+0.5/12),cH,cI)){return true}}return false}case'shapeIDFilledDiamond':{{var cT=L.c.get('size').gv(cJ)*(1+0.5/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cT,L.c.get('y').gv(cJ)-cT,L.c.get('size').gv(cJ)*(1+0.5/12),L.c.get('size').gv(cJ)*(1+0.5/12),cH,cI)){return true}}return false}case'shapeIDTriangle':{{var cU=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cU,L.c.get('y').gv(cJ)-cU,L.c.get('size').gv(cJ)*(1+-1.25/12),L.c.get('size').gv(cJ)*(1+-1.25/12),cH,cI)){return true}}return false}case'shapeIDFilledTriangle':{{var cV=L.c.get('size').gv(cJ)*(1+-1/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cV,L.c.get('y').gv(cJ)-cV,L.c.get('size').gv(cJ)*(1+-1/12),L.c.get('size').gv(cJ)*(1+-1/12),cH,cI)){return true}}return false}case'shapeIDDownTriangle':{{var cW=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cW,L.c.get('y').gv(cJ)-cW,L.c.get('size').gv(cJ)*(1+-1.25/12),L.c.get('size').gv(cJ)*(1+-1.25/12),cH,cI)){return true}}return false}case'shapeIDFilledDownTriangle':{{var cX=L.c.get('size').gv(cJ)*(1+-1/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cX,L.c.get('y').gv(cJ)-cX,L.c.get('size').gv(cJ)*(1+-1/12),L.c.get('size').gv(cJ)*(1+-1/12),cH,cI)){return true}}return false}case'shapeIDLeftTriangle':{{var cY=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cY,L.c.get('y').gv(cJ)-cY,L.c.get('size').gv(cJ)*(1+-1.25/12),L.c.get('size').gv(cJ)*(1+-1.25/12),cH,cI)){return true}}return false}case'shapeIDFilledLeftTriangle':{{var cZ=L.c.get('size').gv(cJ)*(1+-1/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-cZ,L.c.get('y').gv(cJ)-cZ,L.c.get('size').gv(cJ)*(1+-1/12),L.c.get('size').gv(cJ)*(1+-1/12),cH,cI)){return true}}return false}case'shapeIDRightTriangle':{{var da=L.c.get('size').gv(cJ)*(1+-1.25/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-da,L.c.get('y').gv(cJ)-da,L.c.get('size').gv(cJ)*(1+-1.25/12),L.c.get('size').gv(cJ)*(1+-1.25/12),cH,cI)){return true}}return false}case'shapeIDFilledRightTriangle':{{var db=L.c.get('size').gv(cJ)*(1+-1/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-db,L.c.get('y').gv(cJ)-db,L.c.get('size').gv(cJ)*(1+-1/12),L.c.get('size').gv(cJ)*(1+-1/12),cH,cI)){return true}}return false}case'shapeIDFilledStar':{{var dc=L.c.get('size').gv(cJ)*(1+1.1/12)/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-dc,L.c.get('y').gv(cJ)-dc,L.c.get('size').gv(cJ)*(1+1.1/12),L.c.get('size').gv(cJ)*(1+1.1/12),cH,cI)){return true}}return false}default:{if(cK>0){var dd=L.c.get('size').gv(cJ);var de=dd/2;return tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(cJ)-de,L.c.get('y').gv(cJ)-de,dd,dd,cH,cI)}break}}return true},shapeMarkNearHitTest:function(L,cH,cI,cJ){var cK=L.c.get('shape_id').gv(cJ);switch(cK){case'shapeIDCircle':{return true}case'shapeIDFilledCircle':{return true}case'shapeIDUnscaledFilledCircle':{return true}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return false},shapeMarkGetHitTestExpansion:function(L,cH){var cI=null;{cI={w:10,h:10}}return cI},shapeMarkGetDistanceToMark:function(L,cH,cI,cJ){var cK=L.c.get('shape_id').gv(cJ);switch(cK){case'shapeIDCircle':{var cL=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cL,{x:cH,y:cI})}case'shapeIDFilledCircle':{var cM=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cM,{x:cH,y:cI})}case'shapeIDUnscaledFilledCircle':{var cN=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cN,{x:cH,y:cI})}case'shapeIDSquare':{var cO=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cO,{x:cH,y:cI})}case'shapeIDFilledSquare':{var cP=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cP,{x:cH,y:cI})}case'shapeIDAsterisk':{var cQ=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cQ,{x:cH,y:cI})}case'shapeIDPlus':{var cR=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cR,{x:cH,y:cI})}case'shapeIDFilledPlus':{var cS=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cS,{x:cH,y:cI})}case'shapeIDTimes':{var cT=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cT,{x:cH,y:cI})}case'shapeIDFilledTimes':{var cU=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cU,{x:cH,y:cI})}case'shapeIDDiamond':{var cV=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cV,{x:cH,y:cI})}case'shapeIDFilledDiamond':{var cW=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cW,{x:cH,y:cI})}case'shapeIDTriangle':{var cX=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cX,{x:cH,y:cI})}case'shapeIDFilledTriangle':{var cY=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cY,{x:cH,y:cI})}case'shapeIDDownTriangle':{var cZ=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(cZ,{x:cH,y:cI})}case'shapeIDFilledDownTriangle':{var da=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(da,{x:cH,y:cI})}case'shapeIDLeftTriangle':{var db=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(db,{x:cH,y:cI})}case'shapeIDFilledLeftTriangle':{var dc=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(dc,{x:cH,y:cI})}case'shapeIDRightTriangle':{var dd=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(dd,{x:cH,y:cI})}case'shapeIDFilledRightTriangle':{var de=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(de,{x:cH,y:cI})}case'shapeIDFilledStar':{var df=L.getMarkBounds(cJ);return G.getSquaredDistanceToCircumference(df,{x:cH,y:cI})}default:{break}}return G.getSquaredDistanceToCenter(L.getMarkBounds(cJ),{x:cH,y:cI})},shapeMarkRectangleAreaHitTest:function(L,cH,cI){var cJ=L.c.get('shape_id').gv(cI);switch(cJ){case'shapeIDCircle':{return G.circleIntersectsRect({center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)*(1+-0.5/12)/2},cH)}case'shapeIDFilledCircle':{return G.circleIntersectsRect({center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)*(1+-0.25/12)/2},cH)}case'shapeIDUnscaledFilledCircle':{return G.circleIntersectsRect({center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)/2},cH)}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return true},shapeMarkCircleAreaHitTest:function(L,cH,cI,cJ){if(cJ){{{return G.isPointInCircle({x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},cH)}}}var cK=L.c.get('shape_id').gv(cI);switch(cK){case'shapeIDCircle':{return G.circleIntersectsCircle({center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)*(1+-0.5/12)/2},cH)}case'shapeIDFilledCircle':{return G.circleIntersectsCircle({center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)*(1+-0.25/12)/2},cH)}case'shapeIDUnscaledFilledCircle':{return G.circleIntersectsCircle({center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)/2},cH)}case'shapeIDSquare':{var cL={x:0,y:0,w:0,h:0};{var cM=Math.round(L.c.get('x').gv(cI));var cN=Math.round(L.c.get('y').gv(cI));var cO=Math.ceil(L.c.get('size').gv(cI)*(1+-1.25/12)/2);var cP=2*cO;tab.RectXYUtil.unionInPlace$1(cL,cM-cO,cN-cO,cP,cP)}return G.circleIntersectsRect(cH,cL)}case'shapeIDFilledSquare':{var cQ={x:0,y:0,w:0,h:0};{var cR=Math.round(L.c.get('x').gv(cI));var cS=Math.round(L.c.get('y').gv(cI));var cT=Math.ceil(L.c.get('size').gv(cI)*(1+-0.75/12)/2);var cU=2*cT;tab.RectXYUtil.unionInPlace$1(cQ,cR-cT,cS-cT,cU,cU)}return G.circleIntersectsRect(cH,cQ)}case'shapeIDAsterisk':{var cV={x:0,y:0,w:0,h:0};{var cW=Math.round(L.c.get('x').gv(cI));var cX=Math.round(L.c.get('y').gv(cI));var cY=Math.ceil(L.c.get('size').gv(cI)*(1+-0.5/12)/2);var cZ=2*cY;tab.RectXYUtil.unionInPlace$1(cV,cW-cY,cX-cY,cZ,cZ)}return G.circleIntersectsRect(cH,cV)}case'shapeIDPlus':{var da={x:0,y:0,w:0,h:0};{var db=Math.round(L.c.get('x').gv(cI));var dc=Math.round(L.c.get('y').gv(cI));var dd=Math.ceil(L.c.get('size').gv(cI)*(1+-1/12)/2);var de=2*dd;tab.RectXYUtil.unionInPlace$1(da,db-dd,dc-dd,de,de)}return G.circleIntersectsRect(cH,da)}case'shapeIDFilledPlus':{var df={x:0,y:0,w:0,h:0};{var dg=Math.round(L.c.get('x').gv(cI));var dh=Math.round(L.c.get('y').gv(cI));var di=Math.ceil(L.c.get('size').gv(cI)*(1+-0.75/12)/2);var dj=2*di;tab.RectXYUtil.unionInPlace$1(df,dg-di,dh-di,dj,dj)}return G.circleIntersectsRect(cH,df)}case'shapeIDTimes':{var dk={x:0,y:0,w:0,h:0};{var dl=Math.round(L.c.get('x').gv(cI));var dm=Math.round(L.c.get('y').gv(cI));var dn=Math.ceil(L.c.get('size').gv(cI)*(1+-1.5/12)/2);var dp=2*dn;tab.RectXYUtil.unionInPlace$1(dk,dl-dn,dm-dn,dp,dp)}return G.circleIntersectsRect(cH,dk)}case'shapeIDFilledTimes':{var dq={x:0,y:0,w:0,h:0};{var dr=Math.round(L.c.get('x').gv(cI));var ds=Math.round(L.c.get('y').gv(cI));var dt=Math.ceil(L.c.get('size').gv(cI)*(1+-0.75/12)/2);var du=2*dt;tab.RectXYUtil.unionInPlace$1(dq,dr-dt,ds-dt,du,du)}return G.circleIntersectsRect(cH,dq)}case'shapeIDDiamond':{var dv={x:0,y:0,w:0,h:0};{var dw=Math.round(L.c.get('x').gv(cI));var dx=Math.round(L.c.get('y').gv(cI));var dy=Math.ceil(L.c.get('size').gv(cI)*(1+0.5/12)/2);var dz=2*dy;tab.RectXYUtil.unionInPlace$1(dv,dw-dy,dx-dy,dz,dz)}return G.circleIntersectsRect(cH,dv)}case'shapeIDFilledDiamond':{var dA={x:0,y:0,w:0,h:0};{var dB=Math.round(L.c.get('x').gv(cI));var dC=Math.round(L.c.get('y').gv(cI));var dD=Math.ceil(L.c.get('size').gv(cI)*(1+0.5/12)/2);var dE=2*dD;tab.RectXYUtil.unionInPlace$1(dA,dB-dD,dC-dD,dE,dE)}return G.circleIntersectsRect(cH,dA)}case'shapeIDTriangle':{var dF={x:0,y:0,w:0,h:0};{var dG=Math.round(L.c.get('x').gv(cI));var dH=Math.round(L.c.get('y').gv(cI));var dI=Math.ceil(L.c.get('size').gv(cI)*(1+-1.25/12)/2);var dJ=2*dI;tab.RectXYUtil.unionInPlace$1(dF,dG-dI,dH-dI,dJ,dJ)}return G.circleIntersectsRect(cH,dF)}case'shapeIDFilledTriangle':{var dK={x:0,y:0,w:0,h:0};{var dL=Math.round(L.c.get('x').gv(cI));var dM=Math.round(L.c.get('y').gv(cI));var dN=Math.ceil(L.c.get('size').gv(cI)*(1+-1/12)/2);var dO=2*dN;tab.RectXYUtil.unionInPlace$1(dK,dL-dN,dM-dN,dO,dO)}return G.circleIntersectsRect(cH,dK)}case'shapeIDDownTriangle':{var dP={x:0,y:0,w:0,h:0};{var dQ=Math.round(L.c.get('x').gv(cI));var dR=Math.round(L.c.get('y').gv(cI));var dS=Math.ceil(L.c.get('size').gv(cI)*(1+-1.25/12)/2);var dT=2*dS;tab.RectXYUtil.unionInPlace$1(dP,dQ-dS,dR-dS,dT,dT)}return G.circleIntersectsRect(cH,dP)}case'shapeIDFilledDownTriangle':{var dU={x:0,y:0,w:0,h:0};{var dV=Math.round(L.c.get('x').gv(cI));var dW=Math.round(L.c.get('y').gv(cI));var dX=Math.ceil(L.c.get('size').gv(cI)*(1+-1/12)/2);var dY=2*dX;tab.RectXYUtil.unionInPlace$1(dU,dV-dX,dW-dX,dY,dY)}return G.circleIntersectsRect(cH,dU)}case'shapeIDLeftTriangle':{var dZ={x:0,y:0,w:0,h:0};{var ea=Math.round(L.c.get('x').gv(cI));var eb=Math.round(L.c.get('y').gv(cI));var ec=Math.ceil(L.c.get('size').gv(cI)*(1+-1.25/12)/2);var ed=2*ec;tab.RectXYUtil.unionInPlace$1(dZ,ea-ec,eb-ec,ed,ed)}return G.circleIntersectsRect(cH,dZ)}case'shapeIDFilledLeftTriangle':{var ee={x:0,y:0,w:0,h:0};{var ef=Math.round(L.c.get('x').gv(cI));var eg=Math.round(L.c.get('y').gv(cI));var eh=Math.ceil(L.c.get('size').gv(cI)*(1+-1/12)/2);var ei=2*eh;tab.RectXYUtil.unionInPlace$1(ee,ef-eh,eg-eh,ei,ei)}return G.circleIntersectsRect(cH,ee)}case'shapeIDRightTriangle':{var ej={x:0,y:0,w:0,h:0};{var ek=Math.round(L.c.get('x').gv(cI));var el=Math.round(L.c.get('y').gv(cI));var em=Math.ceil(L.c.get('size').gv(cI)*(1+-1.25/12)/2);var en=2*em;tab.RectXYUtil.unionInPlace$1(ej,ek-em,el-em,en,en)}return G.circleIntersectsRect(cH,ej)}case'shapeIDFilledRightTriangle':{var eo={x:0,y:0,w:0,h:0};{var ep=Math.round(L.c.get('x').gv(cI));var eq=Math.round(L.c.get('y').gv(cI));var er=Math.ceil(L.c.get('size').gv(cI)*(1+-1/12)/2);var es=2*er;tab.RectXYUtil.unionInPlace$1(eo,ep-er,eq-er,es,es)}return G.circleIntersectsRect(cH,eo)}case'shapeIDFilledStar':{var et={x:0,y:0,w:0,h:0};{var eu=Math.round(L.c.get('x').gv(cI));var ev=Math.round(L.c.get('y').gv(cI));var ew=Math.ceil(L.c.get('size').gv(cI)*(1+1.1/12)/2);var ex=2*ew;tab.RectXYUtil.unionInPlace$1(et,eu-ew,ev-ew,ex,ex)}return G.circleIntersectsRect(cH,et)}default:{var ey=Math.round(L.c.get('x').gv(cI));var ez=Math.round(L.c.get('y').gv(cI));var eA=Math.ceil(L.c.get('size').gv(cI));var eB=Math.ceil(eA/2);var eC={x:ey-eB,y:ez-eB,w:eA,h:eA};return G.circleIntersectsRect(cH,eC)}}},shapeMarkPolygonAreaHitTest:function(L,cH,cI){var cJ=L.c.get('shape_id').gv(cI);switch(cJ){case'shapeIDCircle':{return G.polygonIntersectsCircle(cH,{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)*(1+-0.5/12)/2})}case'shapeIDFilledCircle':{return G.polygonIntersectsCircle(cH,{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)*(1+-0.25/12)/2})}case'shapeIDUnscaledFilledCircle':{return G.polygonIntersectsCircle(cH,{center:{x:L.c.get('x').gv(cI),y:L.c.get('y').gv(cI)},radius:L.c.get('size').gv(cI)/2})}case'shapeIDSquare':{var cK={x:0,y:0,w:0,h:0};{var cL=Math.round(L.c.get('x').gv(cI));var cM=Math.round(L.c.get('y').gv(cI));var cN=Math.ceil(L.c.get('size').gv(cI)*(1+-1.25/12)/2);var cO=2*cN;tab.RectXYUtil.unionInPlace$1(cK,cL-cN,cM-cN,cO,cO)}return G.polygonIntersectsRect(cH,cK)}case'shapeIDFilledSquare':{var cP={x:0,y:0,w:0,h:0};{var cQ=Math.round(L.c.get('x').gv(cI));var cR=Math.round(L.c.get('y').gv(cI));var cS=Math.ceil(L.c.get('size').gv(cI)*(1+-0.75/12)/2);var cT=2*cS;tab.RectXYUtil.unionInPlace$1(cP,cQ-cS,cR-cS,cT,cT)}return G.polygonIntersectsRect(cH,cP)}case'shapeIDAsterisk':{var cU={x:0,y:0,w:0,h:0};{var cV=Math.round(L.c.get('x').gv(cI));var cW=Math.round(L.c.get('y').gv(cI));var cX=Math.ceil(L.c.get('size').gv(cI)*(1+-0.5/12)/2);var cY=2*cX;tab.RectXYUtil.unionInPlace$1(cU,cV-cX,cW-cX,cY,cY)}return G.polygonIntersectsRect(cH,cU)}case'shapeIDPlus':{var cZ={x:0,y:0,w:0,h:0};{var da=Math.round(L.c.get('x').gv(cI));var db=Math.round(L.c.get('y').gv(cI));var dc=Math.ceil(L.c.get('size').gv(cI)*(1+-1/12)/2);var dd=2*dc;tab.RectXYUtil.unionInPlace$1(cZ,da-dc,db-dc,dd,dd)}return G.polygonIntersectsRect(cH,cZ)}case'shapeIDFilledPlus':{var de={x:0,y:0,w:0,h:0};{var df=Math.round(L.c.get('x').gv(cI));var dg=Math.round(L.c.get('y').gv(cI));var dh=Math.ceil(L.c.get('size').gv(cI)*(1+-0.75/12)/2);var di=2*dh;tab.RectXYUtil.unionInPlace$1(de,df-dh,dg-dh,di,di)}return G.polygonIntersectsRect(cH,de)}case'shapeIDTimes':{var dj={x:0,y:0,w:0,h:0};{var dk=Math.round(L.c.get('x').gv(cI));var dl=Math.round(L.c.get('y').gv(cI));var dm=Math.ceil(L.c.get('size').gv(cI)*(1+-1.5/12)/2);var dn=2*dm;tab.RectXYUtil.unionInPlace$1(dj,dk-dm,dl-dm,dn,dn)}return G.polygonIntersectsRect(cH,dj)}case'shapeIDFilledTimes':{var dp={x:0,y:0,w:0,h:0};{var dq=Math.round(L.c.get('x').gv(cI));var dr=Math.round(L.c.get('y').gv(cI));var ds=Math.ceil(L.c.get('size').gv(cI)*(1+-0.75/12)/2);var dt=2*ds;tab.RectXYUtil.unionInPlace$1(dp,dq-ds,dr-ds,dt,dt)}return G.polygonIntersectsRect(cH,dp)}case'shapeIDDiamond':{var du={x:0,y:0,w:0,h:0};{var dv=Math.round(L.c.get('x').gv(cI));var dw=Math.round(L.c.get('y').gv(cI));var dx=Math.ceil(L.c.get('size').gv(cI)*(1+0.5/12)/2);var dy=2*dx;tab.RectXYUtil.unionInPlace$1(du,dv-dx,dw-dx,dy,dy)}return G.polygonIntersectsRect(cH,du)}case'shapeIDFilledDiamond':{var dz={x:0,y:0,w:0,h:0};{var dA=Math.round(L.c.get('x').gv(cI));var dB=Math.round(L.c.get('y').gv(cI));var dC=Math.ceil(L.c.get('size').gv(cI)*(1+0.5/12)/2);var dD=2*dC;tab.RectXYUtil.unionInPlace$1(dz,dA-dC,dB-dC,dD,dD)}return G.polygonIntersectsRect(cH,dz)}case'shapeIDTriangle':{var dE={x:0,y:0,w:0,h:0};{var dF=Math.round(L.c.get('x').gv(cI));var dG=Math.round(L.c.get('y').gv(cI));var dH=Math.ceil(L.c.get('size').gv(cI)*(1+-1.25/12)/2);var dI=2*dH;tab.RectXYUtil.unionInPlace$1(dE,dF-dH,dG-dH,dI,dI)}return G.polygonIntersectsRect(cH,dE)}case'shapeIDFilledTriangle':{var dJ={x:0,y:0,w:0,h:0};{var dK=Math.round(L.c.get('x').gv(cI));var dL=Math.round(L.c.get('y').gv(cI));var dM=Math.ceil(L.c.get('size').gv(cI)*(1+-1/12)/2);var dN=2*dM;tab.RectXYUtil.unionInPlace$1(dJ,dK-dM,dL-dM,dN,dN)}return G.polygonIntersectsRect(cH,dJ)}case'shapeIDDownTriangle':{var dO={x:0,y:0,w:0,h:0};{var dP=Math.round(L.c.get('x').gv(cI));var dQ=Math.round(L.c.get('y').gv(cI));var dR=Math.ceil(L.c.get('size').gv(cI)*(1+-1.25/12)/2);var dS=2*dR;tab.RectXYUtil.unionInPlace$1(dO,dP-dR,dQ-dR,dS,dS)}return G.polygonIntersectsRect(cH,dO)}case'shapeIDFilledDownTriangle':{var dT={x:0,y:0,w:0,h:0};{var dU=Math.round(L.c.get('x').gv(cI));var dV=Math.round(L.c.get('y').gv(cI));var dW=Math.ceil(L.c.get('size').gv(cI)*(1+-1/12)/2);var dX=2*dW;tab.RectXYUtil.unionInPlace$1(dT,dU-dW,dV-dW,dX,dX)}return G.polygonIntersectsRect(cH,dT)}case'shapeIDLeftTriangle':{var dY={x:0,y:0,w:0,h:0};{var dZ=Math.round(L.c.get('x').gv(cI));var ea=Math.round(L.c.get('y').gv(cI));var eb=Math.ceil(L.c.get('size').gv(cI)*(1+-1.25/12)/2);var ec=2*eb;tab.RectXYUtil.unionInPlace$1(dY,dZ-eb,ea-eb,ec,ec)}return G.polygonIntersectsRect(cH,dY)}case'shapeIDFilledLeftTriangle':{var ed={x:0,y:0,w:0,h:0};{var ee=Math.round(L.c.get('x').gv(cI));var ef=Math.round(L.c.get('y').gv(cI));var eg=Math.ceil(L.c.get('size').gv(cI)*(1+-1/12)/2);var eh=2*eg;tab.RectXYUtil.unionInPlace$1(ed,ee-eg,ef-eg,eh,eh)}return G.polygonIntersectsRect(cH,ed)}case'shapeIDRightTriangle':{var ei={x:0,y:0,w:0,h:0};{var ej=Math.round(L.c.get('x').gv(cI));var ek=Math.round(L.c.get('y').gv(cI));var el=Math.ceil(L.c.get('size').gv(cI)*(1+-1.25/12)/2);var em=2*el;tab.RectXYUtil.unionInPlace$1(ei,ej-el,ek-el,em,em)}return G.polygonIntersectsRect(cH,ei)}case'shapeIDFilledRightTriangle':{var en={x:0,y:0,w:0,h:0};{var eo=Math.round(L.c.get('x').gv(cI));var ep=Math.round(L.c.get('y').gv(cI));var eq=Math.ceil(L.c.get('size').gv(cI)*(1+-1/12)/2);var er=2*eq;tab.RectXYUtil.unionInPlace$1(en,eo-eq,ep-eq,er,er)}return G.polygonIntersectsRect(cH,en)}case'shapeIDFilledStar':{var es={x:0,y:0,w:0,h:0};{var et=Math.round(L.c.get('x').gv(cI));var eu=Math.round(L.c.get('y').gv(cI));var ev=Math.ceil(L.c.get('size').gv(cI)*(1+1.1/12)/2);var ew=2*ev;tab.RectXYUtil.unionInPlace$1(es,et-ev,eu-ev,ew,ew)}return G.polygonIntersectsRect(cH,es)}default:{var ex=Math.round(L.c.get('x').gv(cI));var ey=Math.round(L.c.get('y').gv(cI));var ez=Math.ceil(L.c.get('size').gv(cI));var eA=Math.ceil(ez/2);var eB={x:ex-eA,y:ey-eA,w:ez,h:ez};return G.polygonIntersectsRect(cH,eB)}}},renderMultipolygonMarkHoverOverlayImage:function(L,cH,cI){var cJ='empty';var cK=cH.getMarkGeometry(cH.c.get('geometry').gv(cI));if(ss.isValue(cK)){cJ=cK.geometryType}switch(cJ){case'multiPolygon':{{var cL=cH.getMarkInstanceOffsets(cI);var cM=cL.length;for(var cN=0;cN<cM;cN++){var cO=cL[cN];bz.$d(L,cO);{var cP=bz.$f();if(!cH.hasPixelGeometry){L.save();L.translate(cH.c.get('x').gv(cI),cH.c.get('y').gv(cI));L.scale(cH.c.get('size').gv(cI),cH.c.get('size').gv(cI))}tab.CanvasRenderer.createMultipolygonPath(L,cK);if(!cH.hasPixelGeometry){L.restore()}L.set_lineWidth(1.75-cP);L.set_strokeStyle(cH.c.get('selected_halo_color').gv(cI)['colorOverrideNone']);L.stroke()}if(cO!==0){L.restore()}}}break}case'multiLineString':{{var cQ=cH.getMarkInstanceOffsets(cI);var cR=cQ.length;for(var cS=0;cS<cR;cS++){var cT=cQ[cS];bz.$d(L,cT);var cU='colorOverrideNone';if(!cH.hasPixelGeometry){L.save();L.translate(cH.c.get('x').gv(cI),cH.c.get('y').gv(cI));L.scale(cH.c.get('size').gv(cI),cH.c.get('size').gv(cI))}tab.CanvasRenderer.createMultiLinePath(L,cK);if(!cH.hasPixelGeometry){L.restore()}{tab.CanvasRenderer.fillMultiLineStringPath(L,cH.c.get('size').gv(cI)+3.5,cH.c.get('selected_halo_color').gv(cI)[cU]);tab.CanvasRenderer.fillMultiLineStringEndCaps(L,cK.multiLine,cH.c.get('size').gv(cI)+3.5,1.75,cH.c.get('selected_halo_color').gv(cI)[cU]);tab.CanvasRenderer.fillClearMultiLineStringPath(L,cH.c.get('size').gv(cI),cH.c.get('selected_halo_color').gv(cI)[cU])}if(cT!==0){L.restore()}}}break}case'multiPoint':{{var cV=cH.getMarkInstanceOffsets(cI);var cW=cV.length;for(var cX=0;cX<cW;cX++){var cY=cV[cX];bz.$d(L,cY);{var cZ=bz.$f();if(!cH.hasPixelGeometry){L.save();L.translate(cH.c.get('x').gv(cI),cH.c.get('y').gv(cI));L.scale(cH.c.get('size').gv(cI),cH.c.get('size').gv(cI))}var da=cH.c.get('size').gv(cI);var db=((!cH.hasPixelGeometry&&da>0)?(7/da):7);tab.CanvasRenderer.createMultipointPath(L,db,cK);if(!cH.hasPixelGeometry){L.restore()}L.set_lineWidth(1.75-cZ);L.set_strokeStyle(cH.c.get('selected_halo_color').gv(cI)['colorOverrideNone']);L.stroke()}if(cY!==0){L.restore()}}}break}case'empty':{{var dc=cH.getMarkInstanceOffsets(cI);var dd=dc.length;for(var de=0;de<dd;de++){var df=dc[de];bz.$d(L,df);{var dg=bz.$f();tab.CanvasRenderer.createPlaceholderPath(L,cH.c.get('x').gv(cI),cH.c.get('y').gv(cI),7);L.set_lineWidth(1.75-dg);L.set_strokeStyle(cH.c.get('selected_halo_color').gv(cI)['colorOverrideNone']);L.stroke()}if(df!==0){L.restore()}}}break}default:{break}}},renderMultipolygonMarkPressedOverlayImage:function(L,cH,cI){var cJ='empty';var cK=cH.getMarkGeometry(cH.c.get('geometry').gv(cI));if(ss.isValue(cK)){cJ=cK.geometryType}switch(cJ){case'multiPolygon':{{var cL=cH.getMarkInstanceOffsets(cI);var cM=cL.length;for(var cN=0;cN<cM;cN++){var cO=cL[cN];bz.$d(L,cO);{var cP=bz.$f();if(!cH.hasPixelGeometry){L.save();L.translate(cH.c.get('x').gv(cI),cH.c.get('y').gv(cI));L.scale(cH.c.get('size').gv(cI),cH.c.get('size').gv(cI))}tab.CanvasRenderer.createMultipolygonPath(L,cK);if(!cH.hasPixelGeometry){L.restore()}L.set_lineWidth(2.5-cP);L.set_strokeStyle(cH.c.get('selected_halo_color').gv(cI)['colorOverrideNone']);L.stroke()}if(cO!==0){L.restore()}}}break}case'multiLineString':{{var cQ=cH.getMarkInstanceOffsets(cI);var cR=cQ.length;for(var cS=0;cS<cR;cS++){var cT=cQ[cS];bz.$d(L,cT);var cU='colorOverrideNone';if(!cH.hasPixelGeometry){L.save();L.translate(cH.c.get('x').gv(cI),cH.c.get('y').gv(cI));L.scale(cH.c.get('size').gv(cI),cH.c.get('size').gv(cI))}tab.CanvasRenderer.createMultiLinePath(L,cK);if(!cH.hasPixelGeometry){L.restore()}{tab.CanvasRenderer.fillMultiLineStringPath(L,cH.c.get('size').gv(cI)+5,cH.c.get('selected_halo_color').gv(cI)[cU]);tab.CanvasRenderer.fillMultiLineStringEndCaps(L,cK.multiLine,cH.c.get('size').gv(cI)+5,2.5,cH.c.get('selected_halo_color').gv(cI)[cU]);tab.CanvasRenderer.fillClearMultiLineStringPath(L,cH.c.get('size').gv(cI),cH.c.get('selected_halo_color').gv(cI)[cU])}if(cT!==0){L.restore()}}}break}case'multiPoint':{{var cV=cH.getMarkInstanceOffsets(cI);var cW=cV.length;for(var cX=0;cX<cW;cX++){var cY=cV[cX];bz.$d(L,cY);{var cZ=bz.$f();if(!cH.hasPixelGeometry){L.save();L.translate(cH.c.get('x').gv(cI),cH.c.get('y').gv(cI));L.scale(cH.c.get('size').gv(cI),cH.c.get('size').gv(cI))}var da=cH.c.get('size').gv(cI);var db=((!cH.hasPixelGeometry&&da>0)?(7/da):7);tab.CanvasRenderer.createMultipointPath(L,db,cK);if(!cH.hasPixelGeometry){L.restore()}L.set_lineWidth(2.5-cZ);L.set_strokeStyle(cH.c.get('selected_halo_color').gv(cI)['colorOverrideNone']);L.stroke()}if(cY!==0){L.restore()}}}break}case'empty':{{var dc=cH.getMarkInstanceOffsets(cI);var dd=dc.length;for(var de=0;de<dd;de++){var df=dc[de];bz.$d(L,df);{var dg=bz.$f();tab.CanvasRenderer.createPlaceholderPath(L,cH.c.get('x').gv(cI),cH.c.get('y').gv(cI),7);L.set_lineWidth(2.5-dg);L.set_strokeStyle(cH.c.get('selected_halo_color').gv(cI)['colorOverrideNone']);L.stroke()}if(df!==0){L.restore()}}}break}default:{break}}},renderAreaMarkHoverOverlayImage:function(L,cH,cI){var cJ=false;if(cI-1>0&&!cH.isMarkEndPrimitive(cI-1)){cJ=cJ||cH.isMarkHighlighted(cI-1)}if(cI+1<cH.markCount&&!cH.isMarkEndPrimitive(cI)){cJ=cJ||cH.isMarkHighlighted(cI+1)}var cK;var cL=cH.c.get('x').gv(cI);var cM=cH.c.get('y').gv(cI);if(cH.isMarkSelected(cI)){cK=cH.c.get('selected_halo_color').gv(cI)['colorOverrideOpaque'];{var cN=cH.c.get('draw_border').gv(cI);var cO=5+2+(cN?2:0);tab.CanvasRenderer.renderCircle(L,0+cL,0+cM,cO,cK,4)}cK=cH.getMarkColors(cI)['colorOverrideOpaque'];{var cP=cH.getMarkInstanceOffsets(cI);var cQ=cP.length;for(var cR=0;cR<cQ;cR++){var cS=cP[cR];bz.$d(L,cS);tab.CanvasRenderer.renderFilledCircle(L,0+cL,0+cM,5+2,cK);if(cS!==0){L.restore()}}}cL=cH.c.get('x1').gv(cI);cM=cH.c.get('y1').gv(cI);cK=cH.c.get('selected_halo_color').gv(cI)['colorOverrideOpaque'];{var cT=cH.c.get('draw_border').gv(cI);var cU=5+2+(cT?2:0);tab.CanvasRenderer.renderCircle(L,0+cL,0+cM,cU,cK,4)}cK=cH.getMarkColors(cI)['colorOverrideOpaque'];{var cV=cH.getMarkInstanceOffsets(cI);var cW=cV.length;for(var cX=0;cX<cW;cX++){var cY=cV[cX];bz.$d(L,cY);tab.CanvasRenderer.renderFilledCircle(L,0+cL,0+cM,5+2,cK);if(cY!==0){L.restore()}}}}else if(cH.isMarkHighlighted(cI)&&!cJ){cK=cH.c.get('selected_multi_prim_halo_color').gv(cI)['colorOverrideNone'];{var cZ=cH.getMarkInstanceOffsets(cI);var da=cZ.length;for(var db=0;db<da;db++){var dc=cZ[db];bz.$d(L,dc);{var dd=cH.c.get('draw_border').gv(cI);var de=5+2+(dd?2:0);tab.CanvasRenderer.renderCircle(L,0+cL,0+cM,de,cK,4)}if(dc!==0){L.restore()}}}cK=cH.getMarkColors(cI)['colorOverrideNone'];{var df=cH.getMarkInstanceOffsets(cI);var dg=df.length;for(var dh=0;dh<dg;dh++){var di=df[dh];bz.$d(L,di);tab.CanvasRenderer.renderFilledCircle(L,0+cL,0+cM,5+2,cK);if(di!==0){L.restore()}}}cL=cH.c.get('x1').gv(cI);cM=cH.c.get('y1').gv(cI);cK=cH.c.get('selected_multi_prim_halo_color').gv(cI)['colorOverrideNone'];{var dj=cH.getMarkInstanceOffsets(cI);var dk=dj.length;for(var dl=0;dl<dk;dl++){var dm=dj[dl];bz.$d(L,dm);{var dn=cH.c.get('draw_border').gv(cI);var dp=5+2+(dn?2:0);tab.CanvasRenderer.renderCircle(L,0+cL,0+cM,dp,cK,4)}if(dm!==0){L.restore()}}}cK=cH.getMarkColors(cI)['colorOverrideNone'];{var dq=cH.getMarkInstanceOffsets(cI);var dr=dq.length;for(var ds=0;ds<dr;ds++){var dt=dq[ds];bz.$d(L,dt);tab.CanvasRenderer.renderFilledCircle(L,0+cL,0+cM,5+2,cK);if(dt!==0){L.restore()}}}}else{cK=(cH.drawBorder?cH.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var du=cH.getMarkInstanceOffsets(cI);var dv=du.length;for(var dw=0;dw<dv;dw++){var dx=du[dw];bz.$d(L,dx);tab.CanvasRenderer.renderFilledCircle(L,0+cL,0+cM,5,cK);if(dx!==0){L.restore()}}}cL=cH.c.get('x1').gv(cI);cM=cH.c.get('y1').gv(cI);cK=(cH.drawBorder?cH.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var dy=cH.getMarkInstanceOffsets(cI);var dz=dy.length;for(var dA=0;dA<dz;dA++){var dB=dy[dA];bz.$d(L,dB);tab.CanvasRenderer.renderFilledCircle(L,0+cL,0+cM,5,cK);if(dB!==0){L.restore()}}}}},renderAreaMarkPressedOverlayImage:function(L,cH,cI){var cJ=(cH.drawBorder?cH.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];var cK=cH.c.get('x').gv(cI);var cL=cH.c.get('y').gv(cI);{var cM=cH.getMarkInstanceOffsets(cI);var cN=cM.length;for(var cO=0;cO<cN;cO++){var cP=cM[cO];bz.$d(L,cP);tab.CanvasRenderer.renderFilledCircle(L,0+cK,0+cL,7,cJ);if(cP!==0){L.restore()}}}cK=cH.c.get('x1').gv(cI);cL=cH.c.get('y1').gv(cI);{var cQ=cH.getMarkInstanceOffsets(cI);var cR=cQ.length;for(var cS=0;cS<cR;cS++){var cT=cQ[cS];bz.$d(L,cT);tab.CanvasRenderer.renderFilledCircle(L,0+cK,0+cL,7,cJ);if(cT!==0){L.restore()}}}},renderPieHoverOverlayImage:function(L,cH,cI){{var cJ=cH.getMarkInstanceOffsets(cI);var cK=cJ.length;for(var cL=0;cL<cK;cL++){var cM=cJ[cL];bz.$d(L,cM);var cN=cH.c.get('size').gv(cI)/2;var cO=cH.c.get('draw_border').gv(cI);var cP=(!!cO?1:0);var cQ=cH.c.get('selected_halo_color').gv(cI)['colorOverrideNone'];var cR=cH.c.get('theta').gv(cI);var cS=cH.c.get('theta1').gv(cI);var cT=cR>cS;if(Math.abs(cR-cS)>=1){tab.CanvasRenderer.renderCircle(L,cH.c.get('x').gv(cI),cH.c.get('y').gv(cI),(cN+cP)*2,cQ,1)}else{tab.CanvasRenderer.renderWedge(L,cH.c.get('x').gv(cI),cH.c.get('y').gv(cI),cN,cR,cS,cQ,1+cP,cT)}if(cM!==0){L.restore()}}}},renderPiePressedOverlayImage:function(L,cH,cI){{var cJ=cH.getMarkInstanceOffsets(cI);var cK=cJ.length;for(var cL=0;cL<cK;cL++){var cM=cJ[cL];bz.$d(L,cM);var cN=cH.c.get('size').gv(cI)/2;var cO=cH.c.get('draw_border').gv(cI);var cP=(!!cO?1:0);var cQ=cH.c.get('selected_halo_color').gv(cI)['colorOverrideNone'];var cR=cH.c.get('theta').gv(cI);var cS=cH.c.get('theta1').gv(cI);var cT=cR>cS;if(Math.abs(cR-cS)>=1){tab.CanvasRenderer.renderCircle(L,cH.c.get('x').gv(cI),cH.c.get('y').gv(cI),(cN+cP)*2,cQ,2)}else{tab.CanvasRenderer.renderWedge(L,cH.c.get('x').gv(cI),cH.c.get('y').gv(cI),cN,cR,cS,cQ,2+cP,cT)}if(cM!==0){L.restore()}}}},renderTextHoverOverlayImage:function(L,cH,cI){if(!(cH.clipCase!==0&&cH.useCellClipForSelection)){{var cJ=cH.getMarkInstanceOffsets(cI);var cK=cJ.length;for(var cL=0;cL<cK;cL++){var cM=cJ[cL];bz.$d(L,cM);var cN=-cH.c.get('width').gv(cI)/2;var cO=cH.c.get('height').gv(cI)/2-1;var cP=cH.c.get('x').gv(cI)+cN;var cQ=cH.c.get('y').gv(cI)+cO;var cR=cH.c.get('x').gv(cI)+cH.c.get('width').gv(cI)+cN;var cS=cH.c.get('y').gv(cI)+cO;var cT=1;var cU=cR-cP;var cV=[cP,cQ+cT-1,cP+cU,cQ+cT-1];L.set_lineCap('square');L.set_lineWidth(cT);L.set_strokeStyle(cH.getMarkColors(cI)['colorOverrideOpaque']);tab.CanvasRenderer.strokePath(L,cV,false,true);if(cM!==0){L.restore()}}}}if(cH.clipCase!==0&&cH.useCellClipForSelection){{var cW=cH.getMarkInstanceOffsets(cI);var cX=cW.length;for(var cY=0;cY<cX;cY++){var cZ=cW[cY];bz.$d(L,cZ);{var da=2;var db=cH.c.get('x').gv(cI)-cH.c.get('clip_width').gv(cI)/2+da;var dc=cH.c.get('x').gv(cI)+cH.c.get('clip_width').gv(cI)/2-da;var dd=cH.c.get('y').gv(cI)-cH.c.get('clip_height').gv(cI)/2+da;var de=cH.c.get('y').gv(cI)+cH.c.get('clip_height').gv(cI)/2-da;bz.$4(L,cH,cI,db,dc,dd,de,cH.getMarkColors(cI),!!false,Math.floor(1))}if(cZ!==0){L.restore()}}}}},renderTextPressedOverlayImage:function(L,cH,cI){if(!(cH.clipCase!==0&&cH.useCellClipForSelection)){{var cJ=cH.getMarkInstanceOffsets(cI);var cK=cJ.length;for(var cL=0;cL<cK;cL++){var cM=cJ[cL];bz.$d(L,cM);var cN=-cH.c.get('width').gv(cI)/2;var cO=cH.c.get('height').gv(cI)/2-1;var cP=cH.c.get('x').gv(cI)+cN;var cQ=cH.c.get('y').gv(cI)+cO;var cR=cH.c.get('x').gv(cI)+cH.c.get('width').gv(cI)+cN;var cS=cH.c.get('y').gv(cI)+cO;var cT=2;var cU=cR-cP;var cV=[cP,cQ+cT-1,cP+cU,cQ+cT-1];L.set_lineCap('square');L.set_lineWidth(cT);L.set_strokeStyle(cH.getMarkColors(cI)['colorOverrideOpaque']);tab.CanvasRenderer.strokePath(L,cV,false,true);if(cM!==0){L.restore()}}}}if(cH.clipCase!==0&&cH.useCellClipForSelection){{var cW=cH.getMarkInstanceOffsets(cI);var cX=cW.length;for(var cY=0;cY<cX;cY++){var cZ=cW[cY];bz.$d(L,cZ);{var da=2;var db=cH.c.get('x').gv(cI)-cH.c.get('clip_width').gv(cI)/2+da;var dc=cH.c.get('x').gv(cI)+cH.c.get('clip_width').gv(cI)/2-da;var dd=cH.c.get('y').gv(cI)-cH.c.get('clip_height').gv(cI)/2+da;var de=cH.c.get('y').gv(cI)+cH.c.get('clip_height').gv(cI)/2-da;bz.$4(L,cH,cI,db,dc,dd,de,cH.getMarkColors(cI),!!false,Math.floor(2))}if(cZ!==0){L.restore()}}}}},renderBarHoverOverlayImage:function(L,cH,cI){var cJ=ss.trunc(cH.c.get('size').gv(cI)+0.5)/2;var cK=1;if(cH.scaleMarksInX&&cH.scaleMarksInY){{var cL=cH.getMarkInstanceOffsets(cI);var cM=cL.length;for(var cN=0;cN<cM;cN++){var cO=cL[cN];bz.$d(L,cO);{var cP=0;var cQ=cH.c.get('x').gv(cI)+cP;var cR=cH.c.get('x1').gv(cI)-cP;var cS=cH.c.get('y').gv(cI)+cP;var cT=cH.c.get('y1').gv(cI)-cP;bz.$4(L,cH,cI,cQ,cR,cS,cT,cH.c.get('selected_halo_color').gv(cI),!!false,Math.floor(cK))}if(cO!==0){L.restore()}}}}if(!cH.scaleMarksInX&&cH.scaleMarksInY){{var cU=cH.getMarkInstanceOffsets(cI);var cV=cU.length;for(var cW=0;cW<cV;cW++){var cX=cU[cW];bz.$d(L,cX);{var cY=0;var cZ=cH.c.get('x').gv(cI)-cJ+cY;var da=cH.c.get('x').gv(cI)+cJ-cY;var db=cH.c.get('y').gv(cI)+cY;var dc=cH.c.get('y1').gv(cI)-cY;bz.$4(L,cH,cI,cZ,da,db,dc,cH.c.get('selected_halo_color').gv(cI),!!false,Math.floor(cK))}if(cX!==0){L.restore()}}}}if(cH.scaleMarksInX&&!cH.scaleMarksInY){{var dd=cH.getMarkInstanceOffsets(cI);var de=dd.length;for(var df=0;df<de;df++){var dg=dd[df];bz.$d(L,dg);{var dh=0;var di=cH.c.get('x').gv(cI)+dh;var dj=cH.c.get('x1').gv(cI)-dh;var dk=cH.c.get('y').gv(cI)-cJ+dh;var dl=cH.c.get('y').gv(cI)+cJ-dh;bz.$4(L,cH,cI,di,dj,dk,dl,cH.c.get('selected_halo_color').gv(cI),!!false,Math.floor(cK))}if(dg!==0){L.restore()}}}}if(!cH.scaleMarksInX&&!cH.scaleMarksInY){{var dm=cH.getMarkInstanceOffsets(cI);var dn=dm.length;for(var dp=0;dp<dn;dp++){var dq=dm[dp];bz.$d(L,dq);{var dr=0;var ds=cH.c.get('x').gv(cI)-cJ+dr;var dt=cH.c.get('x').gv(cI)+cJ-dr;var du=cH.c.get('y').gv(cI)-cJ+dr;var dv=cH.c.get('y').gv(cI)+cJ-dr;bz.$4(L,cH,cI,ds,dt,du,dv,cH.c.get('selected_halo_color').gv(cI),!!true,Math.floor(cK))}if(dq!==0){L.restore()}}}}},renderBarPressedOverlayImage:function(L,cH,cI){var cJ=ss.trunc(cH.c.get('size').gv(cI)+0.5)/2;var cK=2;if(cH.scaleMarksInX&&cH.scaleMarksInY){{var cL=cH.getMarkInstanceOffsets(cI);var cM=cL.length;for(var cN=0;cN<cM;cN++){var cO=cL[cN];bz.$d(L,cO);{var cP=0;var cQ=cH.c.get('x').gv(cI)+cP;var cR=cH.c.get('x1').gv(cI)-cP;var cS=cH.c.get('y').gv(cI)+cP;var cT=cH.c.get('y1').gv(cI)-cP;bz.$4(L,cH,cI,cQ,cR,cS,cT,cH.c.get('selected_halo_color').gv(cI),!!false,Math.floor(cK))}if(cO!==0){L.restore()}}}}if(!cH.scaleMarksInX&&cH.scaleMarksInY){{var cU=cH.getMarkInstanceOffsets(cI);var cV=cU.length;for(var cW=0;cW<cV;cW++){var cX=cU[cW];bz.$d(L,cX);{var cY=0;var cZ=cH.c.get('x').gv(cI)-cJ+cY;var da=cH.c.get('x').gv(cI)+cJ-cY;var db=cH.c.get('y').gv(cI)+cY;var dc=cH.c.get('y1').gv(cI)-cY;bz.$4(L,cH,cI,cZ,da,db,dc,cH.c.get('selected_halo_color').gv(cI),!!false,Math.floor(cK))}if(cX!==0){L.restore()}}}}if(cH.scaleMarksInX&&!cH.scaleMarksInY){{var dd=cH.getMarkInstanceOffsets(cI);var de=dd.length;for(var df=0;df<de;df++){var dg=dd[df];bz.$d(L,dg);{var dh=0;var di=cH.c.get('x').gv(cI)+dh;var dj=cH.c.get('x1').gv(cI)-dh;var dk=cH.c.get('y').gv(cI)-cJ+dh;var dl=cH.c.get('y').gv(cI)+cJ-dh;bz.$4(L,cH,cI,di,dj,dk,dl,cH.c.get('selected_halo_color').gv(cI),!!false,Math.floor(cK))}if(dg!==0){L.restore()}}}}if(!cH.scaleMarksInX&&!cH.scaleMarksInY){{var dm=cH.getMarkInstanceOffsets(cI);var dn=dm.length;for(var dp=0;dp<dn;dp++){var dq=dm[dp];bz.$d(L,dq);{var dr=0;var ds=cH.c.get('x').gv(cI)-cJ+dr;var dt=cH.c.get('x').gv(cI)+cJ-dr;var du=cH.c.get('y').gv(cI)-cJ+dr;var dv=cH.c.get('y').gv(cI)+cJ-dr;bz.$4(L,cH,cI,ds,dt,du,dv,cH.c.get('selected_halo_color').gv(cI),!!true,Math.floor(cK))}if(dq!==0){L.restore()}}}}},renderLineMarkHoverOverlayImage:function(L,cH,cI){var cJ=false;if(cI-1>0&&!cH.isMarkEndPrimitive(cI-1)){cJ=cJ||cH.isMarkHighlighted(cI-1)}if(cI+1<cH.markCount&&!cH.isMarkEndPrimitive(cI)){cJ=cJ||cH.isMarkHighlighted(cI+1)}var cK;var cL=cH.c.get('x').gv(cI);var cM=cH.c.get('y').gv(cI);if(cH.isMarkSelected(cI)){cK=cH.c.get('selected_halo_color').gv(cI)['colorOverrideOpaque'];{var cN=cH.c.get('draw_border').gv(cI);var cO=cH.c.get('size').gv(cI)+4+4+(cN?2:0);tab.CanvasRenderer.renderCircle(L,0+cL,0+cM,cO,cK,4)}cK=cH.getMarkColors(cI)['colorOverrideOpaque'];{var cP=cH.getMarkInstanceOffsets(cI);var cQ=cP.length;for(var cR=0;cR<cQ;cR++){var cS=cP[cR];bz.$d(L,cS);tab.CanvasRenderer.renderFilledCircle(L,0+cL,0+cM,cH.c.get('size').gv(cI)+4+4,cK);if(cS!==0){L.restore()}}}}else if(cH.isMarkHighlighted(cI)&&!cJ){cK=cH.c.get('selected_multi_prim_halo_color').gv(cI)['colorOverrideNone'];{var cT=cH.getMarkInstanceOffsets(cI);var cU=cT.length;for(var cV=0;cV<cU;cV++){var cW=cT[cV];bz.$d(L,cW);{var cX=cH.c.get('draw_border').gv(cI);var cY=cH.c.get('size').gv(cI)+4+4+(cX?2:0);tab.CanvasRenderer.renderCircle(L,0+cL,0+cM,cY,cK,4)}if(cW!==0){L.restore()}}}cK=cH.getMarkColors(cI)['colorOverrideNone'];{var cZ=cH.getMarkInstanceOffsets(cI);var da=cZ.length;for(var db=0;db<da;db++){var dc=cZ[db];bz.$d(L,dc);tab.CanvasRenderer.renderFilledCircle(L,0+cL,0+cM,cH.c.get('size').gv(cI)+4+4,cK);if(dc!==0){L.restore()}}}}else{cK=cH.getMarkColors(cI)['colorOverrideNone'];{var dd=cH.getMarkInstanceOffsets(cI);var de=dd.length;for(var df=0;df<de;df++){var dg=dd[df];bz.$d(L,dg);tab.CanvasRenderer.renderFilledCircle(L,0+cL,0+cM,cH.c.get('size').gv(cI)+4,cK);if(dg!==0){L.restore()}}}}},renderLineMarkPressedOverlayImage:function(L,cH,cI){var cJ=cH.getMarkColors(cI)['colorOverrideNone'];var cK=cH.c.get('x').gv(cI);var cL=cH.c.get('y').gv(cI);{var cM=cH.getMarkInstanceOffsets(cI);var cN=cM.length;for(var cO=0;cO<cN;cO++){var cP=cM[cO];bz.$d(L,cP);tab.CanvasRenderer.renderFilledCircle(L,0+cK,0+cL,cH.c.get('size').gv(cI)+8,cJ);if(cP!==0){L.restore()}}}},shapeHasLayerContent:function(L,cH){var cI=false;switch(L){case'shapeIDCircle':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDFilledCircle':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDSquare':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDFilledSquare':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDAsterisk':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDPlus':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDFilledPlus':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDTimes':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDFilledTimes':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDDiamond':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDFilledDiamond':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDTriangle':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDFilledTriangle':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDDownTriangle':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDLeftTriangle':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDRightTriangle':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}case'shapeIDFilledStar':{switch(cH){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{cI=true;break}default:{break}}break}default:{cI=true;break}}return cI},getShapeMarkSpriteSize:function(L,cH,cI){var cJ=0;switch(L){case'shapeIDCircle':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+6);break}case'pressedOverlay':{cJ=Math.ceil(cI+8);break}default:{break}}break}case'shapeIDFilledCircle':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'border':{cJ=Math.ceil(cI+2);break}case'hoverOverlay':{cJ=Math.ceil(cI+2);break}case'pressedOverlay':{cJ=Math.ceil(cI+6);break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'border':{cJ=Math.ceil(cI+2);break}case'hoverOverlay':{cJ=Math.ceil(cI+4);break}case'pressedOverlay':{cJ=Math.ceil(cI+6);break}default:{break}}break}case'shapeIDSquare':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+4);break}case'pressedOverlay':{cJ=Math.ceil(cI+6);break}default:{break}}break}case'shapeIDFilledSquare':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'border':{cJ=Math.ceil(cI+2);break}case'hoverOverlay':{cJ=Math.ceil(cI+2);break}case'pressedOverlay':{cJ=Math.ceil(cI+4);break}default:{break}}break}case'shapeIDAsterisk':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+6);break}case'pressedOverlay':{cJ=Math.ceil(cI+8);break}default:{break}}break}case'shapeIDPlus':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+4);break}case'pressedOverlay':{cJ=Math.ceil(cI+6);break}default:{break}}break}case'shapeIDFilledPlus':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+3);break}case'pressedOverlay':{cJ=Math.ceil(cI+5);break}default:{break}}break}case'shapeIDTimes':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+4);break}case'pressedOverlay':{cJ=Math.ceil(cI+6);break}default:{break}}break}case'shapeIDFilledTimes':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+4);break}case'pressedOverlay':{cJ=Math.ceil(cI+6);break}default:{break}}break}case'shapeIDDiamond':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+6);break}case'pressedOverlay':{cJ=Math.ceil(cI+8);break}default:{break}}break}case'shapeIDFilledDiamond':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+5);break}case'pressedOverlay':{cJ=Math.ceil(cI+7);break}default:{break}}break}case'shapeIDTriangle':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+6);break}case'pressedOverlay':{cJ=Math.ceil(cI+8);break}default:{break}}break}case'shapeIDFilledTriangle':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+2);break}case'pressedOverlay':{cJ=Math.ceil(cI+4);break}default:{break}}break}case'shapeIDDownTriangle':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+4);break}case'pressedOverlay':{cJ=Math.ceil(cI+4);break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+2);break}case'pressedOverlay':{cJ=Math.ceil(cI+4);break}default:{break}}break}case'shapeIDLeftTriangle':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+4);break}case'pressedOverlay':{cJ=Math.ceil(cI+4);break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+2);break}case'pressedOverlay':{cJ=Math.ceil(cI+4);break}default:{break}}break}case'shapeIDRightTriangle':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+4);break}case'pressedOverlay':{cJ=Math.ceil(cI+6);break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+4);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+4);break}case'hoverOverlay':{cJ=Math.ceil(cI+2);break}case'pressedOverlay':{cJ=Math.ceil(cI+4);break}default:{break}}break}case'shapeIDFilledStar':{switch(cH){case'normalUnder':{cJ=Math.ceil(cI+6);break}case'normalOn':{cJ=Math.ceil(cI+2);break}case'selectedUnder':{cJ=Math.ceil(cI+6);break}case'hoverOverlay':{cJ=Math.ceil(cI+10);break}case'pressedOverlay':{cJ=Math.ceil(cI+14);break}default:{break}}break}default:{break}}return cJ},renderShapeHoverOverlayImage:function(L,cH,cI){var cJ=cH.c.get('shape_id').gv(cI);var cK=cH.c.get('x').gv(cI);var cL=cH.c.get('y').gv(cI);if(cH.shouldStampThisShapeMark(cI)){var cM=cH.c.get('size').gv(cI);var cN=bz.getShapeMarkSpriteSize(cJ,'normalOn',cM)+2;var cO=cN/2;cK=(cK-cO+0.5<<0)+cO;cL=(cL-cO+0.5<<0)+cO}switch(cJ){case'shapeIDCircle':{bz.renderShapeIDCircleHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDFilledCircle':{bz.renderShapeIDFilledCircleHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDUnscaledFilledCircle':{bz.renderShapeIDUnscaledFilledCircleHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDSquare':{bz.renderShapeIDSquareHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDFilledSquare':{bz.renderShapeIDFilledSquareHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDAsterisk':{bz.renderShapeIDAsteriskHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDPlus':{bz.renderShapeIDPlusHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDFilledPlus':{bz.renderShapeIDFilledPlusHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDTimes':{bz.renderShapeIDTimesHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDFilledTimes':{bz.renderShapeIDFilledTimesHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDDiamond':{bz.renderShapeIDDiamondHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDFilledDiamond':{bz.renderShapeIDFilledDiamondHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDTriangle':{bz.renderShapeIDTriangleHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDFilledTriangle':{bz.renderShapeIDFilledTriangleHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDDownTriangle':{bz.renderShapeIDDownTriangleHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDFilledDownTriangle':{bz.renderShapeIDFilledDownTriangleHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDLeftTriangle':{bz.renderShapeIDLeftTriangleHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDFilledLeftTriangle':{bz.renderShapeIDFilledLeftTriangleHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDRightTriangle':{bz.renderShapeIDRightTriangleHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDFilledRightTriangle':{bz.renderShapeIDFilledRightTriangleHoverOverlayImage(L,cH,cK,cL,cI);break}case'shapeIDFilledStar':{bz.renderShapeIDFilledStarHoverOverlayImage(L,cH,cK,cL,cI);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(cJ))){var cP=cH.getMarkInstanceOffsets(cI);var cQ=cP.length;for(var cR=0;cR<cQ;cR++){var cS=cP[cR];if(cS!==0){L.save();L.translate(cS,0)}bz.$b(L,cH,cI,'hoverOverlay','colorOverrideNone');if(cS!==0){L.restore()}}}else{bz.renderShapeIDCircleHoverOverlayImage(L,cH,cK,cL,cI)}break}}},renderShapePressedOverlayImage:function(L,cH,cI){var cJ=cH.getMarkIndexFromTupleId(cI);var cK=cH.c.get('shape_id').gv(cJ);var cL=cH.c.get('x').gv(cJ);var cM=cH.c.get('y').gv(cJ);if(cH.shouldStampThisShapeMark(cJ)){var cN=cH.c.get('size').gv(cJ);var cO=bz.getShapeMarkSpriteSize(cK,'normalOn',cN)+2;var cP=cO/2;cL=(cL-cP+0.5<<0)+cP;cM=(cM-cP+0.5<<0)+cP}switch(cK){case'shapeIDCircle':{bz.renderShapeIDCirclePressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDFilledCircle':{bz.renderShapeIDFilledCirclePressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDUnscaledFilledCircle':{bz.renderShapeIDUnscaledFilledCirclePressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDSquare':{bz.renderShapeIDSquarePressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDFilledSquare':{bz.renderShapeIDFilledSquarePressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDAsterisk':{bz.renderShapeIDAsteriskPressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDPlus':{bz.renderShapeIDPlusPressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDFilledPlus':{bz.renderShapeIDFilledPlusPressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDTimes':{bz.renderShapeIDTimesPressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDFilledTimes':{bz.renderShapeIDFilledTimesPressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDDiamond':{bz.renderShapeIDDiamondPressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDFilledDiamond':{bz.renderShapeIDFilledDiamondPressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDTriangle':{bz.renderShapeIDTrianglePressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDFilledTriangle':{bz.renderShapeIDFilledTrianglePressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDDownTriangle':{bz.renderShapeIDDownTrianglePressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDFilledDownTriangle':{bz.renderShapeIDFilledDownTrianglePressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDLeftTriangle':{bz.renderShapeIDLeftTrianglePressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDFilledLeftTriangle':{bz.renderShapeIDFilledLeftTrianglePressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDRightTriangle':{bz.renderShapeIDRightTrianglePressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDFilledRightTriangle':{bz.renderShapeIDFilledRightTrianglePressedOverlayImage(L,cH,cL,cM,cJ);break}case'shapeIDFilledStar':{bz.renderShapeIDFilledStarPressedOverlayImage(L,cH,cL,cM,cJ);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(cK))){var cQ=cH.getMarkInstanceOffsets(cJ);var cR=cQ.length;for(var cS=0;cS<cR;cS++){var cT=cQ[cS];if(cT!==0){L.save();L.translate(cT,0)}bz.$b(L,cH,cJ,'pressedOverlay','colorOverrideNone');if(cT!==0){L.restore()}}}else{bz.renderShapeIDCirclePressedOverlayImage(L,cH,cL,cM,cJ)}break}}},renderShapeIDCircleHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=cH.c.get('draw_border').gv(cK);var cT=cH.c.get('size').gv(cK)*(1+-0.5/12)+2+(cS?2:0);tab.CanvasRenderer.renderCircle(L,0+cM,0+cN,cT,cL,1)}if(cR!==0){L.restore()}}}},renderShapeIDCirclePressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=cH.c.get('draw_border').gv(cK);var cT=cH.c.get('size').gv(cK)*(1+-0.5/12)+3+(cS?2:0);tab.CanvasRenderer.renderCircle(L,0+cM,0+cN,cT,cL,2)}if(cR!==0){L.restore()}}}},renderShapeIDFilledCircleHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=cH.c.get('draw_border').gv(cK);var cT=cH.c.get('size').gv(cK)*(1+-0.25/12)+(cS?2:0);tab.CanvasRenderer.renderCircle(L,0+cM,0+cN,cT,cL,1)}if(cR!==0){L.restore()}}}},renderShapeIDFilledCirclePressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=cH.c.get('draw_border').gv(cK);var cT=cH.c.get('size').gv(cK)*(1+-0.25/12)+1+(cS?2:0);tab.CanvasRenderer.renderCircle(L,0+cM,0+cN,cT,cL,2)}if(cR!==0){L.restore()}}}},renderShapeIDUnscaledFilledCircleHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=cH.c.get('draw_border').gv(cK);var cT=cH.c.get('size').gv(cK)+(cS?2:0);tab.CanvasRenderer.renderCircle(L,0+cM,0+cN,cT,cL,1)}if(cR!==0){L.restore()}}}},renderShapeIDUnscaledFilledCirclePressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=cH.c.get('draw_border').gv(cK);var cT=cH.c.get('size').gv(cK)+1+(cS?2:0);tab.CanvasRenderer.renderCircle(L,0+cM,0+cN,cT,cL,2)}if(cR!==0){L.restore()}}}},renderShapeIDSquareHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);tab.CanvasRenderer.renderRectangle(L,cM+0,cN+0,cH.c.get('size').gv(cK)*(1+-1.25/12)+3,cH.c.get('size').gv(cK)*(1+-1.25/12)+3,cL,1);if(cR!==0){L.restore()}}}},renderShapeIDSquarePressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);tab.CanvasRenderer.renderRectangle(L,cM+0,cN+0,cH.c.get('size').gv(cK)*(1+-1.25/12)+4,cH.c.get('size').gv(cK)*(1+-1.25/12)+4,cL,2);if(cR!==0){L.restore()}}}},renderShapeIDFilledSquareHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);tab.CanvasRenderer.renderRectangle(L,cM+0,cN+0,cH.c.get('size').gv(cK)*(1+-0.75/12)+1,cH.c.get('size').gv(cK)*(1+-0.75/12)+1,cL,1);if(cR!==0){L.restore()}}}},renderShapeIDFilledSquarePressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);tab.CanvasRenderer.renderRectangle(L,cM+0,cN+0,cH.c.get('size').gv(cK)*(1+-0.75/12)+2,cH.c.get('size').gv(cK)*(1+-0.75/12)+2,cL,2);if(cR!==0){L.restore()}}}},renderShapeIDAsteriskHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(36);var cT=(cH.c.get('size').gv(cK)*(1+-0.5/12)+2)/2;var cU=0.899999976158142*cT;var cV=(cH.c.get('size').gv(cK)*(1+-0.5/12)+6)/4;var cW=2.5;var cX=1.5;cS[0]=-cW+cM;cS[1]=0+cN;cS[2]=-cU+cM;cS[3]=cV-cW+cN;cS[4]=cX-cU+cM;cS[5]=cV+cN;cS[6]=-cX+cM;cS[7]=cW+cN;cS[8]=-cX+cM;cS[9]=cT+cN;cS[10]=cX+cM;cS[11]=cT+cN;cS[12]=cX+cM;cS[13]=cW+cN;cS[14]=cU-cX+cM;cS[15]=cV+cN;cS[16]=cU+cM;cS[17]=cV-cW+cN;cS[18]=cW+cM;cS[19]=0+cN;cS[20]=cU+cM;cS[21]=cW-cV+cN;cS[22]=cU-cX+cM;cS[23]=-cV+cN;cS[24]=cX+cM;cS[25]=-cW+cN;cS[26]=cX+cM;cS[27]=-cT+cN;cS[28]=-cX+cM;cS[29]=-cT+cN;cS[30]=-cX+cM;cS[31]=-cW+cN;cS[32]=cX-cU+cM;cS[33]=-cV+cN;cS[34]=-cU+cM;cS[35]=cW-cV+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDAsteriskPressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(36);var cT=(cH.c.get('size').gv(cK)*(1+-0.5/12)+4)/2;var cU=0.899999976158142*cT;var cV=(cH.c.get('size').gv(cK)*(1+-0.5/12)+8)/4;var cW=3;var cX=2;cS[0]=-cW+cM;cS[1]=0+cN;cS[2]=-cU+cM;cS[3]=cV-cW+cN;cS[4]=cX-cU+cM;cS[5]=cV+cN;cS[6]=-cX+cM;cS[7]=cW+cN;cS[8]=-cX+cM;cS[9]=cT+cN;cS[10]=cX+cM;cS[11]=cT+cN;cS[12]=cX+cM;cS[13]=cW+cN;cS[14]=cU-cX+cM;cS[15]=cV+cN;cS[16]=cU+cM;cS[17]=cV-cW+cN;cS[18]=cW+cM;cS[19]=0+cN;cS[20]=cU+cM;cS[21]=cW-cV+cN;cS[22]=cU-cX+cM;cS[23]=-cV+cN;cS[24]=cX+cM;cS[25]=-cW+cN;cS[26]=cX+cM;cS[27]=-cT+cN;cS[28]=-cX+cM;cS[29]=-cT+cN;cS[30]=-cX+cM;cS[31]=-cW+cN;cS[32]=cX-cU+cM;cS[33]=-cV+cN;cS[34]=-cU+cM;cS[35]=cW-cV+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDPlusHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(24);var cT=(cH.c.get('size').gv(cK)*(1+-1/12)+2)/2;var cU=1.5;cS[0]=-cU+cM;cS[1]=-cT+cN;cS[2]=-cU+cM;cS[3]=-cU+cN;cS[4]=-cT+cM;cS[5]=-cU+cN;cS[6]=-cT+cM;cS[7]=cU+cN;cS[8]=-cU+cM;cS[9]=cU+cN;cS[10]=-cU+cM;cS[11]=cT+cN;cS[12]=cU+cM;cS[13]=cT+cN;cS[14]=cU+cM;cS[15]=cU+cN;cS[16]=cT+cM;cS[17]=cU+cN;cS[18]=cT+cM;cS[19]=-cU+cN;cS[20]=cU+cM;cS[21]=-cU+cN;cS[22]=cU+cM;cS[23]=-cT+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDPlusPressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(24);var cT=(cH.c.get('size').gv(cK)*(1+-1/12)+3)/2;var cU=2;cS[0]=-cU+cM;cS[1]=-cT+cN;cS[2]=-cU+cM;cS[3]=-cU+cN;cS[4]=-cT+cM;cS[5]=-cU+cN;cS[6]=-cT+cM;cS[7]=cU+cN;cS[8]=-cU+cM;cS[9]=cU+cN;cS[10]=-cU+cM;cS[11]=cT+cN;cS[12]=cU+cM;cS[13]=cT+cN;cS[14]=cU+cM;cS[15]=cU+cN;cS[16]=cT+cM;cS[17]=cU+cN;cS[18]=cT+cM;cS[19]=-cU+cN;cS[20]=cU+cM;cS[21]=-cU+cN;cS[22]=cU+cM;cS[23]=-cT+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledPlusHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(24);var cT=cH.c.get('size').gv(cK)*(1+-0.75/12)/2;var cU=cT/3;cS[0]=-cU+cM;cS[1]=-cT+cN;cS[2]=-cU+cM;cS[3]=-cU+cN;cS[4]=-cT+cM;cS[5]=-cU+cN;cS[6]=-cT+cM;cS[7]=cU+cN;cS[8]=-cU+cM;cS[9]=cU+cN;cS[10]=-cU+cM;cS[11]=cT+cN;cS[12]=cU+cM;cS[13]=cT+cN;cS[14]=cU+cM;cS[15]=cU+cN;cS[16]=cT+cM;cS[17]=cU+cN;cS[18]=cT+cM;cS[19]=-cU+cN;cS[20]=cU+cM;cS[21]=-cU+cN;cS[22]=cU+cM;cS[23]=-cT+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledPlusPressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(24);var cT=(cH.c.get('size').gv(cK)*(1+-0.75/12)+1)/2;var cU=(cH.c.get('size').gv(cK)*(1+-0.75/12)+3)/6;cS[0]=-cU+cM;cS[1]=-cT+cN;cS[2]=-cU+cM;cS[3]=-cU+cN;cS[4]=-cT+cM;cS[5]=-cU+cN;cS[6]=-cT+cM;cS[7]=cU+cN;cS[8]=-cU+cM;cS[9]=cU+cN;cS[10]=-cU+cM;cS[11]=cT+cN;cS[12]=cU+cM;cS[13]=cT+cN;cS[14]=cU+cM;cS[15]=cU+cN;cS[16]=cT+cM;cS[17]=cU+cN;cS[18]=cT+cM;cS[19]=-cU+cN;cS[20]=cU+cM;cS[21]=-cU+cN;cS[22]=cU+cM;cS[23]=-cT+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDTimesHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(24);var cT=(cH.c.get('size').gv(cK)*(1+-1.5/12)+4)/2;var cU=2;cS[0]=-cT+cU+cM;cS[1]=-cT+cN;cS[2]=-cT+cM;cS[3]=-cT+cU+cN;cS[4]=-cU+cM;cS[5]=0+cN;cS[6]=-cT+cM;cS[7]=cT-cU+cN;cS[8]=-cT+cU+cM;cS[9]=cT+cN;cS[10]=0+cM;cS[11]=cU+cN;cS[12]=cT-cU+cM;cS[13]=cT+cN;cS[14]=cT+cM;cS[15]=cT-cU+cN;cS[16]=cU+cM;cS[17]=0+cN;cS[18]=cT+cM;cS[19]=-cT+cU+cN;cS[20]=cT-cU+cM;cS[21]=-cT+cN;cS[22]=0+cM;cS[23]=-cU+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDTimesPressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(24);var cT=(cH.c.get('size').gv(cK)*(1+-1.5/12)+4)/2;var cU=3;cS[0]=-cT+cU+cM;cS[1]=-cT+cN;cS[2]=-cT+cM;cS[3]=-cT+cU+cN;cS[4]=-cU+cM;cS[5]=0+cN;cS[6]=-cT+cM;cS[7]=cT-cU+cN;cS[8]=-cT+cU+cM;cS[9]=cT+cN;cS[10]=0+cM;cS[11]=cU+cN;cS[12]=cT-cU+cM;cS[13]=cT+cN;cS[14]=cT+cM;cS[15]=cT-cU+cN;cS[16]=cU+cM;cS[17]=0+cN;cS[18]=cT+cM;cS[19]=-cT+cU+cN;cS[20]=cT-cU+cM;cS[21]=-cT+cN;cS[22]=0+cM;cS[23]=-cU+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledTimesHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(24);var cT=cH.c.get('size').gv(cK)*(1+-0.75/12)/2;var cU=cH.c.get('size').gv(cK)*(1+-0.75/12)/4;cS[0]=-cU+cM;cS[1]=-cT+cN;cS[2]=-cT+cM;cS[3]=-cU+cN;cS[4]=-cU+cM;cS[5]=0+cN;cS[6]=-cT+cM;cS[7]=cU+cN;cS[8]=-cU+cM;cS[9]=cT+cN;cS[10]=0+cM;cS[11]=cU+cN;cS[12]=cU+cM;cS[13]=cT+cN;cS[14]=cT+cM;cS[15]=cU+cN;cS[16]=cU+cM;cS[17]=0+cN;cS[18]=cT+cM;cS[19]=-cU+cN;cS[20]=cU+cM;cS[21]=-cT+cN;cS[22]=0+cM;cS[23]=-cU+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledTimesPressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(24);var cT=cH.c.get('size').gv(cK)*(1+-0.75/12)/2;var cU=cH.c.get('size').gv(cK)*(1+-0.75/12)/4;cS[0]=-cU+cM;cS[1]=-cT+cN;cS[2]=-cT+cM;cS[3]=-cU+cN;cS[4]=-cU+cM;cS[5]=0+cN;cS[6]=-cT+cM;cS[7]=cU+cN;cS[8]=-cU+cM;cS[9]=cT+cN;cS[10]=0+cM;cS[11]=cU+cN;cS[12]=cU+cM;cS[13]=cT+cN;cS[14]=cT+cM;cS[15]=cU+cN;cS[16]=cU+cM;cS[17]=0+cN;cS[18]=cT+cM;cS[19]=-cU+cN;cS[20]=cU+cM;cS[21]=-cT+cN;cS[22]=0+cM;cS[23]=-cU+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDDiamondHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(8);var cT=(cH.c.get('size').gv(cK)*(1+0.5/12)+3)/2;cS[0]=0+cM;cS[1]=-cT+cN;cS[2]=-cT+cM;cS[3]=0+cN;cS[4]=0+cM;cS[5]=cT+cN;cS[6]=cT+cM;cS[7]=0+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDDiamondPressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(8);var cT=(cH.c.get('size').gv(cK)*(1+0.5/12)+4)/2;cS[0]=0+cM;cS[1]=-cT+cN;cS[2]=-cT+cM;cS[3]=0+cN;cS[4]=0+cM;cS[5]=cT+cN;cS[6]=cT+cM;cS[7]=0+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledDiamondHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(8);var cT=cH.c.get('size').gv(cK)*(1+0.5/12)/2;cS[0]=0+cM;cS[1]=-cT+cN;cS[2]=-cT+cM;cS[3]=0+cN;cS[4]=0+cM;cS[5]=cT+cN;cS[6]=cT+cM;cS[7]=0+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledDiamondPressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(8);var cT=(cH.c.get('size').gv(cK)*(1+0.5/12)+2)/2;cS[0]=0+cM;cS[1]=-cT+cN;cS[2]=-cT+cM;cS[3]=0+cN;cS[4]=0+cM;cS[5]=cT+cN;cS[6]=cT+cM;cS[7]=0+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDTriangleHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=(cH.c.get('size').gv(cK)*(1+-1.25/12)+3)/2;var cU=(cH.c.get('size').gv(cK)*(1+-1.25/12)+6)/2;cS[0]=0+cM;cS[1]=-cU+cN;cS[2]=-cT+cM;cS[3]=cT+cN;cS[4]=cT+cM;cS[5]=cT+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDTrianglePressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=(cH.c.get('size').gv(cK)*(1+-1.25/12)+4)/2;var cU=(cH.c.get('size').gv(cK)*(1+-1.25/12)+8)/2;cS[0]=0+cM;cS[1]=-cU+cN;cS[2]=-cT+cM;cS[3]=cT+cN;cS[4]=cT+cM;cS[5]=cT+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledTriangleHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=cH.c.get('size').gv(cK)*(1+-1/12)/2;cS[0]=0+cM;cS[1]=-cT+cN;cS[2]=-cT+cM;cS[3]=cT+cN;cS[4]=cT+cM;cS[5]=cT+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledTrianglePressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=(cH.c.get('size').gv(cK)*(1+-1/12)+1)/2;cS[0]=0+cM;cS[1]=-cT+cN;cS[2]=-cT+cM;cS[3]=cT+cN;cS[4]=cT+cM;cS[5]=cT+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDDownTriangleHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=(cH.c.get('size').gv(cK)*(1+-1.25/12)+2.5)/2;var cU=(cH.c.get('size').gv(cK)*(1+-1.25/12)+6)/2;cS[0]=0+cM;cS[1]=cU+cN;cS[2]=-cT+cM;cS[3]=-cT+cN;cS[4]=cT+cM;cS[5]=-cT+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDDownTrianglePressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=(cH.c.get('size').gv(cK)*(1+-1.25/12)+4)/2;var cU=(cH.c.get('size').gv(cK)*(1+-1.25/12)+8)/2;cS[0]=0+cM;cS[1]=cU+cN;cS[2]=-cT+cM;cS[3]=-cT+cN;cS[4]=cT+cM;cS[5]=-cT+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledDownTriangleHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=cH.c.get('size').gv(cK)*(1+-1/12)/2;cS[0]=0+cM;cS[1]=cT+cN;cS[2]=-cT+cM;cS[3]=-cT+cN;cS[4]=cT+cM;cS[5]=-cT+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledDownTrianglePressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=(cH.c.get('size').gv(cK)*(1+-1/12)+1)/2;cS[0]=0+cM;cS[1]=cT+cN;cS[2]=-cT+cM;cS[3]=-cT+cN;cS[4]=cT+cM;cS[5]=-cT+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDLeftTriangleHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=(cH.c.get('size').gv(cK)*(1+-1.25/12)+3)/2;var cU=(cH.c.get('size').gv(cK)*(1+-1.25/12)+6)/2;cS[0]=-cU+cM;cS[1]=0+cN;cS[2]=cT+cM;cS[3]=-cT+cN;cS[4]=cT+cM;cS[5]=cT+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDLeftTrianglePressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=(cH.c.get('size').gv(cK)*(1+-1.25/12)+4)/2;var cU=(cH.c.get('size').gv(cK)*(1+-1.25/12)+8)/2;cS[0]=-cU+cM;cS[1]=0+cN;cS[2]=cT+cM;cS[3]=-cT+cN;cS[4]=cT+cM;cS[5]=cT+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledLeftTriangleHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=cH.c.get('size').gv(cK)*(1+-1/12)/2;cS[0]=-cT+cM;cS[1]=0+cN;cS[2]=cT+cM;cS[3]=-cT+cN;cS[4]=cT+cM;cS[5]=cT+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledLeftTrianglePressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=(cH.c.get('size').gv(cK)*(1+-1/12)+1)/2;cS[0]=-cT+cM;cS[1]=0+cN;cS[2]=cT+cM;cS[3]=-cT+cN;cS[4]=cT+cM;cS[5]=cT+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDRightTriangleHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=(cH.c.get('size').gv(cK)*(1+-1.25/12)+3)/2;var cU=(cH.c.get('size').gv(cK)*(1+-1.25/12)+6)/2;cS[0]=-cT+cM;cS[1]=-cT+cN;cS[2]=-cT+cM;cS[3]=cT+cN;cS[4]=cU+cM;cS[5]=0+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDRightTrianglePressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=(cH.c.get('size').gv(cK)*(1+-1.25/12)+4)/2;var cU=(cH.c.get('size').gv(cK)*(1+-1.25/12)+8)/2;cS[0]=-cT+cM;cS[1]=-cT+cN;cS[2]=-cT+cM;cS[3]=cT+cN;cS[4]=cU+cM;cS[5]=0+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledRightTriangleHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=cH.c.get('size').gv(cK)*(1+-1/12)/2;cS[0]=-cT+cM;cS[1]=-cT+cN;cS[2]=-cT+cM;cS[3]=cT+cN;cS[4]=cT+cM;cS[5]=0+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledRightTrianglePressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(6);var cT=(cH.c.get('size').gv(cK)*(1+-1/12)+1)/2;cS[0]=-cT+cM;cS[1]=-cT+cN;cS[2]=-cT+cM;cS[3]=cT+cN;cS[4]=cT+cM;cS[5]=0+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledStarHoverOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(20);var cT=cH.c.get('size').gv(cK)*(1+1.1/12)+2;var cU=cT*0.3877;var cV=cT/2;cS[0]=0+cM;cS[1]=-cV+cT*0.0246+cN;cS[2]=-cV+cT*0.3817+cM;cS[3]=-cV+cU+cN;cS[4]=-cV+cM;cS[5]=-cV+cU+cN;cS[6]=-cV+cT*0.3088+cM;cS[7]=-cV+cT*0.612+cN;cS[8]=-cV+cT*0.1909+cM;cS[9]=-cV+cT*0.9751+cN;cS[10]=0+cM;cS[11]=-cV+cT*0.7507+cN;cS[12]=-cV+cT*0.8085+cM;cS[13]=-cV+cT*0.9751+cN;cS[14]=-cV+cT*0.6905+cM;cS[15]=-cV+cT*0.612+cN;cS[16]=cV+cM;cS[17]=-cV+cU+cN;cS[18]=-cV+cT*0.6176+cM;cS[19]=-cV+cU+cN;L.set_lineWidth(1);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},renderShapeIDFilledStarPressedOverlayImage:function(L,cH,cI,cJ,cK){var cL=cH.c.get('selected_halo_color').gv(cK)['colorOverrideNone'];var cM=cI;var cN=cJ;{var cO=cH.getMarkInstanceOffsets(cK);var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];bz.$d(L,cR);{var cS=new Array(20);var cT=cH.c.get('size').gv(cK)*(1+1.1/12)+4;var cU=cT*0.3877;var cV=cT/2;cS[0]=0+cM;cS[1]=-cV+cT*0.0246+cN;cS[2]=-cV+cT*0.3817+cM;cS[3]=-cV+cU+cN;cS[4]=-cV+cM;cS[5]=-cV+cU+cN;cS[6]=-cV+cT*0.3088+cM;cS[7]=-cV+cT*0.612+cN;cS[8]=-cV+cT*0.1909+cM;cS[9]=-cV+cT*0.9751+cN;cS[10]=0+cM;cS[11]=-cV+cT*0.7507+cN;cS[12]=-cV+cT*0.8085+cM;cS[13]=-cV+cT*0.9751+cN;cS[14]=-cV+cT*0.6905+cM;cS[15]=-cV+cT*0.612+cN;cS[16]=cV+cM;cS[17]=-cV+cU+cN;cS[18]=-cV+cT*0.6176+cM;cS[19]=-cV+cU+cN;L.set_lineWidth(2);L.set_strokeStyle(cL);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cS,true,true)}if(cR!==0){L.restore()}}}},$f:function(){return(BrowserSupport.BrowserSupport.IsChrome()?0.400000005960464:0)},$d:function(L,cH){if(!tab.DoubleUtil.isApproximatelyEqual(cH,0)){L.save();L.translate(cH,0)}},$3:function(L,cH,cI,cJ,cK,cL){var cM=Math.min(cI,cK);var cN=Math.max(cI,cK);var cO=Math.min(cJ,cL);var cP=Math.max(cJ,cL);var cQ=bz.roundStartAndExtent(cM,cN-cM,L.minBarHeight);var cR=bz.roundStartAndExtent(cO,cP-cO,L.minBarWidth);tab.RectXYUtil.unionInPlace$1(cH,cR.item1,cQ.item1,Math.floor(cR.item2),Math.floor(cQ.item2))},$4:function(L,cH,cI,cJ,cK,cL,cM,cN,cO,cP){var cQ=cH.c.get('draw_border').gv(cI);var cR=(cQ?1:0);var cS=((cH.markType==='text')?0:1);var cT=Math.min(cJ,cK);var cU=Math.min(cL,cM);var cV=Math.abs(cK-cJ);var cW=Math.abs(cM-cL);var cX=bz.roundStartAndExtent(cU,cW,cH.minBarHeight);var cY=bz.roundStartAndExtent(cT,cV,cH.minBarWidth);cT=cY.item1-cS;cU=cX.item1-cS;cV=cY.item2+cP+cR+cS-1;cW=cX.item2+cP+cR+cS-1;if(cO){cV=cW=Math.min(cV,cW)}if(!cH.isWrappedDomain){var cZ=cH.getUserPaneRectByMark(cI);if(!tab.RectXYUtil.intersectsWith$1(cZ,Math.floor(cT),Math.floor(cU),Math.floor(cV),Math.floor(cW))){return}if(cZ.x>=cT){var da=cZ.x+cP-1;cV-=da-cT;cT=da}if(cZ.x+cZ.w<=cT+cV){cV=cZ.x+cZ.w-cT-1}if(cZ.y>=cU){var db=cZ.y+cP-1;cW-=db-cU;cU=db}if(cZ.y+cZ.h<=cU+cW){cW=cZ.y+cZ.h-cU-1}}L.set_lineJoin('miter');bz.$a(L,cT,cU,cV,cW,cN['colorOverrideNone'],cP,cH.minBarWidth,cH.minBarHeight,false)},bBoxGeometry:function(L,cH,cI,cJ){var cK={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY};switch(cJ.geometryType){case'multiPolygon':{tab.CanvasRenderer.boundsMultipolygon(cJ.multiPolygon,cK);break}case'multiLineString':{tab.CanvasRenderer.boundsMultilineString(cJ.multiLine,cK);break}case'multiPoint':{tab.CanvasRenderer.boundsCoordinateArray(cJ.multiPoint.pointsF,cK);break}default:{return}}var cL=cH.transformBounds(cK);tab.DoubleRectXYUtil.outsetRectInPlace(cL,cI,cI);tab.RectXYUtil.unionInPlace(L,tab.DoubleRectXYUtil.toEncompassingRectXY(cL))},$7:function(L,cH,cI,cJ){switch(cI){case'highlightedUnder':case'normalUnder':{return L.c.get('halo_color').gv(cH)[cJ]}case'selectedOn':case'highlightedOn':case'normalOn':{return L.getMarkColors(cH)[cJ]}case'border':{return L.getBorderColors(cH)[cJ]}case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{return L.c.get('selected_halo_color').gv(cH)[cJ]}}return bz.$h},$0:function(L,cH,cI,cJ,cK){var cL=100000;switch(L){case 0:{return{x:ss.trunc(cH),y:ss.trunc(cI),w:ss.trunc(cJ),h:ss.trunc(cK)}}case 1:{cI=-cL;cK=2*cL;break}case 2:{cH=-cL;cJ=2*cL;break}}var cM=bz.roundStartAndExtent(cI,cK,0);var cN=bz.roundStartAndExtent(cH,cJ,0);return{x:ss.trunc(cN.item1),y:ss.trunc(cM.item1),w:ss.trunc(cN.item2),h:ss.trunc(cM.item2)}},$6:function(L,cH,cI,cJ,cK,cL){var cM=Math.atan2(cK-cH,cJ-L);var cN=Math.cos(cM);var cO=Math.sin(cM);cI/=2;cL/=2;var cP=cI*cO;var cQ=cL*cO;var cR=cI*cN;var cS=cL*cN;var cT=new Array(8);cT[0]=L+cP;cT[1]=cH-cR;cT[2]=cJ+cQ;cT[3]=cK-cS;cT[4]=cJ-cQ;cT[5]=cK+cS;cT[6]=L-cP;cT[7]=cH+cR;return cT},$9:function(L,cH,cI,cJ,cK,cL,cM,cN){var cO=bz.$6(cI,cJ,cK,cL,cM,cN);return G.isPointInPoly(cO,{x:L,y:cH},null)},$1:function(L,cH,cI,cJ,cK,cL,cM){var cN=bz.$6(cH,cI,cJ,cK,cL,cM);var cO=cN[0];var cP=cO;var cQ=cN[1];var cR=cQ;var cS=cN.length;for(var cT=0;cT<cS;cT=cT+2){cO=Math.min(cO,cN[cT]);cP=Math.max(cP,cN[cT]);cQ=Math.min(cQ,cN[cT+1]);cR=Math.max(cR,cN[cT+1])}tab.RectXYUtil.unionInPlace(L,{x:cO<<0,y:cQ<<0,w:(cP-cO<<0)+1,h:(cR-cQ<<0)+1})},$2:function(L,cH,cI,cJ,cK){if(cJ>cK){var cL=cJ;cJ=cK;cK=cL}if(cK-cJ>=1){var cM=Math.ceil(2*cI);return{x:Math.floor(L-cI),y:Math.floor(cH-cI),w:cM,h:cM}}var cN=tab.CanvasRenderer.toCanvasAngle(cJ);var cO=tab.CanvasRenderer.toCanvasAngle(cK);var cP=[];cP.push({x:L,y:cH});cP.push({x:L+cI*Math.cos(cN),y:cH+cI*Math.sin(cN)});cP.push({x:L+cI*Math.cos(cO),y:cH+cI*Math.sin(cO)});var cQ=cP;cN=G.normalizeAngle(cN);cO=G.normalizeAngle(cO);if(G.isInBetweenAngles(0,cN,cO)){cQ.push({x:L+cI,y:cH})}if(G.isInBetweenAngles(tab.CanvasRenderer.halfPI,cN,cO)){cQ.push({x:L,y:cH+cI})}if(G.isInBetweenAngles(tab.CanvasRenderer.onePI,cN,cO)){cQ.push({x:L-cI,y:cH})}if(G.isInBetweenAngles(tab.CanvasRenderer.oneAndHalfPI,cN,cO)){cQ.push({x:L,y:cH-cI})}var cR=Number.POSITIVE_INFINITY;var cS=Number.POSITIVE_INFINITY;var cT=Number.NEGATIVE_INFINITY;var cU=Number.NEGATIVE_INFINITY;for(var cV=0;cV<cQ.length;cV++){var cW=cQ[cV];cR=Math.min(cR,cW.x);cS=Math.min(cS,cW.y);cT=Math.max(cT,cW.x);cU=Math.max(cU,cW.y)}return tab.RectXYUtil.rectXYFromMinAndMax(cR,cS,cT,cU)},roundStartAndExtent:function(L,cH,cI){var cJ=Math.round(L+cH);L=Math.round(L);cH=Math.max(Math.abs(cJ-L),cI);return{item1:L,item2:cH}},$8:function(L,cH,cI,cJ,cK,cL,cM,cN,cO,cP){if(cI<0){L+=cI;cI=Math.abs(cI)}if(cJ<0){cH+=cJ;cJ=Math.abs(cJ)}var cQ=bz.roundStartAndExtent(L-cK,cI+cK+cK,cM+cK+cK);var cR=bz.roundStartAndExtent(cH-cL,cJ+cL+cL,cN+cL+cL);var cS={x:ss.trunc(cR.item1),y:ss.trunc(cQ.item1),w:ss.trunc(cR.item2),h:ss.trunc(cQ.item2)};if(tab.RectXYUtil.inRectPointF(cS,{x:cO,y:cP})){return true}return false},$b:function(L,cH,cI,cJ,cK){var cL=cH.c.get('shape_id').gv(cI);if(ss.isValue(cL)){var cM=tab.ApplicationModel.get_instance().get_shapeManager();var cN=cM.getImageElement(cL);if(!ss.isValue(cN)){tab.CanvasRenderer.renderCircle(L,cH.c.get('x').gv(cI),cH.c.get('y').gv(cI),cH.c.get('size').gv(cI),bz.$7(cH,cI,cJ,cK),2);return}if(!cN.complete){return}var cO=cH.hasConstantColor;var cP=cH.c.get('size').gv(cI);var cQ=cH.c.get('left').gv(cI);var cR=cH.c.get('top').gv(cI);var cS;var cT;if(cN.naturalWidth>cN.naturalHeight){var cU=cN.naturalWidth/cN.naturalHeight;cS=cP;cT=cP/cU;cR+=Math.round((cP-cT)/2)}else{var cV=cN.naturalHeight/cN.naturalWidth;cS=cP/cV;cT=cP;cQ+=Math.round((cP-cS)/2)}cS=Math.round(cS);cT=Math.round(cT);var cW=bz.$5(cH,cI,cJ,cK);cJ=((cJ==='normalOn'&&cK==='colorOverrideOpaque')?'selectedOn':cJ);var cX=tab.ShapeManager.getCacheKey$1(cL,cJ,cK,cW.toString(),cS,cT);var cY=cM.getCachedCanvas(cX);if(ss.isNullOrUndefined(cY)){var cZ=null;switch(cJ){case'normalUnder':case'highlightedUnder':case'selectedUnder':{cZ=function(){return ci.generateSelectedUnderCustomShape(cN,cW,tab.ShapeManager.selectionBorderSize,cS,cT)};break}case'normalOn':{if(cO){if(cK==='colorOverrideFog'){cZ=function(){return ci.applyFoggingToImage(cN,cH.foggedBackgroundColor,cH.fogBlendFactor,cS,cT)}}}else{cZ=function(){return ci.colorTransformImage(cN,cW,cS,cT)}}break}case'highlightedOn':{if(!cO){cZ=function(){return ci.colorTransformImage(cN,cW,cS,cT)}}break}case'selectedOn':{if(!cO){cZ=function(){cW=tab.ColorModel.fromColorModelPlusAlpha(cW,255);return ci.colorTransformImage(cN,cW,cS,cT)}}break}case'hoverOverlay':{cZ=function(){return ci.generateOverlayForShape(cN,cW,tab.ShapeManager.selectionBorderSize,cS,cT)};break}case'pressedOverlay':{cZ=function(){return ci.generateOverlayForShape(cN,cW,tab.ShapeManager.selectionBorderSize*2,cS,cT)};break}}if(!ss.isValue(cZ)){cZ=function(){return ci.generateCanvasAndPrescaleAsNeeded(cN,cS,cT)}}cY=cM.generateCachedCanvas(cX,cZ)}if(ss.isValue(cY)){switch(cJ){case'normalUnder':case'highlightedUnder':case'selectedUnder':case'hoverOverlay':{L.drawImage3(cY,cQ-tab.ShapeManager.selectionBorderSize,cR-tab.ShapeManager.selectionBorderSize,cY.width,cY.height);break}case'pressedOverlay':{L.drawImage3(cY,cQ-tab.ShapeManager.selectionBorderSize*2,cR-tab.ShapeManager.selectionBorderSize*2,cY.width,cY.height);break}case'normalOn':{L.set_alpha(cW.get_a());L.drawImage3(cY,cQ,cR,cS,cT);break}default:{L.drawImage3(cY,cQ,cR,cS,cT);break}}}else{}}},$5:function(L,cH,cI,cJ){var cK=bz.$7(L,cH,cI,cJ);return tab.ColorModel.fromColorCode(cK)},$a:function(L,cH,cI,cJ,cK,cL,cM,cN,cO,cP){L.set_lineWidth(cM);L.set_strokeStyle(cL);var cQ=((ss.imod(Math.round(cM),2)===0)?0:0.5);var cR=bz.roundStartAndExtent(cI,cK,cO);var cS=bz.roundStartAndExtent(cH,cJ,cN);if(cP){var cT=Math.min(cS.item2,cR.item2);cS={item1:cS.item1,item2:cT};cR={item1:cR.item1,item2:cT}}L.strokeRect(cS.item1+cQ,cR.item1+cQ,cS.item2,cR.item2)},$c:function(L,cH,cI,cJ,cK,cL,cM,cN,cO){L.set_shapeFillStyle(cL);{var cP=bz.roundStartAndExtent(cI,cK,cN);cI=cP.item1;cK=cP.item2;var cQ=bz.roundStartAndExtent(cH,cJ,cM);cH=cQ.item1;cJ=cQ.item2}if(cO){cJ=cK=Math.min(cJ,cK)}L.fillRect(cH,cI,cJ,cK)}});var bA=global.tab.NodeType=ss.mkEnum(a,'tab.NodeType',{root:0,pane:1,bin:2,mark:3,lineSegmentUnionRect:4,trendLineSegment:5,userPane:6,annotation:7,refLine:8,refLineLabel:9});var bB=global.tab.OpenMapLayersPaneCmd=ss.mkType(a,'tab.OpenMapLayersPaneCmd',function(){ss.makeGenericType(tab.BaseCmd$2,[Object,bC]).call(this)},{get_commandId:function(){return bB.cmdId},invoke:function(){return this.invoke$1(tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'open-map-layers-pane'},this.c))}});var bC=global.tab.OpenMapLayersPaneCmd$Response=ss.mkType(a,'tab.OpenMapLayersPaneCmd$Response',function(L){this.$$c=null;this.$$c=L});var bD=global.tab.OverlayImageRequestUrl=ss.mkType(a,'tab.OverlayImageRequestUrl',function(L,cH){Y.call(this);var cI={};cI['x']=cH.x.toString();cI['y']=cH.y.toString();this.set_imageRequestUrlString(Y.buildImageRequestUrl(L,'overlay',cI))});var bE=global.tab.PaneDrawInfo=ss.mkType(a,'tab.PaneDrawInfo',function(L,cH,cI,cJ,cK,cL,cM,cN){bE.$ctor1.call(this);if(ss.isNullOrUndefined(cI)){throw new ss.ArgumentNullException('pane')}if(ss.isNullOrUndefined(cJ)){throw new ss.ArgumentNullException('paneMarks')}this.skipClipping=false;this.paneDrawInfoKey=cL;this.sceneInfo=cH;this.paneMarks=cJ;this.forceOpaqueColors=false;this.pdMarksKey=L;this.paneColumn=cI.Column;this.paneRow=cI.Row;this.paneLayer=cI.Layer;this.paneRect={x:cI.Rect[0],y:cI.Rect[1],w:cI.Rect[2],h:cI.Rect[3]};this.set_paneIndex(cN);this.domainExtents=null;var cO=ss.isValue(cM.Viewpoint)&&ss.isValue(cM.Viewpoint.PerPaneExtents);if(cO){this.domainExtents=bE.getPaneDomainExtents(cM.Viewpoint.PerPaneExtents,cN)}this.markCount=bE.getNumPaneItems(this.paneMarks);var cP=cM.PDMarks[L];var cQ=cP.MarkLayoutData;var cR=cQ.Parameters;this.markType=tab.EnumConversions.primitiveFromInt(cR.PrimitiveType);this.showLabels=ss.isValue(cP.ShowLabels)&&cP.ShowLabels;this.labelMode=(ss.isValue(cP.LabelMode)?cP.LabelMode:'mlm-default');this.set_paneFlags(cR.pane_flags);this.hasPixelGeometry=this.scaleMarksInX&&this.scaleMarksInY;this.c=bE.$4(cM.PDMarks[L],cJ.get_startIndex(),this.markCount);this.hasConstantColor=!cP.has_per_mark_color_encoding;var cS=tab.ColorModel.white;if(this.c.has('background_color')){var cT=this.c.get('background_color');cS=tab.ColorModel.fromArgbInt(cT.v[(cT.c?0:0)])}this.fogBlendFactor=tab.SceneDataUtil.getFogBlendFactor(cS);this.foggedBackgroundColor=tab.SceneDataUtil.applyFogToBackgroundColor(cS,this.fogBlendFactor);this.transformColumnData(this.c);this.setUserPaneInfo(cH.sceneUserPaneInfo);this.processColors(cK);this.initStaticProperties();this.setDefaultLabelLookupValues();if(this.markType==='line'||this.markType==='area'){this.prepareLeftRight()}var cU=ss.isValue(cQ.TextCompositionInputKeys)&&cQ.TextCompositionInputKeys.is_text_table===true;this.parseTextInfo(cP.TextRunTable,cP.TextStyleTable,false,cU);if(ss.isValue(this.paneRect)&&ss.isValue(this.paneRect.w)&&ss.isValue(this.domainExtents)&&ss.isValue(this.domainExtents.w)&&this.domainExtents.w!==0){this.worldWidth=this.paneRect.w/this.domainExtents.w}this.clipCase=tab.SceneDataUtil.calcCellClip(this.get_paneFlags());this.mapExtents=null;if(cO){this.mapExtents=bE.buildMapExtentsRect(cM.Viewpoint.PerPaneExtents,cN,this.domainExtents,this.paneRect)}this.setupBoundingBoxes();if(this.markType==='shape'){this.setupCustomShapePositions();this.setupShapeMarkStampingMap()}this.buildTupleLookup()},{setDefaultLabelLookupValues:function(){this.c.set('label_index',tab.VisualColumnIterator.create([-1]))},addLabelInfo:function(L,cH,cI){this.$p=bE.$4(L,cH,cI-cH);this.transformColumnData(this.$p);var cJ=this.$p.get('tuple_id');var cK=[];if(ss.isValue(cJ)){var cL=new Array(this.markCount);for(var cM=0;cM<this.markCount;cM++){cL[cM]=-1}for(var cN=0;cN<cJ.length;cN++){var cO=this.tupleToIndexMap.get(cJ.v[(cJ.c?0:cN)]);if(ss.isValue(cO)){cL[cO]=cN;cK.push(cO)}}this.c.set('label_index',tab.VisualColumnIterator.create(cL))}cJ=this.c.get('tuple_id');var cP=new Map;var cQ=new Array(this.markCount);this.$2(cK,ss.mkdel(this,function(cW,cX){if(ss.isValue(cW)){var cY=bE.getMarkBoundingBox('label',cW,this,cX);cP.set(cJ.v[(cJ.c?0:cW)],cY);cQ[cW]=cY}}));var cR=this.$0(cQ);this.markLabelWorldOffsets=cR.$1;this.markLabelInstanceOffsets=cR.$0;var cS;if(this.$p.has('pane_flags')){var cT=this.$p.get('pane_flags');cS=cT.v[(cT.c?0:0)]}else{cS=0}var cU=cS;this.truncateLabelToCell=tab.SceneDataUtil.isPaneFlagSet(cU,'clip-to-cell-x');var cV=ss.isValue(L.MarkLayoutData)&&ss.isValue(L.MarkLayoutData.TextCompositionInputKeys)&&L.MarkLayoutData.TextCompositionInputKeys.is_text_table===true;this.parseTextInfo(L.TextRunTable,L.TextStyleTable,true,cV);this.sceneInfo.$1(this,cP)},get_paneIndex:function(){return this.$1$1},set_paneIndex:function(L){this.$1$1=L},get_hasLabels:function(){return ss.isValue(this.$p)},get_hasSelection:function(){return this.sceneInfo.get_hasSelection()},get_hasBrushing:function(){return this.sceneInfo.get_hasBrushing()},get_allowSelection:function(){return!this.hidden&&!this.inert},get_lineDrawState:function(){if(this.$q===null){this.$q=new bh(this)}return this.$q},get_hasBackground:function(){var L=this.c.has('pane_has_background');if(L){var cH=this.c.get('pane_has_background');L=cH.v[(cH.c?0:0)]===true}return L},get_hasHalos:function(){var L=this.c.has('has_halos');if(L){var cH=this.c.get('has_halos');L=cH.v[(cH.c?0:0)]===true}return L},get_hasHaloHighlightColor:function(){return this.c.has('highlighted_halo_color')&&this.c.get('highlighted_halo_color').isValid},get_borderColor:function(){var L;if(this.c.has('border_color')){var cH=this.c.get('border_color');L=cH.v[(cH.c?0:0)]}else{L=null}return L},get_textStyleColumns:function(){return this.$w},get_mapExtentOrPaneRect:function(){return this.mapExtents||this.paneRect},get_clipLabelToCell:function(){return this.truncateLabelToCell},get_paneDescriptorKey:function(){return this.paneMarks.get_paneKey()},get_hasGlobalTransparency:function(){return this.globalAlpha<1},get_extents:function(){return this.domainExtents},get_paneFlags:function(){return this.$t},set_paneFlags:function(L){this.$t=L;this.$a()},$3:function(){return this.sceneInfo.$c()},getTextRunProperty:function(L,cH){if(ss.isNullOrUndefined(this.$v)||!this.$v.has(L)||ss.isNullOrUndefined(this.$v.get(L))){return null}var cI=this.$v.get(L);return cI.v[(cI.c?0:cH)]},markHasLabel:function(L){return this.c.get('label_index').gv(L)!==-1},getOneColorAlpha:function(L,cH,cI){var cJ=null;this.$n=this.$n||new Map;if(!this.$n.has(L)){cJ=tab.ColorModel.fromArgbInt(L);var cK=tab.SceneDataUtil.createColorCollection(cJ,this.foggedBackgroundColor,this.fogBlendFactor);this.$n.set(L,cK)}var cL=this.$n.get(L);if(cH==='colorOverrideReplaceAlpha'){cJ=cJ||tab.ColorModel.fromArgbInt(L);return tab.ColorModel.fromColorModelPlusAlpha(cJ,cI/255).toRgba()}return cL[cH]},$8:function(L,cH){var cI=this.c.get(cH).gv(L);if(this.$o.has(L)){var cJ={};cJ['colorOverrideFog']=cI['colorOverrideFog'];cJ['colorOverrideNone']=cI['colorOverrideFog'];cJ['colorOverrideOpaque']=cI['colorOverrideFog'];cI=cJ}return cI},getMarkColors:function(L){var cH='color';if(this.forceOpaqueColors&&this.c.get('opaque_color').isValid){cH='opaque_color'}return this.$8(L,cH)},getBorderColors:function(L){return this.$8(L,'border_color')},getMarkGeometry:function(L){return this.sceneInfo.$4(this.pdMarksKey,L)},isMarkPropertyConstant:function(L){return this.c.get(L).c},computeDirtyMarks:function(L){this.$m=new Map;var cH=tab.RectXYUtil.completelyContains(L,this.paneRect);var cI=this.c.get('tuple_id');for(var cJ=0;cJ<this.markCount;cJ++){var cK=cI.v[(cI.c?0:cJ)];if(!this.isTupleVisible(cK)){continue}if(cH){this.$m.set(cJ,true);continue}if(this.markType==='line'||this.markType==='area'){this.$m.set(cJ,true)}else{var cL=this.$9(cK);var cM=this.getMarkInstanceOffsets(cJ);if(tab.RectXYUtil.intersectsWithAny$1(L,cL,cM)){this.$m.set(cJ,true)}}}},clearDirtyMarks:function(){this.$m=null},markNeedsDraw:function(L){return tab.AnimationUtil.isUpdating()||ss.isValue(this.$m)&&this.$m.has(L)},markLabelNeedsDraw:function(L,cH){if(this.getMarkState(L)==='markStateInvisible'){return false}var cI=this.getMarkLabelBounds(L);var cJ=this.getMarkLabelInstanceOffsets(L);return tab.RectXYUtil.intersectsWithAny$1(cH,cI,cJ)},refreshMarkState:function(){this.$r=this.sceneInfo.computeTupleStates(this.c.get('tuple_id'));this.$o=this.sceneInfo.computeFilteredMarks(this.c.get('tuple_id'));this.$s=new Map;for(var L=0;L<this.markCount;L++){if(this.$6(L)){this.$s.set(L,true)}}if(this.$b()){this.$q=new bh(this)}},getMarkState:function(L){if(ss.isValue(this.$r)&&this.$r.length>L){return this.$r[L]}return this.$5(L)},getMarkLabelState:function(L){if(this.$b()){var cH=this.get_lineDrawState().get_lineAttributes();for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];if(cJ.startIndex<=L&&L<=cJ.endIndex){switch(cJ.get_lineState()){case'lineStateHighlighted':{return(this.$c(L)?'markStateHighlighted':this.getMarkState(L))}case'lineStateSelected':{if(this.markType==='pie'&&!this.$c(L)){return this.getMarkState(L)}return'markStateSelected'}case'lineStateNormal':{return'markStateNormal'}}return'markStateNormal'}}}return this.getMarkState(L)},getMarkLabelProperty:function(L,cH){if(this.markType==='text'){return this.c.get(L).gv(cH)}var cI=this.c.get('label_index').gv(cH);if(cI===-1){return null}var cJ=this.$p.get(L);return cJ.v[(cJ.c?0:cI)]},getAllMarkBounds:function(){var L=new Array(this.markCount);var cH=this.c.get('tuple_id');var cI=this.c.get('label_index');for(var cJ=0;cJ<this.markCount;cJ++){var cK=cH.v[(cH.c?0:cJ)];var cL=this.sceneInfo.getMarkBoundingBox(cK);var cM=((cI.v[(cI.c?0:cJ)]===-1)?null:this.sceneInfo.$3(cK));L[cJ]={item1:cL,item2:cM}}return L},getMarkBounds:function(L){var cH=this.c.get('tuple_id');return this.$9(cH.v[(cH.c?0:L)])},getMarkIndexFromTupleId:function(L){return this.tupleToIndexMap.get(L)},containsTuple:function(L){return this.tupleToIndexMap.has(L)},getMarkLabelBounds:function(L){var cH=this.sceneInfo;var cI=this.c.get('tuple_id');return cH.$3(cI.v[(cI.c?0:L)])},getInsetPaneClipRect:function(L,cH){var cI=2*cH;var cJ=this.getUserPaneRectByIndex(L);return{x:cJ.x+cH,y:cJ.y+cH,w:cJ.w-cI,h:cJ.h-cI}},getUserPaneRectByMark:function(L){if(this.hasUserPanes){return this.$l.$4(L)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByIndex:function(L){if(this.hasUserPanes){return this.$l.$3(L)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByTupleId:function(L){if(this.hasUserPanes){return this.$l.$4(this.getMarkIndexFromTupleId(L))}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneMarkCount:function(L){if(!this.hasUserPanes){return this.markCount}else{return this.$l.$1(L)}},getUserPaneMarkRange:function(L){if(!this.hasUserPanes){return{firstMark:0,lastMark:this.markCount-1}}else{return this.$l.$2(L)}},getUserPaneIndexByMark:function(L){if(!this.hasUserPanes){return 0}else{return this.$l.$0(L)}},initStaticProperties:function(){var L=this.c.has('draw_border');if(L){var cH=this.c.get('draw_border');L=cH.v[(cH.c?0:0)]}this.drawBorder=L;var cI=this.c.has('wrap_domain');if(cI){var cJ=this.c.get('wrap_domain');cI=cJ.v[(cJ.c?0:0)]}this.isWrappedDomain=cI;var cK;if(this.c.has('alpha')){var cL=this.c.get('alpha');cK=cL.v[(cL.c?0:0)]}else{cK=1}this.globalAlpha=cK;var cM;if(this.c.has('line_interp')){var cN=this.c.get('line_interp');cM=cN.v[(cN.c?0:0)]}else{cM='lim-linear'}this.lineInterpolation=cM;var cO;if(this.c.has('min_bar_width')){var cP=this.c.get('min_bar_width');cO=cP.v[(cP.c?0:0)]}else{cO=0}this.minBarWidth=cO;var cQ;if(this.c.has('min_bar_height')){var cR=this.c.get('min_bar_height');cQ=cR.v[(cR.c?0:0)]}else{cQ=0}this.minBarHeight=cQ},$k:function(L){if(!this.hasUserPanes){var cH=this.getUserPaneRectByIndex(0);var cI=this.markCount;for(var cJ=0;cJ<cI;++cJ){L(cJ,cH)}}else{this.$l.$5(L)}},$2:function(L,cH){if(!this.hasUserPanes){var cI=this.getUserPaneRectByIndex(0);for(var cJ=0;cJ<L.length;cJ++){var cK=L[cJ];cH(cK,cI)}}else{this.$l.$6(L,cH)}},getMarkInstanceOffsets:function(L){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.markInstanceOffsets)){return bE.$j}return this.markInstanceOffsets[L]},getMarkLabelInstanceOffsets:function(L){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.markLabelInstanceOffsets)){return bE.$j}return this.markLabelInstanceOffsets[L]},getWorldInstanceOffsets:function(L,cH){if(!this.isWrappedDomain){return bE.$j}var cI=Math.min(ss.trunc(this.worldWidth),this.paneRect.w);L-=cI;cH+=cI;var cJ=this.get_mapExtentOrPaneRect();var cK=Math.ceil((cJ.x-cH)/this.worldWidth);var cL=Math.floor((cJ.x+cJ.w-L)/this.worldWidth);var cM=cL-cK+1;var cN=new Array(cM);var cO=cK*this.worldWidth;for(var cP=0;cP<cM;cP++,cO+=this.worldWidth){cN[cP]=cO}return cN},getWorldOffsetBounds:function(L){var cH=[];var cI=this.getWorldInstanceOffsets(L.x,L.x+L.w);var cJ=cI.length;for(var cK=0;cK<cJ;cK++){var cL=cI[cK];if(cL!==0){var cM=tab.RectXYUtil.offsetRectXY(L,ss.trunc(cL)|0,0);cH.push(cM)}else{cH.push(L)}}return cH},isTupleSelected:function(L){return L!==0&&this.sceneInfo.$8(L)},isMarkSelected:function(L){var cH=this.c.get('tuple_id');return this.isTupleSelected(cH.v[(cH.c?0:L)])},isMarkImpliedSelected:function(L){var cH=this.c.get('tuple_id');var cI=cH.v[(cH.c?0:L)];return cI!==0&&this.sceneInfo.$7(cI)},isTupleHighlighted:function(L){return L!==0&&this.sceneInfo.$6(L)},isMarkHighlighted:function(L){var cH=this.c.get('tuple_id');var cI=cH.v[(cH.c?0:L)];return this.isTupleHighlighted(cI)},isTupleVisible:function(L){return L!==0&&this.sceneInfo.$9(L)},isLineSegmentVisible:function(L,cH){return this.getMarkState(L)!=='markStateInvisible'&&this.getMarkState(cH)!=='markStateInvisible'},isLineSegmentFiltered:function(L,cH){return this.$o.has(L)||this.$o.has(cH)},shouldStampThisShapeMark:function(L){if(this.$u){return true}if(ss.isNullOrUndefined(this.shapeMarkStampingDecision)){return false}if(L>=this.markCount){return false}return this.shapeMarkStampingDecision[L]},isMarkEndPrimitive:function(L){var cH=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(cH,'endprimitive')},isMarkDebug:function(L){var cH=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(cH,'debug')},shouldShowMarker:function(L){if(ss.isNullOrUndefined(this.$s)){return this.$6(L)}return this.$s.has(L)},$1:function(L,cH,cI){var cJ=null;if(cH>=0&&!this.hasConstantColor&&this.markType==='text'){cJ=this.getMarkColors(cH)}else if(ss.isValue(this.$w)&&this.$w.has('text_style_color')){var cK=this.$w.get('text_style_color');cJ=cK.v[(cK.c?0:L)]}if(ss.isNullOrUndefined(cJ)){return'black'}if(cH!==-1&&this.$o.has(cH)){cI='colorOverrideFog'}return cJ[cI]},thisDomainToPixelX:function(L){return bE.domainToPixelX(L,this.domainExtents,this.paneRect)},thisDomainToPixelY:function(L){return bE.domainToPixelY(L,this.domainExtents,this.paneRect)},thisDomainToPixelWidth:function(L){return bE.domainToPixelWidth(L,this.domainExtents,this.paneRect)},thisDomainToPixelHeight:function(L){return bE.domainToPixelHeight(L,this.domainExtents,this.paneRect)},$b:function(){return this.markType==='line'||this.markType==='area'||this.markType==='pie'},$c:function(L){return this.getMarkLabelProperty('label_one_per_group',L)},$6:function(L){var cH=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(cH,'marked')||tab.SceneDataUtil.isMarkFlagSet(cH,'markediflabel')&&this.markHasLabel(L)&&!this.$c(L)},setUserPaneInfo:function(L){if(ss.isNullOrUndefined(L)){return}if(this.markType==='text'){return}this.$l=new cs(L,this);this.userPaneCount=this.$l.$7;this.hasUserPanes=true},processColors:function(L){var cH=this.$e();if(ss.isNullOrUndefined(L)||!this.c.has('color_idx')){if(cH){this.$4()}return}var cI=tab.VisualColumnHelpers.buildColorTable(L,this.c,this.foggedBackgroundColor,this.fogBlendFactor);var cJ=null;if(cH){cJ=tab.VisualColumnHelpers.buildOpaqueColorTable(cI)}var cK=this.c.get('color_idx');var cL=cK.length;var cM=new Array(cL);var cN=(cH?new Array(cL):null);for(var cO=0;cO<cL;cO++){var cP=cK.v[(cK.c?0:cO)];cM[cO]=cI[cP];if(cH){cN[cO]=cJ[cP]}}this.c.set('color',tab.VisualColumnIterator.create(cM));if(cH){this.c.set('opaque_color',tab.VisualColumnIterator.create(cN))}this.c.delete('color_idx')},$4:function(){var L=this.c.get('color');if(ss.isValue(L)){var cH=new Array(L.length);for(var cI=0;cI<L.length;++cI){cH[cI]=tab.SceneDataUtil.createOpaqueColorCollection(L.v[(L.c?0:cI)])}this.c.set('opaque_color',tab.VisualColumnIterator.create(cH))}},buildTupleLookup:function(){this.tupleToIndexMap.clear();var L=this.c.get('tuple_id');if(!ss.isNullOrUndefined(L)){var cH=L.length;for(var cI=0;cI<cH;cI++){this.tupleToIndexMap.set(L.v[(L.c?0:cI)],cI)}}},$9:function(L){return this.sceneInfo.getMarkBoundingBox(L)},$e:function(){return this.markType==='line'&&this.get_hasGlobalTransparency()},transformColumnData:function(L){var cH=false;if(tab.AnimationUtil.isAnimationOptimizationV1Enabled()){var cI=L.get('alpha');cH=ss.isValue(cI);if(cH){this.$f(cI)}}else{cH=tab.VisualColumnHelpers.transformColumn(L.get('alpha'),function(cY){return cY/255})}for(var cJ=0;cJ<bE.$8.length;cJ++){var cK=bE.$8[cJ];var cL={$:cH&&cK==='text_style_color'};var cM;if(cL.$){var cN=L.get('alpha');cM=cN.v[(cN.c?0:0)]}else{cM=1}var cO={$:cM};tab.VisualColumnHelpers.transformColumn(L.get(cK),ss.mkdel({useAlpha:cL,colorAlpha:cO,$this:this},function(cY){var cZ=tab.ColorModel.fromArgbInt(cY);if(this.useAlpha.$){cZ=new tab.ColorModel(cZ.get_r(),cZ.get_g(),cZ.get_b(),this.colorAlpha.$*cZ.get_a())}return tab.SceneDataUtil.createColorCollection(cZ,this.$this.foggedBackgroundColor,this.$this.fogBlendFactor)}))}tab.VisualColumnHelpers.transformColumn(L.get('shape_id'),function(cY){return tab.SceneDataUtil.shapeMapping[cY]||cY});tab.VisualColumnHelpers.transformColumn(L.get('line_interp'),function(cY){return tab.SceneDataUtil.lineInterpolationMapping[cY]||cY});if(ss.isValue(this.paneRect)&&ss.isValue(this.domainExtents)&&this.domainExtents.w!==0&&this.domainExtents.h!==0){this.$d(L);var cP={x:0,y:0,w:this.paneRect.w,h:this.paneRect.h};if(tab.AnimationUtil.isAnimationOptimizationV1Enabled()){this.$i(L,cP);this.$h(L);this.$j(L,cP);this.$g(L)}else{for(var cQ=0;cQ<bE.$b.length;cQ++){var cR=bE.$b[cQ];tab.VisualColumnHelpers.transformColumn(L.get(cR),ss.mkdel(this,function(cY){return bE.domainToPixelX(cY,this.domainExtents,cP)}))}for(var cS=0;cS<bE.$a.length;cS++){var cT=bE.$a[cS];tab.VisualColumnHelpers.transformColumn(L.get(cT),ss.mkdel(this,function(cY){return bE.domainToPixelWidth(cY,this.domainExtents,this.paneRect)}))}for(var cU=0;cU<bE.$c.length;cU++){var cV=bE.$c[cU];tab.VisualColumnHelpers.transformColumn(L.get(cV),ss.mkdel(this,function(cY){return bE.domainToPixelY(cY,this.domainExtents,cP)}))}for(var cW=0;cW<bE.$9.length;cW++){var cX=bE.$9[cW];tab.VisualColumnHelpers.transformColumn(L.get(cX),ss.mkdel(this,function(cY){return bE.domainToPixelHeight(cY,this.domainExtents,this.paneRect)}))}}}},$f:function(L){if(bE.$3(L)){for(var cH=0;cH<L.length;cH++){L.v[(L.c?0:cH)]=L.v[(L.c?0:cH)]/255}}},$d:function(L){bE.$i.forEach(ss.mkdel(this,function(cH,cI){var cJ;var cK;var cL=cI+'_int';if(ss.contains(bE.$b,cI)){var cM=100*Math.max(1,this.paneRect.w);cJ=this.domainExtents.w/cM;cK=this.domainExtents.x}else if(ss.contains(bE.$c,cI)){var cN=100*Math.max(1,this.paneRect.h);cJ=this.domainExtents.h/cN;cK=this.domainExtents.y}else{cJ=(bE.$i.get(cI).y-bE.$i.get(cI).x)/32767;cK=bE.$i.get(cI).x}var cO=tab.VisualColumnHelpers.transformColumn(L.get(cL),function(cP){return(ss.isValue(cP)?(cP*cJ+cK):null)});if(cO){L.set(cI,L.get(cL));L.delete(cL)}}))},$i:function(L,cH){for(var cI=0;cI<bE.$b.length;cI++){var cJ=bE.$b[cI];var cK=L.get(cJ);if(bE.$3(cK)){for(var cL=0;cL<cK.length;cL++){cK.v[(cK.c?0:cL)]=bE.domainToPixelX(cK.v[(cK.c?0:cL)],this.domainExtents,cH)}}}},$h:function(L){for(var cH=0;cH<bE.$a.length;cH++){var cI=bE.$a[cH];var cJ=L.get(cI);if(bE.$3(cJ)){for(var cK=0;cK<cJ.length;cK++){cJ.v[(cJ.c?0:cK)]=bE.domainToPixelWidth(cJ.v[(cJ.c?0:cK)],this.domainExtents,this.paneRect)}}}},$j:function(L,cH){for(var cI=0;cI<bE.$c.length;cI++){var cJ=bE.$c[cI];var cK=L.get(cJ);if(bE.$3(cK)){for(var cL=0;cL<cK.length;cL++){cK.v[(cK.c?0:cL)]=bE.domainToPixelY(cK.v[(cK.c?0:cL)],this.domainExtents,cH)}}}},$g:function(L){for(var cH=0;cH<bE.$9.length;cH++){var cI=bE.$9[cH];var cJ=L.get(cI);if(bE.$3(cJ)){for(var cK=0;cK<cJ.length;cK++){cJ.v[(cJ.c?0:cK)]=bE.domainToPixelHeight(cJ.v[(cJ.c?0:cK)],this.domainExtents,this.paneRect)}}}},$7:function(L,cH){var cI=new Map;if(!ss.isNullOrUndefined(L.font)){var cJ=L.font;var cK=cJ.length;var cL=new Array(cK);for(var cM=0;cM<cK;++cM){cL[cM]=bE.$1(L,cM)}cI.set('font',tab.VisualColumnIterator.create(cL));var cN=L;var cO=_.keys(cN);for(var cP=0;cP<cO.length;cP++){var cQ=cO[cP];if(!ss.contains(bE.$e,cQ)){var cR=cN[cQ];cI.set(cQ,tab.VisualColumnIterator.create(tab.VisualColumnHelpers.copyArray(cR,0,cR.length)))}}if(cH){var cS=this.c.get('alpha').gv(0);if(ss.isValue(cS)){cI.set('alpha',tab.VisualColumnIterator.create([cS*255]))}}this.transformColumnData(cI);tab.VisualColumnHelpers.transformColumn(cI.get('text_orientation'),function(cT){return bE.textAngleInRad.get(cT)});tab.VisualColumnHelpers.transformColumn(cI.get('text_alignment'),function(cT){var cU='start';var cV=cT;if(cV===2){cU='end'}return cU})}return cI},prepareLeftRight:function(){var L=new Array(this.markCount);var cH=new Array(this.markCount);for(var cI=0;cI<this.markCount;++cI){L[cI]=-1;cH[cI]=-1}var cJ=0;var cK=this.c.get('mark_flags');for(var cL=0;cL<this.markCount;cL++){var cM=cK.v[(cK.c?0:cL)];if(!tab.SceneDataUtil.isMarkFlagSet(cM,'end')){cH[cL]=cL+1;L[cL+1]=cL}if(tab.SceneDataUtil.isMarkFlagSet(cM,'closedprimitive')){cH[cL]=cJ;L[cJ]=cL}if(tab.SceneDataUtil.isMarkFlagSet(cM,'endprimitive')){cJ=cL+1}}this.c.set('l_neighbor',tab.VisualColumnIterator.create(L));this.c.set('r_neighbor',tab.VisualColumnIterator.create(cH))},setupBoundingBoxes:function(){var L=this.c.get('tuple_id');var cH=new Map;var cI=new Array(this.markCount);this.$k(ss.mkdel(this,function(cS,cT){var cU=bE.getMarkBoundingBox(this.markType,cS,this,cT);cH.set(L.v[(L.c?0:cS)],cU);cI[cS]=cU}));if(this.markType==='pie'){var cJ=new bh(this);var cK=cJ.get_lineAttributes();for(var cL=0;cL<cK.length;cL++){var cM=cK[cL];var cN=[];var cO=L.v[(L.c?0:cM.startIndex)];cN.push(cO);var cP=tab.RectXYUtil.clone(cH.get(cO));for(var cQ=cM.startIndex+1;cQ<=cM.endIndex;++cQ){cO=L.v[(L.c?0:cQ)];cN.push(cO);tab.RectXYUtil.unionInPlace(cP,cH.get(cO))}this.sceneInfo.$0(this,cP,cN)}}var cR=this.$0(cI);this.markWorldOffsets=cR.$1;this.markInstanceOffsets=cR.$0;this.sceneInfo.$2(this,cH)},setupCustomShapePositions:function(){if(this.markType==='shape'&&this.sceneInfo.customShapes.length>0){var L=[];var cH=[];var cI=this.c.get('shape_id');var cJ=this.c.get('x');var cK=this.c.get('y');var cL=this.c.get('size');for(var cM=0;cM<this.markCount;++cM){if(tab.SceneDataUtil.isCustomShape(cI.v[(cI.c?0:cM)])){var cN=cL.v[(cL.c?0:cM)]/2;L[cM]=Math.round(cJ.v[(cJ.c?0:cM)]-cN);cH[cM]=Math.round(cK.v[(cK.c?0:cM)]-cN)}}if(L.length>0){this.c.set('left',tab.VisualColumnIterator.create(L));this.c.set('top',tab.VisualColumnIterator.create(cH))}}},setupShapeMarkStampingMap:function(){if(this.markCount<bE.shapeMarkStampingRatio){return}if(BrowserSupport.BrowserSupport.IsIE()){this.shapeMarkStampingDecision=null;if(!this.sceneInfo.get_isSingleUserPane()){return}if(this.clipCase!==0){return}}var L=this.isMarkPropertyConstant('color');var cH=this.isMarkPropertyConstant('size');var cI=this.isMarkPropertyConstant('shape_id');if(cI){var cJ=this.c.get('shape_id').gv(0);if(!tab.SceneDataUtil.isSupportedStampShape(cJ)){return}if(L&&cH){this.$u=true;return}}var cK=this.c.get('size');var cL=this.c.get('shape_id');var cM={};var cN=new Array(this.markCount);for(var cO=0;cO<this.markCount;cO++){cN[cO]=false;var cP=[];if(!cH){cP.push(cK.v[(cK.c?0:cO)])}if(!cI){var cQ=cL.v[(cL.c?0:cO)];if(!tab.SceneDataUtil.isSupportedStampShape(cQ)){continue}cP.push(cQ)}if(!L){var cR=this.getMarkColors(cO);cP.push(cR['colorOverrideNone'])}var cS=cP.toString();if(!ss.keyExists(cM,cS)){cM[cS]=[]}cM[cS].push(cO)}var cT=false;var cU=0;var cV=_.keys(cM);for(var cW=0;cW<cV.length;cW++){var cX=cV[cW];var cY=cM[cX];if(cY.length>=bE.shapeMarkStampingRatio){for(var cZ=0;cZ<cY.length;cZ++){var da=cY[cZ];cN[da]=true;cU++}cT=true}}if(cU===this.markCount){this.$u=true;this.shapeMarkStampingDecision=null}else if(cT){this.shapeMarkStampingDecision=cN}else{this.shapeMarkStampingDecision=null}},parseTextInfo:function(L,cH,cI,cJ){if(!ss.isNullOrUndefined(L)){this.$v=new Map;var cK=L;var cL=new ss.ObjectEnumerator(cK);try{while(cL.moveNext()){var cM=cL.current();var cN=cM.value;this.$v.set(cM.key,tab.VisualColumnIterator.create(cN))}}finally{cL.dispose()}if(!cI&&!cJ){this.$v.set('text_run_x',this.$v.get('text_run_x_remote'));this.$v.set('text_run_y',this.$v.get('text_run_y_remote'))}}if(ss.isValue(cH)){this.$w=this.$7(cH,!cI)}},$0:function(L){var cH=new Map;var cI=null;if(!this.isWrappedDomain){cH.set(0,new Set);return new k(cH,cI)}var cJ=L.length;cI=new Array(cJ);for(var cK=0;cK<cJ;cK++){var cL=L[cK];if(ss.isNullOrUndefined(cL)){continue}cI[cK]=this.getWorldInstanceOffsets(cL.x+this.paneRect.x,cL.x+cL.w+this.paneRect.x);var cM=cI[cK];for(var cN=0;cN<cM.length;cN++){var cO=cM[cN];if(!cH.has(cO)){cH.set(cO,new Set);for(var cP=0;cP<this.markCount;cP++){cH.get(cO).add(cP)}}cH.get(cO).delete(cK)}}var cQ=new k(cH,cI);return cQ},$a:function(){this.scaleMarksInX=tab.SceneDataUtil.isPaneFlagSet(this.$t,'enable-scale-x');this.scaleMarksInY=tab.SceneDataUtil.isPaneFlagSet(this.$t,'enable-scale-y');this.useCellClipForSelection=tab.SceneDataUtil.isPaneFlagSet(this.$t,'clip-to-cell-for-selection');this.paneHasCellsX=tab.SceneDataUtil.isPaneFlagSet(this.$t,'has-cells-x');this.paneHasCellsY=tab.SceneDataUtil.isPaneFlagSet(this.$t,'has-cells-y');this.hidden=tab.SceneDataUtil.isPaneFlagSet(this.$t,'is-hidden');this.inert=tab.SceneDataUtil.isPaneFlagSet(this.$t,'is-inert')},$5:function(L){var cH=this.c.get('tuple_id');var cI=[cH.v[(cH.c?0:L)]];var cJ=this.sceneInfo.computeTupleStates(tab.VisualColumnIterator.create(cI));return cJ[0]}},{$ctor1:function(){this.hasPixelGeometry=false;this.worldWidth=0;this.sceneInfo=null;this.c=new Map;this.$p=null;this.$v=null;this.$w=null;this.domainExtents=null;this.$t=0;this.paneMarks=null;this.pdMarksKey=null;this.tupleToIndexMap=new Map;this.$m=null;this.$r=null;this.markInstanceOffsets=null;this.markLabelInstanceOffsets=null;this.$s=null;this.$o=new Set;this.$u=false;this.shapeMarkStampingDecision=null;this.$n=null;this.$q=null;this.truncateLabelToCell=false;this.markCount=0;this.markType=null;this.showLabels=false;this.labelMode=null;this.fogBlendFactor=0;this.foggedBackgroundColor=null;this.forceOpaqueColors=false;this.drawBorder=false;this.isWrappedDomain=false;this.paneColumn=0;this.paneRow=0;this.paneLayer=0;this.$1$1=0;this.paneRect=null;this.clipCase=0;this.globalAlpha=0;this.paneDrawInfoKey=null;this.userPaneCount=0;this.hasUserPanes=false;this.customShapes=null;this.geometries=null;this.scaleMarksInX=false;this.scaleMarksInY=false;this.useCellClipForSelection=false;this.paneHasCellsX=false;this.paneHasCellsY=false;this.hidden=false;this.inert=false;this.mapExtents=null;this.hasConstantColor=false;this.skipClipping=false;this.markWorldOffsets=null;this.markLabelWorldOffsets=null;this.$l=null;this.minBarHeight=0;this.lineInterpolation=null;this.minBarWidth=0;if(ss.isNullOrUndefined(bE.textAngleInRad)){bE.textAngleInRad=new Map;bE.textAngleInRad.set(1,0);bE.textAngleInRad.set(2,-Math.PI*0.5);bE.textAngleInRad.set(3,Math.PI*0.5)}if(ss.isNullOrUndefined(bE.$i)){bE.$i=new Map;bE.$i.set('theta',{x:0,y:1});bE.$i.set('theta1',{x:0,y:1});bE.$i.set('size',{x:0,y:4096});bE.$i.set('text_run_x',{x:0,y:4096});bE.$i.set('text_run_direction_x',{x:0,y:4096});bE.$i.set('text_run_y',{x:0,y:4096});bE.$i.set('text_run_direction_y',{x:0,y:4096});for(var L=0;L<bE.$b.length;L++){var cH=bE.$b[L];bE.$i.set(cH,{x:0,y:0})}for(var cI=0;cI<bE.$c.length;cI++){var cJ=bE.$c[cI];bE.$i.set(cJ,{x:0,y:0})}}if(ss.isNullOrUndefined(bE.$j)){bE.$j=[];bE.$j.push(0)}this.setDefaultLabelLookupValues()},getNumPaneItems:function(L){return L.get_endIndex()-L.get_startIndex()},getPaneDomainExtents:function(L,cH){return tab.DoubleRectXYUtil.constructDoubleRectXY(L.DomainLeft[cH],L.DomainTop[cH],L.DomainRight[cH],L.DomainBottom[cH])},buildMapExtentsRect:function(L,cH,cI,cJ){if(ss.isNullOrUndefined(L.MapDomainBottom)||ss.isNullOrUndefined(L.MapDomainTop)||ss.isNullOrUndefined(L.MapDomainLeft)||ss.isNullOrUndefined(L.MapDomainRight)||L.MapDomainLeft[cH]===L.MapDomainRight[cH]||L.MapDomainBottom[cH]===L.MapDomainTop[cH]){return null}return{x:ss.trunc(bE.domainToPixelX(L.MapDomainLeft[cH],cI,cJ)),y:ss.trunc(bE.domainToPixelY(L.MapDomainTop[cH],cI,cJ)),w:ss.trunc(bE.domainToPixelWidth(L.MapDomainRight[cH]-L.MapDomainLeft[cH],cI,cJ)),h:ss.trunc(bE.domainToPixelHeight(L.MapDomainBottom[cH]-L.MapDomainTop[cH],cI,cJ))}},$4:function(L,cH,cI){var cJ=new Map;var cK=L;var cL=new ss.ObjectEnumerator(cK);try{while(cL.moveNext()){var cM=cL.current();if(!ss.referenceEquals(cM.value,L.Encodings)&&!ss.referenceEquals(cM.value,L.MarkLayoutData)){var cN=[cM.value];cJ.set(cM.key,tab.VisualColumnIterator.create(cN))}}}finally{cL.dispose()}var cO=L.MarkLayoutData.Parameters;var cP=new ss.ObjectEnumerator(cO);try{while(cP.moveNext()){var cQ=cP.current();var cR=[cQ.value];cJ.set(cQ.key,tab.VisualColumnIterator.create(cR))}}finally{cP.dispose()}var cS=L.Encodings;if(tab.AnimationUtil.isAnimationOptimizationV1Enabled()){var cT=new ss.ObjectEnumerator(cS);try{while(cT.moveNext()){var cU=cT.current();var cV=cU.value;var cW=cU.key;cJ.set(cW,tab.VisualColumnIterator.create(bE.$5(cW,cV,cH,cI)))}}finally{cT.dispose()}}else{var cX=new ss.ObjectEnumerator(cS);try{while(cX.moveNext()){var cY=cX.current();var cZ=cY.value;var da=cY.key;cJ.set(da,tab.VisualColumnIterator.create(Array.prototype.slice.call(cZ,cH,cH+cI)))}}finally{cX.dispose()}}return cJ},$5:function(L,cH,cI,cJ){if(ss.contains(bE.$d,L)){return bE.$6(cH,cI,cJ)}else{return cH.slice(cI,cI+cJ)}},$6:function(L,cH,cI){if(ss.isInstanceOfType(L,ss.getType('Array'))){return L.slice(cH,cH+cI)}else{var cJ=new Array(cI);for(var cK=0;cK<cI;cK++){cJ[cK]=L[cH+cK]}return cJ}},domainToPixelX:function(L,cH,cI){return G.$0(L,cH.x,cI.x,cI.w/cH.w)},domainToPixelY:function(L,cH,cI){return G.$0(L,cH.y,cI.y,cI.h/cH.h)},domainToPixelWidth:function(L,cH,cI){return L/cH.w*cI.w},domainToPixelHeight:function(L,cH,cI){return L/cH.h*cI.h},$0:function(L,cH){var cI=new ss.StringBuilder;if(ss.keyExists(L,'font_style')&&parseInt(L['font_style'].dataValues[cH].toString())===1){cI.append('italic ')}if(ss.keyExists(L,'font_weight')&&parseInt(L['font_weight'].dataValues[cH].toString())===1){cI.append('bold ')}var cJ=parseInt(L['font_size'].dataValues[cH].toString());cJ=Math.max(6,cJ);var cK=L['font'].dataValues[cH];cK=tab.FontUtil.createFallbackCanvasFontName(cK);cI.append(cJ+'pt '+cK);return cI.toString()},$1:function(L,cH){var cI=new ss.StringBuilder;if(!ss.isNullOrUndefined(L.font_style)&&parseInt(L.font_style[cH].toString())===1){cI.append('italic ')}if(!ss.isNullOrUndefined(L.font_weight)&&parseInt(L.font_weight[cH].toString())===1){cI.append('bold ')}var cJ=parseInt(L.font_size[cH].toString());cJ=Math.max(6,cJ);var cK=L.font[cH];cK=tab.FontUtil.createFallbackCanvasFontName(cK);cI.append(cJ+'pt '+cK);return cI.toString()},getTextAngleInRad:function(L){return bE.textAngleInRad.get(L)},$3:function(L){return ss.isValue(L)&&L.isValid},getMarkBoundingBox:function(L,cH,cI,cJ){var cK;switch(L){case'shape':{cK=bz.shapeMarkBuildMarkBound(cI,cH);break}case'bar':case'square':{cK=bz.barMarkBuildMarkBound(cI,cH);break}case'pie':{cK=bz.getPieBoundingBox(cI,cH);break}case'text':{cK=bz.textMarkBuildMarkBound(cI,cH);break}case'label':{cK=bz.getMarkLabelBoundingBox(cI,cH);break}case'line':{cK=bz.lineMarkBuildMarkBound(cI,cH);break}case'area':{cK=bz.areaMarkBuildMarkBound(cI,cH);break}case'multipolygon':{cK=bz.multipolygonMarkBuildMarkBound(cI,cH);break}default:{cK=bE.$2(cI,cH);break}}if(cI.hasUserPanes){tab.RectXYUtil.intersectInPlace(cK,cJ)}return cK},$2:function(L,cH){var cI=L.c.get('x').gv(cH);var cJ=L.c.get('y').gv(cH);var cK=L.c.get('size').gv(cH);var cL=Math.ceil(cK);return{x:Math.floor(cI-cK/2+0.5),y:Math.floor(cJ-cK/2+0.5),w:cL,h:cL}}});var bF=global.tab.PaneTable2DRenderer=ss.mkType(a,'tab.PaneTable2DRenderer',function(L,cH){this.$y=null;this.$z=null;this.$A=null;tab.CanvasRenderer.call(this,L,cH);var cI=(ss.isValue(this.$A)?this.$A.colorModel:bb.defaultColors);this.$y=new x(L,cH,cI);this.$z=new bV(L,cH)},{drawReferenceLineAndTrendLineGroup:function(L,cH,cI,cJ,cK){var cL=false;var cM=null;var cN=null;var cO=null;for(var cP=0;cP<L.length;cP++){var cQ=L[cP];var cR=cQ.type==='draw-fill-rect'||cQ.type==='draw-text';var cS=cH==='hover'||cH==='selected';var cT=true;if(cR&&cS){var cU=tab.ColorModel.fromColorCode(cI.get_shapeFillStyle());if(cU.get_a()<1){if(cH==='hover'){continue}cT=false}}var cV=cQ.type==='draw-pen'||cQ.type==='draw-solid-brush'||cQ.type==='draw-text-props';if(cJ||cV){if((cV||!cT)&&cL){cI.set_strokeStyle(cM.toString());cI.set_shapeFillStyle(cN.toString());cI.set_textFillStyle(cO.toString());cL=false}if((ss.isValue(cK)||cH!=='normal')&&!cL&&!cV&&cT){var cW=cQ.type==='draw-polyline'||cQ.type==='draw-path'||cQ.type==='draw-rect'||cQ.type==='draw-fill-rect';cM=tab.ColorModel.fromColorCode(cI.get_strokeStyle());cN=tab.ColorModel.fromColorCode(cI.get_shapeFillStyle());cO=tab.ColorModel.fromColorCode(cI.get_textFillStyle());var cX=bF.calculateColorForState(cM,cH,cW,cK);var cY=bF.calculateColorForState(cN,cH,cW,cK);var cZ=bF.calculateColorForState(cO,cH,cW,cK);cL=!ss.referenceEquals(cX,cM.toString())||!ss.referenceEquals(cY,cN.toString())||!ss.referenceEquals(cZ,cO.toString());if(cL){cI.set_strokeStyle(cX);cI.set_shapeFillStyle(cY);cI.set_textFillStyle(cZ)}}this.renderVisualParts(cI,cQ)}}if(cL){cI.set_strokeStyle(cM.toString());cI.set_shapeFillStyle(cN.toString());cI.set_textFillStyle(cO.toString())}},renderScene:function(L){if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('paneTableVm','Cant render a null scene')}this.$A=L.get_scene();var cH=this.$A.scene;if(!ss.isValue(cH)){return}this.$y.setRenderOffsetNoTranslate(this.get_renderOffset());var cI=this.get_currentContext().get_numberSavedStates();var cJ=L.get_mapServerModel().get_useFastMaps();if(!cJ){this.$x(L.get_vizRegionMap(),L.get_drawFirstParts())}var cK=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());var cL=3;cK=tab.RectXYUtil.outsetRect(cK,cL,cL);this.$A.prepareForDraw(cK);var cM=(ss.isValue(this.$A.get_runtimeData())?this.$A.get_runtimeData().get_annexedData().Panes:null);this.$o(cM,cJ);this.$A.cleanupFromDraw();this.$x(L.get_vizRegionMap(),L.get_drawLastParts());while(this.get_currentContext().get_numberSavedStates()>cI){this.get_currentContext().restore()}},renderViewportBorders:function(L){if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('paneTableVm','Cant render a null scene')}this.$A=L.get_scene();var cH=this.$A.scene;if(ss.isNullOrUndefined(cH)){return}var cI=null;var cJ=L.get_scene().get_runtimeData();if(cJ===Object(cJ)){cI=this.$b(L.get_scene().get_runtimeData().get_panes())}if(ss.isNullOrUndefined(cI)){return}var cK=[];var cL=this.get_currentCanvas().width-1;var cM=this.get_currentCanvas().height-1;var cN={x:0,y:0};var cO={x:cL,y:0};var cP={x:0,y:cM};var cQ={x:cL,y:cM};var cR=false;var cS=false;for(var cT=0;cT<cI.drawItems.length;cT++){var cU=cI.drawItems[cT];if(cU.type==='clip-rect'||cU.type==='transform'){continue}if(cU.type==='draw-polyline'){var cV=tab.MiscUtil.cloneObject(cU);if(cV.points[1]===cV.points[3]){if(cR){bF.$1(cV.points,cP,cQ)}else{bF.$1(cV.points,cN,cO)}cR=true}else{if(cS){bF.$1(cV.points,cO,cQ)}else{bF.$1(cV.points,cN,cP)}cS=true}cK.push(cV)}else{cK.push(cU)}}this.get_currentContext().save();this.$h(cK,null,'pane-borders');this.get_currentContext().restore()},renderAxisRulers:function(L,cH,cI){var cJ=L.get_vizRegionMap()['axis-rules'];if(ss.isValue(cJ)){var cK=ss.mkdel(this,function(cS,cT){var cU={type:'draw-polyline',points:new Array(4)};bF.$1(cU.points,cS,cT);return cU});var cL=tab.RenderUtil.calculatePixelRatio(true);var cM=this.get_currentCanvas().height-1;var cN=[];var cO=cJ.get_visualListPM().drawItems;for(var cP=0;cP<cO.length;cP++){var cQ=cO[cP];if(cQ.type==='draw-pen'){cN.push(cQ)}else if(cQ.type==='draw-polyline'){var cR=cQ;if(cR.points[0]===cR.points[2]){cN.push(cK({x:0,y:-cI.y},{x:0,y:Math.round(cL*cH.h)-cI.y}))}else if(cR.points[1]===cR.points[3]){cN.push(cK({x:-cI.x,y:cM},{x:Math.round(cL*cH.w)-cI.x,y:cM}))}}}this.get_currentContext().save();this.$h(cN,null,'axis-rules');this.get_currentContext().restore()}},$b:function(L){for(var cH=0;cH<L.length;cH++){var cI=L[cH];for(var cJ=0;cJ<cI.drawPane.length;cJ++){var cK=cI.drawPane[cJ];if(cK.visualPart==='pane-borders'){return cK}}}return null},$x:function(L,cH){if(tab.MiscUtil.isNullOrEmpty(L)||ss.getKeyCount(L)===0){return}for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];var cK=L[cJ];if(!ss.contains(bO.blackListVisualParts,cJ)&&cJ!=='axis-rules'){if(ss.isValue(cK)){this.get_currentContext().save();var cL=this.$A.get_imageDictionary();this.$y.renderVisualListHelper(cK,cL);this.get_currentContext().restore()}}}},$v:function(L,cH){if(!ss.isValue(L)){return}this.get_currentContext().save();this.$h(L.drawItems,cH,L.visualPart);this.get_currentContext().restore()},$o:function(L,cH){if(!ss.isValue(L)){return}var cI=this.$9(L);if(!cH){this.$g(cI)}if(ss.isValue(this.$A.get_runtimeData().get_finalDataStore().GridLines)){this.$i(cI)}this.startCachingVisibleRect();this.$l(cI);this.stopCachingVisibleRect();this.$w(cI,'foreground')},$g:function(L){var cH=['background','decoration','ref-bands','cell-borders','misc'];for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];for(var cK=0;cK<L.length;cK++){var cL=L[cK];var cM=cL.item1;var cN=cL.item2;var cO=cM.DrawPanes;for(var cP=0;cP<cO.length;cP++){var cQ=cO[cP];var cR=cQ;var cS=tab.EnumConversions.visualPartFromInt(cR[0]);var cT=cS===cJ;if(!cT&&cJ==='misc'){cT=this.$a(cS)==='background'&&cH.indexOf(cS)<0}cT=cT&&bF.$0(cQ);if(cT){var cU=tab.RuntimeUtil.visualListFromDrawPane(cQ);this.$v(cU,cN)}}if(cJ==='ref-bands'){this.$q(cN)}}}},$i:function(L){var cH=new I(this.get_currentCanvas(),this.get_currentContext());for(var cI=0;cI<L.length;cI++){var cJ=L[cI];var cK=cJ.item1;var cL=cK.DrawPanes;for(var cM=0;cM<cL.length;cM++){var cN=cL[cM];var cO=cN;var cP=tab.EnumConversions.visualPartFromInt(cO[0]);if(cP==='decoration'){var cQ={x:cK.Rect[0],y:cK.Rect[1],w:cK.Rect[2],h:cK.Rect[3]};cH.renderGridLines(this.$A.get_runtimeData().get_finalDataStore(),cK.Column,cK.Row,cQ)}}}},$w:function(L,cH){for(var cI=0;cI<L.length;cI++){var cJ=L[cI];var cK=cJ.item1;var cL=cJ.item2;var cM=cK.DrawPanes;for(var cN=0;cN<cM.length;cN++){var cO=cM[cN];var cP=cO;var cQ=tab.EnumConversions.visualPartFromInt(cP[0]);if(cH===this.$a(cQ)){var cR=tab.RuntimeUtil.visualListFromDrawPane(cO);this.$v(cR,cL)}}}},$9:function(L){var cH=[];for(var cI=0;cI<L.length;cI++){var cJ=L[cI];if(!this.$e(cJ)){continue}var cK=this.$A.getPaneDrawInfoAssociatedWithPane(cJ);if(ss.isValue(cK)&&cK.hidden){continue}cH.push({item1:cJ,item2:cK})}return cH},$l:function(L){for(var cH=0;cH<bF.$6.length;cH++){var cI=bF.$6[cH];for(var cJ=0;cJ<bF.$5.length;cJ++){var cK=bF.$5[cJ];for(var cL=0;cL<L.length;cL++){var cM=L[cL];var cN=cM.item1;var cO=cM.item2;if(ss.isNullOrUndefined(cO)){continue}if(cK==='marks'||cK==='label'){this.$k(cN.DrawPanes,cO,cI,cK)}else{this.$t(cO,cI,cK);this.$p(cN.PredictionMarks,cO,cI,cK)}}}}},$h:function(L,cH,cI){if(!ss.isValue(L)){return}var cJ=this.$A.get_imageDictionary();if(cI!=='ref-lines'&&cI!=='ref-bands'&&cI!=='trend-lines'){var cK=null;if(cI==='decoration'){if(ss.isValue(cH)){cK=cH.mapExtents}}this.$y.renderDrawItems(L,null,cJ,cK)}else{if(this.$d(cI,cH)){return}var cL=this.$A.selections.refLineSelection;var cM=!cL.isEmpty;var cN=this.$A.selections.trendLineSelection;var cO=!cN.isEmpty;var cP=this.$A.brushings.trendLineSelection;var cQ=null;for(var cR=0;cR<L.length;cR++){var cS=L[cR];if(cS.type==='draw-group'){var cT=cS;var cU=false;var cV=false;switch(cI){case'ref-lines':{cU=cL.isObjectSelected(cT.objectId);cV=!cU&&(cM||cO);break}case'ref-bands':{cV=(cM||cO)&&!cL.isObjectSelected(cT.objectId);break}case'trend-lines':{if(cT.objectId>2147483647){if(!cP.isEmpty){continue}cU=false;cV=false}else{cU=cN.isObjectSelected(cT.objectId);cV=!cU&&!cP.isObjectSelected(cT.objectId)&&(this.$A.get_hasBrushing()||this.$A.get_hasSelection())}break}}var cW=(cV?'fogged':(cU?'selected':'normal'));if(cV&&ss.isNullOrUndefined(cQ)){cQ=bF.getFogBlendFactorAndBackgroundColor(cH)}this.drawReferenceLineAndTrendLineGroup(cT.drawItems,cW,this.get_currentContext(),true,(cV?cQ:null))}else{this.renderVisualParts(this.get_currentContext(),cS)}}}},renderVisualParts:function(L,cH){this.$y.renderDrawItemDefaultOptions(L,cH)},$e:function(L){return this.isRectVisible({x:L.Rect[0],y:L.Rect[1],w:L.Rect[2],h:L.Rect[3]})},$u:function(L,cH,cI,cJ,cK,cL){this.get_currentContext().save();if(!L.skipClipping){this.get_currentContext().setClip(cL)}this.get_currentContext().translate(L.paneRect.x,L.paneRect.y);cK(L,cH,cI,cJ);this.get_currentContext().restore()},$f:function(L,cH,cI){if(L.markCount===0){return}var cJ=new bz(this.get_currentCanvas(),this.get_currentContext());cJ.setRenderOffsetNoTranslate(this.get_renderOffset());if(!L.hasUserPanes){this.$u(L,0,cJ,cH,cI,L.get_mapExtentOrPaneRect());return}var cK=L.userPaneCount;var cL=L.paneRect.x;var cM=L.paneRect.y;for(var cN=0;cN<cK;++cN){var cO=L.getUserPaneRectByIndex(cN);cO=tab.RectXYUtil.offsetRectXY(cO,cL,cM);var cP=L.getUserPaneMarkCount(cN);if(cP>0&&this.isRectVisible(cO)){this.$u(L,cN,cJ,cH,cI,cO)}}},$k:function(L,cH,cI,cJ){for(var cK=0;cK<L.length;cK++){var cL=L[cK];var cM=cL;var cN=tab.EnumConversions.visualPartFromInt(cM[0]);if(cN==='marks'){if(cJ==='marks'){this.$n(cH,cI);break}else if(cJ==='label'){if(cH.get_hasLabels()){this.$m(cH,cI);break}}}}},$n:function(L,cH){this.$f(L,cH,ss.mkdel(this,this.$j))},$m:function(L,cH){this.$f(L,cH,function(cI,cJ,cK,cL){cK.renderMarkLabels(cI,cJ,cL)})},$j:function(L,cH,cI,cJ){var cK=L.markType;switch(cK){case'shape':{{cI.renderShapeMark(L,cH,cJ)}break}case'square':case'bar':{{cI.renderBarMark(L,cH,cJ)}break}case'pie':{{cI.renderPieMark(L,cH,cJ)}break}case'line':{{cI.renderLineMark(L,cH,cJ)}break}case'area':{{cI.renderAreaMark(L,cH,cJ)}break}case'text':{{cI.renderTextMarks(L,cH,cJ)}break}case'multipolygon':{{cI.renderMultipolygonMark(L,cH,cJ)}break}default:{break}}},$a:function(L){switch(L){case'background':case'decoration':case'ref-bands':case'cell-borders':{return'background'}case'mark-trails':case'marks':case'mark-labels':{return'marks'}case'borders':case'trend-lines':case'ref-lines':case'pane-borders':case'annotations':case'axis-rules':{return'foreground'}}return'background'},$c:function(L){if(L.get_instantRefLineIsEnabled()&&bF.anInstantRefLineIsPresent(this.$A.get_runtimeData())){return'fogged'}var cH=this.$A.selections.refLineSelection;var cI=this.$A.selections.trendLineSelection.isEmpty;if(cH.isEmpty&&cI){return'normal'}if(cH.isObjectSelected(L.get_id())){return'selected'}return'fogged'},$p:function(L,cH,cI,cJ){if(!ss.isNullOrUndefined(L)){for(var cK=0;cK<L.length;cK++){var cL=L[cK];var cM=tab.RuntimeUtil.renderNodeFromPredictionMark(cL);switch(cM.type){case'prediction-band':{var cN=new bz(this.get_currentCanvas(),this.get_currentContext());cN.setRenderOffsetNoTranslate(this.get_renderOffset());cN.renderPredictionBand(cH,cI,cM,cJ);break}case'prediction-whisker':{var cO=new bz(this.get_currentCanvas(),this.get_currentContext());cO.setRenderOffsetNoTranslate(this.get_renderOffset());cO.renderPredictionWhisker(cH,cI,cM,cJ);break}}}}},$q:function(L){this.$s(L,'normalUnderPass','background',function(cH,cI){return cH.getRefBands(cI)},function(cH,cI){return cH.getInstantRefBands(cI)})},$t:function(L,cH,cI){this.$s(L,cH,cI,function(cJ,cK){return cJ.getRefLines(cK)},function(cJ,cK){return cJ.getInstantRefLines(cK)})},$s:function(L,cH,cI,cJ,cK){if(ss.isNullOrUndefined(this.$A)||ss.isNullOrUndefined(L)||ss.isNullOrUndefined(this.$A.get_referenceLines())){return}this.$z.setRenderOffsetNoTranslate(this.get_renderOffset());var cL=this.$A.get_referenceLines();var cM=L.get_paneDescriptorKey();this.$r(L,cJ(cL,cM),ss.mkdel(this,this.$c),cH,cI);this.$r(L,cK(cL,cM),function(cN){return'normal'},cH,cI)},$r:function(L,cH,cI,cJ,cK){for(var cL=0;cL<cH.length;cL++){var cM=cH[cL];this.$z.renderReferenceLines(cM,cI,L,cJ,cK)}},$d:function(L,cH){return(L==='ref-lines'||L==='ref-bands')&&ss.isValue(this.$A.get_referenceLines())&&ss.isValue(cH)&&this.$A.get_referenceLines().getInstantRefLines(cH.get_paneDescriptorKey()).length>0}},{renderHoverOverlay:function(L,cH,cI){if(ss.isNullOrUndefined(cI)||ss.isNullOrUndefined(cH)){return}{var cJ=tabBootstrap.MetricsController.createContext('RenderHoverOverlay',32,null);try{var cK=cH.getMarkIndexFromTupleId(L);switch(cH.markType){case'area':{bz.renderAreaMarkHoverOverlayImage(cI,cH,cK);break}case'bar':case'square':{bz.renderBarHoverOverlayImage(cI,cH,cK);break}case'line':{bz.renderLineMarkHoverOverlayImage(cI,cH,cK);break}case'multipolygon':{bz.renderMultipolygonMarkHoverOverlayImage(cI,cH,cK);break}case'pie':{bz.renderPieHoverOverlayImage(cI,cH,cK);break}case'shape':{bz.renderShapeHoverOverlayImage(cI,cH,cK);break}case'text':{bz.renderTextHoverOverlayImage(cI,cH,cK);break}}}finally{if(ss.isValue(cJ)){cJ.dispose()}}}},renderPressedOverlay:function(L,cH,cI){if(ss.isNullOrUndefined(cI)||ss.isNullOrUndefined(cH)){return}{var cJ=tabBootstrap.MetricsController.createContext('RenderPressedOverlay',32,null);try{var cK=cH.getMarkIndexFromTupleId(L);switch(cH.markType){case'area':{bz.renderAreaMarkPressedOverlayImage(cI,cH,cK);break}case'bar':case'square':{bz.renderBarPressedOverlayImage(cI,cH,cK);break}case'line':{bz.renderLineMarkPressedOverlayImage(cI,cH,cK);break}case'multipolygon':{bz.renderMultipolygonMarkPressedOverlayImage(cI,cH,cK);break}case'pie':{bz.renderPiePressedOverlayImage(cI,cH,cK);break}case'shape':{bz.renderShapePressedOverlayImage(cI,cH,L);break}case'text':{bz.renderTextPressedOverlayImage(cI,cH,cK);break}}}finally{if(ss.isValue(cJ)){cJ.dispose()}}}},anInstantRefLineIsPresent:function(L){if(ss.isValue(L.get_finalDataStore().InstantRefLines)){var cH=new ss.ObjectEnumerator(L.get_finalDataStore().InstantRefLines);try{while(cH.moveNext()){var cI=cH.current();if(cI.value.LayoutElements.Value.length>0){return true}}}finally{cH.dispose()}}var cJ=L.get_annexedData().Panes;for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];var cM=cL.DrawPanes;for(var cN=0;cN<cM.length;cN++){var cO=cM[cN];var cP=cO;var cQ=tab.EnumConversions.visualPartFromInt(cP[0]);if(cQ==='ref-lines'){return true}}}return false},$1:function(L,cH,cI){L[0]=cH.x;L[1]=cH.y;L[2]=cI.x;L[3]=cI.y},calculateColorForState:function(L,cH,cI,cJ){if(cH==='selected'&&cI){if(tab.ColorModel.isFullyTransparent(L)){return'rgba(0,0,0,1)'}return L.toString()}if(cH==='hover'&&cI){return L.toHoverColor().toString()}if(cH==='fogged'){return tab.SceneDataUtil.fogColorTransform(L,cJ.item2,cJ.item1).toString()}return L.toString()},$0:function(L){var cH=L;return cH.length>1&&cH[1].length>0},getFogBlendFactorAndBackgroundColor:function(L){if(ss.isValue(L)&&ss.isValue(L.fogBlendFactor)&&ss.isValue(L.foggedBackgroundColor)){return{item1:L.fogBlendFactor,item2:L.foggedBackgroundColor}}else{var cH=tab.ColorModel.white;var cI=tab.SceneDataUtil.getFogBlendFactor(cH);var cJ=tab.SceneDataUtil.applyFogToBackgroundColor(cH,cI);return{item1:cI,item2:cJ}}}});var bG=global.tab.PaneTableCanvasView=ss.mkType(a,'tab.PaneTableCanvasView',function(L,cH,cI){ss.makeGenericType(cx,[bO]).call(this,L,cH,cI);this.renderer=new bF(this.canvasElt,this.context);var cJ=_.keys(L.get_vizRegionMap());for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];if(!ss.contains(bO.blackListVisualParts,cL)){L.get_vizRegionMap()[cL].add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))}}L.add_redrawAnimationFrame(ss.mkdel(this,this.doAnimationRedraw));this.get_viewModel().add_renderViewportBordersAnimation(ss.mkdel(this,this.renderViewportBorders))},{$p:function(){return this.get_viewModel()},$o:function(){return this.renderer},get_isContentOpaque:function(){return!this.$p().get_mapServerModel().get_useFastMaps()},get_backgroundFillColor:function(){return this.$p().get_visualModel().get_backgroundColor()},doAnimationRedraw:function(){this.setDirtyRectToViewSize();this.redrawImmediate()},renderViewportBorders:function(){this.$o().renderViewportBorders(this.$p())},performRender:function(){var L='viz: '+this.$p().get_sheetId();{var cH=tabBootstrap.MetricsController.createContext('RNDRPT'.toString(),16,L);try{this.renderer.clear();this.$o().renderScene(this.$p())}finally{if(ss.isValue(cH)){cH.dispose()}}}},setDirtyRectToViewSize:function(){this.set_dirtyRect({x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h})},invalidateRectangles:function(){var L=this.$p().getAndClearInvalidationRects();if(L.length===0){this.invalidate(false)}else{var cH=tab.RectXYUtil.unionAll(L);var cI=3;tab.RectXYUtil.outsetRectInPlace(cH,cI,cI);tab.RectXYUtil.offsetRectXYInPlace(cH,-this.get_scrollPos().x,-this.get_scrollPos().y);this.invalidateRect(cH,false)}},onViewModelPropertyChanged:function(L,cH){if(cH.get_propertyName()==='borderHighlight'){return}this.invalidateRectangles()},postRenderFinalPass:function(){this.$o().renderViewportBorders(this.$p());this.$o().renderAxisRulers(this.$p(),this.get_docSize(),this.get_scrollPos())}});var bH=global.tab.PaneTableCornersRenderer=ss.mkType(a,'tab.PaneTableCornersRenderer',function(){this.regionImages=[]},{$1:function(){this.regionImages=[]},$3:function(L,cH,cI,cJ){if(ss.isValue(cJ)){var cK=bH.$0(cH,'canvas');var cL=tab.RenderUtil.calculatePixelRatio(true);tab.CanvasUtil.setCanvasSizeAndDensify(cK,cL,{w:L.w,h:L.h})}else if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){bH.$0(cH,'div')}else{bH.$0(cH,'img');this.regionImages.push({region:cI,node:cH,rect:L})}},redrawCorners:function(L,cH,cI){if(tab.ApplicationModel.get_instance().get_isDesktopRenderMode()){this.$4(cH.get_identifier())}else if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){bH.$1(L,cH,cI)}},refreshServerCornerImages:function(L,cH,cI){for(var cJ=0;cJ<this.regionImages.length;cJ++){this.$0(this.regionImages[cJ],function(cK,cL,cM){var cN=tab.RenderUtil.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(cN,1)){if(ss.isValue(cM.rect)){cK.css('width',cM.rect.w+'px');cK.css('height',cM.rect.h+'px')}else{cK.css('width',cL+'px')}}var cO=cH.getViewUrl().toRegionTileUrl(L,cM.region.toString(),cI);cK.attr('src',cO)})}},refreshDesktopSingleCorner:function(L,cH){var cI=_.find(this.regionImages,function(cJ){return cJ.region===cH});this.$0(cI,ss.mkdel(this,function(cJ,cK,cL){this.$2(cJ,cL.region,L)}))},$4:function(L){for(var cH=0;cH<this.regionImages.length;cH++){this.refreshDesktopSingleCorner(L,this.regionImages[cH].region)}},$0:function(L,cH){var cI=L.node;if(ss.isValue(cI)){var cJ=cI.children().first();cH(cJ,cI[0].offsetWidth,L)}},$2:function(L,cH,cI){var cJ=new F(cI,cH);L.attr('src',cJ.get_imageRequestUrlString())}},{$1:function(L,cH,cI){var cJ=cH.get_vizRegionMap()['background'];if(ss.isNullOrUndefined(cJ)||ss.isNullOrUndefined(cJ.get_visualListPM().drawItems)){return}var cK=cJ.get_visualListPM().drawItems;var cL={};var cM=L.ri.length;for(var cN=0;cN<cM;cN++){var cO=L.ri[cN];cL[cO.r]=cO}var cP=null;if(ss.isValue(cH)&&ss.isValue(cH.get_scene())){cP=cH.get_scene().get_imageDictionary()}var cQ=tab.RenderUtil.calculatePixelRatio(true);var cR=cH.get_visualModel().get_backgroundColor();var cS=[{region:'uleft',node:cI.topLeftSpacer,rect:null},{region:'uright',node:cI.topRightSpacer,rect:null},{region:'lleft',node:cI.bottomLeftSpacer,rect:null},{region:'lright',node:cI.bottomRightSpacer,rect:null}];for(var cT=0;cT<cS.length;cT++){var cU=cS[cT];var cV=cL[cU.region.toString()];if(ss.isNullOrUndefined(cV)){continue}var cW=cU.node;var cX=cW.get(0).firstChild;var cY=ss.safeCast(cX,ss.isValue(cX)&&(ss.isInstanceOfType(cX,Element)&&cX.tagName==='CANVAS'));if(ss.isNullOrUndefined(cY)){continue}bH.$2(cY,cR,cQ,cV,cK,cP)}},$2:function(L,cH,cI,cJ,cK,cL){var cM=(cH.get_isOpaque()?'opaque':'transparent');var cN=tab.CanvasRenderer.getRenderContext(L,cM);cN.clearRect(0,0,L.width,L.height);cN.set_shapeFillStyle(cH.toString());cN.fillRect(0,0,L.width,L.height);cN.setDefaultPropertyValues();if(!tab.DoubleUtil.isApproximatelyEqual(cI,1)){tab.CanvasUtil.scaleCanvasDrawing(cN,cI)}var cO=new x(L,cN,bb.defaultColors);cO.set_renderOffset({x:cJ.x,y:cJ.y});var cP=cO;cP.renderDrawItems(cK,null,cL,null)},$0:function(L,cH){var cI=L.get(0).firstChild;if(!(ss.compareStrings(cI.tagName,cH,true)===0)){cI=document.createElement(cH);L.children().first().replaceWith(cI)}return cI}});var bI=global.tab.PaneTableGeometryArgCache=ss.mkType(a,'tab.PaneTableGeometryArgCache',function(){this.$0=null},{update:function(L){var cH=ss.isValue(this.$0)&&_.isEqual(L,this.$0);if(!cH){this.$0=L}return cH},clear:function(){this.$0=null}});var bJ=global.tab.PaneTableGeometryBundle=ss.mkType(a,'tab.PaneTableGeometryBundle',function(L,cH,cI){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.set_regionGeometry(L);this.set_visibleGeometry(cH);this.set_geometryWithRegions(cI)},{get_regionGeometry:function(){return this.$1$1},set_regionGeometry:function(L){this.$1$1=L},get_visibleGeometry:function(){return this.$1$2},set_visibleGeometry:function(L){this.$1$2=L},get_geometryWithRegions:function(){return this.$1$3},set_geometryWithRegions:function(L){this.$1$3=L}});var bK=global.tab.PaneTableGeometryComputer=ss.mkType(a,'tab.PaneTableGeometryComputer',null,null,{computeGeometry:function(L){var cH=bK.$5(L.geometry);var cI=new bX(cH,L.containerBox.w,L.containerBox.h);var cJ=cI.getVisibleGeometry(cH,L.containerBox.w);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){bK.$4(cH,cJ)}return new bJ(cI,cJ,cH)},$5:function(L){var cH={};$.extend(true,cH,L);var cI=cH.ri.length;for(var cJ=0;cJ<cI;cJ++){cH[cH.ri[cJ].r]=cH.ri[cJ]}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&tab.FeatureFlags.isEnabled('RuntimeVizHeaderRefactor')){if(ss.isValue(cH.leftaxis)){cH.leftaxisLegacy=bZ.clone(cH.leftaxis)}if(ss.isValue(cH.yheader)){cH.yheaderLegacy=bZ.clone(cH.yheader)}if(ss.isValue(cH.topaxis)){cH.topaxisLegacy=bZ.clone(cH.topaxis)}if(ss.isValue(cH.xheader)){cH.xheaderLegacy=bZ.clone(cH.xheader)}if(ss.isValue(cH.yheader)&&ss.isValue(cH.leftaxis)){cH.leftaxis=bZ.union(cH.leftaxis,cH.yheader,true);cH.yheader=bZ.getEmptyRegionRect()}if(ss.isValue(cH.xheader)&&ss.isValue(cH.topaxis)){cH.topaxis=bZ.union(cH.topaxis,cH.xheader,true);cH.xheader=bZ.getEmptyRegionRect()}}return cH},$4:function(L,cH){if(ss.isValue(L.bottomaxis)){bK.$0(L);bK.$2(cH)}if(ss.isValue(L.rightaxis)){bK.$1(L);bK.$3(cH)}},$1:function(L){var cH=[L.xheader,L.bottomaxis,L.topaxis,L.viz];for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];if(ss.isValue(cJ)){cJ.w+=1}}},$0:function(L){var cH=[L.yheader,L.rightaxis,L.leftaxis,L.viz];for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];if(ss.isValue(cJ)){cJ.h+=1}}},$3:function(L){var cH=[L.xheaderArea,L.bottomaxisArea,L.topaxisArea,L.vizArea];for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];if(ss.isValue(cJ)){cJ.w+=1}}},$2:function(L){var cH=[L.yheaderArea,L.rightaxisArea,L.leftaxisArea,L.vizArea];for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];if(ss.isValue(cJ)){cJ.h+=1}}},computeVizScrollCapabilities:function(L){var cH={containerBox:L.get_containerGeometry(),geometry:L.get_geometryModel().pm};var cI=bK.computeGeometry(cH);var cJ=cI.get_geometryWithRegions().viz;var cK=cI.get_visibleGeometry().vizArea;if(ss.isNullOrUndefined(cJ)||ss.isNullOrUndefined(cK)){return 0}var cL=0;if(cJ.w>cK.w){cL|=1}if(cJ.h>cK.h){cL|=2}return cL}});var bL=global.tab.PaneTableOverlayView=ss.mkType(a,'tab.PaneTableOverlayView',function(L,cH,cI){this.$W=null;this.$P=[];this.$O=new b('hover');this.$S=new b('press');this.$M=false;this.$U=null;this.$N=false;this.$K=[];this.$R=null;this.$L=null;this.$Q='normal';this.$V=false;this.$T=null;ss.makeGenericType(cx,[bO]).call(this,L,cH,'transparent');this.renderer=new bF(this.canvasElt,this.context);this.$T=new bV(this.canvasElt,this.context);this.$W=cI;var cJ=$(this.canvasElt);cJ.css('position','absolute');cJ.css('left','0px');cJ.css('top','0px')},{get_paneTableVM:function(){return this.get_viewModel()},get_lastTargetState:function(){return this.$Q},get_backgroundFillColor:function(){return this.get_paneTableVM().get_visualModel().get_backgroundColor()},clearOverlays:function(){this.$v();this.$w();this.$u();this.$p();this.$V=false},hoverOverWhitespace:function(){this.$N=false},setScrollPosition:function(L){this.set_scrollPos(L);this.$K=[];this.invalidate(true)},setDragOverlayTuples:function(L){this.$v();this.$w();this.$p();if(this.$V){return}this.$R=L;var cH=bL.$0(this.$L,L);var cI=cH.length;if(cI>0){var cJ=[];for(var cK=0;cK<cI;cK++){var cL=cH[cK];var cM=this.$y(cL);cJ.push(cM)}var cN=this.$W.get_shapeSelector();this.$U=cN.retrieveStateObject(this.$U);var cO=cN.getStateDiff(this.$U);var cP=cO.length;var cQ=new Set;var cR=new Array(cP);for(var cS=0;cS<cP;cS++){var cT=cO[cS];var cU={x:0,y:0,w:0,h:0};for(var cV=0;cV<cI;cV++){if(cQ.has(cV)){continue}var cW=cJ[cV];if(tab.RectXYUtil.intersectsWithAny(cT,cW)){cU=tab.RectXYUtil.union(tab.RectXYUtil.unionAll(cW),cU);cQ.add(cV)}}cR[cS]=(tab.RectXYUtil.isEmpty(cU)?cU:tab.RectXYUtil.outsetRect(cU,3,3))}cR=tab.RectXYUtil.reduceRectangles(cR);this.$K=cR;if(bL.$2){this.invalidate(false)}var cX=tab.RectXYUtil.unionAll(cR);cX=tab.RectXYUtil.offsetRect(cX,{x:-this.get_scrollPos().x,y:-this.get_scrollPos().y});this.invalidateRect(cX,true)}else{this.$K=[];this.clearDirty();this.$R=null}},setHoverOverlayTarget:function(L,cH){this.$Q='hover';if(!this.$O.$1(L,cH)){this.$N=false}if(this.$O.$2(L,cH)||ss.isValue(this.$L)&&this.$L.length>0){return false}this.$q();var cI=this.$z(L,cH);this.$A(cI);this.$O.$3(L,cH,cI);this.$E();return true},setPressedOverlayTarget:function(L,cH){this.$N=true;this.$Q='press';if(this.$S.$2(L,cH)){return false}this.$q();var cI=this.$z(L,cH);this.$A(cI);this.$S.$3(L,cH,cI);this.$E();return true},$o:function(L,cH){if(cH.get_propertyName()==='scene'){this.$J()}},performRender:function(){var L=tabBootstrap.MetricsController.createContext('Render Overlay Panetable',32,null);{if(this.$K.length>0||ss.isValue(this.$L)&&this.$L.length>0){this.$F()}else{this.renderer.clear();var cH=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),{x:this.get_scrollPos().x,y:this.get_scrollPos().y});if(this.$O.$4()){if(this.$O.$8==='mark'){var cI=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$O.$5());if(!ss.isNullOrUndefined(cI)){this.$r(this.$O.$5(),cI,cH);bF.renderHoverOverlay(this.$O.$5(),cI,this.context)}}else{this.$H(this.$O);this.$I(this.$O)}}else if(this.$S.$4()){if(this.$S.$8==='mark'){var cJ=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$S.$5());if(!ss.isNullOrUndefined(cJ)){this.$r(this.$S.$5(),cJ,cH);bF.renderPressedOverlay(this.$S.$5(),cJ,this.context)}}else{this.$H(this.$S);this.$I(this.$S)}}}}L.dispose()},$t:function(L,cH,cI){var cJ=tab.RectXYUtil.offsetRectXY(L,cH.paneRect.x,cH.paneRect.y);var cK=cH.mapExtents;if(ss.isValue(cK)){tab.RectXYUtil.intersectInPlace(cJ,cK)}tab.RectXYUtil.intersectInPlace(cJ,cI);this.context.setClip(cJ);this.context.translate(cH.paneRect.x,cH.paneRect.y)},$r:function(L,cH,cI){var cJ=cH.getUserPaneRectByTupleId(L);this.$t(cJ,cH,cI)},$s:function(L,cH,cI){var cJ=cH.getUserPaneRectByIndex(L);this.$t(cJ,cH,cI)},$F:function(){var L=75;var cH=(new Date).getTime();if(ss.isNullOrUndefined(this.$R)){this.$R=this.$L}if(this.$K.length===0){var cI={x:this.get_scrollPos().x,y:this.get_scrollPos().y,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};this.$K.push(cI)}if(this.$R.length===0){this.renderer.clear();return}if(bL.$2){this.renderer.clear()}var cJ={};var cK={};var cL={};var cM=this.get_paneTableVM().get_scene();for(var cN=0;cN<this.$R.length;cN++){var cO=this.$R[cN];var cP=cM.getPaneDrawInfoFromTupleId(cO);var cQ=cP.paneDrawInfoKey;cJ[cQ]=ss.coalesce(cJ[cQ],new Set);cJ[cQ].add(cO);cK[cQ]=cP;var cR=cM.getMarkBoundingBox(cO);var cS=cP.getWorldOffsetBounds(cR);cL[cO]=cS}var cT=0;var cU=this.$K.length;for(var cV=0;cV<cU;cV++){var cW=this.$K[cV];this.context.clearRect(cW.x,cW.y,cW.w,cW.h);if(bL.$2){this.context.set_strokeStyle('rgb(255,0,0)');this.context.strokeRect(cW.x,cW.y,cW.w,cW.h)}var cX=new ss.ObjectEnumerator(cJ);try{while(cX.moveNext()){var cY=cX.current();var cZ=cK[cY.key];var da=tab.RectXYUtil.intersect(cW,cZ.get_mapExtentOrPaneRect());if(tab.RectXYUtil.isEmpty(da)){continue}var db=false;var dc=cZ.hasUserPanes;var dd=-1;var de=false;var df=tab.SetUtilities.getValues(ss.UInt32).call(null,cY.value);for(var dg=0;dg<df.length;dg++){var dh=df[dg];if(cT>=L){if((new Date).getTime()-cH>145){de=true;break}cT=0}++cT;if(!tab.RectXYUtil.intersectsWithAny(da,cL[dh])){continue}var di=0;if(dc){di=cZ.getUserPaneIndexByMark(cZ.getMarkIndexFromTupleId(dh));if(di!==dd){if(db){this.context.restore();db=false}dd=di}}if(!db){this.context.save();this.$s(di,cZ,cW);db=true}bF.renderHoverOverlay(dh,cZ,this.context)}if(db){this.context.restore()}if(de){this.$V=true;this.renderer.clear();return}}}finally{cX.dispose()}}},$I:function(L){var cH=[];if(L.$7()==='hover'&&tsConfig.is_authoring){switch(L.$8){case'ref-line':{cH=this.get_paneTableVM().get_refLineVisualLists();break}case'trend-line':{cH=this.get_paneTableVM().get_trendLineVisualLists();break}}}for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];var cK=[];ss.arrayAddRange(cK,cJ.drawItems);this.$G(cK,L)}},$H:function(L){if(L.$8==='semantic-ref-line'&&L.$7()==='hover'&&tsConfig.is_authoring){if(this.$N&&this.get_paneTableVM().get_scene().selections.refLineSelection.isObjectSelected(L.$5())){return}var cH=this.get_paneTableVM().get_scene().get_referenceLines().getRefLineById(L.$5());var cI=this.$x();for(var cJ=0;cJ<cI.length;cJ++){var cK=cI[cJ];for(var cL=0;cL<cH.length;cL++){var cM=cH[cL];this.$T.renderOverlay(cM,cK)}}}},$x:function(){var L=[];var cH=this.get_paneTableVM().get_scene().get_runtimeData().safeFetchMarkPanes();for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];var cK=this.get_paneTableVM().get_scene().getPaneDrawInfoAssociatedWithPane(cJ);if(ss.isValue(cK)){L.push(cK)}}return L},$G:function(L,cH){var cI=cH.$7();var cJ=cH.$5();this.context.save();var cK=this.renderer;var cL=ss.getEnumerator(L);try{while(cL.moveNext()){var cM=cL.current();if(cM.type==='draw-group'){var cN=cM;var cO=true;if(this.$N){switch(cH.$8){case'ref-line':{cO=!this.get_paneTableVM().get_scene().selections.refLineSelection.isObjectSelected(cN.objectId);break}case'trend-line':{cO=!this.get_paneTableVM().get_scene().selections.trendLineSelection.isObjectSelected(cN.objectId);break}}}if(cO){cK.drawReferenceLineAndTrendLineGroup(cN.drawItems,cI,this.context,cJ===cN.objectId,null)}}else{cK.renderVisualParts(this.context,cM)}}}finally{cL.dispose()}this.context.restore()},postRenderFinalPass:function(){},redrawFinished:function(){this.$L=this.$R;this.$R=null;this.$W.get_shapeSelector().updateLastState(this.$U);this.$K=[];if(this.$V){this.$u()}},$E:function(){if(this.$M||tab.MiscUtil.isNullOrEmpty$3(this.$P)){this.$M=false;this.invalidate(true)}else{var L=tab.RectXYUtil.unionAll(this.$P);ss.clear(this.$P);var cH={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};L=tab.RectXYUtil.offsetRect(L,cH);L=tab.RectXYUtil.outsetRect(L,3,3);this.invalidateRect(L,true)}},$p:function(){if(this.$M||!tab.MiscUtil.isNullOrEmpty$3(this.$P)){this.$E()}},$J:function(){if(!this.$B(this.$O)){this.$O.$0()}if(!this.$B(this.$S)){this.$S.$0()}if(ss.isValue(this.$L)){var L=new Set;for(var cH=0;cH<this.$L.length;cH++){var cI=this.$L[cH];if(this.$C(cI)){L.add(cI)}}this.$L=tab.SetUtilities.getValues(ss.UInt32).call(null,L)}},$B:function(L){if(!L.$4()){return false}switch(L.$8){case'mark':{return this.$C(L.$5())}case'ref-line':{return this.$D(this.get_paneTableVM().get_refLineVisualLists(),L.$5())}case'trend-line':{return this.$D(this.get_paneTableVM().get_trendLineVisualLists(),L.$5())}case'unspecified':default:{return false}}},$C:function(L){var cH=this.get_paneTableVM().get_visualModel().get_vizDataModel();var cI=this.get_paneTableVM().get_scene();return ss.isValue(cH)&&cH.hasTupleId(L)&&!cI.isMarkFiltered(L)},$D:function(L,cH){for(var cI=0;cI<L.length;cI++){var cJ=L[cI];var cK=cJ.drawItems;for(var cL=0;cL<cK.length;cL++){var cM=cK[cL];if(cM.objectId===cH){return true}}}return false},$q:function(){this.$v();this.$w();this.$u()},$z:function(L,cH){if(cH==='mark'){return this.$y(L)}else{return null}},$A:function(L){if(ss.isNullOrUndefined(L)){this.$M=true;ss.clear(this.$P);return}for(var cH=0;cH<L.length;cH++){var cI=L[cH];this.$P.push(cI)}},$y:function(L){var cH=this.get_paneTableVM().get_scene();var cI=cH.getMarkBoundingBox(L);var cJ=cH.getPaneDrawInfoFromTupleId(L);if(ss.isNullOrUndefined(cJ)){return[]}else{return cJ.getWorldOffsetBounds(cI)}},$v:function(){if(this.$O.$4()){this.$A(this.$O.$6());this.$O.$0()}},$w:function(){if(this.$S.$4()){this.$A(this.$O.$6());this.$S.$0()}},$u:function(){if(ss.isValue(this.$L)){for(var L=0;L<this.$L.length;L++){var cH=this.$L[L];ss.arrayAddRange(this.$P,this.$y(cH))}this.$L=null}this.$R=null;this.$K=[];this.$U=null}},{$0:function(L,cH){var cI=new Set;if(ss.isValue(L)&&L.length>0){tab.SetUtilities.addAll(ss.UInt32).call(null,cI,L)}if(ss.isValue(cH)&&cH.length>0){var cJ=new Set;tab.SetUtilities.addAll(ss.UInt32).call(null,cJ,cH);cI=tab.SetUtilities.symmetricDifferenceWith(ss.UInt32).call(null,cI,cJ)}return tab.SetUtilities.getValues(ss.UInt32).call(null,cI)}});var bM=global.tab.PaneTableTemplate=ss.mkType(a,'tab.PaneTableTemplate',function(L){this.enclosingDiv=null;this.yLabel=null;this.leftAxis=null;this.rightAxis=null;this.xLabel=null;this.bottomAxis=null;this.topAxis=null;this.yLabelInteraction=null;this.leftAxisInteraction=null;this.rightAxisInteraction=null;this.xLabelInteraction=null;this.bottomAxisInteraction=null;this.topAxisInteraction=null;this.view=null;this.title=null;this.caption=null;this.topLeftSpacer=null;this.topRightSpacer=null;this.bottomLeftSpacer=null;this.bottomRightSpacer=null;this.borders=null;spiff.Template.call(this,L);var cH=ss.mkdel(this,this.getElementBySelector);this.enclosingDiv=cH('.tab-clip');this.yLabel=cH('.tab-tvYLabel');this.leftAxis=cH('.tab-tvLeftAxis');this.rightAxis=cH('.tab-tvRightAxis');this.xLabel=cH('.tab-tvXLabel');this.bottomAxis=cH('.tab-tvBottomAxis');this.topAxis=cH('.tab-tvTopAxis');this.view=cH('.tab-tvView');this.title=cH('.tab-tvTitle');this.caption=cH('.tab-tvCaption');this.topLeftSpacer=cH('.tab-tvTLSpacer');this.topRightSpacer=cH('.tab-tvTRSpacer');this.bottomLeftSpacer=cH('.tab-tvBLSpacer');this.bottomRightSpacer=cH('.tab-tvBRSpacer');this.borders=cH('.tvViewportBorders');this.borders.append($(bM.$1));this.yLabelInteraction=cH('.tab-tvYLabelInteraction');this.leftAxisInteraction=cH('.tab-tvLeftAxisInteraction');this.rightAxisInteraction=cH('.tab-tvRightAxisInteraction');this.xLabelInteraction=cH('.tab-tvXLabelInteraction');this.bottomAxisInteraction=cH('.tab-tvBottomAxisInteraction');this.topAxisInteraction=cH('.tab-tvTopAxisInteraction')});var bN=global.tab.PaneTableView=ss.mkType(a,'tab.PaneTableView',function(L,cH){this.regions={};this.floatingZoomToolbarView=null;this.isPointerToolLocked=false;this.mapsSearchView=null;this.wasPressOverlayJustUpdated=false;this.lastVizHoverPoint=null;this.$13=[];this.$18=0;this.$17={x:0,y:0};this.$16=0;this.isAnimationOccurring=false;this.vizTooltip=null;this.$1a=null;this.$U=null;this.$X=false;this.$14=null;this.$10=0;this.$15=null;this.$11=null;this.$12=null;this.$S=null;this.$Z=false;this.$19=null;this.$T=null;this.$Y=null;this.$V=false;this.cornersRenderer=new bH;this.regionParts=null;this.$W=null;this.dom=null;this.tlspacerAreaX=null;this.tlspacerAreaY=null;this.titleHeight=0;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]).call(this,L,cH);this.dom=cH;this.regionParts=new bP(cH);this.get_controller().setTiledViewer(this);this.$18=(new Date).getTime();this.$V=false;this.dom.view.attr('id','view'+this.$j());this.dom.domRoot.attr('tb-test-id',tab.EscapingUtil.escapeHtml(this.get_paneTableViewModel().get_visualId().worksheet));this.floatingZoomToolbarView=new E(this);var cI=L.get_visualModel();this.$Q(cI);this.$J(cI);this.$H();this.$G();this.$E();this.$L(cI);this.get_paneTableViewModel().add_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableViewModel().add_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableViewModel().add_textUpdated(ss.mkdel(this,this.$n));this.get_paneTableViewModel().add_toggleSelectNode(ss.mkdel(this,this.handleSelectFromKeyboard));if(ss.isValue(this.get_paneTableViewModel().get_mapServerModel())){this.get_paneTableViewModel().get_mapServerModel().add_tileSourceChanged(ss.mkdel(this,this.$m))}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableViewModel().remove_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableViewModel().remove_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableViewModel().remove_textUpdated(ss.mkdel(this,this.$n));if(ss.isValue(this.get_paneTableViewModel().get_mapServerModel())){this.get_paneTableViewModel().get_mapServerModel().remove_tileSourceChanged(ss.mkdel(this,this.$m))}})));this.get_paneTableViewModel().set_geometryBundle(new bJ(null,null,null));this.$W=new bI;this.get_paneTableViewModel().add_zoneVisibilityChanged(ss.mkdel(this,this.handleZoneVisibilityChanged));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableViewModel().remove_zoneVisibilityChanged(ss.mkdel(this,this.handleZoneVisibilityChanged))})));if(ss.isValue(this.get_horizontalScrollingManager())){var cJ=ss.mkdel(this,function(){this.get_horizontalScrollingManager().adjustFloatingZoomToolbarIfNeeded(this.floatingZoomToolbarView)});this.get_horizontalScrollingManager().add_scrollingModeChanged(cJ);this.disposables.add(ss.mkdel(this,function(){this.get_horizontalScrollingManager().remove_scrollingModeChanged(cJ)}))}},{get_zoomToolbarContainerDiv:function(){return this.dom.view.get(0)},get_isMapSearchEnabled:function(){return this.get_paneTableViewModel().get_mapSearchEnabled()},get_shouldEnableZoomHomeToolbar:function(){return this.get_paneTableViewModel().shouldEnableZoomHomeToolbar()},get_horizontalScrollingManager:function(){return this.get_paneTableViewModel().get_horizontalScrollingManager()},get_geometry:function(){if(ss.isNullOrUndefined(this.get_paneTableViewModel().get_geometryBundle())){return null}return this.get_paneTableViewModel().get_geometryBundle().get_geometryWithRegions()},get_vizHitTestDebouncer:function(){return this.$3$1},$7:function(L){this.$3$1=L},get_sortIndicators:function(){return this.get_paneTableViewModel().get_sortIndicators()},get_axisRegions:function(){return this.get_paneTableViewModel().get_axisRegions()},get_tableViewPosition:function(){return tab.PointUtil.fromPosition(this.dom.domRoot.offset())},get_sheetid:function(){return this.get_paneTableViewModel().get_sheetId()},get_session:function(){return this.get_controller().get_viewSession()},get_numColumns:function(){return(ss.isValue(this.get_geometry())?this.get_geometry().pi.xWidths.length:0)},get_numRows:function(){return(ss.isValue(this.get_geometry())?this.get_geometry().pi.yHeights.length:0)},get_layerCount:function(){return(ss.isValue(this.get_geometry())?this.get_geometry().pi.layerCount:0)},get_paneSize:function(){var L=((this.get_numColumns()>0)?this.get_geometry().pi.xWidths[0]:0);var cH=((this.get_numRows()>0)?this.get_geometry().pi.yHeights[0]:0);return{w:L,h:cH}},get_scrollPosition:function(){return this.$17},set_ScrollPosition:function(L){this.$17=L;this.$A(this.$17);this.$N()},get_controller:function(){var L=this.get_paneTableViewModel();var cH=L.get_viewController();return cH},get_visualId:function(){return this.get_paneTableViewModel().get_visualId()},get_isSameVisualID:function(){return ss.referenceEquals(this.get_visualId(),this.vizTooltip.get_visualIDPresModel())},get_isMultiSelectFeatureEnabled:function(){return tab.ModelUtils.isMultiSelectFeatureEnabled(tab.ModelUtils.findContentDashboard(null))},get_paneTableViewModel:function(){return this.get_viewModel()},get_vizToolTip:function(){this.$g();return this.vizTooltip},get_tooltipMode:function(){return this.get_paneTableViewModel().get_visualModel().get_tooltipMode()},get_mapToolSelectionMode:function(){return this.get_paneTableViewModel().get_visualModel().get_defaultMapTool()},get_isTooltipAllowed:function(){return ss.isNullOrUndefined(tsConfig.allow_tooltip)||tsConfig.allow_tooltip},get_vizRegion:function(){return this.regions['viz']},set_vizRegion:function(L){this.regions['viz']=L},get_vizRegionDomNode:function(){return this.dom.view.children().first()},get_zoomToolbarOffset:null,get_zoomToolbarOperations:null,get_shouldDisablePanTool:function(){return this.get_paneTableViewModel().get_visualModel().get_vizNavigationSetting()==='fixed'},get_shouldShowTools:function(){var L=this.get_paneTableViewModel().get_visualModel().get_floatingToolbarVisibility()==='show'||this.get_paneTableViewModel().get_visualModel().get_floatingToolbarVisibility()==='auto'&&this.allowPanZoomActions();return L},get_geometryArgCache:function(){return this.$W},init:function(){this.$t();this.makeConnections();this.makeRegions();this.initEventHandlers();this.makeRegionContentProviders();this.$7(tab.MiscUtil.dispose$1(this.get_vizHitTestDebouncer()));if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.$7(new bi(this,this.get_vizRegion(),this.get_paneTableViewModel().get_localRenderVizHitTester()))}else{this.$7(new ce(this,this.get_vizRegion()))}},dispose:function(){this.$X=true;if(ss.isValue(this.get_vizHitTestDebouncer())){this.get_vizHitTestDebouncer().dispose()}this.destroyInputHandlers();this.destroyRegions();this.disposables.dispose();this.disposeOfOverlays();if(ss.isValue(this.get_paneTableViewModel())){this.get_paneTableViewModel().remove_vizRegionMapChange(ss.mkdel(this,this.updateRegionContentProviders))}this.floatingZoomToolbarView.dispose();if(ss.isValue(this.$1a)){this.$1a.dispose()}if(ss.isValue(this.$U)){this.$U.dispose()}if(ss.isValue(this.$11)){this.$11.dispose()}if(ss.isValue(this.$12)){this.$12.dispose()}if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));this.vizTooltip.remove_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));this.vizTooltip.remove_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));this.vizTooltip.remove_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted));this.vizTooltip.dispose()}if(ss.isValue(this.$14)){this.get_paneTableViewModel().remove_propertyChanged(ss.mkdel(this.$14,this.$14.$o));this.$14.dispose()}if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.dispose()}ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]).prototype.dispose.call(this)},$h:function(L,cH,cI){if(L.moveNext()&&!ss.staticEquals(L.current(),null)){L.current()(this,cH).done(ss.mkdel(this,function(cJ){if(cJ){cI.resolve(true);return}this.$h(L,cH,cI)}))}else{cI.resolve(false)}},initEventHandlers:function(){this.$9();this.$a();this.makeInputHandlers();this.setupDrilling();this.setupSortIndicators();this.setupAxisContextMenuIndicator();this.refreshScrollingAndAxisIcons()},callAsyncVizDragHandlers:function(L,cH){var cI=$.Deferred();this.$h(ss.getEnumerator(bN.$5),L,cI);cI.done(ss.mkdel(this,function(cJ){if(cJ){this.get_vizToolTip().close();return}cH(L)}))},callVizDragHandlers:function(L,cH){for(var cI=0;cI<bN.$9.length;cI++){if(bN.$9[cI](this,L)){this.get_vizToolTip().close();return}}cH(L)},getVizDragApproval:function(L){if(ss.isValue(L)){for(var cH=0;cH<bN.$8.length;cH++){if(bN.$8[cH](L)){return true}}}return false},zoomHome:function(){tab.PanZoomCommands.requestRestoreFixedAxes(this.get_visualId());if(ss.isValue(this.mapsSearchView)){this.get_paneTableViewModel().get_mapsSearchViewModel().collapseSearchWidget();this.get_paneTableViewModel().get_mapsSearchViewModel().restoreInitialTextInputValue()}},doTiledViewerRefreshImages:function(L){this.refreshImages(L)},setPointerToolMode:function(L,cH){this.isPointerToolLocked=cH;if(this.isPointerToolLocked){this.get_paneTableViewModel().get_vizRegionToolModeViewModel().setLockedPointerToolMode(L)}this.get_paneTableViewModel().get_vizRegionToolModeViewModel().setPointerToolMode(L)},defaultPointerToolMode:function(){if(ss.isValue(this.get_vizRegion())){return this.get_paneTableViewModel().get_vizRegionToolModeViewModel().defaultPointerToolMode}return'rectangular-selection'},resetPointerToolMode:function(){var L=this.floatingZoomToolbarView.resetPointerToolbarMode();if(!L&&ss.isValue(this.get_vizRegion())){this.get_paneTableViewModel().get_vizRegionToolModeViewModel().resetPointerToolMode()}},connectTooltipEventHandlers:function(){var L=this.get_vizToolTip();L.add_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));L.add_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));L.add_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));L.add_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted))},updateRegionBackgroundColor:function(){var L=this.get_paneTableViewModel().get_visualModel();var cH=[L.get_backgroundColor().toString(),L.get_paneBGColor(),L.get_headerBGColor()];if(ss.isValue(this.$S)&&_.isEqual(this.$S,cH)){return}this.$S=cH;var cI=!tab.ApplicationModel.get_instance().get_isLocalRenderMode();for(var cJ=0;cJ<bP.contentRegions.length;cJ++){var cK=bP.contentRegions[cJ];var cL=this.regionParts.getSelectorForRegion(cK);if(ss.isNullOrUndefined(cL)){continue}var cM=bN.$1(cH,cK);cL.css('background-color',cM);if(cI){var cN=$('.tvimagesContainer',cL);cN.css('background-color',cM)}}this.$K(cH[2])},$K:function(L){for(var cH=0;cH<bP.spacerRegions.length;cH++){var cI=bP.spacerRegions[cH];this.regionParts.getSelectorForRegion(cI).css('background-color',L)}},$s:function(L,cH){for(var cI=0;cI<bP.nonVizContentRegions.length;cI++){var cJ=bP.nonVizContentRegions[cI];var cK=this.regionParts.getSelectorForRegion(cJ);var cL=this.makeTiledWindow(cK,this.get_session(),this.get_controller(),ss.mkdel(this,this.$k),null);this.regions[cJ].set_contentProvider(cL)}this.get_vizRegion().set_contentProvider(this.makeTiledWindow(L,this.get_session(),this.get_controller(),ss.mkdel(this,this.$k),cH))},$r:function(L,cH){this.get_paneTableViewModel().add_vizRegionMapChange(ss.mkdel(this,this.updateRegionContentProviders));var cI='transparent';var cJ=new bG(this.get_paneTableViewModel(),this.getDomNodeForContentRegion(L),cI);var cK=$('.tvimagesContainer',L);cK.get(0).appendChild(cJ.element.get(0));this.get_vizRegion().set_contentProvider(cJ);this.updateRegionContentProviders();this.$14=this.makePaneTableOverlayView(this.getDomNodeForContentRegion(L));this.get_paneTableViewModel().add_propertyChanged(ss.mkdel(this.$14,this.$14.$o));cK.get(0).appendChild(this.$14.element.get(0))},makeRegionContentProvidersHelper:function(L,cH){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.$r(L,cH)}else{this.$s(L,cH)}this.updateRegionBackgroundColor()},makePaneTableOverlayView:function(L){return new bL(this.get_paneTableViewModel(),L,this.get_vizRegion())},makeTiledWindowHelper:function(L,cH,cI,cJ,cK,cL){var cM=new cn(this.getDomNodeForContentRegion(L),cH,cI,cJ,cL,this.get_horizontalScrollingManager());if(ss.isValue(cK)){cM.add_loadComplete(cK);this.disposables.add$1(new tab.CallOnDispose(function(){cM.remove_loadComplete(cK)}))}return cM},destroyRegions:function(){var L=ss.getEnumerator(Object.keys(this.regions));try{while(L.moveNext()){var cH=L.current();if(ss.isValue(this.regions[cH])){this.regions[cH].destroy()}}}finally{L.dispose()}},checkForHoverOverlay:null,isUserDragging:null,onTooltipClosed:function(){},$F:function(L){if(ss.keyExists(L.commandParams,'tupleId')){var cH=parseInt(L.commandParams['tupleId'].toString(),10);var cI=this.get_paneTableViewModel().get_scene().getPaneDrawInfoFromTupleId(cH);if(ss.isNullOrUndefined(cI)){return false}}if(ss.keyExists(L.commandParams,'selection')){var cJ=L.commandParams['selection'];if(ss.isValue(cJ)){try{var cK=JSON.parse(cJ);if(cK.selectionType==='tuples'){for(var cL=0;cL<cK.objectIds.length;cL++){var cM=cK.objectIds[cL];var cN=this.get_paneTableViewModel().get_scene().getPaneDrawInfoFromTupleId(cM);if(ss.isNullOrUndefined(cN)){return false}}}}catch(cO){return false}}}return true},onCommandExecuted:function(L,cH){if(ss.isNullOrUndefined(cH)||ss.isNullOrUndefined(cH.command)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(cH.command.command)&&!this.$F(cH.command.command)){return}if(cH.command.get_commandType()===7){tab.ViewDataDialogFactory.contructViewData(this.get_session().getViewUrl()).open(cH.command)}else if(tab.NaturalLanguageUbertipCommands.shouldBeUsed(cH.command)){tab.NaturalLanguageUbertipCommands.executeCommand(cH.command)}else{tab.UberTipClientCommands.executeUbertipCommand(cH.command)}},onActionExecuted:function(L,cH){if(ss.isNullOrUndefined(cH)||ss.isNullOrUndefined(cH.action)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(cH.action.command)&&!this.$F(cH.action.command)){return}var cI=function(){L.hideSpinner()};var cJ=function(cK){L.hideSpinner()};this.get_session().executeAction(cH.action,cJ,cI)},doDoubleTap:function(L,cH,cI){if(!tsConfig.allow_filter){return}if(L.get_regionPart()!=='viz'||!this.allowPanZoomActionsOnDoubleTap()){return}if(this.get_paneTableViewModel().get_isMapWithBaseLayer()&&!L.allowMapZoomAtCurrentLevel(cI)){return}this.get_controller().incrementCacheVersion();var cJ=tab.DeferLayoutImpl.get_instance();cJ.setDeferLayoutUpdates(true);var cK=this.resolvePane(L.toLocalCoordsEvent(cH,false));L.zoomPoint(cK,L.toLocalCoordsEvent(cH,false),cI,true,cJ);this.get_vizToolTip().close();this.disposeOfOverlays()},getRegionRectForRegion:function(L,cH){return this.get_horizontalScrollingManager().getRegionRectForRegion(L,cH)},setScrollLeftValueForRegion:function(L,cH){var cI=this.get_horizontalScrollingManager().getRegionRectForRegion(L,false);if(ss.isNullOrUndefined(cI)){return}var cJ=this.regionParts.getSelectorForRegion(L);tab.DomUtil.setAbsolutePositionBox(cJ,cI);this.setRegionGeometryHelper(cJ,cI);if(cH){return}var cK=this.regions[L];if(ss.isValue(cK)){var cL=bP.getRegionRectForRegionIfExists(L,this.get_geometry());if(ss.isValue(cL)){cK.setGeometry(cL,cI,this.get_geometry().ts,false);if(L==='viz'){this.updateOverlayTableGeometry(cL,this.get_geometry().ts,cI);this.get_paneTableViewModel().updateAnnotationSelectionBounds({x:0,y:0,w:cI.w,h:cI.h})}}}if(L==='uleft'){this.setupTopSpacerAreaRects(cI,this.get_geometry())}},$u:function(L,cH){if(!ss.referenceEquals(L,this.get_controller().get_sheetName())){return}this.checkForHoverOverlay();if((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tab.ApplicationModel.get_instance().get_isDesktopRenderMode())&&!this.get_vizRegion().isPanZoomAnimating()){this.get_vizRegion().reset()}},dragOverride:function(L,cH){if(this.isUserDragging()){return}this.callVizDragHandlers(L,cH)},dragOverrideAsync:function(L,cH){if(this.isUserDragging()){return}this.callAsyncVizDragHandlers(L,cH)},clearSelection:function(){this.get_paneTableViewModel().clearAnnotationSelection();tab.SelectionClientCommands.clearAllSelections(this.get_visualId())},getZoneType:function(){return this.get_paneTableViewModel().get_zonePresModel().zoneCommon.zoneType},refreshImages:function(L){this.$16+=1;this.$V=!this.get_paneTableViewModel().get_isZoneVisible()&&!tab.ApplicationModel.get_instance().get_isOffline()&&!tsConfig.is_authoring;if(this.$V){tab.DashboardDelayLoadingTelemetry.logDashboardDelayLoadingForHiddenZones(this.getZoneType().toString(),tsConfig.is_authoring);return}if(!tab.ViewUrl.canUseTileCacheUrl(L)){return}var cH=ss.getEnumerator(Object.keys(this.regions));try{while(cH.moveNext()){var cI=cH.current();this.regions[cI].refreshImages(L)}}finally{cH.dispose()}this.cornersRenderer.refreshServerCornerImages(L,this.get_session(),this.$k())},$D:function(L,cH){var cI=0;if(ss.isValue(L.title)&&this.dom.title.css('display')!=='none'){var cJ=this.$1a.minSizeHint();var cK={l:0,t:L.title.y,w:Math.max(L.title.w+cH.get_verticalScrollBarWidth(),cJ.w),h:Math.max(L.title.h,cJ.h)};this.titleHeight=cK.h;var cL=tab.DomUtil.getMarginBoxJQ(this.dom.title);if(!_.isEqual(cK,cL)){tab.DomUtil.setAbsolutePositionBox(this.dom.title,cK);this.$1a.handleNewTextRegion();cI=L.title.h+L.title.y}}return cI},$y:function(L,cH){var cI=0;if(ss.isValue(this.$U)&&this.dom.caption.css('display')!=='none'){var cJ;if(ss.isValue(L.caption)){cI=L.caption.h+8+cH.get_horizontalScrollBarHeight();cJ={l:L.caption.x,t:L.caption.y-cH.get_verticalScrollOffset(),w:L.caption.w,h:L.caption.h}}else{cJ={l:0,t:0,w:0,h:0}}var cK=tab.DomUtil.getMarginBoxJQ(this.dom.caption);if(!_.isEqual(cJ,cK)){tab.DomUtil.setAbsolutePositionBox(this.dom.caption,cJ);this.$U.handleNewTextRegion()}}return cI},updateGeometry:function(){this.cornersRenderer.$1();this.$16+=1;var L=this.get_paneTableViewModel().get_geometryBundle().get_regionGeometry();var cH=this.get_paneTableViewModel().get_geometryBundle().get_visibleGeometry();var cI=this.get_paneTableViewModel().get_geometryBundle().get_geometryWithRegions();this.titleHeight=0;var cJ=L.get_onScreenHeight();var cK=this.$D(cI,L);cJ=Math.max(cJ,cK);var cL=this.$y(cI,L);cJ-=cL;this.$B(cH,cI);this.setGeometryForScrollbars(L,cJ);this.refreshScrollingAndAxisIcons();this.setRegionResizersForWeb();this.refreshTooltipIfNeeded()},$B:function(L,cH){var cI=null;if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var cJ=this.get_paneTableViewModel().get_vizRegionMap()['background'];if(ss.isValue(cJ)){cI=cJ.get_visualListPM().drawItems}}this.$z(cH.uleft,L.uleftArea,cI,this.dom.topLeftSpacer,'uleft');this.setupTopSpacerAreaRects(L.uleftArea,cH);this.$C(cH.yheader,this.dom.yLabel,'yheader',cH.ts,L.yheaderArea);this.$C(cH.leftaxis,this.dom.leftAxis,'leftaxis',cH.ts,L.leftaxisArea);this.$C(cH.rightaxis,this.dom.rightAxis,'rightaxis',cH.ts,L.rightaxisArea);this.$C(cH.xheader,this.dom.xLabel,'xheader',cH.ts,L.xheaderArea);this.$C(cH.bottomaxis,this.dom.bottomAxis,'bottomaxis',cH.ts,L.bottomaxisArea);this.$C(cH.topaxis,this.dom.topAxis,'topaxis',cH.ts,L.topaxisArea);this.$z(cH.uright,L.urightArea,cI,this.dom.topRightSpacer,'uright');this.$z(cH.lleft,L.lleftArea,cI,this.dom.bottomLeftSpacer,'lleft');this.$z(cH.lright,L.lrightArea,cI,this.dom.bottomRightSpacer,'lright');this.$C(cH.viz,this.dom.view,'viz',cH.ts,L.vizArea)},setupTopSpacerAreaRects:function(L,cH){if(ss.isValue(cH.uleft)){this.tlspacerAreaY=$.extend({},L);if(ss.isValue(cH.di)&&cH.uleft.h>=40){this.tlspacerAreaY.t=cH.uleft.y+cH.uleft.h-40;this.tlspacerAreaY.h=40}this.tlspacerAreaX=null;if(ss.isValue(cH.di)&&ss.isValue(cH.di.xy)&&ss.isValue(cH.di.xy[0])){var cI=18;var cJ=cH.xheader;if(ss.isValue(cJ)&&cJ.h>cH.di.xs){var cK=cH.di.xy.length;for(var cL=0;cL<cK;cL++){if(cH.di.xy[cL][1]>0){this.tlspacerAreaX={l:this.tlspacerAreaY.l+this.tlspacerAreaY.w-cI,t:cH.uleft.y,w:cI,h:cH.uleft.h};this.tlspacerAreaY.w=this.tlspacerAreaX.l;break}}}}}else{this.tlspacerAreaY=null;this.tlspacerAreaX=null}},$z:function(L,cH,cI,cJ,cK){if(ss.isValue(cH)){tab.DomUtil.setAbsolutePositionBox(cJ,cH);this.setRegionGeometryHelper(cJ,cH);cJ.show();this.cornersRenderer.$3(L,cJ,cK,cI)}else{cJ.hide()}},$C:function(L,cH,cI,cJ,cK){var cL=(this.get_paneTableViewModel().get_visualModel().get_sceneModel().runtimeSceneMarginSupported()?this.regionParts.getSelectorForInteractionRegion(cI):null);if(ss.isValue(L)){tab.DomUtil.setAbsolutePositionBox(cH,cK);this.setRegionGeometryHelper(cH,cK);cH.show();if(ss.isValue(cL)){tab.DomUtil.setAbsolutePositionAsEmptyBox(cL,cK);this.setRegionGeometryHelper(cL,cK);cL.show()}this.regions[cI].setGeometry(L,cK,cJ,true);if(cI==='viz'){this.updateOverlayTableGeometry(L,cJ,cK)}}else{cH.hide();if(ss.isValue(cL)){cL.hide()}}},updateOverlayTableGeometry:function(L,cH,cI){if(ss.isNullOrUndefined(this.$14)){return}this.$14.set_actualViewSize({w:cI.w,h:cI.h});this.$14.reset(L,cH)},resolvePane:function(L){var cH=this.get_geometry().pi;var cI={canDragH:cH.hasXQAxis,canDragV:cH.hasYQAxis,x:0,y:0,w:0,h:0};bN.$2(L.x,cH.xWidths,cI);bN.$3(L.y,cH.yHeights,cI);return cI},allowPanZoomActions:null,allowPanZoomActionsOnDoubleTap:null,isVizLargerThanScreen:function(){if(ss.isValue(this.get_geometry())&&ss.isValue(this.get_geometry().viz)){var L=this.get_geometry().viz.w;var cH=this.get_geometry().viz.h;var cI=this.get_vizRegion();var cJ=cI.get_contentProvider();var cK=cJ.get_effectiveViewSize().w;var cL=cJ.get_effectiveViewSize().h;return L>cK||cH>cL}return false},isOneVisiblePane:function(){if(ss.isValue(this.get_geometry())&&ss.isValue(this.get_geometry().viz)){var L,cH;var cI=this.get_geometry().viz.w;var cJ=this.get_geometry().viz.h;var cK=this.get_geometry().pi.xWidths;var cL=this.get_geometry().pi.yHeights;cH=cK.length;for(L=0;L<cH;L++){if(Math.abs(cI-cK[L])>1){return false}}cH=cL.length;for(L=0;L<cH;L++){if(Math.abs(cJ-cL[L])>1){return false}}}return true},maybeShowOverlayImages:null,createOverlayImageFromDataUri:function(L){var cH=new tab.OverlayImage(this.dom.view.find('.tvimagesContainer').get(0),'data:image/png;base64,'+L);return cH},createOverlayImageFromFile:function(L){var cH=new tab.OverlayImage(this.dom.view.find('.tvimagesContainer').get(0),this.get_session().formatSessionTempfileReference(L,false,false));return cH},updateOverlayTarget:function(L,cH,cI){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}switch(cH){case'press':{this.$14.setPressedOverlayTarget(L,cI);break}case'hover':{this.$14.setHoverOverlayTarget(L,cI);break}default:{break}}},updateOverlayForLastTargetState:function(L,cH){this.updateOverlayTarget(L,this.$14.get_lastTargetState(),cH)},hoverOverWhitespace:function(){this.$14.hoverOverWhitespace()},updateHoveredCategoricalHeadersAndQuantitativeAxes:function(L,cH,cI){var cJ=this.get_paneTableViewModel().get_vizRegionMap()[cI];if(ss.isNullOrUndefined(cJ)){return}switch(cH){case'press':{cJ.set_hoveredNodeOrAxis(null);break}case'hover':{cJ.set_hoveredNodeOrAxis(L);break}default:{break}}},showOverlayImages:function(L,cH){if(ss.isValue(cH)&&ss.isValue(L)&&cH.length>0){this.disposeOfOverlayImages();for(var cI=1;cI<cH.length;++cI){var cJ=L.clone();this.$13.push(cJ);cJ.show(cH[cI])}this.$13.push(L);L.show(cH[0])}},setRegionGeometryHelper:null,getDomNodeForContentRegion:null,clickTitle:function(L){},clickCaption:function(L){},makeConnections:function(){},makeMapsSearchViewConnections:null,makeRegions:null,makeInputHandlers:null,makeRegionContentProviders:null,setupDrilling:function(){},refreshScrollingAndAxisIcons:null,refreshTooltipIfNeeded:function(){},setupSortIndicators:function(){},setupAxisContextMenuIndicator:function(){},destroyInputHandlers:null,setGeometryForScrollbars:null,setRegionResizersForWeb:function(){},makeTooltipLegacyMode:null,makeTooltip:function(){if(this.get_isTooltipAllowed()&&this.get_tooltipMode()==='smooth'){return new cq(this.get_paneTableViewModel().get_tooltipContextProvider(),this.get_visualId(),this.dom.view,true)}else if(this.get_isTooltipAllowed()&&this.get_tooltipMode()==='sticky'){return this.makeTooltipLegacyMode(this.get_paneTableViewModel().get_tooltipContextProvider())}else{return new cp(this.get_paneTableViewModel().get_tooltipContextProvider(),this.get_visualId())}},onHoverOverlay:function(L,cH){if(this.isUserDragging()){return}if(this.wasPressOverlayJustUpdated){this.wasPressOverlayJustUpdated=false;return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&L.get_regionPart()==='viz'){if(!this.isAnimationOccurring&&(L.get_toolModeViewModel().get_isSelectingToolActive()||!L.get_isDragTracking()&&L.get_toolModeViewModel().get_currentPointerToolMode()==='pan-map')){var cI=L.toLocalCoordsEvent(cH,false);var cJ={x:cH.pageX,y:cH.pageY};this.lastVizHoverPoint=cI;if(this.get_vizToolTip().isHoverAllowed(cJ)){this.hitTestAndSetHoverOverMarkOrVisualPartHelper(true)}}else{this.lastVizHoverPoint=null}}},hitTestAndSetHoverOverMarkOrVisualPartHelper:function(L){var cH=this.get_vizRegion();var cI=this.get_paneTableViewModel().get_localRenderVizHitTester().onHoverHitTest(this.lastVizHoverPoint);this.onHoverOverVisualPart(cH,cI.get_hitType()!==0);if(cI.get_hitType()===0){this.hoverOverWhitespace()}if(cI.get_shouldRenderOverlay()){if(!L){this.updateOverlayForLastTargetState(cI.get_id(),cI.get_overlayTargetType())}else{this.updateOverlayTarget(cI.get_id(),'hover',cI.get_overlayTargetType())}}else{this.disposeOfOverlayImages()}},onHoverOverVisualPart:null,makeTiledWindow:null,shouldInformTooltipOfLocalTapOnViz:null,disposeOfOverlays:function(){this.disposeOfOverlayImages()},disposeOfOverlayImages:function(){for(var L=0;L<this.$13.length;L++){var cH=this.$13[L];if(ss.isValue(cH)){cH.dispose()}}ss.clear(this.$13);if(ss.isValue(this.$14)){this.$14.clearOverlays()}this.$15=tab.MiscUtil.clearTimeout(this.$15)},$A:function(L){if(ss.isValue(this.$14)){this.$14.setScrollPosition(L)}},checkForDragOverlays:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.$15)){return}var L=(new Date).getTime()-this.$10;if(L>=30){this.$d()}else{this.$15=window.setTimeout(ss.mkdel(this,this.$d),30-L)}}},$d:function(){this.$15=null;var L=this.get_paneTableViewModel().get_localRenderVizHitTester().hitTestMarksAgainstSelectionShape(this.get_vizRegion().get_shapeSelector());var cH=S.getIdsFromHitTestResults(L,true);this.$14.setDragOverlayTuples(cH);this.$10=(new Date).getTime()},updateRegionContentProvider:function(L,cH){this.regions[L].set_contentProvider(cH)},isSelectActionOnVizAllowed:function(L,cH){return true},handleLocalTap:function(L,cH,cI,cJ,cK){var cL=false;if(this.isSelectActionOnVizAllowed(cH,cK)){if(L.get_regionPart()==='viz'){var cM=ss.mkdel(this,function(cQ){if(this.shouldInformTooltipOfLocalTapOnViz(cQ)){this.informTooltipOfLocalTapOnViz(cQ,L,cI,cJ)}});var cN=this.get_paneTableViewModel().get_localRenderVizHitTester().onTapHitTest(cJ);bk.doSingleSelect(cN,cJ,cH,cM,this.get_paneTableViewModel().get_visualId(),cK);cL=cN.get_hitType()!==0}else if(this.get_paneTableViewModel().get_visualModel().get_sceneModel().runtimeRegionSupported(tab.ModelUtils.vizImageRegionToVisualPartForSceneMarginsMap[L.get_regionPart()])){var cO=this.getSceneMargin(L);if(ss.isNullOrUndefined(cO)){cL=this.$o(L,cH,cI,cJ,cK)}else if(!cO.get_isMouseOverSortIndicator()){var cP=this.hitTestSceneMargin(cO,cJ);cL=this.localSelectNode(L,cH,cI,cJ,cP)}}else{cL=this.$o(L,cH,cI,cJ,cK)}if(!cL){this.get_vizToolTip().hoverOverWhitespace(cI,L.get_regionPart())}}},handleSelectFromKeyboard:function(L){var cH=this.get_paneTableViewModel().getNodeAndRegionById(L);if(ss.isNullOrUndefined(cH)||ss.isNullOrUndefined(cH.item1)){return}var cI=cH.item1;var cJ=cI.extentsX+ss.idiv(cI.extentsWidth,2);var cK=cI.extentsY+ss.idiv(cI.extentsHeight,2);var cL={x:ss.trunc(cJ),y:ss.trunc(cK)};var cM=this.regions[cH.item2];var cN=tab.PointUtil.add(cL,cM.getLocalOffsetPoint(false));var cO='simple';this.localSelectNode(cM,cO,cN,cL,cI)},$o:function(L,cH,cI,cJ,cK){var cL=this.getVisualListViewModelForRegion(L.get_regionPart());if(ss.isNullOrUndefined(cL)){return false}var cM=cL.hitTestNodes(cJ);if(ss.isValue(cM)){var cN=this.$l(L,cI,cJ);cL.selectNode(cJ,cM,cH,cN,cK);return true}tab.SelectionClientCommands.clearAllSelections(this.get_visualId());return false},hitTestSceneMargin:function(L,cH){return L.hitTestNodes(cH)},getSceneMargin:function(L){var cH=tab.ModelUtils.vizImageRegionToVisualPartForSceneMarginsMap[L.get_regionPart()];return this.get_paneTableViewModel().get_sceneMarginViewModelMap()[tab.ModelUtils.visualPartToSceneMarginLocationMap[cH]]},getSelectedDrawGroup:function(L,cH,cI){var cJ=tab.ModelUtils.vizImageRegionToVisualPartForSceneMarginsMap[cH.$];var cK=this.$i(L,cJ,cI);if(ss.isValue(cK)){return cK}if(cH.$==='topaxis'){cH.$='xheader';return this.$i(L,'x-labels',cI)}else if(cH.$==='leftaxis'){cH.$='yheader';return this.$i(L,'y-labels',cI)}else{return null}},$i:function(L,cH,cI){cI.$=this.get_paneTableViewModel().get_visualModel().get_sceneModel().get_visualListModels()[cH];var cJ=cI.$.get_groupItemNodes();for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];if(ss.isNullOrUndefined(cL.node)){if(bN.$0(cL,L)){return cL}}else if(cL.node.nodeHash===L.hash){return cL}}return null},localSelectNode:function(L,cH,cI,cJ,cK){if(ss.isValue(cK)){var cL={$:L.get_regionPart()};var cM={$:null};var cN=this.getSelectedDrawGroup(cK,cL,cM);if(ss.isValue(cN)){var cO=this.$l(L,cI,cJ);tab.SelectionClientCommands.selectNode(cL.$,cJ,cH,cM.$,cN,this.get_paneTableViewModel().get_visualId(),cO,false);return true}}tab.SelectionClientCommands.clearAllSelections(this.get_visualId());return false},$l:function(L,cH,cI){var cJ=ss.mkdel(this,function(){this.get_vizToolTip().singleSelectCoordinates(cH,cI,L.get_regionPart(),'header',null)});return cJ},informTooltipOfLocalTapOnViz:function(L,cH,cI,cJ){var cK=null;if(ss.isValue(this.get_paneTableViewModel())&&ss.isValue(this.get_paneTableViewModel().get_scene())&&L.get_tooltipTargetType()==='mark'){var cL=this.get_paneTableViewModel().get_scene().getPaneDrawInfoFromTupleId(L.get_id());if(ss.isValue(cL)){cK=cL.get_paneDescriptorKey()}}var cM=!tab.ActionUtils.canRemoteSelectTriggeredActionsModifyTheirSourceSheet(this.get_visualId().worksheet)&&ss.isValue(cK)&&!ss.isNullOrUndefined(this.get_geometry().viz);if(!cM){this.get_vizToolTip().singleSelectCoordinates(cI,cJ,cH.get_regionPart(),L.get_tooltipTargetType(),null)}else{this.get_vizToolTip().singleSelectComplete(cI,cJ,L.get_id(),cK,L.get_tooltipTargetType(),cH.get_regionPart())}},$n:function(){this.$v()},$v:function(){var L=this.get_paneTableViewModel().get_visualModel();if(ss.isNullOrUndefined(L)){return}var cH=L.get_geometryModel().pm;this.$w(cH)},$w:function(L){this.cornersRenderer.redrawCorners(L,this.get_paneTableViewModel(),this.dom)},handleNewVisual:function(){if(this.get_paneTableViewModel().isInvalidSheet()){$('<div></div>').text(tab.Strings.BaseClientInvalidSheet(this.get_paneTableViewModel().get_sheetId())).addClass('wcInvalidSheet').appendTo(this.get_template().domRoot).get(0);return}if(this.$X){return}var L=this.get_paneTableViewModel().get_visualModel();if(ss.isNullOrUndefined(L)){return}this.$Q(L);this.$J(L);this.$G();this.updateTooltipMode(L);var cH=L.get_geometryModel().pm;var cI=L.get_containerGeometry();var cJ={containerBox:cI,geometry:cH};var cK=this.get_geometryArgCache().update(cJ);if(cK){this.refreshScrollingAndAxisIcons()}else{this.get_paneTableViewModel().set_geometryBundle(bK.computeGeometry(cJ));this.updateGeometry()}this.$R(L);this.floatingZoomToolbarView.setToolMode(this.defaultPointerToolMode(),true);this.updateRegionBackgroundColor();this.$I();this.$O();this.$M();this.$w(cH);this.$L(L);this.isAnimationOccurring=false;if(ss.isValue(this.get_paneTableViewModel().get_annotationSelectionChromeViewModel())){this.get_paneTableViewModel().updateAnnotationSelection()}if(tab.FeatureFlags.isEnabled('RuntimeVizHeaderRefactor')){this.updateRegionContentProviders()}},$R:function(L){this.updateMapsSearchView();if(L.get_isMap()&&this.get_shouldDisablePanTool()&&(this.get_paneTableViewModel().get_vizRegionToolModeViewModel().get_isPanToolActive()||this.get_paneTableViewModel().get_vizRegionToolModeViewModel().get_isZoomToolActive())){this.setPointerToolMode(L.get_defaultMapTool(),true)}this.get_paneTableViewModel().get_vizRegionToolModeViewModel().updateDefaultToolMode(this.allowPanZoomActions());this.floatingZoomToolbarView.updateZoomToolbar(L.get_floatingToolbarVisibility())},updateMapsSearchView:function(){if(this.get_paneTableViewModel().get_mapSearchEnabled()){var L=ss.isNullOrUndefined(this.get_paneTableViewModel().get_mapsSearchViewModel())||ss.isNullOrUndefined(this.mapsSearchView);if(L){this.$c();this.$b()}this.$8(L)}else{this.$x()}},$c:function(){this.get_paneTableViewModel().set_mapsSearchViewModel(new bw(this.get_paneTableViewModel().get_visualId()));this.get_paneTableViewModel().get_mapsSearchViewModel().add_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableViewModel().get_mapsSearchViewModel().remove_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds))})))},$b:function(){this.mapsSearchView=tab.ObjectRegistry.newView(bv).call(null,[this.get_paneTableViewModel().get_mapsSearchViewModel()]);this.makeMapsSearchViewConnections();this.get_paneTableViewModel().get_mapsSearchViewModel().collapseSearchWidget();this.mapsSearchView.addClass('tabSuppressVizTooltipsAndOverlays')},$8:function(L){if(!this.$Z){this.mapsSearchView.addToDom(this.dom.view);this.$Z=true;if(!L){this.get_paneTableViewModel().get_mapsSearchViewModel().setVisible(true)}}},$x:function(){if(ss.isValue(this.mapsSearchView)){if(this.$Z){var L=this.mapsSearchView.element[0].parentNode;if(ss.isValue(L)){L.removeChild(this.mapsSearchView.element[0]);this.$Z=false}}this.get_paneTableViewModel().get_mapsSearchViewModel().collapseSearchWidget();this.get_paneTableViewModel().get_mapsSearchViewModel().setVisible(false)}},handlePropertyChanged:function(L,cH){switch(cH.get_propertyName()){case'vizNavigationSetting':{this.$9();this.$a();this.makeInputHandlers();break}case'borderHighlight':{this.dom.borders.toggleClass('tvBorderHighlight',this.get_paneTableViewModel().get_highlightBorder());break}case'images':{this.$v();break}default:{break}}},updateTooltipMode:function(L){if(ss.isValue(this.vizTooltip)&&L.get_tooltipMode()!==this.vizTooltip.get_currentTooltipMode()){this.vizTooltip.close();this.vizTooltip.dispose();this.vizTooltip=null}},$Q:function(L){if(this.get_paneTableViewModel().get_hasTitle()){if(ss.isValue(this.$1a)){return}this.dom.title.css('display','');var cH=new tab.TextRegionViewModel(L.get_titleModel());cH.options=new tab.TextRegionOptions(!tsConfig.is_authoring);var cI=cH;this.$1a=new tab.TextRegionView(cI);this.$19='title'+this.$j();this.$1a.element.attr('id',this.$19);this.$1a.addToDom(this.dom.title)}else if(ss.isValue(this.$1a)){this.dom.title.css('display','none');this.$1a.get_viewModel().dispose();this.$1a=null}},$L:function(L){if(tab.FeatureParamsLookup.getBool(53)){L.get_runtimeStatusView().addDebugViewToElement(this.dom.enclosingDiv)}},$J:function(L){if(this.get_paneTableViewModel().get_hasCaption()){if(ss.isValue(this.$U)){return}this.dom.caption.css('display','');var cH=new tab.TextRegionViewModel(L.get_captionModel());cH.options=new tab.TextRegionOptions(!tsConfig.is_authoring);var cI=cH;this.$U=new tab.TextRegionView(cI);this.$T='caption'+this.$j();this.$U.element.attr('id',this.$T);this.$U.addToDom(this.dom.caption)}else if(ss.isValue(this.$U)){this.dom.caption.css('display','none');this.$U.get_viewModel().dispose();this.$U=null;this.$T=''}},$H:function(){if(ss.isNullOrUndefined(this.$Y)){var L='instructions'+this.$j();this.$Y=$('<div></div>').attr('id',L).css('display','none');this.$Y.appendTo(this.dom.enclosingDiv)}var cH=tab.Strings.AccessibilityClearSelectionInstructions+' '+(bN.isViewDataAccessEnabled()?tab.Strings.AccessibilityViewDataInstructions:tab.Strings.AccessibilityViewDataDisabled);this.$Y.text(cH)},$G:function(){this.dom.view.attr('tabindex','0').attr('role','img').attr('aria-describedby',ss.coalesce(this.$T,'')+' '+(ss.isValue(this.$Y)?this.$Y[0].id:''));if(this.get_paneTableViewModel().get_hasTitle()){this.dom.view.removeAttr('aria-label').attr('aria-labelledby',this.$19)}else{this.dom.view.removeAttr('aria-labelledby').attr('aria-label',tab.Strings.AccessibilityDataVisualizationTitleAttr)}},$E:function(){var L=this.dom.view;L.focus(ss.mkdel(this,function(cH){if(!this.get_isMultiSelectFeatureEnabled()&&!spiff.FocusManager.wasFocusedByPointer()){tab.SelectionClientCommands.setActiveZone(this.get_paneTableViewModel().get_zonePresModel().zoneId,'replace',null);this.$H()}}));this.dom.domRoot.focus(ss.mkdel(this,function(cH){if(!this.get_isMultiSelectFeatureEnabled()&&!spiff.FocusManager.wasFocusedByPointer()){tab.SelectionClientCommands.setActiveZone(this.get_paneTableViewModel().get_zonePresModel().zoneId,'replace',null)}}));L.keydown(ss.mkdel(this,function(cH){if(cH.which===13&&bN.isViewDataAccessEnabled()&&ss.referenceEquals(cH.target,cH.currentTarget)){cH.preventDefault();cH.stopPropagation();tab.ToolbarServerCommands.exportData()}else if(cH.which===27){cH.preventDefault();cH.stopPropagation();this.clearSelection()}}))},$j:function(){return tab.ModelUtils.findContentDashboard(null).getViewId(this.get_sheetid())},$m:function(){this.get_vizRegion().$1(this.get_paneSize());this.get_vizRegion().$3()},$I:function(){var L=this.get_paneTableViewModel().get_mapServerModel();var cH=L.get_hasPresModel()&&L.get_useFastMaps();this.get_vizRegion().$1(this.get_paneSize());this.get_vizRegion().$2(cH)},$O:function(){if(this.get_paneTableViewModel().get_isMap()){var L=ss.isNullOrUndefined(this.get_paneTableViewModel().get_mapScaleViewModel())||ss.isNullOrUndefined(this.$12);if(L&&ss.isValue(this.get_paneTableViewModel().get_mapServerModel())){this.get_paneTableViewModel().set_mapScaleViewModel(new tab.MapScaleViewModel(this.get_paneTableViewModel().get_mapServerModel().get_mapScaleInfoModel()));this.$12=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[tab.MapScaleViewModel,tab.MapScaleComponent,Object])).call(null,[this.get_paneTableViewModel().get_mapScaleViewModel()]);this.$12.addToDom(this.dom.view)}}else if(ss.isValue(this.$12)){this.$12.dispose();this.$12=null}},$P:function(){var L='tab-offlineMapsLearnMoreContainer';var cH=ss.mkdel(this,function(){this.$11.domRoot.children('div.'+L).css('display','none')});if(!this.$11.domRoot.children().hasClass(L)){this.$11.attributionBackground.css('position','relative');var cI=$('<div></div>').addClass(L).appendTo(this.$11.domRoot);var cJ=this.$11.domRoot.children().length-1;var cK=React.createElement(SharedWidgets.CompactInlineAlertWidget,{testId:'OfflineMapsLearnMore',children:tab.Strings.MapForceMapsToOfflineLearnMoreMessage,type:'info'});var cL=5000;var cM=window.setTimeout(cH,cL);ReactDOM.render(spiff.DOMElements.div({id:'offlineMapsCompactInlineAlertParent',onClick:function(cP){var cQ=tab.UriUtil.makeHelpUri('offline-maps','offline-maps');window.open(cQ)},onMouseOver:function(cP){window.clearTimeout(cM)},onMouseOut:function(cP){cM=window.setTimeout(cH,cL)}},cK),this.$11.domRoot.children()[cJ]);var cN=this.$11.domRoot.find('img.alertIcon');cN.css('position','relative')}var cO=this.get_paneTableViewModel().get_mapServerModel();if(tab.MiscUtil.isNullOrEmpty$1(cO.get_attributionText())){cH()}},$M:function(){var L=this.get_paneTableViewModel().get_mapServerModel();if(ss.isValue(L)&&L.get_hasPresModel()&&L.get_isAttributionVisible()){if(ss.isNullOrUndefined(this.$11)){this.$11=new bl;this.$11.attributionLink.attr('target','_blank');this.$11.attributionLink.attr('tabindex','-1');this.$11.attributionLink2.attr('target','_blank');this.$11.attributionLink2.attr('tabindex','-1');this.dom.view.append(this.$11.domRoot)}this.$11.attributionBackground.css('background-color',L.get_attributionBGColor());this.$11.attributionLink.text(L.get_attributionText());this.$11.attributionLink.css('color',L.get_attributionTextColor());this.$11.attributionLink.css('font-size',L.get_attributionTextSize());this.$11.attributionLink.css('margin-right','5px');this.$11.attributionLink.attr('href',L.get_attributionUrl());this.$11.attributionLink2.text(L.get_attributionText2());this.$11.attributionLink2.css('color',L.get_attributionTextColor());this.$11.attributionLink2.css('font-size',L.get_attributionTextSize());this.$11.attributionLink2.attr('href',L.get_attributionUrl2());this.$N();if(L.get_forceMapsToOffline()){this.$P()}}else if(ss.isValue(this.$11)){this.$11.dispose();this.$11=null}},$N:function(){if(ss.isValue(this.$11)){var L=2;var cH=2;var cI=this.get_vizRegion().get_contentProvider().get_effectiveViewSize();var cJ=this.get_vizRegion().get_contentProvider().get_docSize();var cK=Math.min(0,cI.h+this.$17.y-cJ.h);cK+=L;var cL=Math.min(0,-this.$17.x);cL+=cH;this.$11.domRoot.css('bottom',cK+'px');this.$11.domRoot.css('left',cL+'px');this.$11.domRoot.css('padding','0 2px')}},$p:function(){var L=this.get_paneTableViewModel().get_tileCacheUrl();this.refreshImages(L)},$q:function(L,cH){var cI=new cc(this,this.get_paneTableViewModel().get_geometryBundle().get_regionGeometry());cI.invokeSortCommand(L,cH)},createSceneMarginElement:function(L,cH){var cI=this.regionParts.getSelectorForRegion(cH);var cJ=$(this.getDomNodeForContentRegion(cI));var cK=this.regionParts.getSelectorForInteractionRegion(cH);var cL=$(this.getDomNodeForContentRegion(cK));var cM=this.get_paneTableViewModel().get_sceneMarginViewModelMap()[L];cM.set_invokeSortCommand(ss.mkdel(this,this.$q));return new tab.SceneMarginElement(cJ,cL,cM)},$f:function(L,cH){var cI=ss.safeCast(this.regions[cH].get_contentProvider(),tab.BaseSceneMarginElement);var cJ={w:0,h:0};var cK={x:0,y:0};var cL=ss.isNullOrUndefined(cI);if(ss.isValue(cI)&&!ss.referenceEquals(cI.get_viewModel(),this.get_paneTableViewModel().get_sceneMarginViewModelMap()[L])){cJ=cI.get_actualViewSize();cK=cI.get_scrollPos();cI.destroy();cI=null}if(ss.isNullOrUndefined(cI)){cI=this.createSceneMarginElement(L,cH);if(!tab.SizeUtil.isEmpty(cJ)){cI.set_actualViewSize(cJ)}if(!tab.PointUtil.equals(cK,{x:0,y:0})){cI.set_scrollPos(cK)}this.updateRegionContentProvider(cH,cI);if(cL){this.get_geometryArgCache().clear()}}else if(ss.isValue(this.get_vizRegion())&&ss.isValue(this.get_vizRegion().get_contentProvider())&&_.isEqual(this.get_vizRegion().get_contentProvider().get_scrollPos(),{x:0,y:0})){this.regions[cH].$0()}},$e:function(L,cH){var cI=ss.safeCast(this.regions[cH].get_contentProvider(),cj);if(ss.isValue(cI)&&!ss.referenceEquals(cI.get_viewModel(),this.get_paneTableViewModel().get_vizRegionMap()[L])){cI.destroy();cI=null}if(ss.isNullOrUndefined(cI)){var cJ=this.regionParts.getSelectorForRegion(cH);if(ss.isValue(cJ)){var cK=this.get_paneTableViewModel().get_vizRegionMap()[L];var cL=new cj(cK,this.getDomNodeForContentRegion(cJ),this.get_paneTableViewModel());cJ.find('.tvimagesContainer').append(cL.element);this.updateRegionContentProvider(cH,cL);cL.invalidate(false);this.get_geometryArgCache().clear()}}else{this.regions[cH].$0()}},updateRegionContentProviders:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var L=tab.ModelUtils.visualPartToVizImageRegionForSceneMarginsMap;var cH=ss.getEnumerator(Object.keys(this.get_paneTableViewModel().get_vizRegionMap()));try{while(cH.moveNext()){var cI=cH.current();var cJ=L[cI];if(ss.isValue(cJ)&&ss.isValue(this.regions[cJ])){this.$e(cI,cJ)}}}finally{cH.dispose()}var cK=ss.getEnumerator(Object.keys(this.get_paneTableViewModel().get_sceneMarginViewModelMap()));try{while(cK.moveNext()){var cL=cK.current();var cM=tab.ModelUtils.getRegionsForSceneMargin(cL,this.get_paneTableViewModel().get_sceneMarginViewModelMap()[cL].get_model().get_hasHeaders(),this.get_paneTableViewModel().get_sceneMarginViewModelMap()[cL].get_model().get_hasAxes());if(cM.length>0){var cN=cM[0];if(ss.isValue(cN)&&ss.isValue(this.regions[cN])){this.$f(cL,cN)}}}}finally{cK.dispose()}var cO=ss.getEnumerator(Object.keys(L));try{while(cO.moveNext()){var cP=cO.current();var cQ=L[cP];if(!ss.keyExists(this.get_paneTableViewModel().get_vizRegionMap(),cP)&&!ss.keyExists(this.get_paneTableViewModel().get_sceneMarginViewModelMap(),tab.ModelUtils.visualPartToSceneMarginLocationMap[cP])&&ss.isValue(this.regions[cQ])){this.regions[cQ].get_contentProvider().destroy();this.regions[cQ].set_contentProvider(new A)}}}finally{cO.dispose()}}},$k:function(){return this.$18+'Z'+this.$16},handleMoveMapToBounds:function(L){if(ss.isValue(this.get_vizRegion())){this.get_vizRegion().moveMapToBounds(L)}},$9:function(){var L=new EventUtils.EventHandleSpec;L.tap=ss.mkdel(this,function(cL){if(!tab.DashboardView.isMultiSelectClick(cL)){cL.stopPropagation();cL.preventDefault();this.clearSelection()}});var cH=L;var cI=ss.mkdel(this,function(cL){this.disposables.add$1(new EventUtils.TableauEventHandler(cL.get(0),cH))});for(var cJ=0;cJ<bP.regionsThatClearSelectionOnTap.length;cJ++){var cK=bP.regionsThatClearSelectionOnTap[cJ];cI(this.regionParts.getSelectorForRegion(cK))}},$a:function(){var L=new EventUtils.EventHandleSpec;L.tap=ss.mkdel(this,function(cL){cL.preventDefault();cL.stopPropagation();this.get_paneTableViewModel().handlePaneTableViewClick(cL)});var cH=L;var cI=ss.mkdel(this,function(cL){this.disposables.add$1(new EventUtils.TableauEventHandler(cL.get(0),cH))});for(var cJ=0;cJ<bP.regionPartsToTriggerZoneSelection.length;cJ++){var cK=bP.regionPartsToTriggerZoneSelection[cJ];cI(this.regionParts.getSelectorForRegion(cK))}},$t:function(){tab.ViewController.add_selectionChanged(ss.mkdel(this,this.$u));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.ViewController.remove_selectionChanged(ss.mkdel(this,this.$u))})))},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);var L=ss.mkdict(['top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(L);this.handleNewVisual();if(this.get_paneTableViewModel().get_visualModel().get_isVisualValidAndUpToDate()){this.$p()}},checkForSuppressTooltipsAndOverlays:function(L){var cH=$(L);var cI=cH.hasClass('tabSuppressVizTooltipsAndOverlays')||cH.parents('.'+'tabSuppressVizTooltipsAndOverlays').length>0;if(cI){this.disposeOfOverlayImages();var cJ=this.get_vizToolTip();cJ.clearTooltipWithFakeHover()}this.get_vizToolTip().suppress(cI)},$g:function(){if(ss.isNullOrUndefined(this.vizTooltip)||!this.get_isSameVisualID()){this.vizTooltip=this.makeTooltip();this.connectTooltipEventHandlers()}},getVisualListViewModelForRegion:function(L){var cH=tab.ModelUtils.vizImageRegionToVisualPartForSceneMarginsMap[L];return this.get_paneTableViewModel().get_vizRegionMap()[cH]},handleZoneVisibilityChanged:function(){if(this.$V&&this.get_paneTableViewModel().get_isZoneVisible()){tab.DashboardDelayLoadingTelemetry.logUnhideDashboardDelayLoadedHiddenContent(this.getZoneType().toString(),tsConfig.is_authoring);var L=this.get_paneTableViewModel().get_tileCacheUrl();this.refreshImages(L)}}},{removeAllDragApproversAndHandlers:function(){ss.clear(bN.$8);ss.clear(bN.$9);ss.clear(bN.$5)},addVizDragApprover:function(L){bN.removeVizDragApprover(L);bN.$8.push(L)},removeVizDragApprover:function(L){ss.remove(bN.$8,L)},addVizDragHandler:function(L){bN.removeVizDragHandler(L);bN.$9.push(L)},addAsyncVizDragHandler:function(L){bN.removeAsyncVizDragHandler(L);bN.$5.push(L)},removeVizDragHandler:function(L){ss.remove(bN.$9,L)},removeAsyncVizDragHandler:function(L){ss.remove(bN.$5,L)},getPaneTableViewMousePositionFromCoordinates:function(L,cH,cI){return tab.PointUtil.subtract({x:L,y:cH},cI.get_tableViewPosition())},getScrollAmount:function(L,cH){if(L.get_horizontalScrollingManager().get_isFullTableScrollingEnabled()){return{x:0,y:cH.y}}else{return cH}},$1:function(L,cH){if(cH==='viz'){return L[1]}return(ss.contains(bP.headerRegions,cH)?L[2]:L[0])},$2:function(L,cH,cI){var cJ=cH.length;for(var cK=0;cK<cJ;cK++){var cL=cH[cK];if(cI.x+cL<=L){cI.x+=cL}else{cI.w=cL;return}}},$3:function(L,cH,cI){var cJ=cH.length;for(var cK=0;cK<cJ;cK++){var cL=cH[cK];if(cI.y+cL<=L){cI.y+=cL}else{cI.h=cL;return}}},findTitles:function(){return $('.'+'tab-tvTitle')},guessTooltipTargetTypeFromRegion:function(L){switch(L){case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return'header'}case'color':{return'legenditem'}default:{return'unspecified'}}},$0:function(L,cH){return(L.extentsX||0)===cH.extentsX&&(L.extentsY||0)===cH.extentsY&&L.extentsWidth===cH.extentsWidth&&L.extentsHeight===cH.extentsHeight},isViewDataAccessEnabled:function(){return tsConfig.allow_export_data}});var bO=global.tab.PaneTableViewModel=ss.mkType(a,'tab.PaneTableViewModel',function(L){this.$P={};this.$K={};this.$M=null;this.$J=null;this.$E=null;this.$B=null;this.$G=null;this.$F=null;this.$z=null;this.$O=null;this.$D=null;this.$N=null;this.$w=null;this.$I=false;this.$L=null;this.$C=null;this.$x=null;this.borderHighlighted=false;this.$H=-1;this.$y=null;this.$A=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.deferredResizerFactory=null;this.deferredHeaderResizerManagerViewModel=null;this.deferredCellResizerManagerViewModel=null;spiff.BaseViewModel.call(this);this.$M=L;this.$D=[];this.$J=new cb;var cH=new ss.Lazy(ss.mkdel(this,function(){return N.createHitTestChain(this,this.$J)}));this.$E=new bj(cH,this.$J);var cI='scene-only';this.$B=new U(this,cI);this.setupFromVisualModel();var cJ=ss.mkdel(this,function(){this.notifyPropertyChanged('font');this.$n()});this.$O=new co('viz',(ss.isValue(this.$M)?this.$M.get_defaultMapTool():'no-tools'));if(!this.runtimeSupported()){this.$l();this.$j();this.$i()}this.$k();this.$h();tab.ServerFontLoader.get_instance().add_fontPreparationComplete(cJ);this.disposables.add$1(new tab.CallOnDispose(function(){tab.ServerFontLoader.get_instance().remove_fontPreparationComplete(cJ)}));this.$u()},{add_vizRegionMapChange:function(L){this.$2$1=ss.delegateCombine(this.$2$1,L)},remove_vizRegionMapChange:function(L){this.$2$1=ss.delegateRemove(this.$2$1,L)},add_newPaneTable:function(L){this.$2$2=ss.delegateCombine(this.$2$2,L)},remove_newPaneTable:function(L){this.$2$2=ss.delegateRemove(this.$2$2,L)},add_textUpdated:function(L){this.$2$3=ss.delegateCombine(this.$2$3,L)},remove_textUpdated:function(L){this.$2$3=ss.delegateRemove(this.$2$3,L)},add_differentMarkBrushing:function(L){this.$2$4=ss.delegateCombine(this.$2$4,L)},remove_differentMarkBrushing:function(L){this.$2$4=ss.delegateRemove(this.$2$4,L)},add_differentMarkSelection:function(L){this.$2$5=ss.delegateCombine(this.$2$5,L)},remove_differentMarkSelection:function(L){this.$2$5=ss.delegateRemove(this.$2$5,L)},add_zoneVisibilityChanged:function(L){this.$2$6=ss.delegateCombine(this.$2$6,L)},remove_zoneVisibilityChanged:function(L){this.$2$6=ss.delegateRemove(this.$2$6,L)},add_redrawAnimationFrame:function(L){this.$2$7=ss.delegateCombine(this.$2$7,L)},remove_redrawAnimationFrame:function(L){this.$2$7=ss.delegateRemove(this.$2$7,L)},add_renderViewportBordersAnimation:function(L){this.$2$8=ss.delegateCombine(this.$2$8,L)},remove_renderViewportBordersAnimation:function(L){this.$2$8=ss.delegateRemove(this.$2$8,L)},add_geometryBundleChanged:function(L){this.$2$9=ss.delegateCombine(this.$2$9,L)},remove_geometryBundleChanged:function(L){this.$2$9=ss.delegateRemove(this.$2$9,L)},add_toggleSelectNode:function(L){this.$2$10=ss.delegateCombine(this.$2$10,L)},remove_toggleSelectNode:function(L){this.$2$10=ss.delegateRemove(this.$2$10,L)},get_geometryBundle:function(){return this.$A},set_geometryBundle:function(L){this.$A=L;this.raiseActionEvent$1(bJ).call(this,this.$2$9,this.$A)},get_horizontalScrollingManager:function(){return this.$B},get_isMap:function(){return this.$M.get_isMap()},get_isMapWithBaseLayer:function(){return this.get_isMap()&&this.get_mapServerModel().get_hasPresModel()},get_mapSearchEnabled:function(){return tsConfig.allow_filter&&this.get_isMap()&&this.get_visualModel().get_geoSearchVisibility()==='on'&&!tab.ApplicationModel.get_instance().get_isOffline()},get_tooltipContextProvider:function(){return(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?new tab.TooltipContextProvider(this.get_visualModel().get_selectionsModel()):null)},get_scene:function(){return this.$J},get_localRenderVizHitTester:function(){return this.$E},get_vizRegionMap:function(){return this.$P},get_sceneMarginViewModelMap:function(){return this.$K},get_refLineVisualLists:function(){return this.get_sceneModel().get_refLineVisualLists()},get_trendLineVisualLists:function(){return this.get_sceneModel().get_trendLineVisualLists()},get_drawFirstParts:function(){return this.get_sceneModel().get_drawFirstParts()},get_drawLastParts:function(){return this.get_sceneModel().get_drawLastParts()},get_zonePresModel:function(){return this.$M.get_zone().pm},get_isZoneVisible:function(){return this.get_zonePresModel().isVisible},get_viewController:function(){return this.$2$11},set_viewController:function(L){this.$2$11=L},get_sheetId:function(){return this.get_visualModel().get_worksheetName()},get_sortIndicators:function(){return this.$M.get_sortIndicatorsModel().get_sortIndicatorsPresModel()},get_axisRegions:function(){return this.$M.get_axisRegionModel()},get_selectionsModel:function(){return this.$M.get_selectionsModel()},get_brushingsModel:function(){return this.$M.get_brushingsModel()},get_tileCacheUrl:function(){return this.$M.get_tileCacheUrl()},get_hasTitle:function(){return this.get_zonePresModel().zoneCommon.hasTitle},get_hasCaption:function(){return this.get_zonePresModel().hasCaption},get_visualModel:function(){return this.$M},get_sceneModel:function(){return this.$M.get_sceneModel()},get_visualId:function(){return this.$M.get_visualId()},get_identifier:function(){return this.$M.get_identifier()},get_mapServerModel:function(){return this.get_visualModel().get_mapServerModel()},get_vizContextMenuViewModel:function(){return this.$N},get_annotationSelectionChromeViewModel:function(){return this.$w},get_mapsSearchViewModel:function(){return this.$G},set_mapsSearchViewModel:function(L){this.$G=L},get_mapScaleViewModel:function(){return this.$F},set_mapScaleViewModel:function(L){this.$F=L},get_vizRegionToolModeViewModel:function(){return this.$O},get_highlightBorder:function(){return this.borderHighlighted},set_highlightBorder:function(L){if(this.borderHighlighted===L){return}this.borderHighlighted=L;this.notifyPropertyChanged('borderHighlight')},get_annotationDictionary:function(){var L={};var cH=this.get_visualModel().getAnnotationList();for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];L[cJ.annotationId]=cJ}return L},get_animationStyleSettings:function(){return this.get_visualModel().animationStyleSettingsModel},setupFromVisualModel:function(){if(!ss.isValue(this.$M)){return}if(ss.isValue(this.$M.get_selectionsModel())){this.$L=this.$M.get_selectionsModel().createSelectionsToken()}if(ss.isValue(this.$M.get_selectionsModel().tupleSelection)){this.$M.get_selectionsModel().add_newSelections(ss.mkdel(this,this.$b))}this.$M.get_impliedSelectionModel().add_newSelection(ss.mkdel(this,this.$b));if(ss.isValue(this.$M.get_brushingsModel().tupleSelection)){this.$M.get_brushingsModel().add_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$M.get_sceneModel())){this.$M.get_sceneModel().add_newSceneModel(ss.mkdel(this,this.handleSceneChange));this.handleSceneChange();this.$I=false}this.$M.add_newHiddenTuples(ss.mkdel(this,this.$9));this.$M.add_newFilteredTuples(ss.mkdel(this,this.$8));this.$M.add_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$M.add_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$M.add_vizNavigationSettingChanged(ss.mkdel(this,this.$g));this.$M.add_newVisual(ss.mkdel(this,this.$f));this.$M.add_emptyHighlightFogAllChanged(ss.mkdel(this,this.$7));this.$M.add_annotationHitBoxesChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$M.remove_annotationHitBoxesChanged(ss.mkdel(this,this.$c))})));if(ss.isValue(this.$M.get_zone())){this.$M.get_zone().add_zoneVisibilityChanged(ss.mkdel(this,this.handleZoneVisibilityChanged));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$M.get_zone().remove_zoneVisibilityChanged(ss.mkdel(this,this.handleZoneVisibilityChanged))})))}this.$B.setWholeVizScrollThreshold(this.$M.pm.wholeVizScrollThreshold)},getSheetId:function(){return this.get_visualModel().get_worksheetName()},runtimeSupported:function(){return ss.isValue(this.get_sceneModel())&&this.get_sceneModel().runtimeSceneMarginSupported()},getMarkAnimationController:function(){return this.$H},updateAnimationFrame:function(){if(this.$H>0&&tab.AnimationUtil.hasAnimationFrame(this.$H)){tab.AnimationUtil.getAnimationFrame(this.$H).done(ss.mkdel(this,function(L){this.$E.clearCache();var cH=tab.AnimationUtil.convertUnmarshalledDatastoreToRenderingInputStore(L);var cI=tab.AnimationUtil.animationIsEnabledFor(this.get_visualModel().get_visualId());var cJ=new tab.RuntimeData.$ctor1(cH,cI);var cK=window.performance.now();bO.updateSceneInfoFromVisualModel(this.$J,this.get_visualModel(),cJ);tab.AnimationLogData.appendUpdateSceneInfoDuration(this.$H,window.performance.now()-cK);cK=window.performance.now();this.drawAnimationFrame();tab.AnimationLogData.appendRedrawDuration(this.$H,window.performance.now()-cK)}))}},drawAnimationFrame:function(){this.raiseActionEvent(this.$2$7)},$q:function(){if(!ss.isNullOrUndefined(this.$J.scene)){this.$y=this.$J.scene.runtimeAnimationDatastore}tab.AnimationUtil.createMarkAnimationController().done(ss.mkdel(this,function(L){this.$H=L;if(this.$H>0){var cH=!tab.MiscUtil.isNullOrEmpty$1(this.$y);if(cH){this.$t()}}}))},$t:function(){tab.AnimationUtil.doAnimation(this.$H,this.$y,this.get_animationStyleSettings().get_animationStyle(),this.get_animationStyleSettings().get_animationDuration());this.$y=''},$r:function(){tab.AnimationUtil.trackPaneViewModel(this);if(!ss.isNullOrUndefined(this.$J.scene)){this.$s()}},$s:function(){if(tab.FeatureFlags.isEnabled('AnimationStoreOptimization')){tab.RuntimeWebModule.proxy.loadBinaryDatastoreHex(this.$J.scene.runtimeAnimationDatastore).done(ss.mkdel(this,function(L){tab.RuntimeWebModule.proxy.marshallDatastore(L).done(ss.mkdel(this,function(cH){{var cI=tab.AnimationUtil.animationIsEnabledFor(this.get_visualModel().get_visualId());var cJ=new tab.RuntimeData.$ctor1(cH,cI);tab.AnimationUtil.doAnimation(this.$H,this.$J.scene.runtimeAnimationDatastore,this.get_animationStyleSettings().get_animationStyle(),this.get_animationStyleSettings().get_animationDuration())}}))}))}else{tab.AnimationUtil.doAnimation(this.$H,this.$J.scene.runtimeAnimationDatastore,this.get_animationStyleSettings().get_animationStyle(),this.get_animationStyleSettings().get_animationDuration())}},$l:function(){var L=$.Deferred();this.deferredResizerFactory=L.promise();if(tsConfig.is_authoring){tab.ModuleManager.load$1(tab.IResizeHeadersModule).call(null,[]).done(function(cH){L.resolve(cH)})}},$j:function(){if(tsConfig.is_authoring&&ss.isValue(this.$M.resizeInfoModel)){var L=$.Deferred();this.deferredHeaderResizerManagerViewModel=L.promise();this.deferredResizerFactory.done(ss.mkdel(this,function(cH){L.resolve(cH.newHeaderResizerManagerViewModel(this.$M.resizeInfoModel,this.$M.get_visualId()))}))}},$i:function(){if(tsConfig.is_authoring&&ss.isValue(this.$M.resizeInfoModel)){var L=$.Deferred();this.deferredCellResizerManagerViewModel=L.promise();this.deferredResizerFactory.done(ss.mkdel(this,function(cH){L.resolve(cH.newCellResizerManagerViewModel(this.$M.resizeInfoModel,this.$M.get_visualId()))}))}},$k:function(){if(tsConfig.is_authoring&&!tsConfig.is_mobile){this.$N=new cz(null)}},$h:function(){if(tsConfig.is_authoring&&tsConfig.current_sheet_type!=='story'&&!tsConfig.is_mobile){var L=ss.mkdel(this,function(){return this.get_annotationDictionary()});this.$w=new p(this.get_visualId(),L);this.$w.setContextMenuViewModel(this.$N);if(ss.isValue(this.get_vizRegionToolModeViewModel())){this.get_vizRegionToolModeViewModel().add_toolbarToolModeUpdated(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_vizRegionToolModeViewModel().remove_toolbarToolModeUpdated(ss.mkdel(this,this.$e))})))}if(ss.isValue(this.$M.get_zone())&&ss.isValue(this.$M.get_zone().get_dashboardModel())){this.$M.get_zone().get_dashboardModel().add_activeZoneChanged(ss.mkdel(this,function(){if(this.$M.get_zone().get_dashboardModel().get_activeZoneID()!==this.$M.get_zone().get_zoneId()&&this.$M.get_zone().get_dashboardModel().get_activeZoneID()!==0){this.$w.clearSelection()}}))}}},$e:function(L){if(L==='area-zoom'){this.clearAnnotationSelection()}},handleRightClick:function(L,cH){if(ss.isValue(this.$w)&&L.get_hitObjectType()===2){this.$w.handleRightClick(L,cH)}else{if(ss.isValue(this.$w)){this.$w.clearSelection()}var cI=[];var cJ=new cy(L,cH,this.get_visualId());cI.push(cJ);if(this.get_isMap()&&tab.FeatureFlags.isEnabled('MapsRightClickOptions')){var cK=new cC(L,cH,this.get_visualId());cI.push(cK)}var cL={x:cH.x,y:cH.y};if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){cL.x-=this.get_horizontalScrollingManager().getScrollOffsetForRegion('viz')}this.$N.show(cL,ss.arrayClone(cI))}},handlePaneTableViewClick:function(L){if(ss.isValue(this.$M.get_zone())&&!tsConfig.is_mobile){this.$M.get_zone().handlePaneTableSelectionClick(tab.DashboardView.isMultiSelectClick(L),L.clientX,L.clientY)}},hideAnnotations:function(){if(ss.isValue(this.get_annotationSelectionChromeViewModel())){this.get_annotationSelectionChromeViewModel().hideAll()}},handleMouseWheelScroll:function(){if(this.$M.get_isMap()){this.hideAnnotations()}},handleAnnotationDragStarted:function(L){var cH=this.get_localRenderVizHitTester().onTapHitTest(L);if(this.get_vizRegionToolModeViewModel().get_isZoomToolActive()){this.hideAnnotations();return false}else if(ss.isValue(this.get_annotationSelectionChromeViewModel())){if(this.get_annotationSelectionChromeViewModel().dragStarted(cH,L)){return true}if(this.get_vizRegionToolModeViewModel().get_isPanToolActive()){this.hideAnnotations()}else{this.clearAnnotationSelection()}}return false},handleDrag:function(L){if(ss.isValue(this.get_annotationSelectionChromeViewModel())){this.get_annotationSelectionChromeViewModel().onDrag(L)}},handleDragEnded:function(L){if(ss.isValue(this.get_annotationSelectionChromeViewModel())){if(this.get_vizRegionToolModeViewModel().get_isZoomToolActive()){this.get_annotationSelectionChromeViewModel().hideAll()}this.get_annotationSelectionChromeViewModel().dragEnded(L)}},vizContextMenuOpened:function(){return ss.isValue(this.$N)&&!this.$N.isHidden||ss.isValue(this.get_annotationSelectionChromeViewModel())&&this.get_annotationSelectionChromeViewModel().isCaretMenuOpened()},canDeleteAnnotationWithKeystroke:function(){return ss.isValue(this.get_annotationSelectionChromeViewModel())},isAnnotationDragging:function(){if(ss.isValue(this.get_annotationSelectionChromeViewModel())){return this.get_annotationSelectionChromeViewModel().isDragging()}return false},dispose:function(){if(ss.isValue(this.$G)){this.$G.dispose()}if(ss.isValue(this.$F)){this.$F.dispose()}if(ss.isValue(this.$N)){this.$N.dispose()}if(ss.isValue(this.$w)){this.$w.dispose()}if(ss.isValue(this.$M)){if(ss.isValue(this.$M.get_selectionsModel().tupleSelection)){this.$M.get_selectionsModel().remove_newSelections(ss.mkdel(this,this.$b))}this.$M.get_impliedSelectionModel().remove_newSelection(ss.mkdel(this,this.$b));if(ss.isValue(this.$M.get_brushingsModel().tupleSelection)){this.$M.get_brushingsModel().remove_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$M.get_sceneModel())){this.$M.get_sceneModel().remove_newSceneModel(ss.mkdel(this,this.handleSceneChange))}this.$M.remove_newHiddenTuples(ss.mkdel(this,this.$9));this.$M.remove_newFilteredTuples(ss.mkdel(this,this.$8));this.$M.remove_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$M.remove_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$M.remove_vizNavigationSettingChanged(ss.mkdel(this,this.$g));this.$M.remove_newVisual(ss.mkdel(this,this.$f));this.$M.remove_emptyHighlightFogAllChanged(ss.mkdel(this,this.$7));this.$z=tab.MiscUtil.dispose$1(this.$z)}var L=new ss.ObjectEnumerator(this.$P);try{while(L.moveNext()){var cH=L.current();cH.value.dispose()}}finally{L.dispose()}var cI=new ss.ObjectEnumerator(this.$K);try{while(cI.moveNext()){var cJ=cI.current();cJ.value.dispose()}}finally{cI.dispose()}this.$O.dispose();tab.AnimationUtil.untrackPaneViewModel(this.$H);spiff.BaseViewModel.prototype.dispose.call(this)},getAndClearInvalidationRects:function(){var L=this.$D;this.$D=[];return L},handleAnnotationDoubleClicked:function(L){this.clearAnnotationSelection();tab.RichTextClientCommands.launchAnnotationRichTextEditor(this.get_sheetId(),L);tab.FormattingTelemetryClient.logRichTextEditorEvent(ss.mkdict(['RichTextEditorOpenedBy','DoubleClick','RichTextEditorOpenedFrom','Annotation']))},handleAnnotationHover:function(L){if(ss.isValue(this.get_annotationSelectionChromeViewModel())&&!this.get_vizRegionToolModeViewModel().get_isZoomToolActive()){this.get_annotationSelectionChromeViewModel().onHover(this.get_localRenderVizHitTester().onHoverHitTest(L))}},$a:function(){this.notifyPropertyChanged('images')},$g:function(){this.notifyPropertyChanged('vizNavigationSetting')},$b:function(){var L=this.$M.get_selectionsModel().computeSelectionsDiff(this.$L,this.$C,this.$M.get_impliedSelectionModel());if(!ss.staticEquals(this.$2$5,null)&&bO.$1(L,this.$M.get_selectionsModel(),this.$M.get_impliedSelectionModel())){this.$2$5()}this.$L=this.$M.get_selectionsModel().createSelectionsToken();this.$C=this.$M.get_impliedSelectionModel().createSelectionToken();this.$p(L,'selection')},$3:function(){var L=this.$M.get_brushingsModel().computeSelectionsDiff(this.$x,null,null);if(!ss.staticEquals(this.$2$4,null)&&bO.$1(L,this.$M.get_brushingsModel(),null)){this.$2$4()}this.$x=this.$M.get_brushingsModel().createSelectionsToken();this.$J.setEmptyHighlightFogAll(this.$M.get_emptyHighlightFogAll());this.$p(L,'brushing')},$p:function(L,cH){if(!L.get_invalidateViz()){if(L.get_objectIds().length===0){return}var cI=this.$J.getMarksInvalidationRects(L.get_objectIds());this.$0(cI)}this.notifyPropertyChanged(cH)},$4:function(){this.$J.setIsTargetOfBrushingAction(this.$M.get_isBrushedFromAction());this.notifyPropertyChanged('brushing')},$7:function(){this.$J.setEmptyHighlightFogAll(this.$M.get_emptyHighlightFogAll());this.$I=true},$9:function(){var L=tab.SelectionsModel.computeTupleDictionaryDifference(this.$M.get_hiddenTuples(),this.$J.get_hiddenTuples());if(L.length===0){return}var cH=this.$J.getMarksInvalidationRects(L);this.$0(cH);this.$J.set_hiddenTuples(this.$M.get_hiddenTuples());this.$m()},$8:function(){var L=tab.SelectionsModel.computeTupleDictionaryDifference(this.$M.get_filteredTuples(),this.$J.get_filteredTuples());if(L.length===0){return}var cH=this.$J.getMarksInvalidationRects(L);this.$0(cH);this.$J.set_filteredTuples(this.$M.get_filteredTuples());this.$m()},$5:function(){this.$I=true},$0:function(L){ss.arrayAddRange(this.$D,L)},$c:function(){this.$m()},handleAnnotationSelection:function(L,cH,cI){this.handleAnnotationSelection$1(this.get_localRenderVizHitTester().onTapHitTest(L),cH,cI)},handleAnnotationSelection$1:function(L,cH,cI){var cJ=this.get_vizRegionToolModeViewModel().get_currentToolbarToolMode();if(ss.isNullOrUndefined(this.get_annotationSelectionChromeViewModel())||cJ==='area-zoom'){return}if(ss.isNullOrUndefined(L)||L.get_hitObjectType()!==2){this.clearAnnotationSelection()}else{this.get_annotationSelectionChromeViewModel().handleAnnotationClicked(L.get_id(),cI,cH==='toggle')}},deleteSelectedAnnotations:function(){if(ss.isNullOrUndefined(this.get_annotationSelectionChromeViewModel())){return}this.get_annotationSelectionChromeViewModel().deleteSelectedAnnotationsFromKeystroke()},clearAnnotationSelection:function(){if(ss.isNullOrUndefined(this.get_annotationSelectionChromeViewModel())){return}this.get_annotationSelectionChromeViewModel().clearSelection()},updateAnnotationSelection:function(){if(ss.isNullOrUndefined(this.get_annotationSelectionChromeViewModel())){return}this.get_annotationSelectionChromeViewModel().update()},applyXScrollOffsetToChildren:function(L){if(ss.isValue(this.get_annotationSelectionChromeViewModel())){this.get_annotationSelectionChromeViewModel().scrollX(L)}if(ss.isValue(this.get_vizContextMenuViewModel())){this.get_vizContextMenuViewModel().get_scrollOffset().x=L}},applyYScrollOffsetToChildren:function(L){if(ss.isValue(this.get_annotationSelectionChromeViewModel())){this.get_annotationSelectionChromeViewModel().scrollY(L)}if(ss.isValue(this.get_vizContextMenuViewModel())){this.get_vizContextMenuViewModel().get_scrollOffset().y=L}},updateAnnotationSelectionBounds:function(L){if(ss.isValue(this.get_annotationSelectionChromeViewModel())){this.get_annotationSelectionChromeViewModel().setBounds(L)}},getNodeAndRegionById:function(L){var cH=new ss.ObjectEnumerator(this.get_sceneMarginViewModelMap());try{while(cH.moveNext()){var cI=cH.current();var cJ=cI.value;if(ss.isValue(cJ)){var cK=cJ.getNodeWithId(L);if(!ss.isNullOrUndefined(cK)){var cL=tab.ModelUtils.getRegionsForSceneMargin(cI.key,cI.value.get_model().get_hasHeaders(),cI.value.get_model().get_hasAxes());if(cL.length>0){return{item1:cK,item2:cL[cL.length-1]}}}}}}finally{cH.dispose()}return null},$2:function(L){var cH=false;var cI=this.get_sceneModel().get_visualListModels()[L];var cJ=this.$P[L];if(ss.isValue(cJ)&&ss.referenceEquals(cJ.get_visualList(),cI)){}else{tab.MiscUtil.dispose$1(this.$P[L]);delete this.$P[L];if(ss.contains(bO.blackListVisualParts,L)){this.$P[L]=new ct(cI,this.get_visualId(),tab.ModelUtils.visualPartToVizImageRegionForSceneMarginsMap[L],this.$M.get_selectionsModel(),this.$M.get_brushingsModel())}else{this.$P[L]=new ct(cI,this.get_visualId(),tab.ModelUtils.visualPartToVizImageRegionForSceneMarginsMap[L],null,null)}cH=true}return cH},createSceneMarginViewModel:function(L){var cH=this.get_sceneModel().get_sceneMarginModelMap()[L];if(!ss.referenceEquals(cH.get_visualID(),this.get_visualId())){cH.set_visualID(this.get_visualId())}var cI=this.get_selectionsModel().nodeSelection;var cJ=this.get_brushingsModel().nodeSelection;var cK=new tab.SceneMarginViewModel(cH,cI,cJ);cK.set_page(this.$M.pm.scene.currentPage);cK.set_handleToggleSelectNode(ss.mkdel(this,this.$d));cK.set_handleDeselectNode(ss.mkdel(this,this.$6));return cK},$d:function(L){this.raiseActionEvent$1(String).call(this,this.$2$10,L)},$6:function(){tab.SelectionClientCommands.clearAllSelections(this.get_visualId())},$1:function(L){var cH=tab.ModelUtils.visualPartToSceneMarginLocationMap[L];var cI=this.$K[cH];var cJ=this.get_sceneModel().get_sceneMarginModelMap()[cH];if(ss.isValue(cI)&&ss.referenceEquals(cI.get_model(),cJ)){}else{tab.MiscUtil.dispose$1(this.$K[cH]);delete this.$K[cH];this.$K[cH]=this.createSceneMarginViewModel(cH)}return true},handleSceneChange:function(){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var L=false;var cH=[];var cI=ss.getEnumerator(Object.keys(this.get_sceneModel().get_visualListModels()));try{while(cI.moveNext()){var cJ=cI.current();if(this.get_sceneModel().runtimeRegionSupported(cJ)){L=this.$1(cJ);cH.push(tab.ModelUtils.visualPartToSceneMarginLocationMap[cJ])}else{L=this.$2(cJ)}}}finally{cI.dispose()}var cK=Object.keys(this.$P);var cL=ss.getEnumerator(cK);try{while(cL.moveNext()){var cM=cL.current();if(!ss.keyExists(this.get_sceneModel().get_visualListModels(),cM)){tab.MiscUtil.dispose$1(this.$P[cM]);delete this.$P[cM];L=true}}}finally{cL.dispose()}var cN=new ss.ObjectEnumerator(this.$K);try{while(cN.moveNext()){var cO=cN.current();var cP=cO.key;if(!_.contains(cH,parseInt(cP))){tab.MiscUtil.dispose$1(this.get_sceneMarginViewModelMap()[cP]);delete this.get_sceneMarginViewModelMap()[cP];L=true}}}finally{cN.dispose()}var cQ=this.get_visualModel().get_backgroundColor().toString();var cR=ss.getEnumerator(Object.keys(this.$P));try{while(cR.moveNext()){var cS=cR.current();this.$P[cS].set_defaultBackgroundColor(cQ)}}finally{cR.dispose()}if(L){this.$o()}this.$I=true},$v:function(){var L=this.get_scene().scene.currentPage;var cH=new ss.ObjectEnumerator(this.get_sceneMarginViewModelMap());try{while(cH.moveNext()){var cI=cH.current();if(ss.isValue(cI.value)){cI.value.set_page(L)}}}finally{cH.dispose()}},$f:function(){if(ss.isValue(this.$M)){this.$B.setWholeVizScrollThreshold(this.$M.pm.wholeVizScrollThreshold)}if(tab.AnimationUtil.isUpdating()||this.$I){this.$u();this.$v();this.$m()}this.$I=false;this.raiseActionEvent(this.$2$2)},$o:function(){if(ss.isValue(this.$2$1)){this.$2$1()}},$u:function(){var L=(ss.isValue(this.$M)?this.$M.get_runtimeData():null);bO.updateSceneInfoFromVisualModel(this.$J,this.$M,L);if(this.$J.customShapes.length>0){this.$z=this.$z||new cf(ss.mkdel(this,function(){this.notifyPropertyChanged('images')}));this.$z.initialize(this.$J.customShapes)}if(ss.isValue(this.$M)&&ss.isValue(this.$M.pm)&&ss.isValue(this.$M.pm.imageDictionary)){this.$J.updateImageMap(this.$M.pm.imageDictionary,ss.mkdel(this,this.$a))}tab.AnimationLogData.logUserKillSwitchSettingForForceOn();if(tab.AnimationUtil.isAnimationGloballyEnabled()){if(this.$H<=0){this.$q()}else if(tab.AnimationUtil.animationIsEnabledFor(this.get_visualId())){this.$r()}else if(this.$M.get_blockMarkAnimationForNextCommand()&&!ss.isNullOrUndefined(this.$J.scene.runtimeAnimationDatastore)){tab.AnimationUtil.setPreviousTargetDataStoreHex(this.$H,this.$J.scene.runtimeAnimationDatastore)}else{tab.AnimationUtil.resetMarkAnimationController(this.$H)}}},$m:function(){this.$E.clearCache();this.notifyPropertyChanged('scene')},isInvalidSheet:function(){return _.any(this.$M.get_invalidSheets(),ss.mkdel(this,function(L){return _.isEqual(this.get_visualId(),L)}))},shouldEnableZoomHomeToolbar:function(){return this.get_visualModel().get_hasModifiedAxes()},$n:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},handleZoneVisibilityChanged:function(){if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}}},{updateSceneInfoFromVisualModel:function(L,cH,cI){if(ss.isNullOrUndefined(L)||ss.isNullOrUndefined(cH)||ss.isNullOrUndefined(cI)||ss.isNullOrUndefined(cI.get_annexedData())){return}var cJ=cH.pm.colorDictionary;var cK=cH.pm.scene;var cL=(ss.isValue(cH.get_selectionsModel().tupleSelection)?cH.get_selectionsModel():null);var cM=(ss.isValue(cH.get_impliedSelectionModel())?cH.get_impliedSelectionModel():null);var cN=(ss.isValue(cH.get_brushingsModel().tupleSelection)?cH.get_brushingsModel():null);var cO=((ss.isValue(cH.get_sceneModel())&&ss.isValue(cH.get_sceneModel().get_referenceLines()))?cH.get_sceneModel().get_referenceLines():null);var cP=cH.get_hiddenTuples();var cQ=cH.get_filteredTuples();var cR=bO.$0(cH);L.setSceneData(cK,cL,cM,cN,cJ,cP,cQ,cI,cO,cR);L.setLabelInfo(cI,cK.currentPage);L.setIsTargetOfBrushingAction(cH.get_isBrushedFromAction());L.setEmptyHighlightFogAll(cH.get_emptyHighlightFogAll())},$1:function(L,cH,cI){switch(L.get_reason()){case 1:{if(cH.hasTupleSelection()){return true}return ss.isValue(cI)&&cI.get_selectionType()==='tuples'&&cI.get_ids().length>0}case 2:{return L.get_invalidateViz()||L.get_objectIds().length>0}default:{return false}}},$0:function(L){var cH=L.get_geometryModel().pm;var cI=null;if(ss.isValue(cH)&&ss.isValue(cH.ri)){var cJ=cH.ri;for(var cK=0;cK<cJ.length;cK++){if(cJ[cK].r==='viz'){cI={x:0,y:0,w:cJ[cK].w,h:cJ[cK].h};break}}}return cI}});var bP=global.tab.PaneTableViewRegionParts=ss.mkType(a,'tab.PaneTableViewRegionParts',function(L){this.$2=null;this.$4=null;this.$3=null;this.$2=L;this.$4=this.$1();this.$3=this.$0()},{$0:function(){var L={};L['xheader']=this.$2.xLabelInteraction;L['yheader']=this.$2.yLabelInteraction;L['leftaxis']=this.$2.leftAxisInteraction;L['rightaxis']=this.$2.rightAxisInteraction;L['bottomaxis']=this.$2.bottomAxisInteraction;L['topaxis']=this.$2.topAxisInteraction;return L},$1:function(){var L={};L['uleft']=this.$2.topLeftSpacer;L['uright']=this.$2.topRightSpacer;L['lleft']=this.$2.bottomLeftSpacer;L['lright']=this.$2.bottomRightSpacer;L['title']=this.$2.title;L['caption']=this.$2.caption;L['xheader']=this.$2.xLabel;L['yheader']=this.$2.yLabel;L['leftaxis']=this.$2.leftAxis;L['rightaxis']=this.$2.rightAxis;L['bottomaxis']=this.$2.bottomAxis;L['topaxis']=this.$2.topAxis;L['viz']=this.$2.view;return L},getSelectorForRegion:function(L){return this.$4[L]},getSelectorForInteractionRegion:function(L){return this.$3[L]}},{getVisibleGeometryForRegionIfExists:function(L,cH,cI){switch(L){case'uleft':{return cH.uleftArea}case'uright':{return cH.urightArea}case'lleft':{return cH.lleftArea}case'lright':{return cH.lrightArea}case'xheader':{if(cI){return cH.xheaderAreaLegacy}return cH.xheaderArea}case'yheader':{if(cI){return cH.yheaderAreaLegacy}return cH.yheaderArea}case'leftaxis':{if(cI){return cH.leftaxisAreaLegacy}return cH.leftaxisArea}case'rightaxis':{return cH.rightaxisArea}case'bottomaxis':{return cH.bottomaxisArea}case'topaxis':{if(cI){return cH.topaxisAreaLegacy}return cH.topaxisArea}case'viz':{return cH.vizArea}default:{return null}}},getRegionRectForRegionIfExists:function(L,cH){switch(L){case'uleft':{return cH.uleft}case'uright':{return cH.uright}case'lleft':{return cH.lleft}case'lright':{return cH.lright}case'xheader':{return cH.xheader}case'yheader':{return cH.yheader}case'leftaxis':{return cH.leftaxis}case'rightaxis':{return cH.rightaxis}case'bottomaxis':{return cH.bottomaxis}case'topaxis':{return cH.topaxis}case'viz':{return cH.viz}default:{return null}}}});var bQ=global.tab.PaneTableViewWebMetrics=ss.mkType(a,'tab.PaneTableViewWebMetrics',null,null,{createWheelZoomFullyCompleteContext:function(){return tabBootstrap.MetricsController.createContext('WheelZoomFullyComplete',512,null)}});var bR=global.tab.PolyShapeSelector=ss.mkType(a,'tab.PolyShapeSelector',function(L,cH){this.$m=null;this.$n=null;this.$l=null;this.$o=false;this.$r='';this.$k=null;this.$p=null;this.$q=null;cg.call(this,L,"<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>",'tvdrag_svg_div');this.$m=[];this.$n=[];this.$l={};this.$o=cH;this.$p=null;this.$q=null},{get_hitTestingBox:function(){return((this.$m.length===0)?{x:0,y:0,w:1,h:1}:tab.RectXYUtil.nonemptyify(this.$i(true)))},get_autoScrollAdjustment:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?this.get_autoScrollOffset():{x:0,y:0})},isSingleSelect:function(){return this.$m.length===0},$i:function(L){var cH=(L?this.$n:this.$m);var cI=cH[0].x;var cJ=cI;var cK=cH[0].y;var cL=cK;for(var cM=0;cM<cH.length;cM++){var cN=cH[cM];if(cN.x<cI){cI=cN.x}else if(cN.x>cJ){cJ=cN.x}if(cN.y<cK){cK=cN.y}else if(cN.y>cL){cL=cN.y}}return{x:cI,y:cK,w:cJ-cI,h:cL-cK}},updateSpecificShape:function(L){if(this.$m.length===0){var cH=this.get_dragStart().x-this.get_connectedDomNodeRect().x;var cI=this.get_dragStart().y-this.get_connectedDomNodeRect().y;this.$f(cH,cI)}var cJ=L.x;var cK=L.y;this.$f(cJ,cK)},renderShape:function(){if(ss.isNullOrEmptyString(this.$r)){return}this.get_dom().find('svg path').attr('d',this.$r);this.$k=tab.MiscUtil.clearTimeout(this.$k);this.$k=window.setTimeout(ss.mkdel(this,function(){this.$h()}),300);this.get_dom().css('display','')},$h:function(){this.$k=tab.MiscUtil.clearTimeout(this.$k);this.get_dom().find('svg path').attr('d',this.$r+'Z')},show:function(){this.$g();this.renderShape();this.get_dom().find('.selectionShape').show()},hide:function(){this.get_dom().find('.selectionShape').hide()},shapeAreaHit:function(L,cH,cI,cJ){var cK=cI.get_objectId();var cL=cH.markType;var cM=P.rectangleAreaHit(cH,cI.get_boundingBox(),L,cK,cJ,cL);if(!cM){return false}var cN=0;var cO=0;if(cJ.get_transformType()===3){cN=cJ.get_translateX();cO=cJ.get_translateY()}var cP=this.$j(cN,cO);return P.polyAreaHit(cH,cI.get_boundingBox(),cP,cK,cJ,cL)},sendSelectionCommand:function(L,cH,cI,cJ){tab.SelectionClientCommands.selectPolyRegionAndDoUbertip(L,this.get_hitTestingBox(),this.$n,cH,cI,cJ)},sendSelectionCommand$1:function(L,cH,cI,cJ,cK,cL){tab.SelectionClientCommands.selectPolyRegionAndDoUbertip$1(L,this.get_hitTestingBox(),this.$n,cH,cI,cJ,cK,cL)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new bS)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var cH=L;cH.saveCurrentState(this.$n)}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),bS)){return true}}return false},$g:function(){ss.clear(this.$m);ss.clear(this.$n);ss.clearKeys(this.$l);this.$r='';this.$p=null;this.$q=null},$f:function(L,cH){var cI=2;var cJ=1;if(this.$o&&ss.isValue(this.$p)&&ss.isValue(this.$q)){if(Math.abs(L-ss.unbox(this.$p))<cI&&Math.abs(cH-ss.unbox(this.$q))<cI){return}}var cK=L+this.get_drawOffsets().x+this.get_autoScrollAdjustment().x;var cL=cH+this.get_drawOffsets().y+this.get_autoScrollAdjustment().y;var cM=L+this.get_totalScrollOffset().x;var cN=cH+this.get_totalScrollOffset().y;var cO=false;var cP=false;var cQ=false;var cR=this.$n.length;if(this.$o){if(cR>1){var cS=this.$n[cR-1];var cT=this.$n[cR-2];var cU=Math.abs(cM-cT.x);var cV=Math.abs(cM-cS.x);var cW=Math.abs(cN-cT.y);var cX=Math.abs(cN-cS.y);cO=cW<=cJ&&cX<=cJ;if(cO){cO=bR.$0(cM,cS.x,cT.x)}else{cP=cU<=cJ&&cV<=cJ;if(cP){cP=bR.$0(cN,cS.y,cT.y)}else{cQ=cU*cX===cW*cV&&bR.$0(cM,cS.x,cT.x)}}}}var cY=cR-1;if(cO){this.$m[cY].x=cK;this.$n[cY].x=cM}else if(cP){this.$m[cY].y=cL;this.$n[cY].y=cN}else if(cQ){this.$m[cY].x=cK;this.$m[cY].y=cL;this.$n[cY].x=cM;this.$n[cY].y=cN}else{this.$m.push({x:cK,y:cL});this.$n.push({x:cM,y:cN})}this.$r='';var cZ=this.get_autoScrollAdjustment();var da='M';for(var db=0;db<this.$m.length;db++){var dc=this.$m[db];this.$r+=da+(dc.x-cZ.x)+','+(dc.y-cZ.y);da='L'}this.$p=L;this.$q=cH},$j:function(L,cH){var cI=0;var cJ=this.$n.length;var cK=L.toString()+':'+cH.toString();var cL=this.$l[cK];if(ss.isNullOrUndefined(cL)){cL=new Array(cJ*2);this.$l[cK]=cL}else{cI=ss.idiv(cL.length,2);if(this.$o){cI-=1}cL.length=cJ*2}var cM=Math.round(L);var cN=Math.round(cH);for(var cO=cI,cP=cI*2;cO<cJ;cO++,cP+=2){var cQ=this.$n[cO];cL[cP]=cQ.x-cM;cL[cP+1]=cQ.y-cN}return cL}},{$0:function(L,cH,cI){return L>=cH&&cH>=cI||L<=cH&&cH<=cI}});var bS=global.tab.PolyShapeState=ss.mkType(a,'tab.PolyShapeState',function(){this.$0=null;this.$1=0;ch.call(this);this.$0=[];this.$1=0},{saveCurrentState:function(L){if(L.length<this.$1){}this.$0=ss.arrayClone(L)},updateLastState:function(){this.$1=Math.max(0,this.$0.length-1)},getStateDiff:function(){if(this.$0.length===0){return[]}var L=this.$0[0].y;var cH=L;var cI=this.$0[0].x;var cJ=cI;for(var cK=this.$1,cL=this.$0.length;cK<cL;cK++){L=Math.min(L,this.$0[cK].y);cH=Math.max(cH,this.$0[cK].y);cI=Math.min(cI,this.$0[cK].x);cJ=Math.max(cJ,this.$0[cK].x)}var cM=new Array(1);cM[0]=tab.RectXYUtil.nonemptyify({x:cI,y:L,w:cJ-cI,h:cH-L});return cM}});var bT=global.tab.RectShapeSelector=ss.mkType(a,'tab.RectShapeSelector',function(){this.$f=null;this.$g=null;cg.call(this,{x:0,y:0,w:0,h:0},'<div></div>','tvdrag');this.$f={x:0,y:0,w:0,h:0};this.$g={x:0,y:0,w:0,h:0}},{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$g)},isSingleSelect:function(){return this.$f.w<=1&&this.$f.h<=1},updateSpecificShape:function(L){var cH=this.get_dragStart().x-this.get_connectedDomNodeRect().x;var cI=this.get_dragStart().y-this.get_connectedDomNodeRect().y;var cJ=Math.round(Math.min(L.x,cH));var cK=Math.round(Math.max(L.x,cH));var cL=Math.round(Math.min(L.y,cI));var cM=Math.round(Math.max(L.y,cI));var cN=cK-cJ;var cO=cM-cL;this.$f={x:cJ+this.get_drawOffsets().x,y:cL+this.get_drawOffsets().y,w:cN,h:cO};this.$g={x:cJ+this.get_totalScrollOffset().x,y:cL+this.get_totalScrollOffset().y,w:cN,h:cO}},renderShape:function(){var L={l:this.$f.x,t:this.$f.y,w:this.$f.w,h:this.$f.h};tab.DomUtil.setMarginBoxJQ(this.get_dom(),L);this.get_dom().css('display','')},show:function(){this.get_dom().addClass('tvdrag_marquee')},hide:function(){this.get_dom().removeClass('tvdrag_marquee')},shapeAreaHit:function(L,cH,cI,cJ){return P.rectangleAreaHit(cH,cI.get_boundingBox(),L,cI.get_objectId(),cJ,cH.markType)},sendSelectionCommand:function(L,cH,cI,cJ){tab.SelectionClientCommands.selectRectRegionAndDoUbertip(L,this.get_hitTestingBox(),cH,cI,cJ,null)},sendSelectionCommand$1:function(L,cH,cI,cJ,cK,cL){tab.SelectionClientCommands.selectRectRegionAndDoUbertip$1(L,this.get_hitTestingBox(),cH,cI,cJ,cK,cL,null)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new bU)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var cH=L;cH.saveCurrentState(this.get_hitTestingBox())}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),bU)){return true}}return false}});var bU=global.tab.RectShapeState=ss.mkType(a,'tab.RectShapeState',function(){this.$0=null;this.$1=null;ch.call(this);this.$0={x:0,y:0,w:0,h:0};this.$1={x:0,y:0,w:0,h:0}},{saveCurrentState:function(L){this.$0=tab.RectXYUtil.clone(L)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.RectXYUtil.isEmpty(this.$1)){return tab.RectXYUtil.getChangedRects(this.$1,this.$0)}var L=new Array(1);L[0]=this.$0;return L}});var bV=global.tab.ReferenceLinesRenderer=ss.mkType(a,'tab.ReferenceLinesRenderer',function(L,cH){this.$O='normal';this.$N=null;bz.call(this,L,cH)},{renderReferenceLines:function(L,cH,cI,cJ,cK){switch(cJ){case'normalUnderPass':{if(cK==='background'&&L.get_hasFill()){this.$G(L,cH(L),cI)}break}case'selectedOnPass':{if(cK==='underLabel'&&L.get_hasLine()){this.$K(L,cH(L),cI)}if(cK==='foreground'&&L.get_hasLabel()){this.$J(L,cH(L),cI)}break}}},renderOverlay:function(L,cH){this.$K(L,'hover',cH)},$D:function(L){var cH=this.get_currentContext();cH.set_lineJoin(tab.CanvasRenderer.toCanvasLineJoin(L.get_lineJoin()));cH.set_lineCap(x.resolveLineCap(L.get_linePattern(),L.get_lineCap()));cH.set_linePattern(L.get_linePattern());cH.set_lineWidth(L.get_lineWidth());cH.set_shouldAntialias(false);cH.set_strokeStyle(bF.calculateColorForState(L.get_lineColor(),this.$O,true,this.$N).toString())},$K:function(L,cH,cI){this.$H(L,cH,cI,ss.mkdel(this,function(cJ){this.$D(L)}),ss.mkdel(this,function(cJ,cK){var cL=L.getLinePixelPosition(ss.mkdel(cI,cI.thisDomainToPixelX),ss.mkdel(cI,cI.thisDomainToPixelY),cJ);var cM=L.getEndPoints(cK,cL);tab.CanvasRenderer.strokePath(this.get_currentContext(),cM,false,true)}))},$J:function(L,cH,cI){this.$H(L,cH,cI,ss.mkdel(this,function(cJ){this.$E(L,cJ)}),ss.mkdel(this,function(cJ,cK){var cL=L.getLinePixelPosition(ss.mkdel(cI,cI.thisDomainToPixelX),ss.mkdel(cI,cI.thisDomainToPixelY),cJ);var cM=L.computeLabelTextStartPosition(cK,cL,cJ);this.$I(L,cJ,cM)}))},$G:function(L,cH,cI){this.$H(L,cH,cI,null,ss.mkdel(this,function(cJ,cK){var cL=L.getLinePixelPosition(ss.mkdel(cI,cI.thisDomainToPixelX),ss.mkdel(cI,cI.thisDomainToPixelY),cJ);if(L.get_hasFillBelow()){this.$F(L,cK,cL,0)}if(L.get_hasFillAbove()){this.$F(L,cK,cL,1)}}))},$H:function(L,cH,cI,cJ,cK){var cL=cI.get_paneIndex();var cM=L.getRange(cL);if(cM.item2<=cM.item1){return}this.get_currentContext().save();this.get_currentContext().setClip(cI.paneRect);var cN=this.$L(L,cI);this.$O=cH;if(cH==='fogged'){this.$N=bF.getFogBlendFactorAndBackgroundColor(cI)}if(!ss.staticEquals(cJ,null)){cJ(cM.item1)}for(var cO=cM.item1;cO<cM.item2;cO++){var cP=L.getCellClipInfo(cO);if(cP.item1!==0){this.get_currentContext().save();cN=this.$C(cP,cI)}cK(cO,cN);if(cP.item1!==0){this.get_currentContext().restore()}}this.$N=null;this.get_currentContext().restore()},$E:function(L,cH){var cI=L.getTextStyle(cH);if(ss.isValue(cI)){var cJ=cI.item1;var cK=cI.item2;var cL=tab.ColorModel.fromArgbInt(cJ.text_style_color[cK]);this.get_currentContext().set_textFillStyle(bF.calculateColorForState(cL,this.$O,false,this.$N).toString());this.get_currentContext().set_textAngle(bE.getTextAngleInRad(cJ.text_orientation[cK]));this.get_currentContext().set_shouldUnderlineText(cJ.text_decoration[cK]===1);this.get_currentContext().set_font(this.$B(cJ,cK))}},$B:function(L,cH){var cI=new ss.StringBuilder;if(tab.EnumConversions.tableauFontStyleFromInt(L.font_style[cH])==='font-style-italic'){cI.append('italic ')}if(tab.EnumConversions.fontWeightFromInt(L.font_weight[cH])==='font-weight-bold'){cI.append('bold ')}var cJ=L.font[cH];cJ=tab.FontUtil.createFallbackCanvasFontName(cJ);var cK=L.font_size[cH];cI.append(cK+'pt '+cJ);return cI.toString()},$M:function(L,cH){return(L.isTextAlignEnd(cH)?'end':tab.TabRenderContext2D.defaultTextAlign)},$I:function(L,cH,cI){this.get_currentContext().translate(cI.x,cI.y);if(!this.get_currentContext().get_isTextAngleHorizontal()){this.get_currentContext().rotate(this.get_currentContext().get_textAngle());this.get_currentContext().set_textAngle(0)}this.get_currentContext().set_shouldAntialias(false);var cJ=bF.calculateColorForState(L.get_labelBackgroundColor(),this.$O,false,this.$N);this.get_currentContext().set_shapeFillStyle(cJ.toString());this.get_currentContext().fillRect(0,0,Math.ceil(L.getLabelWidth(cH)),Math.ceil(L.getLabelHeight(cH)));this.get_currentContext().set_shouldAntialias(true);this.get_currentContext().set_textAlign(this.$M(L,cH));var cK=L.getTextRunOffset(cH);var cL=L.getTextRunCount(cH);var cM=L.getLabelWidth(cH);var cN=cL>1;for(var cO=cK;cO<cK+cL;cO++){var cP=L.getTextRunPosition(cO);this.renderText(L.getTextRun(cO),cP.x,cP.y,cM,this.get_currentContext().get_textFillStyle(),cN)}},$C:function(L,cH){this.clipRect(L.item1,cH.thisDomainToPixelX(L.item2),cH.thisDomainToPixelY(L.item3),cH.thisDomainToPixelWidth(1),cH.thisDomainToPixelHeight(1));return this.get_currentContext().get_currentClipRect()},$L:function(L,cH){var cI=cH.paneRect;if(L.get_scope()===2&&ss.isValue(cH.$3())){cI=cH.$3()}return cI},$F:function(L,cH,cI,cJ){if(L.get_fillColorCount()>cJ&&L.getFillColor(cJ).get_a()>0){var cK=bF.calculateColorForState(L.getFillColor(cJ),this.$O,false,this.$N);this.get_currentContext().set_shapeFillStyle(cK.toString());var cL=L.getFillRect(cH,cI,cJ);this.get_currentContext().fillRect(cL.x,cL.y,cL.w,cL.h)}}});var bW=global.tab.RefLineHitTestLink=ss.mkType(a,'tab.RefLineHitTestLink',function(L,cH){this.$6=null;this.$5=null;Q.call(this,L);this.$6=cH},{hitTest:function(L,cH){var cI=(ss.isValue(L)?{x:L.x,y:L.y,w:1,h:1}:null);var cJ=S.createEmptyHitTestResult();var cK=[];if(ss.isValue(this.$6.get_referenceLines())){var cL=this.hitTestRefLinesModel(this.$6.get_referenceLines(),L,cH);if(cH){cJ=cL[0]}else{cK=cL}}var cM=bW.hitTestRefLines(this.paneTableVM.get_refLineVisualLists(),cI,cH);if(cH){cJ=S.tieBreak(cM[0],cJ)}return bW.$5(cH,cJ,cK.concat.apply(cK,cM))},hitTestRefLinesModel:function(L,cH,cI){this.$0(L);if(cI){return[this.$4(cH)]}else{return this.$3(cH)}},clearCache:function(){this.$5=null},$0:function(L){if(ss.isValue(this.$5)){return}this.$5=[];var cH=this.$2();for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];var cK=L.getRefLines(cJ.get_paneDescriptorKey());var cL=this.$1(cK,cJ);this.$5.push(cL);var cM=L.getInstantRefLines(cJ.get_paneDescriptorKey());if(ss.isValue(cM)&&cM.length>0){var cN=this.$1(cM,cJ);this.$5.push(cN)}}},$1:function(L,cH){var cI=new M(cH.paneRect,1,-1,null,0);for(var cJ=0;cJ<L.length;cJ++){var cK=L[cJ];if(cK.get_hasFill()){continue}var cL=cH.get_paneIndex();var cM=cK.getRange(cL);var cN=((cK.get_scope()===2&&ss.isValue(this.$6.$c()))?this.$6.$c():cH.paneRect);for(var cO=cM.item1;cO<cM.item2;cO++){var cP=cK.getCellClipInfo(cO);var cQ=cP.item1;if(cQ!==0){cN=bz.$0(cQ,cH.thisDomainToPixelX(cP.item2),cH.thisDomainToPixelY(cP.item3),cH.thisDomainToPixelWidth(1),cH.thisDomainToPixelHeight(1))}var cR=cK.getLinePixelPosition(ss.mkdel(cH,cH.thisDomainToPixelX),ss.mkdel(cH,cH.thisDomainToPixelY),cO);var cS=cK.getHitTestBound(cR,cN,1);var cT=new M(cS,8,cK.get_id(),null,0);cI.addNode(cT);if(cK.get_hasLabel()){var cU=cK.computeLabelBox(cN,cR,cO);var cV=tab.RectXYUtil.intersect(cU,cN);var cW=new M(cV,9,cK.get_id(),null,0);cI.addNode(cW)}}}return cI},$4:function(L){var cH=S.createEmptyHitTestResult();for(var cI=this.$5.length-1;cI>=0;cI--){var cJ=this.$5[cI];if(cJ.get_nodeType()!==1||!tab.RectXYUtil.inRect(cJ.get_boundingBox(),L)){continue}for(var cK=cJ.get_children().length-1;cK>=0;cK--){var cL=cJ.get_children()[cK];if(cL.get_nodeType()!==8&&cL.get_nodeType()!==9){continue}var cM=bW.$6(cL,L);cH=bW.$7(cH,cM);if(cH.get_hitType()===3){return cH}}}return cH},$3:function(L){var cH=[];for(var cI=this.$5.length-1;cI>=0;cI--){var cJ=this.$5[cI];if(cJ.get_nodeType()!==1||!tab.RectXYUtil.inRect(cJ.get_boundingBox(),L)){continue}for(var cK=cJ.get_children().length-1;cK>=0;cK--){var cL=cJ.get_children()[cK];if(cL.get_nodeType()!==8&&cL.get_nodeType()!==9){continue}var cM=bW.$0(cL,L);if(cM.get_hitType()===3){cH.push(cM)}}}return cH},$2:function(){var L=[];var cH=this.$6.get_runtimeData().safeFetchMarkPanes();for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];var cK=T.$0(this.$6,cJ);for(var cL=0;cL<cK.length;cL++){var cM=cK[cL];var cN=this.$6.getPaneDrawInfo(cM);if(ss.isValue(cN)){L.push(cN)}}}return L}},{hitTestRefLines:function(L,cH,cI){var cJ=S.createEmptyHitTestResult();var cK=[];for(var cL=0;cL<L.length;cL++){var cM=L[cL];var cN=bW.hitTestRefLine(cM.drawItems,cH,cI);if(cN.get_hitType()!==0){if(cI){cJ=S.tieBreak(cN,cJ)}else{cK.push(cN)}}}return bW.$5(cI,cJ,cK)},$2:function(L,cH){var cI=[];for(var cJ=0;cJ<L.length;cJ++){var cK=L[cJ];if(cK.type==='clip-rect'&&cH==='refpart-clip-rect'){cI.push(cK)}else if(cK.type==='draw-group'){var cL=cK;var cM=_.find(cL.drawItems,function(cN){return cN.type==='draw-text'});if(cH==='refpart-text'&&ss.isValue(cM)){cI.push(cK)}else if(cH==='refpart-geom'&&ss.isNullOrUndefined(cM)){cI.push(cK)}}}return cI},$4:function(L,cH,cI,cJ,cK){var cL=tab.RectXYUtil.dialate(cI,cv.visualPartNearHitTestExpansionPixels);var cM=1;var cN=new S.$ctor1(cK,cH,0);for(var cO=0;cO<L.length;cO++){var cP=L[cO];switch(cP.type){case'draw-pen':{var cQ=cP;if(ss.isValue(cQ.strokeWidth)){cM=cQ.strokeWidth}break}case'draw-polyline':case'draw-fill-rect':{var cR=cP;var cS=ss.isValue(cR.useForOverlayHitTest)&&!cR.useForOverlayHitTest;var cT={x:cR.points[0],y:cR.points[1]};var cU={x:cR.points[2],y:cR.points[3]};var cV=tab.RectXYUtil.rectXYFromCorners$1(cT,cU);if(cP.type==='draw-polyline'){if(cM<3){cV=tab.RectXYUtil.dialate(cV,1)}}var cW=cJ&&tab.RectXYUtil.intersectsWith(cL,cV);var cX=(!cJ||cW)&&tab.RectXYUtil.intersectsWith(cI,cV);if(cX){cN=new S.$ctor1(cK,cH,3);if(cS){cN.doNotRenderOverlay()}return cN}if(cW){cN=new S.$ctor1(cK,cH,2);if(cS){cN.doNotRenderOverlay()}}break}default:{break}}}return cN},hitTestRefLine:function(L,cH,cI){var cJ=S.createEmptyHitTestResult();var cK=bW.$2(L,'refpart-text');cJ=bW.$3(cK,5,cH,cI,cJ);if(cJ.get_hitType()===3){return cJ}var cL=bW.$2(L,'refpart-geom');cJ=bW.$3(cL,4,cH,cI,cJ);return cJ},$3:function(L,cH,cI,cJ,cK){for(var cL=L.length-1;cL>=0;cL--){var cM=L[cL];var cN=bW.$4(cM.drawItems,cH,cI,cJ,cM.objectId);if(cN.get_hitType()===3){return cN}if(cN.get_hitType()===2&&cK.get_hitType()===0){cK=cN}}return cK},$7:function(L,cH){if(cH.get_hitType()===3){return cH}if(cH.get_hitType()===2&&L.get_hitType()===0){return cH}return L},$6:function(L,cH){var cI=S.createEmptyHitTestResult();if(L.get_nodeType()===8){cI=bW.$1(L,cH)}if(cI.get_hitType()===2||L.get_nodeType()===9){var cJ=bW.$0(L,cH);if(cJ.get_hitType()===3){cI=cJ}}return cI},$1:function(L,cH){var cI=S.createEmptyHitTestResult();var cJ=tab.RectXYUtil.dialate({x:cH.x,y:cH.y,w:0,h:0},7);var cK=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(L.get_boundingBox(),cJ);if(cK){cI=new S.$ctor1(L.get_objectId(),6,2)}return cI},$0:function(L,cH){var cI=S.createEmptyHitTestResult();var cJ=tab.RectXYUtil.dialate({x:cH.x,y:cH.y,w:0,h:0},1);var cK=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(L.get_boundingBox(),cJ);if(cK){cI=new S.$ctor1(L.get_objectId(),6,3)}return cI},$5:function(L,cH,cI){if(L){if(cH.get_hitType()===0){return[S.createEmptyHitTestResult()]}return[cH]}return cI}});var bX=global.tab.RegionGeometry=ss.mkType(a,'tab.RegionGeometry',function(L,cH,cI){this.$g=0;this.$f=0;this.$7=0;this.$6=0;this.$9=0;this.$h=0;this.$a=0;this.$j=0;this.$c=0;this.$b=0;this.$i=0;this.$8=0;this.$e=0;this.$d=0;this.$f=bX.$6(L);this.$g=bX.$7(L);this.$7=bX.$4(L);this.$9=bX.$5(L);this.$6=bX.$3(L);this.$h=bX.$8(L);this.$i=this.$5(L,cH,cI);this.$8=this.$0(L,cH);this.$b=this.$1(L,cI);this.$c=this.$2(L,cH);this.$j=(tab.ApplicationModel.get_instance().get_isDesktopRenderMode()?0:(this.$6-this.$b));this.$a=(tab.ApplicationModel.get_instance().get_isDesktopRenderMode()?0:(this.$7-this.$c));this.$d=this.$3(L,cI);this.$e=this.$4(L,cH);if(this.$b<0){this.$b=0}if(this.$c<0){this.$c=0}},{get_unconstrainedDocumentWidth:function(){return this.$g},get_fullScrollableSceneWidth:function(){return this.$7},get_fullScrollableSceneHeight:function(){return this.$6},get_horizontalScrollBarLeft:function(){return this.$9},get_verticalScrollBarTop:function(){return this.$h},get_horizontalScrollOffset:function(){return this.$a},get_verticalScrollOffset:function(){return this.$j},get_marksAreaWidth:function(){return this.$c},get_marksAreaHeight:function(){return this.$b},get_verticalScrollBarWidth:function(){return this.$i},get_horizontalScrollBarHeight:function(){return this.$8},get_onScreenWidth:function(){return this.$e},get_onScreenHeight:function(){return this.$d},getVisibleGeometry:function(L,cH){var cI={};if(ss.isValue(L.uleft)){cI.uleftArea={l:L.uleft.x,t:L.uleft.y,w:Math.min(L.uleft.w,cH-this.get_verticalScrollBarWidth()),h:L.uleft.h}}if(ss.isValue(L.yheader)){cI.yheaderArea={l:L.yheader.x,t:L.yheader.y,w:Math.min(L.yheader.w,cH-this.get_verticalScrollBarWidth()),h:this.get_marksAreaHeight()}}if(ss.isValue(L.leftaxis)){cI.leftaxisArea={l:L.leftaxis.x,t:L.leftaxis.y,w:L.leftaxis.w,h:this.get_marksAreaHeight()}}if(ss.isValue(L.xheader)){cI.xheaderArea={l:L.xheader.x,t:L.xheader.y,w:this.get_marksAreaWidth(),h:L.xheader.h}}if(ss.isValue(L.topaxis)){cI.topaxisArea={l:L.topaxis.x,t:L.topaxis.y,w:this.get_marksAreaWidth(),h:L.topaxis.h}}if(ss.isValue(L.rightaxis)){cI.rightaxisArea={l:L.rightaxis.x-this.get_horizontalScrollOffset(),t:L.rightaxis.y,w:L.rightaxis.w,h:this.get_marksAreaHeight()}}if(ss.isValue(L.bottomaxis)){cI.bottomaxisArea={l:L.bottomaxis.x,t:L.bottomaxis.y-this.get_verticalScrollOffset(),w:this.get_marksAreaWidth(),h:L.bottomaxis.h}}if(ss.isValue(L.uright)){cI.urightArea={l:L.uright.x-this.get_horizontalScrollOffset(),t:L.uright.y,w:Math.min(L.uright.w,cH-this.get_verticalScrollBarWidth()),h:L.uright.h}}if(ss.isValue(L.lleft)){cI.lleftArea={l:L.lleft.x,t:L.lleft.y-this.get_verticalScrollOffset(),w:L.lleft.w,h:L.lleft.h}}if(ss.isValue(L.lright)){cI.lrightArea={l:L.lright.x-this.get_horizontalScrollOffset(),t:L.lright.y-this.get_verticalScrollOffset(),w:L.lright.w,h:L.lright.h}}if(ss.isValue(L.viz)){cI.vizArea={l:L.viz.x,t:L.viz.y,w:this.get_marksAreaWidth(),h:this.get_marksAreaHeight()}}if(ss.isValue(L.yheaderLegacy)){cI.yheaderAreaLegacy={l:L.yheaderLegacy.x,t:L.yheaderLegacy.y,w:Math.min(L.yheaderLegacy.w,cH-this.get_verticalScrollBarWidth()),h:this.get_marksAreaHeight()}}if(ss.isValue(L.leftaxisLegacy)){cI.leftaxisAreaLegacy={l:L.leftaxisLegacy.x,t:L.leftaxisLegacy.y,w:L.leftaxisLegacy.w,h:this.get_marksAreaHeight()}}if(ss.isValue(L.xheaderLegacy)){cI.xheaderAreaLegacy={l:L.xheaderLegacy.x,t:L.xheaderLegacy.y,w:this.get_marksAreaWidth(),h:L.xheaderLegacy.h}}if(ss.isValue(L.topaxisLegacy)){cI.topaxisAreaLegacy={l:L.topaxisLegacy.x,t:L.topaxisLegacy.y,w:this.get_marksAreaWidth(),h:L.topaxisLegacy.h}}return cI},$3:function(L,cH){var cI=0;if(tab.ApplicationModel.get_instance().get_isDesktopRenderMode()){cI=bX.$1(L)}else{cI=this.$f-this.$j}return Math.min(cI,cH)},$4:function(L,cH){var cI=0;if(tab.ApplicationModel.get_instance().get_isDesktopRenderMode()){cI=bX.$2(L)}else{cI=this.$g-this.$a}return Math.min(cI,cH)},$5:function(L,cH,cI){var cJ=false;if(tab.ApplicationModel.get_instance().get_isDesktopRenderMode()&&ss.isValue(L.si)){cJ=L.si.hasVerticalScrollBar}else if(this.$6>0){var cK=this.$f;if(this.$g>cH){cK+=tab.Metrics.get_scrollH()}cJ=cK>cI}if(cJ){return bX.$0(tab.Metrics.get_scrollW())}return 0},$0:function(L,cH){var cI=false;if(tab.ApplicationModel.get_instance().get_isDesktopRenderMode()&&ss.isValue(L.si)){cI=L.si.hasHorizontalScrollBar}else{cI=this.$7>0&&this.$g>cH}if(cI){return bX.$0(tab.Metrics.get_scrollH())}return 0},$1:function(L,cH){if(tab.ApplicationModel.get_instance().get_isDesktopRenderMode()&&ss.isValue(L.viz)){return L.viz.h}if(this.$6>0){var cI=this.$f-this.$6;var cJ=cH-cI-this.$8;return Math.min(this.$6,cJ)}return 0},$2:function(L,cH){if(tab.ApplicationModel.get_instance().get_isDesktopRenderMode()&&ss.isValue(L.viz)){return L.viz.w}if(this.$7>0){var cI=this.$g-this.$7;var cJ=cH-cI-this.$i;return Math.min(this.$7,cJ)}return 0}},{$1:function(L){var cH=[L.title,L.xheader,L.bottomaxis,L.topaxis,L.viz,L.caption];return _.reduce(cH,bX.$9,0)},$6:function(L){return bX.$9(bX.$1(L),L.sceneNeededSize)},$5:function(L){if(ss.isValue(L.viz)){return L.viz.x}if(ss.isValue(L.bottomaxis)){return L.bottomaxis.x}if(ss.isValue(L.xheader)){return L.xheader.x}return 0},$4:function(L){if(ss.isValue(L.sceneNeededSize)){return L.sceneNeededSize.w}if(ss.isValue(L.viz)){return L.viz.w}if(ss.isValue(L.bottomaxis)){return L.bottomaxis.w}if(ss.isValue(L.xheader)){return L.xheader.w}return 0},$2:function(L){var cH=[L.yheader,L.leftaxis,L.rightaxis,L.viz];return _.reduce(cH,bX.$a,0)},$7:function(L){return bX.$a(bX.$2(L),L.sceneNeededSize)},$8:function(L){if(ss.isValue(L.viz)){return L.viz.y}if(ss.isValue(L.leftaxis)){return L.leftaxis.y}if(ss.isValue(L.yheader)){return L.yheader.y}return 0},$3:function(L){if(ss.isValue(L.sceneNeededSize)){return L.sceneNeededSize.h}if(ss.isValue(L.viz)){return L.viz.h}if(ss.isValue(L.leftaxis)){return L.leftaxis.h}if(ss.isValue(L.yheader)){return L.yheader.h}return 0},$a:function(L,cH){if(ss.isNullOrUndefined(cH)){return L}var cI=cH.x+cH.w;return Math.max(L,cI)},$9:function(L,cH){if(ss.isNullOrUndefined(cH)){return L}var cI=cH.y+cH.h;return Math.max(L,cI)},$0:function(L){if(BrowserSupport.BrowserSupport.IsIE()&&L>0){return L+1}return L}});var bY=global.tab.RegionPositionPair=ss.mkType(a,'tab.RegionPositionPair',function(){this.position=null;this.imageRegion=null});var bZ=global.tab.RegionRectUtil=ss.mkType(a,'tab.RegionRectUtil',null,null,{sizesAreEqual:function(L,cH){return ss.isValue(L)&&ss.isValue(cH)&&L.h===cH.h&&L.w===cH.w},isEmpty:function(L){if(!ss.isValue(L)){return true}return L.w===0||L.h===0},clone:function(L){return{x:L.x,y:L.y,w:L.w,h:L.h,r:L.r}},getEmptyRegionRect:function(){return{x:0,y:0,w:0,h:0,r:''}},union:function(L,cH,cI){if(bZ.isEmpty(L)){return bZ.clone(cH)}if(bZ.isEmpty(cH)){return bZ.clone(L)}var cJ=Math.min(L.x,cH.x);var cK=Math.min(L.y,cH.y);var cL=Math.max(L.x+L.w,cH.x+cH.w);var cM=Math.max(L.y+L.h,cH.y+cH.h);return{x:cJ,y:cK,w:cL-cJ,h:cM-cK,r:(cI?L.r:cH.r)}}});var ca=global.tab.RuntimeUIModule=ss.mkType(a,'tab.RuntimeUIModule',null,null,{get_instance:function(){if(ss.isNullOrUndefined(ca.$1)){tab.ModuleManager.load$1(bc).call(null,[]).done(function(L){ca.$1=L})}return ca.$1}});var cb=global.tab.SceneInfo=ss.mkType(a,'tab.SceneInfo',function(){this.$o=new Map;this.$v=new Map;this.$t=new Map;this.$s=new Map;this.$n=new Map;this.$r=false;this.$l=false;this.$q=null;this.$p=new Map;this.$m=new Map;this.$u=new Map;this.$w=null;this.scene=null;this.customShapes=null;this.brushings=null;this.selections=null;this.sceneUserPaneInfo=null;this.colorModel=null;this.$1$1=null;this.$a=0;this.$b=0;this.$1$2=null;this.customShapes=[];this.$a=0;this.$b=0},{get_hasSelection:function(){return ss.isValue(this.selections)&&this.selections.get_hasPaneTableObjectSelection()},get_hasBrushing:function(){return this.$r||ss.isValue(this.brushings)&&this.brushings.get_hasPaneTableObjectSelection()||ss.isValue(this.$q)&&!this.$q.isEmpty||this.$l},get_imageDictionary:function(){return this.$o},get_hiddenTuples:function(){return this.$p},set_hiddenTuples:function(L){this.$p=L||new Map},get_isSingleUserPane:function(){return this.scene.panes.length===1&&ss.isNullOrUndefined(this.sceneUserPaneInfo)},get_filteredTuples:function(){return this.$m},set_filteredTuples:function(L){this.$m=L||new Map},get_referenceLines:function(){return this.$1$1},set_referenceLines:function(L){this.$1$1=L},get_runtimeData:function(){return this.$w},set_runtimeData:function(L){this.$w=L},$c:function(){return this.$1$2},$d:function(L){this.$1$2=L},setSceneData:function(L,cH,cI,cJ,cK,cL,cM,cN,cO,cP){if(!ss.isValue(cN)){return}this.$t.clear();this.$n.clear();this.$s.clear();this.$v.clear();this.$u.clear();this.sceneUserPaneInfo=null;this.scene=L;this.$w=cN;this.set_referenceLines(cO);this.$d(cP);this.set_hiddenTuples(cL);this.set_filteredTuples(cM);this.$k(L,cN,cK);if(ss.isValue(cH)){this.selections=cH;this.$q=cI}if(ss.isValue(cJ)){this.brushings=cJ}this.colorModel=bb.extractInteractionColors(this.scene)},$k:function(L,cH,cI){if(!ss.isValue(L)||!(ss.isValue(L.pdMarksMap)||ss.isValue(L.runtimeRenderInputDatastore))){return}this.customShapes=cb.extractCustomShapes(cH);if(!ss.isValue(cH.get_annexedData())||!ss.isValue(cH.get_annexedData().Panes)){return}if(ss.isValue(L.userPaneInfo)){this.sceneUserPaneInfo=new cd(L.userPaneInfo)}this.$i(cH);var cJ=cH.get_annexedData().Panes;var cK=cb.collectPaneMarks(cJ);for(var cL=0;cL<cK.length;cL++){var cM=cK[cL];var cN=cM.item1;var cO=cM.item2;var cP=new tab.PaneMarksInfo.$ctor1(cH.get_finalDataStore().Viewpoint.PerPaneExtents,cH.get_paneStoreTable(),cO,L.currentPage,cN.Row,cN.Column,cN.Layer);var cQ=cP.get_paneKey();var cR=cb.getPaneMarksKey$1(cQ,cP.get_paneId(),cO);var cS=new bE(cQ,this,cN,cP,cI,cR,cH.get_finalDataStore(),cO);this.$v.set(cR,cS)}},getMarkBoundingBox:function(L){if(this.$t.has(L)){return this.$t.get(L)}else{return cb.$2}},$4:function(L,cH){if(this.$u.has(L)&&cH>=0&&cH<this.$u.get(L).length){return this.$u.get(L)[cH]}return null},computeFilteredMarks:function(L){var cH=new Set;var cI=this.$m.size;if(cI===0){return cH}var cJ=0;if(!ss.isNullOrUndefined(L)){cJ=L.length}for(var cK=0;cK<cJ;cK++){var cL=L.v[(L.c?0:cK)];if(this.$m.has(cL.toString())){cH.add(cK);if(cH.size===cI){break}}}return cH},computeTupleStates:function(L){var cH=this.get_hasSelection();var cI=this.selections;var cJ=(ss.isValue(cI)?cI.tupleSelection:null);var cK=new Set;if(ss.isValue(cJ)){tab.SetUtilities.addAll(ss.UInt32).call(null,cK,cJ.get_ids())}var cL=this.get_hasBrushing();var cM=this.brushings;var cN=(ss.isValue(cM)?cM.tupleSelection:null);var cO=new Set;if(ss.isValue(cN)){tab.SetUtilities.addAll(ss.UInt32).call(null,cO,cN.get_ids())}var cP=new Set;if(ss.isValue(this.$q)){tab.SetUtilities.addAll(ss.UInt32).call(null,cP,this.$q.get_ids())}var cQ=0;if(!ss.isNullOrUndefined(L)){cQ=L.length}var cR=new Array(cQ);for(var cS=0;cS<cQ;cS++){var cT=L.v[(L.c?0:cS)];var cU='markStateNormal';if(this.$p.has(cT.toString())){cU='markStateInvisible'}else if(cH&&cK.has(cT)){cU='markStateSelected'}else if(cL&&(cO.has(cT)||cP.has(cT))){cU='markStateHighlighted'}cR[cS]=cU}return cR},prepareForDraw:function(L){this.$f(L);this.$j()},cleanupFromDraw:function(){this.$e()},$3:function(L){if(this.$s.has(L)){return this.$s.get(L)}else{return cb.$2}},getMarksInvalidationRects:function(L){var cH=[];for(var cI=0;cI<L.length;cI++){var cJ=L[cI];var cK=this.$5(cJ);for(var cL=0;cL<cK.length;cL++){var cM=cK[cL];cH.push(cM)}}return cH},$5:function(L){var cH=false;var cI=[];var cJ=this.$w.get_panes();for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];if(_.isArray(cL.renderNodes)&&cL.renderNodes.length>0){cH=true;break}}var cM=this.getPaneDrawInfoFromTupleId(L);if(ss.isNullOrUndefined(cM)){return cI}var cN=cM.markType;if(cH){cI.push(cM.paneRect)}else if(cN==='area'||cN==='line'){cI.push(cM.paneRect)}else{var cO=this.$g(L);var cP=cM.getWorldOffsetBounds(cO);for(var cQ=0;cQ<cP.length;cQ++){var cR=cP[cQ];cI.push(cR)}var cS=this.$3(L);if(!tab.RectXYUtil.isNull(cS)){var cT=cM.getWorldOffsetBounds(cS);for(var cU=0;cU<cT.length;cU++){var cV=cT[cU];cI.push(cV)}}}return cI},updateImageMap:function(L,cH){if(ss.isValue(L)&&ss.isValue(L.imageMap)){var cI=new ss.ObjectEnumerator(L.imageMap);try{while(cI.moveNext()){var cJ=cI.current();var cK=cJ.key;if(!this.$o.has(cK)){var cL=cJ.value;var cM={$:document.createElement('img')};cM.$.src='data:image/jpeg;base64,'+cL;this.$o.set(cK,cM.$);var cN={$:null};cN.$=ss.mkdel({imgElt:cM,imageFinishedLoad:cN},function(){if(ss.isValue(cH)){cH()}this.imgElt.$.removeEventListener('load',this.imageFinishedLoad.$,false)});cM.$.addEventListener('load',cN.$,false)}}}finally{cI.dispose()}this.$o.forEach(ss.mkdel(this,function(cO,cP){if(!ss.keyExists(L.imageMap,cP)){this.$o.delete(cP)}}))}},$8:function(L){return this.get_hasSelection()&&this.selections.tupleSelection.isObjectSelected(L)},$6:function(L){return this.get_hasBrushing()&&(ss.isValue(this.brushings)&&this.brushings.tupleSelection.isObjectSelected(L)||this.$7(L))},$7:function(L){return ss.isValue(this.$q)&&this.$q.isObjectSelected(L)},$9:function(L){return!this.$p.has(L.toString())},isMarkFiltered:function(L){return this.$m.has(L.toString())},setLabelInfo:function(L,cH){var cI=L.get_annexedData().LabelStore;if(ss.isValue(cI)&&ss.isValue(cI.Panes)){for(var cJ=0;cJ<cI.Panes.length;cJ++){var cK=cI.Panes[cJ];var cL=cK.DrawPanes;for(var cM=0;cM<cL.length;++cM){var cN=cL[cM];var cO=tab.EnumConversions.visualPartFromInt(cN[0]);var cP=cN[1];var cQ=new tab.PaneMarksInfo.$ctor1(L.get_finalDataStore().Viewpoint.PerPaneExtents,L.get_labelsPaneStoreTable(),cP,cH,cK.Row,cK.Column,cK.Layer);if(cO==='marks'){var cR=cb.getPaneMarksKey$1(cQ.get_paneKey(),cQ.get_paneId(),cP);if(this.$v.has(cR)){var cS=this.$v.get(cR);var cT=cI.PDMarks[cQ.get_paneKey()];tab.FontNotificationUtil.notifyFontsFromMarkLayoutOutput(cT);cS.addLabelInfo(cT,cQ.get_startIndex(),cQ.get_endIndex())}}}}}},getPaneDrawInfo:function(L){var cH=null;if(ss.isValue(L)){cH=this.$v.get(cb.getPaneMarksKey(L))}return cH},getPaneDrawInfo$1:function(L,cH,cI,cJ){var cK=new tab.PaneMarksInfo.$ctor1(this.$w.get_finalDataStore().Viewpoint.PerPaneExtents,this.$w.get_paneStoreTable(),L,this.$a,cH,cI,cJ);return this.$v.get(cb.getPaneMarksKey(cK))},getPaneDrawInfoFromKey:function(L){return this.$v.get(L)},getPaneDrawInfoFromTupleId:function(L){var cH=null;tab.MapUtility.forEachWithInterrupt$1(String,bE).call(null,this.$v,function(cI){if(cI.containsTuple(L)){cH=cI;throw new tab.LoopBreakException}});return cH},getPaneDrawInfoAssociatedWithPane:function(L){var cH=L.DrawPanes;for(var cI=0;cI<cH.length;cI++){var cJ=cH[cI];var cK=cJ;var cL=tab.EnumConversions.visualPartFromInt(cK[0]);if(cL==='marks'){var cM=cK[1];return this.getPaneDrawInfo$1(cM,L.Row,L.Column,L.Layer)}}return null},setIsTargetOfBrushingAction:function(L){this.$r=L},setEmptyHighlightFogAll:function(L){this.$l=L},$2:function(L,cH){cb.$0(L,cH,this.$t)},$1:function(L,cH){cb.$0(L,cH,this.$s)},$0:function(L,cH,cI){tab.RectXYUtil.offsetRectXYInPlace(cH,L.paneRect.x,L.paneRect.y);for(var cJ=0;cJ<cI.length;cJ++){var cK=cI[cJ];this.$n.set(cK,cH)}},$h:function(L){return ss.isInstanceOfType(L,Float32Array)||ss.isInstanceOfType(L,Array)},$i:function(L){if(!ss.isValue(L)){return}var cH=L.get_finalDataStore();var cI=cH.Viewpoint.PerPaneExtents;var cJ=cH.PDMarks;var cK=L.get_geometries();var cL=_.keys(cJ);for(var cM=0;cM<cL.length;cM++){var cN=cL[cM];if(!ss.keyExists(cK,cN)){continue}var cO=cK[cN];var cP=cJ[cN];var cQ=cP.MarkLayoutData.Parameters.pane_flags;var cR=tab.SceneDataUtil.isPaneFlagSet(cQ,'enable-scale-x')&&tab.SceneDataUtil.isPaneFlagSet(cQ,'enable-scale-y');var cS=null;var cT=null;var cU=false;if(cR){var cV=L.get_annexedData().Panes;for(var cW=0;cW<cV.length;cW++){var cX=cV[cW];for(var cY=0;cY<cX.DrawPanes.length;cY++){var cZ=cX.DrawPanes[cY];var da=cZ;var db=da[1];if(ss.referenceEquals(cI.PaneKey[db],cN)){cS=tab.DoubleRectXYUtil.constructDoubleRectXY(cI.DomainLeft[db],cI.DomainTop[db],cI.DomainRight[db],cI.DomainBottom[db]);cT={x:0,y:0,w:cI.pane_px_right[db]-cI.pane_px_left[db],h:cI.pane_px_bottom[db]-cI.pane_px_top[db]};cU=true;break}}if(cU){break}}}var dc=cO.length;var dd=new Array(dc);for(var de=0;de<dc;de++){var df;dd[de]=null;if(this.$h(cO[de])){if(cO[de].length<1){continue}var dg=new tab.LinearFloatGeometryDecoder(cO[de]);df=dg.processEncodedGeometry()}else{var dh;if(ss.isInstanceOfType(cO[de],Uint8Array)){dh=tab.Utf8TextDecoder.decode(cO[de])}else{dh=cO[de]}if(tab.MiscUtil.isNullOrEmpty$1(dh)){continue}df=JSON.parse(dh)}if(G.isGeometryPresModelFeatureEmpty(df)){continue}if(cR&&cU){G.domainToPixelGeometry(df,cS,cT,true)}dd[de]=df}this.$u.set(cN,dd)}},$g:function(L){var cH=this.$n.get(L);if(ss.isNullOrUndefined(cH)){cH=this.getMarkBoundingBox(L)}return cH},$f:function(L){this.$v.forEach(function(cH){cH.computeDirtyMarks(L)})},$e:function(){this.$v.forEach(function(L){L.clearDirtyMarks()})},$j:function(){this.$v.forEach(function(L){L.refreshMarkState()})}},{getPaneMarksKey$1:function(L,cH,cI){return L+'_'+cH['columnIndex'.toString()]+'_'+cH['rowIndex'.toString()]+'_'+cI},getPaneMarksKey:function(L){return cb.getPaneMarksKey$1(L.get_paneKey(),L.get_paneId(),L.get_paneIndex())},collectPaneMarks:function(L){var cH=[];for(var cI=0;cI<L.length;cI++){var cJ=L[cI];var cK={x:cJ.Rect[0],y:cJ.Rect[1],w:cJ.Rect[2],h:cJ.Rect[3]};if(cK.w<=0||cK.h<=0){continue}var cL=cJ.DrawPanes;for(var cM=0;cM<cL.length;++cM){var cN=cL[cM];var cO=tab.EnumConversions.visualPartFromInt(cN[0]);var cP=cN[1];if(cO==='marks'){cH.push({item1:cJ,item2:cP})}}}return cH},extractCustomShapes:function(L){var cH=[];if(!ss.isValue(L)){return cH}var cI=L.get_finalDataStore();var cJ=cI.PDMarks;var cK=_.keys(cJ);for(var cL=0;cL<cK.length;cL++){var cM=cK[cL];var cN=cJ[cM];var cO=cN.Encodings;if(ss.isValue(cO.shape_id)){var cP=cO.shape_id;for(var cQ=0;cQ<cP.length;cQ++){var cR=cP[cQ];if(ss.isValue(cR)&&tab.SceneDataUtil.isCustomShape(cR)){cH.push(cR)}}}var cS=cN.MarkLayoutData;var cT=cS.Parameters;if(ss.isValue(cT.shape_id)){var cU=cT.shape_id;if(tab.SceneDataUtil.isCustomShape(cU)){cH.push(cU)}}}return cH},$0:function(L,cH,cI){var cJ=L.paneRect.x;var cK=L.paneRect.y;cH.forEach(function(cL,cM){tab.RectXYUtil.offsetRectXYInPlace(cL,cJ,cK);cI.set(cM,cL)})}});var cc=global.tab.SceneMarginSorting=ss.mkType(a,'tab.SceneMarginSorting',function(L,cH){this.$3=null;this.$4=null;this.$3=L;this.$4=cH},{invokeSortCommand:function(L,cH){var cI=this.$1(L,cH);var cJ=bN.getScrollAmount(this.$3,this.$3.get_scrollPosition());tab.SortServerCommands.sortFromSceneMarginIndicator(cI,cJ,this.$3.get_visualId())},$2:function(L){if(L){return this.$4.get_verticalScrollOffset()>0}return this.$4.get_horizontalScrollOffset()>0},$0:function(L,cH){if(cH===1){L.y+=this.$4.get_verticalScrollOffset()}else if(cH===2){L.x+=this.$4.get_horizontalScrollOffset()}},$1:function(L,cH){var cI=bN.getPaneTableViewMousePositionFromCoordinates(L.x,L.y,this.$3);var cJ=tab.SceneMarginModel.isHorizontal(cH);if(this.$2(cJ)){this.$0(cI,cH)}if(cJ&&this.$3.get_horizontalScrollingManager().get_isFullTableScrollingEnabled()){cI.x+=this.$3.get_horizontalScrollingManager().lastTableScrollX}return cI}});var cd=global.tab.SceneUserPaneInfo=ss.mkType(a,'tab.SceneUserPaneInfo',function(L){cd.$0.call(this,L.xPixelOffsets,L.yPixelOffsets)},null,{$0:function(L,cH){this.$3=null;this.$4=null;this.$1=false;this.$2=false;this.$0=0;this.$5=0;this.$3=L;this.$4=cH;this.$1=ss.isValue(L)&&L.length>0;this.$2=ss.isValue(cH)&&cH.length>0;this.$0=(this.$1?(L.length-1):1);this.$5=(this.$2?(cH.length-1):1)}});var ce=global.tab.ServerRenderVizHitTestDebouncer=ss.mkType(a,'tab.ServerRenderVizHitTestDebouncer',function(L,cH){cB.call(this,L,cH)},{hitTest:function(L,cH){var cI=new tab.HitTestSceneCmd;cI.c['pt1']=tab.PointUtil.toPresModel(L);cI.c['visualIdPresModel']=this.region.get_visualId();cI.invoke().done(ss.mkdel(this,function(cJ){var cK=cJ.$$c['sceneElements'];if(ss.isValue(cK)&&cK.length>0&&ss.isValue(this.paneTable)){var cL=new tab.SceneElementModel(cK[0]);var cM=cL.get_paneId();var cN=this.getPaneIndex(cM.get_columnIndex(),cM.get_rowIndex(),cM.get_layerIndex());var cO=new S(cL);this.setCurrent(new cA(this.region,cN,cM.get_columnIndex(),cM.get_rowIndex(),cM.get_layerIndex(),L,cH,cO))}else{this.setCurrent(null)}}))}});var cf=global.tab.ShapeDependencyManager=ss.mkType(a,'tab.ShapeDependencyManager',function(L){this.$3=new Set;this.$2=null;this.$2=L;tab.ApplicationModel.get_instance().get_shapeManager().add_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))},{dispose:function(){this.$2=null;tab.ApplicationModel.get_instance().get_shapeManager().remove_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))},initialize:function(L){this.$3.clear();for(var cH=0;cH<L.length;cH++){var cI=L[cH];this.$0(cI)}this.$1()},$0:function(L){if(tab.SceneDataUtil.isCustomShape(L)&&!tab.ApplicationModel.get_instance().get_shapeManager().hasShape(L)){this.$3.add(L)}},onShapeLoaded:function(L){if(!this.$3.has(L)){return}this.$3.delete(L);this.$1()},$1:function(){if(this.$3.size===0&&ss.isValue(this.$2)){this.$2()}}});var cg=global.tab.ShapeSelectorBase=ss.mkType(a,'tab.ShapeSelectorBase',function(L,cH,cI){this.$d=null;this.$c=null;this.$9=null;this.$6=null;this.$7=null;this.$b=null;this.$a={x:0,y:0};this.$8={x:0,y:0};this.$5={x:0,y:0,w:0,h:0};this.$e={x:0,y:0};this.$4={x:0,y:0};this.$1$2=false;this.$d=(ss.isNullOrUndefined(L)?'0':L.w.toString());this.$c=(ss.isNullOrUndefined(L)?'0':L.h.toString());this.$9=cH;this.$6=cI;this.set_shouldConstrainShapeToPane(false)},{get_dom:function(){return this.$7},get_pi:function(){return this.$b},set_pi:function(L){this.$b=L},get_dragStart:function(){return this.$8},get_connectedDomNodeRect:function(){return this.$5},get_totalScrollOffset:function(){return(tab.ApplicationModel.get_instance().get_isDesktopRenderMode()?{x:0,y:0}:this.$e)},get_drawOffsets:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?{x:0,y:0}:this.get_totalScrollOffset())},get_autoScrollOffset:function(){return this.$4},get_tooltipAnchor:function(){return{x:this.$a.x+this.get_totalScrollOffset().x,y:this.$a.y+this.get_totalScrollOffset().y}},get_hitTestingBox:null,get_shouldConstrainShapeToPane:function(){return this.$1$2},set_shouldConstrainShapeToPane:function(L){this.$1$2=L},isSingleSelect:null,setSingleSelectPoint:function(L){this.$a={x:L.x,y:L.y}},dragStarted:function(L,cH,cI){this.$8={x:L,y:cH};this.$5=cI;this.$4={x:0,y:0}},recordScrollingOffsets:function(L){this.$e={x:L.x,y:L.y}},updateAndRenderShape:function(L){this.updateLatestPoint(L);this.constrainShape();this.updateSpecificShape(this.$a);this.renderShape()},updateLatestPoint:function(L){this.$a={x:L.pageX-this.$5.x,y:L.pageY-this.$5.y}},constrainShape:function(){if(ss.isInstanceOfType(this,v)){return}if(this.get_shouldConstrainShapeToPane()&&ss.isValue(this.$b)){this.$0()}else{this.$1()}},$1:function(){this.$a.x=Math.max(0,Math.min(this.$a.x,this.$5.w));this.$a.y=Math.max(0,Math.min(this.$a.y,this.$5.h))},$0:function(){var L=this.$b.x-this.$e.x;var cH=this.$b.y-this.$e.y;this.$a.x=Math.max(L,Math.min(this.$a.x,L+this.$b.w));this.$a.y=Math.max(cH,Math.min(this.$a.y,cH+this.$b.h))},adjustMarqueeForAutoScroll:function(L,cH,cI){var cJ=this.$5.x-cI.x;this.$a.x+=cJ;this.$5=cI;this.get_dragStart().x-=L;this.get_dragStart().y-=cH;this.$e.x+=L;this.$e.y+=cH;this.$4.x+=L;this.$4.y+=cH;this.constrainShape();this.updateSpecificShape(this.$a);this.renderShape()},updateSpecificShape:null,renderShape:null,createDomAndAppend:function(L){this.$7=$(this.$9);this.$7.addClass(this.$6);this.$7.css('display','none');this.$7.find('svg').attr('width',this.$d).attr('height',this.$c);L.append(this.$7)},show:null,hide:null,hitTest:function(L,cH,cI){var cJ=cH||this.isSingleSelect();return(cJ?this.$2(L,cI):this.$3(L,cI))},$2:function(L,cH){var cI={x:this.$a.x,y:this.$a.y,w:1,h:1};var cJ=L.hitTestBoundingBoxes(cI,true,cH);return L.hitTestSingle(cI,cH,cJ)},$3:function(L,cH){var cI=L.hitTestBoundingBoxes(this.get_hitTestingBox(),false,cH);var cJ=[];var cK=this.get_hitTestingBox();for(var cL=cI.length-1;cL>=0;cL--){var cM=cI[cL];var cN=cM.get_objectId();if(cN<0){continue}var cO=M.findPaneNode(cM);if(ss.isNullOrUndefined(cO)){continue}var cP=cH.getPaneDrawInfoFromKey(cO.get_paneKey());if(!cP.get_allowSelection()){continue}var cQ=P.getTransformInfo(cP,cM);var cR=tab.RectXYUtil.intersect(cK,cO.get_boundingBox());var cS=this.shapeAreaHit(cR,cP,cM,cQ);if(cS){cJ.push(new S.$ctor1(cP.c.get('tuple_id').gv(cN),7,1))}}return cJ},shapeAreaHit:null,sendSelectionCommand:null,sendSelectionCommand$1:null,updateLastState:function(L){if(this.isStateObjectTypeCorrect(L)){L.updateLastState()}},getStateDiff:function(L){if(this.isStateObjectTypeCorrect(L)){this.saveCurrentState(L);return L.getStateDiff()}var cH=new Array(1);cH[0]=this.get_hitTestingBox();return cH},retrieveStateObject:null,saveCurrentState:null,isStateObjectTypeCorrect:null});var ch=global.tab.ShapeStateBase=ss.mkType(a,'tab.ShapeStateBase',function(){},{updateLastState:null,getStateDiff:null});var ci=global.tab.ShapeUtil=ss.mkType(a,'tab.ShapeUtil',null,null,{generateSelectedUnderCustomShape:function(L,cH,cI,cJ,cK){var cL=ci.colorTransformImage(L,cH,cJ,cK);var cM=document.createElement('canvas');var cN=cI*2;cM.width=Math.ceil(cJ+cN);cM.height=Math.ceil(cK+cN);var cO=cM.getContext('2d');cO.drawImage(cL,0,0,cJ,cK);cO.drawImage(cL,cI,0,cJ,cK);cO.drawImage(cL,cN,0,cJ,cK);cO.drawImage(cL,cN,cI,cJ,cK);cO.drawImage(cL,cN,cN,cJ,cK);cO.drawImage(cL,cI,cN,cJ,cK);cO.drawImage(cL,0,cN,cJ,cK);cO.drawImage(cL,0,cI,cJ,cK);return cM},generateOverlayForShape:function(L,cH,cI,cJ,cK){var cL=ci.generateSelectedUnderCustomShape(L,cH,cI,cJ,cK);var cM=cL.getContext('2d');cM.globalCompositeOperation='destination-out';cM.drawImage(L,cI,cI,cJ,cK);return cL},colorTransformImage:function(L,cH,cI,cJ){var cK=ci.generateCanvasAndPrescaleAsNeeded(L,cI,cJ);var cL=cK.getContext('2d');var cM=cL.getImageData(0,0,cK.width,cK.height);var cN=cM.data.length;for(var cO=0;cO<cN;cO+=4){if(cM.data[cO+3]>0){cM.data[cO]=cH.get_r();cM.data[cO+1]=cH.get_g();cM.data[cO+2]=cH.get_b()}}cL.putImageData(cM,0,0);return cK},applyFoggingToImage:function(L,cH,cI,cJ,cK){var cL=ci.generateCanvasAndPrescaleAsNeeded(L,cJ,cK);var cM=cL.getContext('2d');var cN=cM.getImageData(0,0,cL.width,cL.height);for(var cO=0;cO<cN.data.length;cO+=4){if(cN.data[cO+3]>0){cN.data[cO]=Math.round(cH.get_r()+cN.data[cO]*cI);cN.data[cO+1]=Math.round(cH.get_g()+cN.data[cO+1]*cI);cN.data[cO+2]=Math.round(cH.get_b()+cN.data[cO+2]*cI)}}cM.putImageData(cN,0,0);return cL},generateCanvasAndPrescaleAsNeeded:function(L,cH,cI){var cJ=document.createElement('canvas');if(!ss.isValue(L)){return cJ}if(L.width>cH*2&&L.height>cI*2){cJ.width=Math.max(ss.idiv(L.naturalWidth,2),1);cJ.height=Math.max(ss.idiv(L.naturalHeight,2),1)}else{cJ.width=L.naturalWidth;cJ.height=L.naturalHeight}var cK=cJ.getContext('2d');cK.drawImage(L,0,0,cJ.width,cJ.height);return cJ}});var cj=global.tab.SimpleRegionCanvasView=ss.mkType(a,'tab.SimpleRegionCanvasView',function(L,cH,cI){this.$p=null;ss.makeGenericType(cx,[ct]).call(this,L,cH,(cI.get_visualModel().get_backgroundColor().get_isOpaque()?'opaque':'transparent'));var cJ=(ss.isValue(cI.get_scene())?cI.get_scene().colorModel:bb.defaultColors);this.renderer=new x(this.canvasElt,this.context,cJ);this.$p=cI;this.$p.add_propertyChanged(ss.mkdel(this,this.$o))},{get_displayListRenderer:function(){return this.renderer},get_visualListVM:function(){return this.get_viewModel()},get_backgroundFillColor:function(){return this.$p.get_visualModel().get_backgroundColor()},$o:function(L,cH){if(cH.get_propertyName()==='images'){this.invalidate(false)}},performRender:function(){{var L=tabBootstrap.MetricsController.createContext('RNDRRG'.toString(),32,null);try{this.get_displayListRenderer().clear();this.get_displayListRenderer().renderVisualList(this.get_visualListVM(),this.$p.get_scene().get_imageDictionary())}finally{if(ss.isValue(L)){L.dispose()}}}},postRenderFinalPass:function(){this.get_displayListRenderer().renderCanvasBorders(this.get_visualListVM())},onViewModelPropertyChanged:function(L,cH){if(cH.get_propertyName()==='HoverNode'){var cI={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};this.invalidateRect(this.get_visualListVM().dirtyRect(cI),true)}else{ss.makeGenericType(cx,[ct]).prototype.onViewModelPropertyChanged.call(this,L,cH)}}});var ck=global.tab.TiledViewerRegion=ss.mkType(a,'tab.TiledViewerRegion',function(L,cH,cI,cJ,cK,cL,cM){this.$b=null;this.backgroundMap=ck.$1();this.disposables=new tab.DisposableHolder;this.allowPanZoomActions=null;this.connectedDomNode=null;this.domPanZoomRect=null;this.domDragImage=null;this.domDragMask=null;this.regionContent=new A;this.scroller=null;this.isScrolling=false;this.panZoomInteractionState=null;this.paneTableViewModel=null;this.backgroundDiv=null;this.zoomAnimationProtectionGlass=null;this.$c=null;this.$a=null;this.$f=null;this.$e=null;this.$d=null;this.$9=false;this.$8=false;this.$h=null;this.$g=null;this.$c=L;this.connectedDomNode=$(cH);this.$a=cI;this.backgroundDiv=this.connectedDomNode.find('.tvBackgroundContainer');this.$b=this.connectedDomNode.find('.tvimagesContainer');this.allowPanZoomActions=cJ;this.domPanZoomRect=new bT;this.$e=new bT;this.$f=cK;this.paneTableViewModel=cL;this.panZoomInteractionState='idle';this.$g=cM;if(this.$c==='viz'){this.makeDomDragImage()}this.get_toolModeViewModel().add_toolbarToolModeUpdated(ss.mkdel(this,this.updateForToolMode));this.$h=new cu},{get_isDragTracking:function(){return false},get_isScrollable:function(){return this.get_contentProvider().get_canScrollX()||this.get_contentProvider().get_canScrollY()},get_name:function(){return this.get_regionPart().toString()},get_regionPart:function(){return this.$c},get_visualId:function(){return this.paneTableViewModel.get_visualId()},get_sheetid:function(){return this.$f},get_contentProvider:function(){return this.regionContent},set_contentProvider:function(L){this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete));this.regionContent=L;this.regionContent.add_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete))},get_shapeSelector:function(){return this.$e},get_visualObjectBoundsComputerAndHitTester:function(){return this.$h},get_toolModeViewModel:function(){return this.$g},sendSelectionCommand:function(L,cH,cI,cJ){this.get_shapeSelector().sendSelectionCommand(L,cH,cI,cJ)},turnOnWindowLogging:function(){if(!ss.isValue(ck.windowLog)){ck.windowLog=tab.Logger.getLoggerWithName('WindowAppender')}},reset:function(){this.get_toolModeViewModel().handleDeferredModeChangeIfNeeded();this.resetVisualState()},resetVisualState:function(){this.endPanZoomAnimation();this.zoomAnimationProtectionGlass=tab.MiscUtil.dispose$1(this.zoomAnimationProtectionGlass)},destroy:function(){this.disposables.dispose();this.allowPanZoomActions=null;this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete));this.regionContent.destroy();this.backgroundMap.destroyMap();this.backgroundMap.dispose();this.get_toolModeViewModel().remove_toolbarToolModeUpdated(ss.mkdel(this,this.updateForToolMode));this.zoomAnimationProtectionGlass=tab.MiscUtil.dispose$1(this.zoomAnimationProtectionGlass)},setGeometry:function(L,cH,cI,cJ){if(this.regionContent.get_hasContent()){this.regionContent.set_actualViewSize({w:cH.w,h:cH.h});this.regionContent.reset(L,cI);this.$d={x:0,y:0,w:L.w,h:L.h};if(cJ){this.updateSelectorShape(this.get_toolModeViewModel().get_currentPointerToolMode())}}},refreshImages:function(L){this.regionContent.refreshImages(L)},onZoomBoxMouseMove:function(L){this.onSelectorMouseMove(L,this.domPanZoomRect)},onMarqueeMouseMove:function(L){this.onSelectorMouseMove(L,this.$e)},onSelectorMouseMove:function(L,cH){L.preventDefault();var cI=this.paneTableViewModel.get_horizontalScrollingManager();if(cI.get_isFullTableScrollingEnabled()){cH.recordScrollingOffsets({x:0,y:this.scroller.get_scrollPos().y})}else{cH.recordScrollingOffsets({x:this.scroller.get_scrollPos().x,y:this.scroller.get_scrollPos().y})}var cJ=cH.get_connectedDomNodeRect();var cK=this.$6();var cL=L.get_GestureInfo().pageX-cJ.x;var cM=L.get_GestureInfo().pageY-cJ.y;var cN;if(cI.get_isFullTableScrollingEnabled()){cN=this.$a.clientWidth-cK}else{cN=cJ.w}var cO=cJ.h;var cP=this.$5(cL,-cK,cN);var cQ=this.$5(cM,0,cO);var cR=this.determineScrollDirection(0,cP);var cS=this.determineScrollDirection(1,cQ);var cT=((Math.max(Math.abs(cP),Math.abs(cQ))>15)?'fast':'slow');if(cR!==0||cS!==0){this.startDragAutoScrolling(cR,cS,cT,cH);cH.updateLatestPoint(L.get_GestureInfo());cH.constrainShape()}else{this.clearDragAutoScrollInterval();cH.updateAndRenderShape(L.get_GestureInfo())}},$6:function(){if(!this.paneTableViewModel.get_horizontalScrollingManager().get_isFullTableScrollingEnabled()){return 0}var L=this.paneTableViewModel.get_geometryBundle().get_geometryWithRegions().yheader;var cH=this.paneTableViewModel.get_geometryBundle().get_geometryWithRegions().leftaxis;var cI=(ss.isNullOrUndefined(L)?0:L.w);var cJ=(ss.isNullOrUndefined(cH)?0:cH.w);var cK=cI+cJ;return cK-this.scroller.get_scrollPos().x},$5:function(L,cH,cI){if(cI<cH){}if(L<cH){return L-cH}if(cI<L){return L-cI}return 0},$7:function(L){var cH=true;if(ss.isNullOrUndefined(L)){return false}if(this.get_regionPart()==='bottomaxis'){cH=tab.SelectionUtils.isQuantitative(L)}if(cH){return true}return false},onRightClickAxis:function(L){var cH=this.toLocalCoordsEvent(L,false);var cI=tab.ModelUtils.vizImageRegionToVisualPartForSceneMarginsMap[this.get_regionPart()];var cJ=this.paneTableViewModel.get_vizRegionMap()[cI];if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(cJ)){return}var cK=cJ.hitTestNodes(cH)},onDoubleTapAxis:function(L){var cH=this.toLocalCoordsEvent(L,false);var cI=tab.ModelUtils.vizImageRegionToVisualPartForSceneMarginsMap[this.get_regionPart()];var cJ=this.paneTableViewModel.get_vizRegionMap()[cI];if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(cJ)){tab.EditAxisDialogCommands.showEditAxisDialogInServerRenderedMode(this.get_visualId(),cH,this.get_regionPart());return}var cK=cJ.hitTestNodes(cH);if(this.$7(cK)){tab.EditAxisDialogCommands.showEditAxisDialogInBrowserRenderedMode(cK.node)}},debugWindowLog:function(L){if(ss.isValue(ck.windowLog)){}},toLocalCoords:function(L,cH){var cI=this.getLocalOffsetPoint(cH);var cJ={x:L.x-cI.x,y:L.y-cI.y};return cJ},toLocalCoordsRect:function(L,cH){var cI=this.getLocalOffset(cH);var cJ={x:cI.x,y:cI.y};var cK={x:L.x-cJ.x,y:L.y-cJ.y,w:L.w,h:L.h};return cK},toLocalCoordsEvent:function(L,cH){var cI={x:L.get_GestureInfo().pageX,y:L.get_GestureInfo().pageY};return this.toLocalCoords(cI,cH)},getLocalOffset:function(L){var cH=tab.DomUtil.getRectXY(this.connectedDomNode);if(L){return cH}var cI=this.paneTableViewModel.get_horizontalScrollingManager();if(!cI.get_isFullTableScrollingEnabled()){cH.x-=this.regionContent.get_scrollPos().x}cH.y-=this.regionContent.get_scrollPos().y;return cH},getLocalOffsetPoint:function(L){var cH=this.getLocalOffset(L);var cI={x:cH.x,y:cH.y};return cI},moveMapToBounds:function(L){if(this.paneTableViewModel.get_visualModel().get_shouldUpdate()){this.setViewportBorderVisibility(true);this.backgroundMap.splatOverlayToMapForTransition(ck.getCanvasElement(this.connectedDomNode));this.backgroundMap.moveToBounds(L)}},isExistingSelection:function(){var L=tab.ModelUtils.getVisualModelFromVisualId(this.get_visualId(),null).get_selectionsModel().tupleSelection;return L.get_ids().length!==0},$0:function(){this.get_contentProvider().set_scrollPos({x:0,y:0})},suppressTooltips:function(){},zoomPoint:function(L,cH,cI,cJ,cK){if(this.isPanZoomInProgress()){return}this.setPanZoomAnimatingState();var cL=cl.createMapZoomLocalWorkCompleteContext();var cM=cl.createMapZoomFullyCompleteContext();var cN=cH||ck.getCenterPoint(L);this.zoomAnimationProtectionGlass=new spiff.Glass(null,false);this.zoomAnimationProtectionGlass.show();var cO=ss.mkdel(this,function(){cL.dispose();if(this.paneTableViewModel.get_visualModel().get_runtimeReady()){this.endPanZoomAnimation()}});var cP=ss.mkdel(this,function(cV){this.zoomAnimationProtectionGlass=tab.MiscUtil.dispose$1(this.zoomAnimationProtectionGlass);if(cV==='failure'){this.reset()}if(cV==='success'){cM.dispose()}this.clearPanZoomState()});var cQ=ss.mkdel(this,function(){this.setPanZoomWaitingOnServerState();var cV=1/cI;if(cJ){tab.PanZoomCommands.zoomDoubleClick(cN,cI>1,cK,cV,cO,cP,this.$f)}else if(cI>1){tab.PanZoomCommands.zoomIn(cN,cN,cV,cO,cP,this.$f)}else{tab.PanZoomCommands.zoomOut(cN,cV,cO,cP,this.$f)}});this.beginPanZoomAnimation(L);this.suppressTooltips();if(this.mapIsBrowserRendered()){var cR=((cI>1)?1:-1);this.animateZoomOnPointMap(L,cH,cR,cQ)}else{var cS=this.paneTableViewModel.get_visualModel().get_tileCacheUrl();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tab.ViewUrl.canUseTileCacheUrl(cS)){var cT=(L.canDragH?cI:1);var cU=(L.canDragV?cI:1);this.animateZoomOnPointImage(L,cN,cT,cU)}cQ()}},makeDomDragImage:function(){this.domPanZoomRect.createDomAndAppend(this.connectedDomNode);this.domDragImage=$('<div></div>');this.addHiddenDiv(this.domDragImage,'tvdrag_image',this.domPanZoomRect.get_dom());this.domDragMask=$('<div></div>');this.addHiddenDiv(this.domDragMask,'tvdrag_mask',this.domPanZoomRect.get_dom())},hideDomDragImage:function(){if(this.$c!=='viz'||!this.$8){return}this.$8=false;this.domDragMask.css('display','none');this.domDragImage.css('display','none');this.domPanZoomRect.get_dom().css('display','none');this.get_shapeSelector().get_dom().css('display','none');this.domDragImage.html('')},showDomDragImage:function(L){this.$8=true;var cH=(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?this.scroller.get_scrollPos():{x:0,y:0});var cI={l:L.x-cH.x+1,t:L.y-cH.y+1,w:L.w+1-2*1,h:L.h+1-2*1};var cJ=this.$b.clone();if(ss.isInstanceOfType(this.regionContent,bG)){var cK=ck.getCanvasElement(cJ);var cL=tab.CanvasRenderer.getRenderContext(cK,'transparent');this.regionContent.copyContent(cL)}cJ.removeClass();cJ.addClass('tvdrag_imageContainer');this.domDragImage.append(cJ);this.domDragImage.css('display','');var cM=2-1;tab.DomUtil.setMarginBoxJQ(cJ,{l:-cI.l-cM,t:-cI.t-cM,w:tab.DoubleUtil.roundToInt(cJ.width())-2*1,h:tab.DoubleUtil.roundToInt(cJ.height())-2*1});tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:cH.x+cM,t:cH.y+cM,w:cI.w-2*cM,h:cI.h-2*cM});this.domDragMask.css('background-color',this.getPanZoomFillColor());this.domDragMask.css('display','');tab.DomUtil.setMarginBoxJQ(this.domPanZoomRect.get_dom(),cI);this.domPanZoomRect.get_dom().css('display','')},addHiddenDiv:function(L,cH,cI){L.addClass(cH);L.css('display','none');cI.append(L)},mapIsBrowserRendered:function(){return this.backgroundMap.get_enabled()},beginPanZoomAnimation:function(L){this.setViewportBorderVisibility(true);if(this.mapIsBrowserRendered()){var cH=ck.getCanvasElement(this.connectedDomNode);if(ss.isValue(cH)){this.backgroundMap.splatOverlayToMapForTransition(cH);cH.style.visibility='hidden'}}},endPanZoomAnimation:function(){this.setViewportBorderVisibility(false);if(this.mapIsBrowserRendered()){this.backgroundMap.removeMarkOverlay()}var L=ck.getCanvasElement(this.connectedDomNode);if(ss.isValue(L)){L.style.visibility=''}},animateAnchorZoomMap:function(L,cH,cI,cJ){this.backgroundMap.anchorZoom(cI,cH,cJ)},animateAnchorZoomImage:function(L,cH,cI){var cJ=ck.$0(L,cH,1/cI);this.$4(L,cJ)},animatePanMap:function(L,cH){this.backgroundMap.panTo(cH.x,cH.y)},animatePanImage:function(L,cH){this.showDomDragImage(L);tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:cH.x,t:cH.y,w:tab.DoubleUtil.roundToInt(this.domDragImage.width()),h:tab.DoubleUtil.roundToInt(this.domDragImage.height())})},animateZoomOnPointMap:function(L,cH,cI,cJ){this.backgroundMap.zoomOnPoint(cH,cI).done(function(cK){cJ()})},animateZoomOnPointImage:function(L,cH,cI,cJ){var cK=ck.$2(L,cH,cI,cJ);this.$4(L,cK)},animateZoomRectMap:function(L,cH,cI){this.backgroundMap.zoomRect(cH).done(function(cJ){cI()})},animateZoomRectImage:function(L,cH,cI){var cJ=ck.getCenterPointFromRectXY(cI);var cK=cI.w;var cL=cI.h;var cM=L.w/cK;var cN=L.h/cL;if(L.canDragH&&L.canDragV){var cO=Math.min(cM,cN);var cP=this.paneTableViewModel.get_mapServerModel();if(cP.get_hasPresModel()){cO=cG.resolveDesiredScale(cP,cO)}cM=cN=cO}else if(!L.canDragV){cN=1;cJ.y=cH.y}else if(!L.canDragH){cM=1;cJ.x=cH.x}else{return}var cQ=ck.$2(L,cJ,cM,cN);this.$4(L,cQ)},$4:function(L,cH){this.showDomDragImage(L);var cI=this.domDragImage.get(0);this.get_toolModeViewModel().deferModeChanges();window.setTimeout(ss.mkdel(this,function(){tableau.util.transform(cI,cH);this.$9=true;var cJ=500;window.setTimeout(ss.mkdel(this,function(){if(!this.get_toolModeViewModel().isDeferringModeChanges){this.reset()}}),cJ)}),50)},clearDragAutoScrollInterval:null,startDragAutoScrolling:null,determineScrollDirection:null,onRegionContentLoadComplete:function(L,cH){if(this.$c==='viz'){if(!this.isScrolling&&this.$8){this.hideDomDragImage()}if(this.$9){tableau.util.transform(this.domDragImage.get(0),null);this.$9=false}}},getPanZoomFillColor:function(){var L='rgb(255,255,255)';if(this.$c==='viz'){if(this.paneTableViewModel.get_mapServerModel().get_hasPresModel()){L=this.paneTableViewModel.get_mapServerModel().get_mapBGFillColor()}else if(ss.isValue(this.paneTableViewModel.get_scene().scene)){L=this.paneTableViewModel.get_scene().scene.bgColor}}return L},$3:function(){if(this.backgroundMap.get_enabled()){this.backgroundMap.destroyMap();this.$2(true)}},$2:function(L){if(this.$c!=='viz'){return}this.setViewportBorderVisibility(false);if(L){if(!this.backgroundMap.get_enabled()){this.backgroundMap.createMap(this.backgroundDiv,this.paneTableViewModel.get_mapServerModel())}}else{this.backgroundMap.destroyMap()}},$1:function(L){if(this.$c!=='viz'){return}this.backgroundMap.resize(L.w,L.h)},setViewportBorderVisibility:function(L){this.paneTableViewModel.set_highlightBorder(L)},updateForToolMode:function(L){this.updateSelectorShape(L)},updateSelectorShape:function(L){if(ss.isValue(this.$e)){if(ss.isValue(this.$e.get_dom())){this.$e.get_dom().remove()}this.$e=null}switch(L){case'lasso-selection':{this.$e=new bR(this.$d,tab.ApplicationModel.get_instance().get_isLocalRenderMode());break}case'radial-selection':{var cH=this.paneTableViewModel.get_mapServerModel();this.$e=new v(this.$d,cH.get_radialSelectionDistanceInfoModel());break}case'rectangular-selection':default:{this.$e=new bT;break}}this.$e.createDomAndAppend(this.connectedDomNode)},setPanZoomAnimatingState:function(){this.panZoomInteractionState='animating'},setPanZoomWaitingOnServerState:function(){this.panZoomInteractionState='waitingOnServer'},clearPanZoomState:function(){this.panZoomInteractionState='idle'},isPanZoomInProgress:function(){return this.panZoomInteractionState!=='idle'},isPanZoomAnimating:function(){return this.panZoomInteractionState==='animating'},allowMapZoomAtCurrentLevel:function(L){if(L<1){var cH=this.paneTableViewModel.get_mapServerModel();var cI=(cH.get_hasPresModel()?cH.get_zoom():1);return tab.MapUtil.allowZoomAtCurrentLevel(cI,1/L)}return true},handleRightClickHitTestServerWithCallback:function(L,cH){var cI=new tab.HitTestSceneCmd;cI.c['pt1']=tab.PointUtil.toPresModel(L);cI.c['visualIdPresModel']=this.get_visualId();cI.invoke().done(function(cJ){var cK=cJ.$$c['sceneElements'];if(ss.isValue(cK)&&cK.length>0){var cL=new tab.SceneElementModel(cK[0]);var cM=new S(cL);cH(cM)}})}},{$0:function(L,cH,cI){var cJ=1/cI;var cK=((L.x>0)?ss.imod(cH.x,L.x):cH.x);var cL=((L.y>0)?ss.imod(cH.y,L.y):cH.y);var cM={x:cK,y:cL};var cN={scaleX:cJ,scaleY:cJ,time:500,transformOrigin:cM,scale:1,translateX:0,translateY:0};return cN},$2:function(L,cH,cI,cJ){var cK=((cI<1)?-1:((cI>1)?1:0));var cL=((cJ<1)?-1:((cJ>1)?1:0));var cM={x:cK,y:cL};var cN=ck.getCenterPoint(L);var cO=Math.floor((cN.x-cH.x)*cM.x*cI);var cP=Math.floor((cN.y-cH.y)*cM.y*cJ);var cQ={translateX:cO,translateY:cP,scaleX:cI,scaleY:cJ,time:777,scale:1,transformOrigin:null};return cQ},getCenterPoint:function(L){var cH=Math.floor(L.w/2)+L.x;var cI=Math.floor(L.h/2)+L.y;return{x:cH,y:cI}},getCenterPointFromRectXY:function(L){var cH=Math.floor(L.w/2)+L.x;var cI=Math.floor(L.h/2)+L.y;return{x:cH,y:cI}},getCanvasElement:function(L){return L.find('.tabCanvas').get(0)},$1:function(){return new bn}});var cl=global.tab.TiledViewerRegionMetrics=ss.mkType(a,'tab.TiledViewerRegionMetrics',null,null,{createMapZoomLocalWorkCompleteContext:function(){return tabBootstrap.MetricsController.createContext('ZoomLocalWorkComplete',512,null)},createMapZoomFullyCompleteContext:function(){return tabBootstrap.MetricsController.createContext('ZoomFullyComplete',512,null)}});var cm=global.tab.TiledViewerRegionWebMetrics=ss.mkType(a,'tab.TiledViewerRegionWebMetrics',null,null,{createZoomRectLocalWorkCompleteContext:function(){return tabBootstrap.MetricsController.createContext('ZoomRectLocalWorkComplete',512,null)},createZoomRectFullyCompleteContext:function(){return tabBootstrap.MetricsController.createContext('ZoomRectFullyComplete',512,null)},createPanMapMouseUpFullyCompleteContext:function(){return tabBootstrap.MetricsController.createContext('PanMouseUpFullyComplete',512,null)},createPanMapMouseUpLocalWorkCompleteContext:function(){return tabBootstrap.MetricsController.createContext('PanMouseUpLocalWorkComplete',512,null)}});var cn=global.tab.TiledWindow=ss.mkType(a,'tab.TiledWindow',function(L,cH,cI,cJ,cK,cL){this.$e=null;this.$f=null;this.$d=null;this.$l=null;this.$c=null;this.$j=null;this.$p=0;this.$q=0;this.$n=null;this.$b=null;this.$o=0;this.$h=null;this.$s=null;this.$r=0;this.$k=0;this.$m=false;this.$g=false;this.$i=null;this.$1$1=null;this.$h=cJ;this.$e=L;this.$l=cH;this.$s=cI;this.$m=cK;this.$d={x:0,y:0,w:0,h:0,r:''};this.$n={w:0,h:0};this.$f=new z;this.$f.add_imageLoaded(ss.mkdel(this,this.$5));this.$f.add_imageTimedOut(ss.mkdel(this,this.$6));this.$f.add_complete(ss.mkdel(this,this.$7));this.$j=[];this.$c=$('.tvimagesContainer',this.$e);this.$g=true;this.$i=cL},{add_loadComplete:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_loadComplete:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},get_actualViewSize:function(){return{w:this.$e.clientWidth,h:this.$e.clientHeight}},set_actualViewSize:function(L){},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.get_left(),y:this.get_top()}},set_scrollPos:function(L){this.set_left(L.x);this.set_top(L.y);this.$3(false)},get_canScrollX:function(){return this.get_docSize().w>this.get_effectiveViewSize().w},get_canScrollY:function(){return this.get_docSize().h>this.get_effectiveViewSize().h},get_docSize:function(){return{w:this.$d.w,h:this.$d.h}},get_hasContent:function(){return true},get_left:function(){return this.$k},set_left:function(L){this.$k=L;if(this.$m&&!this.$i.get_isFullTableScrollingEnabled()){this.$e.scrollLeft=L}},get_top:function(){return this.$r},set_top:function(L){this.$r=L;if(this.$m){this.$e.scrollTop=L}},destroy:function(){this.$f.destroy();if(this.$o>0){tab.LegacySessionWaitHandler.decrementWait();tab.ImageTileTracker.decrementPendingCount();this.$o=0}this.$h=null;this.$s=null},refreshImages:function(L){if(this.$2()){return}if(ss.isNullOrUndefined(L)){return}this.$b=L;this.$1();this.$3(!tab.ProgressiveLoader.get_progressiveLoadEnabled()||!this.$g);this.$g=false},reset:function(L,cH){var cI=this.$d;this.$d=L;var cJ=this.$n;this.$n=cH;if(this.$2()){return}if(this.$4(cI,cJ)){return}this.$p=Math.ceil(this.$d.w/this.$n.w);this.$q=Math.ceil(this.$d.h/this.$n.h);this.$8();this.$a()},$8:function(){this.$c.width(this.$d.w);this.$c.height(this.$d.h)},$a:function(){var L=this.$d.h-this.$e.offsetHeight;var cH=this.$d.w-this.$e.offsetWidth;L=Math.max(0,L);cH=Math.max(0,cH);this.set_top(Math.min(this.get_top(),L));this.set_left(Math.min(this.get_left(),cH))},$4:function(L,cH){return bZ.sizesAreEqual(L,this.$d)&&tab.SizeUtil.equals(cH,this.$n)},$2:function(){if(ss.isNullOrUndefined(this.$d)){return true}return this.$d.w===0&&this.$d.h===0},setXPos:function(L){this.set_scrollPos({x:L,y:this.get_scrollPos().y})},setYPos:function(L){this.set_scrollPos({x:this.get_scrollPos().x,y:L})},$0:function(L){var cH=$(L);if(!!cH.prop('_deferredClear')){cH.prop('_deferredClear',null);cH.empty()}},$3:function(L){if(!ss.isValue(L)){L=false}if(this.$2()){return}if(!ss.isValue(this.$b)){return}this.$f.clear();if(!ss.isValue(this.$l)){return}var cH=this.get_left();var cI=cH+this.$e.clientWidth;var cJ=this.get_top();var cK=cJ+this.$e.clientHeight;var cL=Math.max(Math.floor(cH/this.$n.w),0);var cM=Math.min(Math.ceil(cI/this.$n.w),this.$p);var cN=Math.max(Math.floor(cJ/this.$n.h),0);var cO=Math.min(Math.ceil(cK/this.$n.h),this.$q);var cP=this.$o;this.$o=Math.max((cM-cL)*(cO-cN),0);if(cP<=0&&this.$o>0){if(L){tab.LegacySessionWaitHandler.incrementWait(false,true)}tab.ImageTileTracker.incrementPendingCount()}var cQ='';var cR=0;if(ss.isValue(this.$h)){cQ=this.$h()}if(ss.isValue(this.$s)){cR=this.$s.get_cacheVersion()}var cS=false;for(var cT=cL;cT<cM;cT++){var cU=Math.min(this.$n.w,this.$d.w-cT*this.$n.w);for(var cV=cN;cV<cO;++cV){var cW=Math.min(this.$n.h,this.$d.h-cV*this.$n.h);var cX=cV*this.$p+cT;var cY={l:cT*this.$n.w,t:cV*this.$n.h,w:cU,h:cW};var cZ=this.$l.getViewUrl().toTileUrl(this.$b,this.$d.r,cT,cV,'',cQ);if(ss.isValue(this.$j[cX])&&this.$j[cX].$0(cZ,cR)){this.$9();var da=this.$j[cX].$2();var db=da.width!==cY.w||da.height!==cY.h;if(db){$(da).css(ss.mkdict(['left',cY.l+'px','top',cY.t+'px']));tab.RenderUtil.ensureImageEltSize(da,cY)}}else{cS=true;this.$j[cX]=this.$j[cX]||new h;var dc=new W(this.$j[cX].$2(),cX,cZ,cY,cR);this.$f.addImage(dc)}}}if(!cS){this.$c.each(ss.mkdel(this,function(dd,de){this.$0(de)}))}},$1:function(){this.$j=[];this.$c.prop('_deferredClear',true)},$9:function(){if(this.$o>0){this.$o--;if(this.$o===0){tab.LegacySessionWaitHandler.decrementWait();tab.ImageTileTracker.decrementPendingCount()}}},$5:function(L,cH){this.$9();if(ss.isValue(cH.get_image().get_imageNode())){var cI=cH.get_image().get_imageNode();tab.RenderUtil.ensureImageEltSize(cI,cH.get_image().get_bounds());var cJ=cH.get_image().get_index();var cK=this.$s.get_cacheVersion();if(!ss.isValue(this.$j[cJ])){return}if((!ss.isValue(this.$j[cJ].$2())||!ss.referenceEquals($(this.$j[cJ].$2()).attr('src'),$(cI).attr('src')))&&cH.get_image().get_version()===cK){this.$j[cJ].$3(cI);this.$j[cJ].$1=cK;var cL=cI;var cM=0;var cN=this.$c.length;this.$c.each(ss.mkdel(this,function(cO,cP){this.$0(cP);cP.appendChild(cL);if(cM<cN-1){cL=cL.cloneNode(false)}cM++}))}}},$6:function(L,cH){this.$9()},$7:function(L,cH){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}});var co=global.tab.ToolModeViewModel=ss.mkType(a,'tab.ToolModeViewModel',function(L,cH){this.$3=null;this.$6=null;this.$5=false;this.$4=null;this.$2$1=null;this.$2$2=null;this.defaultPointerToolMode=null;this.currentModifierKeyToolMode=null;this.isDeferringModeChanges=false;spiff.BaseViewModel.call(this);this.set_isAppendMode(false);this.isDeferringModeChanges=false;if(L==='viz'){this.currentModifierKeyToolMode='no-tools'}this.setLockedPointerToolMode(cH)},{add_toolbarToolModeUpdated:function(L){this.$2$1=ss.delegateCombine(this.$2$1,L)},remove_toolbarToolModeUpdated:function(L){this.$2$1=ss.delegateRemove(this.$2$1,L)},add_appendModeUpdated:function(L){this.$2$2=ss.delegateCombine(this.$2$2,L)},remove_appendModeUpdated:function(L){this.$2$2=ss.delegateRemove(this.$2$2,L)},get_isAppendMode:function(){return this.$5},set_isAppendMode:function(L){if(this.$5!==L){this.$5=L;this.raiseActionEvent$1(Boolean).call(this,this.$2$2,this.$5)}},get_currentToolbarToolMode:function(){return this.$3},set_currentToolbarToolMode:function(L){if(tsConfig.allow_filter){this.$3=L}},get_currentPointerToolMode:function(){return((this.currentModifierKeyToolMode==='no-tools')?this.get_currentToolbarToolMode():this.currentModifierKeyToolMode)},get_isPanToolActive:function(){return this.get_currentPointerToolMode()==='pan-map'},get_isSelectingToolActive:function(){return this.get_currentPointerToolMode()==='rectangular-selection'||this.get_currentPointerToolMode()==='lasso-selection'||this.get_currentPointerToolMode()==='radial-selection'},get_isZoomToolActive:function(){return this.get_currentPointerToolMode()==='area-zoom'||this.get_currentPointerToolMode()==='zoom-out'},initializeToolModesForVizRegion:function(L){this.defaultPointerToolMode=this.$1(L);this.$3=this.defaultPointerToolMode;this.resetPointerToolMode()},setPointerToolMode:function(L){if(ss.isNullOrUndefined(L)){L=this.defaultPointerToolMode}this.$2(L)},$1:function(L){if(tsConfig.is_mobile){var cH='pan-map';if(L){cH=this.$6;if(cH==='area-zoom'){cH='rectangular-selection'}}return cH}else{return this.$6}},updateDefaultToolMode:function(L){this.defaultPointerToolMode=this.$1(L)},setLockedPointerToolMode:function(L){this.$6=L},resetPointerToolMode:function(){this.setPointerToolMode(this.defaultPointerToolMode)},$2:function(L){if(!tsConfig.is_mobile){if(this.$0(L)){return}}this.set_currentToolbarToolMode(L);this.raiseActionEvent$1(Object).call(this,this.$2$1,L)},deferModeChanges:function(){this.isDeferringModeChanges=true},handleDeferredModeChangeIfNeeded:function(){if(tsConfig.is_mobile){return}this.isDeferringModeChanges=false;if(ss.isValue(this.$4)){var L=ss.unbox(this.$4);this.$4=null;this.currentModifierKeyToolMode='no-tools';this.$2(L)}},$0:function(L){if(this.isDeferringModeChanges){this.$4=L;return true}return false}});var cp=global.tab.TooltipDisabledMode=ss.mkType(a,'tab.TooltipDisabledMode',function(L,cH){tab.TooltipBaseMode.call(this,'disabled',L,cH)},{get_multiSelectCompleteBehavior:function(){return'disabled'},get_currentTooltipMode:function(){return'none'},getSingleSelectBehaviorCallback:function(L){return function(){}},buildBehaviorsDictionary:function(){var L=new tab.DisabledTooltipBehavior;this.tooltipBehaviors['disabled']=L},suppressHoverIfNecesary:function(){},shouldForceRemoteTooltipForObject:function(L,cH){var cI=this.getAffectedObjects(L,cH);return L==='mark'&&ss.isValue(cI)&&cI.length>1||tab.ActionUtils.doesWorksheetContainHoverActionsThatInvalidateVisualPresModelAndRunRemotely(this.get_visualIDPresModel().worksheet)}});var cq=global.tab.TooltipResponsiveMode=ss.mkType(a,'tab.TooltipResponsiveMode',function(L,cH,cI,cJ){this.$M=null;this.$O=null;this.$N=null;this.$L=null;this.$K=false;this.$J=false;tab.TooltipBaseMode.call(this,'smooth',L,cH);var cK=this.get_currentBehavior();cK.attach();cK.add_onMouseStop(ss.mkdel(this,this.$F));this.$L=cI;this.$J=cJ;this.$M=cq.$0();this.$O=cq.$2();this.$N=cq.$1();this.$A();this.get_tooltip().add_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().add_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().add_showed(ss.mkdel(this,this.$H));this.get_tooltip().add_closed(ss.mkdel(this,this.$G))},{get_ubertipShouldEnforceButtonOrdering:function(){return true},get_currentTooltipMode:function(){return'smooth'},dispose:function(){var L=this.tooltipBehaviors['smooth'];L.remove_onMouseStop(ss.mkdel(this,this.$F));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().remove_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().remove_showed(ss.mkdel(this,this.$H));this.get_tooltip().remove_closed(ss.mkdel(this,this.$G));this.$B();tab.TooltipBaseMode.prototype.dispose.call(this)},buildBehaviorsDictionary:function(){var L=tab.ObjectRegistry.newLegacyTooltipBehavior(tab.ITooltipBehavior).call(null,tab.ITooltipBehavior,this.get_tooltip());var cH=new tab.SmoothTooltipBehavior(this.get_tooltip());this.tooltipBehaviors['sticky']=L;this.tooltipBehaviors['smooth']=cH},getSingleSelectBehaviorCallback:function(L){return ss.mkdel(this,function(cH){this.$I(L,cH)})},$I:function(L,cH){this.get_currentBehavior().singleSelectComplete(L);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}if(!this.isUbertipObjectSelected(cH)){this.switchTooltipMode('smooth');this.$C()}},shouldShowCommandButtons:function(){var L=tab.TooltipBaseMode.prototype.shouldShowCommandButtons.call(this);var cH=this.get_ubertip().get_model();if(!L||ss.isNullOrUndefined(cH)){return L}var cI=cH.tupleId===0;if(!cI){L=this.isUbertipObjectSelected(cH)}return L},getSingleSelectBehavior:function(L){return'sticky'},getHoverBehavior:function(L){var cH=this.get_defaultBehaviorType();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(L==='header'||L==='visualparts'){cH='sticky'}else if(L==='mark'){cH='smooth'}else{}}else if(L==='header'){cH='sticky'}else{cH='smooth'}return cH},onPanOrDragStart:function(L){this.$B();tab.TooltipBaseMode.prototype.onPanOrDragStart.call(this,L)},onDragEnd:function(L){this.get_tooltip().close();this.$A();tab.TooltipBaseMode.prototype.onDragEnd.call(this,L)},onBehaviorSwitch:function(){if(this.get_currentBehaviorType()==='smooth'){this.$A();this.get_tooltip().allowMouseEventPassthrough(true)}else{this.$B();this.get_tooltip().allowMouseEventPassthrough(false)}},shouldForceRemoteTooltipForObject:function(L,cH){var cI=this.getAffectedObjects(L,cH);return L==='mark'&&ss.isValue(cI)&&cI.length>1||tab.ActionUtils.doesWorksheetContainHoverActionsThatInvalidateVisualPresModelAndRunRemotely(this.get_visualIDPresModel().worksheet)},$H:function(){this.handleUbertipButtons();this.get_tooltip().allowMouseEventPassthrough(this.get_currentBehaviorType()==='smooth')},$G:function(){this.get_ubertip().hideMenuActionsAndCommandButtons(true);this.get_tooltip().allowMouseEventPassthrough(false)},$D:function(L){if(this.readyForHover&&this.get_currentBehaviorType()==='smooth'&&this.get_isTooltipShown()){this.get_currentBehavior().onMouseMove(L)}},$E:function(L){this.get_tooltip().allowMouseEventPassthrough(false);if(this.get_currentBehaviorType()==='sticky'&&this.get_tooltip().isInSafeZone({x:L.pageX,y:L.pageY},false)){return}this.get_tooltip().close()},$F:function(L){if(ss.isNullOrUndefined(this.get_ubertip().get_model())){return}if(!this.$J){return}var cH=false;var cI=this.isUbertipObjectSelected(this.get_ubertip().get_model());if(cI){cH=this.switchTooltipMode('sticky')}this.$C();if(cH&&this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}},$C:function(){if(!this.get_tooltip().get_isShown()&&ss.isValue(this.get_tooltip().get_lastLocation())&&this.get_currentBehaviorType()==='sticky'&&tab.TooltipBaseMode.isUbertipHtmlEmpty(this.get_ubertip().get_model())&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.get_tooltip().show(this.get_tooltip().get_body().children()[0],this.get_tooltip().get_lastLocation())}else if(this.get_tooltip().get_isShown()&&this.get_currentBehaviorType()==='smooth'&&tab.TooltipBaseMode.isUbertipHtmlEmpty(this.get_ubertip().get_model())){this.get_tooltip().close()}},$A:function(){if(this.$K||tab.ApplicationModel.get_instance().get_isDesktopRenderMode()){return}if(tsConfig.is_mobile){this.$L.on(this.$O,ss.mkdel(this,this.$D))}else{this.$L.on(this.$M,ss.mkdel(this,this.$D))}this.$L.on(this.$N,ss.mkdel(this,this.$E));this.$K=true},$B:function(){if(!this.$K){return}if(tsConfig.is_mobile){this.$L.off(this.$O)}else{this.$L.off(this.$M)}this.$L.off(this.$N);this.$K=false}},{$0:function(){cq.$4++;return'mousemove.TooltipResponsiveMode'+cq.$4},$2:function(){cq.$4++;return'touchmove.TooltipResponsiveMode'+cq.$4},$1:function(){cq.$4++;return'mouseout.TooltipResponsiveMode'+cq.$4}});var cr=global.tab.TrendLineHitTestLink=ss.mkType(a,'tab.TrendLineHitTestLink',function(L){this.$1=null;Q.call(this,L)},{get_hitTestStructures:function(){if(ss.isValue(this.$1)){return this.$1}this.$1=[];var L=this.paneTableVM.get_trendLineVisualLists();if(!ss.isValue(L)){return this.$1}for(var cH=0;cH<L.length;cH++){var cI=L[cH];this.$0(cI)}return this.$1},$0:function(L){var cH=L.drawItems;var cI=1;for(var cJ=0;cJ<cH.length;cJ++){var cK=cH[cJ];if(cK.type==='draw-group'){var cL=cK;for(var cM=0;cM<cL.drawItems.length;cM++){var cN=cL.drawItems[cM];switch(cN.type){case'draw-pen':{var cO=cN;if(ss.isValue(cO.strokeWidth)){cI=cO.strokeWidth}break}case'draw-path':{var cP=cN;var cQ=T.buildTrendLineHitTestStructure(cP,cI,cL.objectId);this.$1.push(cQ);break}default:{break}}}}}},hitTest:function(L,cH){return cr.hitTestTrendLines(this.get_hitTestStructures(),{x:L.x,y:L.y,w:1,h:1},cH)},clearCache:function(){this.$1=null}},{hitTestTrendLines:function(L,cH,cI){var cJ=S.createEmptyHitTestResult();var cK=[];for(var cL=L.length-1;cL>=0;cL--){var cM=cr.$0(L[cL],cH,cI);if(cM.get_hitType()===3){if(cI){return[cM]}else{cK.push(cM)}}if(cI&&cM.get_hitType()===2&&cJ.get_hitType()===0){cJ=cM}}if(cI){if(cJ.get_hitType()===0){return[S.createEmptyHitTestResult()]}return[cJ]}return cK},$0:function(L,cH,cI){var cJ=S.createEmptyHitTestResult();if(cI){var cK=tab.RectXYUtil.dialate(cH,cv.visualPartNearHitTestExpansionPixels);var cL=cr.$1(L,cK);if(ss.isValue(cL)){cJ=new S.$ctor1(ss.unbox(cL),3,2)}}if(cJ.get_hitType()===2||!cI){var cM=cr.$1(L,cH);if(ss.isValue(cM)){cJ=new S.$ctor1(ss.unbox(cM),3,3)}}return cJ},$1:function(L,cH){var cI=new Array;cI.push(L);while(cI.length>0){var cJ=cI.pop();var cK=tab.RectXYUtil.intersectsWith(cJ.get_boundingBox(),cH);if(cK){if(cJ.get_nodeType()===4||cJ.get_nodeType()===0){var cL=cJ.get_children();cL.forEach(function(cM){cI.push(cM)})}else if(cJ.get_nodeType()===5){return cJ.get_objectId()}}}return null}});var cs=global.tab.UserPaneInfo=ss.mkType(a,'tab.UserPaneInfo',function(L,cH){this.$g=null;this.$7=0;this.$d=null;this.$e=null;this.$c=null;this.$f=null;this.$h=null;this.$g=L;var cI=L.$1;var cJ=L.$2;var cK=L.$5*L.$0;this.$d=new Array(cK+1);this.$h=new Array(cK);this.$c=(cI?new Array(cK):null);this.$f=(cJ?new Array(cK):null);this.$e=new Array(cH.markCount);this.$7=this.$a(cH)},{$b:function(L,cH,cI){var cJ={x:0,y:0,w:L.w,h:L.h};if(cH>=0&&this.$g.$1){var cK=this.$g.$3[cH];var cL=this.$g.$3[cH+1];cJ.x+=Math.round(cK);cJ.w=Math.round(cL-cK)}if(cI>=0&&this.$g.$2){var cM=this.$g.$4[cI];var cN=this.$g.$4[cI+1];cJ.y+=Math.round(cM);cJ.h=Math.round(cN-cM)}return cJ},$3:function(L){return this.$h[L]},$4:function(L){var cH=this.$e[L];return this.$h[cH]},$0:function(L){return this.$e[L]},$1:function(L){return this.$d[L+1]-this.$d[L]},$2:function(L){return{firstMark:this.$d[L],lastMark:this.$d[L+1]-1}},$a:function(L){var cH=L.c.get('user_pane_col');var cI=L.c.get('user_pane_row');var cJ=L.paneRect;var cK=L.markCount;var cL=0;var cM=-1;var cN=-1;var cO=ss.isNullOrUndefined(cI);var cP=ss.isNullOrUndefined(cH);if(!cO||!cP){for(var cQ=0;cQ<cK;++cQ){var cR=(cP?-1:cH.v[(cH.c?0:cQ)]);var cS=(cO?-1:cI.v[(cI.c?0:cQ)]);if(cR!==cM||cS!==cN){this.$9(cQ,cL,cR,cS,cJ);cM=cR;cN=cS;cL+=1}}}this.$d[cL]=cK;this.$8(cL);return cL},$8:function(L){if(L===0){return}var cH=L-1;var cI=this.$d[cH];var cJ=this.$d[L];for(var cK=cI;cK<cJ;++cK){this.$e[cK]=cH}},$9:function(L,cH,cI,cJ,cK){if(ss.isValue(this.$c)){this.$c[cH]=cI}if(ss.isValue(this.$f)){this.$f[cH]=cJ}this.$h[cH]=this.$b(cK,cI,cJ);this.$d[cH]=L;this.$8(cH)},$5:function(L){for(var cH=0;cH<this.$7;++cH){var cI=this.$3(cH);var cJ=this.$2(cH);var cK=cJ.firstMark;var cL=cJ.lastMark;for(var cM=cK;cM<=cL;++cM){L(cM,cI)}}},$6:function(L,cH){var cI=-1;var cJ=null;for(var cK=0;cK<L.length;cK++){var cL=L[cK];var cM=this.$e[cL];if(cM!==cI){cI=cM;cJ=this.$3(cM)}cH(cL,cJ)}}});var ct=global.tab.VisualListViewModel=ss.mkType(a,'tab.VisualListViewModel',function(L,cH,cI,cJ,cK){this.$4=null;this.$8=null;this.$6=null;this.$7=null;this.$1=null;this.$3=null;this.$2=null;this.$5=null;spiff.BaseViewModel.call(this);this.$4=L;this.$8=cH;this.$6=cI;this.$4.add_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(cJ)){this.$7=cJ.nodeSelection;this.$7.add_newSelection(ss.mkdel(this,this.$0))}if(ss.isValue(cK)){this.$1=cK.nodeSelection;this.$1.add_newSelection(ss.mkdel(this,this.$0))}if(ss.isValue(cJ)||ss.isValue(cK)){this.$0()}var cL=ss.mkdel(this,function(){this.notifyPropertyChanged('font')});tab.ServerFontLoader.get_instance().add_fontPreparationComplete(cL);this.disposables.add$1(new tab.CallOnDispose(function(){tab.ServerFontLoader.get_instance().remove_fontPreparationComplete(cL)}))},{get_visualList:function(){return this.$4},get_groupItemNodes:function(){return this.$4.get_groupItemNodes()},get_visualListPM:function(){return this.$4.get_visualListPresModel()},get_defaultBackgroundColor:function(){return this.$3},set_defaultBackgroundColor:function(L){this.$3=L},get_hoveredNodeOrAxis:function(){return this.$2},set_hoveredNodeOrAxis:function(L){if(!ss.referenceEquals(this.$2,L)){this.$5=this.$2;this.$2=L;this.notifyPropertyChanged('HoverNode')}},dirtyRect:function(L){var cH={x:0,y:0,w:0,h:0};var cI=[this.$5,this.$2];for(var cJ=0;cJ<cI.length;cJ++){var cK=cI[cJ];if(ss.isValue(cK)){var cL={x:cK.extentsX,y:cK.extentsY,w:cK.extentsWidth,h:cK.extentsHeight};cH=tab.RectXYUtil.union(cH,cL)}}return tab.RectXYUtil.offsetRect(cH,L)},isNodeOrAxisHovered:function(L){return ss.referenceEquals(L,this.$2)},isSelected:function(L){return ss.isValue(this.$7)&&this.$7.isNodeSelected(L)},isBrushed:function(L){return ss.isValue(this.$1)&&this.$1.isNodeSelected(L)},selectNode:function(L,cH,cI,cJ,cK){tab.SelectionClientCommands.selectNode(this.$6,L,cI,this.$4,cH,this.$8,cJ,cK)},hitTestNodes:function(L){var cH=_.find(this.get_groupItemNodes(),function(cI){var cJ=cI.extentsX||0;var cK=cI.extentsY||0;var cL={x:cJ,y:cK,w:cI.extentsWidth,h:cI.extentsHeight};return tab.RectXYUtil.inRect(cL,L)});return cH},handleModelChange:function(){this.notifyPropertyChanged('visualList')},$0:function(){this.notifyPropertyChanged('selection')},dispose:function(){this.$4.remove_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(this.$7)){this.$7.remove_newSelection(ss.mkdel(this,this.$0))}if(ss.isValue(this.$1)){this.$1.remove_newSelection(ss.mkdel(this,this.$0))}spiff.BaseViewModel.prototype.dispose.call(this)}});var cu=global.tab.VisualObjectBoundsComputerAndHitTester=ss.mkType(a,'tab.VisualObjectBoundsComputerAndHitTester',function(){},{computeBoundsOfSelectedMarks:function(L,cH){var cI=L.get_selectionsModel().tupleSelection;var cJ={x:0,y:0,w:0,h:0};var cK=cI.get_ids();for(var cL=0;cL<cK.length;cL++){var cM=cK[cL];var cN=cH.getMarkBoundingBox(cM);cJ=tab.RectXYUtil.union(cJ,cN)}return cJ},computeBoundsOfSelectedNodes:function(L,cH){var cI=L.get_selectionsModel().nodeSelection;var cJ={x:0,y:0,w:0,h:0};var cK=cH;if(ss.isNullOrUndefined(cK)){return cJ}var cL=cK.get_groupItemNodes();for(var cM=0;cM<cL.length;cM++){var cN=cL[cM];if(!cI.isNodeSelected(cN)){continue}var cO=cN.extentsX||0;var cP=cN.extentsY||0;var cQ={x:cO,y:cP,w:cN.extentsWidth,h:cN.extentsHeight};cJ=tab.RectXYUtil.union(cJ,cQ)}return cJ},computeBoundsOfSelectedRefLines:function(L,cH){var cI=L.get_selectionsModel().refLineSelection;var cJ={x:0,y:0,w:0,h:0};if(cI.isEmpty){return cJ}for(var cK=0;cK<cH.length;cK++){var cL=cH[cK];for(var cM=0;cM<cL.drawItems.length;cM++){var cN=cL.drawItems[cM];var cO=cN;if(!cI.isObjectSelected(cO.objectId)){continue}for(var cP=0;cP<cO.drawItems.length;cP++){var cQ=cO.drawItems[cP];if(cQ.type!=='draw-polyline'&&cQ.type!=='draw-fill-rect'){continue}var cR=cQ;if(cR.points.length<4){continue}var cS={x:cR.points[0],y:cR.points[1]};var cT={x:cR.points[2],y:cR.points[3]};var cU=tab.RectXYUtil.rectXYFromCorners$1(cS,cT);cU=tab.RectXYUtil.nonemptyify(cU);cJ=tab.RectXYUtil.union(cJ,cU)}}}return cJ},computeBoundsOfSelectedTrendLines:function(L,cH){var cI=L.get_selectionsModel().trendLineSelection;var cJ={x:0,y:0,w:0,h:0};if(cI.isEmpty){return cJ}var cK=new cr(cH);var cL=cK.get_hitTestStructures();var cM=new Array;for(var cN=0;cN<cL.length;cN++){var cO=cL[cN];cM.push(cO)}while(cM.length!==0){var cP=cM.pop();if(cP.get_nodeType()===4||cP.get_nodeType()===0){var cQ=cP.get_children();for(var cR=0;cR<cQ.length;cR++){var cS=cQ[cR];cM.push(cS)}}else if(cP.get_nodeType()===5){if(cI.isObjectSelected(cP.get_objectId())){cJ=tab.RectXYUtil.union(cJ,cP.get_boundingBox())}}}return cJ}});var cv=global.tab.VisualPartsHitTest=ss.mkType(a,'tab.VisualPartsHitTest');var cw=global.tab.VisualPartTargetState=ss.mkEnum(a,'tab.VisualPartTargetState',{normal:'normal',hover:'hover',press:'press',highlighted:'highlighted',selected:'selected',fogged:'fogged'},true);var cx=global.tab.VisualRegionCanvasView$1=ss.mkType(a,'tab.VisualRegionCanvasView$1',function(L){var cH=ss.registerGenericClassInstance(cx,[L],function(cI,cJ,cK){this.renderer=null;this.docSize={w:0,h:0};this.containers=null;this.$n=null;this.$4$1=null;ss.makeGenericType(u,[L]).call(this,cI,cK);this.$n=cJ;this.containers=$('.tvimagesContainer',this.$n);this.add_sizeChange(ss.mkdel(this,this.$l))},{add_loadComplete:function(cI){this.$4$1=ss.delegateCombine(this.$4$1,cI)},remove_loadComplete:function(cI){this.$4$1=ss.delegateRemove(this.$4$1,cI)},get_docSize:function(){return this.docSize},get_hasContent:function(){return true},destroy:function(){this.dispose()},refreshImages:function(cI){},reset:function(cI,cJ){if(ss.isNullOrUndefined(cI)){return}var cK={w:cI.w,h:cI.h};var cL=ss.isValue(this.docSize)&&!tab.SizeUtil.equals(cK,this.docSize);this.docSize=cK;this.containers.width(cI.w);this.containers.height(cI.h);if(cL){this.$m()}},copyContent:function(cI){cI.drawImage1(this.canvasElt,0,0)},dispose:function(){this.remove_sizeChange(ss.mkdel(this,this.$l));this.renderer=null;ss.makeGenericType(u,[L]).prototype.dispose.call(this)},redraw:function(){if(!this.get_needsRedraw()&&!tab.AnimationUtil.isUpdating()||ss.isNullOrUndefined(this.renderer)){return}this.renderer.reset();this.context.save();this.context.setClip(this.$k());tab.CanvasUtil.scaleCanvasDrawing(this.context,this.get_pixelRatio());this.renderer.set_renderOffset(this.scrollOffset);this.performRender();this.context.restore();this.postRenderFinalPass();this.clearDirty();this.raiseLoadComplete()},redrawFinished:function(){},raiseLoadComplete:function(){if(ss.isValue(this.$4$1)){this.$4$1(this,ss.EventArgs.Empty)}},onViewModelPropertyChanged:function(cI,cJ){this.invalidate(false)},performRender:null,postRenderFinalPass:null,$k:function(){var cI=this.get_pixelRatio();var cJ=this.get_dirtyRect();var cK=cJ.x*cI;var cL=cJ.y*cI;var cM=(cJ.x+cJ.w)*cI;var cN=(cJ.y+cJ.h)*cI;var cO=Math.floor(cK);var cP=Math.floor(cL);return{x:cO,y:cP,w:Math.ceil(cM)-cO,h:Math.ceil(cN)-cP}},$l:function(){this.$m()},$m:function(){var cI=this.get_effectiveViewSize();var cJ={x:Math.min(this.docSize.w-cI.w,this.scrollOffset.x),y:Math.min(this.docSize.h-cI.h,this.scrollOffset.y)};cJ.x=Math.max(0,cJ.x);cJ.y=Math.max(0,cJ.y);this.set_scrollPos(cJ)}},null,function(){return ss.makeGenericType(u,[L])},function(){return[tab.IWidget,ss.makeGenericType(tab.IView$1,[L]),ss.IDisposable,tab.IAppendableView,tab.IRegionContentProvider,spiff.IScrollable]});return cH});ss.initGenericClass(cx,1);var cy=global.tab.VizContextMenuItemsHandler=ss.mkType(a,'tab.VizContextMenuItemsHandler',function(L,cH,cI){cy.$ctor1.call(this,L.get_id(),L.get_hitObjectType(),cH,cI)},{buildMenuItems:function(){var L=[];L.push({value:'Annotate Mark',displayValue:tab.Strings.CreateMarkAnnotationFromVizContextMenu,disabled:this.$2!==7});L.push({value:'Annotate Point',displayValue:tab.Strings.CreatePointAnnotationFromVizContextMenu,disabled:false});L.push({value:'Annotate Area',displayValue:tab.Strings.CreateAreaAnnotationFromVizContextMenu,disabled:false});return L},handleItemClicked:function(L){switch(L){case'Annotate Mark':{tab.AnnotationClientCommands.createMarkAnnotation(this.$1,[this.$0],this.$3);r.reportCreatedAnnotationTelemetry('Mark');break}case'Annotate Area':{tab.AnnotationClientCommands.createAreaAnnotation(this.$1,this.$3);r.reportCreatedAnnotationTelemetry('Area');break}case'Annotate Point':{tab.AnnotationClientCommands.createPointAnnotation(this.$1,this.$3);r.reportCreatedAnnotationTelemetry('Point');break}default:{throw new ss.Exception('Unknown menu option '+L)}}}},{$ctor1:function(L,cH,cI,cJ){this.$0=0;this.$2=0;this.$3=null;this.$1=null;this.$0=L;this.$3=cJ;this.$2=cH;this.$1=cI}});var cz=global.tab.VizContextMenuViewModel=ss.mkType(a,'tab.VizContextMenuViewModel',function(L){this.isHidden=false;this.location=null;this.vizOverlayDiv=null;this.$6=null;this.$5=null;this.$7=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.vizOverlayDiv=L;this.isHidden=true;this.$7={x:0,y:0}},{get_scrollOffset:function(){if(ss.isValue(tab.ApplicationModel.get_instance().pm)&&tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return this.$7}return{x:0,y:0}},set_scrollOffset:function(L){this.$7.x=L.x;this.$7.y=L.y},setAnchorEl:function(L){this.vizOverlayDiv=L;this.incrementProps()},show:function(L,cH){var cI=tab.PointUtil.subtract(L,this.get_scrollOffset());this.$5=cH;this.location=cI;this.isHidden=false;this.incrementProps()},createInitialProps:function(){return{hide:ss.mkdel(this,this.$4),handleItemClicked:ss.mkdel(this,this.handleItemClicked)}},createUpdatedProps:function(){return{vizOverlayDiv:this.vizOverlayDiv,location:this.location,isHidden:this.isHidden,hide:ss.mkdel(this,this.$4),handleItemClicked:ss.mkdel(this,this.handleItemClicked),menuOptions:this.$3()}},$3:function(){if(ss.isNullOrUndefined(this.$5)){return[]}this.$6={};var L=[];for(var cH=0;cH<this.$5.length;cH++){var cI=this.$5[cH];var cJ=cI.buildMenuItems();L=L.concat.apply(L,cJ);for(var cK=0;cK<cJ.length;cK++){var cL=cJ[cK];this.$6[cL.value]=cI}}return L},$4:function(){this.$5=null;this.isHidden=true;this.$6=null;this.incrementProps()},handleItemClicked:function(L){if(ss.keyExists(this.$6,L)){this.$6[L].handleItemClicked(L)}this.isHidden=true;this.incrementProps()}});var cA=global.tab.VizHitInfo=ss.mkType(a,'tab.VizHitInfo',function(L,cH,cI,cJ,cK,cL,cM,cN){this.$4=null;this.$1$1=0;this.$1$2=null;this.$1$3=0;this.$1$4=0;this.$1$5=0;this.$1$6=0;this.$1$7=null;this.$1$8=null;this.set_instanceId(++cA.$1);this.set_region(L);this.set_paneId(cH);this.$0(cI);this.$1(cJ);this.$2(cK);this.set_regionCoordinates(cL);this.$3(cM);this.$4=cN},{get_instanceId:function(){return this.$1$1},set_instanceId:function(L){this.$1$1=L},get_region:function(){return this.$1$2},set_region:function(L){this.$1$2=L},get_visualId:function(){return this.get_region().get_visualId()},get_sheetId:function(){return this.get_region().get_sheetid()},get_regionPart:function(){return this.get_region().get_regionPart()},get_paneId:function(){return this.$1$3},set_paneId:function(L){this.$1$3=L},get_paneColumnIndex:function(){return this.$1$4},$0:function(L){this.$1$4=L},get_paneRowIndex:function(){return this.$1$5},$1:function(L){this.$1$5=L},get_paneLayerIndex:function(){return this.$1$6},$2:function(L){this.$1$6=L},get_regionCoordinates:function(){return this.$1$7},set_regionCoordinates:function(L){this.$1$7=L},get_pageCoordinates:function(){return this.$1$8},$3:function(L){this.$1$8=L},get_result:function(){return this.$4}});var cB=global.tab.VizHitTestDebouncer=ss.mkType(a,'tab.VizHitTestDebouncer',function(L,cH){this.$0=null;this.$1=null;this.paneTable=null;this.region=null;this.lastEvent=null;this.$1$1=null;tab.Param.verifyValue(L,'paneTable');tab.Param.verifyValue(cH,'region');this.paneTable=L;this.region=cH;this.$1=new tab.Debouncer(ss.mkdel(this,function(){var cI=this.region.toLocalCoordsEvent(this.lastEvent,false);var cJ=tab.PointUtil.add(cI,this.region.getLocalOffsetPoint(false));this.hitTest(cI,cJ)}),250)},{add_updated:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_updated:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},get_current:function(){return this.$0},get_hasHit:function(){return ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())&&this.$0.get_result().get_hitObjectType()!==0},dispose:function(){this.paneTable=null;this.$1.dispose();this.lastEvent=null;this.setCurrent(null)},isWithinLastHitTestDistance:function(L){if(this.get_hasHit()){var cH=this.region.toLocalCoordsEvent(L,false);return tab.PointUtil.isWithinDistance(this.$0.get_regionCoordinates(),cH,20)}return false},getLastHitTestDistance:function(L){if(ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())){var cH=this.region.toLocalCoordsEvent(L,false);return tab.PointUtil.distance(this.$0.get_regionCoordinates(),cH)}return-1},getAsync:function(L){var cH=$.Deferred();if(this.isWithinLastHitTestDistance(L)){cH.resolve(this.$0)}else{var cI=null;cI=ss.mkdel(this,function(cJ){this.remove_updated(cI);cH.resolve(cJ)});this.add_updated(cI);this.update(L)}return cH.promise()},update:function(L){this.lastEvent=L;this.$1.invokeActionDelayed()},getPaneIndex:function(L,cH,cI){return L+cH*this.paneTable.get_numColumns()+cI*this.paneTable.get_numRows()*this.paneTable.get_numColumns()},setCurrent:function(L){this.$0=L;if(ss.isValue(this.$1$1)){this.$1$1(L)}},hitTest:null});var cC=global.tab.VizMapContextMenuItemsHandler=ss.mkType(a,'tab.VizMapContextMenuItemsHandler',function(L,cH,cI){cC.$ctor1.call(this,L.get_id(),L.get_hitObjectType(),cH,cI)},{buildMenuItems:function(){var L=[];L.push({isDivider:true});L.push({value:'Map Layers',displayValue:tab.Strings.CreateMapLayersMenuItem,disabled:!tab.ApplicationModel.get_instance().get_autoUpdate()});L.push({value:'Map Options',displayValue:tab.Strings.CreateMapOptionsMenuItem,disabled:false});return L},handleItemClicked:function(L){switch(L){case'Map Layers':{var cH=new bB;cH.invoke();break}case'Map Options':{var cI=new br;cI.invoke();break}default:{throw new ss.Exception('Unknown menu option '+L)}}}},{$ctor1:function(L,cH,cI,cJ){this.$0=0;this.$2=0;this.$3=null;this.$1=null;this.$0=L;this.$3=cJ;this.$2=cH;this.$1=cI}});var cD=global.tab.VizZoneFactory=ss.mkType(a,'tab.VizZoneFactory',function(){},{createPaneTableView:null,createPaneTableViewModel:function(L){return new bO(L)},addVizDragHandler:function(L){bN.addVizDragHandler(L)},addAsyncVizDragHandler:function(L){bN.addAsyncVizDragHandler(L)},addVizDragApprover:function(L){bN.addVizDragApprover(L)},computeVizScrollCapabilities:function(L){return bK.computeVizScrollCapabilities(L)}});var cE=global.tab.WorkerDoneEventArgs=ss.mkType(a,'tab.WorkerDoneEventArgs',function(L,cH){this.$1=0;this.$0=null;ss.EventArgs.call(this);this.$1=L;this.$0=cH},{get_workerID:function(){return this.$1},get_image:function(){return this.$0}});var cF=global.tab.WorkerTimeoutEventArgs=ss.mkType(a,'tab.WorkerTimeoutEventArgs',function(L){this.$0=0;ss.EventArgs.call(this);this.$0=L},{get_workerID:function(){return this.$0}});var cG=global.tab.ZoomComputer=ss.mkType(a,'tab.ZoomComputer',null,null,{resolveDesiredZoom:function(L,cH){if(!L.get_hasPresModel()){return cH}var cI=ss.coalesce(L.get_intermediateTileLevels(),1);var cJ=Math.floor(cH*cI)/cI;cJ+=Math.log(ss.coalesce(L.get_maxStretch(),1))/Math.LN2;var cK=Math.ceil(cH*cI)/cI;cK+=Math.log(ss.coalesce(L.get_minShrink(),1))/Math.LN2;return((cH+0.05<cK)?Math.min(cJ,cH):Math.max(cK,cH))},resolveDesiredScale:function(L,cH){var cI=Math.log(cH)/Math.LN2;var cJ=cG.resolveDesiredZoom(L.get_rasterMapSourceModel(),L.get_requestZoom()+cI);var cK=cJ-L.get_requestZoom();var cL=Math.pow(2,cK);return cL},incrementZoom:function(L,cH){var cI=L+cH;return cI},combineTileZoomAndStretch:function(L,cH){return L+Math.log(cH)/Math.LN2}});ss.initClass(b);ss.initClass(c);ss.initInterface(ba,{get_template:null,get_mapsSearchViewRootElement:null});ss.initClass(d,spiff.Template,[ss.IDisposable,ba]);ss.initClass(e);ss.initClass(f,spiff.Template,[ss.IDisposable]);ss.initClass(g);ss.initClass(h);ss.initClass(i);ss.initClass(j);ss.initClass(k);ss.initClass(l);ss.initClass(m);ss.initInterface(V,{hitTest:null,clearCache:null},[ss.IDisposable]);ss.initClass(Q,null,[V,ss.IDisposable]);ss.initClass(o,Q,[V,ss.IDisposable]);ss.initClass(p,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(q);ss.initClass(r);ss.initInterface(bd,{buildMenuItems:null,handleItemClicked:null});ss.initClass(s,null,[bd]);ss.initClass(t,spiff.Template,[ss.IDisposable]);ss.initClass(cg);ss.initClass(v,cg);ss.initClass(ch);ss.initClass(w,ch);ss.initClass(x,tab.CanvasRenderer);ss.initClass(y);ss.initClass(z);ss.initClass(A,null,[tab.IRegionContentProvider,spiff.IScrollable]);ss.initClass(B,React.Component);ss.initClass(C,React.Component);ss.initClass(D,spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(E,null,[ss.IDisposable]);ss.initClass(Y);ss.initClass(F,Y);ss.initClass(G);ss.initClass(H,spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(I,tab.CanvasRenderer);ss.initClass(bz,tab.CanvasRenderer);ss.initClass(J,bz);ss.initClass(M);ss.initClass(N);ss.initClass(O);ss.initClass(P);ss.initClass(S,null,[tab.IHitTestResult]);S.$ctor1.prototype=S.prototype;ss.initClass(T);ss.initClass(U,null,[ss.IDisposable]);ss.initClass(W);ss.initClass(X,ss.EventArgs);ss.initInterface(Z,{get_enabled:null,zoomOnPoint:null,anchorZoom:null,zoomRect:null,moveToBounds:null,panTo:null,updateLocalCenter:null,updateLocalMapDataForZoomAround:null,touchMove:null,touchEnd:null,pinchScale:null,splatOverlayToMapForTransition:null,createMap:null,destroyMap:null,resize:null,setScrollX:null,setScrollY:null,removeMarkOverlay:null},[ss.IDisposable]);ss.initClass(bb);ss.initInterface(bc,{createNonMarksRenderer:null,renderGridLines:null,createPaneDrawInfo:null});ss.initInterface(be,{get_zoomToolbarContainerDiv:null,get_isMapSearchEnabled:null,get_shouldEnableZoomHomeToolbar:null,get_zoomToolbarOffset:null,get_zoomToolbarOperations:null,get_shouldShowTools:null,allowPanZoomActions:null,isVizLargerThanScreen:null});ss.initClass(bf,null,[Z,ss.IDisposable]);ss.initClass(bg);ss.initClass(bh);ss.initClass(cB,null,[tab.IVizHitTestDebouncer,ss.IDisposable]);ss.initClass(bi,cB,[tab.IVizHitTestDebouncer,ss.IDisposable]);ss.initClass(bj);ss.initClass(bk);ss.initClass(bl,spiff.Template,[ss.IDisposable]);ss.initClass(bm);ss.initClass(bn,null,[Z,ss.IDisposable]);ss.initClass(bo);ss.initClass(bp);ss.initClass(bq);ss.initClass(br,ss.makeGenericType(tab.BaseCmd$2,[Object,bs]));ss.initClass(bs);ss.initClass(bt);ss.initClass(bu,ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bv,Object,Object]));ss.initClass(bv,ss.makeGenericType(spiff.BaseView$1,[bw]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[bw]),ss.IDisposable,tab.IAppendableView,spiff.IListItemContentCreator]);ss.initClass(bw,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(bx);ss.initClass(by,Q,[V,ss.IDisposable]);ss.initClass(bB,ss.makeGenericType(tab.BaseCmd$2,[Object,bC]));ss.initClass(bC);ss.initClass(bD,Y);ss.initClass(bE);bE.$ctor1.prototype=bE.prototype;ss.initClass(bF,tab.CanvasRenderer);ss.initClass(bG,ss.makeGenericType(cx,[bO]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[bO]),ss.IDisposable,tab.IAppendableView,tab.IRegionContentProvider,spiff.IScrollable]);ss.initClass(bH);ss.initClass(bI);ss.initClass(bJ);ss.initClass(bK);ss.initClass(bL,ss.makeGenericType(cx,[bO]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[bO]),ss.IDisposable,tab.IAppendableView,tab.IRegionContentProvider,spiff.IScrollable]);ss.initClass(bM,spiff.Template,[ss.IDisposable]);ss.initClass(bN,ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]),[tab.IWidget,tab.IPaneTableView,ss.makeGenericType(tab.IView$1,[tab.IPaneTableViewModel]),ss.IDisposable,tab.IAppendableView,be]);ss.initClass(bO,spiff.BaseViewModel,[tab.IPaneTableViewModel,tab.IViewModel,ss.IDisposable,tab.IAnimatablePane]);ss.initClass(bP);ss.initClass(bQ);ss.initClass(bR,cg);ss.initClass(bS,ch);ss.initClass(bT,cg);ss.initClass(bU,ch);ss.initClass(bV,bz);ss.initClass(bW,Q,[V,ss.IDisposable]);ss.initClass(bX);ss.initClass(bY);ss.initClass(bZ);ss.initClass(ca);ss.initClass(cb);ss.initClass(cc);ss.initClass(cd);cd.$0.prototype=cd.prototype;ss.initClass(ce,cB,[tab.IVizHitTestDebouncer,ss.IDisposable]);ss.initClass(cf,null,[ss.IDisposable]);ss.initClass(ci);ss.initClass(cj,ss.makeGenericType(cx,[ct]),[tab.IWidget,ss.makeGenericType(tab.IView$1,[ct]),ss.IDisposable,tab.IAppendableView,tab.IRegionContentProvider,spiff.IScrollable]);ss.initClass(ck);ss.initClass(cl);ss.initClass(cm);ss.initClass(cn,null,[tab.IRegionContentProvider,spiff.IScrollable]);ss.initClass(co,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(cp,tab.TooltipBaseMode);ss.initClass(cq,tab.TooltipBaseMode);ss.initClass(cr,Q,[V,ss.IDisposable]);ss.initClass(cs);ss.initClass(ct,spiff.BaseViewModel,[tab.IViewModel,ss.IDisposable]);ss.initClass(cu);ss.initClass(cv);ss.initClass(cy,null,[bd]);cy.$ctor1.prototype=cy.prototype;ss.initClass(cz,ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[tab.IViewModel,ss.IDisposable,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(cA,null,[tab.IVizHitInfo]);ss.initClass(cC,null,[bd]);cC.$ctor1.prototype=cC.prototype;ss.initClass(cD,null,[tab.IVizZoneModule]);ss.initClass(cE,ss.EventArgs);ss.initClass(cF,ss.EventArgs);ss.initClass(cG);ss.setMetadata(E,{members:[{attr:[new tab.CanBeNullAttribute],name:'zoomToolbar',type:4,returnType:D,sname:'zoomToolbar'}]});ss.setMetadata(U,{members:[{attr:[new tab.CanBeNullAttribute],name:'GetRegionRectForRegion',type:8,sname:'getRegionRectForRegion',returnType:Object,params:[tab.VizImageRegion,Boolean]}]});ss.setMetadata(bP,{members:[{attr:[new tab.CanBeNullAttribute],name:'GetRegionRectForRegionIfExists',isStatic:true,type:8,sname:'getRegionRectForRegionIfExists',returnType:Object,params:[tab.VizImageRegion,Object]},{attr:[new tab.CanBeNullAttribute],name:'GetVisibleGeometryForRegionIfExists',isStatic:true,type:8,sname:'getVisibleGeometryForRegionIfExists',returnType:Object,params:[tab.VizImageRegion,Object,Boolean]}]});(function(){d.$0="<div class='tabMapsSearchContainer'>"+"<div class='tabMapsSearchView'>"+'</div>'+'</div>'})();(function(){f.$0='<div>'+"<div class='tabLeafletMapHolder'></div>"+"<div class='tabLeftBarnDoor'></div>"+"<div class='tabRightBarnDoor'></div>"+'</div>'})();(function(){l.$6='MapControlType';l.$1='ElapsedTime';l.$7='MapStyle';l.$5='MapCode';l.$e='ZoomLevel';l.$c='WashOut';l.$8='NumRepeatBackground';l.$0='AllowLocalPanAndZoom';l.$a='RenderMode';l.$2='HardwareConcurrency';l.$b='Renderer';l.$9='RTLPluginStatus';l.$d='WorksheetId';l.$3='IsMobile';l.$4='IsMobileApp'})();(function(){r.annotationEventType='Annotations';r.annotationType='AnnotationType';r.annotationAction='Action';r.annotationActionFrom='ActionFrom';r.annotationCreateType='Create';r.annotationDeleteType='Delete';r.annotationMoveType='Move';r.annotationMovePointTargetType='Move Point Target';r.annotationResizeType='Resize';r.annotationMarkType='Mark';r.annotationAreaType='Area';r.annotationPointType='Point';r.annotationFromDelete='Delete Key';r.annotationFromDrag='Drag';r.annotationFromContextMenu='Context Menu'})();(function(){s.deleteAnnotationMenuItem='Delete Annotation';s.editAnnotationMenuItem='Edit Annotation'})();(function(){p.resizeHandlerPre='tabAnnotationResizeHandler';p.e='E';p.w='W';p.n='N';p.s='S';p.SE='SE';p.SW='SW';p.NE='NE';p.NW='NW';p.handlerTargetIcon='tabAnnotationHandlerIcon';p.movePointTargetHandler='tabAnnotationPointTarget';p.resizeHandlesArea=[p.resizeHandlerPre+p.SE,p.resizeHandlerPre+p.SW,p.resizeHandlerPre+p.NE,p.resizeHandlerPre+p.NW,p.resizeHandlerPre+p.e,p.resizeHandlerPre+p.w,p.resizeHandlerPre+p.n,p.resizeHandlerPre+p.s];p.resizeHandlesPointAndMark=[p.resizeHandlerPre+p.e,p.resizeHandlerPre+p.w]})();(function(){m.regionPadding=2;m.minWidth=80})();(function(){S.$1=ss.mkdict(['no-hit',0,'area-hit',1,'near-hit',2,'exact-hit',3]);S.$2=ss.mkdict(['annotations',2,'ref-lines',4,'trend-lines',3,'ref-bands',4,'marks',7,'mark-labels',8])})();(function(){t.$0="<canvas class='tabCanvas'></canvas>"})();(function(){G.halfPI=0.5*Math.PI;G.onePI=Math.PI;G.oneAndHalfPI=1.5*Math.PI;G.twoPI=2*Math.PI;G.$a=Math.PI*0.15})();(function(){bz.$g=0.400000005960464;bz.$h='rgb(255,255,255)'})();(function(){v.$5='tvdrag_svg_div';v.$8='circle_radius';v.$0='circle_crosshair';v.$1=4;v.$3='tabDistanceReadout';v.$4="<div class='"+'tabDistanceReadout'+"'></div>";v.$6="<line class='"+'circle_crosshair'+"' x1='0' y1='0' x2='0' y2='0'></line>";v.$2="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>"+"<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";v.$9="<line class='"+'circle_radius'+"'x1='0' y1='0' x2='0' y2='0'></line>";v.$7="<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle>"+"<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>"+"<line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line>"+'</svg>'+"<div class='tabDistanceReadout'></div>"+'</div>'})();(function(){bb.defaultHighlightBgColor=new tab.ColorModel(245,245,171,1);bb.defaultSelectionBgColor=new tab.ColorModel(140,196,211,1);bb.defaultHighlightTextColor=new tab.ColorModel(0,0,0,1);bb.defaultSelectionTextColor=new tab.ColorModel(0,0,0,1);var L=new bb;L.highlightBgColor=bb.defaultHighlightBgColor;L.selectionBgColor=bb.defaultSelectionBgColor;L.highlightTextColor=bb.defaultHighlightTextColor;L.selectionTextColor=bb.defaultSelectionTextColor;bb.defaultColors=L})();(function(){x.$8='rgb(0,0,0)';x.$7='rgb(245,245,245)';x.$a=['x-labels','bottom-axis','top-axis'];x.$b=['y-labels','left-axis','right-axis'];x.$9=true})();(function(){z.$0=2})();(function(){C.repositionTimeoutMs=300})();(function(){D.$0="<div class='FloatingZoomToolbar'></div>"})();(function(){F.$0='fullviz'})();(function(){H.$4=0.7;H.$7=110.574;H.$8=111.32;H.$2=90;H.$1=180;H.$5=6000;H.$3=8;H.$6="<div class='tabGotoMyLocationButtonContainer'></div>"})();(function(){bE.shapeMarkStampingRatio=32;bE.$h='_int';bE.$f=32767;bE.$g=100;bE.$e=['font','font_size','font_style','font_weight'];bE.$8=['color','border_color','halo_color','selected_halo_color','highlighted_halo_color','selected_multi_prim_halo_color','text_style_color','background_color'];bE.$b=['x','x1','x_prev','x_next','cell_x'];bE.$a=['clip_width'];bE.$c=['y','y1','y_prev','y_next','cell_y'];bE.$9=['clip_height'];bE.$d=['font','shape_id','line_interp'].concat(bE.$8);bE.$j=null;bE.textAngleInRad=null;bE.$i=null})();(function(){cb.$2={x:0,y:0,w:0,h:0}})();(function(){cv.visualPartNearHitTestExpansionPixels=7})();(function(){bW.$9=7;bW.$8=1})();(function(){N.$8=[0,3,2,1];N.$6=[3,2,1,0];N.$7=[3,2,1];N.$9=[0]})();(function(){O.$2=null;O.$1=0})();(function(){bP.scrollableXRegions=['xheader','bottomaxis','topaxis','viz'];bP.scrollableYRegions=['yheader','leftaxis','rightaxis','viz'];bP.scrollableRegions=['xheader','bottomaxis','topaxis','yheader','leftaxis','rightaxis','viz'];bP.runtimeScrollableRegions=['xheader','bottomaxis','topaxis','yheader','leftaxis','rightaxis'];bP.scrollableTableRegions=['xheader','bottomaxis','topaxis','yheader','leftaxis','viz','uleft','uright','lleft','lright'];bP.axisRegions=['leftaxis','rightaxis','bottomaxis','topaxis'];bP.headerRegions=['yheader','xheader','leftaxis','rightaxis','bottomaxis','topaxis','uleft','uright'];bP.regionsThatMightContainCategoricalHeader=['yheader','xheader','bottomaxis','topaxis'];bP.nonVizContentRegions=['yheader','leftaxis','rightaxis','xheader','bottomaxis','topaxis'];bP.contentRegions=['yheader','leftaxis','rightaxis','xheader','bottomaxis','topaxis','viz'];bP.regionsThatClearSelectionOnTap=['uleft','uright','lleft','lright','caption'];bP.spacerRegions=['uleft','uright','lleft','lright'];bP.regionPartsTrackedRegions=['uleft','uright','lleft','lright','title','caption','xheader','yheader','leftaxis','rightaxis','bottomaxis','topaxis','viz'];bP.regionPartsToTriggerZoneSelection=['uleft','uright','lleft','lright','title','caption','viz']})();(function(){cG.$0=0.05})();(function(){bp.$0='MapControl_CreateMap_Done'})();(function(){bf.$5=100;bf.$3='/css/leaflet.css';bf.$6=2;bf.$a=10;bf.$b=0.01;bf.$8=8;bf.$4='leaflet-touching';bf.$7={item1:90,item2:0};bf.$9={item1:-90,item2:0}})();(function(){cA.$1=0})();(function(){cB.hitTestDelay=250;cB.maxHitTestDistance=20})();(function(){bl.$1="<div class='tabMapAttribution'>"+"<div class='tabMapAttributionBackground'></div>"+"<a class='tabMapAttributionLink'></a>"+"<a class='tabMapAttributionLink2'></a>"+'</div>'})();(function(){bn.overlayCanvasLayerId='overlay_canvas_layer';bn.overlayCanvasSourceId='overlay_canvas_source';bn.washoutLayerId='washout_layer';bn.dataLayerId='tableau_data_layer';bn.dataSourceId='tableau_data_source';bn.$8=new RegExp('^https?://.*?\\.mapbox\\.com');bn.$7=new RegExp('access_token=[-A-Za-z0-9_.]+');bn.$3='Arial, sans-serif';bn.$2='javascripts/mapbox-gl-rtl-text.js';bn.$4='javascripts/mapbox-gl-rtl-text.min.js';bn.$5=[-180,85.051129];bn.$6=[180,-85.051129]})();(function(){bq.mapboxGLJS='MapboxGLJS';bq.leaflet='Leaflet'})();(function(){br.cmdId={ns:'tabdoc',cmd:'map-options-web'}})();(function(){bt.client='Client';bt.server='Server'})();(function(){bw.$0=5})();(function(){bv.widgetClassName='tabMapsSearchView';bv.$1='tabMapsSearchView'+'Collapsed';bv.$2='tabMapsSearchContainerCollapsed';bv.widgetClassNameTranslucent='tabMapsSearchView'+'Translucent';bv.suggestionDisplayClassName='tabMapsSearchView'+'SuggestionDisplayName';bv.suggestionActiveSearchTextClassName='tabMapsSearchView'+'SuggestionActiveSearchText';bv.suggestionParentClassName='tabMapsSearchView'+'SuggestionParentName';bv.queryDelayTimerMs=200;bv.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';tab.ObjectRegistry.registerType(bv,bv).call(null)})();(function(){bB.cmdId={ns:'tabdoc',cmd:'open-map-layers-pane'}})();(function(){bD.$0='overlay'})();(function(){cy.createMarkAnnotationMenuItem='Annotate Mark';cy.createPointAnnotationMenuItem='Annotate Point';cy.createAreaAnnotationMenuItem='Annotate Area'})();(function(){cC.createMapOptionsMenuItem='Map Options';cC.createMapLayersMenuItem='Map Layers'})();(function(){ct.propertyHoverNode='HoverNode'})();(function(){var L=[];L.push('left-axis');L.push('right-axis');L.push('y-labels');L.push('x-labels');L.push('top-axis');L.push('bottom-axis');L.push('title');L.push('caption');L.push('background');bO.blackListVisualParts=L;bO.zoomToolbarTopOffset=10;bO.vizNavigationSettingPropertyName='vizNavigationSetting';bO.borderHighlightPropertyName='borderHighlight';bO.imageLoadedPropertyName='images';bO.sceneChangedPropertyName='scene'})();(function(){bF.$4='rgba(0,0,0,1)';bF.$3='rgba(255,255,255,255)';bF.$6=['normalUnderPass','normalOnPass','highlightedUnderPass','highlightedOnPass','selectedUnderPass','selectedOnPass'];bF.$5=['background','underMark','marks','underLabel','label','foreground']})();(function(){bL.$3=3;bL.$4=145;bL.$2=false})();(function(){bM.$1="<div class='tvViewportBorder tvLeftBorder'></div>"+"<div class='tvViewportBorder tvRightBorder'></div>"+"<div class='tvViewportBorder tvTopBorder'></div>"+"<div class='tvViewportBorder tvBottomBorder'></div>"})();(function(){cq.$4=0})();(function(){bN.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';bN.titleClass='tab-tvTitle';bN.$6=8;bN.$7=30;bN.$5=[];bN.$9=[];bN.$8=[]})();(function(){bR.$5='M';bR.$4='L';bR.$1='Z';bR.$2='tvdrag_svg_div';bR.$3="<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>";bR.$6=300})();(function(){bT.$1='<div></div>';bT.$0='tvdrag';bT.$2='tvdrag_marquee'})();(function(){ca.$1=null;tab.ModuleManager.register(bc).call(null,'RuntimeUI',null).andMarkAsAlreadyLoadedInGlobalNamespace()})();(function(){ck.windowLog=null;ck.paneBorderMaskSize=2;ck.canvasBorderPixels=1;ck.zoomAnimationTime=777;ck.minZoomAnimationTime=500;ck.zoomToAnchorAnimationTime=500})()})();;
/*! BEGIN SpiffUIWeb */
(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffuiweb');var b=global.spiff.ChangeSpotlightedItemMode=ss.mkEnum(a,'spiff.ChangeSpotlightedItemMode',{moveUp:0,moveDown:1,moveToFirst:2,moveToLast:3,moveToListItem:4});var c=global.spiff.ComboBoxViewWeb=ss.mkType(a,'spiff.ComboBoxViewWeb',function(i){spiff.ComboBoxView.call(this,i,new spiff.ComboBoxTemplate)});var d=global.spiff.CompositeSearchWidgetWeb=ss.mkType(a,'spiff.CompositeSearchWidgetWeb',function(){this.$n=null;this.$m=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;spiff.CompositeSearchWidget.call(this,new spiff.CompositeSearchWidgetTemplate);this.compositeSearchWidgetTemplate.get_textInputView().get_inputElement().keydown(ss.mkdel(this,this.$l));this.set_spotlightedItemLogic(null)},{add_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateCombine(this.$3$1,i)},remove_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateRemove(this.$3$1,i)},add_tabKeyPressed:function(i){this.$3$2=ss.delegateCombine(this.$3$2,i)},remove_tabKeyPressed:function(i){this.$3$2=ss.delegateRemove(this.$3$2,i)},get_spotlightedItemLogic:function(){return this.$3$3},set_spotlightedItemLogic:function(i){this.$3$3=i},resetSpotlightedItem:function(){var i=this.$n;this.$n=null;this.$k(i)},$k:function(i){if(ss.referenceEquals(i,this.$n)){return}this.$m=(ss.isValue(this.$n)?this.get_listViewModel().get_collection()[this.$n]:null);if(ss.isValue(this.$n)){this.get_listViewModel().spotlightItemAtIndex(ss.unbox(this.$n))}else{this.get_listViewModel().clearSpotlighting()}if(ss.staticEquals(this.$3$1,null)){return}this.$3$1(this.$m)},handleRemoveList:function(){this.resetSpotlightedItem();spiff.CompositeSearchWidget.prototype.handleRemoveList.call(this)},changeSpotlightedListItem:function(i,j){if(ss.isNullOrUndefined(this.get_listViewModel())||this.get_listViewModel().get_collection().length===0||i===4&&ss.isNullOrUndefined(j)){this.resetSpotlightedItem();return}var k=null;var l=this.$n;if(i===4){k=ss.indexOf(this.get_listViewModel().get_collection(),j);this.$n=k}if(ss.isNullOrUndefined(this.get_spotlightedItemLogic())){return}this.$n=this.get_spotlightedItemLogic().calculateNewSpotlightedItemIndex(l,i,k);this.$k(l)},$l:function(i){switch(i.which){case 38:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(0,null)}break}case 40:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(1,null)}break}case 36:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$n)){i.preventDefault();this.changeSpotlightedListItem(2,null)}break}case 35:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$n)){i.preventDefault();this.changeSpotlightedListItem(3,null)}break}case 9:{if(!ss.staticEquals(this.$3$2,null)){this.$3$2(i)}break}}}});var e=global.spiff.ICompositeSearchWidgetSpotlightedItemLogic=ss.mkType(a,'spiff.ICompositeSearchWidgetSpotlightedItemLogic');var f=global.spiff.MenuViewWeb=ss.mkType(a,'spiff.MenuViewWeb',function(i){this.$q=0;this.$r=0;spiff.MenuView.call(this,i,new g);this.updateMenu();this.menuViewModel.add_menuItemFocusChanged(ss.mkdel(this,this.$i));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.menuViewModel.remove_menuItemFocusChanged(ss.mkdel(this,this.$i))})));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keypress',ss.mkdel(this,this.$o)));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keydown',ss.mkdel(this,this.$n)))},{onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.dom.domRoot.focus()},showSubmenu:function(i,j,k){k.domRoot.hide();$('body').append(k.domRoot);spiff.SpiffBrowserViewport.getViewport(ss.mkdel(this,function(l){this.$p(l,j,k);k.domRoot.show()}))},buildMenu:function(i,j){spiff.MenuView.prototype.buildMenu.call(this,i,j);i.domRoot.on('mouseenter'+this.get_eventNamespace(),'.tabMenuItem',ss.mkdel(this,this.$k))},$p:function(i,j,k){var l=tab.DoubleUtil.roundToInt(k.domRoot.outerWidth(false));var m=tab.DoubleUtil.roundToInt(k.domRoot.outerHeight(false));var n=tab.DoubleUtil.roundToInt(j.outerWidth(false));var o=tab.PointUtil.fromPosition(tab.DomUtil.getPageOffset$1(j));var p=o.x+n;var q=o.y-parseInt(k.domRoot.children('.tabMenuContent').css('padding-top'));var r=i.getVisibleRoom({x:p,y:q});var s=null;if(r.roomBelow>=m){}else if(r.roomAbove+r.roomBelow>m){q-=ss.trunc(m-r.roomBelow)}else{var t=5;q-=ss.trunc(r.roomAbove);s=r.roomAbove-t+r.roomBelow}if(r.roomRight<l){p=Math.max(0,p-l-n)}var u={};u['top']=q+'px';u['left']=p+'px';u['max-height']=(ss.isValue(s)?(s+'px'):'');u['z-index']=tab.DomUtil.getComputedZIndex(j[0]);k.domRoot.css(u)},shown:function(i){spiff.MenuView.prototype.shown.call(this,i);var j=this.menuViewModel.get_focusedItem();var k=this.menuViewModel.get_menu().menuItems;if(ss.isValue(j)){this.$m(j)}else if(ss.isValue(k)){for(var l=0;l<k.length;l++){if(k[l].enabled){this.menuViewModel.set_focusedItem(k[l]);break}}}},onSized:function(){var i=this.dom.domRoot;if(f.$0(i)){i.css('overflow-y','scroll')}else{i.css('overflow-y','hidden')}},$k:function(i){if(i.pageX===this.$q&&i.pageY===this.$r){return}this.$q=i.pageX+0;this.$r=i.pageY+0;var j=$(i.currentTarget);var k=spiff.MenuView.getMenuItem(j);this.$l(spiff.MenuView.getMenuItemLevel(j));if(ss.isValue(k)){this.menuViewModel.set_focusedItem(k);if(ss.isValue(k.subMenu)){this.activateSubmenu(k,j)}}},$l:function(i){if(i<1){this.menuViewModel.hide();return}for(var j=this.menuStack.length-1;j>=i;j--){var k={$:this.menuStack[j]};k.$.domRoot.fadeOut(50,ss.mkdel({subMenu:k},function(){this.subMenu.$.dispose()}));ss.removeAt(this.menuStack,j)}},$n:function(i){var j=0,k,l,m;$sm1:for(;;){switch(j){case 0:{k=this.menuViewModel.get_focusedItem();l=this.menuViewModel.findMenuForMenuItem(k)||this.menuViewModel.get_menu();if(ss.isNullOrUndefined(l)){return}if(i.which===32||i.which===13){if(ss.isNullOrUndefined(k)){return}if(ss.isValue(k.subMenu)){this.$h()}else{this.menuViewModel.clickMenuItem(k)}j=1;continue $sm1}else if(i.which===36){this.menuViewModel.iterateFocus(1,-1);j=1;continue $sm1}else if(i.which===35){this.menuViewModel.iterateFocus(-1,l.menuItems.length);j=1;continue $sm1}else if(i.which===40){this.menuViewModel.iterateFocus(1,null);j=1;continue $sm1}else if(i.which===38){this.menuViewModel.iterateFocus(-1,null);j=1;continue $sm1}else if(i.which===39){this.$h();j=1;continue $sm1}else if(i.which===27){if(this.menuStack.length<=1){this.menuViewModel.hide()}else{j=2;continue $sm1}j=1;continue $sm1}else if(i.which===37){j=2;continue $sm1}else{return}j=1;continue $sm1}case 2:{if(!ss.referenceEquals(l,this.menuViewModel.get_menu())){m=this.getElementForMenuItem(k);if(ss.isNullOrUndefined(m)){return}this.$l(spiff.MenuView.getMenuItemLevel(m)-1);this.menuViewModel.set_focusedItem(this.menuViewModel.findItemContainingSubMenu(l))}j=1;continue $sm1}case 1:{i.preventDefault();i.stopPropagation();j=-1;break $sm1}default:{break $sm1}}}},$o:function(i){if(i.which>=97&&i.which<=122||i.which>=65&&i.which<=90||i.which>=48&&i.which<=57||i.which>127){this.menuViewModel.focusByNamePrefix(String.fromCharCode(i.which))}},$h:function(){if(ss.isValue(this.menuViewModel.get_focusedItem())&&ss.isValue(this.menuViewModel.get_focusedItem().subMenu)){var i=this.getElementForMenuItem(this.menuViewModel.get_focusedItem());if(ss.isValue(i)){this.activateSubmenu(this.menuViewModel.get_focusedItem(),i);var j=((this.menuViewModel.get_focusedItem().subMenu.menuItems.length>0)?this.menuViewModel.get_focusedItem().subMenu.menuItems[0]:null);if(ss.isValue(j)){this.menuViewModel.set_focusedItem(j)}}}},$i:function(i,j){var k=this.getElementForMenuItem(i);if(ss.isNullOrUndefined(k)){return}k.toggleClass('tabMenuFocusedItem',j);if(!j){return}this.$j(i);if(k.is(':visible')){var l=this.getMenuElementForMenuItem(i);if(ss.isNullOrUndefined(l)){return}var m=tab.DoubleUtil.roundToInt(k.position().top);if(m<0){l.scrollTop(tab.DoubleUtil.roundToInt(l.scrollTop())+m)}else{var n=tab.DoubleUtil.roundToInt(l.height());var o=m+tab.DoubleUtil.roundToInt(k.outerHeight());if(n<o){l.scrollTop(tab.DoubleUtil.roundToInt(l.scrollTop())+(o-n))}}}},$m:function(i){var j=this.getElementForMenuItem(i);j.toggleClass('tabMenuFocusedItem',true);var k=this.dom.domRoot;k.scrollTop(tab.DoubleUtil.roundToInt(k.scrollTop())+tab.DoubleUtil.roundToInt(j.position().top)-ss.idiv(tab.DoubleUtil.roundToInt(j.height()),2));this.$j(i)},$j:function(i){var j=this.getElementForMenuItem(i);if(i.isTextInput){this.element.removeAttr('aria-activedescendant');j.find('input').focus()}else{var k='tab-'+i.id;j.attr('id',k);this.element.attr('aria-activedescendant',k).focus()}}},{$0:function(i){return i.prop('scrollHeight')>i.prop('clientHeight')+1}});var g=global.spiff.MenuViewWebTemplate=ss.mkType(a,'spiff.MenuViewWebTemplate',function(){spiff.MenuTemplate.call(this)});var h=global.spiff.UberPopupViewWeb=ss.mkType(a,'spiff.UberPopupViewWeb',function(i){spiff.UberPopupView.call(this,i,new spiff.UberPopupTemplate)},{get_uberPopupShadowHeight:function(){return 2}});ss.initClass(c,spiff.ComboBoxView,[tab.IWidget,ss.makeGenericType(tab.IView$1,[spiff.ComboBoxViewModel]),ss.IDisposable,tab.IAppendableView]);ss.initClass(d,spiff.CompositeSearchWidget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initInterface(e,{calculateNewSpotlightedItemIndex:null});ss.initClass(f,spiff.MenuView,[tab.IWidget,ss.makeGenericType(tab.IView$1,[spiff.MenuViewModel]),ss.IDisposable,tab.IAppendableView]);ss.initClass(g,spiff.MenuTemplate,[ss.IDisposable]);ss.initClass(h,spiff.UberPopupView,[tab.IWidget,ss.makeGenericType(tab.IView$1,[spiff.UberPopupViewModel]),ss.IDisposable,tab.IAppendableView]);(function(){tab.ObjectRegistry.registerType(spiff.ComboBoxView,c).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.CompositeSearchWidget,d).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.MenuView,f).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.UberPopupView,h).call(null)})()})();;
/*! BEGIN UIWeb */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqluiweb');var b=global.tab.ApplicationViewModelWeb=ss.mkType(a,'tab.ApplicationViewModelWeb',function(g,h){tab.ApplicationViewModel.call(this,g,h);$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.resize(false)}))},{destroy:function(){$(window).off(this.createNamespacedEventName('resize'));tab.ApplicationViewModel.prototype.destroy.call(this)}});var c=global.tab.DataHighlighterViewWeb=ss.mkType(a,'tab.DataHighlighterViewWeb',function(g){this.$x=null;this.$z=null;this.$y=null;tab.DataHighlighterView.call(this,g,new tab.DataHighlighterViewTemplate);this.$x=this.get_compositeSearchWidget();this.$x.add_listItemMouseEnter(ss.mkdel(this,this.$r));this.$x.add_listItemMouseMove(ss.mkdel(this,this.$s));this.$x.add_spotlightedListItemChanged(ss.mkdel(this,this.$w));this.$x.add_tabKeyPressed(ss.mkdel(this,this.$q));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$x.remove_listItemMouseEnter(ss.mkdel(this,this.$r));this.$x.remove_listItemMouseMove(ss.mkdel(this,this.$s));this.$x.remove_spotlightedListItemChanged(ss.mkdel(this,this.$w));this.$x.remove_tabKeyPressed(ss.mkdel(this,this.$q))})));this.$x.set_spotlightedItemLogic(this);if(this.get_viewModel().get_isDropdownActive()){var h=new spiff.Button(this.dataHighlighterButtonElement);h.add_click(ss.mkdel(this,this.$v));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){h.remove_click(ss.mkdel(this,this.$v));tab.MiscUtil.dispose$1(h)})))}else{this.dataHighlighterButtonElement.toggle(false)}},{$v:function(){this.get_viewModel().showContextMenu(new spiff.ShowMenuOptions(this.dataHighlighterButtonElement.parent(),false))},$w:function(g){this.$y=g;if(ss.isValue(this.$y)){var h=this.$y.get_data();this.get_viewModel().highlightItems([h.objectId])}else if(this.currentListPopulationMode===2){this.get_viewModel().restoreSearchResultsHighlighting()}else{this.get_viewModel().clearHighlighting()}},$p:function(g){if(ss.isNullOrUndefined(g.get_data())){return}this.$x.changeSpotlightedListItem(4,g);if(ss.isNullOrUndefined(this.$z)){var h=$(document).find('.'+'tabDataHighlighterViewSearchResultList');this.$z=spiff.EventUtil.bindWithDispose(h,'mouseleave',ss.mkdel(this,this.$t));this.disposables.add$1(this.$z)}},$r:function(g){this.$p(g)},$s:function(g){this.$p(g)},$t:function(g){this.$x.resetSpotlightedItem();this.$u()},removeList:function(){this.$u();tab.DataHighlighterView.prototype.removeList.call(this)},$u:function(){if(ss.isNullOrUndefined(this.$z)){return}this.$z.dispose();this.$z=null},handleEnterKeyPress:function(){if(ss.isValue(this.$y)){this.handleListItemSelected(this.$y);return}tab.DataHighlighterView.prototype.handleEnterKeyPress.call(this)},handleListItemSelected:function(g){this.removeList();tab.DataHighlighterView.prototype.handleListItemSelected.call(this,g)},$q:function(g){var h=this.$x.get_listViewModel();if(ss.isNullOrUndefined(h)||h.get_collection().length===0){return}else{this.$x.setSearchText('');this.get_viewModel().clearHighlighting();this.removeList();return}},populateAndDisplayList:function(g,h){tab.DataHighlighterView.prototype.populateAndDisplayList.call(this,g,h);this.$x.resetSpotlightedItem()},calculateNewSpotlightedItemIndex:function(g,h,i){var j=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-(this.notShownResultsListItemIsVisible?2:1);if(h===4){if(ss.Nullable$1.gt(i,j)){i=j}return i}if(ss.isNullOrUndefined(g)){return 0}var k=g;switch(h){case 1:{k=ss.Nullable$1.add(k,1);if(ss.Nullable$1.gt(k,j)){k=j}break}case 0:{k=ss.Nullable$1.sub(k,1);if(ss.Nullable$1.lt(k,0)){k=null}break}case 2:{k=0;break}case 3:{k=j;break}}return k}});var d=global.tab.ScrollAdjuster=ss.mkType(a,'tab.ScrollAdjuster',function(g){this.$2=false;this.$3='vertical';this.$1$1=false;this.$2=g;this.forgetInputDevice()},{get_isFromTouchpad:function(){return this.$1$1},set_isFromTouchpad:function(g){this.$1$1=g},forgetInputDevice:function(){this.set_isFromTouchpad(false)},normalizeScrollWheelDeltas:function(g){var h=e.getProperty(g,'axis');var i=e.getProperty(g,'wheelDelta');var j=e.getProperty(g,'wheelDeltaY');var k=e.getProperty(g,'wheelDeltaX');var l=e.getProperty(g,'deltaY');var m=e.getProperty(g,'deltaX');var n=e.getProperty(g,'deltaMode');var o=e.getProperty(g,'detail');var p=0,q=0;var r=0,s=0;if(ss.isValue(o)){q=ss.unbox(o)}if(ss.isValue(i)){q=-ss.unbox(i)/120}if(ss.isValue(j)){q=-ss.unbox(j)/120}if(ss.isValue(k)){p=-ss.unbox(k)/120}if(ss.isValue(h)&&h===1){p=q;q=0}r=ss.trunc(p*10);s=ss.trunc(q*10);if(ss.isValue(l)){s=ss.unbox(l)}if(ss.isValue(m)){r=ss.unbox(m)}if((r!==0||s!==0)&&ss.isValue(n)){if(ss.unbox(n)===1){var t=(BrowserSupport.BrowserSupport.IsMac()?20:40);r*=t;s*=t}else if(ss.unbox(n)===2){r*=800;s*=800}}this.$0(s);return((this.get_isFromTouchpad()&&this.$2)?this.$1(r,s):{x:r,y:s})},$0:function(g){var h=Math.abs(g);if(h%4.000244140625===0){this.set_isFromTouchpad(false)}else if(h>0&&h<4.000244140625){this.set_isFromTouchpad(true)}},$1:function(g,h){var i=((g!==0&&h!==0)?this.$3:((g===0)?'vertical':'horizontal'));if(this.$3==='vertical'){g=0}if(this.$3==='horizontal'){h=0}this.$3=i;return{x:g,y:h}}});var e=global.tab.ScrollAdjusterUtil=ss.mkType(a,'tab.ScrollAdjusterUtil',null,null,{getProperty:function(g,h){return g[h]},adjustVerticalScrollDeltaForMap:function(g){if(ss.imod(g,tab.MapUtil.defaultWheelDeltaIncrement)!==0){var h=Math.abs(g);if(h>0&&h<tab.MapUtil.defaultWheelDeltaIncrement){h=tab.MapUtil.defaultWheelDeltaIncrement}var i=ss.idiv(h+ss.idiv(tab.MapUtil.defaultWheelDeltaIncrement,2),tab.MapUtil.defaultWheelDeltaIncrement);if(g<0){i*=-1}g=tab.MapUtil.defaultWheelDeltaIncrement*i}return g}});var f=global.tab.WebScroller=ss.mkType(a,'tab.WebScroller',function(g,h){this.$0=null;this.$1=null;this.$0=g.get(0);this.$1=h.get(0)},{get_canScrollX:function(){return this.get_maxScroll().x>0},get_canScrollY:function(){return this.get_maxScroll().y>0},get_scrollPos:function(){var g=(ss.isNullOrUndefined(this.$0)?0:$(this.$0).scrollLeft());var h=(ss.isNullOrUndefined(this.$1)?0:tab.DoubleUtil.roundToInt($(this.$1).scrollTop()));return{x:g,y:h}},get_maxScroll:function(){return{x:(ss.isNullOrUndefined(this.$0)?0:(this.$0.scrollWidth-this.$0.offsetWidth)),y:(ss.isNullOrUndefined(this.$1)?0:(this.$1.scrollHeight-this.$1.offsetHeight))}},get_visibleArea:function(){return{w:(ss.isNullOrUndefined(this.$0)?0:this.$0.offsetWidth),h:(ss.isNullOrUndefined(this.$1)?0:this.$1.offsetHeight)}},scrollX:function(g){if(this.get_canScrollX()){this.$0.scrollLeft+=g}},scrollY:function(g){if(this.get_canScrollY()){this.$1.scrollTop+=g}},setScrollTarget:function(g){},refresh:function(){}});ss.initClass(b,tab.ApplicationViewModel,[tab.IWidget,tab.IAppendableView,ss.IDisposable,tab.IClient,tab.IApiStorytellingClient]);ss.initClass(c,tab.DataHighlighterView,[tab.IWidget,ss.makeGenericType(tab.IView$1,[tab.DataHighlighterViewModel]),ss.IDisposable,tab.IAppendableView,spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(d);ss.initClass(e);ss.initClass(f,null,[spiff.IScroller]);(function(){tab.ObjectRegistry.registerType(tab.DataHighlighterView,c).call(null)})();(function(){d.$0=40;d.$1=20;d.$2=800;d.$3=120;d.$6=10;d.$4=4.000244140625;d.$5=1})()})();;
/*! BEGIN VizZoneWeb */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlvizzoneweb');var b=ss.mkEnum(a,'tab.$0',{$3:0,$1:1,$2:2,$0:3});var c=ss.mkType(a,'tab.$1',function(){this.$5=false;this.$6=false;this.$7=false;this.$4=false;this.$3=false;this.$1=false;this.$2=false;this.$8=true;this.$9=null;this.$a=null},{$0:function(){return!this.$5&&!this.$7&&!this.$6&&!this.$4&&!this.$3&&!this.$1&&!this.$2}});var d=ss.mkType(a,'tab.$2',function(){this.$0=null;this.$1=0});var e=ss.mkType(a,'tab.$3',function(B,C,D){this.$1=0;this.$2=0;this.$0=0;this.$1=B;this.$2=C;this.$0=D});var f=ss.mkType(a,'tab.$4',function(B,C,D,E,F,G){this.$4=null;this.$2=null;this.$3=0;this.$0=null;this.$5=null;this.$1=false;this.$4=B;this.$2=C;this.$3=D;this.$0=E;this.$5=F;this.$1=G});var g=global.tab.AnnotationSelectionChromeComponent=ss.mkType(a,'tab.AnnotationSelectionChromeComponent',function(B){this.$a=16;spiff.PureRenderComponent.call(this,B)},{render:function(){return(this.props.visible?this.$9():null)},$1:function(B){var C=g.chevronClass+B.annotationId;var D=new Object;D.iconClassName=g.chevronIconClass;D.customClassName=g.chevronClass+' '+C;return React.createElement(spiff.IconButtonComponent,D)},$8:function(B){var C=[];if(this.props.annotations.length!==1){return C}if(B.annotateEnum==='area'){C=_.map(tab.AnnotationSelectionChromeViewModel.resizeHandlesArea,ss.mkdel(this,function(D){return this.$4(B,D,null)}))}if(B.annotateEnum==='point'||B.annotateEnum==='mark'){C=_.map(tab.AnnotationSelectionChromeViewModel.resizeHandlesPointAndMark,ss.mkdel(this,function(D){return this.$4(B,D,null)}))}return C},$4:function(B,C,D){var E=spiff.DOMElements.div({className:tab.AnnotationSelectionChromeViewModel.handlerTargetIcon});return spiff.DOMElements.div({className:tab.AnnotationSelectionChromeViewModel.resizeHandlerPre+' '+C,style:D,key:C,onMouseDown:ss.mkdel(this,function(F){if(F.button===0){this.props.onHandlerMouseDown(C,B)}}),onMouseUp:ss.mkdel(this,function(F){if(F.button===0){this.props.clearMouseUp()}}),onClick:ss.mkdel(this,function(F){this.props.clearMouseUp()})},E)},$5:function(){if(this.props.annotations.length!==1){return null}var B=this.props.annotations[0];if(B.annotateEnum==='point'){return this.$4(B,tab.AnnotationSelectionChromeViewModel.movePointTargetHandler,this.$7(B))}return null},$6:function(){return spiff.DOMElements.line({className:'tabAnnotationPointDraggingChrome',strokeWidth:1,x1:this.props.shadow.point1.x,y1:this.props.shadow.point1.y,x2:this.props.shadow.point2.x,y2:this.props.shadow.point2.y})},$7:function(B){return{left:B.targetPoint.x-ss.idiv(this.$a,2)-this.props.scrollOffset.x,top:B.targetPoint.y-ss.idiv(this.$a,2)-this.props.scrollOffset.y}},$2:function(B){return{left:B.areaRect.x-this.props.scrollOffset.x,top:B.areaRect.y-this.props.scrollOffset.y,width:B.areaRect.w,height:B.areaRect.h}},$3:function(){var B=this.props.shadow.rectShadow;return{left:B.x,top:B.y,width:B.w,height:B.h}},$0:function(B,C){return{key:B.annotationId,className:'tabAnnotationChrome '+(C?'tabAnnotationHoverChrome':'tabAnnotationSelectionChrome'),style:this.$2(B)}},$9:function(){var B=this.props.renderRegion;var C={className:'tabAnnotationSelectionChromeHolder',style:{left:B.x,top:B.y,width:B.w,height:B.h,position:'absolute'}};var D=_.map(this.props.annotations,ss.mkdel(this,function(H){return spiff.DOMElements.div(this.$0(H,false),this.$1(H),this.$8(H))}));if(ss.isValue(this.props.hoveredAnnotation)){var E=this.props.hoveredAnnotation;D.push(spiff.DOMElements.div(this.$0(E,true),this.$1(E)))}if(ss.isValue(this.props.shadow.rectShadow)){D.push(spiff.DOMElements.div({key:'draggingAnnotation',className:'tabAnnotationDraggingChrome',style:this.$3()}))}var F=null;if(ss.isValue(this.props.shadow.point1)&&ss.isValue(this.props.shadow.point2)){var G={className:'tabAnnotationPointShadowDragHolder',width:this.props.renderRegion.w,height:this.props.renderRegion.h};F=spiff.DOMElements.svg(G,this.$6())}return spiff.DOMElements.div(C,D,this.$5(),F)}});var h=global.tab.AxisContextMenu=ss.mkType(a,'tab.AxisContextMenu',function(B,C){this.$k=null;this.$l=null;this.$p=null;this.$n=null;this.$o=null;this.$m=null;v.call(this,$(document.createElement('div')),$(C),B);this.element.addClass('tab-tiledViewerAxisContextMenu');this.$k=spiff.LabelButton.newNativeButton();this.$k.element.addClass('tab-tvAxisContextMenuButton');this.$k.element.css('border','0');this.$k.element.css('position','absolute');this.$k.element.css('padding','0px');this.element.append(this.$k.element);this.$l=this.$k.element;this.$l.addClass('axisContextMenuDropdownArrow');this.$o=null;this.$p=null;C.appendChild(this.element.get(0));this.$7();this.set_enabled(true);this.$l.css('display','none')},{get_widgetFeatureEnabled:function(){return tsConfig.is_authoring},dispose:function(){this.set_parentViewer(null);this.$k.element.remove();this.$k.dispose();this.$m.dispose();this.$l.off('mouseout');v.prototype.dispose.call(this)},setLocalCoords:function(B){this.$n=B},onUpdate:function(){this.$e(this.get_parentViewer().get_capturedPaneTableViewMousePosition())},hideAxisContextMenuButton:function(){this.hideNode(this.$l.get(0))},onMouseMove:function(B){this.$f(B)},isActiveInRect:function(B){return false},$7:function(){var B=new EventUtils.EventHandleSpec;B.tap=ss.mkdel(this,function(D){this.$h(D)});var C=B;this.$m=new EventUtils.TableauEventHandler(this.$l.get(0),C);this.disposables.add$1(this.$m);this.$l.mouseout(ss.mkdel(this,this.$g))},$f:function(B){if(B.button>0){return}var C=tab.PaneTableView.getPaneTableViewMousePositionFromCoordinates(B.pageX,B.pageY,this.get_parentViewer());this.$e(C)},$9:function(){return this.$p==='bottomaxis'||this.$p==='topaxis'},$a:function(){return this.$p==='leftaxis'||this.$p==='rightaxis'},$b:function(B){if(this.$a()){B.y+=this.get_parentViewer().get_scrollPosition().y}if(this.$9()){B.x+=this.get_parentViewer().get_scrollPosition().x}return B},$e:function(B){if(ss.isNullOrUndefined(B)||!this.get_widgetFeatureEnabled()){return}var C=this.get_parentViewer().getRegionForPoint(B);if(ss.isNullOrUndefined(C)){this.hideAxisContextMenuButton();return}this.$p=C.imageRegion;this.$i(C.position)},$h:function(B){spiff.EventUtil.stopEvent$1(B);this.$j(true);this.$8(B.pageX,B.pageY);this.$d()},$g:function(B){this.$j(false);B.stopPropagation()},$j:function(B){this.$l.toggleClass('active',B)},$8:function(B,C){var D=tab.PaneTableView.getPaneTableViewMousePositionFromCoordinates(B,C,this.get_parentViewer());var E=this.get_parentViewer().getRegionForPoint(D);if(ss.isNullOrUndefined(E)){return}D.x-=E.position.l;D.y-=E.position.t;D=this.$b(D);this.setLocalCoords(D)},$d:function(){var B=new spiff.ShowMenuOptions(this.$l,false);B.cursorPosition=this.getJQueryMousePositionFromPaneTableViewCoordinates(this.$o.x,this.$o.y+this.$o.h);var C=B;var D=new tab.BuildServerAxisContextMenuCmd;D.c['visualIdPresModel']=this.get_parentViewer().get_visualId();D.c['regionPoint']=tab.PointUtil.toPresModel(this.$n);D.c['r']=this.$p;D.invoke().then(ss.mkdel(this,function(E){if(this.$l.css('display')==='none'){this.$l.css('display','')}var F=E.$$c['commands'];var G=tab.WidgetUtil.menuViewModelFromCommands(F,tab.WidgetUtil.commandMenuItemClicked,null,null,null);G.show(C)}))},$i:function(B){var C,D;var E=this.get_parentViewer().get_axisRegions();var F=this.get_parentViewer().get_capturedPaneTableViewMousePosition();for(C=0,D=E.length;C<D;C++){var G=E[C];if(G.r!==this.$p){continue}var H=tab.RecordCast.rectPresModelAsRectXY(G.itemRect);var I=tab.RecordCast.rectPresModelAsRectXY(G.regionRect);if(ss.isNullOrUndefined(H)||ss.isNullOrUndefined(I)){continue}var J=this.$c(B,I);if(tab.RectXYUtil.inRect(H,J)){var K=G.itemRect;var L={x:K.x+K.w-14-2,y:K.y+3,w:14,h:14};L=this.computeTvButtonRectFromUnrolledRegionCoordinates(L,B,F,J);if(ss.isValue(L)){this.$o={x:L.x,y:L.y,w:L.w,h:L.h};this.$j(false);this.repositionAndShowElement(this.$l.get(0),this.$o);return}}}this.hideAxisContextMenuButton()},$c:function(B,C){var D=this.get_parentViewer().get_capturedPaneTableViewMousePosition();var E={x:D.x,y:D.y};E.y+=C.y-B.t;E.x+=C.x-B.l;return this.$b(E)}});var i=global.tab.ContinuousScrollZoom=ss.mkType(a,'tab.ContinuousScrollZoom',function(B,C){this.$4=false;this.$6=0;this.$3=0;this.$5=0;this.$4=C;this.$6=B;this.$3=1;this.$5=0},{update:function(B){var C=this.$2(B);this.$3=this.$1(this.$6,this.$3*C);this.$5=tab.MapUtil.convertZoomFactorToZoomLevel(this.$3);this.$0();return true},currentZoomFactor:function(){return this.$3},currentZoomLevel:function(){return this.$6-this.$5},$2:function(B){var C=(this.$4?0.01:0.00333333333333333);var D=2/(1+Math.exp(-Math.abs(B*C)));if(B>0&&D!==0){D=1/D}return D},$0:function(){if(this.currentZoomLevel()<=0){this.$3=1/tab.MapUtil.getZoomFactorForDesiredZoomLevel(this.$6,0);this.$5=this.$6}},$1:function(B,C){var D=C>1;var E=B+Math.log(C)/Math.log(2);if(D&&E>30){return Math.pow(2,30-B)}return C}});var j=global.tab.CursorKey=ss.mkEnum(a,'tab.CursorKey',{zoomIn:'zoomIn',zoomOut:'zoomOut',panDrag:'panDrag',rectSelect:'rectSelect',lassoSelect:'lassoSelect',radialSelect:'radialSelect',rectExtended:'rectExtended',lassoExtended:'lassoExtended',radialExtended:'radialExtended',dragSelect:'dragSelect',select:'select',defaultKey:'defaultKey'},true);var k=global.tab.DiscreteScrollZoom=ss.mkType(a,'tab.DiscreteScrollZoom',function(B,C){this.$3=0;this.$6=0;this.$2=0;this.$5=0;this.$1=false;this.$4=0;this.$2=0;this.$3=0;this.$6=1;this.$5=B;this.$1=C},{update:function(B){if(this.$1){this.$4++;if(ss.imod(this.$4,tab.MapUtil.touchEventSamplingRate)!==0){return false}}this.$2+=tab.ScrollAdjusterUtil.adjustVerticalScrollDeltaForMap(B);this.$3=ss.idiv(this.$2,tab.MapUtil.defaultWheelDeltaIncrement)*tab.MapUtil.minimumZoomLevelIncrement;this.$6=tab.MapUtil.calculateZoomFactor(this.$2);this.$0();return true},currentZoomFactor:function(){return 1/this.$6},currentZoomLevel:function(){return this.$5-this.$3},$0:function(){if(!tab.MapUtil.allowZoomAtCurrentLevelLeaflet(this.$5,this.$3)||!tab.MapUtil.allowZoomAtCurrentLevel(this.$5,this.$6)){this.$3=this.$5;this.$6=tab.MapUtil.getZoomFactorForDesiredZoomLevel(this.$5,0);this.$2=tab.MapUtil.getScrollDeltaForZoomFactor(this.$6)}}});var l=global.tab.Drilling=ss.mkType(a,'tab.Drilling',function(B,C){this.$w=null;this.$q=null;this.$r=null;this.$t=false;this.$u=null;this.$s=null;this.$v=null;this.$x=tab.FeatureFlags.isEnabled('RuntimeVizHeaderRefactor');v.call(this,$(document.createElement('div')),$(C),B);this.$w=this.get_parentViewer().get_inputHandlers();this.element.addClass('tab-tiledViewerDrill');this.$q=$("<span class='tab-tvLevelDrillDown tab-levelDrillingIcon tvDrillDown'></span>").appendTo(this.element);var D=new spiff.Button(this.$q);D.add_press(ss.mkdel(this,this.$e));this.disposables.add$1(D);this.$r=$("<span class='tab-tvLevelDrillUp tab-levelDrillingIcon tvDrillUp'></span>").appendTo(this.element);var E=new spiff.Button(this.$r);E.add_press(ss.mkdel(this,this.$f));this.disposables.add$1(E);C.appendChild(this.element.get(0));this.$h();this.turnDrillWidgetsOff()},{get_widgetFeatureEnabled:function(){return tsConfig.allow_filter},dispose:function(){v.prototype.dispose.call(this);this.set_parentViewer(null)},onUpdate:function(){this.$t=false;this.$v=this.get_parentViewer().get_geometry();this.$a(this.get_parentViewer().get_capturedPaneTableViewMousePosition())},onMouseMove:function(B){this.$b(B)},isActiveInRect:function(B){if($(this.$q.get(0)).css('display')!=='none'||$(this.$r.get(0)).css('display')!=='none'){if(ss.isValue(this.$s)&&tab.RectXYUtil.intersectsWith(this.$s,B)){return true}}return false},turnDrillWidgetsOff:function(){var B=['bottomaxis','xheader','yheader'];for(var C=0;C<B.length;C++){var D=B[C];if(ss.isValue(this.$w[D])){this.$w[D].unsuppressHover()}}this.hideNode(this.$q.get(0));this.hideNode(this.$r.get(0));this.$u=new d},$h:function(){this.set_enabled(true)},$b:function(B){if(B.button>0){return}var C=tab.PaneTableView.getPaneTableViewMousePositionFromCoordinates(B.pageX,B.pageY,this.get_parentViewer());this.$a(C)},$9:function(B){var C=new c;if(ss.isValue(this.$v.xheader)||this.$x&&ss.isValue(this.$v.topaxis)){C.$5=this.get_parentViewer().isPointInRegion('xheader',B)}if(ss.isValue(this.$v.leftaxis)){C.$2=this.get_parentViewer().isPointInRegion('leftaxis',B)}C.$9=this.get_parentViewer().tlspacerAreaX;C.$a=this.get_parentViewer().tlspacerAreaY;if(C.$5&&ss.isValue(C.$9)&&ss.isValue(C.$a)&&ss.isValue(this.$v.uleft)){C.$a.w=C.$9.l;C.$8=false}if(ss.isValue(this.$v.bottomaxis)&&!C.$5){C.$6=this.get_parentViewer().isPointInRegion('bottomaxis',B)}if((ss.isValue(this.$v.yheader)||this.$x&&ss.isValue(this.$v.leftaxis))&&!C.$5&&!C.$6){C.$7=this.get_parentViewer().isPointInRegion('yheader',B)}if(ss.isValue(C.$a)&&!C.$5&&!C.$6&&ss.isValue(this.$v.yheader)){C.$4=tab.RectUtil.inRect(C.$a,B)}if(ss.isValue(C.$9)&&!C.$4&&!C.$7&&!C.$6&&ss.isValue(this.$v.xheader)){C.$3=tab.RectUtil.inRect(C.$9,B)}if(ss.isValue(this.$v.lleft)&&!C.$4&&!C.$3){C.$1=this.get_parentViewer().isPointInRegion('lleft',B)}return C},$k:function(B,C){if(B.$0()){this.turnDrillWidgetsOff()}else if(B.$3){B.$8=false;this.$m(C)}else if(B.$5){B.$8=false;this.$n(C)}else if(B.$7){this.$o(C)}else if(B.$6||B.$1){this.$l()}else if(B.$2){this.$j()}else if(B.$4){this.$o(C)}if(B.$8&&ss.isValue(B.$a)&&ss.isValue(this.$v.uleft)){var D=this.get_parentViewer().getRegionRectForRegion('uleft',false);if(ss.isValue(D)){B.$a.w=D.w}}},$8:function(B){if(ss.isNullOrUndefined(B)){return false}if(this.$t){return false}if(ss.isNullOrUndefined(this.$v)||ss.isNullOrUndefined(this.$v.di)||_.isEmpty(this.$v.di)||!tsConfig.allow_filter){return false}return true},$a:function(B){if(this.$8(B)){var C=this.$9(B);this.$k(C,B)}},$e:function(){this.$d('down')},$f:function(){this.$d('up')},$d:function(B){this.$t=true;if(tsConfig.allow_filter&&!ss.isNullOrUndefined(this.$u.$0)){var C=((this.$u.$0.toString()==='yheader')?'rows-shelf':'columns-shelf');var D=false;if(B==='up'){D=true}tab.FilterClientCommands.levelDrill(this.get_parentViewer().get_visualId(),this.$u.$1,C,D)}this.turnDrillWidgetsOff()},$n:function(B){var C=this.$v.di.xs+this.get_parentViewer().titleHeight;var D=this.$7(B.y,C,this.$v.di.xy);if(D.$0>=0&&D.$0<this.$v.di.xy.length){this.$p('x',D,this.$v.di.xy)}else{this.turnDrillWidgetsOff()}},$m:function(B){var C=this.$v.di.xs+this.get_parentViewer().titleHeight;var D=this.$7(B.y,C,this.$v.di.xy);if(D.$0!==this.$u.$1){this.turnDrillWidgetsOff()}},$j:function(){if(ss.isNullOrUndefined(this.$v.leftaxis)){return}var B=this.get_parentViewer().getRegionRectForRegion('leftaxis',false);if(ss.isNullOrUndefined(B)){return}var C=this.$v.di.yx.length-1;if(C<0){return}var D=Math.min(B.l,17);var E={l:B.l-D,t:B.t,w:B.w+D,h:B.h};this.$g(E,this.$v.di.yx[C][1],'y');this.$u.$1=C;this.$u.$0='yheader'},$o:function(B){var C=B.x;if(this.get_parentViewer().get_horizontalScrollingManager().get_isFullTableScrollingEnabled()){C+=this.get_scrollAmountX()}var D=this.$7(C,this.$v.di.ys,this.$v.di.yx);if(this.get_parentViewer().get_horizontalScrollingManager().get_isFullTableScrollingEnabled()){var E=this.get_scrollAmountX();D.$1-=E;D.$2-=E}var F=D.$0;if(F>=0&&F<this.$v.di.yx.length){this.$p('y',D,this.$v.di.yx)}else{this.turnDrillWidgetsOff()}},$l:function(){if(ss.isNullOrUndefined(this.$v.bottomaxis)){return}var B=this.get_parentViewer().getRegionRectForRegion('bottomaxis',false);if(ss.isNullOrUndefined(B)){return}var C=this.$v.di.xy.length-1;var D=Math.min(B.l,20);var E;if(D===0){E={l:B.l+17,t:B.t,w:B.w+17,h:B.h}}else{E={l:B.l-D,t:B.t,w:B.w+D,h:B.h}}this.$g(E,this.$v.di.xy[C][1],'x');this.$u.$1=C;this.$u.$0='bottomaxis'},$p:function(B,C,D){var E;var F=0;if(B==='x'){var G=this.get_parentViewer().getRegionRectForRegion('xheader',this.$x);var H=(ss.isNullOrUndefined(G)?0:G.l);var I=(ss.isNullOrUndefined(G)?0:G.w);if(ss.isValue(this.$v.uleft)){F=Math.min(H,17)}E={l:H-F,t:C.$1,w:I+F,h:C.$2-C.$1}}else{var J=this.get_parentViewer().getRegionRectForRegion('yheader',this.$x);var K=(ss.isNullOrUndefined(J)?0:J.t);var L=(ss.isNullOrUndefined(J)?0:J.h);if(ss.isValue(this.$v.uleft)){F=Math.min(K,17)}E={l:C.$1,t:K-F,w:C.$2-C.$1,h:L+F}}this.$g(E,D[C.$0][1],B);this.$u.$1=C.$0;this.$u.$0=B+'header'},$i:function(B,C,D){var E=this.$c('level',C,D);var F=tab.DoubleUtil.roundToInt(this.$q.outerHeight());var G=tab.DoubleUtil.roundToInt(this.$q.outerWidth());this.$s={x:E.x,y:E.y,w:G,h:F};if(this.isOtherActiveInRect(this.$s)){return}this.showNodeAt(B,E.y,E.x)},$g:function(B,C,D){this.$s=null;switch(C){case 0:{this.hideNode(this.$q.get(0));this.hideNode(this.$r.get(0));break}case 1:{this.$i(this.$q.get(0),B,D);this.hideNode(this.$r.get(0));break}case 2:{this.$i(this.$r.get(0),B,D);this.hideNode(this.$q.get(0));break}case 3:{if(D==='x'){var E={l:B.l+17,t:B.t,w:B.w+17,h:B.h};this.$i(this.$q.get(0),E,D);this.$i(this.$r.get(0),B,D)}else if(D==='y'){this.$i(this.$r.get(0),B,D);var F={l:B.l+10,t:B.t,w:B.w+17,h:B.h};this.$i(this.$q.get(0),F,D)}break}}},$7:function(B,C,D){var E=-1;var F=C-1;var G=-1;if(ss.isNullOrUndefined(D)){return new e(-1,-1,-1)}while(F<B&&G<D.length-1){G+=1;E=F;F+=D[G][0]}if(F<B){return new e(-1,-1,-1)}return new e(E,F,G)},$c:function(B,C,D){if(B==='level'){if(D==='y'){return{x:C.l+ss.idiv(C.w,2)-4,y:C.t+2}}else{return{x:C.l+2,y:C.t+ss.idiv(C.h,2)-4}}}else{return{x:C['x']+2,y:C['y']+2}}}});var m=global.tab.FloatingZoomToolbarOperationsWeb=ss.mkType(a,'tab.FloatingZoomToolbarOperationsWeb',function(B){this.$0=null;this.$0=B},{get_appendMode:function(){return false},set_appendMode:function(B){},zoomHome:function(){this.$0.zoomHome()},zoomIn:function(){this.$0.$1o(2)},zoomOut:function(){this.$0.$1o(0.5)},setPointerToolMode:function(B,C){this.$0.setPointerToolMode(B,C)},anyButtonTouched:function(){},defaultPointerToolMode:function(){return this.$0.defaultPointerToolMode()}});var n=global.tab.FloatingZoomToolbarWeb=ss.mkType(a,'tab.FloatingZoomToolbarWeb',function(B,C,D,E,F){tab.FloatingZoomToolbar.call(this,B,C,D,E,F);this.init()},{clickZoomHome:function(){tab.FloatingZoomToolbar.prototype.clickZoomHome.call(this);if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(false)}},$j:function(B){var C=tab.Strings.PanZoomSelectToolsRadialSelectionTooltip;this.radialSelectButton=this.addToggleButton(B,'buttonRadialSelect',C)},$k:function(B){var C=tab.Strings.PanZoomSelectToolsRectangularSelectionTooltip;this.rectSelectButton=this.addToggleButton(B,'buttonRectSelect',C)},$h:function(B){var C=tab.Strings.PanZoomSelectToolsLassoSelectionTooltip;this.lassoSelectButton=this.addToggleButton(B,'buttonLassoSelect',C)},$i:function(B){var C=tab.Strings.PanZoomSelectToolsPanTooltip;this.panButton=this.addToggleButton(B,'buttonPan',C)},createButtons:function(){this.createButtonContainer();if(this.toolbarType==='fullToolbar'){this.zoomInButton=this.addButton(this.buttonContainer,'buttonZoomIn',tab.Strings.PanZoomSelectToolsZoomInTooltip);this.zoomOutButton=this.addButton(this.buttonContainer,'buttonZoomOut',tab.Strings.PanZoomSelectToolsZoomOutTooltip);this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip);this.addSpacer();this.flyOutButton=this.addButton(this.buttonContainer,'buttonFlyOut','');this.createButtonFlyOut();this.$g()}else if(this.toolbarType==='disablePanZoomToolbar'){if(this.geoSearchEnabled){this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.$k(this.buttonContainer);this.$j(this.buttonContainer);this.$h(this.buttonContainer)}else{this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.setupEventHandling()},$g:function(){if(this.toolbarType==='fullToolbar'){var B=tab.Strings.PanZoomSelectToolsZoomAreaTooltip;this.zoomAreaButton=this.addToggleButton(this.flyOutButtons,'buttonZoomArea',B);this.$i(this.flyOutButtons);this.$k(this.flyOutButtons);this.$j(this.flyOutButtons);this.$h(this.flyOutButtons)}},setupEventHandling:function(){tab.FloatingZoomToolbar.prototype.setupEventHandling.call(this);if(this.toolbarType==='fullToolbar'){this.disposables.add$1(this.zoomInButton.onClick(ss.mkdel(this,function(){this.api.zoomIn()})));this.disposables.add$1(this.zoomOutButton.onClick(ss.mkdel(this,function(){this.api.zoomOut()})));this.disposables.add$1(this.zoomAreaButton.onClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('area-zoom')}})));this.disposables.add$1(this.zoomAreaButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true)})));this.flyOutContainer.mouseout(ss.mkdel(this,this.$m));var B=this.flyOutButton.element;B.mouseout(ss.mkdel(this,this.$l));B.mouseenter(ss.mkdel(this,this.toggleFlyout))}if(this.geoSearchEnabled||this.toolbarType!=='disablePanZoomToolbar'){this.zoomHomeButton.add_hover(ss.mkdel(this,this.$n));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.zoomHomeButton.remove_hover(ss.mkdel(this,this.$n))})))}},$n:function(){if(!this.canZoomHome){this.zoomHomeButton.element.removeClass(this.zoomHomeButton.get_hoverClass())}},$m:function(B){var C=this.flyOutContainer.offset();if(C.top>=B.pageY){this.updateFlyOutVisibility(false);return}var D=tab.DoubleUtil.roundToInt(C.left)+tab.DoubleUtil.roundToInt(this.flyOutContainer.width());var E=tab.DoubleUtil.roundToInt(C.top)+tab.DoubleUtil.roundToInt(this.flyOutContainer.height());if(B.pageX>=D||B.pageY>=E){this.updateFlyOutVisibility(false)}},$l:function(B){var C=this.flyOutButton.element.offset();if(C.left>=B.pageX||C.top>=B.pageY){this.updateFlyOutVisibility(false);return}var D=tab.DoubleUtil.roundToInt(C.top)+tab.DoubleUtil.roundToInt(this.flyOutButton.element.height());if(B.pageY>=D){this.updateFlyOutVisibility(false)}}});var o=global.tab.HoverApi=ss.mkType(a,'tab.HoverApi',function(B){this.$0=null;this.$0=B},{dispose:function(){this.$0=null},unsuppressHover:function(B){if(ss.isNullOrUndefined(this.$0)){return}var C=this.$0.get_inputHandlers()[B.get_regionPart()];if(ss.isValue(C)){C.unsuppressHover()}var D=this.$0.get_responsiveMouseHandler();if(ss.isValue(D)){D.unsuppressHover()}},suppressHover:function(B){if(ss.isNullOrUndefined(this.$0)){return}var C=this.$0.get_inputHandlers()[B.get_regionPart()];if(ss.isValue(C)){C.suppressHover()}var D=this.$0.get_responsiveMouseHandler();if(ss.isValue(D)){D.suppressHover()}}});var p=global.tab.IScrollZoom=ss.mkType(a,'tab.IScrollZoom');var q=global.tab.LegacyTooltipBehavior=ss.mkType(a,'tab.LegacyTooltipBehavior',function(B){this.$j=null;this.$i=null;this.$k=null;this.$c=new tab.DisposableHolder;this.$b=null;this.$f=null;this.$g=false;this.$h=null;this.$e=false;this.$d=false;tab.Param.verifyValue(B,'tooltip');this.$j=B;this.$i=[];this.$k=q.$0()},{attach:function(){this.$j.add_showed(ss.mkdel(this,this.$7));this.$j.add_closed(ss.mkdel(this,this.$5));this.$j.add_disposed(ss.mkdel(this,this.$a));var B=new EventUtils.EventHandleSpec;B.SetHandler('hover',ss.mkdel(this,this.$8));this.$c.add$1(new EventUtils.TableauEventHandler(this.$j.element[0],B));$(window.document.documentElement).on(this.$k,ss.mkdel(this,this.$6))},detach:function(){this.$0();this.$c.dispose();if(ss.isValue(this.$j)){this.$j.remove_showed(ss.mkdel(this,this.$7));this.$j.remove_closed(ss.mkdel(this,this.$5));this.$j.remove_disposed(ss.mkdel(this,this.$a))}this.$9()},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(B){return!(this.$j.get_isShown()&&this.$j.isInSafeZone(B,!this.$d))},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(B){this.$e=B},handleUbertipMenuClose:function(){this.$j.close()},hoverOverObject:function(B,C,D){this.showTooltip(B)},hoverOverWhitespace:function(B){if(this.$j.get_isShown()&&!this.$j.isInSafeZone(B,false)){this.$j.close()}},multiSelectComplete:function(B){this.showTooltip(B)},singleSelectComplete:function(B){this.showTooltip(B)},selectionMoved:function(B){},repositionWithinRegion:function(B){},onPanningOrDragging:function(){if(this.$j.get_isShown()){this.$j.close()}},onScroll:function(){if(this.$j.get_isShown()){this.$j.close()}},mouseDown:function(B,C){this.$j.close()},showTooltip:function(B){if(EventUtils.DragDropManager.get_isDragging()){return}if(this.$j.get_isShown()&&tab.PointUtil.equals(this.$j.get_location(),B)){return}if(this.$j.get_isShown()&&this.$j.isInSafeZone(B,false)){return}this.$j.show(this.$j.get_body().children()[0],B)},$7:function(){this.$0();this.$g=false;this.$d=false;this.$h=new Date;this.$j.set_lastLocation({x:this.$j.get_calculatedShownArgs().origX,y:this.$j.get_calculatedShownArgs().origY});this.$1(10000)},$5:function(){this.$j.element.off('.LegacyTooltipBehavior');this.$j.set_lastLocation(null);this.$0();this.$h=null;this.$d=false},$6:function(B){var C=this.$j.get_lastLocation();this.$j.set_lastLocation({x:B.pageX,y:B.pageY});if(ss.isNullOrUndefined(C)||!this.$j.get_isShown()){return}if(this.$4(this.$j.get_lastLocation())){this.$d=true;return}if(!this.$e&&!this.$j.isInSafeZone(this.$j.get_lastLocation(),!this.$d)){this.$j.close();return}var D=tab.PointUtil.distance(C,this.$j.get_lastLocation());var E=new Date-this.$h;if(D>10&&E>500){this.$g=true;if(ss.isValue(this.$b)){ss.remove(this.$i,ss.unbox(this.$b));this.$b=tab.MiscUtil.clearTimeout(this.$b)}this.$2()}else if(this.$g){if(!ss.isValue(this.$b)){this.$b=this.$1(1200)}}},$2:function(){this.$f=tab.MiscUtil.clearTimeout(this.$f);this.$f=window.setTimeout(ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$b)){this.$b=this.$1(1200)}}),250)},$9:function(){$(window.document.documentElement).off(this.$k)},$4:function(B){if(ss.isNullOrUndefined(B)){return false}var C=this.$3();return tab.RectUtil.inRect(C,B)},$3:function(){var B=this.$j.element.position();var C={l:tab.DoubleUtil.roundToInt(B.left),t:tab.DoubleUtil.roundToInt(B.top),w:tab.DoubleUtil.roundToInt(this.$j.element.width()),h:tab.DoubleUtil.roundToInt(this.$j.element.height())};return C},$1:function(B){var C=window.setTimeout(ss.mkdel(this,function(){if(this.$4(this.$j.get_lastLocation())){return}this.$j.close()}),B);this.$i.push(C);return C},$8:function(B){if(this.$4(this.$j.get_lastLocation())){return}this.$0()},$a:function(B,C){this.dispose()},$0:function(){for(var B=0;B<this.$i.length;B++){var C=this.$i[B];window.clearTimeout(C)}ss.clear(this.$i);this.$b=tab.MiscUtil.clearTimeout(this.$b);this.$f=tab.MiscUtil.clearTimeout(this.$f)}},{$0:function(){q.$7++;return'mousemove.LegacyTooltipBehavior'+q.$7.toString()}});var r=global.tab.MapsSearchViewWeb=ss.mkType(a,'tab.MapsSearchViewWeb',function(B){this.$s=null;tab.MapsSearchView.call(this,B,tab.MapsSearchView.newMapsSearchViewTemplate());this.get_compositeSearchWidget().get_textInputView().get_inputElement().mouseup(ss.mkdel(this,this.$p));var C=this.get_compositeSearchWidget();C.add_spotlightedListItemChanged(ss.mkdel(this,this.$o));C.add_tabKeyPressed(ss.mkdel(this,this.$q));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){C.remove_spotlightedListItemChanged(ss.mkdel(this,this.$o));C.remove_tabKeyPressed(ss.mkdel(this,this.$q))})));C.set_spotlightedItemLogic(this)},{updateSearchTextValue:function(B){this.$r(B,true)},$r:function(B,C){tab.MapsSearchView.prototype.updateSearchTextValue.call(this,B);if(C===true){this.selectAllSearchText()}},$p:function(B){if(this.get_compositeSearchWidget().get_textInputView().get_text().length===0){return}var C=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionStart');var D=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionEnd');if(ss.isValue(C)&&ss.isValue(D)&&!ss.referenceEquals(C,D)){return}this.selectAllSearchText()},$o:function(B){this.$s=B;if(ss.isValue(B)){var C=B.get_data();this.$r(C,false)}},handleEnterKeyPress:function(){if(ss.isValue(this.$s)){this.mapsSearchViewModel.moveMapToCandidateBounds(this.$s.get_data());this.get_compositeSearchWidget().removeList();return}tab.MapsSearchView.prototype.handleEnterKeyPress.call(this)},$q:function(B){B.preventDefault();if(ss.isNullOrUndefined(this.get_compositeSearchWidget().get_listViewModel())||ss.isValue(this.queryDelayTimer)||ss.isValue(this.$s)){return}var C=this.get_compositeSearchWidget();C.changeSpotlightedListItem(2,null)},handleSearchButtonClick:function(){tab.MapsSearchView.prototype.handleSearchButtonClick.call(this);if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},handleCollapseSearchWidget:function(){tab.MapsSearchView.prototype.handleCollapseSearchWidget.call(this);if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},calculateNewSpotlightedItemIndex:function(B,C,D){if(C===4){return D}var E=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-1;if(ss.isNullOrUndefined(B)){switch(C){case 1:case 2:{return 0}case 0:case 3:{return E}}}var F=B;switch(C){case 1:{F=ss.Nullable$1.add(F,1);if(ss.Nullable$1.gt(F,E)){F=0}break}case 0:{F=ss.Nullable$1.sub(F,1);if(ss.Nullable$1.lt(F,0)){F=E}break}case 2:{F=0;break}case 3:{F=E;break}}return F}});var s=global.tab.PaneTableMouseCapture=ss.mkType(a,'tab.PaneTableMouseCapture',function(B,C){this.$3=null;this.$2(B,C)},{$2:function(B,C){tab.Param.verifyValue(B,'element');tab.Param.verifyValue(C,'handler');if(s.$0()){this.$1();document.addEventListener('mousemove',ss.mkdel(this,this.$0),true);this.$3=C}},$1:function(){if(s.$0()){document.removeEventListener('mousemove',ss.mkdel(this,this.$0),true)}this.$3=null},$0:function(B){if(ss.isValue(this.$3)){this.$3.HandleCapturedMouseMove(B)}},dispose:function(){this.$1()}},{$0:function(){return!tsConfig.is_mobile&&BrowserSupport.BrowserSupport.AddEventListener()}});var t=global.tab.PaneTableTemplateWeb=ss.mkType(a,'tab.PaneTableTemplateWeb',function(){this.scrollX=null;this.scrollY=null;tab.PaneTableTemplate.call(this,$("<div class='tab-tiledViewer placeholder' data-tb-test-id='VisualizationContainer'><div class='tab-clip'><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvTLSpacer tvimagesNS'><img/></div><div class='tab-tvTRSpacer tvimagesNS'><img/></div><div class='tab-tvBLSpacer tvimagesNS'><img/></div><div class='tab-tvBRSpacer tvimagesNS'><img/></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer' data-tb-test-id='VisualizationScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><div class='tab-tvYLabelInteraction'></div><div class='tab-tvLeftAxisInteraction'></div><div class='tab-tvRightAxisInteraction'></div><div class='tab-tvXLabelInteraction'></div><div class='tab-tvBottomAxisInteraction'></div><div class='tab-tvTopAxisInteraction'></div><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"));var B=ss.mkdel(this,this.getElementBySelector);this.scrollX=B('.tab-tvScrollX');this.scrollY=B('.tab-tvScrollY')},{exportAsAxisResizerDomElements:function(){var B=new tab.AxisResizerDomElements(this.topLeftSpacer,this.topRightSpacer,this.bottomLeftSpacer,this.view,this.topAxis,this.rightAxis,this.bottomAxis,this.leftAxis);return B}});var u=global.tab.PaneTableViewWeb=ss.mkType(a,'tab.PaneTableViewWeb',function(B){this.$2L={};this.$2F=null;this.$2I=false;this.$2K=false;this.$2W=null;this.$2O=null;this.$2U=null;this.drillWidget=null;this.sortWidget=null;this.axisContextMenuWidget=null;this.$2R=null;this.$2S=null;this.$2Q=null;this.$2J=null;this.$2V=null;this.$2M=false;this.$2P=null;this.$2H=null;this.$2X=null;this.$2D=null;this.$2T=null;this.$2G=null;this.$2N=null;this.$2E=null;this.deferredHeaderResizerManager=null;this.deferredCellResizerManager=null;this.deferredAxisResizerManager=null;tab.PaneTableView.call(this,B,new t);this.$2F=this.dom;this.$2y();var C=new EventUtils.EventHandleSpec;C.tap=ss.mkdel(this,function(E){this.$2N={x:E.pageX,y:E.pageY};this.refreshScrollingAndAxisIcons();if(ss.referenceEquals(E.currentTarget,E.target)&&!tab.DashboardView.isMultiSelectClick(E)){this.clearSelection()}});var D=C;if(!B.runtimeSupported()){this.$1O();this.$1L();this.$1M()}this.$2U=_.debounce(ss.mkdel(this,function(){this.deferredHeaderResizerManager.done(function(E){E.handleResizerUpdate()});this.deferredCellResizerManager.done(function(E){E.handleCellResizerUpdate()});this.deferredAxisResizerManager.done(function(E){E.setAxisResizers()})}),1000);this.$1Q();this.$1P();this.$1N();this.disposables.add$1(new s(document.body,this));this.disposables.add$1(new EventUtils.TableauEventHandler(this.dom.enclosingDiv.get(0),D));if(ss.isValue(this.get_horizontalScrollingManager())){this.get_horizontalScrollingManager().add_scrollingModeChanged(ss.mkdel(this,this.$2i));this.disposables.add(ss.mkdel(this,function(){this.get_horizontalScrollingManager().remove_scrollingModeChanged(ss.mkdel(this,this.$2i))}))}this.init()},{get_inputHandlers:function(){return this.$2L},get_domWeb:function(){return this.$2F},get_responsiveMouseHandler:function(){return this.$2P},$2C:function(){return this.getWebRegion('viz')},get_zoomToolbarOffset:function(){var B=41;var C=10;if(this.get_paneTableViewModel().get_mapSearchEnabled()){C+=B}return C},get_zoomToolbarOperations:function(){return new m(this)},get_capturedPaneTableViewMousePosition:function(){return this.$1E()},get_desktopModeHandler:function(){return this.$2E},$1O:function(){if(tsConfig.is_authoring&&ss.isValue(this.get_paneTableViewModel().deferredHeaderResizerManagerViewModel)&&ss.isValue(this.get_paneTableViewModel().deferredResizerFactory)){var B=$.Deferred();this.deferredHeaderResizerManager=B.promise();this.get_paneTableViewModel().deferredHeaderResizerManagerViewModel.done(ss.mkdel(this,function(C){this.get_paneTableViewModel().deferredResizerFactory.done(ss.mkdel(this,function(D){B.resolve(D.newHeaderResizerManager(C,this.get_domWeb().yLabel,this.get_domWeb().xLabel))}))}))}},$1M:function(){if(tsConfig.is_authoring&&ss.isValue(this.get_paneTableViewModel().deferredCellResizerManagerViewModel)&&ss.isValue(this.get_paneTableViewModel().deferredResizerFactory)){var B=$.Deferred();this.deferredCellResizerManager=B.promise();this.get_paneTableViewModel().deferredCellResizerManagerViewModel.done(ss.mkdel(this,function(C){this.get_paneTableViewModel().deferredResizerFactory.done(ss.mkdel(this,function(D){B.resolve(D.newCellResizerManager(C,this.get_domWeb().yLabel,this.get_domWeb().xLabel))}))}))}},$1L:function(){if(tsConfig.is_authoring&&ss.isValue(this.get_paneTableViewModel().deferredResizerFactory)){var B=$.Deferred();this.deferredAxisResizerManager=B.promise();this.get_paneTableViewModel().deferredResizerFactory.done(ss.mkdel(this,function(C){B.resolve(C.newAxisResizerManager(this.get_domWeb().exportAsAxisResizerDomElements(),this.get_paneTableViewModel().get_visualId()))}))}},$1Q:function(){if(tsConfig.is_authoring&&ss.isValue(this.get_paneTableViewModel().get_vizContextMenuViewModel())){this.get_paneTableViewModel().get_vizContextMenuViewModel().setAnchorEl(this.get_vizRegionDomNode().get(0));tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[tab.VizContextMenuViewModel,z,Object])).call(null,[this.get_paneTableViewModel().get_vizContextMenuViewModel()])}},$1P:function(){if(tsConfig.is_authoring&&ss.isValue(this.get_paneTableViewModel().get_annotationSelectionChromeViewModel())){var B=this.get_vizRegionDomNode().get(0).getBoundingClientRect();var C={x:0,y:0,w:ss.trunc(B.width),h:ss.trunc(B.height)};this.get_paneTableViewModel().updateAnnotationSelectionBounds(C);var D=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[tab.AnnotationSelectionChromeViewModel,g,Object])).call(null,[this.get_paneTableViewModel().get_annotationSelectionChromeViewModel()]);D.addToDom(this.get_vizRegionDomNode())}},$1N:function(){if(tab.ApplicationModel.get_instance().get_isDesktopRenderMode()){this.$2E=new tab.DesktopModeHandler(tab.VisualInteropObjectFactory.get_instance(),this.get_paneTableViewModel().get_identifier(),ss.mkdel(this,this.getContentProvider),this.cornersRenderer,this.get_vizToolTip());this.disposables.add$1(this.$2E)}},$1o:function(B){if(this.get_paneTableViewModel().get_isMapWithBaseLayer()&&!this.$2C().allowMapZoomAtCurrentLevel(B)){return}var C=this.resolvePane({x:1,y:1});this.disposeOfOverlays();this.get_paneTableViewModel().hideAnnotations();this.$2C().$n(C,B)},initEventHandlers:function(){var B=null;var C=null;var D=ss.thisFix(ss.mkdel(this,function(){B=tab.MiscUtil.dispose$1(B);C=tab.MiscUtil.dispose$1(C);tab.PaneTableView.prototype.initEventHandlers.call(this)}));var E=this.dom.domRoot[0];B=spiff.EventUtil.addEventListenerWithDispose(E,'mouseenter',D,true);C=spiff.EventUtil.addEventListenerWithDispose(E,'touchstart',D,true);this.disposables.add$1(B);this.disposables.add$1(C)},getDomNodeForContentRegion:function(B){return B.get(0)},connectTooltipEventHandlers:function(){tab.PaneTableView.prototype.connectTooltipEventHandlers.call(this);this.get_vizToolTip().add_mouseExitedTooltip(ss.mkdel(this,this.$2c))},makeConnections:function(){this.$2F.scrollX.scroll(ss.mkdel(this,function(B){this.$2g()}));this.$2F.scrollY.scroll(ss.mkdel(this,function(B){this.$2h()}));this.dom.domRoot.on('wheel',ss.mkdel(this,this.$2e));this.dom.domRoot.mouseout(ss.mkdel(this,this.onMouseOut));this.dom.domRoot.mousemove(ss.mkdel(this,this.onMouseMove));this.dom.view.mouseover(ss.mkdel(this,this.onViewMouseOver));this.dom.view.mouseout(ss.mkdel(this,this.onViewMouseOut));this.dom.view.mousemove(ss.mkdel(this,this.onViewMouseMove));if(tab.SceneMarginModel.isKeyboardAccessibilityEnabled()){this.dom.title.attr('tabindex','0')}else{this.dom.domRoot.attr('tabindex','-1')}this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.dom.domRoot,'keyup',ss.mkdel(this,this.$2b)))},makeMapsSearchViewConnections:function(){if(ss.isValue(this.mapsSearchView)){this.get_paneTableViewModel().get_mapsSearchViewModel().set_focusInHandler(ss.mkdel(this,function(B){this.checkForSuppressTooltipsAndOverlays(B.target)}));this.get_paneTableViewModel().get_mapsSearchViewModel().set_focusOutHandler(ss.mkdel(this,function(B){this.checkForSuppressTooltipsAndOverlays(B.relatedTarget)}));this.get_paneTableViewModel().get_mapsSearchViewModel().set_keypressHandler(ss.mkdel(this,function(B){this.checkForSuppressTooltipsAndOverlays(B.target)}))}},makeRegions:function(){var B=this.makeHoverApi();ss.clearKeys(this.regions);var C=function(){return false};for(var D=0;D<tab.PaneTableViewRegionParts.nonVizContentRegions.length;D++){var E=tab.PaneTableViewRegionParts.nonVizContentRegions[D];var F=this.regionParts.getSelectorForRegion(E);var G=new tab.ToolModeViewModel(E,this.get_paneTableViewModel().get_visualModel().get_defaultMapTool());this.regions[E]=new x(E,F.get(0),this.dom.enclosingDiv.get(0),B,this.$2F.scrollX,this.$2F.scrollY,C,this.get_sheetid(),this.get_paneTableViewModel(),G)}var H=ss.mkdel(this,this.allowPanZoomActions);this.set_vizRegion(new x('viz',this.get_vizRegionDomNode().get(0),this.dom.enclosingDiv.get(0),B,this.$2F.scrollX,this.$2F.scrollY,H,this.get_sheetid(),this.get_paneTableViewModel(),this.get_paneTableViewModel().get_vizRegionToolModeViewModel()));this.get_vizRegion().set_desktopModeHandler(this.$2E);this.get_paneTableViewModel().get_vizRegionToolModeViewModel().initializeToolModesForVizRegion(H())},getWebRegion:function(B){return ss.safeCast(this.regions[B],x)},getContentProvider:function(B){var C=this.regions[B];return(ss.isValue(C)?C.get_contentProvider():null)},makeTooltipLegacyMode:function(B){return new y(B,this.get_visualId())},cancelHover:function(){},makeInputHandlers:function(){var B=ss.getEnumerator(Object.keys(this.$2L));try{while(B.moveNext()){var C=B.current();this.$2L[C]=tab.MiscUtil.dispose$1(this.$2L[C])}}finally{B.dispose()}ss.clearKeys(this.$2L);for(var D=0;D<tab.PaneTableViewRegionParts.nonVizContentRegions.length;D++){var E=tab.PaneTableViewRegionParts.nonVizContentRegions[D];var F=this.regionParts.getSelectorForRegion(E);var G=this.makeMouseSpec(this.getWebRegion(E));this.$2L[E]=new EventUtils.TableauEventHandler(F.get(0),G)}this.$2z();this.$1U();this.$1W();this.$1T();this.get_vizRegionDomNode().addClass('tvmodeRectSelect');this.$1C()},$1U:function(){if(ss.isValue(this.$2E)){return}var B=new EventUtils.EventHandleSpec;B.hoverDelay=20;B.hover=ss.mkdel(this,function(E){this.get_vizHitTestDebouncer().update(E)});var C=B;var D=ss.mkdel(this,function(E){this.onHitTestUpdated(this.$2C(),E)});this.get_vizHitTestDebouncer().add_updated(D);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_vizHitTestDebouncer().remove_updated(D)})));this.$2W=new EventUtils.TableauEventHandler(this.get_vizRegionDomNode().get(0),C);this.disposables.add$1(this.$2W)},$1W:function(){var B=null;if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var C=new EventUtils.EventHandleSpec;C.hover=ss.mkdel(this,function(D){this.onHoverOverlay(this.$2C(),D)});C.hoverDelay=0;B=C}if(ss.isValue(B)){this.$2P=new EventUtils.TableauEventHandler(this.get_vizRegionDomNode().get(0),B);this.disposables.add$1(this.$2P)}},$1C:function(){if(tsConfig.is_mobile){return}var B=ss.mkdel(this,function(D){if(!this.$2I&&!tab.FeatureFlags.isEnabled('EventUtilsEventHandlingRework')){D.stopPropagation()}this.makeHoverApi().suppressHover(this.regions['viz'])});var C=ss.mkdel(this,function(D){if(!this.$2I&&!tab.FeatureFlags.isEnabled('EventUtilsEventHandlingRework')){D.stopPropagation()}this.makeHoverApi().unsuppressHover(this.regions['viz'])});this.get_vizRegionDomNode().children().on(this.createNamespacedEventName('touchstart'),B).on(this.createNamespacedEventName('touchend'),C)},$2z:function(){this.$2L['viz']=tab.MiscUtil.dispose$1(this.$2L['viz']);var B=this.makeMouseSpec(this.$2C());this.$2L['viz']=new EventUtils.TableauEventHandler(this.get_vizRegionDomNode().get(0),B)},updateTooltipMode:function(B){tab.PaneTableView.prototype.updateTooltipMode.call(this,B);if(ss.isNullOrUndefined(this.vizTooltip)){this.$2z()}},updateGeometry:function(){tab.PaneTableView.prototype.updateGeometry.call(this);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.$2r();this.$2u()}var B=this.get_vizRegionDomNode().get(0);var C=B.getBoundingClientRect();var D={x:0,y:0,w:ss.trunc(C.width),h:ss.trunc(C.height)};this.get_paneTableViewModel().updateAnnotationSelectionBounds(D)},$1T:function(){var B=ss.mkdel(this,function(H){var I=new EventUtils.EventHandleSpec;I.hover=ss.mkdel(this,function(L){this.$26(this.getWebRegion(H),L)});I.hoverDelay=0;I.firstTouch=ss.mkdel(this,function(L){this.$24(this.getWebRegion(H))});var J=I;var K=this.regionParts.getSelectorForRegion(H);this.disposables.add$1(new EventUtils.TableauEventHandler(K.get(0),J));K.mouseout(ss.mkdel(this,function(L){this.$2d(H)}))});for(var C=0;C<tab.PaneTableViewRegionParts.regionsThatMightContainCategoricalHeader.length;C++){var D=tab.PaneTableViewRegionParts.regionsThatMightContainCategoricalHeader[C];B(D)}if(tsConfig.is_authoring){var E=tab.ListExtensions.where(Object).call(null,tab.PaneTableViewRegionParts.axisRegions,function(H){return!ss.contains(tab.PaneTableViewRegionParts.regionsThatMightContainCategoricalHeader,H)});for(var F=0;F<E.length;F++){var G=E[F];B(G)}}},makeHoverApi:function(){if(ss.isNullOrUndefined(this.$2J)){this.$2J=new o(this);this.disposables.add$1(this.$2J)}return this.$2J},doAnnotationDoubleTap:function(B,C){var D=this.get_paneTableViewModel().get_vizRegionToolModeViewModel().get_currentToolbarToolMode();if(tab.AnnotationSelectionChromeViewModel.canAnnotationInCurrentSheetType()&&tsConfig.is_authoring&&D!=='area-zoom'){var E=this.getHitTestResults(B,C);if(E.get_hitObjectType()===2){this.get_paneTableViewModel().handleAnnotationDoubleClicked([E.get_id()]);return true}}return false},makeMouseSpec:function(B){var C=this.$1V(B);C.firstTouch=ss.mkdel(this,function(D){this.$23(B,D)});C.tap=ss.mkdel(this,function(D){this.$2j(B,D)});if(tsConfig.is_authoring&&ss.contains(tab.PaneTableViewRegionParts.axisRegions,B.get_regionPart())){C.doubleTap=ss.mkdel(B,B.onDoubleTapAxis);C.rightClick=ss.mkdel(B,B.onRightClickAxis)}if(B.get_regionPart()==='viz'){C.dragStart=ss.mkdel(this,function(D){this.dragOverride(D,ss.mkdel(this,function(E){this.$22(B,D)}))});C.dragMove=ss.mkdel(this,this.$20);C.dragEnd=ss.mkdel(this,this.$21);if(tsConfig.allow_filter){C.rightClick=ss.mkdel(this,function(D){this.onRightClickViz(B,B.toLocalCoordsEvent(D,false))});C.doubleTap=ss.mkdel(this,function(D){this.$1Z(B,D)});C.press=function(D){u.$3()};C.cancelPotentialDoubleTap=ss.mkdel(this,function(D){this.$1Y()});C.pressDragStart=ss.mkdel(this,function(D){this.dragOverride(D,ss.mkdel(this,function(E){this.$2f(B,D)}))})}}return C},$1V:function(B){var C=new EventUtils.EventHandleSpec;C.hover=ss.mkdel(this,function(G){this.onHover(B,G)});C.hoverDelay=0;var D=C;if(ss.isValue(this.$2E)){return D}D.hoverDelay=(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?120:150);var E=this.get_paneTableViewModel().get_visualModel().get_tooltipMode();if(E!=='sticky'){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&B.get_regionPart()==='viz'){D.hoverDelay=0}else{var F=tab.FeatureParamsLookup.getInt(12);D.hoverDelay=ss.coalesce(F,120)}}return D},makeRegionContentProviders:function(){var B=ss.mkdel(this,function(C,D){this.get_vizRegion().reset()});if(tab.ApplicationModel.get_instance().get_isDesktopRenderMode()){this.$1X(this.get_vizRegionDomNode(),B)}else{this.makeRegionContentProvidersHelper(this.get_vizRegionDomNode(),B)}this.$2S=this.makeTiledWindow(this.$2F.scrollY,null,null,null,null);this.$2R=this.makeTiledWindow(this.$2F.scrollX,null,null,null,null)},$1X:function(B,C){for(var D=0;D<tab.PaneTableViewRegionParts.nonVizContentRegions.length;D++){var E=tab.PaneTableViewRegionParts.nonVizContentRegions[D];var F=this.regionParts.getSelectorForRegion(E);this.regions[E].set_contentProvider(new tab.DesktopRenderModeRegionProvider(E,this.get_paneTableViewModel().get_identifier(),this.getDomNodeForContentRegion(F)))}this.get_vizRegion().set_contentProvider(new tab.DesktopRenderModeRegionProvider('viz',this.get_paneTableViewModel().get_identifier(),this.getDomNodeForContentRegion(B)))},makeTiledWindow:function(B,C,D,E,F){return this.makeTiledWindowHelper(B,C,D,E,F,true)},shouldInformTooltipOfLocalTapOnViz:function(B){return!this.get_paneTableViewModel().vizContextMenuOpened()&&B.get_hitObjectType()!==2},refreshScrollingAndAxisIcons:function(){var B=this.$2O;this.$2O=null;if(typeof(B)==='function'){B()}this.tryUpdateSortDrillAndContextMenuWidgets()},tryUpdateSortDrillAndContextMenuWidgets:function(){if(ss.isValue(this.drillWidget)){this.drillWidget.onUpdate()}if(ss.isValue(this.sortWidget)){this.sortWidget.onUpdate()}if(ss.isValue(this.axisContextMenuWidget)){this.axisContextMenuWidget.onUpdate()}},getRegionForPoint:function(B){for(var C=0;C<tab.PaneTableViewRegionParts.regionPartsTrackedRegions.length;C++){var D=tab.PaneTableViewRegionParts.regionPartsTrackedRegions[C];var E=this.get_horizontalScrollingManager().getRegionRectForRegion(D,this.get_paneTableViewModel().runtimeSupported());if(ss.isValue(E)&&tab.RectUtil.inRect(E,B)){var F=new tab.RegionPositionPair;F.imageRegion=D;F.position=E;return F}}return null},isPointInRegion:function(B,C){var D=this.get_horizontalScrollingManager().getRegionRectForRegion(B,this.get_paneTableViewModel().runtimeSupported());return(ss.isValue(D)?tab.RectUtil.inRect(D,C):false)},destroyRegions:function(){tab.PaneTableView.prototype.destroyRegions.call(this);this.$2S.destroy();this.$2R.destroy()},destroyInputHandlers:function(){var B=ss.getEnumerator(Object.keys(this.$2L));try{while(B.moveNext()){var C=B.current();this.$2L[C]=tab.MiscUtil.dispose$1(this.$2L[C])}}finally{B.dispose()}ss.clearKeys(this.$2L);if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_mouseExitedTooltip(ss.mkdel(this,this.$2c))}this.$2m()},refreshImages:function(B){tab.PaneTableView.prototype.refreshImages.call(this,B);this.$2S.refreshImages(B);this.$2R.refreshImages(B)},onHover:function(B,C){if(!this.$2A()){return}var D=B.toLocalCoordsEvent(C,false);var E=tab.PointUtil.add(D,B.getLocalOffsetPoint(false));this.get_paneTableViewModel().handleAnnotationHover(D);this.$1H(this.get_vizToolTip(),B,E,D)},$2A:function(){if(this.isUserDragging()||this.get_paneTableViewModel().vizContextMenuOpened()||this.get_paneTableViewModel().isAnnotationDragging()){return false}if(tab.LegacySessionWaitHandler.get_waitHandler().isBusy()){return false}if(this.get_vizToolTip().get_isTooltipShown()&&this.get_vizToolTip().shownTooltipIsStatic()){return false}return true},$1H:function(B,C,D,E){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.$27(B,C,D,E)}else if(tab.ApplicationModel.get_instance().get_isDesktopRenderMode()){this.$25(B,C,D,E)}else{this.$28(B,C,D,E)}},$27:function(B,C,D,E){if(C.get_regionPart()==='viz'){this.$2a(C,E,B,D)}else{this.$29(C,E,B,D)}},$29:function(B,C,D,E){var F=this.$1K(B,C);if(ss.isNullOrUndefined(F)){D.hoverOverWhitespace(E,B.get_regionPart());return}var G=tab.SelectionUtils.nodeSelectionFromDrawGroup(F);var H=tab.BrushingComputer.getTuplesAssociatedWithSelectedNodes(this.get_paneTableViewModel().get_visualModel(),[G]);D.hoverOverHeader(E,C,'header',B.get_regionPart(),H)},$1K:function(B,C){if(this.get_paneTableViewModel().get_visualModel().get_sceneModel().runtimeRegionSupported(tab.ModelUtils.vizImageRegionToVisualPartForSceneMarginsMap[B.get_regionPart()])){return this.$1J(B,C)}return this.$1I(B,C)},$1J:function(B,C){var D=this.getSceneMargin(B);if(ss.isNullOrUndefined(D)){return null}var E=this.hitTestSceneMargin(D,C);if(ss.isNullOrUndefined(E)){return null}var F=tab.ModelUtils.vizImageRegionToVisualPartForSceneMarginsMap[B.get_regionPart()];var G=this.get_paneTableViewModel().get_visualModel().get_sceneModel().get_visualListModels()[F];var H=_.find(G.get_groupItemNodes(),function(I){if(ss.isNullOrUndefined(I.node)){return false}return I.node.nodeHash===E.hash});return H},$1I:function(B,C){var D=this.getVisualListViewModelForRegion(B.get_regionPart());if(ss.isNullOrUndefined(D)){return null}return D.hitTestNodes(C)},$2a:function(B,C,D,E){this.updateTooltipStateFromHoverPoint(B,C);var F=this.get_paneTableViewModel().get_localRenderVizHitTester().onHoverHitTest(C);var G=F.get_hitType()!==0;this.onHoverOverVisualPart(this.get_vizRegion(),G);if(!G){D.hoverOverWhitespace(E,B.get_regionPart());return}switch(F.get_hitObjectType()){case 7:case 8:{var H=this.get_paneTableViewModel().get_scene().getMarkBoundingBox(F.get_id());C=u.$0(C,H);var I=this.get_paneTableViewModel().get_scene().getPaneDrawInfoFromTupleId(F.get_id());var J=I.get_paneDescriptorKey();D.hoverOverObject(E,C,F.get_id(),J,'mark',B.get_regionPart());break}case 6:case 4:case 5:case 3:{this.$2V=window.setTimeout(function(){D.hoverOverCoordinates(E,C,'visualparts',B.get_regionPart(),null,null,false)},120);break}case 2:{if(D.get_isTooltipShown()){D.close()}break}default:{break}}},updateTooltipStateFromHoverPoint:function(B,C){if(B.get_regionPart()!=='viz'){return}this.$1u();B.get_shapeSelector().setSingleSelectPoint(C)},$1u:function(){if(ss.isValue(this.$2V)){window.clearTimeout(ss.unbox(this.$2V));this.$2V=null}},$25:function(B,C,D,E){this.updateTooltipStateFromHoverPoint(C,E);B.set_latestHoverPoint(D);this.$2E.onHover({x:D.x,y:D.y},C.get_regionPart())},$28:function(B,C,D,E){if(B.get_isTooltipShown()&&ss.isValue(this.get_vizHitTestDebouncer().get_current())&&this.get_vizHitTestDebouncer().get_current().get_result().get_id()===B.get_tupleId()){return}var F=tab.PaneTableView.guessTooltipTargetTypeFromRegion(C.get_regionPart());B.hoverOverCoordinates(D,E,F,C.get_regionPart(),null,null,false)},onTooltipClosed:function(){tab.PaneTableView.prototype.onTooltipClosed.call(this);this.disposeOfOverlayImages();this.$1s(false)},$2c:function(B){var C=tab.DomUtil.getRectXY(this.dom.view);if(C.x>B.x||C.x+C.w<=B.x||C.y>B.y||C.y+C.h<=B.y){this.disposeOfOverlays();if(this.get_vizToolTip().get_isTooltipShown()){this.get_vizToolTip().clearTooltipWithFakeHover()}}},onViewMouseOver:function(B){this.$2M=true;this.floatingZoomToolbarView.setVisibility(true);this.get_horizontalScrollingManager().adjustFloatingZoomToolbarIfNeeded(this.floatingZoomToolbarView);if(ss.isValue(this.mapsSearchView)&&this.get_paneTableViewModel().get_mapSearchEnabled()){this.get_paneTableViewModel().get_mapsSearchViewModel().setVisible(true)}this.checkForSuppressTooltipsAndOverlays(B.target)},$1R:function(B){var C=tab.DomUtil.getRectXY(this.dom.domRoot);return u.$2(C,B)},$1S:function(B){var C=tab.DomUtil.getRectXY(this.dom.view);return u.$2(C,B)},isPointOutsideOfRelevantVizRegions:function(B){if(!this.$1S(B)){return false}if(!u.$2(tab.DomUtil.getRectXY(this.dom.yLabel),B)){return false}if(!u.$2(tab.DomUtil.getRectXY(this.dom.xLabel),B)){return false}if(!u.$2(tab.DomUtil.getRectXY(this.dom.caption),B)){return false}if(!u.$2(tab.DomUtil.getRectXY(this.dom.leftAxis),B)){return false}if(!u.$2(tab.DomUtil.getRectXY(this.dom.rightAxis),B)){return false}if(!u.$2(tab.DomUtil.getRectXY(this.dom.bottomAxis),B)){return false}if(!u.$2(tab.DomUtil.getRectXY(this.dom.topAxis),B)){return false}return true},onMouseOut:function(B){if(this.$1R(B)){if(ss.isValue(this.sortWidget)){this.sortWidget.onMouseOutOfParentPaneTableView()}if(ss.isValue(this.drillWidget)){this.drillWidget.turnDrillWidgetsOff()}if(ss.isValue(this.axisContextMenuWidget)){this.axisContextMenuWidget.hideAxisContextMenuButton()}}if(this.isPointOutsideOfRelevantVizRegions(B)){this.get_vizToolTip().clearTooltipWithFakeHover();this.$1t()}},$1t:function(){if(!this.$2I){this.disposeOfOverlayImages()}},onMouseMove:function(B){var C=this.get_vizToolTip();if(this.$1S(B)){if(!C.get_isTooltipShown()){this.$1t()}else if(!C.shownTooltipIsStatic()){var D=tab.DomUtil.getRectXY(this.dom.view);C.hoverOverWhitespace({x:D.x,y:D.y},'viz')}}},onViewMouseOut:function(B){this.$2M=false;this.$2N=null;var C=this.get_vizToolTip();if(this.$1S(B)){this.floatingZoomToolbarView.setVisibility(false);if(ss.isValue(this.mapsSearchView)){this.get_paneTableViewModel().get_mapsSearchViewModel().setVisible(false)}if(C.get_isTooltipShown()&&!C.shownTooltipIsStatic()){var D=tab.DomUtil.getRectXY(this.dom.view);C.hoverOverWhitespace({x:D.x,y:D.y},'viz')}if(ss.isValue(this.$2E)){this.$2E.onHover({x:-1,y:-1},'viz')}}this.checkForSuppressTooltipsAndOverlays(B.relatedTarget);this.get_vizToolTip().onMouseLeaveTheView()},onViewMouseMove:function(B){this.$2M=true;this.checkForSuppressTooltipsAndOverlays(B.target)},setupSortIndicators:function(){this.sortWidget=new w(this,this.dom.domRoot.get(0));this.disposables.add$1(this.sortWidget)},setupAxisContextMenuIndicator:function(){this.axisContextMenuWidget=new h(this,this.dom.domRoot.get(0));this.disposables.add$1(this.axisContextMenuWidget)},setupDrilling:function(){this.drillWidget=new l(this,this.dom.domRoot.get(0));this.disposables.add$1(this.drillWidget)},setRegionGeometryHelper:function(B,C){if(ss.isValue(B)&&B.children().first().hasClass('tvScrollContainer')){tab.DomUtil.setAbsolutePositionBox(B.children().first(),{l:0,t:0,w:C.w,h:C.h})}},setGeometryForScrollbars:function(B,C){var D=B.get_verticalScrollBarWidth()>0;var E=B.get_horizontalScrollBarHeight()>0;this.$2l(B,D);this.$2k(B,C,E);var F=!!(E^D);this.$2Q=new tab.ScrollAdjuster(F);this.$2p(B,D,E)},$2l:function(B,C){var D=this.$2F.scrollY;if(C){var E=Math.max(tab.Metrics.get_minScrollHeight(),B.get_marksAreaHeight());var F={l:B.get_onScreenWidth(),t:B.get_verticalScrollBarTop(),w:B.get_verticalScrollBarWidth(),h:E};tab.DomUtil.setAbsolutePositionBox(D,F)}D.toggle(C)},$2k:function(B,C,D){var E=this.$2F.scrollX;if(D){var F={l:this.get_horizontalScrollingManager().get_scrollbarLeft(),t:C,w:this.get_horizontalScrollingManager().get_scrollbarWidth(),h:B.get_horizontalScrollBarHeight()};tab.DomUtil.setAbsolutePositionBox(E,F)}E.toggle(D)},$2p:function(B,C,D){this.$2q(B,C);this.$2o(B,D)},$2q:function(B,C){this.$2S.setYPos(this.$1G());var D=(C?{x:0,y:0,w:1,h:B.get_fullScrollableSceneHeight(),r:null}:null);this.$2S.reset(D,this.get_geometry().ts)},$2o:function(B,C){this.$2R.setXPos(this.$1F());var D=this.get_horizontalScrollingManager().get_scrollableArea();var E=(C?{x:0,y:0,w:D,h:1,r:null}:null);this.$2R.reset(E,this.get_geometry().ts)},maybeShowOverlayImages:function(B){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var C=null;if(ss.isValue(B)&&ss.isValue(B.overlayImage)){C=this.createOverlayImageFromDataUri(B.overlayImage)}else if(ss.isValue(B.overlayImageKey)){C=this.createOverlayImageFromFile(B.overlayImageKey)}this.showOverlayImages(C,B.overlayAnchors)}},setRegionResizersForWeb:function(){this.$1B();this.$2w();this.$1A()},$1B:function(){if(tsConfig.is_authoring&&ss.isValue(this.deferredHeaderResizerManager)){this.deferredHeaderResizerManager.done(function(B){B.handleResizerUpdate()})}},$1A:function(){if(this.$1r()){this.deferredCellResizerManager.done(ss.mkdel(this,function(B){B.scrollX(this.$1F())}));this.deferredCellResizerManager.done(ss.mkdel(this,function(B){B.scrollY(this.$1G())}));this.deferredCellResizerManager.done(function(B){B.handleCellResizerUpdate()})}},$1r:function(){if(tsConfig.is_authoring&&ss.isValue(this.deferredCellResizerManager)){return true}return false},$2w:function(){if(tsConfig.is_authoring&&ss.isValue(this.deferredAxisResizerManager)){this.deferredAxisResizerManager.done(function(B){B.setAxisResizers()})}},$2y:function(){this.$2D=null;this.$2T=null;if(ss.isValue(this.$2Q)){this.$2Q.forgetInputDevice()}},$2v:function(){return ss.isValue(this.$2D)},$2e:function(B){if(ss.isNullOrUndefined(B)||B.ctrlKey){return}var C=null;if(ss.isValue(B['originalEvent'])){C=B['originalEvent']}var D=this.$2Q.normalizeScrollWheelDeltas(C);this.get_paneTableViewModel().handleMouseWheelScroll();if(this.isOneVisiblePane()&&this.get_paneTableViewModel().get_isMap()&&this.allowPanZoomActions()&&!this.$1S(B)){if(this.$2v()||!this.$2C().isPanZoomInProgress()){this.$1z(this.$2C(),C,D.y)}B.preventDefault();return}var E=this.$1G();var F=this.$1F();this.$2F.scrollY.scrollTop(E+D.y);this.$2F.scrollX.scrollLeft(F+D.x);var G={x:this.$1F()-F,y:this.$1G()-E};if(this.$2B(G)){B.preventDefault()}this.get_vizToolTip().onScroll();this.disposeOfOverlays()},$2B:function(B){var C=this.get_paneTableViewModel().get_geometryBundle().get_regionGeometry();var D=C.get_horizontalScrollBarHeight()>0;var E=C.get_verticalScrollBarWidth()>0;if(E&&B.y!==0||D&&B.x!==0){return true}return false},$1x:function(){var B=this.get_paneTableViewModel().get_mapServerModel();var C=(B.get_hasPresModel()?B.get_zoom():1);if(B.get_hasPresModel()&&B.get_rasterMapSourceModel().get_hasPresModel()){return new k(C,this.$2Q.get_isFromTouchpad())}else{return new i(C,this.$2Q.get_isFromTouchpad())}},$1z:function(B,C,D){var E=null;var F=null;if(!this.$2v()){F=tab.PaneTableViewWebMetrics.createWheelZoomFullyCompleteContext();this.$2D=u.$1(B,C);this.$2T=this.$1x();E=this.resolvePane(this.$2D);B.anchorZoomStart(E)}else{E=this.resolvePane(this.$2D)}if(!this.$2T.update(D)){return}this.isAnimationOccurring=true;var G=this.$2T.currentZoomLevel();var H=this.$2T.currentZoomFactor();var I=!this.$2Q.get_isFromTouchpad();if(ss.isValue(this.$2E)){this.$2E.anchorZoom(this.$2D,H)}else{B.anchorZoom(E,this.$2D,G,H,I)}this.disposeOfOverlays();this.$1v();this.$2X=window.setTimeout(ss.mkdel(this,function(){B.anchorZoomEnd(E,this.$2D,G,H,F);this.$2y()}),500)},$2h:function(){this.get_vizToolTip().onScroll();this.$2u()},$2u:function(){var B=this.$1G();for(var C=0;C<tab.PaneTableViewRegionParts.scrollableYRegions.length;C++){var D=tab.PaneTableViewRegionParts.scrollableYRegions[C];this.getWebRegion(D).setYPos(B)}var E=(this.get_horizontalScrollingManager().get_isFullTableScrollingEnabled()?0:this.$1F());this.setScrollPosition({x:E,y:B});if(this.$1r()){this.deferredCellResizerManager.done(function(F){F.scrollYWithTimeout(B)})}this.get_paneTableViewModel().applyYScrollOffsetToChildren(B)},$2g:function(){this.get_vizToolTip().onScroll();this.$2r()},$2r:function(){var B=this.$1F();this.get_horizontalScrollingManager().lastTableScrollX=B;if(!this.get_horizontalScrollingManager().get_isFullTableScrollingEnabled()||this.get_paneTableViewModel().get_geometryBundle().get_regionGeometry().get_horizontalScrollBarHeight()===0){this.$2t(B);this.get_paneTableViewModel().applyXScrollOffsetToChildren(B)}else{this.$2s();this.get_paneTableViewModel().applyXScrollOffsetToChildren(0)}},$2t:function(B){for(var C=0;C<tab.PaneTableViewRegionParts.scrollableXRegions.length;C++){var D=tab.PaneTableViewRegionParts.scrollableXRegions[C];this.getWebRegion(D).setXPos(B)}this.setScrollPosition({x:B,y:this.$1G()});if(this.$1r()){this.deferredCellResizerManager.done(function(E){E.scrollXWithTimeout(B)})}},$2s:function(){for(var B=0;B<tab.PaneTableViewRegionParts.scrollableTableRegions.length;B++){var C=tab.PaneTableViewRegionParts.scrollableTableRegions[B];this.setScrollLeftValueForRegion(C,false);var D=this.getWebRegion(C);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(D)){continue}D.setXPos(this.get_horizontalScrollingManager().getScrollOffsetForRegion(D.get_regionPart()))}this.setScrollPosition({x:0,y:this.$1G()});if(this.$1r()){this.deferredCellResizerManager.done(function(E){E.scrollXWithTimeout(0)});this.$2U()}this.get_horizontalScrollingManager().adjustFloatingZoomToolbarIfNeeded(this.floatingZoomToolbarView)},setScrollPosition:function(B){if(this.get_scrollPosition().x===B.x&&this.get_scrollPosition().y===B.y){return}this.set_ScrollPosition(B);if(ss.isValue(this.$2E)){this.$2E.setScrollPosition(B)}},$2i:function(){if(this.get_horizontalScrollingManager().get_isFullTableScrollingEnabled()){this.$2t(0);this.get_paneTableViewModel().applyXScrollOffsetToChildren(0)}},$2b:function(B){if(this.$2C().get_isDragTracking()){return}if(!ss.referenceEquals(B.target,this.element.get(0))&&!ss.referenceEquals(B.target,this.dom.view.get(0))&&!ss.referenceEquals(B.target,this.dom.view.find('.tvimagesContainer').get(0))){return}if(B.which===46){this.get_paneTableViewModel().deleteSelectedAnnotations()}if(B.which===27){this.get_paneTableViewModel().clearAnnotationSelection()}var C;switch(B.which){case 68:{C='lasso-selection';break}case 83:{C='radial-selection';break}case 65:{C='rectangular-selection';break}case 90:{C='area-zoom';break}case 70:{C='pan-map';break}default:{return}}if(C===this.get_paneTableViewModel().get_vizRegionToolModeViewModel().get_currentPointerToolMode()){C=this.defaultPointerToolMode()}var D=this.floatingZoomToolbarView.setToolMode(C,true);if(!D){this.setPointerToolMode(C,true)}},checkForHoverOverlay:function(){this.$1s(true)},$1s:function(B){if(ss.isValue(this.lastVizHoverPoint)&&this.$2M){this.hitTestAndSetHoverOverMarkOrVisualPartHelper(B)}else{this.disposeOfOverlayImages()}},$26:function(B,C){var D=B.toLocalCoordsEvent(C,false);var E=this.getVisualListViewModelForRegion(B.get_regionPart());if(ss.isNullOrUndefined(D)||this.isUserDragging()||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(E)){return}var F=E.hitTestNodes(D);if(ss.isValue(F)){var G=tab.SelectionUtils.isCategoricalAndTupleAssociatedHeader(F.node);var H=tab.SelectionUtils.isQuantitative(F)&&tsConfig.is_authoring;F=((G||H)?F:null)}var I=tab.ModelUtils.vizImageRegionToVisualPartForSceneMarginsMap[B.get_regionPart()];this.updateHoveredCategoricalHeadersAndQuantitativeAxes(F,'hover',I)},$24:function(B){var C=this.getVisualListViewModelForRegion(B.get_regionPart());if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(C)){return}var D=tab.ModelUtils.vizImageRegionToVisualPartForSceneMarginsMap[B.get_regionPart()];this.updateHoveredCategoricalHeadersAndQuantitativeAxes(null,'press',D)},$2d:function(B){var C=tab.ModelUtils.vizImageRegionToVisualPartForSceneMarginsMap[B];var D=this.get_paneTableViewModel().get_vizRegionMap()[C];if(ss.isValue(D)){D.set_hoveredNodeOrAxis(null)}},isUserDragging:function(){return EventUtils.DragDropManager.get_isDragging()||x.isDragTrackingInAnyRegion},onHoverOverVisualPart:function(B,C){var D=B;D.setMouseOverMarkOrVisualPart(C)},$23:function(B,C){if(ss.isValue(this.mapsSearchView)){this.get_paneTableViewModel().get_mapsSearchViewModel().removeSuggestionList()}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&B.get_regionPart()==='viz'){var D=B.toLocalCoordsEvent(C,false);var E=this.get_paneTableViewModel().get_localRenderVizHitTester().onTapHitTest(D);if(E.get_shouldRenderOverlay()){this.wasPressOverlayJustUpdated=true;this.updateOverlayTarget(E.get_id(),'press',E.get_overlayTargetType())}}},$1D:function(){var B=this.get_paneTableViewModel().get_selectionsModel().get_allLegendSelections();for(var C=0;C<B.length;C++){var D=B[C];if(!D.isEmpty){return true}}return false},isSelectActionOnVizAllowed:function(B,C){return B==='simple'||C||!this.$1D()},onHitTestUpdated:function(B,C){this.$1y();if(this.getVizDragApproval(C)){var D=B.toLocalCoords(C.get_pageCoordinates(),false);this.$1w(D)}},$1w:function(B){var C=$('<div class="tabDragIcon" ></div>');if(BrowserSupport.BrowserSupport.IsIE()){C.css('cursor','alias')}else{C.css('cursor','-webkit-grab');C.css('cursor','-moz-grab');C.css('cursor','grab')}C.css('position','absolute');var D=20;C.css('top',B.y-D+'px');C.css('left',B.x-D+'px');C.css('height',D*2+'px');C.css('width',D*2+'px');var E=this.makeMouseSpec(this.$2C());this.get_vizRegionDomNode().append(C);if(!tsConfig.is_mobile){var F=function(G){G.stopPropagation()};this.get_vizRegionDomNode().on(this.createNamespacedEventName('touchstart'),F).on(this.createNamespacedEventName('touchend'),F)}this.$2H=new EventUtils.TableauEventHandler(C.get(0),E)},disposeOfOverlays:function(){this.$1y();tab.PaneTableView.prototype.disposeOfOverlays.call(this)},$1y:function(){this.$2H=tab.MiscUtil.dispose$1(this.$2H);this.get_vizRegionDomNode().children('.tabDragIcon').remove()},handleTapServerCall:function(B,C,D,E,F){var G=ss.mkdel(this,function(){if(this.get_paneTableViewModel().get_localRenderVizHitTester().onTapHitTest(E).get_hitObjectType()===2){return}if(!tsConfig.allow_select){this.makeHoverApi().unsuppressHover(B)}var J=tab.PaneTableView.guessTooltipTargetTypeFromRegion(B.get_regionPart());this.get_vizToolTip().singleSelectCoordinates(D,E,B.get_regionPart(),J,null)});var H=(ss.isNullOrUndefined(this.get_horizontalScrollingManager())?0:this.get_horizontalScrollingManager().getScrollOffsetForRegion('viz'));var I={x:E.x-H,y:E.y,w:0,h:0};if(ss.isValue(this.get_paneTableViewModel())&&ss.isValue(this.get_paneTableViewModel().get_zonePresModel())){tab.SelectionClientCommands.selectRectRegionAndDoUbertip$1(B.get_regionPart(),I,C,this.get_paneTableViewModel().get_visualId(),G,(F?'addorremove':'replace'),this.get_paneTableViewModel().get_zonePresModel().zoneId,null)}this.refreshScrollingAndAxisIcons();this.dom.domRoot.focus()},$2j:function(B,C){if(this.$2K){this.$2K=false;return}this.$2N={x:C.pageX,y:C.pageY};C.stopPropagation();this.get_vizToolTip().onTap();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.disposeOfOverlays()}if(C.originalEvent['button']>1){return}var D=B.toLocalCoordsEvent(C,false);var E=tab.PointUtil.add(D,B.getLocalOffsetPoint(false));if(this.allowPanZoomActions()&&B.get_toolModeViewModel().get_isZoomToolActive()){var F=B.toLocalCoordsEvent(C,false);var G=this.resolvePane(F);B.$m(C,G);return}var H=u.$4(B,C);this.get_paneTableViewModel().handleAnnotationSelection(D,H,C);var I=tab.DashboardView.isMultiSelectClick(C);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.handleLocalTap(B,H,E,D,I)}else{this.handleTapServerCall(B,H,E,D,I)}},getHitTestResults:function(B,C){return this.get_paneTableViewModel().get_localRenderVizHitTester().onTapHitTest(B.toLocalCoordsEvent(C,false))},onRightClickViz:function(B,C){if(ss.isNullOrUndefined(this.get_paneTableViewModel().get_vizContextMenuViewModel())||!tab.AnnotationSelectionChromeViewModel.canAnnotationInCurrentSheetType()||!tsConfig.is_authoring){return}if(ss.isValue(this.vizTooltip)){this.vizTooltip.clearTooltipWithFakeHover()}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_paneTableViewModel().handleRightClick(this.get_paneTableViewModel().get_localRenderVizHitTester().onTapHitTest(C),C)}else{B.handleRightClickHitTestServerWithCallback(C,ss.mkdel(this,function(D){this.get_paneTableViewModel().handleRightClick(D,C)}))}},$1Z:function(B,C){if(!this.isPointerToolLocked){this.resetPointerToolMode()}if(this.doAnnotationDoubleTap(B,C)){return}var D=((C.shiftKey&&!spiff.EventUtil.isCtrlKey(C))?0.5:2);this.doDoubleTap(B,C,D)},$22:function(B,C){if(C.get_IsMouseEvent()&&!C.get_IsLeftMouseEvent()){return}var D=B.toLocalCoordsEvent(C,false);var E=this.resolvePane(D);this.$1p();var F=this.get_paneTableViewModel().handleAnnotationDragStarted(B.toLocalCoordsEvent(C,false));this.$2x();if(F){return}if(!tsConfig.allow_filter){this.setPointerToolMode(B.get_toolModeViewModel().get_currentPointerToolMode(),false)}else{var G;switch(B.get_toolModeViewModel().get_currentPointerToolMode()){case'pan-map':case'area-zoom':{G=!C.shiftKey;this.setPointerToolMode(B.get_toolModeViewModel().get_currentPointerToolMode(),G);break}case'zoom-out':{G=!C.shiftKey;this.setPointerToolMode('area-zoom',G);break}}}this.$2n(B);if(ss.isValue(this.drillWidget)){this.drillWidget.set_enabled(false)}if(ss.isValue(this.sortWidget)){this.sortWidget.set_enabled(false)}if(ss.isValue(this.mapsSearchView)){this.get_paneTableViewModel().get_mapsSearchViewModel().enableUserInteraction(false)}this.floatingZoomToolbarView.enableUserInteraction(false);B.$l(C,E)},$20:function(B){if(EventUtils.DragDropManager.get_isDragging()){return}var C=this.$2C();C.$k(B);if(this.get_paneTableViewModel().get_vizRegionToolModeViewModel().get_isSelectingToolActive()){this.checkForDragOverlays();this.$2I=true}this.get_paneTableViewModel().handleDrag(this.get_vizRegion().toLocalCoordsEvent(B,false))},$21:function(B){if(EventUtils.DragDropManager.get_isDragging()){return}this.$2K=B.type==='mousedown';this.get_vizToolTip().onDragEnd(null);this.disposeOfOverlays();this.$2I=false;this.$2C().$j(B,this.get_vizToolTip());this.$2m();if(!this.isPointerToolLocked){this.resetPointerToolMode()}if(ss.isValue(this.drillWidget)){this.drillWidget.set_enabled(true)}if(ss.isValue(this.sortWidget)){this.sortWidget.set_enabled(true)}if(ss.isValue(this.mapsSearchView)){this.get_paneTableViewModel().get_mapsSearchViewModel().enableUserInteraction(true)}this.get_paneTableViewModel().handleDragEnded(this.get_vizRegion().toLocalCoordsEvent(B,false));this.floatingZoomToolbarView.enableUserInteraction(true)},$2f:function(B,C){var D=this.resolvePane(B.toLocalCoordsEvent(C,false));this.$1p();if(this.get_paneTableViewModel().handleAnnotationDragStarted(B.toLocalCoordsEvent(C,false))){return}this.$2x();if(!tsConfig.allow_filter){this.setPointerToolMode(B.get_toolModeViewModel().get_currentPointerToolMode(),false)}else{switch(B.get_toolModeViewModel().get_currentPointerToolMode()){case'pan-map':{var E=!C.shiftKey;this.setPointerToolMode(B.get_toolModeViewModel().get_currentPointerToolMode(),E);break}case'zoom-out':case'area-zoom':{break}}}B.$l(C,D);this.$2n(B)},$1Y:function(){if(!this.isPointerToolLocked){this.resetPointerToolMode()}},$2n:function(B){this.lastVizHoverPoint=null;this.get_vizToolTip().onPanOrDragStart(null);this.$1y();if(!B.get_toolModeViewModel().get_isSelectingToolActive()){this.disposeOfOverlays()}},$2m:function(){this.$2G=tab.MiscUtil.dispose$1(this.$2G)},$1p:function(){tab.WindowHelper.clearSelection();tab.MiscUtil.dispose$1(this.$2G);this.$2G=new spiff.Glass(null,false);this.$2G.add_press(ss.mkdel(this,function(B){this.$21(B)}));this.$2G.show()},$2x:function(){var B=this.$2C();B.setCursor(B.determineDragSelectionCursor(),this.$2G.element)},$1v:function(){this.$2X=tab.MiscUtil.clearTimeout(this.$2X)},allowPanZoomActions:function(){return this.$1q('other')},allowPanZoomActionsOnDoubleTap:function(){return this.$1q('doubleTap')},$1q:function(B){if(!tsConfig.allow_filter){return false}if(this.get_paneTableViewModel().get_visualModel().get_vizNavigationSetting()==='fixed'){return false}if(ss.isNullOrUndefined(this.get_geometry())){return false}var C=this.get_geometry().pi;switch(B){case'doubleTap':{var D=C.hasXQAxis&&C.hasYQAxis;var E=this.floatingZoomToolbarView.get_toolBarIsOffOrHome();if(!this.get_paneTableViewModel().get_isMap()&&D&&E){return false}return D}case'other':default:{return C.hasXQAxis||C.hasYQAxis}}},$1G:function(){return tab.DoubleUtil.roundToInt(this.$2F.scrollY.scrollTop())},$1F:function(){return this.$2F.scrollX.scrollLeft()},$1E:function(){if(ss.isNullOrUndefined(this.$2N)){return null}return{x:this.$2N.x-this.get_tableViewPosition().x,y:this.$2N.y-this.get_tableViewPosition().y}},HandleCapturedMouseMove:function(B){this.$2N={x:B.pageX,y:B.pageY}},HandleCapturedMouseComplete:function(B){}},{$0:function(B,C){var D=2;var E={x:B.x,y:B.y};if(C.w>D*2){E=tab.RectXYUtil.horizontalShiftCoordsTowardsCenter(E,C,D)}else{E={x:C.x+ss.idiv(C.w,2),y:E.y}}if(C.h>D*2){E=tab.RectXYUtil.verticalShiftCoordsTowardsCenter(E,C,D)}else{E={x:E.x,y:C.y+ss.idiv(C.h,2)}}return E},$2:function(B,C){return B.x>C.pageX||B.x+B.w<=C.pageX||B.y>C.pageY||B.y+B.h<=C.pageY},$1:function(B,C){var D=ss.round(C['clientX']);var E=ss.round(C['clientY']);var F={x:D,y:E};var G=B.toLocalCoords(F,false);return G},$4:function(B,C){if(B.get_regionPart()==='viz'){return tab.SelectActionResolver.fromNormalizedEvent(C,1)}return tab.SelectActionResolver.fromNormalizedEvent(C,2)},$3:function(){}});var v=global.tab.SortDrillBase=ss.mkType(a,'tab.SortDrillBase',function(B,C,D){this.$4=0;this.$6=null;this.$5=null;this.$2$2=null;spiff.Widget.call(this,B);this.$4=v.$1.length;v.$1.push(this);this.$6=C;this.set_parentViewer(D)},{get_enabled:function(){return ss.isValue(this.$5)},set_enabled:function(B){if(this.get_widgetFeatureEnabled()){if(B){if(ss.isNullOrUndefined(this.$5)){this.$5=spiff.EventUtil.bindWithDispose(this.$6,'mousemove',ss.mkdel(this,function(C){this.onMouseMove(C)}))}}else{this.$5=tab.MiscUtil.dispose$1(this.$5)}}},get_widgetFeatureEnabled:null,get_parentViewer:function(){return this.$2$2},set_parentViewer:function(B){this.$2$2=B},get_scrollAmountX:function(){var B=this.get_parentViewer().get_domWeb().scrollX.get(0);return(ss.isValue(B)?this.get_parentViewer().get_horizontalScrollingManager().lastTableScrollX:0)},get_scrollAmountY:function(){var B=this.get_parentViewer().get_domWeb().scrollY.get(0);return(ss.isValue(B)?B.scrollTop:0)},get_scrollAmount:function(){return{x:this.get_scrollAmountX(),y:this.get_scrollAmountY()}},dispose:function(){ss.remove(v.$1,this);this.element.remove();this.$5=tab.MiscUtil.dispose$1(this.$5);spiff.Widget.prototype.dispose.call(this)},isOtherActiveInRect:function(B){for(var C=0;C<v.$1.length;C++){if(C!==this.$4){var D=v.$1[C];if(D.isActiveInRect(B)){return true}}}return false},isActiveInRect:function(B){return false},onMouseMove:null,showNodeAt:function(B,C,D){$(B).css('top',C+'px');$(B).css('left',D+'px');$(B).css('display','')},hideNode:function(B){$(B).css('display','none')},regionHitTest:function(B,C){var D=B;if(ss.isNullOrUndefined(D)){return null}var E=new ss.ObjectEnumerator(D);try{while(E.moveNext()){var F=E.current();if(ss.isValue(F.value)&&tab.RectUtil.inRect(F.value,C)){return F.key}}}finally{E.dispose()}return null},getJQueryMousePositionFromPaneTableViewCoordinates:function(B,C){return{left:B+this.get_parentViewer().get_tableViewPosition().x,top:C+this.get_parentViewer().get_tableViewPosition().y}},repositionAndShowElement:function(B,C){B.style.width=C.w+'px';B.style.height=C.h+'px';this.showNodeAt(B,C.y,C.x)},computeTvButtonRectFromUnrolledRegionCoordinates:function(B,C,D,E){B.y-=E.y-D.y;B.x-=E.x-D.x;var F={x:B.x+2,y:B.y+2};var G={x:B.x+B.w-2,y:B.y+B.h-2};if(this.isPointInRect(C,F)&&this.isPointInRect(C,G)){return B}return null},isPointInRect:function(B,C){return tab.RectUtil.inRect(B,C)},isPointInRectXY:function(B,C){return tab.RectXYUtil.inRect(B,C)}});var w=global.tab.Sorting=ss.mkType(a,'tab.Sorting',function(B,C){this.$E=null;this.$H=null;this.$B=null;this.$D=null;this.$F=null;this.$C=null;this.$G=null;this.$I=null;v.call(this,$(document.createElement('div')),$(C),B);this.element.addClass('tab-tiledViewerSort');this.$H=this.$b();this.element.append(this.$H.element);this.$D=this.$H.element;this.$E=this.$a();this.element.append(this.$E.element);this.$B=this.$E.element;$(C).find('.'+'tab-tiledViewerSort').remove();C.appendChild(this.element.get(0));this.$7();this.$u();this.$B.css('display','none')},{get_widgetFeatureEnabled:function(){return ss.isValue(this.$G)&&tsConfig.allow_filter},dispose:function(){this.set_parentViewer(null);this.$E.element.remove();this.$E.dispose();v.prototype.dispose.call(this)},onUpdate:function(){this.$G=this.get_parentViewer().get_sortIndicators();if(!ss.staticEquals(this.$I,null)){this.$I();this.$I=null}this.$j(this.get_parentViewer().get_capturedPaneTableViewMousePosition())},onMouseOutOfParentPaneTableView:function(){this.$i()},$i:function(){if(!this.$m()){return}var B=new RegExp('(sortInd\\w+)?','g');this.$B.get(0).className=this.$B.get(0).className.replace(B,'');this.$B.css('display','none');this.$F=null;this.$D.css('display','none')},onMouseMove:function(B){this.$k(B)},isActiveInRect:function(B){if(ss.isValue(this.$F)&&this.$F.$1&&tab.RectXYUtil.intersectsWith(B,this.$C)){return true}return false},$b:function(){var B=spiff.LabelButton.newNativeButton();B.element.addClass('sortDropdownSolid');B.element.css('border','0');B.element.css('position','absolute');B.element.css('padding','0px');B.element.css('background-color','transparent');B.element.append("<span class='sortIndicatorDropdownArrow sortDropdownSolid'></span>");B.element.click(ss.mkdel(this,this.$q));B.element.hide();return B},$a:function(){var B=spiff.LabelButton.newNativeButton();B.element.addClass('tab-tvSortIndicator');B.element.css('border','0');B.element.css('position','absolute');B.element.css('padding','0px');return B},$u:function(){this.$G=this.get_parentViewer().get_sortIndicators();this.set_enabled(true)},$7:function(){var B=new EventUtils.EventHandleSpec;B.tap=ss.mkdel(this,function(D){this.$p(D)});B.hover=ss.mkdel(this,function(D){this.$o(D)});var C=B;this.disposables.add$1(new EventUtils.TableauEventHandler(this.$B.get(0),C));this.$B.mouseout(ss.mkdel(this,this.$n))},$k:function(B){if(B.button>0){return}var C=tab.PaneTableView.getPaneTableViewMousePositionFromCoordinates(B.pageX,B.pageY,this.get_parentViewer());this.$j(C)},$j:function(B){if(ss.isNullOrUndefined(B)){return}if(ss.isNullOrUndefined(this.$G)||!tsConfig.allow_filter){return}var C=this.get_parentViewer().getRegionForPoint(B);if(ss.isValue(C)){if(this.get_parentViewer().get_horizontalScrollingManager().get_isFullTableScrollingEnabled()){B.x+=this.get_scrollAmountX();C.position.l+=this.get_scrollAmountX()}var D=this.$f(this.get_parentViewer(),C.imageRegion);this.$s(D,C.position,B)}else{this.$i()}},$z:function(B,C,D){var E;var F=B.sortIndicatorItems[C];var G=this.$F;if(!B.isHorizontal){E=((F.sortIndicatorState.sortOrder==='asc')?'Left':'Right')}else{E=((F.sortIndicatorState.sortOrder==='asc')?'Up':'Down')}var H=F.sortIndicatorState.isSorted;var I=(H?'Solid':'Hollow');this.$F=new f(B,F,C,E,I,D);var J=F.tooltipText;if(H&&!ss.isNullOrEmptyString(J)){this.$E.element.attr('title',J)}else{this.$E.element.removeAttr('title')}if(ss.isNullOrUndefined(G)||!ss.referenceEquals(G.$0,E)||!ss.referenceEquals(G.$5,I)||G.$1!==D){this.$A()}},$A:function(){if(ss.isNullOrUndefined(this.$F)){return}this.$8('sortInd',this.$B.get(0));this.$t()},$t:function(){this.$B.addClass(this.$c())},$c:function(){var B='';var C=this.$F.$2;if(ss.isValue(C)){if(C.sortIndicatorState.sortIndicatorType==='alphabetic'){B='Alphabetic'}}var D='sortInd'+B+this.$F.$5+this.$F.$0+(this.$F.$1?'Active':'');return D},$d:function(B){return((B==='alphabetic')?'asc':'desc')},$x:function(){if(!this.$m()){return}var B=this.$F.$2;var C=this.$F.$4;var D=this.$d(B.sortIndicatorState.sortIndicatorType);if(!B.sortIndicatorState.isSorted){B.sortIndicatorState.isSorted=true;B.sortIndicatorState.sortOrder=D}else if(B.sortIndicatorState.sortOrder===D){B.sortIndicatorState.sortOrder=((D==='asc')?'desc':'asc')}else{B.sortIndicatorState.sortOrder=D;B.sortIndicatorState.isSorted=false}this.$z(C,this.$F.$3,this.$F.$1)},$o:function(B){if(this.isOtherActiveInRect(this.$C)){return}if(this.$m()&&!this.$F.$1){this.$F.$1=true;this.$A()}B.stopPropagation()},$n:function(B){if(!this.$m()){return}var C=$(this.$B.get(0)).offset();var D=tab.DoubleUtil.roundToInt($(this.$B.get(0)).outerHeight());var E=tab.DoubleUtil.roundToInt($(this.$B.get(0)).outerWidth());if(C.left>B.pageX||C.left+E<=B.pageX||C.top>B.pageY||C.top+D<=B.pageY){this.$F.$1=false;this.$A();B.stopPropagation()}},$p:function(B){spiff.EventUtil.stopEvent$1(B);this.$x();this.$B.addClass('clicked');this.$I=ss.mkdel(this,function(){this.$B.removeClass('clicked')});var C=this.$e(B);var D=tab.PaneTableView.getScrollAmount(this.get_parentViewer(),this.get_scrollAmount());tab.SortServerCommands.sortFromIndicatorAndLogTelemetry(C,D,this.get_parentViewer().get_visualId(),this.$h(),this.$g())},$g:function(){if(ss.isNullOrUndefined(this.$F)){return null}return this.$F.$4},$h:function(){if(ss.isNullOrUndefined(this.$F)||ss.isNullOrUndefined(this.$F.$2)||ss.isNullOrUndefined(this.$F.$2.sortIndicatorState)){return null}return this.$F.$2.sortIndicatorState.sortIndicatorType},$q:function(B){spiff.EventUtil.stopEvent$2(B);this.$v(this.$D)},$e:function(B){var C=tab.PaneTableView.getPaneTableViewMousePositionFromCoordinates(B.pageX,B.pageY,this.get_parentViewer());var D=this.get_parentViewer().getRegionForPoint(C);if(ss.isNullOrUndefined(D)){return null}var E=this.$f(this.get_parentViewer(),D.imageRegion);var F=E.regionRect;C.y+=F.y-D.position.t;C.x+=F.x-D.position.l;return C},$v:function(B){var C=this.$F.$2.sortIndicatorMenu;if(ss.isNullOrUndefined(C)){return}var D=ss.mkdel(this,function(){this.get_parentViewer().tryUpdateSortDrillAndContextMenuWidgets()});var E=tab.WidgetUtil.menuViewModelFromCommands(C,ss.mkdel(this,this.$r),D,null,ss.mkdel(this,this.$9));if(ss.isValue(E)){E.show(new spiff.ShowMenuOptions(B,false))}},$9:function(B){return ss.mkdel(this,function(){tab.SortServerCommands.sortFromCommandItem(B,this.get_parentViewer().get_visualId())})},$r:function(B){tab.WidgetUtil.commandMenuItemClicked(B)},$w:function(B,C,D,E){if(this.get_parentViewer().get_horizontalScrollingManager().get_isFullTableScrollingEnabled()){D.x-=this.get_scrollAmountX()}if(this.isOtherActiveInRect(D)){return}var F=null;var G=B.sortIndicatorItems[C];if(ss.isValue(G.sortIndicatorMenu)){var H=G.sortIndicatorMenu['commandItems'.toString()];if(H.length>0){F=G.menuButtonRect}}this.$C=D;this.$z(B,C,E);this.repositionAndShowElement(this.$B.get(0),D);this.$y(F)},$l:function(B){if(!tab.FeatureFlags.isEnabled('RuntimeVizHeaderRefactor')){return false}switch(B){case'bottomaxis':case'leftaxis':case'rightaxis':case'topaxis':case'xheader':case'yheader':{return true}default:{return false}}},$y:function(B){if(ss.isValue(B)){var C=tab.RecordCast.rectPresModelAsRectXY(B);if(this.get_parentViewer().get_horizontalScrollingManager().get_isFullTableScrollingEnabled()){C.x-=this.get_scrollAmountX()}this.repositionAndShowElement(this.$D.get(0),C)}else if(ss.isValue(this.$D)){this.$D.css('display','none')}},$m:function(){return ss.isValue(this.$F)},$s:function(B,C,D){if(ss.isNullOrUndefined(B)){this.$i();return}if(this.$l(B.sortRegion)){this.$i();return}if(ss.isValue(this.$F)&&ss.isValue(this.$F.$4)&&B.sortRegion!==this.$F.$4.sortRegion){this.$i()}var E={x:D.x,y:D.y};var F=B.regionRect;E.y+=F.y-C.t;E.x+=F.x-C.l;var G=this.get_scrollAmount();if(B.canScrollY){E.y+=G.y}if(!this.get_parentViewer().get_horizontalScrollingManager().get_isFullTableScrollingEnabled()&&B.canScrollX){E.x+=G.x}var H=B.sortIndicatorItems;for(var I=0,J=H.length;I<J;I++){if(ss.isNullOrUndefined(H[I].itemRect)){continue}if(ss.isNullOrUndefined(H[I].buttonRect)){continue}var K=tab.RecordCast.rectPresModelAsRectXY(H[I].itemRect);if(this.isPointInRectXY(K,E)){var L=tab.RecordCast.rectPresModelAsRectXY(H[I].buttonRect);var M=tab.RectXYUtil.clone(L);M=this.computeTvButtonRectFromUnrolledRegionCoordinates(M,C,D,E);if(ss.isValue(M)){this.$w(B,I,M,this.isPointInRectXY(M,E));return}}}this.$i()},$f:function(B,C){var D,E;var F=C.toString();var G=B.get_sortIndicators();var H=G.sortIndicatorRegions;for(D=0,E=H.length;D<E;D++){if(ss.referenceEquals(H[D].sortRegion.toString(),F)){return H[D]}}return null},$8:function(B,C){var D=ss.formatString('({0}\\w+)?',B);var E=new RegExp(D,'g');var F=C.className;var G=F.replace(E,'').trim();C.className=G}});var x=global.tab.TiledViewerRegionWeb=ss.mkType(a,'tab.TiledViewerRegionWeb',function(B,C,D,E,F,G,H,I,J,K){this.$Y=null;this.$T=null;this.$S=null;this.$W=null;this.$X=null;this.$R=null;this.$U=false;this.$V=false;this.$2$1=null;tab.TiledViewerRegion.call(this,B,C,D,H,I,J,K);this.$T=E;if(this.get_regionPart()==='viz'){x.$1();tab.ModifierKeyState.add_modifierKeysChanged(ss.mkdel(this,this.$v));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.ModifierKeyState.remove_modifierKeysChanged(ss.mkdel(this,this.$v))})))}this.scroller=new tab.WebScroller(F,G);this.set_desktopModeHandler(null)},{$Q:function(){return this.get_toolModeViewModel().get_isAppendMode()},get_isDragTracking:function(){return this.$U},get_desktopModeHandler:function(){return this.$2$1},set_desktopModeHandler:function(B){this.$2$1=B},$K:function(B){this.$U=B;x.isDragTrackingInAnyRegion=B},destroy:function(){this.$T=null;tab.TiledViewerRegion.prototype.destroy.call(this)},setXPos:function(B){if(this.regionContent.get_hasContent()){this.regionContent.setXPos(B);this.backgroundMap.setScrollX(B)}},setYPos:function(B){if(this.regionContent.get_hasContent()){this.regionContent.setYPos(B);this.backgroundMap.setScrollY(B)}},resetVisualState:function(){tab.TiledViewerRegion.prototype.resetVisualState.call(this);if(this.isScrolling){return}this.$T.unsuppressHover(this)},setMouseOverMarkOrVisualPart:function(B){if(this.$V!==B){this.$V=B;this.$J()}},$l:function(B,C){this.$S(B,C)},$k:function(B){if(this.get_isDragTracking()){this.$W(B)}},$j:function(B,C){this.get_toolModeViewModel().updateDefaultToolMode(this.allowPanZoomActions());if(this.get_isDragTracking()){this.$X(B,C)}},$B:function(B,C){this.$M(this.get_shapeSelector());this.$L(B)},$A:function(B,C){if(!tsConfig.allow_select){this.$T.unsuppressHover(this);return}var D=this.get_shapeSelector().get_tooltipAnchor();var E=this.get_regionPart();var F=tab.PointUtil.add(D,this.getLocalOffsetPoint(false));var G=this.get_shapeSelector().get_hitTestingBox();var H=ss.mkdel(this,function(){C.multiSelectComplete(F,G,E);if(ss.isValue(this.$T)){this.$T.unsuppressHover(this)}});var I=tab.SelectActionResolver.fromNormalizedEvent(B,0);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var J=this.paneTableViewModel.get_localRenderVizHitTester().hitTestMarksAgainstSelectionShape(this.get_shapeSelector());var K=tab.LocalRenderVizSelectionDispatcher.doMultiSelect(J,I,H,this.paneTableViewModel.get_visualId());if(!K||!tsConfig.allow_tooltip){this.$T.unsuppressHover(this)}}else{this.get_shapeSelector().sendSelectionCommand$1(E,I,this.get_visualId(),H,(tab.DashboardView.isMultiSelectClick(B)?'addorremove':'replace'),this.paneTableViewModel.get_zonePresModel().zoneId)}},$F:function(B,C){if(this.isPanZoomInProgress()){return}this.$M(this.domPanZoomRect);this.$L(B);this.domPanZoomRect.set_pi(C);this.domPanZoomRect.set_shouldConstrainShapeToPane(true)},$E:function(B,C){var D=this.domPanZoomRect.get_pi();this.domPanZoomRect.set_shouldConstrainShapeToPane(false);var E=tab.DomUtil.getRectXY(this.domPanZoomRect.get_dom());var F=this.toLocalCoordsRect(E,false);if(!this.get_toolModeViewModel().get_isZoomToolActive()){}if(this.get_toolModeViewModel().get_currentPointerToolMode()==='zoom-out'&&this.allowMapZoomAtCurrentLevel(0.5)){this.$n(D,0.5)}else if(F.w<4&&F.h<4){this.$m(B,D)}else{this.$P(D,F,2)}},$D:function(B,C){this.$C(B,C,this.domPanZoomRect)},$w:function(B,C){this.$C(B,C,this.get_shapeSelector())},$C:function(B,C,D){if(!this.get_isDragTracking()){return}this.$N(B,D);this.$T.suppressHover(this);this.$R(B,C)},$x:function(B,C){if(this.isPanZoomInProgress()){return}this.$L(B);this.domPanZoomRect.set_pi(C);this.$H(C)},$y:function(B){spiff.EventUtil.stopEvent$1(B);var C=B.get_GestureInfo();if(this.mapIsBrowserRendered()){this.animatePanMap(this.domPanZoomRect.get_pi(),{x:C.deltaX,y:C.deltaY});return}var D=this.$q(C);if(ss.isValue(this.get_desktopModeHandler())){var E=this.toLocalCoords(this.domPanZoomRect.get_dragStart(),false);this.get_desktopModeHandler().onPan(E,D)}else{var F=2-1;D.x+=F;D.y+=F;this.animatePanImage(this.domPanZoomRect.get_pi(),D)}},$z:function(B,C){if(!this.get_isDragTracking()){return}spiff.EventUtil.stopEvent$1(B);this.$N(B,null);var D=this.toLocalCoords(this.domPanZoomRect.get_dragStart(),false);var E=this.$q(B.get_GestureInfo());this.$G(D,E)},$q:function(B){var C=this.domPanZoomRect.get_pi();var D={x:B.pageX-this.domPanZoomRect.get_dragStart().x,y:B.pageY-this.domPanZoomRect.get_dragStart().y};if(ss.isNullOrUndefined(C)||!C.canDragH){D.x=0}if(ss.isNullOrUndefined(C)||!C.canDragV){D.y=0}return D},$i:function(){},$O:function(B){if(ss.isValue(B)){B.hide()}},$M:function(B){if(ss.isValue(B)){B.show()}},updateForToolMode:function(B){tab.TiledViewerRegion.prototype.updateForToolMode.call(this,B);this.$J();switch(B){case'no-tools':{this.$W=ss.mkdel(this,this.$j);this.$X=ss.mkdel(this,this.$j);this.$S=ss.mkdel(this,this.$j);this.$R=ss.mkdel(this,this.$j);break}case'rectangular-selection':case'lasso-selection':case'radial-selection':{this.$W=ss.mkdel(this,this.onMarqueeMouseMove);this.$X=ss.mkdel(this,this.$w);this.$S=ss.mkdel(this,this.$B);this.$R=ss.mkdel(this,this.$A);break}case'pan-map':{this.$W=ss.mkdel(this,this.$y);this.$X=ss.mkdel(this,this.$z);this.$S=ss.mkdel(this,this.$x);this.$R=ss.mkdel(this,this.$j);break}case'area-zoom':case'zoom-out':{this.$W=ss.mkdel(this,this.onZoomBoxMouseMove);this.$X=ss.mkdel(this,this.$D);this.$S=ss.mkdel(this,this.$F);this.$R=ss.mkdel(this,this.$E);break}}},$s:function(B){return!B.shiftKey&&spiff.EventUtil.isCtrlKey(B)&&this.get_toolModeViewModel().get_isSelectingToolActive()},$t:function(B){return!B.altKey&&B.shiftKey&&spiff.EventUtil.isCtrlKey(B)},$u:function(B){return B.altKey&&(this.get_toolModeViewModel().get_isZoomToolActive()||B.shiftKey&&spiff.EventUtil.isCtrlKey(B))},$v:function(B){var C=B;if(C.altKey&&!C.ctrlKey&&!BrowserSupport.BrowserSupport.IsMac()){C.preventDefault()}if(!tsConfig.allow_filter){return}var D=this.get_toolModeViewModel().currentModifierKeyToolMode;var E=this.get_toolModeViewModel().get_isAppendMode();this.get_toolModeViewModel().set_isAppendMode(this.$s(C));if(!this.get_isDragTracking()){if(this.allowPanZoomActions()){if(x.$0(C)){this.get_toolModeViewModel().currentModifierKeyToolMode='pan-map'}else if(this.$t(C)){this.get_toolModeViewModel().currentModifierKeyToolMode='area-zoom'}else if(this.$u(C)){this.get_toolModeViewModel().currentModifierKeyToolMode='zoom-out'}else{this.get_toolModeViewModel().currentModifierKeyToolMode='no-tools'}}else{this.get_toolModeViewModel().currentModifierKeyToolMode='no-tools'}}if(D!==this.get_toolModeViewModel().currentModifierKeyToolMode||E!==this.get_toolModeViewModel().get_isAppendMode()){this.$J()}},startDragAutoScrolling:function(B,C,D,E){this.clearDragAutoScrollInterval();if(!(B!==0&&this.scroller.get_canScrollX()||C!==0&&this.scroller.get_canScrollY())){return}if(!ss.isValue(this.$Y)){this.$r(B,C,D,E)}var F=((D==='fast')?15:200);this.$Y=window.setInterval(ss.mkdel(this,function(){this.$r(B,C,D,E)}),F);this.isScrolling=true},clearDragAutoScrollInterval:function(){if(ss.isValue(this.$Y)){window.clearInterval(ss.unbox(this.$Y))}this.$Y=null;this.isScrolling=false},$r:function(B,C,D,E){var F=0;var G=0;if(B!==0){F=this.$o(0,B);this.scroller.scrollX(F)}if(C!==0){G=this.$o(1,C);this.scroller.scrollY(G)}var H=this.getLocalOffset(true);if(this.paneTableViewModel.get_horizontalScrollingManager().get_isFullTableScrollingEnabled()){H.x-=F;H.w+=F}E.adjustMarqueeForAutoScroll(F,G,H);E.get_dom().css('display','');if(F===0&&B!==0||G===0&&C!==0){var I=((F===0)?0:B);var J=((G===0)?0:C);this.startDragAutoScrolling(I,J,D,E)}},$o:function(B,C){var D=((B===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var E=((B===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var F=C*15;var G=Math.max(0,Math.min(D+F,E));return G-D},determineScrollDirection:function(B,C){var D=((B===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var E=((B===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var F=((C<0)?-1:((C>0)?1:0));if(F===-1&&D===0||F===1&&D>=E){F=0}return F},suppressTooltips:function(){this.$T.suppressHover(this)},setCursor:function(B,C){C.css('cursor',B)},$I:function(B){this.setCursor(B,this.connectedDomNode)},$p:function(){var B=this.get_toolModeViewModel().get_currentPointerToolMode();if(B==='no-tools'){B=this.get_toolModeViewModel().defaultPointerToolMode}return B},$J:function(){var B=this.$p();switch(B){case'area-zoom':{this.$I(x.$6['zoomIn']);break}case'zoom-out':{this.$I(x.$6['zoomOut']);break}default:{this.$I((this.$V?x.$6['select']:x.$6['defaultKey']));break}}},determineDragSelectionCursor:function(){if(this.paneTableViewModel.isAnnotationDragging()){return x.$6['defaultKey']}var B=this.$p();switch(B){case'area-zoom':{return x.$6['zoomIn']}case'zoom-out':{return x.$6['zoomOut']}case'lasso-selection':{return(this.$Q()?x.$6['lassoExtended']:x.$6['lassoSelect'])}case'radial-selection':{return(this.$Q()?x.$6['radialExtended']:x.$6['radialSelect'])}case'rectangular-selection':{return(this.$Q()?x.$6['rectExtended']:x.$6['rectSelect'])}case'pan-map':{return x.$6['panDrag']}default:{return x.$6['defaultKey']}}},$L:function(B){if(B.originalEvent['button']>1){return}if(this.get_isDragTracking()){return}this.$K(true);B.preventDefault();this.$T.suppressHover(this);var C=B.get_GestureInfo();this.domPanZoomRect.dragStarted(C.startX,C.startY,this.getLocalOffset(true));this.get_shapeSelector().dragStarted(C.startX,C.startY,this.getLocalOffset(true));this.$J()},$N:function(B,C){if(!this.get_isDragTracking()){return}this.$K(false);this.$O(C);this.clearDragAutoScrollInterval();this.$J()},$m:function(B,C){var D=this.toLocalCoordsEvent(B,false);this.paneTableViewModel.hideAnnotations();if(!this.get_toolModeViewModel().get_isZoomToolActive()){}var E=((this.get_toolModeViewModel().get_currentPointerToolMode()==='zoom-out')?0.5:2);this.zoomPoint(C,D,E,false,null)},$n:function(B,C){this.zoomPoint(B,null,C,false,null)},$P:function(B,C,D){if(this.isPanZoomInProgress()){return}this.setPanZoomAnimatingState();var E=tab.TiledViewerRegionWebMetrics.createZoomRectLocalWorkCompleteContext();var F=tab.TiledViewerRegionWebMetrics.createZoomRectFullyCompleteContext();var G=tab.TiledViewerRegion.getCenterPoint(B);var H=1/D;this.zoomAnimationProtectionGlass=new spiff.Glass(null,false);this.zoomAnimationProtectionGlass.show();var I=ss.mkdel(this,function(){E.dispose();if(this.paneTableViewModel.get_visualModel().get_runtimeReady()){this.endPanZoomAnimation()}});var J=ss.mkdel(this,function(L){this.zoomAnimationProtectionGlass=tab.MiscUtil.dispose$1(this.zoomAnimationProtectionGlass);if(L==='failure'){this.reset()}if(L==='success'){F.dispose()}this.clearPanZoomState()});var K=ss.mkdel(this,function(){this.setPanZoomWaitingOnServerState();tab.PanZoomCommands.zoomIn(C,G,H,I,J,this.get_sheetid())});this.beginPanZoomAnimation(B);this.suppressTooltips();if(this.mapIsBrowserRendered()){this.animateZoomRectMap(B,C,K)}else{if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tab.ViewUrl.canUseTileCacheUrl(this.paneTableViewModel.get_tileCacheUrl())){this.animateZoomRectImage(B,G,C)}K()}},$H:function(B){if(this.isPanZoomInProgress()){return}this.setPanZoomAnimatingState();this.beginPanZoomAnimation(B);this.suppressTooltips();if(!this.mapIsBrowserRendered()){this.get_toolModeViewModel().deferModeChanges()}},$G:function(B,C){this.setPanZoomWaitingOnServerState();var D=tab.TiledViewerRegionWebMetrics.createPanMapMouseUpFullyCompleteContext();var E=tab.TiledViewerRegionWebMetrics.createPanMapMouseUpLocalWorkCompleteContext();if(this.mapIsBrowserRendered()){this.backgroundMap.updateLocalCenter(C.x,C.y)}var F=ss.mkdel(this,function(){if(this.paneTableViewModel.get_visualModel().get_runtimeReady()){this.endPanZoomAnimation()}E.dispose()});var G=ss.mkdel(this,function(H){if(H==='failure'){this.reset()}if(H==='success'){D.dispose()}this.clearPanZoomState()});tab.PanZoomCommands.pan(this.get_regionPart(),B,C,F,G,this.get_sheetid())},anchorZoomStart:function(B){if(this.isPanZoomInProgress()){return}this.setPanZoomAnimatingState();this.beginPanZoomAnimation(B);this.suppressTooltips()},anchorZoom:function(B,C,D,E,F){if(this.mapIsBrowserRendered()){this.animateAnchorZoomMap(B,C,D,F)}else{this.animateAnchorZoomImage(B,C,E)}},anchorZoomEnd:function(B,C,D,E,F){this.setPanZoomWaitingOnServerState();if(this.mapIsBrowserRendered()){this.backgroundMap.updateLocalMapDataForZoomAround(C,D)}var G=ss.mkdel(this,function(){if(this.paneTableViewModel.get_visualModel().get_runtimeReady()){this.endPanZoomAnimation()}});var H=ss.mkdel(this,function(I){if(I==='failure'){this.reset()}if(ss.isValue(F)&&I==='success'){F.dispose()}this.clearPanZoomState()});tab.PanZoomCommands.zoomWithAnchorPoint(this.get_regionPart(),C,1/E,G,H,this.get_sheetid())}},{$1:function(){if(ss.isValue(x.$6)){return}var B='default';x.$6={};x.$6['zoomIn']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomin.png',true)+') 8 7, '+B));x.$6['zoomOut']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomout.png',true)+') 8 7, '+B));x.$6['panDrag']=(BrowserSupport.BrowserSupport.IsIE()?'move':('url('+tableau.util.assetUrl('cursors/pandrag.png',true)+') 9 9, '+B));x.$6['rectSelect']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdrag.png',true)+') 2 2, '+B));x.$6['lassoSelect']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodrag.png',true)+') 2 2, '+B));x.$6['radialSelect']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdrag.png',true)+') 2 2, '+B));x.$6['rectExtended']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdragextended.png',true)+') 2 2, '+B));x.$6['lassoExtended']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodragextended.png',true)+') 2 2, '+B));x.$6['radialExtended']=(BrowserSupport.BrowserSupport.IsIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdragextended.png',true)+') 2 2, '+B));x.$6['dragSelect']='crosshair';x.$6['select']='pointer';x.$6['defaultKey']='default'},$0:function(B){return B.shiftKey&&!spiff.EventUtil.isCtrlKey(B)}});var y=global.tab.TooltipLegacyMode=ss.mkType(a,'tab.TooltipLegacyMode',function(B,C){tab.TooltipBaseLegacyMode.call(this,B,C);this.get_tooltip().add_showed(ss.mkdel(this,this.showCommandAreaAndActions))},{onMoving:function(){this.get_tooltip().close()},onDragEnd$1:function(){this.get_tooltip().close()},buildBehaviorsDictionary:function(){var B=new q(this.get_tooltip());this.tooltipBehaviors['sticky']=B},dispose:function(){this.get_tooltip().remove_showed(ss.mkdel(this,this.showCommandAreaAndActions));tab.TooltipBaseLegacyMode.prototype.dispose.call(this)}});var z=global.tab.VizContextMenuComponent=ss.mkType(a,'tab.VizContextMenuComponent',function(B){this.$3=null;spiff.PureRenderComponent.call(this,B)},{render:function(){return(this.props.isHidden?null:this.$1())},componentWillMount:function(){this.$3=$('<div></div>').css({visibility:'hidden',position:'relative'})[0];this.$3.className='VizContextMenu-MenuAnchor';this.$2(this.props)},componentWillUpdate:function(B){this.$2(B)},componentWillUnmount:function(){if(this.props.vizOverlayDiv.contains(this.$3)){this.props.vizOverlayDiv.removeChild(this.$3)}},$2:function(B){if(!B.isHidden){B.vizOverlayDiv.appendChild(this.$3);this.$3.style.position='absolute';this.$3.style.top=100*B.location.y/B.vizOverlayDiv.clientHeight+'%';this.$3.style.left=100*B.location.x/B.vizOverlayDiv.clientWidth+'%'}else if(B.isHidden&&B.vizOverlayDiv.contains(this.$3)){B.vizOverlayDiv.removeChild(this.$3)}},$1:function(){var B={testId:'VizContextMenu',allowAutoPosition:true,anchorEl:this.$3,anchorOrigin:{vertical:'top',horizontal:'left'},menuItemInfos:this.props.menuOptions,requestCloseAll:ss.mkdel(this,this.$0),onSelect:this.props.handleItemClicked};return React.createElement(SharedWidgets.FlyoutListMenuWidget,B)},$0:function(){if(!ss.staticEquals(this.props.hide,null)){this.props.hide()}}});var A=global.tab.VizZoneWebFactory=ss.mkType(a,'tab.VizZoneWebFactory',function(){tab.VizZoneFactory.call(this)},{createPaneTableView:function(B){return new u(B)}});ss.initClass(c);ss.initClass(d);ss.initClass(e);ss.initClass(f);ss.initClass(g,spiff.PureRenderComponent);ss.initClass(v,spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(h,v,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initInterface(p,{update:null,currentZoomFactor:null,currentZoomLevel:null});ss.initClass(i,null,[p]);ss.initClass(k,null,[p]);ss.initClass(l,v,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(m);ss.initClass(n,tab.FloatingZoomToolbar,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(o,null,[ss.IDisposable]);ss.initClass(q,null,[tab.ITooltipBehavior,ss.IDisposable]);ss.initClass(r,tab.MapsSearchView,[tab.IWidget,ss.makeGenericType(tab.IView$1,[tab.MapsSearchViewModel]),ss.IDisposable,tab.IAppendableView,spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(s,null,[ss.IDisposable]);ss.initClass(t,tab.PaneTableTemplate,[ss.IDisposable]);ss.initClass(u,tab.PaneTableView,[tab.IWidget,tab.IPaneTableView,ss.makeGenericType(tab.IView$1,[tab.IPaneTableViewModel]),ss.IDisposable,tab.IAppendableView,tab.IZoomToolbarContainer,EventUtils.IMouseCaptureEventHandler]);ss.initClass(w,v,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(x,tab.TiledViewerRegion);ss.initClass(y,tab.TooltipBaseLegacyMode);ss.initClass(z,spiff.PureRenderComponent);ss.initClass(A,tab.VizZoneFactory,[tab.IVizZoneModule]);ss.setMetadata(u,{members:[{attr:[new tab.CanBeNullAttribute],name:'DeferredAxisResizerManager',type:16,returnType:Object,getter:{name:'get_DeferredAxisResizerManager',type:8,params:[],returnType:Object,fget:'deferredAxisResizerManager'},setter:{name:'set_DeferredAxisResizerManager',type:8,params:[Object],returnType:Object,fset:'deferredAxisResizerManager'},fname:'deferredAxisResizerManager'},{attr:[new tab.CanBeNullAttribute],name:'DeferredCellResizerManager',type:16,returnType:Object,getter:{name:'get_DeferredCellResizerManager',type:8,params:[],returnType:Object,fget:'deferredCellResizerManager'},setter:{name:'set_DeferredCellResizerManager',type:8,params:[Object],returnType:Object,fset:'deferredCellResizerManager'},fname:'deferredCellResizerManager'},{attr:[new tab.CanBeNullAttribute],name:'DeferredHeaderResizerManager',type:16,returnType:Object,getter:{name:'get_DeferredHeaderResizerManager',type:8,params:[],returnType:Object,fget:'deferredHeaderResizerManager'},setter:{name:'set_DeferredHeaderResizerManager',type:8,params:[Object],returnType:Object,fset:'deferredHeaderResizerManager'},fname:'deferredHeaderResizerManager'}]});(function(){g.chevronClass='tabAuthoringAnnotationChevron';g.chevronIconClass='tabAuthoringAnnotationChevronIcon'})();(function(){v.$1=[]})();(function(){h.axisContextMenuElementClassName='tab-tiledViewerAxisContextMenu'})();(function(){i.$0=2;i.maxValidMapZoomLevel=30})();(function(){l.$1=17;l.$2=10;l.$0=20})();(function(){tab.ObjectRegistry.registerType(tab.FloatingZoomToolbar,n).call(null)})();(function(){q.$2='.LegacyTooltipBehavior';q.$3=500;q.$4=250;q.$5=10000;q.$6=1200;q.$7=0;tab.ObjectRegistry.registerType(tab.ITooltipBehavior,q).call(null)})();(function(){tab.ObjectRegistry.registerType(tab.MapsSearchView,r).call(null)})();(function(){t.htmlTemplate="<div class='tab-tiledViewer placeholder' data-tb-test-id='"+'VisualizationContainer'+"'>"+"<div class='tab-clip'>"+"<h2 class='tab-tvTitle tvimagesNS'></h2>"+"<div class='tab-tvTLSpacer tvimagesNS'><img/></div>"+"<div class='tab-tvTRSpacer tvimagesNS'><img/></div>"+"<div class='tab-tvBLSpacer tvimagesNS'><img/></div>"+"<div class='tab-tvBRSpacer tvimagesNS'><img/></div>"+"<div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div>"+"<div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div>"+"<div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div>"+"<div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div>"+"<div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div>"+"<div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div>"+"<div class='tab-tvView tvimagesNS'>"+"<div class='tvScrollContainer' data-tb-test-id='VisualizationScrollContainer'>"+"<div class='tvBackgroundContainer'></div>"+"<div class='tvimagesContainer'></div>"+'</div>'+"<div class='tvViewportBorders'></div>"+'</div>'+"<div class='tab-tvYLabelInteraction'></div>"+"<div class='tab-tvLeftAxisInteraction'></div>"+"<div class='tab-tvRightAxisInteraction'></div>"+"<div class='tab-tvXLabelInteraction'></div>"+"<div class='tab-tvBottomAxisInteraction'></div>"+"<div class='tab-tvTopAxisInteraction'></div>"+"<div class='tab-tvCaption tvimagesNS'></div>"+"<div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div>"+"<div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div>"+'</div>'+'</div>'})();(function(){z.$1='VizContextMenu';z.$0='VizContextMenu'+'-MenuAnchor'})();(function(){x.isDragTrackingInAnyRegion=false;x.$3=15;x.$4=15;x.$5=200;x.$6=null})();(function(){tab.ObjectRegistry.registerType(tab.TooltipBaseLegacyMode,y).call(null)})();(function(){w.sortingElementClassName='tab-tiledViewerSort';w.sortIndicatorButtonClassName='tab-tvSortIndicator';w.sortMenuDropDownButtonClassName='sortDropdownSolid';w.$0='sortInd'})();(function(){u.$6=500;u.$5=10})()})();